/*esmap-3.0.min.js 1/24/2025, 2:24:15 PM*/
/*esmapcore 3.0 2025-1-24 14:24:14*/
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[1],[function(t,n,r){"use strict";n.__esModule=!0,n.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(124),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),(0,i.default)(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}()},function(t,n,r){t.exports={default:r(181),__esModule:!0}},function(t,n){var r=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},,,function(t,n,r){"use strict";n.__esModule=!0;var e=u(r(211)),o=u(r(115)),i="function"==typeof o.default&&"symbol"==typeof e.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}n.default="function"==typeof o.default&&"symbol"===i(e.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},function(t,n,r){t.exports=r(224)},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(9),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){return function(){var n=t.apply(this,arguments);return new i.default((function(t,r){return function e(o,u){try{var s=n[o](u),f=s.value}catch(t){return void r(t)}if(!s.done)return i.default.resolve(f).then((function(t){e("next",t)}),(function(t){e("throw",t)}));t(f)}("next")}))}}},function(t,n,r){t.exports={default:r(226),__esModule:!0}},,,,function(t,n,r){var e=r(16),o=r(3),i=r(28),u=r(30),s=r(29),f="prototype",c=function(t,n,r){var a,l,h,p=t&c.F,v=t&c.G,d=t&c.S,y=t&c.P,g=t&c.B,m=t&c.W,b=v?o:o[n]||(o[n]={}),_=b[f],w=v?e:d?e[n]:(e[n]||{})[f];for(a in v&&(r=n),r)(l=!p&&w&&void 0!==w[a])&&s(b,a)||(h=l?w[a]:r[a],b[a]=v&&"function"!=typeof w[a]?r[a]:g&&l?i(h,e):m&&w[a]==h?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n[f]=t[f],n}(h):y&&"function"==typeof h?i(Function.call,h):h,y&&((b.virtual||(b.virtual={}))[a]=h,t&c.R&&_&&!_[a]&&u(_,a,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n,r){t.exports={default:r(183),__esModule:!0}},,function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(88)("wks"),o=r(67),i=r(16).Symbol,u="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=e},,function(t,n,r){t.exports=!r(36)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,r){t.exports={default:r(198),__esModule:!0}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(38),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return(0,i.default)(t)}},,function(t,n,r){var e=r(25),o=r(116),i=r(86),u=Object.defineProperty;n.f=r(20)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(17);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},,,function(t,n,r){var e=r(52);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(24),o=r(53);t.exports=r(20)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(91),o=r(92);t.exports=function(t){return e(o(t))}},,function(t,n,r){t.exports={default:r(216),__esModule:!0}},,,function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(92);t.exports=function(t){return Object(e(t))}},function(t,n,r){t.exports={default:r(173),__esModule:!0}},function(t,n,r){"use strict";var e=r(174)(!0);r(98)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})}))},function(t,n,r){r(190);for(var e=r(16),o=r(30),i=r(46),u=r(18)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),f=0;f<s.length;f++){var c=s[f],a=e[c],l=a&&a.prototype;l&&!l[u]&&o(l,u,c),i[c]=i.Array}},function(t,n,r){"use strict";(function(t){var e=n;function o(t,n,r){for(var e=Object.keys(n),o=0;o<e.length;++o)void 0!==t[e[o]]&&r||(t[e[o]]=n[e[o]]);return t}function i(t){function n(t,r){if(!(this instanceof n))return new n(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}e.asPromise=r(236),e.base64=r(237),e.EventEmitter=r(238),e.float=r(239),e.inquire=r(240),e.utf8=r(241),e.pool=r(242),e.LongBits=r(243),e.global="undefined"!=typeof window&&window||void 0!==t&&t||"undefined"!=typeof self&&self||this,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isNode=Boolean(e.global.process&&e.global.process.versions&&e.global.process.versions.node),e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.isString=function(t){return"string"==typeof t||t instanceof String},e.isObject=function(t){return t&&"object"==typeof t},e.isset=e.isSet=function(t,n){var r=t[n];return!(null==r||!t.hasOwnProperty(n))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},e.Buffer=function(){try{var t=e.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(t){return"number"==typeof t?e.Buffer?e._Buffer_allocUnsafe(t):new e.Array(t):e.Buffer?e._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},e.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(t){return t?e.LongBits.from(t).toHash():e.LongBits.zeroHash},e.longFromHash=function(t,n){var r=e.LongBits.fromHash(t);return e.Long?e.Long.fromBits(r.lo,r.hi,n):r.toNumber(Boolean(n))},e.merge=o,e.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(t){for(var n={},r=0;r<t.length;++r)n[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;r>-1;--r)if(1===n[t[r]]&&void 0!==this[t[r]]&&null!==this[t[r]])return t[r]}},e.oneOfSetter=function(t){return function(n){for(var r=0;r<t.length;++r)t[r]!==n&&delete this[t[r]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var t=e.Buffer;t?(e._Buffer_from=t.from!==Uint8Array.from&&t.from||function(n,r){return new t(n,r)},e._Buffer_allocUnsafe=t.allocUnsafe||function(n){return new t(n)}):e._Buffer_from=e._Buffer_allocUnsafe=null}}).call(this,r(107))},,,function(t,n,r){var e=r(67)("meta"),o=r(17),i=r(29),u=r(24).f,s=0,f=Object.isExtensible||function(){return!0},c=!r(36)((function(){return f(Object.preventExtensions({}))})),a=function(t){u(t,e,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,e)){if(!f(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!i(t,e)){if(!f(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return c&&l.NEED&&f(t)&&!i(t,e)&&a(t),t}}},function(t,n,r){var e=r(117),o=r(95);t.exports=Object.keys||function(t){return e(t,o)}},function(t,n){t.exports={}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(124),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t,n,r){return n in t?(0,i.default)(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}},,function(t,n,r){var e=r(28),o=r(126),i=r(127),u=r(25),s=r(68),f=r(99),c={},a={};(n=t.exports=function(t,n,r,l,h){var p,v,d,y,g=h?function(){return t}:f(t),m=e(r,l,n?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(p=s(t.length);p>b;b++)if((y=n?m(u(v=t[b])[0],v[1]):m(t[b]))===c||y===a)return y}else for(d=g.call(t);!(v=d.next()).done;)if((y=o(d,m,v.value,n))===c||y===a)return y}).BREAK=c,n.RETURN=a},function(t,n,r){var e=r(17);t.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},,function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){t.exports=!0},function(t,n,r){var e=r(24).f,o=r(29),i=r(18)("toStringTag");t.exports=function(t,n,r){t&&!o(t=r?t:t.prototype,i)&&e(t,i,{configurable:!0,value:n})}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n){},function(t,n,r){var e=r(13),o=r(3),i=r(36);t.exports=function(t,n){var r=(o.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*i((function(){r(1)})),"Object",u)}},function(t,n,r){t.exports={default:r(200),__esModule:!0}},function(t,n,r){t.exports={default:r(202),__esModule:!0}},,,,,,function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(93),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){var e=r(25),o=r(120),i=r(95),u=r(94)("IE_PROTO"),s=function(){},f="prototype",c=function(){var t,n=r(85)("iframe"),e=i.length;for(n.style.display="none",r(121).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;e--;)delete c[f][i[e]];return c()};t.exports=Object.create||function(t,n){var r;return null!==t?(s[f]=e(t),r=new s,s[f]=null,r[u]=t):r=c(),void 0===n?r:o(r,n)}},function(t,n,r){var e=r(56),o=r(18)("toStringTag"),i="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?r:i?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,r){t.exports={default:r(188),__esModule:!0}},function(t,n,r){t.exports={default:r(189),__esModule:!0}},function(t,n,r){var e=r(30);t.exports=function(t,n,r){for(var o in n)r&&t[o]?t[o]=n[o]:e(t,o,n[o]);return t}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){"use strict";t.exports=r(235)},,,,,,,,,,function(t,n,r){var e=r(17),o=r(16).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,r){var e=r(17);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){t.exports=r(30)},function(t,n,r){var e=r(3),o=r(16),i="__core-js_shared__",u=o[i]||(o[i]={});(t.exports=function(t,n){return u[t]||(u[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(54)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,n,r){n.f=r(18)},function(t,n,r){var e=r(16),o=r(3),i=r(54),u=r(89),s=r(24).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||s(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(88)("keys"),o=r(67);t.exports=function(t){return e[t]||(e[t]=o(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(57),o=r(53),i=r(31),u=r(86),s=r(29),f=r(116),c=Object.getOwnPropertyDescriptor;n.f=r(20)?c:function(t,n){if(t=i(t),n=u(n,!0),f)try{return c(t,n)}catch(t){}if(s(t,n))return o(!e.f.call(t,n),t[n])}},function(t,n,r){"use strict";var e=r(54),o=r(13),i=r(87),u=r(30),s=r(46),f=r(175),c=r(55),a=r(125),l=r(18)("iterator"),h=!([].keys&&"next"in[].keys()),p="keys",v="values",d=function(){return this};t.exports=function(t,n,r,y,g,m,b){f(r,n,y);var _,w,x,S=function(t){if(!h&&t in j)return j[t];switch(t){case p:case v:return function(){return new r(this,t)}}return function(){return new r(this,t)}},O=n+" Iterator",E=g==v,M=!1,j=t.prototype,L=j[l]||j["@@iterator"]||g&&j[g],P=L||S(g),k=g?E?S("entries"):P:void 0,A="Array"==n&&j.entries||L;if(A&&(x=a(A.call(new t)))!==Object.prototype&&x.next&&(c(x,O,!0),e||"function"==typeof x[l]||u(x,l,d)),E&&L&&L.name!==v&&(M=!0,P=function(){return L.call(this)}),e&&!b||!h&&!M&&j[l]||u(j,l,P),s[n]=P,s[O]=d,g)if(_={values:E?P:S(v),keys:m?P:S(p),entries:k},b)for(w in _)w in j||i(j,w,_[w]);else o(o.P+o.F*(h||M),n,_);return _}},function(t,n,r){var e=r(70),o=r(18)("iterator"),i=r(46);t.exports=r(3).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[e(t)]}},function(t,n,r){var e=r(28),o=r(91),i=r(37),u=r(68),s=r(193);t.exports=function(t,n){var r=1==t,f=2==t,c=3==t,a=4==t,l=6==t,h=5==t||l,p=n||s;return function(n,s,v){for(var d,y,g=i(n),m=o(g),b=e(s,v,3),_=u(m.length),w=0,x=r?p(n,_):f?p(n,0):void 0;_>w;w++)if((h||w in m)&&(y=b(d=m[w],w,g),t))if(r)x[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:x.push(d)}else if(a)return!1;return l?-1:c||a?a:x}}},function(t,n,r){"use strict";var e=r(16),o=r(13),i=r(44),u=r(36),s=r(30),f=r(73),c=r(49),a=r(74),l=r(17),h=r(55),p=r(24).f,v=r(100)(0),d=r(20);t.exports=function(t,n,r,y,g,m){var b=e[t],_=b,w=g?"set":"add",x=_&&_.prototype,S={};return d&&"function"==typeof _&&(m||x.forEach&&!u((function(){(new _).entries().next()})))?(_=n((function(n,r){a(n,_,t,"_c"),n._c=new b,null!=r&&c(r,g,n[w],n)})),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var n="add"==t||"set"==t;!(t in x)||m&&"clear"==t||s(_.prototype,t,(function(r,e){if(a(this,_,t),!n&&m&&!l(r))return"get"==t&&void 0;var o=this._c[t](0===r?0:r,e);return n?this:o}))})),m||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=y.getConstructor(n,t,g,w),f(_.prototype,r),i.NEED=!0),h(_,t),S[t]=_,o(o.G+o.W+o.F,S),m||y.setStrong(_,t,g),_}},function(t,n,r){"use strict";var e=r(13);t.exports=function(t){e(e.S,t,{of:function(){for(var t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return new this(n)}})}},function(t,n,r){"use strict";var e=r(13),o=r(52),i=r(28),u=r(49);t.exports=function(t){e(e.S,t,{from:function(t){var n,r,e,s,f=arguments[1];return o(this),(n=void 0!==f)&&o(f),null==t?new this:(r=[],n?(e=0,s=i(f,arguments[2],2),u(t,!1,(function(t){r.push(s(t,e++))}))):u(t,!1,r.push,r),new this(r))}})}},function(t,n,r){t.exports={default:r(209),__esModule:!0}},function(t,n,r){"use strict";var e=r(52);function o(t){var n,r;this.promise=new t((function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e})),this.resolve=e(n),this.reject=e(r)}t.exports.f=function(t){return new o(t)}},function(t,n,r){"use strict";r.r(n),r.d(n,"WGS84",(function(){return e})),r.d(n,"WGS1984",(function(){return o})),r.d(n,"EPSG4326",(function(){return i})),r.d(n,"GCJ02",(function(){return u})),r.d(n,"AMap",(function(){return s})),r.d(n,"BD09",(function(){return f})),r.d(n,"BD09LL",(function(){return c})),r.d(n,"Baidu",(function(){return a})),r.d(n,"BMap",(function(){return l})),r.d(n,"BD09MC",(function(){return h})),r.d(n,"BD09Meter",(function(){return p})),r.d(n,"EPSG3857",(function(){return v})),r.d(n,"EPSG900913",(function(){return d})),r.d(n,"EPSG102100",(function(){return y})),r.d(n,"WebMercator",(function(){return g})),r.d(n,"WM",(function(){return m})),r.d(n,"transform",(function(){return ft}));var e="WGS84",o=e,i=e,u="GCJ02",s=u,f="BD09",c=f,a=f,l=f,h="BD09MC",p=h,v="EPSG3857",d=v,y=v,g=v,m=v;function b(t){throw new Error(t)}function _(t){return!isNaN(t)&&null!==t&&!w(t)}function w(t){return!!t&&"[object Array]"===Object.prototype.toString.call(t)}function x(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length-1;return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var o=r,i=t[r].apply(null,n);o--;)i=t[o].call(null,i);return i}}function S(t,n,r){if(void 0===r&&(r=!1),null!==t)for(var e,o,i,u,s,f,c,a,l=0,h=0,p=t.type,v="FeatureCollection"===p,d="Feature"===p,y=v?t.features.length:1,g=0;g<y;g++){s=(a=!!(c=v?t.features[g].geometry:d?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<s;m++){var _=0,w=0;if(null!==(u=a?c.geometries[m]:c)){var x=u.type;switch(l=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===n(f=u.coordinates,h,g,_,w))return!1;h++,_++;break;case"LineString":case"MultiPoint":for(f=u.coordinates,e=0;e<f.length;e++){if(!1===n(f[e],h,g,_,w))return!1;h++,"MultiPoint"===x&&_++}"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(f=u.coordinates,e=0;e<f.length;e++){for(o=0;o<f[e].length-l;o++){if(!1===n(f[e][o],h,g,_,w))return!1;h++}"MultiLineString"===x&&_++,"Polygon"===x&&w++}"Polygon"===x&&_++;break;case"MultiPolygon":for(f=u.coordinates,e=0;e<f.length;e++){for(w=0,o=0;o<f[e].length;o++){for(i=0;i<f[e][o].length-l;i++){if(!1===n(f[e][o][i],h,g,_,w))return!1;h++}w++}_++}break;case"GeometryCollection":for(e=0;e<u.geometries.length;e++)if(!1===S(u.geometries[e],n,r))return!1;break;default:b("Unknown Geometry Type")}}}}}var O=Math.sin,E=Math.cos,M=Math.sqrt,j=Math.abs,L=Math.PI,P=6378245,k=.006693421622965823;function A(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];for(var e=[n,r],o=e[0],i=e[1],u=N([o,i]),s=u[0]-n,f=u[1]-r;j(s)>1e-6||j(f)>1e-6;)s=(u=N([o-=s,i-=f]))[0]-n,f=u[1]-r;return[o,i]}function N(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];var e=function(t,n){var r=(s=t-105,f=n-35,c=300+s+2*f+.1*s*s+.1*s*f+.1*M(j(s)),c+=2*(20*O(6*s*L)+20*O(2*s*L))/3,c+=2*(20*O(s*L)+40*O(s/3*L))/3,c+=2*(150*O(s/12*L)+300*O(s/30*L))/3),e=function(t,n){var r=2*t-100+3*n+.2*n*n+.1*t*n+.2*M(j(t));return r+=2*(20*O(6*t*L)+20*O(2*t*L))/3,r+=2*(20*O(n*L)+40*O(n/3*L))/3,r+=2*(160*O(n/12*L)+320*O(n*L/30))/3,r}(t-105,n-35),o=n/180*L,i=O(o),u=M(i=1-k*i*i);var s,f,c;return[r=180*r/(P/u*E(o)*L),e=180*e/(P*(1-k)/(i*u)*L)]}(n,r);return[n+e[0],r+e[1]]}function B(t,n){return t>=72.004&&t<=137.8347&&n>=.8293&&n<=55.8271}var C=Math.sin,F=Math.cos,T=Math.atan2,D=Math.sqrt,G=3e3*Math.PI/180;function R(t){var n=t[0]-.0065,r=t[1]-.006,e=D(n*n+r*r)-2e-5*C(r*G),o=T(r,n)-3e-6*F(n*G);return[e*F(o),e*C(o)]}function I(t){var n=t[0],r=t[1],e=D(n*n+r*r)+2e-5*C(r*G),o=T(r,n)+3e-6*F(n*G);return[e*F(o)+.0065,e*C(o)+.006]}var W=180/Math.PI,z=Math.PI/180,U=6378137,J=20037508.342789244;function q(t){return[t[0]*W/U,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/U)))*W]}function H(t){var n=Math.abs(t[0])<=180?t[0]:t[0]-360*(t[0]<0?-1:1),r=[U*n*z,U*Math.log(Math.tan(.25*Math.PI+.5*t[1]*z))];return r[0]>J&&(r[0]=J),r[0]<-J&&(r[0]=-J),r[1]>J&&(r[1]=J),r[1]<-J&&(r[1]=-J),r}var V=Math.abs,Y=Math.pow,K=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],$=[75,60,45,30,15,0],Z=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],X=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function Q(t,n,r){var e=V(n)/r[9],o=r[0]+r[1]*V(t),i=r[2]+r[3]*e+r[4]*Y(e,2)+r[5]*Y(e,3)+r[6]*Y(e,4)+r[7]*Y(e,5)+r[8]*Y(e,6);return[o*=t<0?-1:1,i*=n<0?-1:1]}function tt(t){for(var n=t[0],r=t[1],e=[],o=0;o<$.length;o++)if(V(r)>$[o]){e=X[o];break}return Q(n,r,e)}function nt(t){for(var n=t[0],r=t[1],e=[],o=0;o<K.length;o++)if(r>=K[o]){e=Z[o];break}return Q(n,r,e)}var rt={to:{GCJ02:N,BD09:x(I,N),BD09MC:x(tt,I,N),EPSG3857:H}},et={to:{WGS84:A,BD09:I,BD09MC:x(tt,I),EPSG3857:x(H,A)}},ot={to:{WGS84:x(A,R),GCJ02:R,EPSG3857:x(H,A,R),BD09MC:tt}},it={to:{WGS84:q,GCJ02:x(N,q),BD09:x(I,N,q),BD09MC:x(tt,I,N,q)}},ut={to:{WGS84:x(A,R,nt),GCJ02:x(R,nt),EPSG3857:x(H,A,R,nt),BD09:nt}},st=Object.freeze({WGS84:rt,GCJ02:et,BD09:ot,EPSG3857:it,BD09MC:ut});function ft(t,n,r){t||b("coordinate is required"),n||b("original coordinate system is required"),r||b("target coordinate system is required");var e=st[n];if(e||b("original coordinate system is invalid"),n===r)return t;var o=e.to[r];o||b("target coordinate system is invalid");var i=typeof t;if("string"!==i&&"object"!==i&&b("coordinate must be an geojson or an array of position"),"string"===i)try{t=JSON.parse(t)}catch(t){b("input is not a legal JSON string")}var u=!1;w(t)&&(t.length<2&&b("position must be at 2 numbers long"),_(t[0])&&_(t[1])||b("position must contain numbers"),t=t.map(Number),u=!0);var s=null,f=o;return u?s=f(t):(S(t,(function(t){var n;n=f(t),t[0]=n[0],t[1]=n[1]})),s=t),s}var ct={WGS84:e,WGS1984:o,EPSG4326:i,GCJ02:u,AMap:s,BD09:f,BD09LL:c,Baidu:a,BMap:l,BD09MC:h,BD09Meter:p,EPSG3857:v,EPSG900913:d,EPSG102100:y,WebMercator:g,WM:m,transform:ft};n.default=ct},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,,,,,,function(t,n,r){t.exports={default:r(160),__esModule:!0}},function(t,n,r){t.exports=!r(20)&&!r(36)((function(){return 7!=Object.defineProperty(r(85)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(29),o=r(31),i=r(163)(!1),u=r(94)("IE_PROTO");t.exports=function(t,n){var r,s=o(t),f=0,c=[];for(r in s)r!=u&&e(s,r)&&c.push(r);for(;n.length>f;)e(s,r=n[f++])&&(~i(c,r)||c.push(r));return c}},function(t,n,r){var e=r(93),o=Math.max,i=Math.min;t.exports=function(t,n){return(t=e(t))<0?o(t+n,0):i(t,n)}},function(t,n,r){var e=r(56);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(24),o=r(25),i=r(45);t.exports=r(20)?Object.defineProperties:function(t,n){o(t);for(var r,u=i(n),s=u.length,f=0;s>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(16).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(31),o=r(123).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return u.slice()}}(t):o(e(t))}},function(t,n,r){var e=r(117),o=r(95).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,n,r){t.exports={default:r(168),__esModule:!0}},function(t,n,r){var e=r(29),o=r(37),i=r(94)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),e(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(25);t.exports=function(t,n,r,o){try{return o?n(e(r)[0],r[1]):n(r)}catch(n){var i=t.return;throw void 0!==i&&e(i.call(t)),n}}},function(t,n,r){var e=r(46),o=r(18)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[o]===t)}},function(t,n,r){var e=r(18)("iterator"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:r=!0}},i[e]=function(){return u},t(i)}catch(t){}return r}},function(t,n,r){"use strict";var e=r(20),o=r(45),i=r(96),u=r(57),s=r(37),f=r(91),c=Object.assign;t.exports=!c||r(36)((function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach((function(t){n[t]=t})),7!=c({},t)[r]||Object.keys(c({},n)).join("")!=e}))?function(t,n){for(var r=s(t),c=arguments.length,a=1,l=i.f,h=u.f;c>a;)for(var p,v=f(arguments[a++]),d=l?o(v).concat(l(v)):o(v),y=d.length,g=0;y>g;)p=d[g++],e&&!h.call(v,p)||(r[p]=v[p]);return r}:c},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){"use strict";var e=r(24).f,o=r(69),i=r(73),u=r(28),s=r(74),f=r(49),c=r(98),a=r(130),l=r(132),h=r(20),p=r(44).fastKey,v=r(50),d=h?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,c){var a=t((function(t,e){s(t,a,n,"_i"),t._t=n,t._i=o(null),t._f=void 0,t._l=void 0,t[d]=0,null!=e&&f(e,r,t[c],t)}));return i(a.prototype,{clear:function(){for(var t=v(this,n),r=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var r=v(this,n),e=y(r,t);if(e){var o=e.n,i=e.p;delete r._i[e.i],e.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==e&&(r._f=o),r._l==e&&(r._l=i),r[d]--}return!!e},forEach:function(t){v(this,n);for(var r,e=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(e(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!y(v(this,n),t)}}),h&&e(a.prototype,"size",{get:function(){return v(this,n)[d]}}),a},def:function(t,n,r){var e,o,i=y(t,n);return i?i.v=r:(t._l=i={i:o=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=i),e&&(e.n=i),t[d]++,"F"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,n,r){c(t,n,(function(t,r){this._t=v(t,n),this._k=r,this._l=void 0}),(function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?a(0,"keys"==n?r.k:"values"==n?r.v:[r.k,r.v]):(t._t=void 0,a(1))}),r?"entries":"values",!r,!0),l(n)}}},function(t,n,r){"use strict";var e=r(16),o=r(3),i=r(24),u=r(20),s=r(18)("species");t.exports=function(t){var n="function"==typeof o[t]?o[t]:e[t];u&&n&&!n[s]&&i.f(n,s,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(70),o=r(219);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,n,r){var e=r(25),o=r(52),i=r(18)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||null==(r=e(u)[i])?n:o(r)}},function(t,n,r){var e,o,i,u=r(28),s=r(228),f=r(121),c=r(85),a=r(16),l=a.process,h=a.setImmediate,p=a.clearImmediate,v=a.MessageChannel,d=a.Dispatch,y=0,g={},m="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n()}},_=function(t){b.call(t.data)};h&&p||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),n)},e(y),y},p=function(t){delete g[t]},"process"==r(56)(l)?e=function(t){l.nextTick(u(b,t,1))}:d&&d.now?e=function(t){d.now(u(b,t,1))}:v?(i=(o=new v).port2,o.port1.onmessage=_,e=u(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(t){a.postMessage(t+"","*")},a.addEventListener("message",_,!1)):e=m in c("script")?function(t){f.appendChild(c("script"))[m]=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:p}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,r){var e=r(25),o=r(17),i=r(105);t.exports=function(t,n){if(e(t),o(n)&&n.constructor===t)return n;var r=i.f(t);return(0,r.resolve)(n),r.promise}},function(t,n,r){"use strict";t.exports=l;var e,o=r(41),i=o.LongBits,u=o.base64,s=o.utf8;function f(t,n,r){this.fn=t,this.len=n,this.next=void 0,this.val=r}function c(){}function a(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function l(){this.len=0,this.head=new f(c,0,0),this.tail=this.head,this.states=null}function h(t,n,r){n[r]=255&t}function p(t,n){this.len=t,this.next=void 0,this.val=n}function v(t,n,r){for(;t.hi;)n[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)n[r++]=127&t.lo|128,t.lo=t.lo>>>7;n[r++]=t.lo}function d(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}l.create=o.Buffer?function(){return(l.create=function(){return new e})()}:function(){return new l},l.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(l.alloc=o.pool(l.alloc,o.Array.prototype.subarray)),l.prototype._push=function(t,n,r){return this.tail=this.tail.next=new f(t,n,r),this.len+=n,this},p.prototype=Object.create(f.prototype),p.prototype.fn=function(t,n,r){for(;t>127;)n[r++]=127&t|128,t>>>=7;n[r]=t},l.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},l.prototype.int32=function(t){return t<0?this._push(v,10,i.fromNumber(t)):this.uint32(t)},l.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},l.prototype.uint64=function(t){var n=i.from(t);return this._push(v,n.length(),n)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(t){var n=i.from(t).zzEncode();return this._push(v,n.length(),n)},l.prototype.bool=function(t){return this._push(h,1,t?1:0)},l.prototype.fixed32=function(t){return this._push(d,4,t>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(t){var n=i.from(t);return this._push(d,4,n.lo)._push(d,4,n.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},l.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var y=o.Array.prototype.set?function(t,n,r){n.set(t,r)}:function(t,n,r){for(var e=0;e<t.length;++e)n[r+e]=t[e]};l.prototype.bytes=function(t){var n=t.length>>>0;if(!n)return this._push(h,1,0);if(o.isString(t)){var r=l.alloc(n=u.length(t));u.decode(t,r,0),t=r}return this.uint32(n)._push(y,n,t)},l.prototype.string=function(t){var n=s.length(t);return n?this.uint32(n)._push(s.write,n,t):this._push(h,1,0)},l.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new f(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var t=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=n,this.len+=r),this},l.prototype.finish=function(){for(var t=this.head.next,n=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,n,r),r+=t.len,t=t.next;return n},l._configure=function(t){e=t}},function(t,n,r){"use strict";t.exports=f;var e,o=r(41),i=o.LongBits,u=o.utf8;function s(t,n){return RangeError("index out of range: "+t.pos+" + "+(n||1)+" > "+t.len)}function f(t){this.buf=t,this.pos=0,this.len=t.length}var c,a="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new f(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new f(t);throw Error("illegal buffer")};function l(){var t=new i(0,0),n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function h(t,n){return(t[n-4]|t[n-3]<<8|t[n-2]<<16|t[n-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}f.create=o.Buffer?function(t){return(f.create=function(t){return o.Buffer.isBuffer(t)?new e(t):a(t)})(t)}:a,f.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,f.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),f.prototype.int32=function(){return 0|this.uint32()},f.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},f.prototype.bool=function(){return 0!==this.uint32()},f.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},f.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},f.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},f.prototype.bytes=function(){var t=this.uint32(),n=this.pos,r=this.pos+t;if(r>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(n,r):n===r?new this.buf.constructor(0):this._slice.call(this.buf,n,r)},f.prototype.string=function(){var t=this.bytes();return u.read(t,0,t.length)},f.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},f.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},f._configure=function(t){e=t;var n=o.Long?"toLong":"toNumber";o.merge(f.prototype,{int64:function(){return l.call(this)[n](!1)},uint64:function(){return l.call(this)[n](!0)},sint64:function(){return l.call(this).zzDecode()[n](!1)},fixed64:function(){return p.call(this)[n](!0)},sfixed64:function(){return p.call(this)[n](!1)}})}},,,,,,,,,,,,,,,,,,,,,function(t,n,r){r(161),r(58),r(164),r(165),t.exports=r(3).Symbol},function(t,n,r){"use strict";var e=r(16),o=r(29),i=r(20),u=r(13),s=r(87),f=r(44).KEY,c=r(36),a=r(88),l=r(55),h=r(67),p=r(18),v=r(89),d=r(90),y=r(162),g=r(119),m=r(25),b=r(17),_=r(37),w=r(31),x=r(86),S=r(53),O=r(69),E=r(122),M=r(97),j=r(96),L=r(24),P=r(45),k=M.f,A=L.f,N=E.f,B=e.Symbol,C=e.JSON,F=C&&C.stringify,T="prototype",D=p("_hidden"),G=p("toPrimitive"),R={}.propertyIsEnumerable,I=a("symbol-registry"),W=a("symbols"),z=a("op-symbols"),U=Object[T],J="function"==typeof B&&!!j.f,q=e.QObject,H=!q||!q[T]||!q[T].findChild,V=i&&c((function(){return 7!=O(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(t,n,r){var e=k(U,n);e&&delete U[n],A(t,n,r),e&&t!==U&&A(U,n,e)}:A,Y=function(t){var n=W[t]=O(B[T]);return n._k=t,n},K=J&&"symbol"==typeof B.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof B},$=function(t,n,r){return t===U&&$(z,n,r),m(t),n=x(n,!0),m(r),o(W,n)?(r.enumerable?(o(t,D)&&t[D][n]&&(t[D][n]=!1),r=O(r,{enumerable:S(0,!1)})):(o(t,D)||A(t,D,S(1,{})),t[D][n]=!0),V(t,n,r)):A(t,n,r)},Z=function(t,n){m(t);for(var r,e=y(n=w(n)),o=0,i=e.length;i>o;)$(t,r=e[o++],n[r]);return t},X=function(t){var n=R.call(this,t=x(t,!0));return!(this===U&&o(W,t)&&!o(z,t))&&(!(n||!o(this,t)||!o(W,t)||o(this,D)&&this[D][t])||n)},Q=function(t,n){if(t=w(t),n=x(n,!0),t!==U||!o(W,n)||o(z,n)){var r=k(t,n);return!r||!o(W,n)||o(t,D)&&t[D][n]||(r.enumerable=!0),r}},tt=function(t){for(var n,r=N(w(t)),e=[],i=0;r.length>i;)o(W,n=r[i++])||n==D||n==f||e.push(n);return e},nt=function(t){for(var n,r=t===U,e=N(r?z:w(t)),i=[],u=0;e.length>u;)!o(W,n=e[u++])||r&&!o(U,n)||i.push(W[n]);return i};J||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===U&&n.call(z,r),o(this,D)&&o(this[D],t)&&(this[D][t]=!1),V(this,t,S(1,r))};return i&&H&&V(U,t,{configurable:!0,set:n}),Y(t)},s(B[T],"toString",(function(){return this._k})),M.f=Q,L.f=$,r(123).f=E.f=tt,r(57).f=X,j.f=nt,i&&!r(54)&&s(U,"propertyIsEnumerable",X,!0),v.f=function(t){return Y(p(t))}),u(u.G+u.W+u.F*!J,{Symbol:B});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;rt.length>et;)p(rt[et++]);for(var ot=P(p.store),it=0;ot.length>it;)d(ot[it++]);u(u.S+u.F*!J,"Symbol",{for:function(t){return o(I,t+="")?I[t]:I[t]=B(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var n in I)if(I[n]===t)return n},useSetter:function(){H=!0},useSimple:function(){H=!1}}),u(u.S+u.F*!J,"Object",{create:function(t,n){return void 0===n?O(t):Z(O(t),n)},defineProperty:$,defineProperties:Z,getOwnPropertyDescriptor:Q,getOwnPropertyNames:tt,getOwnPropertySymbols:nt});var ut=c((function(){j.f(1)}));u(u.S+u.F*ut,"Object",{getOwnPropertySymbols:function(t){return j.f(_(t))}}),C&&u(u.S+u.F*(!J||c((function(){var t=B();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}))),"JSON",{stringify:function(t){for(var n,r,e=[t],o=1;arguments.length>o;)e.push(arguments[o++]);if(r=n=e[1],(b(n)||void 0!==t)&&!K(t))return g(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!K(n))return n}),e[1]=n,F.apply(C,e)}}),B[T][G]||r(30)(B[T],G,B[T].valueOf),l(B,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){var e=r(45),o=r(96),i=r(57);t.exports=function(t){var n=e(t),r=o.f;if(r)for(var u,s=r(t),f=i.f,c=0;s.length>c;)f.call(t,u=s[c++])&&n.push(u);return n}},function(t,n,r){var e=r(31),o=r(68),i=r(118);t.exports=function(t){return function(n,r,u){var s,f=e(n),c=o(f.length),a=i(u,c);if(t&&r!=r){for(;c>a;)if((s=f[a++])!=s)return!0}else for(;c>a;a++)if((t||a in f)&&f[a]===r)return t||a||0;return!t&&-1}}},function(t,n,r){r(90)("asyncIterator")},function(t,n,r){r(90)("observable")},,,function(t,n,r){r(169);var e=r(3).Object;t.exports=function(t,n,r){return e.defineProperty(t,n,r)}},function(t,n,r){var e=r(13);e(e.S+e.F*!r(20),"Object",{defineProperty:r(24).f})},function(t,n,r){function e(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.i=function(t){return t},r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/",r.oe=function(t){throw t};var e=r(r.s=ENTRY_MODULE);return e.default||e}var o="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+o+").*?\\)";function u(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t,n,e){var s={};s[e]=[];var f=n.toString(),c=f.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var a,l=c[1],h=new RegExp("(\\\\n|\\W)"+u(l)+i,"g");a=h.exec(f);)"dll-reference"!==a[3]&&s[e].push(a[3]);for(h=new RegExp("\\("+u(l)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+i,"g");a=h.exec(f);)t[a[2]]||(s[e].push(a[1]),t[a[2]]=r(a[1]).m),s[a[2]]=s[a[2]]||[],s[a[2]].push(a[4]);for(var p,v=Object.keys(s),d=0;d<v.length;d++)for(var y=0;y<s[v[d]].length;y++)p=s[v[d]][y],isNaN(1*p)||(s[v[d]][y]=1*s[v[d]][y]);return s}function f(t){return Object.keys(t).reduce((function(n,r){return n||t[r].length>0}),!1)}t.exports=function(t,n){n=n||{};var o={main:r.m},i=n.all?{main:Object.keys(o.main)}:function(t,n){for(var r={main:[n]},e={main:[]},o={main:{}};f(r);)for(var i=Object.keys(r),u=0;u<i.length;u++){var c=i[u],a=r[c].pop();if(o[c]=o[c]||{},!o[c][a]&&t[c][a]){o[c][a]=!0,e[c]=e[c]||[],e[c].push(a);for(var l=s(t,t[c][a],c),h=Object.keys(l),p=0;p<h.length;p++)r[h[p]]=r[h[p]]||[],r[h[p]]=r[h[p]].concat(l[h[p]])}}return e}(o,t),u="";Object.keys(i).filter((function(t){return"main"!==t})).forEach((function(t){for(var n=0;i[t][n];)n++;i[t].push(n),o[t][n]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+e.toString().replace("ENTRY_MODULE",JSON.stringify(n))+")({"+i[t].map((function(n){return JSON.stringify(n)+": "+o[t][n].toString()})).join(",")+"});\n"})),u=u+"new (("+e.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i.main.map((function(t){return JSON.stringify(t)+": "+o.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([u],{type:"text/javascript"});if(n.bare)return c;var a=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),l=new window.Worker(a);return l.objectURL=a,l}},,,function(t,n,r){r(39),r(176),t.exports=r(3).Array.from},function(t,n,r){var e=r(93),o=r(92);t.exports=function(t){return function(n,r){var i,u,s=String(o(n)),f=e(r),c=s.length;return f<0||f>=c?t?"":void 0:(i=s.charCodeAt(f))<55296||i>56319||f+1===c||(u=s.charCodeAt(f+1))<56320||u>57343?t?s.charAt(f):i:t?s.slice(f,f+2):u-56320+(i-55296<<10)+65536}}},function(t,n,r){"use strict";var e=r(69),o=r(53),i=r(55),u={};r(30)(u,r(18)("iterator"),(function(){return this})),t.exports=function(t,n,r){t.prototype=e(u,{next:o(1,r)}),i(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(28),o=r(13),i=r(37),u=r(126),s=r(127),f=r(68),c=r(177),a=r(99);o(o.S+o.F*!r(128)((function(t){Array.from(t)})),"Array",{from:function(t){var n,r,o,l,h=i(t),p="function"==typeof this?this:Array,v=arguments.length,d=v>1?arguments[1]:void 0,y=void 0!==d,g=0,m=a(h);if(y&&(d=e(d,v>2?arguments[2]:void 0,2)),null==m||p==Array&&s(m))for(r=new p(n=f(h.length));n>g;g++)c(r,g,y?d(h[g],g):h[g]);else for(l=m.call(h),r=new p;!(o=l.next()).done;g++)c(r,g,y?u(l,d,[o.value,g],!0):o.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(24),o=r(53);t.exports=function(t,n,r){n in t?e.f(t,n,o(0,r)):t[n]=r}},function(t,n,r){t.exports={default:r(179),__esModule:!0}},function(t,n,r){r(180);var e=r(3).Object;t.exports=function(t){return e.getOwnPropertyNames(t)}},function(t,n,r){r(59)("getOwnPropertyNames",(function(){return r(122).f}))},function(t,n,r){r(182),t.exports=r(3).Object.assign},function(t,n,r){var e=r(13);e(e.S+e.F,"Object",{assign:r(129)})},function(t,n,r){r(184),t.exports=r(3).Object.keys},function(t,n,r){var e=r(37),o=r(45);r(59)("keys",(function(){return function(t){return o(e(t))}}))},function(t,n,r){t.exports={default:r(186),__esModule:!0}},function(t,n,r){r(187),t.exports=r(3).Object.freeze},function(t,n,r){var e=r(17),o=r(44).onFreeze;r(59)("freeze",(function(t){return function(n){return t&&e(n)?t(o(n)):n}}))},function(t,n,r){var e=r(3),o=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,n,r){r(58),r(40),r(192),r(196),r(197),t.exports=r(3).WeakMap},function(t,n,r){"use strict";var e=r(191),o=r(130),i=r(46),u=r(31);t.exports=r(98)(Array,"Array",(function(t,n){this._t=u(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])}),"values"),i.Arguments=i.Array,e("keys"),e("values"),e("entries")},function(t,n){t.exports=function(){}},function(t,n,r){"use strict";var e,o=r(16),i=r(100)(0),u=r(87),s=r(44),f=r(129),c=r(195),a=r(17),l=r(50),h=r(50),p=!o.ActiveXObject&&"ActiveXObject"in o,v="WeakMap",d=s.getWeak,y=Object.isExtensible,g=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(a(t)){var n=d(t);return!0===n?g(l(this,v)).get(t):n?n[this._i]:void 0}},set:function(t,n){return c.def(l(this,v),t,n)}},_=t.exports=r(101)(v,m,b,c,!0,!0);h&&p&&(f((e=c.getConstructor(m,v)).prototype,b),s.NEED=!0,i(["delete","has","get","set"],(function(t){var n=_.prototype,r=n[t];u(n,t,(function(n,o){if(a(n)&&!y(n)){this._f||(this._f=new e);var i=this._f[t](n,o);return"set"==t?this:i}return r.call(this,n,o)}))})))},function(t,n,r){var e=r(194);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(17),o=r(119),i=r(18)("species");t.exports=function(t){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)||(n=void 0),e(n)&&null===(n=n[i])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){"use strict";var e=r(73),o=r(44).getWeak,i=r(25),u=r(17),s=r(74),f=r(49),c=r(100),a=r(29),l=r(50),h=c(5),p=c(6),v=0,d=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,n){return h(t.a,(function(t){return t[0]===n}))};y.prototype={get:function(t){var n=g(this,t);if(n)return n[1]},has:function(t){return!!g(this,t)},set:function(t,n){var r=g(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=p(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,i){var c=t((function(t,e){s(t,c,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=e&&f(e,r,t[i],t)}));return e(c.prototype,{delete:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).delete(t):r&&a(r,this._i)&&delete r[this._i]},has:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).has(t):r&&a(r,this._i)}}),c},def:function(t,n,r){var e=o(i(n),!0);return!0===e?d(t).set(n,r):e[t._i]=r,t},ufstore:d}},function(t,n,r){r(102)("WeakMap")},function(t,n,r){r(103)("WeakMap")},function(t,n,r){r(199);var e=r(3).Object;t.exports=function(t,n){return e.create(t,n)}},function(t,n,r){var e=r(13);e(e.S,"Object",{create:r(69)})},function(t,n,r){r(201);var e=r(3).Object;t.exports=function(t,n){return e.defineProperties(t,n)}},function(t,n,r){var e=r(13);e(e.S+e.F*!r(20),"Object",{defineProperties:r(120)})},function(t,n,r){r(203),t.exports=r(3).Math.sign},function(t,n,r){var e=r(13);e(e.S,"Math",{sign:r(204)})},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){t.exports={default:r(206),__esModule:!0}},function(t,n,r){r(207),t.exports=r(3).Number.isInteger},function(t,n,r){var e=r(13);e(e.S,"Number",{isInteger:r(208)})},function(t,n,r){var e=r(17),o=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&o(t)===t}},function(t,n,r){r(210),t.exports=Math.pow(2,-52)},function(t,n,r){var e=r(13);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){t.exports={default:r(212),__esModule:!0}},function(t,n,r){r(39),r(40),t.exports=r(89).f("iterator")},function(t,n,r){t.exports={default:r(214),__esModule:!0}},function(t,n,r){r(215),t.exports=r(3).Math.log10},function(t,n,r){var e=r(13);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,r){r(58),r(39),r(40),r(217),r(218),r(220),r(221),t.exports=r(3).Set},function(t,n,r){"use strict";var e=r(131),o=r(50);t.exports=r(101)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return e.def(o(this,"Set"),t=0===t?0:t,t)}},e)},function(t,n,r){var e=r(13);e(e.P+e.R,"Set",{toJSON:r(133)("Set")})},function(t,n,r){var e=r(49);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){r(102)("Set")},function(t,n,r){r(103)("Set")},,,function(t,n,r){var e=function(){return this}()||Function("return this")(),o=e.regeneratorRuntime&&Object.getOwnPropertyNames(e).indexOf("regeneratorRuntime")>=0,i=o&&e.regeneratorRuntime;if(e.regeneratorRuntime=void 0,t.exports=r(225),o)e.regeneratorRuntime=i;else try{delete e.regeneratorRuntime}catch(t){e.regeneratorRuntime=void 0}},function(t,n){!function(n){"use strict";var r,e=Object.prototype,o=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag",c="object"==typeof t,a=n.regeneratorRuntime;if(a)c&&(t.exports=a);else{(a=n.regeneratorRuntime=c?t.exports:{}).wrap=_;var l="suspendedStart",h="suspendedYield",p="executing",v="completed",d={},y={};y[u]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(A([])));m&&m!==e&&o.call(m,u)&&(y=m);var b=O.prototype=x.prototype=Object.create(y);S.prototype=b.constructor=O,O.constructor=S,O[f]=S.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f in t||(t[f]="GeneratorFunction")),t.prototype=Object.create(b),t},a.awrap=function(t){return{__await:t}},E(M.prototype),M.prototype[s]=function(){return this},a.AsyncIterator=M,a.async=function(t,n,r,e){var o=new M(_(t,n,r,e));return a.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(b),b[f]="Generator",b[u]=function(){return this},b.toString=function(){return"[object Generator]"},a.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},a.values=A,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(e,o){return s.type="throw",s.arg=t,n.next=e,o&&(n.method="next",n.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],s=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var f=o.call(u,"catchLoc"),c=o.call(u,"finallyLoc");if(f&&c){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(f){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&o.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=n,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var o=e.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:A(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),d}}}function _(t,n,r,e){var o=n&&n.prototype instanceof x?n:x,i=Object.create(o.prototype),u=new k(e||[]);return i._invoke=function(t,n,r){var e=l;return function(o,i){if(e===p)throw new Error("Generator is already running");if(e===v){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var s=j(u,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=p;var f=w(t,n,r);if("normal"===f.type){if(e=r.done?v:h,f.arg===d)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(e=v,r.method="throw",r.arg=f.arg)}}}(t,r,u),i}function w(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function x(){}function S(){}function O(){}function E(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function M(t){function n(r,e,i,u){var s=w(t[r],t,e);if("throw"!==s.type){var f=s.arg,c=f.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):Promise.resolve(c).then((function(t){f.value=t,i(f)}),u)}u(s.arg)}var r;this._invoke=function(t,e){function o(){return new Promise((function(r,o){n(t,e,r,o)}))}return r=r?r.then(o,o):o()}}function j(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,j(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=w(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function L(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function P(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function A(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,i=function n(){for(;++e<t.length;)if(o.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=r,n.done=!0,n};return i.next=i}}return{next:N}}function N(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,n,r){r(58),r(39),r(40),r(227),r(231),r(232),t.exports=r(3).Promise},function(t,n,r){"use strict";var e,o,i,u,s=r(54),f=r(16),c=r(28),a=r(70),l=r(13),h=r(17),p=r(52),v=r(74),d=r(49),y=r(134),g=r(135).set,m=r(229)(),b=r(105),_=r(136),w=r(230),x=r(137),S="Promise",O=f.TypeError,E=f.process,M=E&&E.versions,j=M&&M.v8||"",L=f[S],P="process"==a(E),k=function(){},A=o=b.f,N=!!function(){try{var t=L.resolve(1),n=(t.constructor={})[r(18)("species")]=function(t){t(k,k)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof n&&0!==j.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),B=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},C=function(t,n){if(!t._n){t._n=!0;var r=t._c;m((function(){for(var e=t._v,o=1==t._s,i=0,u=function(n){var r,i,u,s=o?n.ok:n.fail,f=n.resolve,c=n.reject,a=n.domain;try{s?(o||(2==t._h&&D(t),t._h=1),!0===s?r=e:(a&&a.enter(),r=s(e),a&&(a.exit(),u=!0)),r===n.promise?c(O("Promise-chain cycle")):(i=B(r))?i.call(r,f,c):f(r)):c(e)}catch(t){a&&!u&&a.exit(),c(t)}};r.length>i;)u(r[i++]);t._c=[],t._n=!1,n&&!t._h&&F(t)}))}},F=function(t){g.call(f,(function(){var n,r,e,o=t._v,i=T(t);if(i&&(n=_((function(){P?E.emit("unhandledRejection",o,t):(r=f.onunhandledrejection)?r({promise:t,reason:o}):(e=f.console)&&e.error})),t._h=P||T(t)?2:1),t._a=void 0,i&&n.e)throw n.v}))},T=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){g.call(f,(function(){var n;P?E.emit("rejectionHandled",t):(n=f.onrejectionhandled)&&n({promise:t,reason:t._v})}))},G=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),C(n,!0))},R=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw O("Promise can't be resolved itself");(n=B(t))?m((function(){var e={_w:r,_d:!1};try{n.call(t,c(R,e,1),c(G,e,1))}catch(t){G.call(e,t)}})):(r._v=t,r._s=1,C(r,!1))}catch(t){G.call({_w:r,_d:!1},t)}}};N||(L=function(t){v(this,L,S,"_h"),p(t),e.call(this);try{t(c(R,this,1),c(G,this,1))}catch(t){G.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(73)(L.prototype,{then:function(t,n){var r=A(y(this,L));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=P?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new e;this.promise=t,this.resolve=c(R,t,1),this.reject=c(G,t,1)},b.f=A=function(t){return t===L||t===u?new i(t):o(t)}),l(l.G+l.W+l.F*!N,{Promise:L}),r(55)(L,S),r(132)(S),u=r(3)[S],l(l.S+l.F*!N,S,{reject:function(t){var n=A(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(s||!N),S,{resolve:function(t){return x(s&&this===u?L:this,t)}}),l(l.S+l.F*!(N&&r(128)((function(t){L.all(t).catch(k)}))),S,{all:function(t){var n=this,r=A(n),e=r.resolve,o=r.reject,i=_((function(){var r=[],i=0,u=1;d(t,!1,(function(t){var s=i++,f=!1;r.push(void 0),u++,n.resolve(t).then((function(t){f||(f=!0,r[s]=t,--u||e(r))}),o)})),--u||e(r)}));return i.e&&o(i.v),r.promise},race:function(t){var n=this,r=A(n),e=r.reject,o=_((function(){d(t,!1,(function(t){n.resolve(t).then(r.resolve,e)}))}));return o.e&&e(o.v),r.promise}})},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(16),o=r(135).set,i=e.MutationObserver||e.WebKitMutationObserver,u=e.process,s=e.Promise,f="process"==r(56)(u);t.exports=function(){var t,n,r,c=function(){var e,o;for(f&&(e=u.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(c)};else if(!i||e.navigator&&e.navigator.standalone)if(s&&s.resolve){var a=s.resolve(void 0);r=function(){a.then(c)}}else r=function(){o.call(e,c)};else{var l=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),r=function(){h.data=l=!l}}return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,r()),n=o}}},function(t,n,r){var e=r(16).navigator;t.exports=e&&e.userAgent||""},function(t,n,r){"use strict";var e=r(13),o=r(3),i=r(16),u=r(134),s=r(137);e(e.P+e.R,"Promise",{finally:function(t){var n=u(this,o.Promise||i.Promise),r="function"==typeof t;return this.then(r?function(r){return s(n,t()).then((function(){return r}))}:t,r?function(r){return s(n,t()).then((function(){throw r}))}:t)}})},function(t,n,r){"use strict";var e=r(13),o=r(105),i=r(136);e(e.S,"Promise",{try:function(t){var n=o.f(this),r=i(t);return(r.e?n.reject:n.resolve)(r.v),n.promise}})},,,function(t,n,r){"use strict";var e=n;function o(){e.Reader._configure(e.BufferReader),e.util._configure()}e.build="minimal",e.Writer=r(138),e.BufferWriter=r(244),e.Reader=r(139),e.BufferReader=r(245),e.util=r(41),e.rpc=r(246),e.roots=r(248),e.configure=o,e.Writer._configure(e.BufferWriter),o()},function(t,n,r){"use strict";t.exports=function(t,n){var r=new Array(arguments.length-1),e=0,o=2,i=!0;for(;o<arguments.length;)r[e++]=arguments[o++];return new Promise((function(o,u){r[e]=function(t){if(i)if(i=!1,t)u(t);else{for(var n=new Array(arguments.length-1),r=0;r<n.length;)n[r++]=arguments[r];o.apply(null,n)}};try{t.apply(n||null,r)}catch(t){i&&(i=!1,u(t))}}))}},function(t,n,r){"use strict";var e=n;e.length=function(t){var n=t.length;if(!n)return 0;for(var r=0;--n%4>1&&"="===t.charAt(n);)++r;return Math.ceil(3*t.length)/4-r};for(var o=new Array(64),i=new Array(123),u=0;u<64;)i[o[u]=u<26?u+65:u<52?u+71:u<62?u-4:u-59|43]=u++;e.encode=function(t,n,r){for(var e,i=null,u=[],s=0,f=0;n<r;){var c=t[n++];switch(f){case 0:u[s++]=o[c>>2],e=(3&c)<<4,f=1;break;case 1:u[s++]=o[e|c>>4],e=(15&c)<<2,f=2;break;case 2:u[s++]=o[e|c>>6],u[s++]=o[63&c],f=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,u)),s=0)}return f&&(u[s++]=o[e],u[s++]=61,1===f&&(u[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,u.slice(0,s))),i.join("")):String.fromCharCode.apply(String,u.slice(0,s))};var s="invalid encoding";e.decode=function(t,n,r){for(var e,o=r,u=0,f=0;f<t.length;){var c=t.charCodeAt(f++);if(61===c&&u>1)break;if(void 0===(c=i[c]))throw Error(s);switch(u){case 0:e=c,u=1;break;case 1:n[r++]=e<<2|(48&c)>>4,e=c,u=2;break;case 2:n[r++]=(15&e)<<4|(60&c)>>2,e=c,u=3;break;case 3:n[r++]=(3&e)<<6|c,u=0}}if(1===u)throw Error(s);return r-o},e.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,n,r){"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,n,r){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:n,ctx:r||this}),this},e.prototype.off=function(t,n){if(void 0===t)this._listeners={};else if(void 0===n)this._listeners[t]=[];else for(var r=this._listeners[t],e=0;e<r.length;)r[e].fn===n?r.splice(e,1):++e;return this},e.prototype.emit=function(t){var n=this._listeners[t];if(n){for(var r=[],e=1;e<arguments.length;)r.push(arguments[e++]);for(e=0;e<n.length;)n[e].fn.apply(n[e++].ctx,r)}return this}},function(t,n,r){"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var n=new Float32Array([-0]),r=new Uint8Array(n.buffer),e=128===r[3];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3]}function i(t,e,o){n[0]=t,e[o]=r[3],e[o+1]=r[2],e[o+2]=r[1],e[o+3]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],n[0]}function s(t,e){return r[3]=t[e],r[2]=t[e+1],r[1]=t[e+2],r[0]=t[e+3],n[0]}t.writeFloatLE=e?o:i,t.writeFloatBE=e?i:o,t.readFloatLE=e?u:s,t.readFloatBE=e?s:u}():function(){function n(t,n,r,e){var o=n<0?1:0;if(o&&(n=-n),0===n)t(1/n>0?0:2147483648,r,e);else if(isNaN(n))t(2143289344,r,e);else if(n>34028234663852886e22)t((o<<31|2139095040)>>>0,r,e);else if(n<11754943508222875e-54)t((o<<31|Math.round(n/1401298464324817e-60))>>>0,r,e);else{var i=Math.floor(Math.log(n)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(n*Math.pow(2,-i)*8388608))>>>0,r,e)}}function r(t,n,r){var e=t(n,r),o=2*(e>>31)+1,i=e>>>23&255,u=8388607&e;return 255===i?u?NaN:o*(1/0):0===i?1401298464324817e-60*o*u:o*Math.pow(2,i-150)*(u+8388608)}t.writeFloatLE=n.bind(null,o),t.writeFloatBE=n.bind(null,i),t.readFloatLE=r.bind(null,u),t.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var n=new Float64Array([-0]),r=new Uint8Array(n.buffer),e=128===r[7];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3],e[o+4]=r[4],e[o+5]=r[5],e[o+6]=r[6],e[o+7]=r[7]}function i(t,e,o){n[0]=t,e[o]=r[7],e[o+1]=r[6],e[o+2]=r[5],e[o+3]=r[4],e[o+4]=r[3],e[o+5]=r[2],e[o+6]=r[1],e[o+7]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],r[4]=t[e+4],r[5]=t[e+5],r[6]=t[e+6],r[7]=t[e+7],n[0]}function s(t,e){return r[7]=t[e],r[6]=t[e+1],r[5]=t[e+2],r[4]=t[e+3],r[3]=t[e+4],r[2]=t[e+5],r[1]=t[e+6],r[0]=t[e+7],n[0]}t.writeDoubleLE=e?o:i,t.writeDoubleBE=e?i:o,t.readDoubleLE=e?u:s,t.readDoubleBE=e?s:u}():function(){function n(t,n,r,e,o,i){var u=e<0?1:0;if(u&&(e=-e),0===e)t(0,o,i+n),t(1/e>0?0:2147483648,o,i+r);else if(isNaN(e))t(0,o,i+n),t(2146959360,o,i+r);else if(e>17976931348623157e292)t(0,o,i+n),t((u<<31|2146435072)>>>0,o,i+r);else{var s;if(e<22250738585072014e-324)t((s=e/5e-324)>>>0,o,i+n),t((u<<31|s/4294967296)>>>0,o,i+r);else{var f=Math.floor(Math.log(e)/Math.LN2);1024===f&&(f=1023),t(4503599627370496*(s=e*Math.pow(2,-f))>>>0,o,i+n),t((u<<31|f+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(t,n,r,e,o){var i=t(e,o+n),u=t(e,o+r),s=2*(u>>31)+1,f=u>>>20&2047,c=4294967296*(1048575&u)+i;return 2047===f?c?NaN:s*(1/0):0===f?5e-324*s*c:s*Math.pow(2,f-1075)*(c+4503599627370496)}t.writeDoubleLE=n.bind(null,o,0,4),t.writeDoubleBE=n.bind(null,i,4,0),t.readDoubleLE=r.bind(null,u,0,4),t.readDoubleBE=r.bind(null,s,4,0)}(),t}function o(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}function i(t,n,r){n[r]=t>>>24,n[r+1]=t>>>16&255,n[r+2]=t>>>8&255,n[r+3]=255&t}function u(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0}function s(t,n){return(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0}t.exports=e(e)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,n,r){"use strict";var e=n;e.length=function(t){for(var n=0,r=0,e=0;e<t.length;++e)(r=t.charCodeAt(e))<128?n+=1:r<2048?n+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(e+1))?(++e,n+=4):n+=3;return n},e.read=function(t,n,r){if(r-n<1)return"";for(var e,o=null,i=[],u=0;n<r;)(e=t[n++])<128?i[u++]=e:e>191&&e<224?i[u++]=(31&e)<<6|63&t[n++]:e>239&&e<365?(e=((7&e)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,i[u++]=55296+(e>>10),i[u++]=56320+(1023&e)):i[u++]=(15&e)<<12|(63&t[n++])<<6|63&t[n++],u>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),u=0);return o?(u&&o.push(String.fromCharCode.apply(String,i.slice(0,u))),o.join("")):String.fromCharCode.apply(String,i.slice(0,u))},e.write=function(t,n,r){for(var e,o,i=r,u=0;u<t.length;++u)(e=t.charCodeAt(u))<128?n[r++]=e:e<2048?(n[r++]=e>>6|192,n[r++]=63&e|128):55296==(64512&e)&&56320==(64512&(o=t.charCodeAt(u+1)))?(e=65536+((1023&e)<<10)+(1023&o),++u,n[r++]=e>>18|240,n[r++]=e>>12&63|128,n[r++]=e>>6&63|128,n[r++]=63&e|128):(n[r++]=e>>12|224,n[r++]=e>>6&63|128,n[r++]=63&e|128);return r-i}},function(t,n,r){"use strict";t.exports=function(t,n,r){var e=r||8192,o=e>>>1,i=null,u=e;return function(r){if(r<1||r>o)return t(r);u+r>e&&(i=t(e),u=0);var s=n.call(i,u,u+=r);return 7&u&&(u=1+(7|u)),s}}},function(t,n,r){"use strict";t.exports=o;var e=r(41);function o(t,n){this.lo=t>>>0,this.hi=n>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var u=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var n=t<0;n&&(t=-t);var r=t>>>0,e=(t-r)/4294967296>>>0;return n&&(e=~e>>>0,r=~r>>>0,++r>4294967295&&(r=0,++e>4294967295&&(e=0))),new o(r,e)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(e.isString(t)){if(!e.Long)return o.fromNumber(parseInt(t,10));t=e.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var n=1+~this.lo>>>0,r=~this.hi>>>0;return n||(r=r+1>>>0),-(n+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===u?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:r<128?9:10}},function(t,n,r){"use strict";t.exports=u;var e=r(138);(u.prototype=Object.create(e.prototype)).constructor=u;var o=r(41),i=o.Buffer;function u(){e.call(this)}u.alloc=function(t){return(u.alloc=o._Buffer_allocUnsafe)(t)};var s=i&&i.prototype instanceof Uint8Array&&"set"===i.prototype.set.name?function(t,n,r){n.set(t,r)}:function(t,n,r){if(t.copy)t.copy(n,r,0,t.length);else for(var e=0;e<t.length;)n[r++]=t[e++]};function f(t,n,r){t.length<40?o.utf8.write(t,n,r):n.utf8Write(t,r)}u.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var n=t.length>>>0;return this.uint32(n),n&&this._push(s,n,t),this},u.prototype.string=function(t){var n=i.byteLength(t);return this.uint32(n),n&&this._push(f,n,t),this}},function(t,n,r){"use strict";t.exports=i;var e=r(139);(i.prototype=Object.create(e.prototype)).constructor=i;var o=r(41);function i(t){e.call(this,t)}o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice),i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,n,r){"use strict";n.Service=r(247)},function(t,n,r){"use strict";t.exports=o;var e=r(41);function o(t,n,r){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(n),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(e.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(n,r,o,i,u){if(!i)throw TypeError("request must be specified");var s=this;if(!u)return e.asPromise(t,s,n,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(n,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,r){if(t)return s.emit("error",t,n),u(t);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(t){return s.emit("error",t,n),u(t)}return s.emit("data",r,n),u(null,r)}s.end(!0)}))}catch(t){return s.emit("error",t,n),void setTimeout((function(){u(t)}),0)}else setTimeout((function(){u(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,n,r){"use strict";t.exports={}},,function(t,n,r){t.exports={default:r(251),__esModule:!0}},function(t,n,r){r(252),t.exports=r(3).String.fromCodePoint},function(t,n,r){var e=r(13),o=r(118),i=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],o(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?i(n):i(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})}]]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[4],{10:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(6),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},11:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(281)),o=a(n(21)),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},12:function(e,t,n){"use strict";(function(e){function r(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return _}));const o=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${e}`)})();function i(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function a(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function s(e,t={}){return{width:t.width||function(e){const t=a(e,"border-left-width"),n=a(e,"border-right-width");return e.clientWidth+t+n}(e),height:t.height||function(e){const t=a(e,"border-top-width"),n=a(e,"border-bottom-width");return e.clientHeight+t+n}(e)}}function u(){let t,n;try{n=e}catch(e){}const r=n&&n.env?n.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const c=16384;function l(e){(e.width>c||e.height>c)&&(e.width>c&&e.height>c?e.width>e.height?(e.height*=c/e.width,e.width=c):(e.width*=c/e.height,e.height=c):e.width>c?(e.height*=c/e.width,e.width=c):(e.width*=c/e.height,e.height=c))}function d(e,t={}){return e.toBlob?new Promise((n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)})):new Promise((n=>{const r=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),o=r.length,i=new Uint8Array(o);for(let e=0;e<o;e+=1)i[e]=r.charCodeAt(e);n(new Blob([i],{type:t.type?t.type:"image/png"}))}))}function f(e){return new Promise(((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e}))}async function _(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),async function(e){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(e))).then(encodeURIComponent).then((e=>`data:image/svg+xml;charset=utf-8,${e}`))}(o)}}).call(this,n(62))},149:function(e,t,n){var r=n(20),o=n(45),i=n(31),a=n(57).f;e.exports=function(e){return function(t){for(var n,s=i(t),u=o(s),c=u.length,l=0,d=[];c>l;)n=u[l++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},15:function(e,t,n){e.exports={default:n(258),__esModule:!0}},156:function(e,t,n){(function(n){var r;!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,a=function(e){e.src&&0!==e.src.length&&this.init(e)};a.prototype={init:function(e){var t=this;return i.ctx||_(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(i.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(o=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(o))||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r&&i.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&c(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),d=1e3*l/Math.abs(s._rate),f=n._sprite[e][0]/1e3,_=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=f,s._stop=_,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=_)){var p=s._node;if(n._webAudio){var m=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;p.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===p.bufferSource.start?s._loop?p.bufferSource.noteGrainOn(0,c,86400):p.bufferSource.noteGrainOn(0,c,l):s._loop?p.bufferSource.start(0,c,86400):p.bufferSource.start(0,c,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var g=function(){p.currentTime=c,p.muted=s._muted||n._muted||i._muted||p.muted,p.volume=s._volume*i.volume(),p.playbackRate=s._rate;try{var r=p.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,p._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),p.playbackRate=s._rate,p.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),p.removeEventListener("ended",n._endTimers[s._id],!1)},p.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===p.src&&(p.src=n._src,p.load());var v=window&&window.ejecta||!p.readyState&&i._navigator.isCocoonJS;if(p.readyState>=3||v)g();else{n._playLock=!0,n._state="loading";var y=function(){n._state="loaded",g(),p.removeEventListener(i._canPlayEvent,y,!1)};p.addEventListener(i._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,o[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if(r||o._stopFade(a[s]),o._webAudio&&!u._muted){var c=i.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}o._startFadeInterval(u,e,t,n,a[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-d)/r;d=Date.now(),s+=u*o,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[a]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),u)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(t);if(o){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?i.ctx.currentTime-o._playStart:0,s=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(s+a*Math.abs(o._rate))}return o._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var c=function(){u&&n.play(t,!0),n._emit("seek",t)};if(u&&!n._webAudio){var l=function(){n._playLock?setTimeout(l,0):c()};setTimeout(l,0)}else c()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return u&&o&&delete u[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(t===o[i].fn&&a||!t&&a){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(r[s[i]])&&(r[s[i]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var u={},c=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);d(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){i.setRequestHeader(t,e._xhr.headers[t])})),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(i)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,f(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},_=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=a,void 0!==n?(n.HowlerGlobal=o,n.Howler=i,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(a._orientation=[e,t,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,o,i),a)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),i._emit("pos",u._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),i._emit("orientation",u._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:u.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:u.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:u.panningModel};var c=r._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),t(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(107))},157:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(330)),o=i(n(15));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,u=(0,o.default)(e);!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},158:function(e,t,n){e.exports={default:n(333),__esModule:!0}},258:function(e,t,n){n(40),n(39),e.exports=n(259)},259:function(e,t,n){var r=n(25),o=n(99);e.exports=n(3).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},260:function(e,t,n){"use strict";function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===f(e)}n.r(t),n.d(t,"default",(function(){return z}));const o=1/0;function i(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}function a(e){return"string"==typeof e}function s(e){return"number"==typeof e}function u(e){return!0===e||!1===e||function(e){return c(e)&&null!==e}(e)&&"[object Boolean]"==f(e)}function c(e){return"object"==typeof e}function l(e){return null!=e}function d(e){return!e.trim().length}function f(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const _=e=>`Missing ${e} property in key`,h=e=>`Property 'weight' in key '${e}' must be a positive integer`,p=Object.prototype.hasOwnProperty;class m{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=g(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function g(e){let t=null,n=null,o=null,i=1,s=null;if(a(e)||r(e))o=e,t=v(e),n=y(e);else{if(!p.call(e,"name"))throw new Error(_("name"));const r=e.name;if(o=r,p.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(h(r));t=v(r),n=y(r),s=e.getFn}return{path:t,id:n,weight:i,src:o,getFn:s}}function v(e){return r(e)?e:e.split(".")}function y(e){return r(e)?e.join("."):e}var b={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],o=!1;const c=(e,t,d)=>{if(l(e))if(t[d]){const f=e[t[d]];if(!l(f))return;if(d===t.length-1&&(a(f)||s(f)||u(f)))n.push(i(f));else if(r(f)){o=!0;for(let e=0,n=f.length;e<n;e+=1)c(f[e],t,d+1)}else t.length&&c(f,t,d+1)}else n.push(e)};return c(e,a(t)?t.split("."):t,0),o?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const w=/[^ ]+/g;class A{constructor({getFn:e=b.getFn,fieldNormWeight:t=b.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const o=t.match(w).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,a(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();a(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!l(e)||d(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,o)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(l(i))if(r(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:o}=t.pop();if(l(o))if(a(o)&&!d(o)){let t={v:o,i:n,n:this.norm.get(o)};e.push(t)}else r(o)&&o.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[o]=e}else if(a(i)&&!d(i)){let e={v:i,n:this.norm.get(i)};n.$[o]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function x(e,t,{getFn:n=b.getFn,fieldNormWeight:r=b.fieldNormWeight}={}){const o=new A({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(g)),o.setSources(t),o.create(),o}function T(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=b.distance,ignoreLocation:i=b.ignoreLocation}={}){const a=t/e.length;if(i)return a;const s=Math.abs(r-n);return o?a+s/o:s?1:a}const S=32;function M(e,t,n,{location:r=b.location,distance:o=b.distance,threshold:i=b.threshold,findAllMatches:a=b.findAllMatches,minMatchCharLength:s=b.minMatchCharLength,includeMatches:u=b.includeMatches,ignoreLocation:c=b.ignoreLocation}={}){if(t.length>S)throw new Error(`Pattern length exceeds max of ${S}.`);const l=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let _=i,h=f;const p=s>1||u,m=p?Array(d):[];let g;for(;(g=e.indexOf(t,h))>-1;){let e=T(t,{currentLocation:g,expectedLocation:f,distance:o,ignoreLocation:c});if(_=Math.min(e,_),h=g+l,p){let e=0;for(;e<l;)m[g+e]=1,e+=1}}h=-1;let v=[],y=1,w=l+d;const A=1<<l-1;for(let r=0;r<l;r+=1){let i=0,s=w;for(;i<s;){T(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:o,ignoreLocation:c})<=_?i=s:w=s,s=Math.floor((w-i)/2+i)}w=s;let u=Math.max(1,f-s+1),g=a?d:Math.min(f+s,d)+l,b=Array(g+2);b[g+1]=(1<<r)-1;for(let i=g;i>=u;i-=1){let a=i-1,s=n[e.charAt(a)];if(p&&(m[a]=+!!s),b[i]=(b[i+1]<<1|1)&s,r&&(b[i]|=(v[i+1]|v[i])<<1|1|v[i+1]),b[i]&A&&(y=T(t,{errors:r,currentLocation:a,expectedLocation:f,distance:o,ignoreLocation:c}),y<=_)){if(_=y,h=a,h<=f)break;u=Math.max(1,2*f-h)}}if(T(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:c})>_)break;v=b}const x={isMatch:h>=0,score:Math.max(.001,y)};if(p){const e=function(e=[],t=b.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let a=e[i];a&&-1===r?r=i:a||-1===r||(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}(m,s);e.length?u&&(x.indices=e):x.isMatch=!1}return x}function k(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class C{constructor(e,{location:t=b.location,threshold:n=b.threshold,distance:r=b.distance,includeMatches:o=b.includeMatches,findAllMatches:i=b.findAllMatches,minMatchCharLength:a=b.minMatchCharLength,isCaseSensitive:s=b.isCaseSensitive,ignoreLocation:u=b.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:u},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:k(e),startIndex:t})},l=this.pattern.length;if(l>S){let e=0;const t=l%S,n=l-t;for(;e<n;)c(this.pattern.substr(e,S),e),e+=S;if(t){const e=l-S;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,ignoreLocation:u}=this.options;let c=[],l=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:_})=>{const{isMatch:h,score:p,indices:m}=M(e,t,f,{location:r+_,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:u});h&&(d=!0),l+=p,h&&m&&(c=[...c,...m])}));let f={isMatch:d,score:d?l/this.chunks.length:1};return d&&n&&(f.indices=c),f}}class I{constructor(e){this.pattern=e}static isMultiMatch(e){return E(e,this.multiRegex)}static isSingleMatch(e){return E(e,this.singleRegex)}search(){}}function E(e,t){const n=e.match(t);return n?n[1]:null}class L extends I{constructor(e,{location:t=b.location,threshold:n=b.threshold,distance:r=b.distance,includeMatches:o=b.includeMatches,findAllMatches:i=b.findAllMatches,minMatchCharLength:a=b.minMatchCharLength,isCaseSensitive:s=b.isCaseSensitive,ignoreLocation:u=b.ignoreLocation}={}){super(e),this._bitapSearch=new C(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class O extends I{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const P=[class extends I{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},O,class extends I{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},L],F=P.length,R=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const $=new Set([L.type,O.type]);class B{constructor(e,{isCaseSensitive:t=b.isCaseSensitive,includeMatches:n=b.includeMatches,minMatchCharLength:r=b.minMatchCharLength,ignoreLocation:o=b.ignoreLocation,findAllMatches:i=b.findAllMatches,location:a=b.location,threshold:s=b.threshold,distance:u=b.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:s,distance:u},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(R).filter((e=>e&&!!e.trim())),r=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let i=!1,a=-1;for(;!i&&++a<F;){const e=P[a];let n=e.isMultiMatch(o);n&&(r.push(new e(n,t)),i=!0)}if(!i)for(a=-1;++a<F;){const e=P[a];let n=e.isSingleMatch(o);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,i=[],a=0;for(let r=0,s=t.length;r<s;r+=1){const s=t[r];i.length=0,o=0;for(let t=0,r=s.length;t<r;t+=1){const r=s[t],{isMatch:u,indices:c,score:l}=r.search(e);if(!u){a=0,o=0,i.length=0;break}if(o+=1,a+=l,n){const e=r.constructor.type;$.has(e)?i=[...i,...c]:i.push(c)}}if(o){let e={isMatch:!0,score:a/o};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}const D=[];function j(e,t){for(let n=0,r=D.length;n<r;n+=1){let r=D[n];if(r.condition(e,t))return new r(e,t)}return new C(e,t)}const H="$and",N="$or",V="$path",G="$val",W=e=>!(!e[H]&&!e[N]),q=e=>({[H]:Object.keys(e).map((t=>({[t]:e[t]})))});function U(e,t,{auto:n=!0}={}){const o=e=>{let i=Object.keys(e);const s=(e=>!!e[V])(e);if(!s&&i.length>1&&!W(e))return o(q(e));if((e=>!r(e)&&c(e)&&!W(e))(e)){const r=s?e[V]:i[0],o=s?e[G]:e[r];if(!a(o))throw new Error((e=>`Invalid value for key ${e}`)(r));const u={keyId:y(r),pattern:o};return n&&(u.searcher=j(o,t)),u}let u={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];r(n)&&n.forEach((e=>{u.children.push(o(e))}))})),u};return W(e)||(e=q(e)),o(e)}function X(e,t){const n=e.matches;t.matches=[],l(n)&&n.forEach((e=>{if(!l(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let o={indices:n,value:r};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function Y(e,t){t.score=e.score}class z{constructor(e,t={},n){this.options={...b,...t},this.options.useExtendedSearch,this._keyStore=new m(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof A))throw new Error("Incorrect 'index' type");this._myIndex=t||x(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){l(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:u}=this.options;let c=a(e)?a(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=b.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:o})=>{const i=e?e.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(t?1:r))})),e.score=n}))}(c,{ignoreFieldNorm:u}),o&&c.sort(i),s(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:n=b.includeMatches,includeScore:r=b.includeScore}={}){const o=[];return n&&o.push(X),r&&o.push(Y),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,r)})),r}))}(c,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=j(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:o})=>{if(!l(e))return;const{isMatch:i,score:a,indices:s}=t.searchIn(e);i&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:o,indices:s}]})})),r}_searchLogical(e){const t=U(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:o}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const o=[];for(let i=0,a=e.children.length;i<a;i+=1){const a=e.children[i],s=n(a,t,r);if(s.length)o.push(...s);else if(e.operator===H)return[]}return o},r=this._myIndex.records,o={},i=[];return r.forEach((({$:e,i:r})=>{if(l(e)){let a=n(t,e,r);a.length&&(o[r]||(o[r]={idx:r,item:e,matches:[]},i.push(o[r])),a.forEach((({matches:e})=>{o[r].matches.push(...e)})))}})),i}_searchObjectList(e){const t=j(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((({$:e,i:r})=>{if(!l(e))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),i.length&&o.push({idx:r,item:e,matches:i})})),o}_findMatches({key:e,value:t,searcher:n}){if(!l(t))return[];let o=[];if(r(t))t.forEach((({v:t,i:r,n:i})=>{if(!l(t))return;const{isMatch:a,score:s,indices:u}=n.searchIn(t);a&&o.push({score:s,key:e,value:t,idx:r,norm:i,indices:u})}));else{const{v:r,n:i}=t,{isMatch:a,score:s,indices:u}=n.searchIn(r);a&&o.push({score:s,key:e,value:r,norm:i,indices:u})}return o}}z.version="6.6.2",z.createIndex=x,z.parseIndex=function(e,{getFn:t=b.getFn,fieldNormWeight:n=b.fieldNormWeight}={}){const{keys:r,records:o}=e,i=new A({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i},z.config=b,z.parseQuery=U,function(...e){D.push(...e)}(B)},279:function(e,t,n){n(280),e.exports=n(3).Object.getPrototypeOf},280:function(e,t,n){var r=n(37),o=n(125);n(59)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},281:function(e,t,n){e.exports={default:n(282),__esModule:!0}},282:function(e,t,n){n(283),e.exports=n(3).Object.setPrototypeOf},283:function(e,t,n){var r=n(13);r(r.S,"Object",{setPrototypeOf:n(284).set})},284:function(e,t,n){var r=n(17),o=n(25),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(28)(Function.call,n(97).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},298:function(e,t,n){e.exports={default:n(299),__esModule:!0}},299:function(e,t,n){n(300),e.exports=n(3).Math.hypot},300:function(e,t,n){var r=n(13),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,s=arguments.length,u=0;a<s;)u<(n=o(arguments[a++]))?(i=i*(r=u/n)*r+1,u=n):i+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(i)}})},303:function(e,t,n){n(58),n(39),n(40),n(304),n(305),n(306),n(307),e.exports=n(3).Map},304:function(e,t,n){"use strict";var r=n(131),o=n(50),i="Map";e.exports=n(101)(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return r.def(o(this,i),0===e?0:e,t)}},r,!0)},305:function(e,t,n){var r=n(13);r(r.P+r.R,"Map",{toJSON:n(133)("Map")})},306:function(e,t,n){n(102)("Map")},307:function(e,t,n){n(103)("Map")},312:function(e,t,n){n(313),e.exports=n(3).Object.values},313:function(e,t,n){var r=n(13),o=n(149)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},314:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(5)),o=i(n(315));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,i){null===t&&(t=Function.prototype);var a=(0,o.default)(t,n);if(void 0===a){var s=(0,r.default)(t);return null===s?void 0:e(s,n,i)}if("value"in a)return a.value;var u=a.get;return void 0!==u?u.call(i):void 0}},315:function(e,t,n){e.exports={default:n(316),__esModule:!0}},316:function(e,t,n){n(317);var r=n(3).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},317:function(e,t,n){var r=n(31),o=n(97).f;n(59)("getOwnPropertyDescriptor",(function(){return function(e,t){return o(r(e),t)}}))},330:function(e,t,n){e.exports={default:n(331),__esModule:!0}},331:function(e,t,n){n(40),n(39),e.exports=n(332)},332:function(e,t,n){var r=n(70),o=n(18)("iterator"),i=n(46);e.exports=n(3).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},333:function(e,t,n){n(334),e.exports=n(3).Object.entries},334:function(e,t,n){var r=n(13),o=n(149)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},34:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return o.length-=[0,0,2,1][n],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__(107))},367:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},392:function(e,t,n){"use strict";n.r(t);var r=n(12);function o(e,t,n){const o=`.${e}:${t}`,i=n.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):function(e){return Object(r.h)(e).map((t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${o}{${i}}`)}function i(e,t,n){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(""===a||"none"===a)return;const s=Object(r.i)();try{t.className=`${t.className} ${s}`}catch(e){return}const u=document.createElement("style");u.appendChild(o(s,n,i)),t.appendChild(u)}const a="application/font-woff",s="image/jpeg",u={woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:s,jpeg:s,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function c(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return u[t]||""}function l(e){return-1!==e.search(/^(data:)/)}function d(e,t){return`data:${t};base64,${e}`}async function f(e,t,n){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((e,t)=>{const i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(n({res:r,result:i.result}))}catch(e){t(e)}},i.readAsDataURL(o)}))}const _={};async function h(e,t,n){const r=function(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}(e,t,n.includeQueryParams);if(null!=_[r])return _[r];let o;n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await f(e,n.fetchRequestInit,(({res:e,result:n})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(n))));o=d(r,t)}catch(t){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;t&&(r="string"==typeof t?t:t.message)}return _[r]=o,o}async function p(e,t){return e instanceof HTMLCanvasElement?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):Object(r.c)(t)}(e):e instanceof HTMLVideoElement?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height);const o=t.toDataURL();return Object(r.c)(o)}const n=e.poster,o=c(n),i=await h(n,o,t);return Object(r.c)(i)}(e,t):e instanceof HTMLIFrameElement?async function(e){var t;try{if(null===(t=null==e?void 0:e.contentDocument)||void 0===t?void 0:t.body)return await v(e.contentDocument.body,{},!0)}catch(e){}return e.cloneNode(!1)}(e):e.cloneNode(!1)}const m=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase();function g(e,t){return t instanceof Element&&(function(e,t){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):Object(r.h)(o).forEach((e=>{let t=o.getPropertyValue(e);if("font-size"===e&&t.endsWith("px")){const e=Math.floor(parseFloat(t.substring(0,t.length-2)))-.1;t=`${e}px`}n.setProperty(e,t,o.getPropertyPriority(e))}))}(e,t),function(e,t){i(e,t,":before"),i(e,t,":after")}(e,t),function(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(e instanceof HTMLSelectElement){const n=t,r=Array.from(n.children).find((t=>e.value===t.getAttribute("value")));r&&r.setAttribute("selected","")}}(e,t)),t}async function v(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then((e=>p(e,t))).then((n=>async function(e,t,n){var o;const i=m(e)&&e.assignedNodes?Object(r.h)(e.assignedNodes()):Object(r.h)((null!==(o=e.shadowRoot)&&void 0!==o?o:e).childNodes);return 0===i.length||e instanceof HTMLVideoElement||await i.reduce(((e,r)=>e.then((()=>v(r,n))).then((e=>{e&&t.appendChild(e)}))),Promise.resolve()),t}(e,n,t))).then((t=>g(e,t))).then((e=>async function(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;const r={};for(let o=0;o<n.length;o++){const i=n[o].getAttribute("xlink:href");if(i){const n=e.querySelector(i),o=document.querySelector(i);n||!o||r[i]||(r[i]=await v(o,t,!0))}}const o=Object.values(r);if(o.length){const t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<o.length;e++)r.appendChild(o[e]);e.appendChild(n)}return e}(e,t))):null}const y=/url\((['"]?)([^'"]+?)\1\)/g,b=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,w=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function A(e,t,n,o,i){try{const a=n?Object(r.g)(t,n):t,s=c(t);let u;if(i){u=d(await i(a),s)}else u=await h(a,s,o);return e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${u}$3`)}catch(e){}return e}function x(e){return-1!==e.search(y)}async function T(e,t,n){if(!x(e))return e;const r=function(e,{preferredFontFormat:t}){return t?e.replace(w,(e=>{for(;;){const[n,,r]=b.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}})):e}(e,n),o=function(e){const t=[];return e.replace(y,((e,n,r)=>(t.push(r),e))),t.filter((e=>!l(e)))}(r);return o.reduce(((e,r)=>e.then((e=>A(e,r,t,n)))),Promise.resolve(r))}async function S(e,t){e instanceof Element&&(await async function(e,t){var n;const r=null===(n=e.style)||void 0===n?void 0:n.getPropertyValue("background");if(r){const n=await T(r,null,t);e.style.setProperty("background",n,e.style.getPropertyPriority("background"))}}(e,t),await async function(e,t){if((!(e instanceof HTMLImageElement)||l(e.src))&&(!(e instanceof SVGImageElement)||l(e.href.baseVal)))return;const n=e instanceof HTMLImageElement?e.src:e.href.baseVal,r=await h(n,c(n),t);await new Promise(((t,n)=>{e.onload=t,e.onerror=n;const o=e;o.decode&&(o.decode=t),e instanceof HTMLImageElement?(e.srcset="",e.src=r):e.href.baseVal=r}))}(e,t),await async function(e,t){const n=Object(r.h)(e.childNodes).map((e=>S(e,t)));await Promise.all(n).then((()=>e))}(e,t))}const M={};async function k(e){let t=M[e];if(null!=t)return t;const n=await fetch(e);return t={url:e,cssText:await n.text()},M[e]=t,t}async function C(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let i=o.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),f(i,t.fetchRequestInit,(({result:e})=>(n=n.replace(o,`url(${e})`),[o,e])))}));return Promise.all(o).then((()=>n))}function I(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(null===e){if(e=i.exec(n),null===e)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(e[0])}return t}async function E(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const n=Object(r.h)(e.ownerDocument.styleSheets),o=await async function(e,t){const n=[],o=[];return e.forEach((n=>{if("cssRules"in n)try{Object(r.h)(n.cssRules||[]).forEach(((e,r)=>{if(e.type===CSSRule.IMPORT_RULE){let i=r+1;const a=k(e.href).then((e=>C(e,t))).then((e=>I(e).forEach((e=>{try{n.insertRule(e,e.startsWith("@import")?i+=1:n.cssRules.length)}catch(e){}})))).catch((e=>{e.toString()}));o.push(a)}}))}catch(r){const i=e.find((e=>null==e.href))||document.styleSheets[0];null!=n.href&&o.push(k(n.href).then((e=>C(e,t))).then((e=>I(e).forEach((e=>{i.insertRule(e,n.cssRules.length)})))).catch((e=>{e.toString()}))),r.toString()}})),Promise.all(o).then((()=>(e.forEach((e=>{if("cssRules"in e)try{Object(r.h)(e.cssRules||[]).forEach((e=>{n.push(e)}))}catch(t){e.href,t.toString()}})),n)))}(n,t);return function(e){return e.filter((e=>e.type===CSSRule.FONT_FACE_RULE)).filter((e=>x(e.style.getPropertyValue("src"))))}(o)}async function L(e,t){const n=await E(e,t);return(await Promise.all(n.map((e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return T(e.cssText,n,t)})))).join("\n")}async function O(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await v(e,t,!0);await async function(e,t){const n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await L(e,t);if(n){const t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}(i,t),await S(i,t),function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;null!=r&&Object.keys(r).forEach((e=>{n[e]=r[e]}))}(i,t);return await Object(r.f)(i,n,o)}async function P(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await O(e,t),a=await Object(r.c)(i),s=document.createElement("canvas"),u=s.getContext("2d"),c=t.pixelRatio||Object(r.e)(),l=t.canvasWidth||n,d=t.canvasHeight||o;return s.width=l*c,s.height=d*c,t.skipAutoScale||Object(r.b)(s),s.style.width=`${l}`,s.style.height=`${d}`,t.backgroundColor&&(u.fillStyle=t.backgroundColor,u.fillRect(0,0,s.width,s.height)),u.drawImage(a,0,0,s.width,s.height),s}async function F(e,t={}){const{width:n,height:o}=Object(r.d)(e,t);return(await P(e,t)).getContext("2d").getImageData(0,0,n,o).data}async function R(e,t={}){return(await P(e,t)).toDataURL()}async function $(e,t={}){return(await P(e,t)).toDataURL("image/jpeg",t.quality||1)}async function B(e,t={}){const n=await P(e,t);return await Object(r.a)(n)}async function D(e,t={}){return L(e,t)}n.d(t,"toSvg",(function(){return O})),n.d(t,"toCanvas",(function(){return P})),n.d(t,"toPixelData",(function(){return F})),n.d(t,"toPng",(function(){return R})),n.d(t,"toJpeg",(function(){return $})),n.d(t,"toBlob",(function(){return B})),n.d(t,"getFontEmbedCSS",(function(){return D}))},5:function(e,t,n){e.exports={default:n(279),__esModule:!0}},62:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&_())}function _(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(_)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},64:function(e,t,n){e.exports={default:n(303),__esModule:!0}},78:function(e,t,n){e.exports={default:n(312),__esModule:!0}}}]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[0],{140:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}}},166:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.esWorker=e.THREE_=void 0;var r,n=i(167),a=(r=n)&&r.__esModule?r:{default:r};var o=i(253);e.THREE_=o,e.esWorker=a.default},167:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=o(i(170));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,r.default)(this,t)}return(0,n.default)(t,null,[{key:"createWorker",value:function(t,e){e(new a.default(171))}}]),t}();e.default=s},171:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(172)),n=o(i(223)),a=o(i(249));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new r.default(t);t.addEventListener("message",(function(i){if(1==i.data.messageType)2==i.data.layerType?e.createFloors(i.data):e.createRooms(i.data);else if(2==i.data.messageType){var r=new n.default(t);i.data.clearAll?r.IDBClearAll():"info"==i.data.controlIndex?r.startInfo(i.data):r.start(i.data)}else if(3==i.data.messageType){switch(i.data.level){case"error":default:a.default.error(i.data.msg);break;case"log":a.default.log(i.data.msg);break;case"warning":a.default.warning(i.data.msg);break;case"custom":a.default.logCustom(i.data.msg)}t.postMessage({id:i.data.id,message:"log"})}})),t.addEventListener("error",(function(e){console.info("workerError",e),t.terminate()}),!1)}},172:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(38)),n=d(i(47)),a=d(i(178)),o=d(i(2)),s=d(i(14)),u=d(i(0)),l=d(i(1)),h=i(48),c=i(32),p=i(222);function d(t){return t&&t.__esModule?t:{default:t}}var f=0,m=0,v=function(){function t(e){(0,u.default)(this,t),this.worker=e,this.maptheme=null,this.tileStylesMap=null}return(0,l.default)(t,[{key:"getStyleFromRoomStyle",value:function(t){for(var e=this.maptheme.Building,i=0;i<e.length;i++)if(1*e[i].typeid==t)return e[i];return e[0]}},{key:"handleTheme",value:function(){for(var t={},e={},i=0,r=this.maptheme.Building,n=0;n<r.length;n++){var a=r[n];if(1*a.filltype==2){if(t[i]||(t[i]={topImgIndexMap:{},sideImgIndexMap:{}}),e[a.typeid]||(e[a.typeid]=[i]),a.topimage&&!t[i].topImgIndexMap[a.topimage]){var o=(0,s.default)(t[i].topImgIndexMap).length+1;t[i].topImgIndexMap[o]=a.topimage,e[a.typeid].push(o)}if(a.sideimage&&!t[i].sideImgIndexMap[a.sideimage]){var u=(0,s.default)(t[i].sideImgIndexMap).length+1;t[i].sideImgIndexMap[u]=a.sideimage,e[a.typeid].push(u),u>=4&&(t[++i]={topImgIndexMap:{},sideImgIndexMap:{}})}}}this.imgConfigs=t,this.styleIndexMap=e}},{key:"getThemeStyleIndex",value:function(t,e){for(var i in this.imgConfigs){var r=this.imgConfigs[i];for(var n in r.topImgIndexMap)if(r.topImgIndexMap[n]===t&&r.sideImgIndexMap[n]===e)return{style:i,group:n}}return{style:null,group:null}}},{key:"createRooms",value:function(t){var e=[],i={},r={},s={extrudes:{},planes:{},tubes:{}};this.maptheme=t.maptheme,this.tileStylesMap=t.tileStylesMap,this.maptheme&&this.handleTheme();var u=t.lod,l={},p=t.id,d={},f={},v=t.fnum,g={},y=[],x=[],b=[],w=[],_=[],M={},S=t.layers,A=t.layerType,T=t.bid,L=t.isTile,P=5,C=t.isMerge,E=t.showBase,I=t.editMode,D={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},B=(t.offsets,0),O=this;if(!m){var z=t.maxX-t.minX;m=O.getRandomHeight(z)}for(var N=0;N<S.length;N++){var R,F=S[N];switch(A){case 0:R=F.modelbases;break;case 1:R=F.models}for(var U=R.length,k=0;k<U;k++){var G=R[k];if(G.hasOwnProperty("RoomHigh")&&null!=G.RoomHigh&&G.RoomHigh>0&&(P=G.RoomHigh),G.hasOwnProperty("RoomLogo")&&null!=G.RoomLogo&&G.RoomLogo.length>1&&0==G.FsId&&""!=G.RoomLogoSize){for(var V=G.RoomLogoSize.split(";"),W=G.RoomLogo.split(";"),H=[],j=0;j<V.length;j++){var X={};X.layerType=A,X.RoomStyle=G.RoomStyle,X.fnum=v,X.dataID=G.FC;var q=V[j].split(",");if(X.coord={x:G.CenX,y:G.CenY},X.size=[parseFloat(q[0]),parseFloat(q[1])],X.RoomLogo=W[j],X.id=G.oid,X.height=G.RoomHigh+.05,X.rotate=q.length>2?parseFloat(q[2]):0,X.angle=q.length>3?parseFloat(q[3]):0,X.offset=q.length>5?{x:parseFloat(q[4]),y:parseFloat(q[5]),z:parseFloat(q[6])||0}:{x:0,y:0,z:0},G.hasOwnProperty("offset")&&G.offset.length>0&&!(G.RModel&&G.RModel.length>2&&"undefined"!=G.RModel)){var Y=G.offset.split(",");X.offset.x+=parseFloat(Y[0]||0),X.offset.z+=parseFloat(Y[1]||0),X.offset.y+=parseFloat(Y[2]||0)}var J=void 0;X.repeatType=1*q[7];var Z=1*q[3];if(1*Z<3){X.TextureType=Z,(J=new h.PlaneBufferGeometry(1,1,1,1)).scale(X.size[0],X.size[1],1),X.angle?(J.rotateZ((180-X.rotate)*(Math.PI/180)),J.rotateX(Math.PI)):(J.rotateX(-Math.PI/2),J.rotateZ((X.rotate-180)*(Math.PI/180))),J.translate(-D.sceneX-X.coord.x+X.offset.x,X.coord.y-D.sceneZ+X.offset.y,-(X.offset.z+X.height));var Q=new Array(J.attributes.position.count);Q.fill(0,0,J.attributes.position.count),J.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Q),1)),C?(y.push(X),x.push(J)):(d[G.oid]||(d[G.oid]=[]),g[G.oid]||(g[G.oid]=[]),d[G.oid].push(X),g[G.oid]=J)}else X.TextureType=Z,X.RS=G.RS,H.push(X)}if(H.length>0)if(C){var K=v+"_"+A+"_"+G.RoomStyle+"_"+G.RoomLogo+"_"+G.RoomLogoSize;r[K]||(r[K]=!0,b.push(H))}else f[G.oid]=H}if(G.RModel&&G.RModel.length>2&&"undefined"!=G.RModel){var $={brief:G.Brief,model:G.RModel,name:G.name,scale:G.scale,dataID:G.FC,mapId:G.bids,rotate:G.rotate,x:G.CenX,y:G.CenY,gid:G.gid,offset:G.offset,id:G.oid,bclick:G.bclick,rank:G.ShowLevel,top:G.top};if($.roomdata=G,G.RModel.indexOf("BIM-")>-1?($.fnum=v,_.push($)):w.push($),!I)continue}var tt=0;void 0===(tt=L?I?G.RoomStyle:this.tileStylesMap[G.RoomStyle]:C?G.texturekey?G.texturekey:G.RoomStyle:G.oid||0)&&(tt=0),i[tt]||(i[tt]={},s.extrudes[tt]=[],s.planes[tt]=[],s.tubes[tt]=[],l[tt]=[],i[tt].brothers=[],i[tt].groupIndex=0,i[tt].lineIndex=0,i[tt].planes=null,C&&(M[tt]={}));var et,it=!1,rt=!1;if(P<=.3&&[120005,40003,40004].indexOf(G.Typeid),L&&3===G.Typeid&&(it=!0),!G.RModel||2!=G.top&&3!=G.top)if(G.isTube?(rt=!0,et=O.createTubeGeo(G,D,P,1,it)):et=O.createGeometry_(G,D,P,1,it,I,L),et){var nt=et.geometry,at=et.pointsGeometry,ot=et.geometry.userData.groupInfo,st=i[tt],ut=s.extrudes[tt];it?(i[tt].planes||(i[tt].planes={brothers:[],groupIndex:0,lineIndex:0,geos:[]}),st=i[tt].planes,ut=s.planes[tt],i[tt].planes.geos.push(et)):rt&&(i[tt].tubes||(i[tt].tubes={brothers:[],groupIndex:0,geos:[]}),st=i[tt].tubes,ut=s.tubes[tt],i[tt].tubes.geos.push(et));var lt=C?st.groupIndex:0,ht={},ct=(0,o.default)({},G);if(I&&E&&(ht.data_=ct),ht.FloorNum=ct.floornum,ht.ID=ct.oid,ht.bid=T,ht.name=ct.name,ht.top=ct.top,ht.typeID=ct.Typeid,ht.nodeType=5,ht.isTube=ct.isTube,ht.RoomHigh=ct.RoomHigh,ht.RoomElevation=ct.RoomElevation||0,ht.dataID=ct.FC,ht.gid=ct.gid,ht.RoomLogo=ct.RoomLogo,ht.RoomStyle=ct.RoomStyle,ht.classID=ct.classID,ht.points=ct.originalPoints,ct.bids&&(ht.mapId=ct.bids),ht.ShowLevel=ct.ShowLevel||24,ht.TextureType=G.TextureType,ht.mapCoord={x:ct.CenX,y:ct.CenY},L&&(ht.Fnums=ct.fnums,ht.x=ct.x,ht.y=ct.y,ht.size=ct.AS),st.brothers.push(ht),ut.push(nt),B++,rt)st.groupIndex+=nt.index.count,ht.faceRange=[lt,st.groupIndex];else{if(l[tt].push(at),st.groupIndex+=it?nt.index.count:nt.attributes.position.count,C&&!it){for(var pt=0;pt<ot.length;pt++)ot[pt].start+=lt;M[tt][ht.ID]=ot}i[tt].lineIndex+=at.attributes.position.count,ht.faceRange=[lt,st.groupIndex]}}else s.extrudes[tt].push(null),B++,console.info("outline error id: ",G.oid),e.push(G.oid);else s.extrudes[tt].push(null),B++}}var dt=[],ft=[],mt=[],vt=[],gt=[],yt=[],xt=[],bt=[],wt=[],_t=[],Mt=[],St=[],At=[],Tt=[],Lt=[],Pt=new Float32Array,Ct=new Float32Array,Et=new Float32Array,It=new Uint16Array,Dt=[],Bt=[],Ot=new Float32Array,zt=[];if(C&&x.length>0){var Nt=c.BufferGeometryUtils.mergeBufferGeometries(x,!0);if(Nt){Pt=Nt.getAttribute("position").array,Ct=Nt.getAttribute("normal").array,Et=Nt.getAttribute("uv").array,Ot=Nt.getAttribute("isHideFlags").array,It=Nt.index.array;var Rt=Nt.groups;Bt=Rt.map((function(t){return(0,o.default)({},t)}));for(var Ft=[],Ut=0;Ut<y.length;Ut++)Bt[Ut].id=y[Ut].id,0!=Ft.length&&Ft[Ft.length-1]==y[Ut].RoomLogo||Ft.push(y[Ut].RoomLogo),y[Ut].hasOwnProperty("matindex")||(y[Ut].matindex=Rt[Ut].materialIndex),y[Ut+1]&&y[Ut].RoomLogo==y[Ut+1].RoomLogo&&(y[Ut+1].matindex=Rt[Ut].materialIndex,Rt[Ut+1].materialIndex=Rt[Ut].materialIndex);for(var kt=0;kt<Rt.length;kt++)Rt[kt+1]&&Rt[kt].materialIndex==Rt[kt+1].materialIndex&&(Rt[kt].count=Rt[kt].count+Rt[kt+1].count,Rt.splice(kt+1,1),kt--);Dt=Rt}}if(C){for(var Gt in s.extrudes)s.extrudes[Gt].forEach((function(t){if(t){dt.push(t.getAttribute("uv")),ft.push(t.getAttribute("position")),mt.push(t.getAttribute("normal")),Tt.push(t.getAttribute("normalizeUv")),vt.push(t.getAttribute("topFaceFlags")),St.push(t.getAttribute("isHideFlags")),gt.push(t.getAttribute("highLightFlags")),yt.push(t.getAttribute("buildingsHeight")),xt.push(t.getAttribute("randomFactor")),wt.push(t.getAttribute("highLightColor")),bt.push(t.getAttribute("buildingsColor")),At.push(t.getAttribute("isSelectFlags")),zt.push(t.getAttribute("rUv"));var e=t.getAttribute("topTexIndex"),i=t.getAttribute("sideTexIndex");e&&_t.push(e),i&&Mt.push(i)}})),l[Gt].forEach((function(t){Lt.push(t.getAttribute("position"))}));for(var Vt in s.tubes)if(s.tubes[Vt].length>0){var Wt;Wt=c.BufferGeometryUtils.mergeBufferGeometries(s.tubes[Vt]),i[Vt].tubeData=Wt}var Ht=new Float32Array,jt=new Float32Array,Xt=new Float32Array,qt=new Float32Array,Yt=new Float32Array,Jt=new Float32Array,Zt=new Float32Array,Qt=new Float32Array,Kt=new Float32Array,$t=new Float32Array,te=new Float32Array,ee=new Float32Array,ie=new Float32Array,re=new Float32Array,ne=new Float32Array,ae=new Float32Array;return 0!=(0,a.default)(s).length&&0!=dt.length&&(Ht=c.BufferGeometryUtils.mergeBufferAttributes(dt).array,Yt=c.BufferGeometryUtils.mergeBufferAttributes(Tt).array,jt=c.BufferGeometryUtils.mergeBufferAttributes(ft).array,Xt=c.BufferGeometryUtils.mergeBufferAttributes(mt).array,qt=c.BufferGeometryUtils.mergeBufferAttributes(Lt).array,Jt=c.BufferGeometryUtils.mergeBufferAttributes(zt).array,Zt=c.BufferGeometryUtils.mergeBufferAttributes(vt).array,ne=c.BufferGeometryUtils.mergeBufferAttributes(St).array,ae=c.BufferGeometryUtils.mergeBufferAttributes(At).array,Qt=c.BufferGeometryUtils.mergeBufferAttributes(gt).array,Kt=c.BufferGeometryUtils.mergeBufferAttributes(yt).array,$t=c.BufferGeometryUtils.mergeBufferAttributes(xt).array,te=c.BufferGeometryUtils.mergeBufferAttributes(bt).array,ee=c.BufferGeometryUtils.mergeBufferAttributes(wt).array,_t.length>0&&(ie=c.BufferGeometryUtils.mergeBufferAttributes(_t).array),Mt.length>0&&(re=c.BufferGeometryUtils.mergeBufferAttributes(Mt).array)),void O.worker.postMessage({lod:u,bid:T,isTile:L,id:p,types:i,fnum:t.fnum,pointGeometrys:qt,layerType:t.layerType,uvs:Ht,rUvs:Jt,normalizeUvs:Yt,isMerge:C,vertices:jt,highLightColorAttr:ee,buildingsColorAttr:te,topFaceFlags:Zt,isHideFlags:ne,isSelectFlags:ae,highLightFlags:Qt,buildingsHeight:Kt,buildingsRandomFactor:$t,topTexIndex:ie,sideTexIndex:re,bimModelData:_,showBase:E,normals:Xt,groups:M,modelTexturesData:b,modelImagesData:y,model3DData:w,modelImagePos:Pt,modelImageNor:Ct,modelImageUv:Et,modelImageGroups:Dt,modelImageIndex:It,modelImageHideFlags:Ot,modelImageGroupsCopy:Bt,errorIds:e},[Ht.buffer,Yt.buffer,jt.buffer,Xt.buffer,qt.buffer,Pt.buffer,Ct.buffer,Et.buffer,It.buffer,Zt.buffer,ne.buffer,Qt.buffer,Kt.buffer,$t.buffer,ee.buffer,te.buffer,ie.buffer,re.buffer,ae.buffer,Jt.buffer,Ot.buffer])}var oe=!1,se=!1,ue=function(r){se=!0,s.planes[r].forEach((function(n,a){var o=new Float32Array,s=new Float32Array,h=new Float32Array,c={},m=[],v=new Float32Array;n?(c[r]={brothers:[],groupIndex:i[r].groupIndex,lineIndex:i[r].lineIndex,planes:i[r].planes},o=n.getAttribute("uv").array,s=n.getAttribute("normal").array,h=n.getAttribute("position").array,v=l[r][0].getAttribute("position").array):c[r]=null;var y=d[r]||null;oe||(oe=!0,m=w);var x=new Float32Array,b=new Float32Array,S=new Float32Array,A=new Uint16Array,L=[];g[r]&&(x=g[r].getAttribute("position").array,b=g[r].getAttribute("normal").array,S=g[r].getAttribute("uv").array,A=g[r].index.array,L=g[r].groups),O.worker.postMessage({lod:u,bid:T,id:p,types:c,fnum:t.fnum,roomid:r,layerType:t.layerType,pointGeometrys:v,uvs:o,normals:s,isMerge:C,vertices:h,modelImagesData:y,modelTexturesData:f,groups:M,postcount:B,showBase:E,model3DData:m,bimModelData:_,modelImagePos:x,modelImageNor:b,modelImageUv:S,modelImageGroups:L,modelImageIndex:A,errorIds:e},[o.buffer,h.buffer,s.buffer,x.buffer,v.buffer,b.buffer,S.buffer,A.buffer]),B--}))};for(var le in s.planes)ue(le);for(var he in s.tubes)if(s.tubes[he].length>0){var ce=(0,n.default)({},he,i[he]);ce[he].tubeData=s.tubes[he][0],O.worker.postMessage({bid:T,id:p,types:ce,fnum:t.fnum,layerType:t.layerType,pointGeometrys:[],groups:{},roomid:he,model3DData:[],isMerge:C,modelImagesData:[],modelImagePos:[],modelTexturesData:[],postcount:B,showBase:E,errorIds:e}),B--}var pe=function(r){se=!0,s.extrudes[r].forEach((function(a,o){var s=new Float32Array,h=new Float32Array,c=new Float32Array,m=new Float32Array,v={},y=[],x=[],b=new Float32Array,M=(0,n.default)({},r,a?(0,n.default)({},r,a.userData.groupInfo):[]);a?(v[r]={brothers:[i[r].brothers[o]],groupIndex:i[r].groupIndex,lineIndex:i[r].lineIndex},s=a.getAttribute("uv").array,h=a.getAttribute("normal").array,c=a.getAttribute("normalizeUv").array,m=a.getAttribute("position").array,b=l[r][0].getAttribute("position").array):v[r]=null;var S=d[r]||null,A=f[r]||null;oe||(oe=!0,y=w,x=_);var L=new Float32Array,P=new Float32Array,I=new Float32Array,D=new Uint16Array,z=[];if(g[r]){var N=g[r];L=N.getAttribute("position").array,P=N.getAttribute("normal").array,I=N.getAttribute("uv").array,D=N.index.array,z=N.groups}O.worker.postMessage({bid:T,lod:u,id:p,types:v,fnum:t.fnum,layerType:t.layerType,pointGeometrys:b,uvs:s,normals:h,roomid:r,isMerge:C,vertices:m,modelImagesData:S,modelTexturesData:A,groups:M,postcount:B,normalizeUvs:c,showBase:E,model3DData:y,bimModelData:x,modelImagePos:L,modelImageNor:P,modelImageUv:I,modelImageGroups:z,modelImageIndex:D,errorIds:e},[s.buffer,m.buffer,h.buffer,L.buffer,c.buffer,b.buffer,P.buffer,I.buffer,D.buffer]),B--}))};for(var de in s.extrudes)pe(de);se||O.worker.postMessage({id:p,reset:!0})}},{key:"createFloors",value:function(t){var e={},i={},r={},n=t.layers,o=t.id,s=(t.layerType,t.floorHeight),u=t.bid,l={},h={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},p=this;if(!m){var d=t.maxX-t.minX;m=p.getRandomHeight(d)}for(var f=0;f<n.length;f++)for(var v=n[f].floorBases,g=v.length,y=0;y<g;y++){var x=v[y],b=p.createGeometry_(x,h,s,0,0),w=b.geometry,_=b.pointsGeometry,M=b.geometry.userData.groupInfo;e[0]||(e[0]={},i[0]=[],r[0]=[],e[0].brothers=[],e[0].faceIndex=0,l[0]=[]),l[0].push(M),i[0].push(w),r[0].push(_)}if(0!=(0,a.default)(i).length){var S=[],A=[],T=[],L=[],P=[];for(var C in i)i[C].forEach((function(t){S.push(t.getAttribute("uv")),A.push(t.getAttribute("position")),T.push(t.getAttribute("normal")),L.push(t.getAttribute("floorUvs"))})),r[C].forEach((function(t){P.push(t.getAttribute("position"))}));var E=c.BufferGeometryUtils.mergeBufferAttributes(S).array,I=c.BufferGeometryUtils.mergeBufferAttributes(A).array,D=c.BufferGeometryUtils.mergeBufferAttributes(T).array,B=c.BufferGeometryUtils.mergeBufferAttributes(P).array,O=c.BufferGeometryUtils.mergeBufferAttributes(L).array;p.worker.postMessage({bid:u,id:o,types:e,fnum:t.fnum,layerType:2,uvs:E,floorUvs:O,pointGeometrys:B,vertices:I,groups:l,normals:D},[E.buffer],[I.buffer],[D.buffer],[O.buffer],[r.buffer])}else p.worker.postMessage({id:o,reset:!0})}},{key:"getRandomHeight",value:function(t){var e=1,i=.01;return t<=50?(e=.1,i=.003):t<=100?(e=.2,i=.006):t<=200&&(e=.5,i=.008),(f+=.003)>=.03&&(f=0),i+f*e}},{key:"getDis",value:function(t,e){return Math.abs(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}},{key:"createTubeGeo",value:function(t,e,i,r,n){var a=t.points,o=e.sceneX,s=e.sceneZ,u=void 0;u=t.offset?t.offset.split(","):[0,0,0];for(var l={scale:t.RoomHigh,extrusionSegments:1,radiusSegments:10,closed:!1},c=[],p=0;p<a.length;p++){var d=a[p];c.push(new h.Vector3(d.x-o+1*u[0],d.z+1*u[1],d.y-s+1*u[2]))}var f=new h.CatmullRomCurve3(c,!1,"centripetal");return{geometry:new h.TubeBufferGeometry(f,l.extrusionSegments,l.scale,l.radiusSegments,l.closed)}}},{key:"createGeometry_",value:function(t,e,i,n,a,o,s){var u,l=this,c=e.sceneX,d=e.sceneZ,f=!1,v=!1,g=0;if(this.styleIndexMap&&s){var y=this.getStyleFromRoomStyle(t.RoomStyle);if("2"===y.filltype){var x=this.getThemeStyleIndex(y.topimage,y.sideimage);g=x.group?1*x.group:0}}var b=o;a&&(i=0),t.normalizeTop&&b&&(f=!0),t.normalizeSide&&b&&(v=!0);var w=[];if(!(u=t.points[0]instanceof Array?t.points[0]:t.points))return null;if(u.length>=4){for(var _,M=new h.Shape,S=0;S<u.length;S++){var A=u[S];0==S?M.moveTo(A.x-c,A.y-d):M.lineTo(A.x-c,A.y-d),w.push(new h.Vector3(A.x-c,A.y-d,0),new h.Vector3(A.x-c,A.y-d,0))}if(t.holes&&t.holes.length>0)for(var T in t.holes){var L=t.holes[T],P=new h.Path;if(Array.isArray(L)){for(var S in L){A=L[S];0==S?P.moveTo(A.x-c,A.y-d):P.lineTo(A.x-c,A.y-d)}M.holes.push(P)}}_=a?new h.ShapeBufferGeometry(M):new h.ExtrudeBufferGeometry(M,{depth:i,bevelEnabled:!1,material:0,extrudeMaterial:0});var C=e.minX,E=e.minY,I=e.maxX-C,D=e.maxY-E,B=_.getAttribute("uv"),O=_.getAttribute("normal").array,z=_.getAttribute("position").array,N=(0,p.getRUv)(M,{height:i,gridSize:{x:i,y:i}}),R=[],F=(T=0,B.array),U=(0,r.default)(F),k=(Math.max(I,D),B.count/3),G=e.floorCenX,V=e.floorCenZ,W=Math.abs(G)-Math.abs(e.sceneX),H=Math.abs(V)-Math.abs(e.sceneZ);if(n){if(!a){var j=function(t){var e={x:z[9*t],y:z[9*t+1]},i={x:z[9*t+3],y:z[9*t+4]},r={x:z[9*t+6],y:z[9*t+7]};return O[9*t+2]==O[9*t+5]?l.getDis(e,i):O[9*t+2]==O[9*t+8]?l.getDis(e,r):O[9*t+5]==O[9*t+8]?l.getDis(i,r):void 0};_.computeBoundingBox();var X=_.boundingBox.max,q=_.boundingBox.min,Y=new h.Vector2(0-q.x,0-q.y),J=new h.Vector2(X.x-q.x,X.y-q.y),Z=J.x/1,Q=J.y/1,K=1,$=1;for(f&&(K=Z,$=Q),k=_.groups[0].count/3;T<k;T++)F[6*T]=(z[9*T]+Y.x)/K,F[6*T+1]=(z[9*T+1]+Y.y)/$,F[6*T+2]=(z[9*T+3]+Y.x)/K,F[6*T+3]=(z[9*T+4]+Y.y)/$,F[6*T+4]=(z[9*T+6]+Y.x)/K,F[6*T+5]=(z[9*T+7]+Y.y)/$,U[6*T]=(z[9*T]+Y.x)/Z,U[6*T+1]=(z[9*T+1]+Y.y)/Q,U[6*T+2]=(z[9*T+3]+Y.x)/Z,U[6*T+3]=(z[9*T+4]+Y.y)/Q,U[6*T+4]=(z[9*T+6]+Y.x)/Z,U[6*T+5]=(z[9*T+7]+Y.y)/Q;for(var tt=_.groups[1].count/6,et=k/2,it=0;it<tt;it++,et++){var rt=j(2*et);rt<1&&(rt=1),v?(F[12*et]=1,F[12*et+1]=1,F[12*et+2]=0,F[12*et+3]=1,F[12*et+4]=1,F[12*et+5]=0,F[12*et+6]=0,F[12*et+7]=1,F[12*et+8]=0,F[12*et+9]=0,F[12*et+10]=1,F[12*et+11]=0):(F[12*et]=rt,F[12*et+1]=i,F[12*et+2]=0,F[12*et+3]=i,F[12*et+4]=rt,F[12*et+5]=0,F[12*et+6]=0,F[12*et+7]=i,F[12*et+8]=0,F[12*et+9]=0,F[12*et+10]=rt,F[12*et+11]=0),U[12*et]=1,U[12*et+1]=1,U[12*et+2]=0,U[12*et+3]=1,U[12*et+4]=1,U[12*et+5]=0,U[12*et+6]=0,U[12*et+7]=1,U[12*et+8]=0,U[12*et+9]=0,U[12*et+10]=1,U[12*et+11]=0}}}else for(;T<k;T++)R[6*T]=(z[9*T]-C-G+W)/I,R[6*T+1]=(z[9*T+1]-E+V-H)/D,R[6*T+2]=(z[9*T+3]-C-G+W)/I,R[6*T+3]=(z[9*T+4]-E+V-H)/D,R[6*T+4]=(z[9*T+6]-C-G+W)/I,R[6*T+5]=(z[9*T+7]-E+V-H)/D;var nt=(new h.BufferGeometry).setFromPoints(w),at=[],ot=nt.getAttribute("position").array,st=null;if(s&&this.styleIndexMap&&(st=this.getStyleFromRoomStyle(t.RoomStyle)),n){var ut={x:0,y:0,z:0};if(t.offset&&!t.RModel){var lt=t.offset.split(",");lt.length>=2&&(ut.x+=parseFloat(lt[0]||0),ut.y+=parseFloat(lt[2]||0),ut.z+=parseFloat(lt[1]||0)),t.RoomElevation=ut.z+i}ut.z+=i;var ht=_.getAttribute("position").count,ct=_.getAttribute("position").array,pt=ut.z;if(a)for(var dt,ft=3*ht;dt<ft;dt+=3)ct[dt]-=pt;else{var mt=[],vt=[],gt=[],yt=[],xt=_.getAttribute("normal").array,bt=_.getAttribute("uv").array,wt=[];n&&(wt=U);for(var _t=[],Mt=ct[2],St=st?1*st.height:0,At=0,Tt=0;Tt<ht;Tt++)ct[3*Tt+2]==Mt||0!=At&&Tt>At?(vt.push(ct[3*Tt],ct[3*Tt+1],ct[3*Tt+2]-pt-St),mt.push(xt[3*Tt],xt[3*Tt+1],xt[3*Tt+2]),gt.push(bt[2*Tt],bt[2*Tt+1]),_t.push(N[2*Tt],N[2*Tt+1]),n&&yt.push(wt[2*Tt],wt[2*Tt+1])):0==At&&(At=2*Tt);_.addAttribute("position",new h.BufferAttribute(new Float32Array(vt),3)),_.addAttribute("normal",new h.BufferAttribute(new Float32Array(mt),3)),_.addAttribute("uv",new h.BufferAttribute(new Float32Array(gt),2)),_.addAttribute("normalizeUv",new h.BufferAttribute(new Float32Array(yt),2)),_.addAttribute("rUv",new h.BufferAttribute(new Float32Array(_t),2)),_.groups[0].count-=At/2,_.groups[1].start-=At/2}ut.z-=.002;for(var Lt=m,Pt=ot.length,Ct=0;Ct<=Pt-3;Ct+=3){ot[Ct];ot[Ct]+=parseFloat(ut.x),ot[Ct+1]+=parseFloat(ut.y),ot[Ct+2]-=parseFloat(ut.z),0==Ct||Ct==Pt-3?at.push(ot[Ct],ot[Ct+1],ot[Ct+2]):at.push(ot[Ct],ot[Ct+1],ot[Ct+2]-Lt,ot[Ct],ot[Ct+1],ot[Ct+2]-Lt)}}else _.addAttribute("floorUvs",new h.BufferAttribute(new Float32Array(R),2));at=new Float32Array(at);var Et=nt.getAttribute("position");Et.setArray(at),Et.needsUpdate=!0;var It=_.groups;a&&(It=[{start:0,count:_.index.count,materialIndex:0},{start:0,count:_.index.count,materialIndex:0}]),_.userData.groupInfo=It,_.clearGroups(),_.addGroup(It[0].start,It[1].start+It[1].count,0);var Dt=a?_.index.count:_.attributes.position.count,Bt=new Array(Dt);a?Bt.fill(1,0,It[0].count):(Bt.fill(1,It[0].start,It[1].start),Bt.fill(0,It[1].start,It[1].start+It[1].count)),_.addAttribute("topFaceFlags",new h.BufferAttribute(new Float32Array(Bt),1));var Ot=new Array(Dt);Ot.fill(0,It[0].start,It[1].start+It[1].count),_.addAttribute("highLightFlags",new h.BufferAttribute(new Float32Array(Ot),1));var zt=new Array(Dt);zt.fill(i,It[0].start,It[1].start+It[1].count),_.addAttribute("buildingsHeight",new h.BufferAttribute(new Float32Array(zt),1));var Nt=new Array(Dt);Nt.fill(h.Math.randFloat(0,1),It[0].start,It[1].start+It[1].count),_.addAttribute("randomFactor",new h.BufferAttribute(new Float32Array(Nt),1));var Rt=new Array(Dt);Rt.fill(0,It[0].start,It[1].start+It[1].count),_.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Rt),1));var Ft=new Array(Dt);Ft.fill(0,It[0].start,It[1].start+It[1].count),_.addAttribute("isSelectFlags",new h.BufferAttribute(new Float32Array(Ft),1));var Ut=[],kt=[],Gt=void 0,Vt=void 0;if(Gt=new Array(Dt),Vt=new Array(Dt),st&&st.filltype&&1*st.filltype==1&&st.color)for(var Wt=st.color.split(","),Ht=0;Ht<Dt;Ht++)Ut.push(1*Wt[0]/255,1*Wt[1]/255,1*Wt[2]/255,1*st.opacity),kt.push(1,1,1,1);else if(st&&st.filltype&&1*st.filltype==2&&(st.topimage||st.sideimage)){for(var jt=0;jt<Dt;jt++)Ut.push(1,1,1,1*st.opacity),kt.push(1,1,1,1);st.topimage&&Gt.fill(g,0,It[1].start+It[1].count),st.sideimage&&Vt.fill(g,0,It[1].start+It[1].count)}return _.addAttribute("buildingsColor",new h.BufferAttribute(new Float32Array(Ut),4)),_.addAttribute("highLightColor",new h.BufferAttribute(new Float32Array(kt),4)),_.addAttribute("topTexIndex",new h.BufferAttribute(new Float32Array(Gt),1)),_.addAttribute("sideTexIndex",new h.BufferAttribute(new Float32Array(Vt),1)),{geometry:_,pointsGeometry:nt,model:t}}return null}}]),t}();e.default=v},222:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRUv=void 0;var r=i(48);function n(t,e,i){var n=i.x,a=i.y,o=0;return{generateTopUV:function(e,i,n,a,o){var s=[new r.Vector2(0,0),new r.Vector2(0,0),new r.Vector2(0,0)];return t.topUv.push(s[0].x,s[0].y,s[1].x,s[1].y,s[2].x,s[2].y),s},generateSideWallUV:function(i,s,u,l,h,c){var p,d,f=s[3*u],m=s[3*u+1],v=s[3*u+2],g=s[3*l],y=s[3*l+1],x=s[3*l+2],b=new r.Vector3(f,m,v),w=new r.Vector3(g,y,x),_=b.distanceTo(w);return p=t.sideUv,d=[new r.Vector2(o,0),new r.Vector2(o+_/n,0),new r.Vector2(o+_/n,e/a),new r.Vector2(o,e/a)],p.push(d[0].x,d[0].y,d[1].x,d[1].y,d[3].x,d[3].y),p.push(d[1].x,d[1].y,d[2].x,d[2].y,d[3].x,d[3].y),o+=_/n,t.sideUv}}}e.getRUv=function(t,e){var i={topUv:[],sideUv:[]};return new r.ExtrudeBufferGeometry(t,{depth:e.height,material:0,extrudeMaterial:0,bevelEnabled:!1,UVGenerator:n(i,e.height,e.gridSize)}).dispose(),i.topUv.concat(i.sideUv)}},223:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(14)),n=d(i(7)),a=d(i(8)),o=d(i(9)),s=d(i(0)),u=d(i(1)),l=d(i(233)),h=d(i(234)),c=i(48),p=i(32);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){(0,s.default)(this,t),this.worker=e,this.opts={mapDataSrc:"",mapid:""},this.threeCenter=null,this.bimDatas={},this.sceneX=0,this.sceneZ=0,this.sourceData={},this.queue=null,this.mapCenter=null,this.collections={},this.db=null,this.needsUpdate=!0,this.devMode=!1,this.mergeMode=!0,this.bimInfo=null,this.buffers=[],this.useIDB=!0,this.ajaxPrefix=e.location.href}var e,i,d,f,m,v;return(0,u.default)(t,[{key:"getBimDatasFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimDatas").objectStore("bimDatas"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"startInfo",value:(v=(0,a.default)(n.default.mark((function t(e){var i,r,a;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(this.url=e.url,r=e.useCache,this.queue=e.datas,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!r||!i){t.next=23;break}return t.next=19,this.getBimInfoFromDB(e.mapid);case 19:(a=t.sent)?(this.bimInfo=a,this.postBimInfo()):this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null}),t.next=24;break;case 23:this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null});case 24:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"start",value:(m=(0,a.default)(n.default.mark((function t(e){var i,a,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(a=e.useCache,this.queue=e.datas,this.url=e.url,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!a||!i){t.next=24;break}return t.next=19,this.IDBQueryData("bimDatas",{page:e.controlIndex,bids:e.mapid});case 19:o=t.sent,(0,r.default)(o).length>0?(this.bimDatas=o,this.threeCenter=o.threeCenter,this.mapCenter=o.mapCenter,this.handleFromCache(this.controlIndex,e.mapid)):(this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex})),t.next=26;break;case 24:this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex});case 26:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"onSourceLoaded",value:function(){var t=this.queue,e={},i=this.mergeMode;for(var r in t)if(this.bimDatas[r]){e[r]={};var n=t[r];if(i)for(var a in n){e[r][a]=[];var o=n[a],s=this.mergeQueue(o,r);e[r][a].push(s)}else for(var u in n){e[r][u]=[];var l=n[u];for(var h in l){var c=[l[h]],p=this.mergeQueue(c,r);e[r][u].push(p)}}t[r]={}}this.worker.postMessage({message:"bimMerged",useCache:!this.needsUpdate,data:e,id:this.workerId,center:this.threeCenter,bimCenter:this.mapCenter,bids:this.opts.mapid},this.buffers),this.bimDatas=null,this.sourceData=null}},{key:"getTransformMatrix",value:function(t,e,i){var r=new c.Euler(e.x,e.y,e.z,"XYZ"),n=(new c.Quaternion).setFromEuler(r),a=new c.Vector3(t.x,t.y,t.z),o=new c.Vector3(i.x,i.y,i.z);return(new c.Matrix4).compose(a,n,o)}},{key:"coordMapToThree",value:function(t){return new c.Vector3(-(t.x+this.sceneX),0,t.y-this.sceneZ)}},{key:"coordThreeToMap",value:function(t){return{x:-(t.x+this.sceneX),y:t.z+this.sceneZ}}},{key:"mergeQueue",value:function(t,e){var i=this.bimDatas[e];if(!i)return null;for(var r={},n=[],a=0;a<t.length;a++){var o=t[a];o.isBim=!0;var s=o.offset.split(","),u=o.center,l=this.coordMapToThree(u),h=new c.Vector3(l.x+1*s[0],0+1*s[1],l.z+1*s[2]);o.scale={x:o.scale.x,y:o.scale.y,z:o.scale.z};var d=new c.Vector3(o.scale.x,o.scale.y,o.scale.z),f=new c.Vector3(0,0,0);if(o.rotate){var m=o.rotate.split(",");f.x=c.Math.degToRad(1*m[0]),f.y=c.Math.degToRad(1*m[1]),f.z=c.Math.degToRad(1*m[2])}var v=this.getTransformMatrix({x:h.x,y:h.y,z:h.z},{x:f.x,y:f.y,z:f.z},{x:d.x,y:d.y,z:d.z});for(var g in i){r[g]||(r[g]={geometries:[],groupInfo:[],groupIndex:0});var y=i[g],x=new c.BufferGeometry;x.setIndex(new c.BufferAttribute(y.indexes,1)),x.addAttribute("position",new c.BufferAttribute(y.positions,3)),x.addAttribute("uv",new c.BufferAttribute(y.uvs,2)),(x=x.clone()).applyMatrix(v),r[g].geometries.push(x),r[g].groupInfo.push({style:g,id:o.id,start:r[g].groupIndex,count:x.index.count,materialIndex:0}),r[g].groupIndex+=x.index.count}}for(var b in r){var w=p.BufferGeometryUtils.mergeBufferGeometries(r[b].geometries);n.push({style:b,groupInfo:r[b].groupInfo,position:w.attributes.position.array,uv:w.attributes.uv.array,index:w.index.array,mapCoord:r[b].mapCoord}),this.buffers.push(w.attributes.position.array.buffer,w.attributes.uv.array.buffer,w.index.array.buffer)}return n}},{key:"getHeadTime",value:function(t){var e=t.controlIndex,i=this.opts.mapDataSrc,r=this.opts.mapid,n=""+i+r+"/"+r+"-bim"+e+".bin";return n.indexOf("http")<0&&(n=this.ajaxPrefix+"/"+n),new o.default((function(t,e){l.default.get({type:"HEAD",url:n,isArrayBuffer:!0,useCacheSince:null}).success((function(e,i){var r=i.getResponseHeader("Last-Modified"),n=Date.parse(r);t(n)})).error((function(){e(null)}))}))}},{key:"getBimInfoFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimInfos").objectStore("bimInfos"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"postBimInfo",value:(f=(0,a.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.worker.postMessage({message:"bimInfos",data:this.bimInfo,id:this.workerId});case 1:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"loadBimInfo",value:(d=(0,a.default)(n.default.mark((function t(){var e,i,r;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(e=this).useIDB,r=this.url,l.default.get({url:r,isArrayBuffer:!0,useCacheSince:null}).success((function(t,r){var n=r.getResponseHeader("Last-Modified"),a=Date.parse(n),o=new Uint8Array(t),s=h.default.ESBim.ESBimInfoSet.decode(o);s.lastModified=a,i&&e.IDBAddItem("bimInfos",s),e.bimInfo=s,e.postBimInfo()})).error((function(t,i){e.clearCache()}));case 5:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"loadBimDatas",value:(i=(0,a.default)(n.default.mark((function t(e){var i,r,o,s=e.controlIndex;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=this).opts.mapDataSrc,r=i.opts.mapid,o=this.url,l.default.get({url:o,isArrayBuffer:!0,useCacheSince:null}).success(function(){var t=(0,a.default)(n.default.mark((function t(e,a){var u,l,c;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.needsUpdate=!0,u=new Uint8Array(e),t.prev=3,l=h.default.ESBim.ESBimGeoSet.decode(u),i.needsUpdate&&(this.devMode,i.needsUpdate=!0,c={x:l.x,y:l.y},i.coordMapToThree({x:c.x,y:c.y}),i.sourceData=l,i.convertSources(s),i.onSourceLoaded(s)),t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(3),console.info(r,'Error on reading "'+o+'"',"please confirm your file path"),console.info(r,t.t0),t.abrupt("return");case 13:case"end":return t.stop()}}),t,this,[[3,8]])})));return function(e,i){return t.apply(this,arguments)}}()).error((function(t,e){i.clearCache()}));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"handleFromCache",value:(e=(0,a.default)(n.default.mark((function t(e,i){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.parseQueue();case 1:case"end":return t.stop()}}),t,this)}))),function(t,i){return e.apply(this,arguments)})},{key:"parseQueue",value:function(){this.onSourceLoaded()}},{key:"convertSources",value:function(t){var e=this,i=e.sourceData,r=e.opts.mapid,n=e.queue,a=e.needsUpdate,o=e.useIDB;for(var s in this.threeCenter=this.coordMapToThree({x:i.x,y:i.y}),this.mapCenter={x:i.x,y:i.y},i.Ones){var u="BIM-"+s;if(n[u]){var l=i.Ones[s],h=l.pts,c=l.uv,p=l.fs,d={};if(0!=p.length){for(var f=0;f<p.length;f++){var m=p[f],v=m.idx,g=m.uv,y=m.vtx,x=m.c;d[x]||(d[x]={positions:[],uvs:[],indexes:[],offset:0});for(var b=0;b<y.length;b++)d[x].positions.push(h[y[b]]);for(var w=0;w<g.length;w++)d[x].uvs.push(c[g[w]]);for(var _=0;_<v.length;_++){var M=v[_];d[x].indexes.push(M+d[x].offset)}d[x].offset+=y.length/3}var S={};for(var A in d){var T=d[A];S[A]={indexes:new Uint16Array(T.indexes),positions:new Float32Array(T.positions),uvs:new Float32Array(T.uvs)}}if(this.bimDatas[u]=S,a&&o){var L=r+"-"+s;e.IDBAddItem("bimDatas",{id:L,bids:r,bimId:s,page:t,datas:S,mapCenter:this.mapCenter,threeCenter:this.threeCenter})}}}}}},{key:"IDBTryInit",value:function(t){var e=this;return new o.default((function(i){var r=e.worker.indexedDB.open(t.db);r.onsuccess=function(){var t=r.result;e.db=t,e.devMode,i()},r.onerror=function(){r.errorCode}}))}},{key:"IDBAddItem",value:function(t,e){var i=this.db,r=this,n=i.transaction([t],"readwrite").objectStore(t).add(e);n.onsuccess=function(t){r.devMode},n.onerror=function(t){r.devMode}}},{key:"clearCache",value:function(){if(this.useIDB){var t=this.db,e=this.opts.mapid;t.transaction("bimDatas","readwrite").objectStore("bimDatas").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimInfos","readwrite").objectStore("bimInfos").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimSets","readwrite").objectStore("bimSets").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())}}}},{key:"IDBQueryData",value:function(t,e){var i=this,r=this;return new o.default((function(n){var a=i.db.transaction([t],"readonly").objectStore(t),o=a.index("myIndex").openCursor(IDBKeyRange.only([e.bids,e.page])),s={};o.onsuccess=function(t){var e=t.target.result;if(e){var i=e.value,r="BIM-"+i.bimId;s.mapCenter||(s.mapCenter=i.mapCenter,s.threeCenter=i.threeCenter),s[r]=i.datas,e.continue()}else n(s)},o.onerror=function(){};var u=a.count();u.onsuccess=function(){u.result;r.devMode}}))}}]),t}();e.default=f},233:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=i(4);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){(0,r.default)(this,t),this.url=e.url;var i=this.url,n=e.data;this.type=e.type||(n?"POST":"GET");var o=this.type,s=null==e.async||e.async;if(this.isArrayBuffer=e.isArrayBuffer||!1,this._isComplete=!1,this._status,this._responseData,this._httpStatus,this._completeCallbacks=new a.Callbacks,this._successCallbacks=new a.Callbacks,this._errorCallbacks=new a.Callbacks,this._since=e.useCacheSince||null,this._httpServer,this._initHttpServer(),this._httpServer.open(o,i,s),this._since){var u=new Date(this._since).toGMTString();this._httpServer.setRequestHeader("If-Modified-Since",u)}this._httpServer.onreadystatechange=this._httpStateChange.bind(this),"GET"==o&&this.isArrayBuffer&&(this._httpServer.responseType="arraybuffer",this._httpServer.custom&&(this._httpServer.custom.xhr.responseType="arraybuffer")),"POST"===o&&(this._httpServer.setRequestHeader("X-Requested-With","XMLHttpRequest"),this._httpServer.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this._httpServer.setRequestHeader("Connection","close"));try{this._httpServer.send(n)}catch(t){this._errorCallback()}}return(0,n.default)(t,[{key:"complete",value:function(t){return this._completeCallbacks.add(t),this._isComplete&&this._completeCallbacks.fire(this._responseData,this._status),this}},{key:"success",value:function(t){return this._successCallbacks.add(t),this._isComplete&&"success"===this._status&&this._successCallbacks.fire(this._responseData),this}},{key:"error",value:function(t){return this._errorCallbacks.add(t),this._isComplete&&"error"===this._status&&this._errorCallbacks.fire(this._responseData),this}}],[{key:"get",value:function(e){return new t(e)}},{key:"getJSON",value:function(e){return new t({url:e.url,async:e.async}).success((function(t){var e;try{e=JSON.parse(t)}catch(t){}return[e]}))}},{key:"post",value:function(e,i){return new t({url:e,data:i})}}]),(0,n.default)(t,[{key:"_initHttpServer",value:function(){XMLHttpRequest&&(this._httpServer=new XMLHttpRequest)}},{key:"_httpStateChange",value:function(){4===this._httpServer.readyState&&(this._isComplete=!0,this.judgeStatus())}},{key:"_successCallback",value:function(){this._completeCallbacks.fire(this._responseData,this._status),this._successCallbacks.fire(this._responseData,this._httpServer)}},{key:"judgeStatus",value:function(){200==this._httpServer.status?(this._status="success","GET"==this.type&&(this.isArrayBuffer||this.url.indexOf(".loc")>0)?this._responseData=this._httpServer.response:this._responseData=this._httpServer.responseText,this._successCallback()):(this._status="error",this._responseData=this._httpServer.response,this._httpStatus=this._httpServer.status,this._errorCallback())}},{key:"_errorCallback",value:function(){this._httpStatus,this._completeCallbacks.fire(this._responseData,this._status),this._errorCallbacks.fire(this._responseData,this._httpStatus)}}]),t}();e.default=s},234:function(t,e,i){"use strict";var r=a(i(6)),n=a(i(14));function a(t){return t&&t.__esModule?t:{default:t}}var o,s=i(75),u=s.Reader,l=s.Writer,h=s.util,c=s.roots.default||(s.roots.default={});c.ESBim=((o={}).ESBimGeoSet=function(){function t(t){if(this.Ones={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.pageno=0,t.prototype.pages=0,t.prototype.x=0,t.prototype.y=0,t.prototype.z=0,t.prototype.Ones=h.emptyObject,t.prototype.t1="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&e.uint32(40).int32(t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&e.uint32(48).int32(t.pages),null!=t.x&&t.hasOwnProperty("x")&&e.uint32(57).double(t.x),null!=t.y&&t.hasOwnProperty("y")&&e.uint32(65).double(t.y),null!=t.z&&t.hasOwnProperty("z")&&e.uint32(73).double(t.z),null!=t.Ones&&t.hasOwnProperty("Ones"))for(var i=(0,n.default)(t.Ones),r=0;r<i.length;++r)e.uint32(82).fork().uint32(10).string(i[r]),c.ESBim.OneGeoSet.encode(t.Ones[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(90).string(t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimGeoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.pageno=t.int32();break;case 6:n.pages=t.int32();break;case 7:n.x=t.double();break;case 8:n.y=t.double();break;case 9:n.z=t.double();break;case 10:t.skip().pos++,n.Ones===h.emptyObject&&(n.Ones={}),i=t.string(),t.pos++,n.Ones[i]=c.ESBim.OneGeoSet.decode(t,t.uint32());break;case 11:n.t1=t.string();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.pageno&&t.hasOwnProperty("pageno")&&!h.isInteger(t.pageno))return"pageno: integer expected";if(null!=t.pages&&t.hasOwnProperty("pages")&&!h.isInteger(t.pages))return"pages: integer expected";if(null!=t.x&&t.hasOwnProperty("x")&&"number"!=typeof t.x)return"x: number expected";if(null!=t.y&&t.hasOwnProperty("y")&&"number"!=typeof t.y)return"y: number expected";if(null!=t.z&&t.hasOwnProperty("z")&&"number"!=typeof t.z)return"z: number expected";if(null!=t.Ones&&t.hasOwnProperty("Ones")){if(!h.isObject(t.Ones))return"Ones: object expected";for(var e=(0,n.default)(t.Ones),i=0;i<e.length;++i){var a=c.ESBim.OneGeoSet.verify(t.Ones[e[i]]);if(a)return"Ones."+a}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimGeoSet)return t;var e=new c.ESBim.ESBimGeoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),null!=t.pageno&&(e.pageno=0|t.pageno),null!=t.pages&&(e.pages=0|t.pages),null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.z&&(e.z=Number(t.z)),t.Ones){if("object"!==(0,r.default)(t.Ones))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones={};for(var i=(0,n.default)(t.Ones),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.Ones[i[a]]))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones[i[a]]=c.ESBim.OneGeoSet.fromObject(t.Ones[i[a]])}}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.Ones={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.pageno=0,r.pages=0,r.x=0,r.y=0,r.z=0,r.t1="",r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&(r.pageno=t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&(r.pages=t.pages),null!=t.x&&t.hasOwnProperty("x")&&(r.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(r.y=t.y),null!=t.z&&t.hasOwnProperty("z")&&(r.z=t.z),t.Ones&&(i=(0,n.default)(t.Ones)).length){r.Ones={};for(var a=0;a<i.length;++a)r.Ones[i[a]]=c.ESBim.OneGeoSet.toObject(t.Ones[i[a]],e)}return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneGeoSet=function(){function t(t){if(this.pts=[],this.uv=[],this.fs=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.ps=0,t.prototype.pts=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.fs=h.emptyArray,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.ps&&t.hasOwnProperty("ps")&&e.uint32(8).int32(t.ps),null!=t.pts&&t.pts.length){e.uint32(18).fork();for(var i=0;i<t.pts.length;++i)e.double(t.pts[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(26).fork(),i=0;i<t.uv.length;++i)e.double(t.uv[i]);e.ldelim()}if(null!=t.fs&&t.fs.length)for(i=0;i<t.fs.length;++i)c.ESBim.FaceSet.encode(t.fs[i],e.uint32(34).fork()).ldelim();return null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(40).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(50).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.OneGeoSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.ps=t.int32();break;case 2:if(r.pts&&r.pts.length||(r.pts=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.pts.push(t.double());else r.pts.push(t.double());break;case 3:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.double());else r.uv.push(t.double());break;case 4:r.fs&&r.fs.length||(r.fs=[]),r.fs.push(c.ESBim.FaceSet.decode(t,t.uint32()));break;case 5:r.o1=t.int32();break;case 6:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.ps&&t.hasOwnProperty("ps")&&!h.isInteger(t.ps))return"ps: integer expected";if(null!=t.pts&&t.hasOwnProperty("pts")){if(!Array.isArray(t.pts))return"pts: array expected";for(var e=0;e<t.pts.length;++e)if("number"!=typeof t.pts[e])return"pts: number[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if("number"!=typeof t.uv[e])return"uv: number[] expected"}if(null!=t.fs&&t.hasOwnProperty("fs")){if(!Array.isArray(t.fs))return"fs: array expected";for(e=0;e<t.fs.length;++e){var i=c.ESBim.FaceSet.verify(t.fs[e]);if(i)return"fs."+i}}return null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneGeoSet)return t;var e=new c.ESBim.OneGeoSet;if(null!=t.ps&&(e.ps=0|t.ps),t.pts){if(!Array.isArray(t.pts))throw TypeError(".ESBim.OneGeoSet.pts: array expected");e.pts=[];for(var i=0;i<t.pts.length;++i)e.pts[i]=Number(t.pts[i])}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.OneGeoSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=Number(t.uv[i])}if(t.fs){if(!Array.isArray(t.fs))throw TypeError(".ESBim.OneGeoSet.fs: array expected");for(e.fs=[],i=0;i<t.fs.length;++i){if("object"!==(0,r.default)(t.fs[i]))throw TypeError(".ESBim.OneGeoSet.fs: object expected");e.fs[i]=c.ESBim.FaceSet.fromObject(t.fs[i])}}return null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.pts=[],i.uv=[],i.fs=[]),e.defaults&&(i.ps=0,i.o1=0,i.o2=""),null!=t.ps&&t.hasOwnProperty("ps")&&(i.ps=t.ps),t.pts&&t.pts.length){i.pts=[];for(var r=0;r<t.pts.length;++r)i.pts[r]=t.pts[r]}if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];if(t.fs&&t.fs.length)for(i.fs=[],r=0;r<t.fs.length;++r)i.fs[r]=c.ESBim.FaceSet.toObject(t.fs[r],e);return null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.FaceSet=function(){function t(t){if(this.vtx=[],this.idx=[],this.uv=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.c=0,t.prototype.vtx=h.emptyArray,t.prototype.idx=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.t=0,t.prototype.n="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.c&&t.hasOwnProperty("c")&&e.uint32(8).int32(t.c),null!=t.vtx&&t.vtx.length){e.uint32(18).fork();for(var i=0;i<t.vtx.length;++i)e.int32(t.vtx[i]);e.ldelim()}if(null!=t.idx&&t.idx.length){for(e.uint32(26).fork(),i=0;i<t.idx.length;++i)e.int32(t.idx[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(34).fork(),i=0;i<t.uv.length;++i)e.int32(t.uv[i]);e.ldelim()}return null!=t.t&&t.hasOwnProperty("t")&&e.uint32(40).int32(t.t),null!=t.n&&t.hasOwnProperty("n")&&e.uint32(50).string(t.n),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(56).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(66).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.FaceSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.c=t.int32();break;case 2:if(r.vtx&&r.vtx.length||(r.vtx=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.vtx.push(t.int32());else r.vtx.push(t.int32());break;case 3:if(r.idx&&r.idx.length||(r.idx=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.idx.push(t.int32());else r.idx.push(t.int32());break;case 4:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.int32());else r.uv.push(t.int32());break;case 5:r.t=t.int32();break;case 6:r.n=t.string();break;case 7:r.o1=t.int32();break;case 8:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.c&&t.hasOwnProperty("c")&&!h.isInteger(t.c))return"c: integer expected";if(null!=t.vtx&&t.hasOwnProperty("vtx")){if(!Array.isArray(t.vtx))return"vtx: array expected";for(var e=0;e<t.vtx.length;++e)if(!h.isInteger(t.vtx[e]))return"vtx: integer[] expected"}if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(e=0;e<t.idx.length;++e)if(!h.isInteger(t.idx[e]))return"idx: integer[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if(!h.isInteger(t.uv[e]))return"uv: integer[] expected"}return null!=t.t&&t.hasOwnProperty("t")&&!h.isInteger(t.t)?"t: integer expected":null!=t.n&&t.hasOwnProperty("n")&&!h.isString(t.n)?"n: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.FaceSet)return t;var e=new c.ESBim.FaceSet;if(null!=t.c&&(e.c=0|t.c),t.vtx){if(!Array.isArray(t.vtx))throw TypeError(".ESBim.FaceSet.vtx: array expected");e.vtx=[];for(var i=0;i<t.vtx.length;++i)e.vtx[i]=0|t.vtx[i]}if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.FaceSet.idx: array expected");for(e.idx=[],i=0;i<t.idx.length;++i)e.idx[i]=0|t.idx[i]}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.FaceSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=0|t.uv[i]}return null!=t.t&&(e.t=0|t.t),null!=t.n&&(e.n=String(t.n)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.vtx=[],i.idx=[],i.uv=[]),e.defaults&&(i.c=0,i.t=0,i.n="",i.o1=0,i.o2=""),null!=t.c&&t.hasOwnProperty("c")&&(i.c=t.c),t.vtx&&t.vtx.length){i.vtx=[];for(var r=0;r<t.vtx.length;++r)i.vtx[r]=t.vtx[r]}if(t.idx&&t.idx.length)for(i.idx=[],r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r];if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];return null!=t.t&&t.hasOwnProperty("t")&&(i.t=t.t),null!=t.n&&t.hasOwnProperty("n")&&(i.n=t.n),null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.ESBimInfoSet=function(){function t(t){if(this.nlist=[],this.infos={},this.cates={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.nlist=h.emptyArray,t.prototype.infos=h.emptyObject,t.prototype.cates=h.emptyObject,t.prototype.t1="",t.prototype.cnt=0,t.prototype.pts=0,t.prototype.vects=0,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.nlist&&t.nlist.length)for(var i=0;i<t.nlist.length;++i)e.uint32(42).string(t.nlist[i]);if(null!=t.infos&&t.hasOwnProperty("infos")){var r=(0,n.default)(t.infos);for(i=0;i<r.length;++i)e.uint32(50).fork().uint32(8).int32(r[i]),c.ESBim.OneInfoSet.encode(t.infos[r[i]],e.uint32(18).fork()).ldelim().ldelim()}if(null!=t.cates&&t.hasOwnProperty("cates"))for(r=(0,n.default)(t.cates),i=0;i<r.length;++i)e.uint32(58).fork().uint32(8).int32(r[i]).uint32(18).string(t.cates[r[i]]).ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(66).string(t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&e.uint32(72).int32(t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&e.uint32(80).int32(t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&e.uint32(88).int32(t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.nlist&&n.nlist.length||(n.nlist=[]),n.nlist.push(t.string());break;case 6:t.skip().pos++,n.infos===h.emptyObject&&(n.infos={}),i=t.int32(),t.pos++,n.infos[i]=c.ESBim.OneInfoSet.decode(t,t.uint32());break;case 7:t.skip().pos++,n.cates===h.emptyObject&&(n.cates={}),i=t.int32(),t.pos++,n.cates[i]=t.string();break;case 8:n.t1=t.string();break;case 9:n.cnt=t.int32();break;case 10:n.pts=t.int32();break;case 11:n.vects=t.int32();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.nlist&&t.hasOwnProperty("nlist")){if(!Array.isArray(t.nlist))return"nlist: array expected";for(var e=0;e<t.nlist.length;++e)if(!h.isString(t.nlist[e]))return"nlist: string[] expected"}if(null!=t.infos&&t.hasOwnProperty("infos")){if(!h.isObject(t.infos))return"infos: object expected";var i=(0,n.default)(t.infos);for(e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"infos: integer key{k:int32} expected";var a=c.ESBim.OneInfoSet.verify(t.infos[i[e]]);if(a)return"infos."+a}}if(null!=t.cates&&t.hasOwnProperty("cates")){if(!h.isObject(t.cates))return"cates: object expected";for(i=(0,n.default)(t.cates),e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"cates: integer key{k:int32} expected";if(!h.isString(t.cates[i[e]]))return"cates: string{k:int32} expected"}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.cnt&&t.hasOwnProperty("cnt")&&!h.isInteger(t.cnt)?"cnt: integer expected":null!=t.pts&&t.hasOwnProperty("pts")&&!h.isInteger(t.pts)?"pts: integer expected":null!=t.vects&&t.hasOwnProperty("vects")&&!h.isInteger(t.vects)?"vects: integer expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimInfoSet)return t;var e=new c.ESBim.ESBimInfoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),t.nlist){if(!Array.isArray(t.nlist))throw TypeError(".ESBim.ESBimInfoSet.nlist: array expected");e.nlist=[];for(var i=0;i<t.nlist.length;++i)e.nlist[i]=String(t.nlist[i])}if(t.infos){if("object"!==(0,r.default)(t.infos))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos={};var a=(0,n.default)(t.infos);for(i=0;i<a.length;++i){if("object"!==(0,r.default)(t.infos[a[i]]))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos[a[i]]=c.ESBim.OneInfoSet.fromObject(t.infos[a[i]])}}if(t.cates){if("object"!==(0,r.default)(t.cates))throw TypeError(".ESBim.ESBimInfoSet.cates: object expected");for(e.cates={},a=(0,n.default)(t.cates),i=0;i<a.length;++i)e.cates[a[i]]=String(t.cates[a[i]])}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.cnt&&(e.cnt=0|t.cnt),null!=t.pts&&(e.pts=0|t.pts),null!=t.vects&&(e.vects=0|t.vects),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.arrays||e.defaults)&&(r.nlist=[]),(e.objects||e.defaults)&&(r.infos={},r.cates={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.t1="",r.cnt=0,r.pts=0,r.vects=0,r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),t.nlist&&t.nlist.length){r.nlist=[];for(var a=0;a<t.nlist.length;++a)r.nlist[a]=t.nlist[a]}if(t.infos&&(i=(0,n.default)(t.infos)).length)for(r.infos={},a=0;a<i.length;++a)r.infos[i[a]]=c.ESBim.OneInfoSet.toObject(t.infos[i[a]],e);if(t.cates&&(i=(0,n.default)(t.cates)).length)for(r.cates={},a=0;a<i.length;++a)r.cates[i[a]]=t.cates[i[a]];return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&(r.cnt=t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&(r.pts=t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&(r.vects=t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneInfoSet=function(){function t(t){if(this.info={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.id=0,t.prototype.name="",t.prototype.bimid=0,t.prototype.uuid="",t.prototype.fnum=0,t.prototype.tid=0,t.prototype.info=h.emptyObject,t.prototype.status=0,t.prototype.msg="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.id&&t.hasOwnProperty("id")&&e.uint32(8).int32(t.id),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&e.uint32(24).int32(t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&e.uint32(34).string(t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&e.uint32(40).int32(t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&e.uint32(48).int32(t.tid),null!=t.info&&t.hasOwnProperty("info"))for(var i=(0,n.default)(t.info),r=0;r<i.length;++r)e.uint32(58).fork().uint32(8).int32(i[r]),c.ESBim.IDList.encode(t.info[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.status&&t.hasOwnProperty("status")&&e.uint32(64).int32(t.status),null!=t.msg&&t.hasOwnProperty("msg")&&e.uint32(74).string(t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(80).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(90).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.OneInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.id=t.int32();break;case 2:n.name=t.string();break;case 3:n.bimid=t.int32();break;case 4:n.uuid=t.string();break;case 5:n.fnum=t.int32();break;case 6:n.tid=t.int32();break;case 7:t.skip().pos++,n.info===h.emptyObject&&(n.info={}),i=t.int32(),t.pos++,n.info[i]=c.ESBim.IDList.decode(t,t.uint32());break;case 8:n.status=t.int32();break;case 9:n.msg=t.string();break;case 10:n.o1=t.int32();break;case 11:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&!h.isInteger(t.id))return"id: integer expected";if(null!=t.name&&t.hasOwnProperty("name")&&!h.isString(t.name))return"name: string expected";if(null!=t.bimid&&t.hasOwnProperty("bimid")&&!h.isInteger(t.bimid))return"bimid: integer expected";if(null!=t.uuid&&t.hasOwnProperty("uuid")&&!h.isString(t.uuid))return"uuid: string expected";if(null!=t.fnum&&t.hasOwnProperty("fnum")&&!h.isInteger(t.fnum))return"fnum: integer expected";if(null!=t.tid&&t.hasOwnProperty("tid")&&!h.isInteger(t.tid))return"tid: integer expected";if(null!=t.info&&t.hasOwnProperty("info")){if(!h.isObject(t.info))return"info: object expected";for(var e=(0,n.default)(t.info),i=0;i<e.length;++i){if(!h.key32Re.test(e[i]))return"info: integer key{k:int32} expected";var a=c.ESBim.IDList.verify(t.info[e[i]]);if(a)return"info."+a}}return null!=t.status&&t.hasOwnProperty("status")&&!h.isInteger(t.status)?"status: integer expected":null!=t.msg&&t.hasOwnProperty("msg")&&!h.isString(t.msg)?"msg: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneInfoSet)return t;var e=new c.ESBim.OneInfoSet;if(null!=t.id&&(e.id=0|t.id),null!=t.name&&(e.name=String(t.name)),null!=t.bimid&&(e.bimid=0|t.bimid),null!=t.uuid&&(e.uuid=String(t.uuid)),null!=t.fnum&&(e.fnum=0|t.fnum),null!=t.tid&&(e.tid=0|t.tid),t.info){if("object"!==(0,r.default)(t.info))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info={};for(var i=(0,n.default)(t.info),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.info[i[a]]))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info[i[a]]=c.ESBim.IDList.fromObject(t.info[i[a]])}}return null!=t.status&&(e.status=0|t.status),null!=t.msg&&(e.msg=String(t.msg)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.info={}),e.defaults&&(r.id=0,r.name="",r.bimid=0,r.uuid="",r.fnum=0,r.tid=0,r.status=0,r.msg="",r.o1=0,r.o2=""),null!=t.id&&t.hasOwnProperty("id")&&(r.id=t.id),null!=t.name&&t.hasOwnProperty("name")&&(r.name=t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&(r.bimid=t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&(r.uuid=t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&(r.fnum=t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&(r.tid=t.tid),t.info&&(i=(0,n.default)(t.info)).length){r.info={};for(var a=0;a<i.length;++a)r.info[i[a]]=c.ESBim.IDList.toObject(t.info[i[a]],e)}return null!=t.status&&t.hasOwnProperty("status")&&(r.status=t.status),null!=t.msg&&t.hasOwnProperty("msg")&&(r.msg=t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.IDList=function(){function t(t){if(this.idx=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.idx=h.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.idx&&t.idx.length)for(var i=0;i<t.idx.length;++i)e.uint32(10).string(t.idx[i]);return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.IDList;t.pos<i;){var n=t.uint32();n>>>3==1?(r.idx&&r.idx.length||(r.idx=[]),r.idx.push(t.string())):t.skipType(7&n)}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(var e=0;e<t.idx.length;++e)if(!h.isString(t.idx[e]))return"idx: string[] expected"}return null},t.fromObject=function(t){if(t instanceof c.ESBim.IDList)return t;var e=new c.ESBim.IDList;if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.IDList.idx: array expected");e.idx=[];for(var i=0;i<t.idx.length;++i)e.idx[i]=String(t.idx[i])}return e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.idx=[]),t.idx&&t.idx.length){i.idx=[];for(var r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r]}return i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o),t.exports=c},249:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(i(22)),n=s(i(250)),a=s(i(0)),o=s(i(1));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){(0,a.default)(this,t)}return(0,o.default)(t,[{key:"error",value:function(t){console.info("%cESMapError"+(0,n.default)(9940)+": "+t+";","color: #FF0000;font-weight: bolder;font-size: 12px;")}},{key:"warning",value:function(t){console.info("%cESMapWarning"+(0,n.default)(9888)+": "+t+";","color: #FFA500;font-weight: bolder;font-size: 12px;")}},{key:"log",value:function(t){console.info("%cESMapLog"+(0,n.default)(128640)+": "+t+";","color: #555555;font-weight: bolder;font-size: 12px;")}},{key:"logCustom",value:function(t){var e;Array.isArray(t)?(e=console).info.apply(e,(0,r.default)(t)):console.info(t)}}]),t}();e.default=new u},253:function(t,e,i){"use strict";var r=i(254),n=i(255),a=i(256),o=i(48);o.FileLoader=r.FileLoader,o.ImageLoader=n.ImageLoader,o.TextureLoader=a.TextureLoader,o.DirectionalLight.prototype.updateDirection=function(t){var e,i,r,n,a,o;this.pitchAngle=t.hasOwnProperty("pitchAngle")?t.pitchAngle:this.pitchAngle,this.directionAngle=t.hasOwnProperty("directionAngle")?t.directionAngle:this.directionAngle,this.position.copy((e=this.pitchAngle,i=this.directionAngle,r=e/180*Math.PI+Math.PI/2,n=-i/180*Math.PI+Math.PI/2,a=new THREE.Vector3,o=Math.sin(r),a.x=o*Math.cos(n),a.y=-Math.cos(r),a.z=o*Math.sin(n),a))},o.BufferGeometry.prototype.merge=function(t){if(t instanceof THREE.BufferGeometry!=!1){var e,i,r,n,a=this.attributes;if(this.index){for(var o=t.index.array,s=a.position.count,u=0,l=o.length;u<l;u++)o[u]=s+o[u];this.index.array=(e=this.index.array,i=o,r=e.length,(n=new Uint32Array(r+i.length)).set(e),n.set(i,r),n)}for(var h in a)void 0!==t.attributes[h]&&(a[h].array=c(a[h].array,t.attributes[h].array));return this}function c(t,e){var i=t.length,r=new Float32Array(i+e.length);return r.set(t),r.set(e,i),r}},o.BufferGeometry.prototype.toIndexed=function(){var t=0,e=[],i={};function r(r,n,a,o){var s=Math.floor(r*t)+"_"+Math.floor(n*t)+"_"+Math.floor(a*t);return void 0===i[s]&&(i[s]=e.length,e.push(o)),i[s]}return function(n){t=Math.pow(10,n||6);var a=new THREE.BufferGeometry;return function(t,n){for(var a=t.attributes.position.array,o=a.length/3/3,s=new(3*o>65536?Uint32Array:Uint16Array)(3*o),u=0,l=o;u<l;u++){var h=9*u;s[3*u]=r(a[h],a[h+1],a[h+2],3*u),s[3*u+1]=r(a[h+3],a[h+4],a[h+5],3*u+1),s[3*u+2]=r(a[h+6],a[h+7],a[h+8],3*u+2)}n.index=new THREE.BufferAttribute(s,1);var c=e.length;for(var p in t.attributes){var d=t.attributes[p],f=new THREE.BufferAttribute(new d.array.constructor(c*d.itemSize),d.itemSize),m=f.array,v=d.array;switch(d.itemSize){case 1:for(var g=0,y=e.length;g<y;g++)m[g]=v[e[g]];break;case 2:for(var x=0,b=e.length;x<b;x++){var w=2*e[x],_=2*x;m[_]=v[w],m[_+1]=v[w+1]}break;case 3:for(var M=0,S=e.length;M<S;M++){var A=3*e[M],T=3*M;m[T]=v[A],m[T+1]=v[A+1],m[T+2]=v[A+2]}break;case 4:for(var L=0,P=e.length;L<P;L++){var C=4*e[L],E=4*L;m[E]=v[C],m[E+1]=v[C+1],m[E+2]=v[C+2],m[E+3]=v[C+3]}}n.attributes[p]=f}i={},e=[]}(this,a),a}}(),t.exports=o},254:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileLoader=void 0;var r=s(i(7)),n=s(i(8)),a=s(i(2)),o=i(140);function s(t){return t&&t.__esModule?t:{default:t}}var u,l=i(48),h={};function c(t){this.manager=void 0!==t?t:l.DefaultLoadingManager}(0,a.default)(c.prototype,{load:(u=(0,n.default)(r.default.mark((function t(e,i,n,a){var s,u,l,c,p,d,f,m,v,g,y,x,b,w,_,M;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),s=this,void 0===(u=o.Cache.get(e))){t.next=9;break}return s.manager.itemStart(e),setTimeout((function(){i&&i(u),s.manager.itemEnd(e)}),0),t.abrupt("return",u);case 9:if(l=0,THREE.ESCache&&THREE.ESCache.timeMap.has(e)&&(l=THREE.ESCache.timeMap.get(e)),!THREE.ESCache||!THREE.ESCache.enabled){t.next=22;break}return t.next=14,THREE.ESCache.canUseCache({url:e,updatetime:l});case 14:if(!t.sent){t.next=22;break}return t.next=18,THREE.ESCache.getCacheObject(e);case 18:if(!(c=t.sent)){t.next=22;break}return i&&i(c.data),t.abrupt("return");case 22:if(void 0===h[e]){t.next=25;break}return h[e].push({onLoad:i,onProgress:n,onError:a}),t.abrupt("return");case 25:if(p=/^data:(.*?)(;base64)?,(.*)$/,!(d=e.match(p))){t.next=57;break}f=d[1],m=!!d[2],v=d[3],v=decodeURIComponent(v),m&&(v=atob(v)),t.prev=33,y=(this.responseType||"").toLowerCase(),t.t0=y,t.next="arraybuffer"===t.t0||"blob"===t.t0?38:"document"===t.t0?42:"json"===t.t0?45:47;break;case 38:for(x=new Uint8Array(v.length),b=0;b<v.length;b++)x[b]=v.charCodeAt(b);return g="blob"===y?new Blob([x.buffer],{type:f}):x.buffer,t.abrupt("break",49);case 42:return w=new DOMParser,g=w.parseFromString(v,f),t.abrupt("break",49);case 45:return g=JSON.parse(v),t.abrupt("break",49);case 47:return g=v,t.abrupt("break",49);case 49:setTimeout((function(){i&&i(g),s.manager.itemEnd(e)}),0),t.next=55;break;case 52:t.prev=52,t.t1=t.catch(33),setTimeout((function(){a&&a(t.t1),s.manager.itemError(e),s.manager.itemEnd(e)}),0);case 55:t.next=70;break;case 57:for(M in h[e]=[],h[e].push({onLoad:i,onProgress:n,onError:a}),(_=new XMLHttpRequest).open("GET",e,!0),_.addEventListener("load",(function(t){var i=this.response;o.Cache.add(e,i);var r=h[e];if(delete h[e],200===this.status||0===this.status){THREE.ESCache.timeMap.has(e)&&THREE.ESCache.upsert({id:e,data:i,updatetime:l}),this.status;for(var n=0,a=r.length;n<a;n++)(u=r[n]).onLoad&&u.onLoad(i);s.manager.itemEnd(e)}else{for(n=0,a=r.length;n<a;n++){var u;(u=r[n]).onError&&u.onError(t)}s.manager.itemError(e),s.manager.itemEnd(e)}}),!1),_.addEventListener("progress",(function(t){for(var i=h[e],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(t)}}),!1),_.addEventListener("error",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}s.manager.itemError(e),s.manager.itemEnd(e)}),!1),_.addEventListener("abort",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}s.manager.itemError(e),s.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(_.responseType=this.responseType),void 0!==this.withCredentials&&(_.withCredentials=this.withCredentials),_.overrideMimeType&&_.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)_.setRequestHeader(M,this.requestHeader[M]);_.send(null);case 70:return s.manager.itemStart(e),t.abrupt("return",_);case 72:case"end":return t.stop()}}),t,this,[[33,52]])}))),function(t,e,i,r){return u.apply(this,arguments)}),setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setLastModifiedTime:function(t){return this.lastModifiedTime=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),e.FileLoader=c},255:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageLoader=void 0;var r,n=u(i(7)),a=u(i(8)),o=u(i(2)),s=i(140);function u(t){return t&&t.__esModule?t:{default:t}}function l(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,o.default)(l.prototype,{crossOrigin:"anonymous",load:(r=(0,a.default)(n.default.mark((function t(e,i,r,a){var o,u,l,h,c,p,d,f,m;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),o=this,void 0===(u=s.Cache.get(e))){t.next=9;break}return o.manager.itemStart(e),setTimeout((function(){i&&i(u),o.manager.itemEnd(e)}),0),t.abrupt("return",u);case 9:if(l=document.createElementNS("http://www.w3.org/1999/xhtml","img"),h=0,THREE.ESCache&&THREE.ESCache.timeMap.has(e)&&(h=THREE.ESCache.timeMap.get(e)),!THREE.ESCache||!THREE.ESCache.enabled){t.next=29;break}return t.next=15,THREE.ESCache.canUseCache({url:e,updatetime:h});case 15:if(!t.sent){t.next=29;break}return t.next=19,THREE.ESCache.getCacheObject(e);case 19:if(!(c=t.sent)){t.next=29;break}return p=c.data,d=window.URL||window.webkitURL,f=d.createObjectURL(p),l.src=f,l.setAttribute("originalSrc",e),l.onload=function(){i&&i(this)},l.onerror=function(){a&&a("图片资源请求错误:  "+e)},t.abrupt("return");case 29:return(m=new XMLHttpRequest).open("GET",e,!0),m.responseType="blob",m.onload=function(){if(200==this.status){var t=m.response;if(!t)return;THREE.ESCache.timeMap.has(e)&&THREE.ESCache.upsert({id:e,data:t,updatetime:h});var r=(window.URL||window.webkitURL).createObjectURL(t);l.src=r,l.setAttribute("originalSrc",e),l.addEventListener("load",(function(){i&&i(this)}),!1),l.addEventListener("error",(function(t){a&&a("图片资源请求错误: "+e)}),!1)}else 404==this.status&&THREE.ESResourcePool&&i&&i(THREE.ESResourcePool.img404)},m.send(),t.abrupt("return",l);case 35:case"end":return t.stop()}}),t,this)}))),function(t,e,i,n){return r.apply(this,arguments)}),setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.ImageLoader=l},256:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureLoader=void 0;var r,n=i(2);function a(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,((r=n)&&r.__esModule?r:{default:r}).default)(a.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new THREE.Texture,a=new THREE.ImageLoader(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){n.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);n.format=r?THREE.RGBFormat:THREE.RGBAFormat,n.needsUpdate=!0,void 0!==e&&e(n)}),i,r),n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.TextureLoader=a},32:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferGeometryUtils=void 0;var r=u(i(213)),n=u(i(104)),a=u(i(14)),o=u(i(33)),s=i(48);function u(t){return t&&t.__esModule?t:{default:t}}var l={computeTangents:function(t){var e=t.index,i=t.attributes;if(null!==e&&void 0!==i.position&&void 0!==i.normal&&void 0!==i.uv){var r=e.array,n=i.position.array,a=i.normal.array,o=i.uv.array,u=n.length/3;void 0===i.tangent&&t.addAttribute("tangent",new s.BufferAttribute(new Float32Array(4*u),4));for(var l=i.tangent.array,h=[],c=[],p=0;p<u;p++)h[p]=new s.Vector3,c[p]=new s.Vector3;var d=new s.Vector3,f=new s.Vector3,m=new s.Vector3,v=new s.Vector2,g=new s.Vector2,y=new s.Vector2,x=new s.Vector3,b=new s.Vector3,w=t.groups;0===w.length&&(w=[{start:0,count:r.length}]);p=0;for(var _=w.length;p<_;++p)for(var M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)O(r[M+0],r[M+1],r[M+2]);var A,T,L,P=new s.Vector3,C=new s.Vector3,E=new s.Vector3,I=new s.Vector3;for(p=0,_=w.length;p<_;++p){var D,B;for(M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)z(r[M+0]),z(r[M+1]),z(r[M+2])}}function O(t,e,i){d.fromArray(n,3*t),f.fromArray(n,3*e),m.fromArray(n,3*i),v.fromArray(o,2*t),g.fromArray(o,2*e),y.fromArray(o,2*i);var r=f.x-d.x,a=m.x-d.x,s=f.y-d.y,u=m.y-d.y,l=f.z-d.z,p=m.z-d.z,w=g.x-v.x,_=y.x-v.x,M=g.y-v.y,S=y.y-v.y,A=1/(w*S-_*M);x.set((S*r-M*a)*A,(S*s-M*u)*A,(S*l-M*p)*A),b.set((w*a-_*r)*A,(w*u-_*s)*A,(w*p-_*l)*A),h[t].add(x),h[e].add(x),h[i].add(x),c[t].add(b),c[e].add(b),c[i].add(b)}function z(t){E.fromArray(a,3*t),I.copy(E),T=h[t],P.copy(T),P.sub(E.multiplyScalar(E.dot(T))).normalize(),C.crossVectors(I,T),L=C.dot(c[t]),A=L<0?-1:1,l[4*t]=P.x,l[4*t+1]=P.y,l[4*t+2]=P.z,l[4*t+3]=A}},mergeBufferGeometries:function(t,e){for(var i=null!==t[0].index,r=new o.default((0,a.default)(t[0].attributes)),n=new o.default((0,a.default)(t[0].morphAttributes)),u={},l={},h=new s.BufferGeometry,c=0,p=0;p<t.length;++p){var d=t[p];if(i!==(null!==d.index))return null;for(var f in d.attributes){if(!r.has(f))return null;void 0===u[f]&&(u[f]=[]),u[f].push(d.attributes[f])}for(var f in d.morphAttributes){if(!n.has(f))return null;void 0===l[f]&&(l[f]=[]),l[f].push(d.morphAttributes[f])}if(h.userData.mergedUserData=h.userData.mergedUserData||[],h.userData.mergedUserData.push(d.userData),e){var m;if(i)m=d.index.count;else{if(void 0===d.attributes.position)return null;m=d.attributes.position.count}h.addGroup(c,m,p),c+=m}}if(i){var v=0,g=[];for(p=0;p<t.length;++p){var y=t[p].index;y.getX||(y.getX=function(t){return this.array[t*this.itemSize]});for(var x=0;x<y.count;++x)g.push(y.getX(x)+v);v+=t[p].attributes.position.count}h.setIndex(g)}for(var f in u){var b=this.mergeBufferAttributes(u[f]);if(!b)return null;h.addAttribute(f,b)}for(var f in l){var w=l[f][0].length;if(0===w)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[f]=[];for(p=0;p<w;++p){var _=[];for(x=0;x<l[f].length;++x)_.push(l[f][x][p]);var M=this.mergeBufferAttributes(_);if(!M)return null;h.morphAttributes[f].push(M)}}return h},mergeBufferAttributes:function(t){for(var e,i,r,n=0,a=0;a<t.length;++a){var o=t[a];if(o.isInterleavedBufferAttribute)return null;if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;if(void 0===i&&(i=o.itemSize),i!==o.itemSize)return null;if(void 0===r&&(r=o.normalized),r!==o.normalized)return null;n+=o.array.length}var u=new e(n),l=0;for(a=0;a<t.length;++a)u.set(t[a].array,l),l+=t[a].array.length;return new s.BufferAttribute(u,i,r)},interleaveAttributes:function(t){for(var e,i=0,r=0,n=0,a=t.length;n<a;++n){var o=t[n];if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;i+=o.array.length,r+=o.itemSize}var u=new s.InterleavedBuffer(new e(i),r),l=0,h=[],c=["getX","getY","getZ","getW"],p=["setX","setY","setZ","setW"],d=0;for(a=t.length;d<a;d++){var f=(o=t[d]).itemSize,m=o.count,v=new s.InterleavedBufferAttribute(u,f,l,o.normalized);h.push(v),l+=f;for(var g=0;g<m;g++)for(var y=0;y<f;y++)v[p[y]](g,o[c[y]](g))}return h},estimateBytesUsed:function(t){var e=0;for(var i in t.attributes){var r=t.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0},mergeVertices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;e=Math.max(e,n.default);for(var i={},o=t.getIndex(),u=t.getAttribute("position"),l=o?o.count:u.count,h=0,c=(0,a.default)(t.attributes),p={},d={},f=[],m=["getX","getY","getZ","getW"],v=0,g=c.length;v<g;v++){p[M=c[v]]=[],(L=t.morphAttributes[M])&&(d[M]=new Array(L.length).fill().map((function(){return[]})))}var y=(0,r.default)(1/e),x=Math.pow(10,y);for(v=0;v<l;v++){var b=o?o.getX(v):v,w="",_=0;for(g=c.length;_<g;_++)for(var M=c[_],S=(T=t.getAttribute(M)).itemSize,A=0;A<S;A++)w+=~~(T[m[A]](b)*x)+",";if(w in i)f.push(i[w]);else{for(_=0,g=c.length;_<g;_++){M=c[_];var T=t.getAttribute(M),L=t.morphAttributes[M],P=(S=T.itemSize,p[M]),C=d[M];for(A=0;A<S;A++){var E=m[A];if(P.push(T[E](b)),L)for(var I=0,D=L.length;I<D;I++)C[I].push(L[I][E](b))}}i[w]=h,f.push(h),h++}}var B=t.clone();for(v=0,g=c.length;v<g;v++){M=c[v];var O=t.getAttribute(M),z=new O.array.constructor(p[M]);if(O.isInterleavedBufferAttribute?T=new s.BufferAttribute(z,O.itemSize,O.itemSize):(T=t.getAttribute(M).clone()).setArray(z),B.addAttribute(M,T),M in d)for(_=0;_<d[M].length;_++){var N=t.morphAttributes[M][_].clone();N.setArray(new N.array.constructor(d[M][_])),B.morphAttributes[M][_]=N}}var R=Uint8Array;f.length>=Math.pow(2,8)&&(R=Uint16Array),f.length>=Math.pow(2,16)&&(R=Uint32Array);var F=new R(f);f=null;return null===o?f=new s.BufferAttribute(F,1):(f=t.getIndex().clone()).setArray(F),B.setIndex(f),B},toTrianglesDrawMode:function(t,e){if(e===THREE.TrianglesDrawMode)return t;if(e===THREE.TriangleFanDrawMode||e===THREE.TriangleStripDrawMode){var i=t.getIndex();if(null===i){var r=[],n=t.getAttribute("position");if(void 0===n)return t;for(var a=0;a<n.count;a++)r.push(a);t.setIndex(r),i=t.getIndex()}var o=i.count-2,s=[];if(e===THREE.TriangleFanDrawMode)for(a=1;a<=o;a++)s.push(i.getX(0)),s.push(i.getX(a)),s.push(i.getX(a+1));else for(a=0;a<o;a++)a%2==0?(s.push(i.getX(a)),s.push(i.getX(a+1)),s.push(i.getX(a+2))):(s.push(i.getX(a+2)),s.push(i.getX(a+1)),s.push(i.getX(a)));s.length;var u=t.clone();return u.setIndex(s),u.clearGroups(),u}return t}};e.BufferGeometryUtils=l},4:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Callbacks=e.FullScreen=void 0;var r=p(i(9)),n=p(i(47)),a=p(i(14)),o=p(i(33)),s=p(i(38)),u=p(i(0)),l=p(i(1)),h=p(i(6));e.convertColor=function(t){if(t.startsWith("rgb"))return t;if(t.startsWith("#")){var e=t.slice(1);return"rgb("+parseInt(e.substring(0,2),16)+", "+parseInt(e.substring(2,4),16)+", "+parseInt(e.substring(4,6),16)+")"}var i=t.trim().replace(/\s+/g,"");if(/^\d+,\d+,\d+$/.test(i))return"rgba("+i+", 1)";return"rgba(0, 0, 0, 1)"},e.extend=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t},e.isNil=d,e.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},e.isInteger=function(t){return(0|t)===t},e.isObject=f,e.isString=function(t){if(d(t))return!1;return"string"==typeof t||null!==t.constructor&&t.constructor===String},e.isFunction=function(t){if(d(t))return!1;return"function"==typeof t||null!==t.constructor&&t.constructor===Function},e.hasOwn=function(t,e){return m.call(t,e)},e.join=function(t,e){return t.join?t.join(e||","):Array.prototype.join.call(t,e||",")},e.eachObject=function(t,e){if(!t)return;for(var i in t){if(!1===e(t[i],i,t))break}},e.startWith=function(t,e){return new RegExp("^"+e).test(t)},e.endWith=function(t,e){return new RegExp(e+"$").test(t)},e.getPlatform=function(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,r="PC",n=!1,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){i=!1,r=e[a],t.indexOf("MicroMessenger")>0&&(n=!0);break}return{isPC:i,isWX:n,platform:r}},e.obj2params=function(t){var e="";for(var i in t)e.length>0&&(e+="&"),e+=i+"="+t[i];return e},e.getValue=function(t,e,i){return t&&t.hasOwnProperty(e)&&null!=t[e]?t[e]:i},e.getValues=function(t,e,i){for(var r,n=1;n<arguments.length-1;n++)if(void 0!==(r=t[arguments[n]]))return r;return arguments[arguments.length-1]},e.cloneObj=function(t){if(!t)return t;var e={};for(var i in t)e[i]=t[i];return e},e.DistanceofTwoPts=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},e.DistanceofTwoPtsZ=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.z-e.z)*(t.z-e.z))},e.dedupe=function(t){return(0,s.default)(new o.default(t))},e.calcProjPoint=function(t,e,i,r){var n=e.x,a=e.y,o=i.x,s=i.y,u=t.x,l=t.y,h=o-n,c=s-a,p=Math.sqrt(h*h+c*c),d=u-n,f=l-a,m=Math.sqrt(d*d+f*f);if(v(p))return v(m)?(r.x=e.x,r.y=e.y,0):(r.x=e.x,r.y=e.y,m);var y=h/p,x=c/p,b=y*d+x*f;if(!function(t){return t>g}(b))return r.x=e.x,r.y=e.y,m;if(!function(t){return t<-g}(b-p)){var w=u-o,_=l-s,M=Math.sqrt(w*w+_*_);return r.x=i.x,r.y=i.y,M}var S=n+b*y,A=a+b*x,T=u-S,L=l-A,P=Math.sqrt(T*T+L*L);return r.x=S,r.y=A,P},e.getRandom=function(){for(var t="?t=",e=0;e<6;e++)t+=Math.floor(10*Math.random());return t},e.setDefaultValues=function(t){var e=this;(0,a.default)(t).forEach((function(i){null==e[i]&&(e[i]=t[i])}))},e.exitInArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},e.GPS84ToGCJ02=function(t){return c.default.transform([t[0],t[1]],c.default.WGS84,c.default.GCJ02)},e.Mercator2lonLat=function(t,e){var i=[],r=t/20037508.342789*180,n=e/20037508.342789*180;return n=180/Math.PI*(2*Math.atan(Math.exp(n*Math.PI/180))-Math.PI/2),i.push(r),i.push(n),i},e.lonLat2Mercator=function(t,e){var i=[],r=20037508.342789*t/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return n=20037508.34789*n/180,i.push(r),i.push(n),i},e.copyProperties=function(t,e,i){for(var r=0;r<i.length;r++){var n=i[r];t.hasOwnProperty(n)&&(e[n]=t[n])}},e.assignExceptUndefined=y,e.getDefault=function(t,e,i){var r={};f(t)?y(r,i,t):y(r,i,(0,n.default)({},e,t));return r},e.cloneByPropertiesMap=function(t,e){var i={};for(var r in e){var n=e[r];Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var o=n[a];if(t.hasOwnProperty(o)){i[r]=t[o];break}}}return i},e.sleep=function(t){return new r.default((function(e){return setTimeout(e,t)}))},e.toFixedNumXYZ=function(t){t.x=Number(t.x.toFixed(6)),t.y=Number(t.y.toFixed(6)),t.z=Number(t.z.toFixed(6))};var c=p(i(106));function p(t){return t&&t.__esModule?t:{default:t}}function d(t){return null==t}function f(t){return"object"===(void 0===t?"undefined":(0,h.default)(t))&&!!t}var m=Object.prototype.hasOwnProperty;e.FullScreen={get _hasWebkitFullScreen(){return"webkitCancelFullScreen"in document},get _hasMozFullScreen(){return"mozCancelFullScreen"in document},get available(){return this._hasWebkitFullScreen||this._hasMozFullScreen},get activated(){return this._hasWebkitFullScreen?document.webkitIsFullScreen:!!this._hasMozFullScreen&&document.mozFullScreen},request:function(t){t=t||document.body,this._hasWebkitFullScreen?t.webkitRequestFullScreen():this._hasMozFullScreen&&t.mozRequestFullScreen()},cancel:function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen&&document.mozCancelFullScreen()}};e.Callbacks=function(){function t(){(0,u.default)(this,t),this.fns=[]}return(0,l.default)(t,[{key:"add",value:function(t){this.fns.push(t)}},{key:"remove",value:function(t){this.fns.splice(fns.indexOf(t),1)}},{key:"fire",value:function(){for(var t=arguments;this.fns.length>0;){var e=this.fns.shift().apply(this,t);e&&(t=e)}}},{key:"empty",value:function(){this.fns=[]}}]),t}();function v(t){return t<g&&t>-g}var g=1e-5;function y(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];for(var n=0;n<i.length;n++){var a=i[n];for(var o in a)a.hasOwnProperty(o)&&void 0!==a[o]&&(t[o]=a[o])}}},48:function(t,e,i){"use strict";var r,n,a,o,s=x(i(38)),u=x(i(185)),l=x(i(14)),h=x(i(71)),c=x(i(72)),p=x(i(21)),d=x(i(60)),f=x(i(2)),m=x(i(61)),v=x(i(205)),g=x(i(104)),y=x(i(6));function x(t){return t&&t.__esModule?t:{default:t}}o=function(t){function e(){}void 0===g.default&&(Number.EPSILON=Math.pow(2,-52)),void 0===v.default&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===m.default&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===f.default&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),(0,f.default)(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=e.slice(0),r=0,n=i.length;r<n;r++)i[r].call(this,t)}}}});var i,r,n,a=0,o=1,x=2,b=1,w=2,_=0,M=1,S=2,A=0,T=2,L=0,P=1,C=2,E=3,I=4,D=5,B=100,O=101,z=102,N=103,R=104,F=200,U=201,k=202,G=203,V=204,W=205,H=206,j=207,X=208,q=209,Y=210,J=0,Z=1,Q=2,K=3,$=4,tt=5,et=6,it=7,rt=0,nt=1,at=2,ot=0,st=1,ut=2,lt=3,ht=4,ct=5,pt=300,dt=301,ft=302,mt=303,vt=304,gt=305,yt=306,xt=307,bt=1e3,wt=1001,_t=1002,Mt=1003,St=1004,At=1005,Tt=1006,Lt=1007,Pt=1008,Ct=1009,Et=1010,It=1011,Dt=1012,Bt=1013,Ot=1014,zt=1015,Nt=1016,Rt=1017,Ft=1018,Ut=1019,kt=1020,Gt=1021,Vt=1022,Wt=1023,Ht=1024,jt=1025,Xt=Wt,qt=1026,Yt=1027,Jt=1028,Zt=33776,Qt=33777,Kt=33778,$t=33779,te=35840,ee=35841,ie=35842,re=35843,ne=36196,ae=37808,oe=37809,se=37810,ue=37811,le=37812,he=37813,ce=37814,pe=37815,de=37816,fe=37817,me=37818,ve=37819,ge=37820,ye=37821,xe=2300,be=2301,we=2302,_e=2400,Me=2401,Se=2402,Ae=0,Te=3e3,Le=3001,Pe=3007,Ce=3002,Ee=3004,Ie=3005,De=3006,Be=3200,Oe=3201,ze=0,Ne=1,Re={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]).toUpperCase()}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Re.DEG2RAD},radToDeg:function(t){return t*Re.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function Fe(t,e){this.x=t||0,this.y=e||0}function Ue(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==r?r:1}function ke(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function Ge(){this.elements=[1,0,0,0,1,0,0,0,1]}(0,d.default)(Fe.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),(0,f.default)(Fe.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=this.x-t.x,a=this.y-t.y;return this.x=n*i-a*r+t.x,this.y=n*r+a*i+t.y,this}}),(0,f.default)(Ue,{slerp:function(t,e,i,r){return i.copy(t).slerp(e,r)},slerpFlat:function(t,e,i,r,n,a,o){var s=i[r+0],u=i[r+1],l=i[r+2],h=i[r+3],c=n[a+0],p=n[a+1],d=n[a+2],f=n[a+3];if(h!==f||s!==c||u!==p||l!==d){var m=1-o,v=s*c+u*p+l*d+h*f,y=v>=0?1:-1,x=1-v*v;if(x>g.default){var b=Math.sqrt(x),w=Math.atan2(b,v*y);m=Math.sin(m*w)/b,o=Math.sin(o*w)/b}var _=o*y;if(s=s*m+c*_,u=u*m+p*_,l=l*m+d*_,h=h*m+f*_,m===1-o){var M=1/Math.sqrt(s*s+u*u+l*l+h*h);s*=M,u*=M,l*=M,h*=M}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=h}}),(0,d.default)(Ue.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),(0,f.default)(Ue.prototype,{isQuaternion:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,r=t._y,n=t._z,a=t.order,o=Math.cos,s=Math.sin,u=o(i/2),l=o(r/2),h=o(n/2),c=s(i/2),p=s(r/2),d=s(n/2);return"XYZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"YXZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"ZXY"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"ZYX"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"YZX"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h-c*p*d):"XZY"===a&&(this._x=c*l*h-u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h+c*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,r=i[0],n=i[4],a=i[8],o=i[1],s=i[5],u=i[9],l=i[2],h=i[6],c=i[10],p=r+s+c;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(h-u)*e,this._y=(a-l)*e,this._z=(o-n)*e):r>s&&r>c?(e=2*Math.sqrt(1+r-s-c),this._w=(h-u)/e,this._x=.25*e,this._y=(n+o)/e,this._z=(a+l)/e):s>c?(e=2*Math.sqrt(1+s-r-c),this._w=(a-l)/e,this._x=(n+o)/e,this._y=.25*e,this._z=(u+h)/e):(e=2*Math.sqrt(1+c-r-s),this._w=(o-n)/e,this._x=(a+l)/e,this._y=(u+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){var i=t.dot(e)+1;return i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(Re.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var i=this.angleTo(t);if(0===i)return this;var r=Math.min(1,e/i);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,r=t._y,n=t._z,a=t._w,o=e._x,s=e._y,u=e._z,l=e._w;return this._x=i*l+a*o+r*u-n*s,this._y=r*l+a*s+n*o-i*u,this._z=n*l+a*u+i*s-r*o,this._w=a*l-i*o-r*s-n*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,n=this._z,a=this._w,o=a*t._w+i*t._x+r*t._y+n*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=r,this._z=n,this;var s=1-o*o;if(s<=g.default){var u=1-e;return this._w=u*a+e*this._w,this._x=u*i+e*this._x,this._y=u*r+e*this._y,this._z=u*n+e*this._z,this.normalize()}var l=Math.sqrt(s),h=Math.atan2(l,o),c=Math.sin((1-e)*h)/l,p=Math.sin(e*h)/l;return this._w=a*c+this._w*p,this._x=i*c+this._x*p,this._y=r*c+this._y*p,this._z=n*c+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(ke.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(r=new Ue,function(t){return!t||t.isEuler,this.applyQuaternion(r.setFromEuler(t))}),applyAxisAngle:function(){var t=new Ue;return function(e,i){return this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*r,this.y=n[1]*e+n[4]*i+n[7]*r,this.z=n[2]*e+n[5]*i+n[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements,a=1/(n[3]*e+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*r+n[12])*a,this.y=(n[1]*e+n[5]*i+n[9]*r+n[13])*a,this.z=(n[2]*e+n[6]*i+n[10]*r+n[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,a=t.y,o=t.z,s=t.w,u=s*e+a*r-o*i,l=s*i+o*e-n*r,h=s*r+n*i-a*e,c=-n*e-a*i-o*r;return this.x=u*s+c*-n+l*-o-h*-a,this.y=l*s+c*-a+h*-n-u*-o,this.z=h*s+c*-o+u*-a-l*-n,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r,this.y=n[1]*e+n[5]*i+n[9]*r,this.z=n[2]*e+n[6]*i+n[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?this.crossVectors(t,e):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,r=t.y,n=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-n*o,this.y=n*a-i*s,this.z=i*o-r*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(i=new ke,function(t){return i.copy(this).projectOnVector(t),this.sub(i)}),reflect:function(){var t=new ke;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Re.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,i){var r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),(0,f.default)(Ge.prototype,{isMatrix3:!0,set:function(t,e,i,r,n,a,o,s,u){var l=this.elements;return l[0]=t,l[1]=r,l[2]=o,l[3]=e,l[4]=n,l[5]=s,l[6]=i,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new ke;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix3(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[3],s=i[6],u=i[1],l=i[4],h=i[7],c=i[2],p=i[5],d=i[8],f=r[0],m=r[3],v=r[6],g=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return n[0]=a*f+o*g+s*b,n[3]=a*m+o*y+s*w,n[6]=a*v+o*x+s*_,n[1]=u*f+l*g+h*b,n[4]=u*m+l*y+h*w,n[7]=u*v+l*x+h*_,n[2]=c*f+p*g+d*b,n[5]=c*m+p*y+d*w,n[8]=c*v+p*x+d*_,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*a*l-e*o*u-i*n*l+i*o*s+r*n*u-r*a*s},getInverse:function(t,e){t&&t.isMatrix4;var i=t.elements,r=this.elements,n=i[0],a=i[1],o=i[2],s=i[3],u=i[4],l=i[5],h=i[6],c=i[7],p=i[8],d=p*u-l*c,f=l*h-p*s,m=c*s-u*h,v=n*d+a*f+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return this.identity()}var y=1/v;return r[0]=d*y,r[1]=(o*c-p*a)*y,r[2]=(l*a-o*u)*y,r[3]=f*y,r[4]=(p*n-o*h)*y,r[5]=(o*s-l*n)*y,r[6]=m*y,r[7]=(a*h-c*n)*y,r[8]=(u*n-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,r,n,a,o){var s=Math.cos(n),u=Math.sin(n);this.set(i*s,i*u,-i*(s*a+u*o)+a+t,-r*u,r*s,-r*(-u*a+s*o)+o+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=this.elements,n=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=e*n+i*s,r[3]=e*a+i*u,r[6]=e*o+i*l,r[1]=-i*n+e*s,r[4]=-i*a+e*u,r[7]=-i*o+e*l,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var Ve,We,He,je,Xe,qe,Ye,Je,Ze,Qe,Ke,$e,ti,ei,ii={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===n&&(n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),n.width=t.width,n.height=t.height;var i=n.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=n}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},ri=0;function ni(t,e,i,r,n,a,o,s,u,l){Object.defineProperty(this,"id",{value:ri++}),this.uuid=Re.generateUUID(),this.name="",this.image=void 0!==t?t:ni.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:ni.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:wt,this.wrapT=void 0!==r?r:wt,this.magFilter=void 0!==n?n:Tt,this.minFilter=void 0!==a?a:Pt,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:Wt,this.type=void 0!==s?s:Ct,this.offset=new Fe(0,0),this.repeat=new Fe(1,1),this.center=new Fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ge,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Te,this.version=0,this.onUpdate=null}function ai(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==r?r:1}function oi(t,e,i){this.width=t,this.height=e,this.scissor=new ai(0,0,t,e),this.scissorTest=!1,this.viewport=new ai(0,0,t,e),i=i||{},this.texture=new ni(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:Tt,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function si(t,e,i){oi.call(this,t,e,i),this.samples=4}function ui(t,e,i){oi.call(this,t,e,i)}function li(t,e,i,r,n,a,o,s,u,l,h,c){ni.call(this,null,a,o,s,u,l,r,n,h,c),this.image={data:t,width:e,height:i},this.magFilter=void 0!==u?u:Mt,this.minFilter=void 0!==l?l:Mt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function hi(t,e){this.min=void 0!==t?t:new ke(1/0,1/0,1/0),this.max=void 0!==e?e:new ke(-1/0,-1/0,-1/0)}function ci(t,e){this.center=void 0!==t?t:new ke,this.radius=void 0!==e?e:0}function pi(t,e){this.normal=void 0!==t?t:new ke(1,0,0),this.constant=void 0!==e?e:0}function di(t,e,i,r,n,a){this.planes=[void 0!==t?t:new pi,void 0!==e?e:new pi,void 0!==i?i:new pi,void 0!==r?r:new pi,void 0!==n?n:new pi,void 0!==a?a:new pi]}function fi(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}ni.DEFAULT_IMAGE=void 0,ni.DEFAULT_MAPPING=pt,ni.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ni,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Re.generateUUID()),!e&&void 0===t.images[r.uuid]){var n;if(Array.isArray(r)){n=[];for(var a=0,o=r.length;a<o;a++)n.push(ii.getDataURL(r[a]))}else n=ii.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:n}}i.image=r.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==pt)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case bt:t.x=t.x-Math.floor(t.x);break;case wt:t.x=t.x<0?0:1;break;case _t:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case bt:t.y=t.y-Math.floor(t.y);break;case wt:t.y=t.y<0?0:1;break;case _t:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(ni.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(ai.prototype,{isVector4:!0,set:function(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*r+a[12]*n,this.y=a[1]*e+a[5]*i+a[9]*r+a[13]*n,this.z=a[2]*e+a[6]*i+a[10]*r+a[14]*n,this.w=a[3]*e+a[7]*i+a[11]*r+a[15]*n,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,r,n,a=.01,o=.1,s=t.elements,u=s[0],l=s[4],h=s[8],c=s[1],p=s[5],d=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(l-c)<a&&Math.abs(h-f)<a&&Math.abs(d-m)<a){if(Math.abs(l+c)<o&&Math.abs(h+f)<o&&Math.abs(d+m)<o&&Math.abs(u+p+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(u+1)/2,y=(p+1)/2,x=(v+1)/2,b=(l+c)/4,w=(h+f)/4,_=(d+m)/4;return g>y&&g>x?g<a?(i=0,r=.707106781,n=.707106781):(r=b/(i=Math.sqrt(g)),n=w/i):y>x?y<a?(i=.707106781,r=0,n=.707106781):(i=b/(r=Math.sqrt(y)),n=_/r):x<a?(i=.707106781,r=.707106781,n=0):(i=w/(n=Math.sqrt(x)),r=_/n),this.set(i,r,n,e),this}var M=Math.sqrt((m-d)*(m-d)+(h-f)*(h-f)+(c-l)*(c-l));return Math.abs(M)<.001&&(M=1),this.x=(m-d)/M,this.y=(h-f)/M,this.z=(c-l)/M,this.w=Math.acos((u+p+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return void 0===Ve&&(Ve=new ai,We=new ai),Ve.set(t,t,t,t),We.set(e,e,e,e),this.clamp(Ve,We)},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),oi.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:oi,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),si.prototype=(0,f.default)((0,p.default)(oi.prototype),{constructor:si,isWebGLMultisampleRenderTarget:!0,copy:function(t){return oi.prototype.copy.call(this,t),this.samples=t.samples,this}}),ui.prototype=(0,p.default)(oi.prototype),ui.prototype.constructor=ui,ui.prototype.isWebGLRenderTargetCube=!0,li.prototype=(0,p.default)(ni.prototype),li.prototype.constructor=li,li.prototype.isDataTexture=!0,(0,f.default)(hi.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.length;s<u;s+=3){var l=t[s],h=t[s+1],c=t[s+2];l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.count;s<u;s++){var l=t.getX(s),h=t.getY(s),c=t.getZ(s);l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new ke;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(t=new ke),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new ke),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,i,r=new ke;function n(n){var a=n.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,i=o.length;e<i;e++)r.copy(o[e]),r.applyMatrix4(n.matrixWorld),t.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,i=s.count;e<i;e++)r.fromBufferAttribute(s,e).applyMatrix4(n.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(n),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(e=new ke),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(je=new ke,function(t){return this.clampPoint(t.center,je),je.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant},intersectsTriangle:function(){var t=new ke,e=new ke,i=new ke,r=new ke,n=new ke,a=new ke,o=new ke,s=new ke,u=new ke,l=new ke;function h(r){var n,a;for(n=0,a=r.length-3;n<=a;n+=3){o.fromArray(r,n);var s=u.x*Math.abs(o.x)+u.y*Math.abs(o.y)+u.z*Math.abs(o.z),l=t.dot(o),h=e.dot(o),c=i.dot(o);if(Math.max(-Math.max(l,h,c),Math.min(l,h,c))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),i.subVectors(o.c,s),r.subVectors(e,t),n.subVectors(i,e),a.subVectors(t,i);var c=[0,-r.z,r.y,0,-n.z,n.y,0,-a.z,a.y,r.z,0,-r.x,n.z,0,-n.x,a.z,0,-a.x,-r.y,r.x,0,-n.y,n.x,0,-a.y,a.x,0];return!!h(c)&&!!h(c=[1,0,0,0,1,0,0,0,1])&&(l.crossVectors(r,n),h(c=[l.x,l.y,l.z]))}}(),clampPoint:function(t,e){return void 0===e&&(e=new ke),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new ke;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new ke;return function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(He=[new ke,new ke,new ke,new ke,new ke,new ke,new ke,new ke],function(t){return this.isEmpty()||(He[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),He[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),He[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),He[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),He[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),He[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),He[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),He[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(He)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(ci.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(Xe=new hi,function(t,e){var i=this.center;void 0!==e?i.copy(e):Xe.setFromPoints(t).getCenter(i);for(var r=0,n=0,a=t.length;n<a;n++)r=Math.max(r,i.distanceToSquared(t[n]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t);return void 0===e&&(e=new ke),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(t=new hi),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),(0,f.default)(pi.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new ke,e=new ke;return function(i,r,n){var a=t.subVectors(n,r).cross(e.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(e=new ke),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new ke;return function(e,i){void 0===i&&(i=new ke);var r=e.delta(t),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?i.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/n;return a<0||a>1?void 0:i.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(t=new ke),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new ke,e=new Ge;return function(i,r){var n=r||e.getNormalMatrix(i),a=this.coplanarPoint(t).applyMatrix4(i),o=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),(0,f.default)(di.prototype,{set:function(t,e,i,r,n,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(r),o[4].copy(n),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],u=i[5],l=i[6],h=i[7],c=i[8],p=i[9],d=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return e[0].setComponents(o-r,h-s,f-c,y-m).normalize(),e[1].setComponents(o+r,h+s,f+c,y+m).normalize(),e[2].setComponents(o+n,h+u,f+p,y+v).normalize(),e[3].setComponents(o-n,h-u,f-p,y-v).normalize(),e[4].setComponents(o-a,h-l,f-d,y-g).normalize(),e[5].setComponents(o+a,h+l,f+d,y+g).normalize(),this},intersectsObject:(Ye=new ci,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Ye.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Ye)}),intersectsSprite:function(){var t=new ci;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,r=-t.radius,n=0;n<6;n++)if(e[n].distanceToPoint(i)<r)return!1;return!0},intersectsBox:(qe=new ke,function(t){for(var e=this.planes,i=0;i<6;i++){var r=e[i];if(qe.x=r.normal.x>0?t.max.x:t.min.x,qe.y=r.normal.y>0?t.max.y:t.min.y,qe.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(qe)<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}}),(0,f.default)(fi.prototype,{isMatrix4:!0,set:function(t,e,i,r,n,a,o,s,u,l,h,c,p,d,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=r,v[1]=n,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=h,v[14]=c,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new fi).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t=new ke;return function(e){var i=this.elements,r=e.elements,n=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return i[0]=r[0]*n,i[1]=r[1]*n,i[2]=r[2]*n,i[3]=0,i[4]=r[4]*a,i[5]=r[5]*a,i[6]=r[6]*a,i[7]=0,i[8]=r[8]*o,i[9]=r[9]*o,i[10]=r[10]*o,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}}(),makeRotationFromEuler:function(t){!t||t.isEuler;var e=this.elements,i=t.x,r=t.y,n=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(r),u=Math.sin(r),l=Math.cos(n),h=Math.sin(n);if("XYZ"===t.order){var c=a*l,p=a*h,d=o*l,f=o*h;e[0]=s*l,e[4]=-s*h,e[8]=u,e[1]=p+d*u,e[5]=c-f*u,e[9]=-o*s,e[2]=f-c*u,e[6]=d+p*u,e[10]=a*s}else if("YXZ"===t.order){var m=s*l,v=s*h,g=u*l,y=u*h;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*u,e[1]=a*h,e[5]=a*l,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order)m=s*l,v=s*h,g=u*l,y=u*h,e[0]=m-y*o,e[4]=-a*h,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*l,e[9]=y-m*o,e[2]=-a*u,e[6]=o,e[10]=a*s;else if("ZYX"===t.order)c=a*l,p=a*h,d=o*l,f=o*h,e[0]=s*l,e[4]=d*u-p,e[8]=c*u+f,e[1]=s*h,e[5]=f*u+c,e[9]=p*u-d,e[2]=-u,e[6]=o*s,e[10]=a*s;else if("YZX"===t.order){var x=a*s,b=a*u,w=o*s,_=o*u;e[0]=s*l,e[4]=_-x*h,e[8]=w*h+b,e[1]=h,e[5]=a*l,e[9]=-o*l,e[2]=-u*l,e[6]=b*h+w,e[10]=x-_*h}else"XZY"===t.order&&(x=a*s,b=a*u,w=o*s,_=o*u,e[0]=s*l,e[4]=-h,e[8]=u*l,e[1]=x*h+_,e[5]=a*l,e[9]=b*h-w,e[2]=w*h-b,e[6]=o*l,e[10]=_*h+x);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(ti=new ke(0,0,0),ei=new ke(1,1,1),function(t){return this.compose(ti,t,ei)}),lookAt:(Qe=new ke,Ke=new ke,$e=new ke,function(t,e,i){var r=this.elements;return $e.subVectors(t,e),0===$e.lengthSq()&&($e.z=1),$e.normalize(),Qe.crossVectors(i,$e),0===Qe.lengthSq()&&(1===Math.abs(i.z)?$e.x+=1e-4:$e.z+=1e-4,$e.normalize(),Qe.crossVectors(i,$e)),Qe.normalize(),Ke.crossVectors($e,Qe),r[0]=Qe.x,r[4]=Ke.x,r[8]=$e.x,r[1]=Qe.y,r[5]=Ke.y,r[9]=$e.y,r[2]=Qe.z,r[6]=Ke.z,r[10]=$e.z,this}),multiply:function(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[4],s=i[8],u=i[12],l=i[1],h=i[5],c=i[9],p=i[13],d=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],x=i[11],b=i[15],w=r[0],_=r[4],M=r[8],S=r[12],A=r[1],T=r[5],L=r[9],P=r[13],C=r[2],E=r[6],I=r[10],D=r[14],B=r[3],O=r[7],z=r[11],N=r[15];return n[0]=a*w+o*A+s*C+u*B,n[4]=a*_+o*T+s*E+u*O,n[8]=a*M+o*L+s*I+u*z,n[12]=a*S+o*P+s*D+u*N,n[1]=l*w+h*A+c*C+p*B,n[5]=l*_+h*T+c*E+p*O,n[9]=l*M+h*L+c*I+p*z,n[13]=l*S+h*P+c*D+p*N,n[2]=d*w+f*A+m*C+v*B,n[6]=d*_+f*T+m*E+v*O,n[10]=d*M+f*L+m*I+v*z,n[14]=d*S+f*P+m*D+v*N,n[3]=g*w+y*A+x*C+b*B,n[7]=g*_+y*T+x*E+b*O,n[11]=g*M+y*L+x*I+b*z,n[15]=g*S+y*P+x*D+b*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new ke;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix4(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],n=t[12],a=t[1],o=t[5],s=t[9],u=t[13],l=t[2],h=t[6],c=t[10],p=t[14];return t[3]*(+n*s*h-r*u*h-n*o*c+i*u*c+r*o*p-i*s*p)+t[7]*(+e*s*p-e*u*c+n*a*c-r*a*p+r*u*l-n*s*l)+t[11]*(+e*u*h-e*o*p-n*a*h+i*a*p+n*o*l-i*u*l)+t[15]*(-r*o*l-e*s*h+e*o*c+r*a*h-i*a*c+i*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,i){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this},getInverse:function(t,e){var i=this.elements,r=t.elements,n=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],h=r[6],c=r[7],p=r[8],d=r[9],f=r[10],m=r[11],v=r[12],g=r[13],y=r[14],x=r[15],b=d*y*c-g*f*c+g*h*m-l*y*m-d*h*x+l*f*x,w=v*f*c-p*y*c-v*h*m+u*y*m+p*h*x-u*f*x,_=p*g*c-v*d*c+v*l*m-u*g*m-p*l*x+u*d*x,M=v*d*h-p*g*h-v*l*f+u*g*f+p*l*y-u*d*y,S=n*b+a*w+o*_+s*M;if(0===S){var A="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(A);return this.identity()}var T=1/S;return i[0]=b*T,i[1]=(g*f*s-d*y*s-g*o*m+a*y*m+d*o*x-a*f*x)*T,i[2]=(l*y*s-g*h*s+g*o*c-a*y*c-l*o*x+a*h*x)*T,i[3]=(d*h*s-l*f*s-d*o*c+a*f*c+l*o*m-a*h*m)*T,i[4]=w*T,i[5]=(p*y*s-v*f*s+v*o*m-n*y*m-p*o*x+n*f*x)*T,i[6]=(v*h*s-u*y*s-v*o*c+n*y*c+u*o*x-n*h*x)*T,i[7]=(u*f*s-p*h*s+p*o*c-n*f*c-u*o*m+n*h*m)*T,i[8]=_*T,i[9]=(v*d*s-p*g*s-v*a*m+n*g*m+p*a*x-n*d*x)*T,i[10]=(u*g*s-v*l*s+v*a*c-n*g*c-u*a*x+n*l*x)*T,i[11]=(p*l*s-u*d*s-p*a*c+n*d*c+u*a*m-n*l*m)*T,i[12]=M*T,i[13]=(p*g*o-v*d*o+v*a*f-n*g*f-p*a*y+n*d*y)*T,i[14]=(v*l*o-u*g*o-v*a*h+n*g*h+u*a*y-n*l*y)*T,i[15]=(u*d*o-p*l*o+p*a*h-n*d*h-u*a*f+n*l*f)*T,this},scale:function(t){var e=this.elements,i=t.x,r=t.y,n=t.z;return e[0]*=i,e[4]*=r,e[8]*=n,e[1]*=i,e[5]*=r,e[9]*=n,e[2]*=i,e[6]*=r,e[10]*=n,e[3]*=i,e[7]*=r,e[11]*=n,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,a=t.x,o=t.y,s=t.z,u=n*a,l=n*o;return this.set(u*a+i,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+i,l*s-r*a,0,u*s-r*o,l*s+r*a,n*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){var r=this.elements,n=e._x,a=e._y,o=e._z,s=e._w,u=n+n,l=a+a,h=o+o,c=n*u,p=n*l,d=n*h,f=a*l,m=a*h,v=o*h,g=s*u,y=s*l,x=s*h,b=i.x,w=i.y,_=i.z;return r[0]=(1-(f+v))*b,r[1]=(p+x)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(p-x)*w,r[5]=(1-(c+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(d+y)*_,r[9]=(m-g)*_,r[10]=(1-(c+f))*_,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:(Je=new ke,Ze=new fi,function(t,e,i){var r=this.elements,n=Je.set(r[0],r[1],r[2]).length(),a=Je.set(r[4],r[5],r[6]).length(),o=Je.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),t.x=r[12],t.y=r[13],t.z=r[14],Ze.copy(this);var s=1/n,u=1/a,l=1/o;return Ze.elements[0]*=s,Ze.elements[1]*=s,Ze.elements[2]*=s,Ze.elements[4]*=u,Ze.elements[5]*=u,Ze.elements[6]*=u,Ze.elements[8]*=l,Ze.elements[9]*=l,Ze.elements[10]*=l,e.setFromRotationMatrix(Ze),i.x=n,i.y=a,i.z=o,this}),makePerspective:function(t,e,i,r,n,a){var o=this.elements,s=2*n/(e-t),u=2*n/(i-r),l=(e+t)/(e-t),h=(i+r)/(i-r),c=-(a+n)/(a-n),p=-2*a*n/(a-n);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,i,r,n,a){var o=this.elements,s=1/(e-t),u=1/(i-r),l=1/(a-n),h=(e+t)*s,c=(i+r)*u,p=(a+n)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-c,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}});var mi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 projectionMatrix ) {\n\treturn projectionMatrix[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowNormalBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective > 0.5 ? log2( vFragDepth ) * logDepthBufFC * 0.5 : gl_FragCoord.z;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform float directionalShadowBias[ NUM_DIR_LIGHTS ];\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalShadowBias[ i ], 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function vi(t){var e={};for(var i in t)for(var r in e[i]={},t[i]){var n=t[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?e[i][r]=n.clone():Array.isArray(n)?e[i][r]=n.slice():e[i][r]=n}return e}function gi(t){for(var e={},i=0;i<t.length;i++){var r=vi(t[i]);for(var n in r)e[n]=r[n]}return e}var yi,xi,bi,wi={clone:vi,merge:gi},_i={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mi(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}(0,f.default)(Mi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,r){if(e=Re.euclideanModulo(e,1),i=Re.clamp(i,0,1),r=Re.clamp(r,0,1),0===i)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+i):r+i-r*i,a=2*r-n;this.r=t(a,n,e+1/3),this.g=t(a,n,e),this.b=t(a,n,e-1/3)}return this}}(),setStyle:function(t){function e(t){void 0!==t&&parseFloat(t)}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,u)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l,h=(l=i[1]).length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return t&&t.length>0&&void 0!==(l=_i[t])&&this.setHex(l),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(t={h:0,s:0,l:0});var e,i,r=this.r,n=this.g,a=this.b,o=Math.max(r,n,a),s=Math.min(r,n,a),u=(s+o)/2;if(s===o)e=0,i=0;else{var l=o-s;switch(i=u<=.5?l/(o+s):l/(2-o-s),o){case r:e=(n-a)/l+(n<a?6:0);break;case n:e=(a-r)/l+2;break;case a:e=(r-n)/l+4}e/=6}return t.h=e,t.s=i,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(bi={},function(t,e,i){return this.getHSL(bi),bi.h+=t,bi.s+=e,bi.l+=i,this.setHSL(bi.h,bi.s,bi.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:(yi={h:0,s:0,l:0},xi={h:0,s:0,l:0},function(t,e){this.getHSL(yi),t.getHSL(xi);var i=Re.lerp(yi.h,xi.h,e),r=Re.lerp(yi.s,xi.s,e),n=Re.lerp(yi.l,xi.l,e);return this.setHSL(i,r,n),this}),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Si,Ai={common:{diffuse:{value:new Mi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ge},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowBias:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Mi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Ge}},sprite:{diffuse:{value:new Mi(15658734)},opacity:{value:1},center:{value:new Fe(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Ge}}},Ti={basic:{uniforms:gi([Ai.common,Ai.specularmap,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.fog]),vertexShader:mi.meshbasic_vert,fragmentShader:mi.meshbasic_frag},lambert:{uniforms:gi([Ai.common,Ai.specularmap,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.emissivemap,Ai.fog,Ai.lights,{emissive:{value:new Mi(0)}}]),vertexShader:mi.meshlambert_vert,fragmentShader:mi.meshlambert_frag},phong:{uniforms:gi([Ai.common,Ai.specularmap,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.emissivemap,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,Ai.gradientmap,Ai.fog,Ai.lights,{emissive:{value:new Mi(0)},specular:{value:new Mi(1118481)},shininess:{value:30}}]),vertexShader:mi.meshphong_vert,fragmentShader:mi.meshphong_frag},standard:{uniforms:gi([Ai.common,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.emissivemap,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,Ai.roughnessmap,Ai.metalnessmap,Ai.fog,Ai.lights,{emissive:{value:new Mi(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:mi.meshphysical_vert,fragmentShader:mi.meshphysical_frag},matcap:{uniforms:gi([Ai.common,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,Ai.fog,{matcap:{value:null}}]),vertexShader:mi.meshmatcap_vert,fragmentShader:mi.meshmatcap_frag},points:{uniforms:gi([Ai.points,Ai.fog]),vertexShader:mi.points_vert,fragmentShader:mi.points_frag},dashed:{uniforms:gi([Ai.common,Ai.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mi.linedashed_vert,fragmentShader:mi.linedashed_frag},depth:{uniforms:gi([Ai.common,Ai.displacementmap]),vertexShader:mi.depth_vert,fragmentShader:mi.depth_frag},normal:{uniforms:gi([Ai.common,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,{opacity:{value:1}}]),vertexShader:mi.normal_vert,fragmentShader:mi.normal_frag},sprite:{uniforms:gi([Ai.sprite,Ai.fog]),vertexShader:mi.sprite_vert,fragmentShader:mi.sprite_frag},background:{uniforms:{uvTransform:{value:new Ge},t2D:{value:null}},vertexShader:mi.background_vert,fragmentShader:mi.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mi.cube_vert,fragmentShader:mi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mi.equirect_vert,fragmentShader:mi.equirect_frag},distanceRGBA:{uniforms:gi([Ai.common,Ai.displacementmap,{referencePosition:{value:new ke},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mi.distanceRGBA_vert,fragmentShader:mi.distanceRGBA_frag},shadow:{uniforms:gi([Ai.lights,Ai.fog,{color:{value:new Mi(0)},opacity:{value:1}}]),vertexShader:mi.shadow_vert,fragmentShader:mi.shadow_frag}};function Li(){var t=null,e=!1,i=null;function r(n,a){!1!==e&&(i(n,a),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==i&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){i=t},setContext:function(e){t=e}}}function Pi(t){var e=new c.default;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);var r=e.get(i);r&&(t.deleteBuffer(r.buffer),e.delete(i))},update:function(i,r){i.isInterleavedBufferAttribute&&(i=i.data);var n=e.get(i);void 0===n?e.set(i,function(e,i){var r=e.array,n=e.dynamic?35048:35044,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,r,n),e.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array||(r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121)),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(i,r)):n.version<i.version&&(function(e,i,r){var n=i.array,a=i.updateRange;t.bindBuffer(r,e),!1===i.dynamic?t.bufferData(r,n,35044):-1===a.count?t.bufferSubData(r,0,n):0===a.count||(t.bufferSubData(r,a.offset*n.BYTES_PER_ELEMENT,n.subarray(a.offset,a.offset+a.count)),a.count=-1)}(n.buffer,i,r),n.version=i.version)}}}function Ci(t,e,i,r,n,a){this.a=t,this.b=e,this.c=i,this.normal=r&&r.isVector3?r:new ke,this.vertexNormals=Array.isArray(r)?r:[],this.color=n&&n.isColor?n:new Mi,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==a?a:0}function Ei(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._order=r||Ei.DefaultOrder}function Ii(){this.mask=1}Ti.physical={uniforms:gi([Ti.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:mi.meshphysical_vert,fragmentShader:mi.meshphysical_frag},(0,f.default)(Ci.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),Ei.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Ei.DefaultOrder="XYZ",(0,d.default)(Ei.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),(0,f.default)(Ei.prototype,{isEuler:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var r=Re.clamp,n=t.elements,a=n[0],o=n[4],s=n[8],u=n[1],l=n[5],h=n[9],c=n[2],p=n[6],d=n[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-c,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===e?(this._y=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e&&(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(p,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,d),this._y=0)),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new fi;return function(e,i,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(Si=new Ue,function(t){return Si.setFromEuler(this),this.setFromQuaternion(Si,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new ke(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(Ii.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var Di,Bi,Oi,zi,Ni,Ri=0;function Fi(){Object.defineProperty(this,"id",{value:Ri++}),this.uuid=Re.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Fi.DefaultUp.clone();var t=new ke,e=new Ei,i=new Ue,r=new ke(1,1,1);e.onChange((function(){i.setFromEuler(e,!1)})),i.onChange((function(){e.setFromQuaternion(i,void 0,!1)})),(0,d.default)(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new fi},normalMatrix:{value:new Ge}}),this.matrix=new fi,this.matrixWorld=new fi,this.matrixAutoUpdate=Fi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ii,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Fi.DefaultUp=new ke(0,1,0),Fi.DefaultMatrixAutoUpdate=!0,Fi.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Fi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(Ni=new Ue,function(t,e){return Ni.setFromAxisAngle(t,e),this.quaternion.multiply(Ni),this}),rotateOnWorldAxis:function(){var t=new Ue;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new ke(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new ke(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new ke(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new ke;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new ke(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new ke(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new ke(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(zi=new fi,function(t){return t.applyMatrix4(zi.getInverse(this.matrixWorld))}),lookAt:function(){var t=new Ue,e=new fi,i=new ke,r=new ke;return function(n,a,o){n.isVector3?i.copy(n):i.set(n,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(r,i,this.up):e.lookAt(i,r,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this||t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},attach:(Oi=new fi,function(t){return this.updateWorldMatrix(!0,!1),Oi.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Oi.multiply(t.parent.matrixWorld)),t.applyMatrix(Oi),t.updateWorldMatrix(!1,!1),this.add(t),this}),getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(t,e);if(void 0!==n)return n}},getWorldPosition:function(t){return void 0===t&&(t=new ke),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Di=new ke,Bi=new ke,function(t){return void 0===t&&(t=new Ue),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Di,t,Bi),t}),getWorldScale:function(){var t=new ke,e=new Ue;return function(i){return void 0===i&&(i=new ke),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(t){void 0===t&&(t=new ke),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,n=0,a=r.length;n<a;n++)r[n].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==(0,h.default)(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==Ae&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=n(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];n(t.shapes,l)}else n(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(n(t.materials,this.material[s]));r.material=c}else r.material=n(t.materials,this.material);if(this.children.length>0)for(r.children=[],s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object);if(e){var p=v(t.geometries),d=v(t.materials),f=v(t.textures),m=v(t.images);o=v(t.shapes),p.length>0&&(i.geometries=p),d.length>0&&(i.materials=d),f.length>0&&(i.textures=f),m.length>0&&(i.images=m),o.length>0&&(i.shapes=o)}return i.object=r,i;function v(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse((0,h.default)(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var r=t.children[i];this.add(r.clone())}return this}});var Ui,ki,Gi=0;function Vi(){Object.defineProperty(this,"id",{value:Gi+=2}),this.uuid=Re.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Wi(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Hi(t,e,i){Wi.call(this,new Int8Array(t),e,i)}function ji(t,e,i){Wi.call(this,new Uint8Array(t),e,i)}function Xi(t,e,i){Wi.call(this,new Uint8ClampedArray(t),e,i)}function qi(t,e,i){Wi.call(this,new Int16Array(t),e,i)}function Yi(t,e,i){Wi.call(this,new Uint16Array(t),e,i)}function Ji(t,e,i){Wi.call(this,new Int32Array(t),e,i)}function Zi(t,e,i){Wi.call(this,new Uint32Array(t),e,i)}function Qi(t,e,i){Wi.call(this,new Float32Array(t),e,i)}function Ki(t,e,i){Wi.call(this,new Float64Array(t),e,i)}function $i(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function tr(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,r=t.length;i<r;++i)t[i]>e&&(e=t[i]);return e}Vi.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Vi,isGeometry:!0,applyMatrix:function(t){for(var e=(new Ge).getNormalMatrix(t),i=0,r=this.vertices.length;i<r;i++)this.vertices[i].applyMatrix4(t);for(i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(e).normalize();for(var a=0,o=n.vertexNormals.length;a<o;a++)n.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new fi;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new fi;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new fi;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new fi;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new fi;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:(ki=new Fi,function(t){ki.lookAt(t),ki.updateMatrix(),this.applyMatrix(ki.matrix)}),fromBufferGeometry:function(t){var e=this,i=null!==t.index?t.index.array:void 0,r=t.attributes,n=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<n.length;l+=3)e.vertices.push((new ke).fromArray(n,l)),void 0!==o&&e.colors.push((new Mi).fromArray(o,l));function h(t,i,r,n){var l=void 0===o?[]:[e.colors[t].clone(),e.colors[i].clone(),e.colors[r].clone()],h=new Ci(t,i,r,void 0===a?[]:[(new ke).fromArray(a,3*t),(new ke).fromArray(a,3*i),(new ke).fromArray(a,3*r)],l,n);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new Fe).fromArray(s,2*t),(new Fe).fromArray(s,2*i),(new Fe).fromArray(s,2*r)]),void 0!==u&&e.faceVertexUvs[1].push([(new Fe).fromArray(u,2*t),(new Fe).fromArray(u,2*i),(new Fe).fromArray(u,2*r)])}var c=t.groups;if(c.length>0)for(l=0;l<c.length;l++)for(var p=c[l],d=p.start,f=d,m=d+p.count;f<m;f+=3)void 0!==i?h(i[f],i[f+1],i[f+2],p.materialIndex):h(f,f+1,f+2,p.materialIndex);else if(void 0!==i)for(l=0;l<i.length;l+=3)h(i[l],i[l+1],i[l+2]);else for(l=0;l<n.length/3;l+=3)h(l,l+1,l+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:(Ui=new ke,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ui).negate(),this.translate(Ui.x,Ui.y,Ui.z),this}),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,r=new fi;return r.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new ke,e=new ke,i=0,r=this.faces.length;i<r;i++){var n=this.faces[i],a=this.vertices[n.a],o=this.vertices[n.b],s=this.vertices[n.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),n.normal.copy(t)}},computeVertexNormals:function(t){var e,i,r,n,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new ke;if(t){var s,u,l,h=new ke,c=new ke;for(r=0,n=this.faces.length;r<n;r++)a=this.faces[r],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],h.subVectors(l,u),c.subVectors(s,u),h.cross(c),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),r=0,n=this.faces.length;r<n;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(r=0,n=this.faces.length;r<n;r++){var p=(a=this.faces[r]).vertexNormals;3===p.length?(p[0].copy(o[a.a]),p[1].copy(o[a.b]),p[2].copy(o[a.c])):(p[0]=o[a.a].clone(),p[1]=o[a.b].clone(),p[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(i=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,r,n;for(i=0,r=this.faces.length;i<r;i++)for((n=this.faces[i]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),t=0,e=n.vertexNormals.length;t<e;t++)n.__originalVertexNormals[t]?n.__originalVertexNormals[t].copy(n.vertexNormals[t]):n.__originalVertexNormals[t]=n.vertexNormals[t].clone();var a=new Vi;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)u=new ke,l={a:new ke,b:new ke,c:new ke},o.push(u),s.push(l)}var u,l,h=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=this.faces[i],u=h.faceNormals[i],l=h.vertexNormals[i],u.copy(n.normal),l.a.copy(n.vertexNormals[0]),l.b.copy(n.vertexNormals[1]),l.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)(n=this.faces[i]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new hi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ci),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t&&t.isGeometry){var r,n=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,u=t.faces,l=this.faceVertexUvs[0],h=t.faceVertexUvs[0],c=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(r=(new Ge).getNormalMatrix(e));for(var d=0,f=o.length;d<f;d++){var m=o[d].clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(d=0,f=p.length;d<f;d++)c.push(p[d].clone());for(d=0,f=u.length;d<f;d++){var v,g,y,x=u[d],b=x.vertexNormals,w=x.vertexColors;(v=new Ci(x.a+n,x.b+n,x.c+n)).normal.copy(x.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var _=0,M=b.length;_<M;_++)g=b[_].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);for(v.color.copy(x.color),_=0,M=w.length;_<M;_++)y=w[_],v.vertexColors.push(y.clone());v.materialIndex=x.materialIndex+i,s.push(v)}for(d=0,f=h.length;d<f;d++){var S=h[d],A=[];if(void 0!==S){for(_=0,M=S.length;_<M;_++)A.push(S[_].clone());l.push(A)}}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,i,r,n,a,o,s,u={},l=[],h=[],c=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)t=this.vertices[i],void 0===u[e=Math.round(t.x*c)+"_"+Math.round(t.y*c)+"_"+Math.round(t.z*c)]?(u[e]=i,l.push(this.vertices[i]),h[i]=l.length-1):h[i]=h[u[e]];var p=[];for(i=0,r=this.faces.length;i<r;i++){(n=this.faces[i]).a=h[n.a],n.b=h[n.b],n.c=h[n.c],a=[n.a,n.b,n.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){p.push(i);break}}for(i=p.length-1;i>=0;i--){var f=p[i];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(t){this.vertices=[];for(var e=0,i=t.length;e<i;e++){var r=t[e];this.vertices.push(new ke(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,n,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(r=[]),o&&o.length===e&&(n=[]),i=0;i<e;i++){var s=t[i]._id;r&&r.push(a[s]),n&&n.push(o[s])}r&&(this.faceVertexUvs[0]=r),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var r=[],n=0;n<this.vertices.length;n++){var a=this.vertices[n];r.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],h={},c=[],p={};for(n=0;n<this.faces.length;n++){var d=this.faces[n],f=void 0!==this.faceVertexUvs[0][n],m=d.normal.length()>0,v=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,x=0;if(x=M(x,0,0),x=M(x,1,!0),x=M(x,2,!1),x=M(x,3,f),x=M(x,4,m),x=M(x,5,v),x=M(x,6,g),x=M(x,7,y),o.push(x),o.push(d.a,d.b,d.c),o.push(d.materialIndex),f){var b=this.faceVertexUvs[0][n];o.push(T(b[0]),T(b[1]),T(b[2]))}if(m&&o.push(S(d.normal)),v){var w=d.vertexNormals;o.push(S(w[0]),S(w[1]),S(w[2]))}if(g&&o.push(A(d.color)),y){var _=d.vertexColors;o.push(A(_[0]),A(_[1]),A(_[2]))}}function M(t,e,i){return i?t|1<<e:t&~(1<<e)}function S(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]||(u[e]=s.length/3,s.push(t.x,t.y,t.z)),u[e]}function A(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==h[e]||(h[e]=l.length,l.push(t.getHex())),h[e]}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]||(p[e]=c.length/2,c.push(t.x,t.y)),p[e]}return t.data={},t.data.vertices=r,t.data.normals=s,l.length>0&&(t.data.colors=l),c.length>0&&(t.data.uvs=[c]),t.data.faces=o,t},clone:function(){return(new Vi).copy(this)},copy:function(t){var e,i,r,n,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,i=s.length;e<i;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,i=u.length;e<i;e++)this.colors.push(u[e].clone());var l=t.faces;for(e=0,i=l.length;e<i;e++)this.faces.push(l[e].clone());for(e=0,i=t.faceVertexUvs.length;e<i;e++){var h=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,n=h.length;r<n;r++){var c=h[r],p=[];for(a=0,o=c.length;a<o;a++){var d=c[a];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,i=f.length;e<i;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],r=0,n=f[e].vertices.length;r<n;r++)m.vertices.push(f[e].vertices[r].clone());if(void 0!==f[e].normals)for(m.normals=[],r=0,n=f[e].normals.length;r<n;r++)m.normals.push(f[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,i=v.length;e<i;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,n=v[e].vertexNormals.length;r<n;r++){var y=v[e].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),g.vertexNormals.push(x)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,n=v[e].faceNormals.length;r<n;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,i=b.length;e<i;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,i=w.length;e<i;e++)this.skinIndices.push(w[e].clone());var _=t.lineDistances;for(e=0,i=_.length;e<i;e++)this.lineDistances.push(_[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Wi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Wi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[t+r]=e.array[i+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new Mi),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new Fe),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ke),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ai),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=n,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Hi.prototype=(0,p.default)(Wi.prototype),Hi.prototype.constructor=Hi,ji.prototype=(0,p.default)(Wi.prototype),ji.prototype.constructor=ji,Xi.prototype=(0,p.default)(Wi.prototype),Xi.prototype.constructor=Xi,qi.prototype=(0,p.default)(Wi.prototype),qi.prototype.constructor=qi,Yi.prototype=(0,p.default)(Wi.prototype),Yi.prototype.constructor=Yi,Ji.prototype=(0,p.default)(Wi.prototype),Ji.prototype.constructor=Ji,Zi.prototype=(0,p.default)(Wi.prototype),Zi.prototype.constructor=Zi,Qi.prototype=(0,p.default)(Wi.prototype),Qi.prototype.constructor=Qi,Ki.prototype=(0,p.default)(Wi.prototype),Ki.prototype.constructor=Ki,(0,f.default)($i.prototype,{computeGroups:function(t){for(var e,i=[],r=void 0,n=t.faces,a=0;a<n.length;a++){var o=n[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,i.push(e)),e={start:3*a,materialIndex:r})}void 0!==e&&(e.count=3*a-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,r=t.vertices,n=t.faceVertexUvs,a=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,s=t.morphTargets,u=s.length;if(u>0){e=[];for(var l=0;l<u;l++)e[l]={name:s[l].name,data:[]};this.morphTargets.position=e}var h,c=t.morphNormals,p=c.length;if(p>0){for(h=[],l=0;l<p;l++)h[l]={name:c[l].name,data:[]};this.morphTargets.normal=h}var d=t.skinIndices,f=t.skinWeights,m=d.length===r.length,v=f.length===r.length;for(r.length>0&&i.length,l=0;l<i.length;l++){var g=i[l];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=g.normal;this.normals.push(x,x,x)}var b,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=g.color;this.colors.push(_,_,_)}!0===a&&(void 0!==(b=n[0][l])?this.uvs.push(b[0],b[1],b[2]):this.uvs.push(new Fe,new Fe,new Fe)),!0===o&&(void 0!==(b=n[1][l])?this.uvs2.push(b[0],b[1],b[2]):this.uvs2.push(new Fe,new Fe,new Fe));for(var M=0;M<u;M++){var S=s[M].vertices;e[M].data.push(S[g.a],S[g.b],S[g.c])}for(M=0;M<p;M++){var A=c[M].vertexNormals[l];h[M].data.push(A.a,A.b,A.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var er=1;function ir(){Object.defineProperty(this,"id",{value:er+=2}),this.uuid=Re.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function rr(t,e,i,r,n,a){Vi.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a},this.fromBufferGeometry(new nr(t,e,i,r,n,a)),this.mergeVertices()}function nr(t,e,i,r,n,a){ir.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};var o=this;t=t||1,e=e||1,i=i||1,r=Math.floor(r)||1,n=Math.floor(n)||1,a=Math.floor(a)||1;var s=[],u=[],l=[],h=[],c=0,p=0;function d(t,e,i,r,n,a,d,f,m,v,g){var y,x,b=a/m,w=d/v,_=a/2,M=d/2,S=f/2,A=m+1,T=v+1,L=0,P=0,C=new ke;for(x=0;x<T;x++){var E=x*w-M;for(y=0;y<A;y++){var I=y*b-_;C[t]=I*r,C[e]=E*n,C[i]=S,u.push(C.x,C.y,C.z),C[t]=0,C[e]=0,C[i]=f>0?1:-1,l.push(C.x,C.y,C.z),h.push(y/m),h.push(1-x/v),L+=1}}for(x=0;x<v;x++)for(y=0;y<m;y++){var D=c+y+A*x,B=c+y+A*(x+1),O=c+(y+1)+A*(x+1),z=c+(y+1)+A*x;s.push(D,B,z),s.push(B,O,z),P+=6}o.addGroup(p,P,g),p+=P,c+=L}d("z","y","x",-1,-1,i,e,t,a,n,0),d("z","y","x",1,-1,i,e,-t,a,n,1),d("x","z","y",1,1,t,i,e,r,a,2),d("x","z","y",1,-1,t,i,-e,r,a,3),d("x","y","z",1,-1,t,e,i,r,n,4),d("x","y","z",-1,-1,t,e,-i,r,n,5),this.setIndex(s),this.addAttribute("position",new Qi(u,3)),this.addAttribute("normal",new Qi(l,3)),this.addAttribute("uv",new Qi(h,2))}function ar(t,e,i,r){Vi.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new or(t,e,i,r)),this.mergeVertices()}function or(t,e,i,r){ir.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};var n,a,o=(t=t||1)/2,s=(e=e||1)/2,u=Math.floor(i)||1,l=Math.floor(r)||1,h=u+1,c=l+1,p=t/u,d=e/l,f=[],m=[],v=[],g=[];for(a=0;a<c;a++){var y=a*d-s;for(n=0;n<h;n++){var x=n*p-o;m.push(x,-y,0),v.push(0,0,1),g.push(n/u),g.push(1-a/l)}}for(a=0;a<l;a++)for(n=0;n<u;n++){var b=n+h*a,w=n+h*(a+1),_=n+1+h*(a+1),M=n+1+h*a;f.push(b,w,M),f.push(w,_,M)}this.setIndex(f),this.addAttribute("position",new Qi(m,3)),this.addAttribute("normal",new Qi(v,3)),this.addAttribute("uv",new Qi(g,2))}ir.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ir,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(tr(t)>65535?Zi:Yi)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(this.setIndex(e),this):(this.attributes[t]=e,this):this.addAttribute(t,new Wi(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new Ge).getNormalMatrix(t).applyToBufferAttribute(i),i.needsUpdate=!0);var r=this.attributes.tangent;return void 0!==r&&((new Ge).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new fi;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new fi;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new fi;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new fi;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new fi;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Fi;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new ke;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new Qi(3*e.vertices.length,3),r=new Qi(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var n=new Qi(e.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];e.push(n.x,n.y,n.z||0)}return this.addAttribute("position",new Qi(e,3)),this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var r=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(r=void 0,i.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(i);r.verticesNeedUpdate=i.verticesNeedUpdate,r.normalsNeedUpdate=i.normalsNeedUpdate,r.colorsNeedUpdate=i.colorsNeedUpdate,r.uvsNeedUpdate=i.uvsNeedUpdate,r.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=r}return!0===i.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new $i).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new Wi(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new Wi(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new Wi(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var n=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new Wi(n,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new Wi(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],u=t.morphTargets[o],l=0,h=u.length;l<h;l++){var c=u[l],p=new Qi(3*c.data.length,3);p.name=c.name,s.push(p.copyVector3sArray(c.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var d=new Qi(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new Qi(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){var t=new hi;return function(){null===this.boundingBox&&(this.boundingBox=new hi);var e=this.attributes.position,i=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),i)for(var r=0,n=i.length;r<n;r++){var a=i[r];t.setFromBufferAttribute(a),this.boundingBox.expandByPoint(t.min),this.boundingBox.expandByPoint(t.max)}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}(),computeBoundingSphere:function(){var t=new hi,e=new hi,i=new ke;return function(){null===this.boundingSphere&&(this.boundingSphere=new ci);var r=this.attributes.position,n=this.morphAttributes.position;if(r){var a=this.boundingSphere.center;if(t.setFromBufferAttribute(r),n)for(var o=0,s=n.length;o<s;o++){var u=n[o];e.setFromBufferAttribute(u),t.expandByPoint(e.min),t.expandByPoint(e.max)}t.getCenter(a);var l=0;for(o=0,s=r.count;o<s;o++)i.fromBufferAttribute(r,o),l=Math.max(l,a.distanceToSquared(i));if(n)for(o=0,s=n.length;o<s;o++)for(var h=0,c=(u=n[o]).count;h<c;h++)i.fromBufferAttribute(u,h),l=Math.max(l,a.distanceToSquared(i));this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new Wi(new Float32Array(i.length),3));else for(var r=e.normal.array,n=0,a=r.length;n<a;n++)r[n]=0;var o,s,u,l=e.normal.array,h=new ke,c=new ke,p=new ke,d=new ke,f=new ke;if(t){var m=t.array;for(n=0,a=t.count;n<a;n+=3)o=3*m[n+0],s=3*m[n+1],u=3*m[n+2],h.fromArray(i,o),c.fromArray(i,s),p.fromArray(i,u),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[o]+=d.x,l[o+1]+=d.y,l[o+2]+=d.z,l[s]+=d.x,l[s+1]+=d.y,l[s+2]+=d.z,l[u]+=d.x,l[u+1]+=d.y,l[u+2]+=d.z}else for(n=0,a=i.length;n<a;n+=9)h.fromArray(i,n),c.fromArray(i,n+3),p.fromArray(i,n+6),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[n]=d.x,l[n+1]=d.y,l[n+2]=d.z,l[n+3]=d.x,l[n+4]=d.y,l[n+5]=d.z,l[n+6]=d.x,l[n+7]=d.y,l[n+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0);var i=this.attributes;for(var r in i)if(void 0!==t.attributes[r])for(var n=i[r].array,a=t.attributes[r],o=a.array,s=a.itemSize*e,u=Math.min(o.length,n.length-s),l=0,h=s;l<u;l++,h++)n[h]=o[l];return this}},normalizeNormals:function(){var t=new ke;return function(){for(var e=this.attributes.normal,i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.normalize(),e.setXYZ(i,t.x,t.y,t.z)}}(),toNonIndexed:function(){function t(t,e){for(var i=t.array,r=t.itemSize,n=new i.constructor(e.length*r),a=0,o=0,s=0,u=e.length;s<u;s++){a=e[s]*r;for(var l=0;l<r;l++)n[o++]=i[a++]}return new Wi(n,r)}if(null===this.index)return this;var e=new ir,i=this.index.array,r=this.attributes;for(var n in r){var a=t(r[n],i);e.addAttribute(n,a)}var o=this.morphAttributes;for(n in o){for(var s=[],u=o[n],l=0,h=u.length;l<h;l++)a=t(u[l],i),s.push(a);e.morphAttributes[n]=s}for(var c=this.groups,p=(l=0,c.length);l<p;l++){var d=c[l];e.addGroup(d.start,d.count,d.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),(0,l.default)(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var n=this.attributes;for(var i in n){var a=(f=n[i]).toJSON();""!==f.name&&(a.name=f.name),t.data.attributes[i]=a}var o={},s=!1;for(var i in this.morphAttributes){for(var u=this.morphAttributes[i],c=[],p=0,d=u.length;p<d;p++){var f;a=(f=u[p]).toJSON(),""!==f.name&&(a.name=f.name),c.push(a)}c.length>0&&(o[i]=c,s=!0)}s&&(t.data.morphAttributes=o);var m=this.groups;m.length>0&&(t.data.groups=JSON.parse((0,h.default)(m)));var v=this.boundingSphere;return null!==v&&(t.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),t},clone:function(){return(new ir).copy(this)},copy:function(t){var e,i,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var u=[],l=s[e];for(i=0,r=l.length;i<r;i++)u.push(l[i].clone());this.morphAttributes[e]=u}var h=t.groups;for(i=0,r=h.length;i<r;i++){var c=h[i];this.addGroup(c.start,c.count,c.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),rr.prototype=(0,p.default)(Vi.prototype),rr.prototype.constructor=rr,nr.prototype=(0,p.default)(ir.prototype),nr.prototype.constructor=nr,ar.prototype=(0,p.default)(Vi.prototype),ar.prototype.constructor=ar,or.prototype=(0,p.default)(ir.prototype),or.prototype.constructor=or;var sr=0;function ur(){Object.defineProperty(this,"id",{value:sr++}),this.uuid=Re.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=P,this.side=_,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=A,this.opacity=1,this.transparent=!1,this.blendSrc=V,this.blendDst=W,this.blendEquation=B,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=K,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}ur.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ur,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:this.type}else this.type,this.flatShading=1===i}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==P&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==_&&(i.side=this.side),this.vertexColors!==A&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==(0,h.default)(this.userData)&&(i.userData=this.userData),e){var n=r(t.textures),a=r(t.images);n.length>0&&(i.textures=n),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse((0,h.default)(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var r=e.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=e[n].clone()}return this.clippingPlanes=i,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var lr,hr,cr,pr,dr,fr,mr,vr,gr,yr,xr,br,wr="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",_r="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Mr(t){ur.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=wr,this.fragmentShader=_r,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(t.attributes,this.setValues(t))}function Sr(t,e){this.origin=void 0!==t?t:new ke,this.direction=void 0!==e?e:new ke}function Ar(t,e,i){this.a=void 0!==t?t:new ke,this.b=void 0!==e?e:new ke,this.c=void 0!==i?i:new ke}function Tr(t){ur.call(this),this.type="MeshBasicMaterial",this.color=new Mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Lr(t,e){Fi.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new ir,this.material=void 0!==e?e:new Tr({color:16777215*Math.random()}),this.drawMode=Ae,this.updateMorphTargets()}function Pr(t,e,i,r){var n,a,o=new Mi(0),s=0,u=null,l=0;function h(t,i){e.buffers.color.setClear(t.r,t.g,t.b,i,r)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),h(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){h(o,s=t)},render:function(e,r,c,p){var d=r.background,f=t.vr,m=f.getSession&&f.getSession();if(m&&"additive"===m.environmentBlendMode&&(d=null),null===d?(h(o,s),u=null,l=0):d&&d.isColor&&(h(d,1),p=!0,u=null,l=0),(t.autoClear||p)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===a&&((a=new Lr(new nr(1,1,1),new Mr({type:"BackgroundCubeMaterial",uniforms:vi(Ti.cube.uniforms),vertexShader:Ti.cube.vertexShader,fragmentShader:Ti.cube.fragmentShader,side:M,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),i.update(a));var v=d.isWebGLRenderTargetCube?d.texture:d;a.material.uniforms.tCube.value=v,a.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1,u===d&&l===v.version||(a.material.needsUpdate=!0,u=d,l=v.version),e.unshift(a,a.geometry,a.material,0,0,null)}else d&&d.isTexture&&(void 0===n&&((n=new Lr(new or(2,2),new Mr({type:"BackgroundMaterial",uniforms:vi(Ti.background.uniforms),vertexShader:Ti.background.vertexShader,fragmentShader:Ti.background.fragmentShader,side:_,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(n.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(n)),n.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),n.material.uniforms.uvTransform.value.copy(d.matrix),u===d&&l===d.version||(n.material.needsUpdate=!0,u=d,l=d.version),e.unshift(n,n.geometry,n.material,0,0,null))}}}function Cr(t,e,i,r){var n;this.setMode=function(t){n=t},this.render=function(e,r){t.drawArrays(n,e,r),i.update(r,n)},this.renderInstances=function(a,o,s){var u;if(r.isWebGL2)u=t;else if(null===(u=e.get("ANGLE_instanced_arrays")))return;u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](n,o,s,a.maxInstancedCount),i.update(s,n,a.maxInstancedCount)}}function Er(t,e,i){var r;function n(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==i.precision?i.precision:"highp",s=n(o);s!==o&&(o=s);var u=!0===i.logarithmicDepthBuffer,l=t.getParameter(34930),h=t.getParameter(35660),c=t.getParameter(3379),p=t.getParameter(34076),d=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),g=h>0,y=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var i=e.get("EXT_texture_filter_anisotropic");return r=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:h,maxTextureSize:c,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(36183):0}}function Ir(){var t=this,e=null,i=0,r=!1,n=!1,a=new pi,o=new Ge,s={value:null,needsUpdate:!1};function u(){s.value!==e&&(s.value=e,s.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function l(e,i,r,n){var u=null!==e?e.length:0,l=null;if(0!==u){if(l=s.value,!0!==n||null===l){var h=r+4*u,c=i.matrixWorldInverse;o.getNormalMatrix(c),(null===l||l.length<h)&&(l=new Float32Array(h));for(var p=0,d=r;p!==u;++p,d+=4)a.copy(e[p]).applyMatrix4(c,o),a.normal.toArray(l,d),l[d+3]=a.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=u,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var o=0!==t.length||n||0!==i||r;return r=n,e=l(t,a,0),i=t.length,o},this.beginShadows=function(){n=!0,l(null)},this.endShadows=function(){n=!1,u()},this.setState=function(t,a,o,h,c,p){if(!r||null===t||0===t.length||n&&!o)n?l(null):u();else{var d=n?0:i,f=4*d,m=c.clippingState||null;s.value=m,m=l(t,h,f,p);for(var v=0;v!==f;++v)m[v]=e[v];c.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function Dr(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}}}function Br(t,e,i){var r={},n={};function a(t){var o=t.target,s=r[o.id];for(var u in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[u]);o.removeEventListener("dispose",a),delete r[o.id];var l=n[s.id];l&&(e.remove(l),delete n[s.id]),i.memory.geometries--}return{get:function(t,e){var n=r[e.id];return n||(e.addEventListener("dispose",a),e.isBufferGeometry?n=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new ir).setFromObject(t)),n=e._bufferGeometry),r[e.id]=n,i.memory.geometries++,n)},update:function(t){var i=t.index,r=t.attributes;for(var n in null!==i&&e.update(i,34963),r)e.update(r[n],34962);var a=t.morphAttributes;for(var n in a)for(var o=a[n],s=0,u=o.length;s<u;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var i=n[t.id];if(i)return i;var r,a=[],o=t.index,s=t.attributes;if(null!==o)for(var u=0,l=(r=o.array).length;u<l;u+=3){var h=r[u+0],c=r[u+1],p=r[u+2];a.push(h,c,c,p,p,h)}else for(u=0,l=(r=s.position.array).length/3-1;u<l;u+=3)h=u+0,c=u+1,p=u+2,a.push(h,c,c,p,p,h);return i=new(tr(a)>65535?Zi:Yi)(a,1),e.update(i,34963),n[t.id]=i,i}}}function Or(t,e,i,r){var n,a,o;this.setMode=function(t){n=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(n,r,a,e*o),i.update(r,n)},this.renderInstances=function(s,u,l){var h;if(r.isWebGL2)h=t;else if(null===(h=e.get("ANGLE_instanced_arrays")))return;h[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](n,l,a,u*o,s.maxInstancedCount),i.update(l,n,s.maxInstancedCount)}}function zr(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,i,r){switch(r=r||1,e.calls++,i){case 4:e.triangles+=r*(t/3);break;case 5:case 6:e.triangles+=r*(t-2);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t}}}}function Nr(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Rr(t){var e={},i=new Float32Array(8);return{update:function(r,n,a,o){var s=r.morphTargetInfluences,u=s.length,l=e[n.id];if(void 0===l){l=[];for(var h=0;h<u;h++)l[h]=[h,0];e[n.id]=l}var c=a.morphTargets&&n.morphAttributes.position,p=a.morphNormals&&n.morphAttributes.normal;for(h=0;h<u;h++)0!==(d=l[h])[1]&&(c&&n.removeAttribute("morphTarget"+h),p&&n.removeAttribute("morphNormal"+h));for(h=0;h<u;h++)(d=l[h])[0]=h,d[1]=s[h];for(l.sort(Nr),h=0;h<8;h++){var d;if(d=l[h]){var f=d[0],m=d[1];if(m){c&&n.addAttribute("morphTarget"+h,c[f]),p&&n.addAttribute("morphNormal"+h,p[f]),i[h]=m;continue}}i[h]=0}o.getUniforms().setValue(t,"morphTargetInfluences",i)}}}function Fr(t,e){var i={};return{update:function(r){var n=e.render.frame,a=r.geometry,o=t.get(r,a);return i[o.id]!==n&&(a.isGeometry&&o.updateFromObject(r),t.update(o),i[o.id]=n),o},dispose:function(){i={}}}}function Ur(t,e,i,r,n,a,o,s,u,l){t=void 0!==t?t:[],e=void 0!==e?e:dt,o=void 0!==o?o:Vt,ni.call(this,t,e,i,r,n,a,o,s,u,l),this.flipY=!1}function kr(t,e,i,r){ni.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=Mt,this.minFilter=Mt,this.wrapR=wt,this.generateMipmaps=!1,this.flipY=!1}function Gr(t,e,i,r){ni.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=Mt,this.minFilter=Mt,this.wrapR=wt,this.generateMipmaps=!1,this.flipY=!1}Mr.prototype=(0,p.default)(ur.prototype),Mr.prototype.constructor=Mr,Mr.prototype.isShaderMaterial=!0,Mr.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=vi(t.uniforms),this.defines=(0,f.default)({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Mr.prototype.toJSON=function(t){var e=ur.prototype.toJSON.call(this,t);for(var i in e.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?e.uniforms[i]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[i]={type:"m4",value:r.toArray()}:e.uniforms[i]={value:r}}(0,l.default)(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var n={};for(var a in this.extensions)!0===this.extensions[a]&&(n[a]=!0);return(0,l.default)(n).length>0&&(e.extensions=n),e},(0,f.default)(Sr.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(e=new ke),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new ke;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(e=new ke),e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new ke;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(hr=new ke,cr=new ke,pr=new ke,function(t,e,i,r){hr.copy(t).add(e).multiplyScalar(.5),cr.copy(e).sub(t).normalize(),pr.copy(this.origin).sub(hr);var n,a,o,s,u=.5*t.distanceTo(e),l=-this.direction.dot(cr),h=pr.dot(this.direction),c=-pr.dot(cr),p=pr.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*h-c,s=u*d,(n=l*c-h)>=0)if(a>=-s)if(a<=s){var f=1/d;o=(n*=f)*(n+l*(a*=f)+2*h)+a*(l*n+a+2*c)+p}else a=u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a=-u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a<=-s?o=-(n=Math.max(0,-(-l*u+h)))*n+(a=n>0?-u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p:a<=s?(n=0,o=(a=Math.min(Math.max(-u,-c),u))*(a+2*c)+p):o=-(n=Math.max(0,-(l*u+h)))*n+(a=n>0?u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p;else a=l>0?-u:u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;return i&&i.copy(this.direction).multiplyScalar(n).add(this.origin),r&&r.copy(cr).multiplyScalar(a).add(hr),o}),intersectSphere:function(){var t=new ke;return function(e,i){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),n=t.dot(t)-r*r,a=e.radius*e.radius;if(n>a)return null;var o=Math.sqrt(a-n),s=r-o,u=r+o;return s<0&&u<0?null:s<0?this.at(u,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var i,r,n,a,o,s,u=1/this.direction.x,l=1/this.direction.y,h=1/this.direction.z,c=this.origin;return u>=0?(i=(t.min.x-c.x)*u,r=(t.max.x-c.x)*u):(i=(t.max.x-c.x)*u,r=(t.min.x-c.x)*u),l>=0?(n=(t.min.y-c.y)*l,a=(t.max.y-c.y)*l):(n=(t.max.y-c.y)*l,a=(t.min.y-c.y)*l),i>a||n>r?null:((n>i||i!=i)&&(i=n),(a<r||r!=r)&&(r=a),h>=0?(o=(t.min.z-c.z)*h,s=(t.max.z-c.z)*h):(o=(t.max.z-c.z)*h,s=(t.min.z-c.z)*h),i>s||o>r?null:((o>i||i!=i)&&(i=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(i>=0?i:r,e)))},intersectsBox:(lr=new ke,function(t){return null!==this.intersectBox(t,lr)}),intersectTriangle:function(){var t=new ke,e=new ke,i=new ke,r=new ke;return function(n,a,o,s,u){e.subVectors(a,n),i.subVectors(o,n),r.crossVectors(e,i);var l,h=this.direction.dot(r);if(h>0){if(s)return null;l=1}else{if(!(h<0))return null;l=-1,h=-h}t.subVectors(this.origin,n);var c=l*this.direction.dot(i.crossVectors(t,i));if(c<0)return null;var p=l*this.direction.dot(e.cross(t));if(p<0)return null;if(c+p>h)return null;var d=-l*t.dot(r);return d<0?null:this.at(d/h,u)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),(0,f.default)(Ar,{getNormal:(fr=new ke,function(t,e,i,r){void 0===r&&(r=new ke),r.subVectors(i,e),fr.subVectors(t,e),r.cross(fr);var n=r.lengthSq();return n>0?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}),getBarycoord:function(){var t=new ke,e=new ke,i=new ke;return function(r,n,a,o,s){t.subVectors(o,n),e.subVectors(a,n),i.subVectors(r,n);var u=t.dot(t),l=t.dot(e),h=t.dot(i),c=e.dot(e),p=e.dot(i),d=u*c-l*l;if(void 0===s&&(s=new ke),0===d)return s.set(-2,-1,-1);var f=1/d,m=(c*h-l*p)*f,v=(u*p-l*h)*f;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var t=new ke;return function(e,i,r,n){return Ar.getBarycoord(e,i,r,n,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:(dr=new ke,function(t,e,i,r,n,a,o,s){return this.getBarycoord(t,e,i,r,dr),s.set(0,0),s.addScaledVector(n,dr.x),s.addScaledVector(a,dr.y),s.addScaledVector(o,dr.z),s}),isFrontFacing:function(){var t=new ke,e=new ke;return function(i,r,n,a){return t.subVectors(n,r),e.subVectors(i,r),t.cross(e).dot(a)<0}}()}),(0,f.default)(Ar.prototype,{set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new ke,e=new ke;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(t=new ke),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return Ar.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(t=new ke),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return Ar.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,i,r,n){return Ar.getUV(t,this.a,this.b,this.c,e,i,r,n)},containsPoint:function(t){return Ar.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return Ar.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(mr=new ke,vr=new ke,gr=new ke,yr=new ke,xr=new ke,br=new ke,function(t,e){void 0===e&&(e=new ke);var i,r,n=this.a,a=this.b,o=this.c;mr.subVectors(a,n),vr.subVectors(o,n),yr.subVectors(t,n);var s=mr.dot(yr),u=vr.dot(yr);if(s<=0&&u<=0)return e.copy(n);xr.subVectors(t,a);var l=mr.dot(xr),h=vr.dot(xr);if(l>=0&&h<=l)return e.copy(a);var c=s*h-l*u;if(c<=0&&s>=0&&l<=0)return i=s/(s-l),e.copy(n).addScaledVector(mr,i);br.subVectors(t,o);var p=mr.dot(br),d=vr.dot(br);if(d>=0&&p<=d)return e.copy(o);var f=p*u-s*d;if(f<=0&&u>=0&&d<=0)return r=u/(u-d),e.copy(n).addScaledVector(vr,r);var m=l*d-p*h;if(m<=0&&h-l>=0&&p-d>=0)return gr.subVectors(o,a),r=(h-l)/(h-l+(p-d)),e.copy(a).addScaledVector(gr,r);var v=1/(m+f+c);return i=f*v,r=c*v,e.copy(n).addScaledVector(mr,i).addScaledVector(vr,r)}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Tr.prototype=(0,p.default)(ur.prototype),Tr.prototype.constructor=Tr,Tr.prototype.isMeshBasicMaterial=!0,Tr.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Lr.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Lr,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return Fi.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=(0,f.default)({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,i,r=this.geometry;if(r.isBufferGeometry){var n=r.morphAttributes,a=(0,l.default)(n);if(a.length>0){var o=n[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)i=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=r.morphTargets;void 0!==s&&s.length}},raycast:function(){var t=new fi,e=new Sr,i=new ci,r=new ke,n=new ke,a=new ke,o=new ke,s=new ke,u=new ke,l=new ke,h=new ke,c=new ke,p=new Fe,d=new Fe,f=new Fe,m=new ke,v=new ke;function g(t,e,i,r,n,a,o,s){if(null===(e.side===M?r.intersectTriangle(o,a,n,!0,s):r.intersectTriangle(n,a,o,e.side!==S,s)))return null;v.copy(s),v.applyMatrix4(t.matrixWorld);var u=i.ray.origin.distanceTo(v);return u<i.near||u>i.far?null:{distance:u,point:v.clone(),object:t}}function y(t,e,i,v,y,x,b,w,_,M){r.fromBufferAttribute(y,w),n.fromBufferAttribute(y,_),a.fromBufferAttribute(y,M);var S=t.morphTargetInfluences;if(e){if(e.morphTargets&&x&&S){l.set(0,0,0),h.set(0,0,0),c.set(0,0,0);for(var A=0,T=x.length;A<T;A++){var L=S[A],P=x[A];0!==L&&(o.fromBufferAttribute(P,w),s.fromBufferAttribute(P,_),u.fromBufferAttribute(P,M),l.addScaledVector(o.sub(r),L),h.addScaledVector(s.sub(n),L),c.addScaledVector(u.sub(a),L))}r.add(l),n.add(h),a.add(c)}var C=g(t,e,i,v,r,n,a,m);if(C){b&&(p.fromBufferAttribute(b,w),d.fromBufferAttribute(b,_),f.fromBufferAttribute(b,M),C.uv=Ar.getUV(m,r,n,a,p,d,f,new Fe));var E=new Ci(w,_,M);Ar.getNormal(r,n,a,E.normal),C.face=E}return C}}return function(r,n){var a,o=this.geometry,s=this.material,u=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(u),!1!==r.ray.intersectsSphere(i)&&(t.getInverse(u),e.copy(r.ray).applyMatrix4(t),null===o.boundingBox||!1!==e.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var l,h,c,v,x,b,w,_,M,S,A,T=o.index,L=o.attributes.position,P=o.morphAttributes.position,C=o.attributes.uv,E=o.groups,I=o.drawRange;if(null!==T)if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],x=S=Math.max(_.start,I.start),w=A=Math.min(_.start+_.count,I.start+I.count);x<w;x+=3)l=T.getX(x),h=T.getX(x+1),c=T.getX(x+2),(a=y(this,M,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(x/3),a.face.materialIndex=_.materialIndex,n.push(a));else for(v=S=Math.max(0,I.start),b=A=Math.min(T.count,I.start+I.count);v<b;v+=3)l=T.getX(v),h=T.getX(v+1),c=T.getX(v+2),(a=y(this,s,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(v/3),n.push(a));else if(void 0!==L){var D=1==this.drawMode,B=D?1:3;if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],S=Math.max(_.start,I.start),A=Math.min(_.start+_.count,I.start+I.count),A=Math.min(A,L.count),D&&(A-=2),x=S,w=A;x<w;x+=B)(a=y(this,M,r,e,L,P,C,l=x,h=x+1,c=x+2))&&(a.faceIndex=Math.floor(x/B),a.face.materialIndex=_.materialIndex,n.push(a));else for(S=Math.max(0,I.start),A=Math.min(L.count,I.start+I.count),D&&(A-=2),v=S,b=A;v<b;v+=B)(a=y(this,s,r,e,L,P,C,l=v,h=v+1,c=v+2))&&(a.faceIndex=Math.floor(v/B),n.push(a))}}else if(o.isGeometry){var O,z,N,R,F=Array.isArray(s),U=o.vertices,k=o.faces,G=o.faceVertexUvs[0];G.length>0&&(R=G);for(var V=0,W=k.length;V<W;V++){var H=k[V],j=F?s[H.materialIndex]:s;if(void 0!==j&&(O=U[H.a],z=U[H.b],N=U[H.c],a=g(this,j,r,e,O,z,N,m))){if(R&&R[V]){var X=R[V];p.copy(X[0]),d.copy(X[1]),f.copy(X[2]),a.uv=Ar.getUV(m,O,z,N,p,d,f,new Fe)}a.face=H,a.faceIndex=V,n.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ur.prototype=(0,p.default)(ni.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isCubeTexture=!0,Object.defineProperty(Ur.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),kr.prototype=(0,p.default)(ni.prototype),kr.prototype.constructor=kr,kr.prototype.isDataTexture2DArray=!0,Gr.prototype=(0,p.default)(ni.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isDataTexture3D=!0;var Vr=new ni,Wr=new kr,Hr=new Gr,jr=new Ur,Xr=[],qr=[],Yr=new Float32Array(16),Jr=new Float32Array(9),Zr=new Float32Array(4);function Qr(t,e,i){var r=t[0];if(r<=0||r>0)return t;var n=e*i,a=Xr[n];if(void 0===a&&(a=new Float32Array(n),Xr[n]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function Kr(t,e){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function $r(t,e){for(var i=0,r=e.length;i<r;i++)t[i]=e[i]}function tn(t,e){var i=qr[e];void 0===i&&(i=new Int32Array(e),qr[e]=i);for(var r=0;r!==e;++r)i[r]=t.allocateTextureUnit();return i}function en(t,e){var i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function rn(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Kr(i,e))return;t.uniform2fv(this.addr,e),$r(i,e)}}function nn(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(Kr(i,e))return;t.uniform3fv(this.addr,e),$r(i,e)}}function an(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Kr(i,e))return;t.uniform4fv(this.addr,e),$r(i,e)}}function on(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Kr(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),$r(i,e)}else{if(Kr(i,r))return;Zr.set(r),t.uniformMatrix2fv(this.addr,!1,Zr),$r(i,r)}}function sn(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Kr(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),$r(i,e)}else{if(Kr(i,r))return;Jr.set(r),t.uniformMatrix3fv(this.addr,!1,Jr),$r(i,r)}}function un(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Kr(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),$r(i,e)}else{if(Kr(i,r))return;Yr.set(r),t.uniformMatrix4fv(this.addr,!1,Yr),$r(i,r)}}function ln(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTexture2D(e||Vr,n)}function hn(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture2DArray(e||Wr,n)}function cn(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture3D(e||Hr,n)}function pn(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTextureCube(e||jr,n)}function dn(t,e){var i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function fn(t,e){var i=this.cache;Kr(i,e)||(t.uniform2iv(this.addr,e),$r(i,e))}function mn(t,e){var i=this.cache;Kr(i,e)||(t.uniform3iv(this.addr,e),$r(i,e))}function vn(t,e){var i=this.cache;Kr(i,e)||(t.uniform4iv(this.addr,e),$r(i,e))}function gn(t,e){t.uniform1fv(this.addr,e)}function yn(t,e){t.uniform1iv(this.addr,e)}function xn(t,e){t.uniform2iv(this.addr,e)}function bn(t,e){t.uniform3iv(this.addr,e)}function wn(t,e){t.uniform4iv(this.addr,e)}function _n(t,e){var i=Qr(e,this.size,2);t.uniform2fv(this.addr,i)}function Mn(t,e){var i=Qr(e,this.size,3);t.uniform3fv(this.addr,i)}function Sn(t,e){var i=Qr(e,this.size,4);t.uniform4fv(this.addr,i)}function An(t,e){var i=Qr(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function Tn(t,e){var i=Qr(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function Ln(t,e){var i=Qr(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Pn(t,e,i){var r=e.length,n=tn(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTexture2D(e[a]||Vr,n[a])}function Cn(t,e,i){var r=e.length,n=tn(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTextureCube(e[a]||jr,n[a])}function En(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return en;case 35664:return rn;case 35665:return nn;case 35666:return an;case 35674:return on;case 35675:return sn;case 35676:return un;case 35678:case 36198:return ln;case 35679:return cn;case 35680:return pn;case 36289:return hn;case 5124:case 35670:return dn;case 35667:case 35671:return fn;case 35668:case 35672:return mn;case 35669:case 35673:return vn}}(e.type)}function In(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return gn;case 35664:return _n;case 35665:return Mn;case 35666:return Sn;case 35674:return An;case 35675:return Tn;case 35676:return Ln;case 35678:return Pn;case 35680:return Cn;case 5124:case 35670:return yn;case 35667:case 35671:return xn;case 35668:case 35672:return bn;case 35669:case 35673:return wn}}(e.type)}function Dn(t){this.id=t,this.seq=[],this.map={}}In.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),$r(e,t)},Dn.prototype.setValue=function(t,e,i){for(var r=this.seq,n=0,a=r.length;n!==a;++n){var o=r[n];o.setValue(t,e[o.id],i)}};var Bn=/([\w\d_]+)(\])?(\[|\.)?/g;function On(t,e){t.seq.push(e),t.map[e.id]=e}function zn(t,e,i){var r=t.name,n=r.length;for(Bn.lastIndex=0;;){var a=Bn.exec(r),o=Bn.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===n){On(i,void 0===l?new En(s,t,e):new In(s,t,e));break}var h=i.map[s];void 0===h&&On(i,h=new Dn(s)),i=h}}function Nn(t,e){this.seq=[],this.map={};for(var i=t.getProgramParameter(e,35718),r=0;r<i;++r){var n=t.getActiveUniform(e,r);zn(n,t.getUniformLocation(e,n.name),this)}}function Rn(t,e,i,r){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),!0===r&&(t.getShaderParameter(n,35713),""!==t.getShaderInfoLog(n)&&(t.getShaderInfoLog(n),function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];e.join("\n")}(i))),n}Nn.prototype.setValue=function(t,e,i,r){var n=this.map[e];void 0!==n&&n.setValue(t,i,r)},Nn.prototype.setOptional=function(t,e,i){var r=e[i];void 0!==r&&this.setValue(t,i,r)},Nn.upload=function(t,e,i,r){for(var n=0,a=e.length;n!==a;++n){var o=e[n],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},Nn.seqWithValue=function(t,e){for(var i=[],r=0,n=t.length;r!==n;++r){var a=t[r];a.id in e&&i.push(a)}return i};var Fn=0;function Un(t){switch(t){case Te:return["Linear","( value )"];case Le:return["sRGB","( value )"];case Ce:return["RGBE","( value )"];case Ee:return["RGBM","( value, 7.0 )"];case Ie:return["RGBM","( value, 16.0 )"];case De:return["RGBD","( value, 256.0 )"];case Pe:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function kn(t,e){var i=Un(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Gn(t,e){var i;switch(e){case st:i="Linear";break;case ut:i="Reinhard";break;case lt:i="Uncharted2";break;case ht:i="OptimizedCineon";break;case ct:i="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Vn(t){return""!==t}function Wn(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Hn(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function jn(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(t,e){var i=mi[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return jn(i)}))}function Xn(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,i,r){for(var n="",a=parseInt(e);a<parseInt(i);a++)n+=r.replace(/\[ i \]/g,"[ "+a+" ]");return n}))}function qn(t,e,i,r,n,a,o,s){var u=t.context,l=r.defines,h=n.vertexShader,c=n.fragmentShader,p="SHADOWMAP_TYPE_BASIC";a.shadowMapType===b?p="SHADOWMAP_TYPE_PCF":a.shadowMapType===w&&(p="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",v="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case dt:case ft:f="ENVMAP_TYPE_CUBE";break;case yt:case xt:f="ENVMAP_TYPE_CUBE_UV";break;case mt:case vt:f="ENVMAP_TYPE_EQUIREC";break;case gt:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case ft:case vt:m="ENVMAP_MODE_REFRACTION"}switch(r.combine){case rt:v="ENVMAP_BLENDING_MULTIPLY";break;case nt:v="ENVMAP_BLENDING_MIX";break;case at:v="ENVMAP_BLENDING_ADD"}}var g,y,x,_,M,S=t.gammaFactor>0?t.gammaFactor:1,A=o.isWebGL2?"":function(t,e,i){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vn).join("\n")}(r.extensions,a,e),T=function(t){var e=[];for(var i in t){var r=t[i];!1!==r&&e.push("#define "+i+" "+r)}return e.join("\n")}(l),L=u.createProgram();if(r.isRawShaderMaterial?((g=[T].filter(Vn).join("\n")).length>0&&(g+="\n"),(y=[A,T].filter(Vn).join("\n")).length>0&&(y+="\n")):(g=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,T,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+S,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Vn).join("\n"),y=[A,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,T,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+S,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.envMap?"#define "+m:"",a.envMap?"#define "+v:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==ot?"#define TONE_MAPPING":"",a.toneMapping!==ot?mi.tonemapping_pars_fragment:"",a.toneMapping!==ot?Gn("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?mi.encodings_pars_fragment:"",a.mapEncoding?kn("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?kn("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?kn("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?kn("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(x="linearToOutputTexel",_=a.outputEncoding,M=Un(_),"vec4 "+x+"( vec4 value ) { return LinearTo"+M[0]+M[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Vn).join("\n")),h=Hn(h=Wn(h=jn(h),a),a),c=Hn(c=Wn(c=jn(c),a),a),h=Xn(h),c=Xn(c),o.isWebGL2&&!r.isRawShaderMaterial){var P=!1,C=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==h.match(C)&&null!==c.match(C)&&(P=!0,h=h.replace(C,""),c=c.replace(C,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,y=["#version 300 es\n","#define varying in",P?"":"out highp vec4 pc_fragColor;",P?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y}var E,I,D=y+c,B=Rn(u,35633,g+h,t.debug.checkShaderErrors),O=Rn(u,35632,D,t.debug.checkShaderErrors);if(u.attachShader(L,B),u.attachShader(L,O),void 0!==r.index0AttributeName?u.bindAttribLocation(L,0,r.index0AttributeName):!0===a.morphTargets&&u.bindAttribLocation(L,0,"position"),u.linkProgram(L),t.debug.checkShaderErrors){var z=u.getProgramInfoLog(L).trim(),N=u.getShaderInfoLog(B).trim(),R=u.getShaderInfoLog(O).trim(),F=!0,U=!0;!1===u.getProgramParameter(L,35714)?(F=!1,u.getError(),u.getProgramParameter(L,35715)):""!==z||""!==N&&""!==R||(U=!1),U&&(this.diagnostics={runnable:F,material:r,programLog:z,vertexShader:{log:N,prefix:g},fragmentShader:{log:R,prefix:y}})}return u.deleteShader(B),u.deleteShader(O),this.getUniforms=function(){return void 0===E&&(E=new Nn(u,L,s)),E},this.getAttributes=function(){return void 0===I&&(I=function(t,e){for(var i={},r=t.getProgramParameter(e,35721),n=0;n<r;n++){var a=t.getActiveAttrib(e,n).name;i[a]=t.getAttribLocation(e,a)}return i}(u,L)),I},this.destroy=function(){u.deleteProgram(L),this.program=void 0},(0,d.default)(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.name=n.name,this.id=Fn++,this.code=i,this.usedTimes=1,this.program=L,this.vertexShader=B,this.fragmentShader=O,this}function Yn(t,e,i,r){var n=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function s(t,e){var i;return t?t.isTexture?i=t.encoding:t.isWebGLRenderTarget&&(i=t.texture.encoding):i=Te,i===Te&&e&&(i=Pe),i}this.getParameters=function(e,r,n,o,u,l,h){var c=a[e.type],p=h.isSkinnedMesh?function(t){var e=t.skeleton;if(!e)return 0;var r=e.bones;if(i.floatVertexTextures)return 1024;var n=i.maxVertexUniforms,a=Math.floor((n-20)/4),o=Math.min(a,r.length);return o<r.length?(r.length,0):o}(h):0,d=i.precision;null!==e.precision&&(d=i.getMaxPrecision(e.precision))!==e.precision&&e.precision;var f=t.getRenderTarget();return{shaderID:c,precision:d,supportsVertexTextures:i.vertexTextures,outputEncoding:s(f?f.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:s(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:s(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:s(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===yt||e.envMap.mapping===xt),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:s(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===Ne,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,fog:!!o,useFog:e.fog,fogExp:o&&o.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:i.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:u,numClipIntersection:l,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&n.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===S,flipSided:e.side===M,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,i){var r=[];if(i.shaderID?r.push(i.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var n in e.defines)r.push(n),r.push(e.defines[n]);for(var a=0;a<o.length;a++)r.push(i[o[a]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.push(t.gammaFactor),r.join()},this.acquireProgram=function(a,o,s,u){for(var l,h=0,c=n.length;h<c;h++){var p=n[h];if(p.code===u){++(l=p).usedTimes;break}}return void 0===l&&(l=new qn(t,e,u,a,o,s,i,r),n.push(l)),l},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function Jn(){var t=new c.default;return{get:function(e){var i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,r){t.get(e)[i]=r},dispose:function(){t=new c.default}}}function Zn(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Qn(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Kn(){var t=[],e=0,i=[],r=[],n={id:-1};function a(i,r,a,o,s,u){var l=t[e];return void 0===l?(l={id:i.id,object:i,geometry:r,material:a,program:a.program||n,groupOrder:o,renderOrder:i.renderOrder,z:s,group:u},t[e]=l):(l.id=i.id,l.object=i,l.geometry=r,l.material=a,l.program=a.program||n,l.groupOrder=o,l.renderOrder=i.renderOrder,l.z=s,l.group=u),e++,l}return{opaque:i,transparent:r,init:function(){e=0,i.length=0,r.length=0},push:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).push(l)},unshift:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).unshift(l)},sort:function(){i.length>1&&i.sort(Zn),r.length>1&&r.sort(Qn)}}}function $n(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n,a=t[i.id];return void 0===a?(n=new Kn,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===(n=a[r.id])&&(n=new Kn,a[r.id]=n),n},dispose:function(){t={}}}}function ta(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new ke,color:new Mi,shadow:!1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"SpotLight":i={position:new ke,direction:new ke,color:new Mi,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"PointLight":i={position:new ke,color:new Mi,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Fe,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new ke,skyColor:new Mi,groundColor:new Mi};break;case"RectAreaLight":i={color:new Mi,position:new ke,halfWidth:new ke,halfHeight:new ke}}return t[e.id]=i,i}}}var ea=0;function ia(){for(var t=new ta,e={id:ea++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowBias:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)e.probe.push(new ke);var r=new ke,n=new fi,a=new fi;return{setup:function(i,o,s){for(var u=0,l=0,h=0,c=0;c<9;c++)e.probe[c].set(0,0,0);for(var p=0,d=0,f=0,m=0,v=0,g=s.matrixWorldInverse,y=(c=0,i.length);c<y;c++){var x=i[c],b=x.color,w=x.intensity,_=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)u+=b.r*w,l+=b.g*w,h+=b.b*w;else if(x.isLightProbe)for(var S=0;S<9;S++)e.probe[S].addScaledVector(x.sh.coefficients[S],w);else if(x.isDirectionalLight){if((T=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var A=x.shadow;T.shadowBias=A.bias,T.shadowNormalBias=A.normalBias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize}e.directionalShadowMap[p]=M,e.directionalShadowBias[p]=x.shadow.normalBias,e.directionalShadowMatrix[p]=x.shadow.matrix,e.directional[p]=T,p++}else if(x.isSpotLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(w),T.distance=_,T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(x.angle),T.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize),e.spotShadowMap[f]=M,e.spotShadowMatrix[f]=x.shadow.matrix,e.spot[f]=T,f++;else if(x.isRectAreaLight)(T=t.get(x)).color.copy(b).multiplyScalar(w),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),a.identity(),n.copy(x.matrixWorld),n.premultiply(g),a.extractRotation(n),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),e.rectArea[m]=T,m++;else if(x.isPointLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize,T.shadowCameraNear=A.camera.near,T.shadowCameraFar=A.camera.far),e.pointShadowMap[d]=M,e.pointShadowMatrix[d]=x.shadow.matrix,e.point[d]=T,d++;else if(x.isHemisphereLight){var T;(T=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(w),T.groundColor.copy(x.groundColor).multiplyScalar(w),e.hemi[v]=T,v++}}e.ambient[0]=u,e.ambient[1]=l,e.ambient[2]=h,e.directional.length=p,e.spot.length=f,e.rectArea.length=m,e.point.length=d,e.hemi.length=v,e.hash.stateID=e.id,e.hash.directionalLength=p,e.hash.pointLength=d,e.hash.spotLength=f,e.hash.rectAreaLength=m,e.hash.hemiLength=v,e.hash.shadowsLength=o.length},state:e}}function ra(){var t=new ia,e=[],i=[];return{init:function(){e.length=0,i.length=0},state:{lightsArray:e,shadowsArray:i,lights:t},setupLights:function(r){t.setup(e,i,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){i.push(t)}}}function na(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n;return void 0===t[i.id]?(n=new ra,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===t[i.id][r.id]?(n=new ra,t[i.id][r.id]=n):n=t[i.id][r.id],n},dispose:function(){t={}}}}function aa(t){ur.call(this),this.type="MeshDepthMaterial",this.depthPacking=Be,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function oa(t){ur.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ke,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function sa(t,e,i){for(var r=new di,n=new fi,a=new Fe,o=new Fe(i,i),s=new ke,u=new ke,l=1,h=2,c=1+(l|h),p=new Array(c),d=new Array(c),f={},m={0:M,1:_,2:S},v=[new ke(1,0,0),new ke(-1,0,0),new ke(0,0,1),new ke(0,0,-1),new ke(0,1,0),new ke(0,-1,0)],g=[new ke(0,1,0),new ke(0,1,0),new ke(0,1,0),new ke(0,1,0),new ke(0,0,1),new ke(0,0,-1)],y=[new ai,new ai,new ai,new ai,new ai,new ai],x=0;x!==c;++x){var w=0!=(x&l),A=0!=(x&h),T=new aa({depthPacking:Oe,morphTargets:w,skinning:A});p[x]=T;var P=new oa({morphTargets:w,skinning:A});d[x]=P}var C=this;function E(e,i,r,n,a,o){var s=e.geometry,u=null,c=p,v=e.customDepthMaterial;if(r&&(c=d,v=e.customDistanceMaterial),v)u=v;else{var g=!1;i.morphTargets&&(s&&s.isBufferGeometry?g=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(g=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&i.skinning;var y=e.isSkinnedMesh&&i.skinning,x=0;g&&(x|=l),y&&(x|=h),u=c[x]}if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var b=u.uuid,w=i.uuid,_=f[b];void 0===_&&(_={},f[b]=_);var M=_[w];void 0===M&&(M=u.clone(),_[w]=M),u=M}return u.visible=i.visible,u.wireframe=i.wireframe,u.side=null!=i.shadowSide?i.shadowSide:m[i.side],u.clipShadows=i.clipShadows,u.clippingPlanes=i.clippingPlanes,u.clipIntersection=i.clipIntersection,u.wireframeLinewidth=i.wireframeLinewidth,u.linewidth=i.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(n),u.nearDistance=a,u.farDistance=o),u}function I(i,n,a,o){if(!1!==i.visible){if(i.layers.test(n.layers)&&(i.isMesh||i.isLine||i.isPoints)&&i.castShadow&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,i.matrixWorld);var s=e.update(i),l=i.material;if(Array.isArray(l))for(var h=s.groups,c=0,p=h.length;c<p;c++){var d=h[c],f=l[d.materialIndex];if(f&&f.visible){var m=E(i,f,o,u,a.near,a.far);t.renderBufferDirect(a,null,s,m,i,d)}}else l.visible&&(m=E(i,l,o,u,a.near,a.far),t.renderBufferDirect(a,null,s,m,i,null))}for(var v=i.children,g=0,y=v.length;g<y;g++)I(v[g],n,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=b,this.render=function(e,i,l){if(!1!==C.enabled&&(!1!==C.autoUpdate||!1!==C.needsUpdate)&&0!==e.length){var h,c=t.getRenderTarget(),p=t.getActiveCubeFace(),d=t.getActiveMipMapLevel(),f=t.state;f.setBlending(L),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var m=0,x=e.length;m<x;m++){var b=e[m],w=b.shadow,_=b&&b.isPointLight;if(void 0!==w){var M=w.camera;if(a.copy(w.mapSize),a.min(o),_){var S=a.x,A=a.y;y[0].set(2*S,A,S,A),y[1].set(0,A,S,A),y[2].set(3*S,A,S,A),y[3].set(S,A,S,A),y[4].set(3*S,0,S,A),y[5].set(S,0,S,A),a.x*=4,a.y*=2}if(null===w.map){var T={minFilter:Mt,magFilter:Mt,format:Wt};w.map=new oi(a.x,a.y,T),w.map.texture.name=b.name+".shadowMap",M.updateProjectionMatrix()}w.isSpotLightShadow&&w.update(b);var P=w.map,E=w.matrix;u.setFromMatrixPosition(b.matrixWorld),M.position.copy(u),_?(h=6,E.makeTranslation(-u.x,-u.y,-u.z)):(h=1,s.setFromMatrixPosition(b.target.matrixWorld),M.lookAt(s),M.updateMatrixWorld(),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(M.projectionMatrix),E.multiply(M.matrixWorldInverse)),t.setRenderTarget(P),t.clear();for(var D=0;D<h;D++){if(_){s.copy(M.position),s.add(v[D]),M.up.copy(g[D]),M.lookAt(s),M.updateMatrixWorld();var B=y[D];f.viewport(B)}n.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),r.setFromMatrix(n),I(i,l,M,_)}}}C.needsUpdate=!1,t.setRenderTarget(c,p,d)}}}function ua(t,e,i,r){var n=new function(){var e=!1,i=new ai,r=null,n=new ai(0,0,0,0);return{setMask:function(i){r===i||e||(t.colorMask(i,i,i,i),r=i)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),i.set(e,r,a,o),!1===n.equals(i)&&(t.clearColor(e,r,a,o),n.copy(i))},reset:function(){e=!1,r=null,n.set(-1,0,0,0)}}},s=new function(){var e=!1,i=null,r=null,n=null;return{setTest:function(t){t?at(2929):ot(2929)},setMask:function(r){i===r||e||(t.depthMask(r),i=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case J:t.depthFunc(512);break;case Z:t.depthFunc(519);break;case Q:t.depthFunc(513);break;case K:t.depthFunc(515);break;case $:t.depthFunc(514);break;case tt:t.depthFunc(518);break;case et:t.depthFunc(516);break;case it:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){n!==e&&(t.clearDepth(e),n=e)},reset:function(){e=!1,i=null,r=null,n=null}}},u=new function(){var e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(t){t?at(2960):ot(2960)},setMask:function(r){i===r||e||(t.stencilMask(r),i=r)},setFunc:function(e,i,o){r===e&&n===i&&a===o||(t.stencilFunc(e,i,o),r=e,n=i,a=o)},setOp:function(e,i,r){o===e&&s===i&&u===r||(t.stencilOp(e,i,r),o=e,s=i,u=r)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null}}},l=t.getParameter(34921),h=new Uint8Array(l),c=new Uint8Array(l),p=new Uint8Array(l),d={},f=null,m=null,v=null,g=null,y=null,b=null,w=null,_=null,A=null,T=null,O=!1,z=null,N=null,R=null,F=null,U=null,k=t.getParameter(35661),G=!1,V=0,W=t.getParameter(7938);-1!==W.indexOf("WebGL")?(V=parseFloat(/^WebGL\ ([0-9])/.exec(W)[1]),G=V>=1):-1!==W.indexOf("OpenGL ES")&&(V=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(W)[1]),G=V>=2);var H=null,j={},X=new ai,q=new ai;function Y(e,i,r){var n=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<r;o++)t.texImage2D(i+o,0,6408,1,1,0,6408,5121,n);return a}var rt={};function nt(i,n){h[i]=1,0===c[i]&&(t.enableVertexAttribArray(i),c[i]=1),p[i]!==n&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,n),p[i]=n)}function at(e){!0!==d[e]&&(t.enable(e),d[e]=!0)}function ot(e){!1!==d[e]&&(t.disable(e),d[e]=!1)}function st(e,r,n,a,o,s,u,l){if(e!==L){if(v||(at(3042),v=!0),e===D)o=o||r,s=s||n,u=u||a,r===y&&o===_||(t.blendEquationSeparate(i.convert(r),i.convert(o)),y=r,_=o),n===b&&a===w&&s===A&&u===T||(t.blendFuncSeparate(i.convert(n),i.convert(a),i.convert(s),i.convert(u)),b=n,w=a,A=s,T=u),g=e,O=null;else if(e!==g||l!==O){if(y===B&&_===B||(t.blendEquation(32774),y=B,_=B),l)switch(e){case P:t.blendFuncSeparate(1,771,1,771);break;case C:t.blendFunc(1,1);break;case E:t.blendFuncSeparate(0,0,769,771);break;case I:t.blendFuncSeparate(0,768,0,770)}else switch(e){case P:t.blendFuncSeparate(770,771,1,771);break;case C:t.blendFunc(770,1);break;case E:t.blendFunc(0,769);break;case I:t.blendFunc(0,768)}b=null,w=null,A=null,T=null,g=e,O=l}}else v&&(ot(3042),v=!1)}function ut(e){z!==e&&(e?t.frontFace(2304):t.frontFace(2305),z=e)}function lt(e){e!==a?(at(2884),e!==N&&(e===o?t.cullFace(1029):e===x?t.cullFace(1028):t.cullFace(1032))):ot(2884),N=e}function ht(e,i,r){e?(at(32823),F===i&&U===r||(t.polygonOffset(i,r),F=i,U=r)):ot(32823)}function ct(e){void 0===e&&(e=33984+k-1),H!==e&&(t.activeTexture(e),H=e)}return rt[3553]=Y(3553,3553,1),rt[34067]=Y(34067,34069,6),n.setClear(0,0,0,1),s.setClear(1),u.setClear(0),at(2929),s.setFunc(K),ut(!1),lt(o),at(2884),st(L),{buffers:{color:n,depth:s,stencil:u},initAttributes:function(){for(var t=0,e=h.length;t<e;t++)h[t]=0},enableAttribute:function(t){nt(t,0)},enableAttributeAndDivisor:nt,disableUnusedAttributes:function(){for(var e=0,i=c.length;e!==i;++e)c[e]!==h[e]&&(t.disableVertexAttribArray(e),c[e]=0)},enable:at,disable:ot,getCompressedTextureFormats:function(){if(null===f&&(f=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var i=t.getParameter(34467),r=0;r<i.length;r++)f.push(i[r]);return f},useProgram:function(e){return m!==e&&(t.useProgram(e),m=e,!0)},setBlending:st,setMaterial:function(t,e){t.side===S?ot(2884):at(2884);var i=t.side===M;e&&(i=!i),ut(i),t.blending===P&&!1===t.transparent?st(L):st(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),n.setMask(t.colorWrite),ht(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:ut,setCullFace:lt,setLineWidth:function(e){e!==R&&(G&&t.lineWidth(e),R=e)},setPolygonOffset:ht,setScissorTest:function(t){t?at(3089):ot(3089)},activeTexture:ct,bindTexture:function(e,i){null===H&&ct();var r=j[H];void 0===r&&(r={type:void 0,texture:void 0},j[H]=r),r.type===e&&r.texture===i||(t.bindTexture(e,i||rt[e]),r.type=e,r.texture=i)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){}},scissor:function(e){!1===X.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),X.copy(e))},viewport:function(e){!1===q.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),q.copy(e))},reset:function(){for(var e=0;e<c.length;e++)1===c[e]&&(t.disableVertexAttribArray(e),c[e]=0);d={},f=null,H=null,j={},m=null,g=null,z=null,N=null,n.reset(),s.reset(),u.reset()}}}function la(t,e,i,r,n,a,o){var s,u={},l="undefined"!=typeof OffscreenCanvas;function h(t,e){return l?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function c(t,e,i,r){var n=1;if((t.width>r||t.height>r)&&(n=r/Math.max(t.width,t.height)),n<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?Re.floorPowerOfTwo:Math.floor,o=a(n*t.width),u=a(n*t.height);void 0===s&&(s=h(o,u));var l=i?h(o,u):s;return l.width=o,l.height=u,l.getContext("2d").drawImage(t,0,0,o,u),t.width,t.height,l}return"data"in t&&(t.width,t.height),t}return t}function p(t){return Re.isPowerOfTwo(t.width)&&Re.isPowerOfTwo(t.height)}function d(t,e){return t.generateMipmaps&&e&&t.minFilter!==Mt&&t.minFilter!==Tt}function f(e,i,n,a){t.generateMipmap(e),r.get(i).__maxMipLevel=Math.log(Math.max(n,a))*Math.LOG2E}function m(t,i){if(!n.isWebGL2)return t;var r=t;return 6403===t&&(5126===i&&(r=33326),5131===i&&(r=33325),5121===i&&(r=33321)),6407===t&&(5126===i&&(r=34837),5131===i&&(r=34843),5121===i&&(r=32849)),6408===t&&(5126===i&&(r=34836),5131===i&&(r=34842),5121===i&&(r=32856)),33325!==r&&33326!==r&&34842!==r&&34836!==r||e.get("EXT_color_buffer_float"),r}function v(t){return t===Mt||t===St||t===At?9728:9729}function g(e){var i=e.target;i.removeEventListener("dispose",g),function(e){var i=r.get(e);void 0!==i.__webglInit&&(t.deleteTexture(i.__webglTexture),r.remove(e))}(i),i.isVideoTexture&&delete u[i.id],o.memory.textures--}function y(e){var i=e.target;i.removeEventListener("dispose",y),function(e){var i=r.get(e),n=r.get(e.texture);if(e){if(void 0!==n.__webglTexture&&t.deleteTexture(n.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}(i),o.memory.textures--}var x=0;function b(t,e){var n=r.get(t);if(t.isVideoTexture&&function(t){var e=t.id,i=o.render.frame;u[e]!==i&&(u[e]=i,t.update())}(t),t.version>0&&n.__version!==t.version){var a=t.image;if(void 0===a);else if(!1!==a.complete)return void A(n,t,e)}i.activeTexture(33984+e),i.bindTexture(3553,n.__webglTexture)}function w(e,o){var s=r.get(e);if(6===e.image.length)if(e.version>0&&s.__version!==e.version){S(s,e),i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);for(var u=e&&e.isCompressedTexture,l=e.image[0]&&e.image[0].isDataTexture,h=[],v=0;v<6;v++)h[v]=u||l?l?e.image[v].image:e.image[v]:c(e.image[v],!1,!0,n.maxCubemapSize);var g=h[0],y=p(g)||n.isWebGL2,x=a.convert(e.format),b=a.convert(e.type),w=m(x,b);for(M(34067,e,y),v=0;v<6;v++)if(u)for(var _,A=h[v].mipmaps,T=0,L=A.length;T<L;T++)_=A[T],e.format!==Wt&&e.format!==Vt?i.getCompressedTextureFormats().indexOf(x)>-1&&i.compressedTexImage2D(34069+v,T,w,_.width,_.height,0,_.data):i.texImage2D(34069+v,T,w,_.width,_.height,0,x,b,_.data);else l?i.texImage2D(34069+v,0,w,h[v].width,h[v].height,0,x,b,h[v].data):i.texImage2D(34069+v,0,w,x,b,h[v]);s.__maxMipLevel=u?A.length-1:0,d(e,y)&&f(34067,e,g.width,g.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture)}function _(t,e){i.activeTexture(33984+e),i.bindTexture(34067,r.get(t).__webglTexture)}function M(i,o,s){var u;if(s?(t.texParameteri(i,10242,a.convert(o.wrapS)),t.texParameteri(i,10243,a.convert(o.wrapT)),32879!==i&&35866!==i||t.texParameteri(i,32882,a.convert(o.wrapR)),t.texParameteri(i,10240,a.convert(o.magFilter)),t.texParameteri(i,10241,a.convert(o.minFilter))):(t.texParameteri(i,10242,33071),t.texParameteri(i,10243,33071),32879!==i&&35866!==i||t.texParameteri(i,32882,33071),o.wrapS!==wt||o.wrapT,t.texParameteri(i,10240,v(o.magFilter)),t.texParameteri(i,10241,v(o.minFilter)),o.minFilter!==Mt&&o.minFilter),u=e.get("EXT_texture_filter_anisotropic")){if(o.type===zt&&null===e.get("OES_texture_float_linear"))return;if(o.type===Nt&&null===(n.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(i,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,n.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function S(e,i){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",g),e.__webglTexture=t.createTexture(),o.memory.textures++)}function A(e,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),S(e,r),i.activeTexture(33984+o),i.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);var u=function(t){return!n.isWebGL2&&(t.wrapS!==wt||t.wrapT!==wt||t.minFilter!==Mt&&t.minFilter!==Tt)}(r)&&!1===p(r.image),l=c(r.image,u,!1,n.maxTextureSize),h=p(l)||n.isWebGL2,v=a.convert(r.format),g=a.convert(r.type),y=m(v,g);M(s,r,h);var x,b=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===zt){if(!n.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else n.isWebGL2&&(y=33189);r.format===qt&&6402===y&&r.type!==Dt&&r.type!==Ot&&(r.type=Dt,g=a.convert(r.type)),r.format===Yt&&(y=34041,r.type!==kt&&(r.type=kt,g=a.convert(r.type))),i.texImage2D(3553,0,y,l.width,l.height,0,v,g,null)}else if(r.isDataTexture)if(b.length>0&&h){for(var w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,l.width,l.height,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(w=0,_=b.length;w<_;w++)x=b[w],r.format!==Wt&&r.format!==Vt?i.getCompressedTextureFormats().indexOf(v)>-1&&i.compressedTexImage2D(3553,w,y,x.width,x.height,0,x.data):i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);e.__maxMipLevel=b.length-1}else if(r.isDataTexture2DArray)i.texImage3D(35866,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)i.texImage3D(32879,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(b.length>0&&h){for(w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,v,g,x);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,v,g,l),e.__maxMipLevel=0;d(r,h)&&f(3553,r,l.width,l.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function T(e,n,o,s){var u=a.convert(n.texture.format),l=a.convert(n.texture.type),h=m(u,l);i.texImage2D(s,0,h,n.width,n.height,0,u,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,r.get(n.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function L(e,i,r){if(t.bindRenderbuffer(36161,e),i.depthBuffer&&!i.stencilBuffer){if(r){var n=C(i);t.renderbufferStorageMultisample(36161,n,33189,i.width,i.height)}else t.renderbufferStorage(36161,33189,i.width,i.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(i.depthBuffer&&i.stencilBuffer)r?(n=C(i),t.renderbufferStorageMultisample(36161,n,34041,i.width,i.height)):t.renderbufferStorage(36161,34041,i.width,i.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var o=m(a.convert(i.texture.format),a.convert(i.texture.type));r?(n=C(i),t.renderbufferStorageMultisample(36161,n,o,i.width,i.height)):t.renderbufferStorage(36161,o,i.width,i.height)}t.bindRenderbuffer(36161,null)}function P(e){var i=r.get(e),n=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),b(i.depthTexture,0);var n=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===qt)t.framebufferTexture2D(36160,36096,3553,n,0);else{if(i.depthTexture.format!==Yt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,n,0)}}(i.__webglFramebuffer,e)}else if(n){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),L(i.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),L(i.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}function C(t){return n.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(n.maxSamples,t.samples):0}var E=!1,I=!1;this.allocateTextureUnit=function(){var t=x;return t>=n.maxTextures&&n.maxTextures,x+=1,t},this.resetTextureUnits=function(){x=0},this.setTexture2D=b,this.setTexture2DArray=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(35866,n.__webglTexture))},this.setTexture3D=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(32879,n.__webglTexture))},this.setTextureCube=w,this.setTextureCubeDynamic=_,this.setupRenderTarget=function(e){var s=r.get(e),u=r.get(e.texture);e.addEventListener("dispose",y),u.__webglTexture=t.createTexture(),o.memory.textures++;var l=!0===e.isWebGLRenderTargetCube,h=!0===e.isWebGLMultisampleRenderTarget,c=p(e)||n.isWebGL2;if(l){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),h&&n.isWebGL2){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=m(a.convert(e.texture.format),a.convert(e.texture.type)),x=C(e);t.renderbufferStorageMultisample(36161,x,g,e.width,e.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),L(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}if(l){for(i.bindTexture(34067,u.__webglTexture),M(34067,e.texture,c),v=0;v<6;v++)T(s.__webglFramebuffer[v],e,36064,34069+v);d(e.texture,c)&&f(34067,e.texture,e.width,e.height),i.bindTexture(34067,null)}else i.bindTexture(3553,u.__webglTexture),M(3553,e.texture,c),T(s.__webglFramebuffer,e,36064,3553),d(e.texture,c)&&f(3553,e.texture,e.width,e.height),i.bindTexture(3553,null);e.depthBuffer&&P(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(d(e,p(t)||n.isWebGL2)){var a=t.isWebGLRenderTargetCube?34067:3553,o=r.get(e).__webglTexture;i.bindTexture(a,o),f(a,e,t.width,t.height),i.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget&&n.isWebGL2){var i=r.get(e);t.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,i.__webglFramebuffer);var a=e.width,o=e.height,s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===E&&(E=!0),t=t.texture),b(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLRenderTargetCube&&(!1===I&&(I=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?w(t,e):_(t,e)}}function ha(t,e,i){return{convert:function(t){var r;if(t===bt)return 10497;if(t===wt)return 33071;if(t===_t)return 33648;if(t===Mt)return 9728;if(t===St)return 9984;if(t===At)return 9986;if(t===Tt)return 9729;if(t===Lt)return 9985;if(t===Pt)return 9987;if(t===Ct)return 5121;if(t===Rt)return 32819;if(t===Ft)return 32820;if(t===Ut)return 33635;if(t===Et)return 5120;if(t===It)return 5122;if(t===Dt)return 5123;if(t===Bt)return 5124;if(t===Ot)return 5125;if(t===zt)return 5126;if(t===Nt){if(i.isWebGL2)return 5131;if(null!==(r=e.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(t===Gt)return 6406;if(t===Vt)return 6407;if(t===Wt)return 6408;if(t===Ht)return 6409;if(t===jt)return 6410;if(t===qt)return 6402;if(t===Yt)return 34041;if(t===Jt)return 6403;if(t===B)return 32774;if(t===O)return 32778;if(t===z)return 32779;if(t===F)return 0;if(t===U)return 1;if(t===k)return 768;if(t===G)return 769;if(t===V)return 770;if(t===W)return 771;if(t===H)return 772;if(t===j)return 773;if(t===X)return 774;if(t===q)return 775;if(t===Y)return 776;if((t===Zt||t===Qt||t===Kt||t===$t)&&null!==(r=e.get("WEBGL_compressed_texture_s3tc"))){if(t===Zt)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Qt)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Kt)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===$t)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===te||t===ee||t===ie||t===re)&&null!==(r=e.get("WEBGL_compressed_texture_pvrtc"))){if(t===te)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ee)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===ie)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===re)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===ne&&null!==(r=e.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((t===ae||t===oe||t===se||t===ue||t===le||t===he||t===ce||t===pe||t===de||t===fe||t===me||t===ve||t===ge||t===ye)&&null!==(r=e.get("WEBGL_compressed_texture_astc")))return t;if(t===N||t===R){if(i.isWebGL2){if(t===N)return 32775;if(t===R)return 32776}if(null!==(r=e.get("EXT_blend_minmax"))){if(t===N)return r.MIN_EXT;if(t===R)return r.MAX_EXT}}if(t===kt){if(i.isWebGL2)return 34042;if(null!==(r=e.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function ca(){Fi.call(this),this.type="Group"}function pa(){Fi.call(this),this.type="Camera",this.matrixWorldInverse=new fi,this.projectionMatrix=new fi,this.projectionMatrixInverse=new fi}function da(t,e,i,r){pa.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function fa(t){da.call(this),this.cameras=t||[]}aa.prototype=(0,p.default)(ur.prototype),aa.prototype.constructor=aa,aa.prototype.isMeshDepthMaterial=!0,aa.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},oa.prototype=(0,p.default)(ur.prototype),oa.prototype.constructor=oa,oa.prototype.isMeshDistanceMaterial=!0,oa.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},ca.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:ca,isGroup:!0}),pa.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:pa,isCamera:!0,copy:function(t,e){return Fi.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(t=new ke),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Fi.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),da.prototype=(0,f.default)((0,p.default)(pa.prototype),{constructor:da,isPerspectiveCamera:!0,copy:function(t,e){return pa.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:(0,f.default)({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Re.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Re.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Re.RAD2DEG*Math.atan(Math.tan(.5*Re.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,r,n,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Re.DEG2RAD*this.fov)/this.zoom,i=2*e,r=this.aspect*i,n=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;n+=a.offsetX*r/o,e-=a.offsetY*i/s,r*=a.width/o,i*=a.height/s}var u=this.filmOffset;0!==u&&(n+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,e,e-i,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),fa.prototype=(0,f.default)((0,p.default)(da.prototype),{constructor:fa,isArrayCamera:!0});var ma,va,ga,ya,xa,ba,wa=new ke,_a=new ke;function Ma(t,e,i){wa.setFromMatrixPosition(e.matrixWorld),_a.setFromMatrixPosition(i.matrixWorld);var r=wa.distanceTo(_a),n=e.projectionMatrix.elements,a=i.projectionMatrix.elements,o=n[14]/(n[10]-1),s=n[14]/(n[10]+1),u=(n[9]+1)/n[5],l=(n[9]-1)/n[5],h=(n[8]-1)/n[0],c=(a[8]+1)/a[0],p=o*h,d=o*c,f=r/(-h+c),m=f*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var v=o+f,g=s+f,y=p-m,x=d+(r-m),b=u*s/g*v,w=l*s/g*v;t.projectionMatrix.makePerspective(y,x,b,w,v,g)}function Sa(t){var e,i,r=this,n=null,a=null,o=null,s=[],u=new fi,l=new fi,h=1,c="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",w,!1));var p=new fi,d=new Ue,f=new ke,m=new da;m.viewport=new ai,m.layers.enable(1);var v=new da;v.viewport=new ai,v.layers.enable(2);var g=new fa([m,v]);function y(){return null!==n&&!0===n.isPresenting}g.layers.enable(1),g.layers.enable(2);var x,b=new Fe;function w(){if(y()){var a=n.getEyeParameters("left");e=2*a.renderWidth*h,i=a.renderHeight*h,x=t.getPixelRatio(),t.getSize(b),t.setDrawingBufferSize(e,i,1),m.viewport.set(0,0,e/2,i),v.viewport.set(e/2,0,e/2,i),A.start()}else r.enabled&&t.setDrawingBufferSize(b.width,b.height,x),A.stop()}var _=[];function M(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),i=0,r=0,n=e.length;i<n;i++){var a=e[i];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===t)return a;r++}}}function S(t,r){null!==r&&4===r.length&&t.set(r[0]*e,r[1]*i,r[2]*e,r[3]*i)}this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new ca).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),A.setContext(t)},this.setFramebufferScaleFactor=function(t){h=t},this.setReferenceSpaceType=function(t){c=t},this.setPoseTarget=function(t){void 0!==t&&(o=t)},this.getCamera=function(t){var e="local-floor"===c?1.6:0;if(!1===y())return t.position.set(0,e,0),t.rotation.set(0,0,0),t;if(n.depthNear=t.near,n.depthFar=t.far,n.getFrameData(a),"local-floor"===c){var i=n.stageParameters;i?u.fromArray(i.sittingToStandingTransform):u.makeTranslation(0,e,0)}var r=a.pose,h=null!==o?o:t;h.matrix.copy(u),h.matrix.decompose(h.position,h.quaternion,h.scale),null!==r.orientation&&(d.fromArray(r.orientation),h.quaternion.multiply(d)),null!==r.position&&(d.setFromRotationMatrix(u),f.fromArray(r.position),f.applyQuaternion(d),h.position.add(f)),h.updateMatrixWorld(),m.near=t.near,v.near=t.near,m.far=t.far,v.far=t.far,m.matrixWorldInverse.fromArray(a.leftViewMatrix),v.matrixWorldInverse.fromArray(a.rightViewMatrix),l.getInverse(u),"local-floor"===c&&(m.matrixWorldInverse.multiply(l),v.matrixWorldInverse.multiply(l));var x=h.parent;null!==x&&(p.getInverse(x.matrixWorld),m.matrixWorldInverse.multiply(p),v.matrixWorldInverse.multiply(p)),m.matrixWorld.getInverse(m.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),m.projectionMatrix.fromArray(a.leftProjectionMatrix),v.projectionMatrix.fromArray(a.rightProjectionMatrix),Ma(g,m,v);var b=n.getLayers();if(b.length){var w=b[0];S(m.viewport,w.leftBounds),S(v.viewport,w.rightBounds)}return function(){for(var t=0;t<s.length;t++){var e=s[t],i=M(t);if(void 0!==i&&void 0!==i.pose){if(null===i.pose)return;var r=i.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(u),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var n="Daydream Controller"===i.id?0:1;void 0===_[t]&&(_[t]=!1),_[t]!==i.buttons[n].pressed&&(_[t]=i.buttons[n].pressed,!0===_[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),g},this.getStandingMatrix=function(){return u},this.isPresenting=y;var A=new Li;this.setAnimationLoop=function(t){A.setAnimationLoop(t),y()&&A.start()},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){}}function Aa(t){var e=t.context,i=null,r=null,n="local-floor",a=null,o=[],s=[];function u(){return null!==i&&null!==r}var l=new da;l.layers.enable(1),l.viewport=new ai;var h=new da;h.layers.enable(2),h.viewport=new ai;var c=new fa([l,h]);function p(t){for(var e=0;e<o.length;e++)s[e]===t.inputSource&&o[e].dispatchEvent({type:t.type})}function d(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),g.stop()}function f(t){r=t,g.setContext(i),g.start()}function m(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}c.layers.enable(1),c.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=o[t];return void 0===e&&((e=new ca).matrixAutoUpdate=!1,e.visible=!1,o[t]=e),e},this.setFramebufferScaleFactor=function(t){},this.setReferenceSpaceType=function(t){n=t},this.setSession=function(t){null!==(i=t)&&(i.addEventListener("select",p),i.addEventListener("selectstart",p),i.addEventListener("selectend",p),i.addEventListener("end",d),i.updateRenderState({baseLayer:new XRWebGLLayer(i,e)}),i.requestReferenceSpace(n).then(f),s=i.inputSources,i.addEventListener("inputsourceschange",(function(){s=i.inputSources;for(var t=0;t<o.length;t++)o[t].userData.inputSource=s[t]})))},this.getCamera=function(t){if(u()){var e=t.parent,i=c.cameras;m(c,e);for(var r=0;r<i.length;r++)m(i[r],e);t.matrixWorld.copy(c.matrixWorld);for(var n=t.children,a=(r=0,n.length);r<a;r++)n[r].updateMatrixWorld(!0);return Ma(c,l,h),c}return t},this.isPresenting=u;var v=null,g=new Li;g.setAnimationLoop((function(e,n){if(null!==(a=n.getViewerPose(r))){var u=a.views,l=i.renderState.baseLayer;t.setFramebuffer(l.framebuffer);for(var h=0;h<u.length;h++){var p=u[h],d=l.getViewport(p),f=p.transform.inverse.matrix,m=c.cameras[h];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(p.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===h&&c.matrix.copy(m.matrix)}}for(h=0;h<o.length;h++){var g=o[h],y=s[h];if(y){var x=n.getPose(y.targetRaySpace,r);if(null!==x){g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(e)})),this.setAnimationLoop=function(t){v=t},this.dispose=function(){},this.getStandingMatrix=function(){return new fi},this.getDevice=function(){},this.setDevice=function(){},this.setFrameOfReferenceType=function(){},this.submitFrame=function(){}}function Ta(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,n=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,c=null,p=null;this.domElement=e,this.context=null,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=st,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,f,m,v,g,y,x,b,w,_,S,A,T,L,P,C,E,I,D=this,B=!1,O=null,z=0,N=0,R=null,F=null,U=-1,k={geometry:null,program:null,wireframe:!1},G=null,V=null,W=new ai,H=new ai,j=null,X=e.width,q=e.height,Y=1,J=new ai(0,0,X,q),Z=new ai(0,0,X,q),Q=!1,K=new di,$=new Ir,tt=!1,et=!1,it=new fi,rt=new ke;function nt(){return null===R?Y:1}try{var at={alpha:r,depth:n,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:h,xrCompatible:!0};if(e.addEventListener("webglcontextlost",ht,!1),e.addEventListener("webglcontextrestored",ct,!1),null===(d=i||e.getContext("webgl",at)||e.getContext("experimental-webgl",at)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw t.message,t}function ot(){f=new Dr(d),(m=new Er(d,f,t)).isWebGL2||(f.get("WEBGL_depth_texture"),f.get("OES_texture_float"),f.get("OES_texture_half_float"),f.get("OES_texture_half_float_linear"),f.get("OES_standard_derivatives"),f.get("OES_element_index_uint"),f.get("ANGLE_instanced_arrays")),f.get("OES_texture_float_linear"),I=new ha(d,f,m),(v=new ua(d,f,I,m)).scissor(H.copy(Z).multiplyScalar(Y)),v.viewport(W.copy(J).multiplyScalar(Y)),g=new zr(d),y=new Jn,x=new la(d,f,v,y,m,I,g),b=new Pi(d),w=new Br(d,b,g),_=new Fr(w,g),P=new Rr(d),S=new Yn(D,f,m,x),A=new $n,T=new na,L=new Pr(D,v,_,s),C=new Cr(d,f,g,m),E=new Or(d,f,g,m),g.programs=S.programs,D.context=d,D.capabilities=m,D.extensions=f,D.properties=y,D.renderLists=A,D.state=v,D.info=g}ot();var ut="undefined"!=typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new Aa(D):new Sa(D);this.vr=ut;var lt=new sa(D,_,m.maxTextureSize);function ht(t){t.preventDefault(),B=!0}function ct(){B=!1,ot()}function pt(t){var e=t.target;e.removeEventListener("dispose",pt),function(t){dt(t),y.remove(t)}(e)}function dt(t){var e=y.get(t).program;t.program=void 0,void 0!==e&&S.releaseProgram(e)}this.shadowMap=lt,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var t=f.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=f.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(t){void 0!==t&&(Y=t,this.setSize(X,q,!1))},this.getSize=function(t){return void 0===t&&(t=new Fe),t.set(X,q)},this.setSize=function(t,i,r){ut.isPresenting()||(X=t,q=i,e.width=t*Y,e.height=i*Y,!1!==r&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i))},this.getDrawingBufferSize=function(t){return void 0===t&&(t=new Fe),t.set(X*Y,q*Y)},this.setDrawingBufferSize=function(t,i,r){X=t,q=i,Y=r,e.width=t*r,e.height=i*r,this.setViewport(0,0,t,i)},this.getCurrentViewport=function(t){return void 0===t&&(t=new ai),t.copy(W)},this.getViewport=function(t){return t.copy(J)},this.setViewport=function(t,e,i,r){t.isVector4?J.set(t.x,t.y,t.z,t.w):J.set(t,e,i,r),v.viewport(W.copy(J).multiplyScalar(Y))},this.getScissor=function(t){return t.copy(Z)},this.setScissor=function(t,e,i,r){t.isVector4?Z.set(t.x,t.y,t.z,t.w):Z.set(t,e,i,r),v.scissor(H.copy(Z).multiplyScalar(Y))},this.getScissorTest=function(){return Q},this.setScissorTest=function(t){v.setScissorTest(Q=t)},this.getClearColor=function(){return L.getClearColor()},this.setClearColor=function(){L.setClearColor.apply(L,arguments)},this.getClearAlpha=function(){return L.getClearAlpha()},this.setClearAlpha=function(){L.setClearAlpha.apply(L,arguments)},this.clear=function(t,e,i){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===i||i)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ht,!1),e.removeEventListener("webglcontextrestored",ct,!1),A.dispose(),T.dispose(),y.dispose(),_.dispose(),ut.dispose(),mt.stop()},this.renderBufferImmediate=function(t,e){v.initAttributes();var i=y.get(t);t.hasPositions&&!i.position&&(i.position=d.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=d.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=d.createBuffer()),t.hasColors&&!i.color&&(i.color=d.createBuffer());var r=e.getAttributes();t.hasPositions&&(d.bindBuffer(34962,i.position),d.bufferData(34962,t.positionArray,35048),v.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),t.hasNormals&&(d.bindBuffer(34962,i.normal),d.bufferData(34962,t.normalArray,35048),v.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),t.hasUvs&&(d.bindBuffer(34962,i.uv),d.bufferData(34962,t.uvArray,35048),v.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),t.hasColors&&(d.bindBuffer(34962,i.color),d.bufferData(34962,t.colorArray,35048),v.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),d.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,r,n,a){var o=n.isMesh&&n.matrixWorld.determinant()<0;v.setMaterial(r,o);var s=bt(t,e,r,n),u=!1;k.geometry===i.id&&k.program===s.id&&k.wireframe===(!0===r.wireframe)||(k.geometry=i.id,k.program=s.id,k.wireframe=!0===r.wireframe,u=!0),n.morphTargetInfluences&&(P.update(n,i,r,s),u=!0);var l,h=i.index,c=i.attributes.position,p=1;!0===r.wireframe&&(h=w.getWireframeAttribute(i),p=2);var g=C;null!==h&&(l=b.get(h),(g=E).setIndex(l)),u&&(function(t,e,i){if(!i||!i.isInstancedBufferGeometry||m.isWebGL2||null!==f.get("ANGLE_instanced_arrays")){v.initAttributes();var r=i.attributes,n=e.getAttributes(),a=t.defaultAttributeValues;for(var o in n){var s=n[o];if(s>=0){var u=r[o];if(void 0!==u){var l=u.normalized,h=u.itemSize,c=b.get(u);if(void 0===c)continue;var p=c.buffer,g=c.type,y=c.bytesPerElement;if(u.isInterleavedBufferAttribute){var x=u.data,w=x.stride,_=u.offset;x&&x.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=x.meshPerAttribute*x.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,w*y,_*y)}else u.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=u.meshPerAttribute*u.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,0,0)}else if(void 0!==a){var M=a[o];if(void 0!==M)switch(M.length){case 2:d.vertexAttrib2fv(s,M);break;case 3:d.vertexAttrib3fv(s,M);break;case 4:d.vertexAttrib4fv(s,M);break;default:d.vertexAttrib1fv(s,M)}}}}v.disableUnusedAttributes()}}(r,s,i),null!==h&&d.bindBuffer(34963,l.buffer));var y=1/0;null!==h?y=h.count:void 0!==c&&(y=c.count);var x=i.drawRange.start*p,_=i.drawRange.count*p,M=null!==a?a.start*p:0,S=null!==a?a.count*p:1/0,A=Math.max(x,M),T=Math.min(y,x+_,M+S)-1,L=Math.max(0,T-A+1);if(0!==L){if(n.isMesh)if(!0===r.wireframe)v.setLineWidth(r.wireframeLinewidth*nt()),g.setMode(1);else switch(n.drawMode){case Ae:g.setMode(4);break;case 1:g.setMode(5);break;case 2:g.setMode(6)}else if(n.isLine){var I=r.linewidth;void 0===I&&(I=1),v.setLineWidth(I*nt()),n.isLineSegments?g.setMode(1):n.isLineLoop?g.setMode(2):g.setMode(3)}else n.isPoints?g.setMode(0):n.isSprite&&g.setMode(4);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,A,L):g.render(A,L)}},this.compile=function(t,e){(p=T.get(t,e)).init(),t.traverse((function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights(e),t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var i=0;i<e.material.length;i++)xt(e.material[i],t.fog,e);else xt(e.material,t.fog,e)}))};var ft=null,mt=new Li;function vt(t,e,i,r){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||K.intersectsSprite(t)){r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it);var n=_.update(t);(a=t.material).visible&&c.push(t,n,a,i,rt.z,null)}}else if(t.isImmediateRenderObject)r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it),c.push(t,null,t.material,i,rt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton&&t.skeleton.update(),!t.frustumCulled||K.intersectsObject(t))){r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it),n=_.update(t);var a=t.material;if(Array.isArray(a))for(var o=n.groups,s=0,u=o.length;s<u;s++){var l=o[s],h=a[l.materialIndex];h&&h.visible&&c.push(t,n,h,i,rt.z,l)}else a.visible&&c.push(t,n,a,i,rt.z,null)}var d=t.children;for(s=0,u=d.length;s<u;s++)vt(d[s],e,i,r)}}function gt(t,e,i,r){for(var n=0,a=t.length;n<a;n++){var o=t[n],s=o.object,u=o.geometry,l=void 0===r?o.material:r,h=o.group;if(i.isArrayCamera){V=i;for(var c=i.cameras,d=0,f=c.length;d<f;d++){var m=c[d];s.layers.test(m.layers)&&(v.viewport(W.copy(m.viewport)),p.setupLights(m),yt(s,e,m,u,l,h))}}else V=null,yt(s,e,i,u,l,h)}}function yt(t,e,i,r,n,a){if(t.onBeforeRender(D,e,i,r,n,a),p=T.get(e,V||i),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){v.setMaterial(n);var o=bt(i,e.fog,n,t);k.geometry=null,k.program=null,k.wireframe=!1,function(t,e){t.render((function(t){D.renderBufferImmediate(t,e)}))}(t,o)}else D.renderBufferDirect(i,e.fog,r,n,t,a);t.onAfterRender(D,e,i,r,n,a),p=T.get(e,V||i)}function xt(t,e,i){var r=y.get(t),n=p.state.lights,a=p.state.shadowsArray,o=r.lightsHash,s=n.state.hash,u=S.getParameters(t,n.state,a,e,$.numPlanes,$.numIntersection,i),l=S.getProgramCode(t,u),h=r.program,c=!0;if(void 0===h)t.addEventListener("dispose",pt);else if(h.code!==l)dt(t);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,c=!1;else{if(void 0!==u.shaderID)return;c=!1}if(c){if(u.shaderID){var d=Ti[u.shaderID];r.shader={name:t.type,uniforms:vi(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,D),l=S.getProgramCode(t,u),h=S.acquireProgram(t,r.shader,u,l),r.program=h,t.program=h}var f=h.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<D.maxMorphTargets;m++)f["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,m=0;m<D.maxMorphNormals;m++)f["morphNormal"+m]>=0&&t.numSupportedMorphNormals++;var v=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=$.numPlanes,r.numIntersection=$.numIntersection,v.clippingPlanes=$.uniform),r.fog=e,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,t.lights&&(v.ambientLightColor.value=n.state.ambient,v.lightProbe.value=n.state.probe,v.directionalLights.value=n.state.directional,v.spotLights.value=n.state.spot,v.rectAreaLights.value=n.state.rectArea,v.pointLights.value=n.state.point,v.hemisphereLights.value=n.state.hemi,v.directionalShadowMap.value=n.state.directionalShadowMap,v.directionalShadowBias.value=n.state.directionalShadowBias,v.directionalShadowMatrix.value=n.state.directionalShadowMatrix,v.spotShadowMap.value=n.state.spotShadowMap,v.spotShadowMatrix.value=n.state.spotShadowMatrix,v.pointShadowMap.value=n.state.pointShadowMap,v.pointShadowMatrix.value=n.state.pointShadowMatrix);var g=r.program.getUniforms(),x=Nn.seqWithValue(g.seq,v);r.uniformsList=x}function bt(t,e,i,r){x.resetTextureUnits();var n=y.get(i),a=p.state.lights,o=n.lightsHash,s=a.state.hash;if(tt&&(et||t!==G)){var u=t===G&&i.id===U;$.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,n,u)}!1===i.needsUpdate&&(void 0===n.program||i.fog&&n.fog!==e?i.needsUpdate=!0:(!i.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===n.numClippingPlanes||n.numClippingPlanes===$.numPlanes&&n.numIntersection===$.numIntersection)||(i.needsUpdate=!0)),i.needsUpdate&&(xt(i,e,r),i.needsUpdate=!1);var l,h,c=!1,f=!1,g=!1,b=n.program,w=b.getUniforms(),_=n.shader.uniforms;if(v.useProgram(b.program)&&(c=!0,f=!0,g=!0),i.id!==U&&(U=i.id,f=!0),c||G!==t){if(w.setValue(d,"projectionMatrix",t.projectionMatrix),m.logarithmicDepthBuffer&&w.setValue(d,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),G!==t&&(G=t,f=!0,g=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var S=w.map.cameraPosition;void 0!==S&&S.setValue(d,rt.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&w.setValue(d,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){w.setOptional(d,r,"bindMatrix"),w.setOptional(d,r,"bindMatrixInverse");var A=r.skeleton;if(A){var T=A.bones;if(m.floatVertexTextures){if(void 0===A.boneTexture){var L=Math.sqrt(4*T.length);L=Re.ceilPowerOfTwo(L),L=Math.max(L,4);var P=new Float32Array(L*L*4);P.set(A.boneMatrices);var C=new li(P,L,L,Wt,zt);C.needsUpdate=!0,A.boneMatrices=P,A.boneTexture=C,A.boneTextureSize=L}w.setValue(d,"boneTexture",A.boneTexture,x),w.setValue(d,"boneTextureSize",A.boneTextureSize)}else w.setOptional(d,A,"boneMatrices")}}return f&&(w.setValue(d,"toneMappingExposure",D.toneMappingExposure),w.setValue(d,"toneMappingWhitePoint",D.toneMappingWhitePoint),i.lights&&(h=g,(l=_).ambientLightColor.needsUpdate=h,l.lightProbe.needsUpdate=h,l.directionalLights.needsUpdate=h,l.pointLights.needsUpdate=h,l.spotLights.needsUpdate=h,l.rectAreaLights.needsUpdate=h,l.hemisphereLights.needsUpdate=h),e&&i.fog&&function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(_,e),i.isMeshBasicMaterial?wt(_,i):i.isMeshLambertMaterial?(wt(_,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(_,i)):i.isMeshPhongMaterial?(wt(_,i),i.isMeshToonMaterial?function(t,e){_t(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(_,i):_t(_,i)):i.isMeshStandardMaterial?(wt(_,i),i.isMeshPhysicalMaterial?function(t,e){Mt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(_,i):Mt(_,i)):i.isMeshMatcapMaterial?(wt(_,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDepthMaterial?(wt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDistanceMaterial?(wt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(_,i)):i.isMeshNormalMaterial?(wt(_,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(_,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(_,i)):i.isPointsMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*Y,t.scale.value=.5*q,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isShadowMaterial&&(_.color.value.copy(i.color),_.opacity.value=i.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=Ai.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=Ai.LTC_2),Nn.upload(d,n.uniformsList,_,x)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Nn.upload(d,n.uniformsList,_,x),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&w.setValue(d,"center",r.center),w.setValue(d,"modelViewMatrix",r.modelViewMatrix),w.setValue(d,"normalMatrix",r.normalMatrix),w.setValue(d,"modelMatrix",r.matrixWorld),b}function wt(t,e){var i;t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=y.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function _t(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Mt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}mt.setAnimationLoop((function(t){ut.isPresenting()||ft&&ft(t)})),"undefined"!=typeof window&&mt.setContext(window),this.setAnimationLoop=function(t){ft=t,ut.setAnimationLoop(t),mt.start()},this.render=function(t,e){var i,r;if(void 0!==arguments[2]&&(i=arguments[2]),void 0!==arguments[3]&&(r=arguments[3]),e&&e.isCamera&&!B){k.geometry=null,k.program=null,k.wireframe=!1,U=-1,G=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),ut.enabled&&(e=ut.getCamera(e)),(p=T.get(t,e)).init(),t.onBeforeRender(D,t,e,i||R),it.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),K.setFromMatrix(it),et=this.localClippingEnabled,tt=$.init(this.clippingPlanes,et,e),(c=A.get(t,e)).init(),vt(t,e,0,D.sortObjects),!0===D.sortObjects&&c.sort(),tt&&$.beginShadows();var n=p.state.shadowsArray;lt.render(n,t,e),p.setupLights(e),tt&&$.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),L.render(c,t,e,r);var a=c.opaque,o=c.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&gt(a,t,e,s),o.length&&gt(o,t,e,s)}else a.length&&gt(a,t,e),o.length&&gt(o,t,e);t.onAfterRender(D,t,e),null!==R&&(x.updateRenderTargetMipmap(R),x.updateMultisampleRenderTarget(R)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),ut.enabled&&ut.submitFrame(),c=null,p=null}},this.setFramebuffer=function(t){O!==t&&d.bindFramebuffer(36160,t),O=t},this.getActiveCubeFace=function(){return z},this.getActiveMipMapLevel=function(){return N},this.getRenderTarget=function(){return R},this.setRenderTarget=function(t,e,i){R=t,z=e,N=i,t&&void 0===y.get(t).__webglFramebuffer&&x.setupRenderTarget(t);var r=O,n=!1;if(t){var a=y.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(r=a[e||0],n=!0):r=t.isWebGLMultisampleRenderTarget?y.get(t).__webglMultisampledFramebuffer:a,W.copy(t.viewport),H.copy(t.scissor),j=t.scissorTest}else W.copy(J).multiplyScalar(Y),H.copy(Z).multiplyScalar(Y),j=Q;if(F!==r&&(d.bindFramebuffer(36160,r),F=r),v.viewport(W),v.scissor(H),v.setScissorTest(j),n){var o=y.get(t.texture);d.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,i||0)}},this.readRenderTargetPixels=function(t,e,i,r,n,a,o){if(t&&t.isWebGLRenderTarget){var s=y.get(t).__webglFramebuffer;if(t.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var u=!1;s!==F&&(d.bindFramebuffer(36160,s),u=!0);try{var l=t.texture,h=l.format,c=l.type;if(h!==Wt&&I.convert(h)!==d.getParameter(35739))return;if(!(c===Ct||I.convert(c)===d.getParameter(35738)||c===zt&&(m.isWebGL2||f.get("OES_texture_float")||f.get("WEBGL_color_buffer_float"))||c===Nt&&(m.isWebGL2?f.get("EXT_color_buffer_float"):f.get("EXT_color_buffer_half_float"))))return;36053===d.checkFramebufferStatus(36160)&&e>=0&&e<=t.width-r&&i>=0&&i<=t.height-n&&d.readPixels(e,i,r,n,I.convert(h),I.convert(c),a)}finally{u&&d.bindFramebuffer(36160,F)}}}},this.copyFramebufferToTexture=function(t,e,i){var r=e.image.width,n=e.image.height,a=I.convert(e.format);x.setTexture2D(e,0),d.copyTexImage2D(3553,i||0,a,t.x,t.y,r,n,0)},this.copyTextureToTexture=function(t,e,i,r){var n=e.image.width,a=e.image.height,o=I.convert(i.format),s=I.convert(i.type);x.setTexture2D(i,0),e.isDataTexture?d.texSubImage2D(3553,r||0,t.x,t.y,n,a,o,s,e.image.data):d.texSubImage2D(3553,r||0,t.x,t.y,o,s,e.image)}}function La(t,e){this.name="",this.color=new Mi(t),this.density=void 0!==e?e:25e-5}function Pa(t,e,i){this.name="",this.color=new Mi(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function Ca(){Fi.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ea(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ia(t,e,i,r){this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===r}function Da(t){ur.call(this),this.type="SpriteMaterial",this.color=new Mi(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function Ba(t){if(Fi.call(this),this.type="Sprite",void 0===ma){ma=new ir;var e=new Ea(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);ma.setIndex([0,1,2,0,2,3]),ma.addAttribute("position",new Ia(e,3,0,!1)),ma.addAttribute("uv",new Ia(e,2,3,!1))}this.geometry=ma,this.material=void 0!==t?t:new Da,this.center=new Fe(.5,.5)}function Oa(){Fi.call(this),this.type="LOD",(0,d.default)(this,{levels:{enumerable:!0,value:[]}})}function za(t,e){t&&t.isGeometry,Lr.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new fi,this.bindMatrixInverse=new fi}function Na(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new fi)}}function Ra(){Fi.call(this),this.type="Bone"}function Fa(t){ur.call(this),this.type="LineBasicMaterial",this.color=new Mi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Ua(t,e,i){Fi.call(this),this.type="Line",this.geometry=void 0!==t?t:new ir,this.material=void 0!==e?e:new Fa({color:16777215*Math.random()})}function ka(t,e){Ua.call(this,t,e),this.type="LineSegments"}function Ga(t,e){Ua.call(this,t,e),this.type="LineLoop"}function Va(t){ur.call(this),this.type="PointsMaterial",this.color=new Mi(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Wa(t,e){Fi.call(this),this.type="Points",this.geometry=void 0!==t?t:new ir,this.material=void 0!==e?e:new Va({color:16777215*Math.random()})}function Ha(t,e,i,r,n,a,o,s,u){ni.call(this,t,e,i,r,n,a,o,s,u),this.format=void 0!==o?o:Vt,this.minFilter=void 0!==a?a:Tt,this.magFilter=void 0!==n?n:Tt,this.generateMipmaps=!1}function ja(t,e,i,r,n,a,o,s,u,l,h,c){ni.call(this,null,a,o,s,u,l,r,n,h,c),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Xa(t,e,i,r,n,a,o,s,u){ni.call(this,t,e,i,r,n,a,o,s,u),this.needsUpdate=!0}function qa(t,e,i,r,n,a,o,s,u,l){if((l=void 0!==l?l:qt)!==qt&&l!==Yt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&l===qt&&(i=Dt),void 0===i&&l===Yt&&(i=kt),ni.call(this,null,r,n,a,o,s,l,i,u),this.image={width:t,height:e},this.magFilter=void 0!==o?o:Mt,this.minFilter=void 0!==s?s:Mt,this.flipY=!1,this.generateMipmaps=!1}function Ya(t){ir.call(this),this.type="WireframeGeometry";var e,i,r,n,a,o,s,u,l,h,c=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var v=m[e];for(i=0;i<3;i++)s=v[f[i]],u=v[f[(i+1)%3]],p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]})}for(l in d)o=d[l],h=t.vertices[o.index1],c.push(h.x,h.y,h.z),h=t.vertices[o.index2],c.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var g,y,x,b,w,_,M;if(h=new ke,null!==t.index){for(g=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),n=0,a=x.length;n<a;++n)for(e=w=(b=x[n]).start,r=w+b.count;e<r;e+=3)for(i=0;i<3;i++)s=y.getX(e+i),u=y.getX(e+(i+1)%3),p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]});for(l in d)o=d[l],h.fromBufferAttribute(g,o.index1),c.push(h.x,h.y,h.z),h.fromBufferAttribute(g,o.index2),c.push(h.x,h.y,h.z)}else for(e=0,r=(g=t.attributes.position).count/3;e<r;e++)for(i=0;i<3;i++)_=3*e+i,h.fromBufferAttribute(g,_),c.push(h.x,h.y,h.z),M=3*e+(i+1)%3,h.fromBufferAttribute(g,M),c.push(h.x,h.y,h.z)}this.addAttribute("position",new Qi(c,3))}function Ja(t,e,i){Vi.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new Za(t,e,i)),this.mergeVertices()}function Za(t,e,i){ir.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};var r,n,a=[],o=[],s=[],u=[],l=1e-5,h=new ke,c=new ke,p=new ke,d=new ke,f=new ke;t.length;var m=e+1;for(r=0;r<=i;r++){var v=r/i;for(n=0;n<=e;n++){var g=n/e;t(g,v,c),o.push(c.x,c.y,c.z),g-l>=0?(t(g-l,v,p),d.subVectors(c,p)):(t(g+l,v,p),d.subVectors(p,c)),v-l>=0?(t(g,v-l,p),f.subVectors(c,p)):(t(g,v+l,p),f.subVectors(p,c)),h.crossVectors(d,f).normalize(),s.push(h.x,h.y,h.z),u.push(g,v)}}for(r=0;r<i;r++)for(n=0;n<e;n++){var y=r*m+n,x=r*m+n+1,b=(r+1)*m+n+1,w=(r+1)*m+n;a.push(y,x,w),a.push(x,b,w)}this.setIndex(a),this.addAttribute("position",new Qi(o,3)),this.addAttribute("normal",new Qi(s,3)),this.addAttribute("uv",new Qi(u,2))}function Qa(t,e,i,r){Vi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},this.fromBufferGeometry(new Ka(t,e,i,r)),this.mergeVertices()}function Ka(t,e,i,r){ir.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},i=i||1;var n=[],a=[];function o(t,e,i,r){var n,a,o=Math.pow(2,r),u=[];for(n=0;n<=o;n++){u[n]=[];var l=t.clone().lerp(i,n/o),h=e.clone().lerp(i,n/o),c=o-n;for(a=0;a<=c;a++)u[n][a]=0===a&&n===o?l:l.clone().lerp(h,a/c)}for(n=0;n<o;n++)for(a=0;a<2*(o-n)-1;a++){var p=Math.floor(a/2);a%2==0?(s(u[n][p+1]),s(u[n+1][p]),s(u[n][p])):(s(u[n][p+1]),s(u[n+1][p+1]),s(u[n+1][p]))}}function s(t){n.push(t.x,t.y,t.z)}function u(e,i){var r=3*e;i.x=t[r+0],i.y=t[r+1],i.z=t[r+2]}function l(t,e,i,r){r<0&&1===t.x&&(a[e]=t.x-1),0===i.x&&0===i.z&&(a[e]=r/2/Math.PI+.5)}function h(t){return Math.atan2(t.z,-t.x)}function c(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}!function(t){for(var i=new ke,r=new ke,n=new ke,a=0;a<e.length;a+=3)u(e[a+0],i),u(e[a+1],r),u(e[a+2],n),o(i,r,n,t)}(r=r||0),function(t){for(var e=new ke,i=0;i<n.length;i+=3)e.x=n[i+0],e.y=n[i+1],e.z=n[i+2],e.normalize().multiplyScalar(t),n[i+0]=e.x,n[i+1]=e.y,n[i+2]=e.z}(i),function(){for(var t=new ke,e=0;e<n.length;e+=3){t.x=n[e+0],t.y=n[e+1],t.z=n[e+2];var i=h(t)/2/Math.PI+.5,r=c(t)/Math.PI+.5;a.push(i,1-r)}(function(){for(var t=new ke,e=new ke,i=new ke,r=new ke,o=new Fe,s=new Fe,u=new Fe,c=0,p=0;c<n.length;c+=9,p+=6){t.set(n[c+0],n[c+1],n[c+2]),e.set(n[c+3],n[c+4],n[c+5]),i.set(n[c+6],n[c+7],n[c+8]),o.set(a[p+0],a[p+1]),s.set(a[p+2],a[p+3]),u.set(a[p+4],a[p+5]),r.copy(t).add(e).add(i).divideScalar(3);var d=h(r);l(o,p+0,t,d),l(s,p+2,e,d),l(u,p+4,i,d)}})(),function(){for(var t=0;t<a.length;t+=6){var e=a[t+0],i=a[t+2],r=a[t+4],n=Math.max(e,i,r),o=Math.min(e,i,r);n>.9&&o<.1&&(e<.2&&(a[t+0]+=1),i<.2&&(a[t+2]+=1),r<.2&&(a[t+4]+=1))}}()}(),this.addAttribute("position",new Qi(n,3)),this.addAttribute("normal",new Qi(n.slice(),3)),this.addAttribute("uv",new Qi(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function $a(t,e){Vi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new to(t,e)),this.mergeVertices()}function to(t,e){Ka.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function eo(t,e){Vi.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new io(t,e)),this.mergeVertices()}function io(t,e){Ka.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ro(t,e){Vi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new no(t,e)),this.mergeVertices()}function no(t,e){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];Ka.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ao(t,e){Vi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new oo(t,e)),this.mergeVertices()}function oo(t,e){var i=(1+Math.sqrt(5))/2,r=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r];Ka.call(this,n,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function so(t,e,i,r,n,a){Vi.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n};var o=new uo(t,e,i,r,n);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function uo(t,e,i,r,n){ir.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n},e=e||64,i=i||1,r=r||8,n=n||!1;var a=t.computeFrenetFrames(e,n);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,u=new ke,l=new ke,h=new Fe,c=new ke,p=[],d=[],f=[],m=[];function v(n){c=t.getPointAt(n/e,c);var o=a.normals[n],h=a.binormals[n];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);l.x=v*o.x+m*h.x,l.y=v*o.y+m*h.y,l.z=v*o.z+m*h.z,l.normalize(),d.push(l.x,l.y,l.z),u.x=c.x+i*l.x,u.y=c.y+i*l.y,u.z=c.z+i*l.z,p.push(u.x,u.y,u.z)}}!function(){for(o=0;o<e;o++)v(o);v(!1===n?e:0),function(){for(o=0;o<=e;o++)for(s=0;s<=r;s++)h.x=o/e,h.y=s/r,f.push(h.x,h.y)}(),function(){for(s=1;s<=e;s++)for(o=1;o<=r;o++){var t=(r+1)*(s-1)+(o-1),i=(r+1)*s+(o-1),n=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(t,i,a),m.push(i,n,a)}}()}(),this.setIndex(m),this.addAttribute("position",new Qi(p,3)),this.addAttribute("normal",new Qi(d,3)),this.addAttribute("uv",new Qi(f,2))}function lo(t,e,i,r,n,a,o){Vi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},this.fromBufferGeometry(new ho(t,e,i,r,n,a)),this.mergeVertices()}function ho(t,e,i,r,n,a){ir.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},t=t||1,e=e||.4,i=Math.floor(i)||64,r=Math.floor(r)||8,n=n||2,a=a||3;var o,s,u=[],l=[],h=[],c=[],p=new ke,d=new ke,f=new ke,m=new ke,v=new ke,g=new ke,y=new ke;for(o=0;o<=i;++o){var x=o/i*n*Math.PI*2;for(L(x,n,a,t,f),L(x+.01,n,a,t,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,w=-e*Math.cos(b),_=e*Math.sin(b);p.x=f.x+(w*y.x+_*v.x),p.y=f.y+(w*y.y+_*v.y),p.z=f.z+(w*y.z+_*v.z),l.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),h.push(d.x,d.y,d.z),c.push(o/i),c.push(s/r)}}for(s=1;s<=i;s++)for(o=1;o<=r;o++){var M=(r+1)*(s-1)+(o-1),S=(r+1)*s+(o-1),A=(r+1)*s+o,T=(r+1)*(s-1)+o;u.push(M,S,T),u.push(S,A,T)}function L(t,e,i,r,n){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,u=Math.cos(s);n.x=r*(2+u)*.5*a,n.y=r*(2+u)*o*.5,n.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new Qi(l,3)),this.addAttribute("normal",new Qi(h,3)),this.addAttribute("uv",new Qi(c,2))}function co(t,e,i,r,n){Vi.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},this.fromBufferGeometry(new po(t,e,i,r,n)),this.mergeVertices()}function po(t,e,i,r,n){ir.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},t=t||1,e=e||.4,i=Math.floor(i)||8,r=Math.floor(r)||6,n=n||2*Math.PI;var a,o,s=[],u=[],l=[],h=[],c=new ke,p=new ke,d=new ke;for(a=0;a<=i;a++)for(o=0;o<=r;o++){var f=o/r*n,m=a/i*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),u.push(p.x,p.y,p.z),c.x=t*Math.cos(f),c.y=t*Math.sin(f),d.subVectors(p,c).normalize(),l.push(d.x,d.y,d.z),h.push(o/r),h.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,x=(r+1)*a+o;s.push(v,g,x),s.push(g,y,x)}this.setIndex(s),this.addAttribute("position",new Qi(u,3)),this.addAttribute("normal",new Qi(l,3)),this.addAttribute("uv",new Qi(h,2))}(0,f.default)(La.prototype,{isFogExp2:!0,clone:function(){return new La(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),(0,f.default)(Pa.prototype,{isFog:!0,clone:function(){return new Pa(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Ca.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ca,isScene:!0,copy:function(t,e){return Fi.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ea.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Ea.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var r=0,n=this.stride;r<n;r++)this.array[t+r]=e.array[i+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),(0,d.default)(Ia.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),(0,f.default)(Ia.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=n,this}}),Da.prototype=(0,p.default)(ur.prototype),Da.prototype.constructor=Da,Da.prototype.isSpriteMaterial=!0,Da.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},Ba.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ba,isSprite:!0,raycast:function(){var t=new ke,e=new ke,i=new ke,r=new Fe,n=new Fe,a=new fi,o=new ke,s=new ke,u=new ke,l=new Fe,h=new Fe,c=new Fe;function p(t,e,i,o,s,u){r.subVectors(t,i).addScalar(.5).multiply(o),void 0!==s?(n.x=u*r.x-s*r.y,n.y=s*r.x+u*r.y):n.copy(r),t.copy(e),t.x+=n.x,t.y+=n.y,t.applyMatrix4(a)}return function(r,n){e.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),i.setFromMatrixPosition(this.modelViewMatrix);var d,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),d=Math.sin(m));var v=this.center;p(o.set(-.5,-.5,0),i,v,e,d,f),p(s.set(.5,-.5,0),i,v,e,d,f),p(u.set(.5,.5,0),i,v,e,d,f),l.set(0,0),h.set(1,0),c.set(1,1);var g=r.ray.intersectTriangle(o,s,u,!1,t);if(null!==g||(p(s.set(-.5,.5,0),i,v,e,d,f),h.set(0,1),null!==(g=r.ray.intersectTriangle(o,u,s,!1,t)))){var y=r.ray.origin.distanceTo(t);y<r.near||y>r.far||n.push({distance:y,point:t.clone(),uv:Ar.getUV(t,o,s,u,l,h,c,new Fe),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return Fi.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),Oa.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Oa,isLOD:!0,copy:function(t){Fi.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,r=e.length;i<r;i++){var n=e[i];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,r=0;r<i.length&&!(e<i[r].distance);r++);return i.splice(r,0,{distance:e,object:t}),this.add(t),this},getObjectForDistance:function(t){for(var e=this.levels,i=1,r=e.length;i<r&&!(t<e[i].distance);i++);return e[i-1].object},raycast:(va=new ke,function(t,e){va.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(va);this.getObjectForDistance(i).raycast(t,e)}),update:function(){var t=new ke,e=new ke;return function(i){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var n=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&n>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,r=0,n=i.length;r<n;r++){var a=i[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),za.prototype=(0,f.default)((0,p.default)(Lr.prototype),{constructor:za,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new ai,e=this.geometry.attributes.skinWeight,i=0,r=e.count;i<r;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);var n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Lr.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):this.bindMode},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(0,f.default)(Na.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new fi;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){var t,e,i;for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(ga=new fi,ya=new fi,function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture,n=0,a=t.length;n<a;n++){var o=t[n]?t[n].matrixWorld:ya;ga.multiplyMatrices(o,e[n]),ga.toArray(i,16*n)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new Na(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,i=this.bones.length;e<i;e++){var r=this.bones[e];if(r.name===t)return r}}}),Ra.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ra,isBone:!0}),Fa.prototype=(0,p.default)(ur.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isLineBasicMaterial=!0,Fa.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Ua.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ua,isLine:!0,computeLineDistances:(xa=new ke,ba=new ke,function(){var t=this.geometry;if(t.isBufferGeometry){if(null===t.index){for(var e=t.attributes.position,i=[0],r=1,n=e.count;r<n;r++)xa.fromBufferAttribute(e,r-1),ba.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=xa.distanceTo(ba);t.addAttribute("lineDistance",new Qi(i,1))}}else if(t.isGeometry){var a=t.vertices;for((i=t.lineDistances)[0]=0,r=1,n=a.length;r<n;r++)i[r]=i[r-1],i[r]+=a[r-1].distanceTo(a[r])}return this}),raycast:function(){var t=new fi,e=new Sr,i=new ci;return function(r,n){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=a,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var u=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=u*u,h=new ke,c=new ke,p=new ke,d=new ke,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,v=o.attributes.position.array;if(null!==m)for(var g=m.array,y=0,x=g.length-1;y<x;y+=f){var b=g[y],w=g[y+1];h.fromArray(v,3*b),c.fromArray(v,3*w),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,x=v.length/3-1;y<x;y+=f)h.fromArray(v,3*y),c.fromArray(v,3*y+3),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(o.isGeometry){var _=o.vertices,M=_.length;for(y=0;y<M-1;y+=f){var S;e.distanceSqToSegment(_[y],_[y+1],d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ka.prototype=(0,f.default)((0,p.default)(Ua.prototype),{constructor:ka,isLineSegments:!0,computeLineDistances:function(){var t=new ke,e=new ke;return function(){var i=this.geometry;if(i.isBufferGeometry){if(null===i.index){for(var r=i.attributes.position,n=[],a=0,o=r.count;a<o;a+=2)t.fromBufferAttribute(r,a),e.fromBufferAttribute(r,a+1),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e);i.addAttribute("lineDistance",new Qi(n,1))}}else if(i.isGeometry){var s=i.vertices;for(n=i.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e)}return this}}()}),Ga.prototype=(0,f.default)((0,p.default)(Ua.prototype),{constructor:Ga,isLineLoop:!0}),Va.prototype=(0,p.default)(ur.prototype),Va.prototype.constructor=Va,Va.prototype.isPointsMaterial=!0,Va.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},Wa.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Wa,isPoints:!0,raycast:function(){var t=new fi,e=new Sr,i=new ci;return function(r,n){var a=this,o=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=u,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var l=u/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,c=new ke,p=new ke;if(o.isBufferGeometry){var d=o.index,f=o.attributes.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length;v<g;v++){var y=m[v];c.fromArray(f,3*y),w(c,y)}else{v=0;for(var x=f.length/3;v<x;v++)c.fromArray(f,3*v),w(c,v)}}else{var b=o.vertices;for(v=0,x=b.length;v<x;v++)w(b[v],v)}}function w(t,i){var o=e.distanceSqToPoint(t);if(o<h){e.closestPointToPoint(t,p),p.applyMatrix4(s);var u=r.ray.origin.distanceTo(p);if(u<r.near||u>r.far)return;n.push({distance:u,distanceToRay:Math.sqrt(o),point:p.clone(),index:i,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ha.prototype=(0,f.default)((0,p.default)(ni.prototype),{constructor:Ha,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ja.prototype=(0,p.default)(ni.prototype),ja.prototype.constructor=ja,ja.prototype.isCompressedTexture=!0,Xa.prototype=(0,p.default)(ni.prototype),Xa.prototype.constructor=Xa,Xa.prototype.isCanvasTexture=!0,qa.prototype=(0,p.default)(ni.prototype),qa.prototype.constructor=qa,qa.prototype.isDepthTexture=!0,Ya.prototype=(0,p.default)(ir.prototype),Ya.prototype.constructor=Ya,Ja.prototype=(0,p.default)(Vi.prototype),Ja.prototype.constructor=Ja,Za.prototype=(0,p.default)(ir.prototype),Za.prototype.constructor=Za,Qa.prototype=(0,p.default)(Vi.prototype),Qa.prototype.constructor=Qa,Ka.prototype=(0,p.default)(ir.prototype),Ka.prototype.constructor=Ka,$a.prototype=(0,p.default)(Vi.prototype),$a.prototype.constructor=$a,to.prototype=(0,p.default)(Ka.prototype),to.prototype.constructor=to,eo.prototype=(0,p.default)(Vi.prototype),eo.prototype.constructor=eo,io.prototype=(0,p.default)(Ka.prototype),io.prototype.constructor=io,ro.prototype=(0,p.default)(Vi.prototype),ro.prototype.constructor=ro,no.prototype=(0,p.default)(Ka.prototype),no.prototype.constructor=no,ao.prototype=(0,p.default)(Vi.prototype),ao.prototype.constructor=ao,oo.prototype=(0,p.default)(Ka.prototype),oo.prototype.constructor=oo,so.prototype=(0,p.default)(Vi.prototype),so.prototype.constructor=so,uo.prototype=(0,p.default)(ir.prototype),uo.prototype.constructor=uo,uo.prototype.toJSON=function(){var t=ir.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},lo.prototype=(0,p.default)(Vi.prototype),lo.prototype.constructor=lo,ho.prototype=(0,p.default)(ir.prototype),ho.prototype.constructor=ho,co.prototype=(0,p.default)(Vi.prototype),co.prototype.constructor=co,po.prototype=(0,p.default)(ir.prototype),po.prototype.constructor=po;var fo=function(t,e,i){i=i||2;var r,n,a,o,s,u,l,h=e&&e.length,c=h?e[0]*i:t.length,p=mo(t,0,c,i,!0),d=[];if(!p)return d;if(h&&(p=function(t,e,i,r){var n,a,o,s=[];for(n=0,a=e.length;n<a;n++)(o=mo(t,e[n]*r,n<a-1?e[n+1]*r:t.length,r,!1))===o.next&&(o.steiner=!0),s.push(Ao(o));for(s.sort(_o),n=0;n<s.length;n++)Mo(s[n],i),i=vo(i,i.next);return i}(t,e,p,i)),t.length>80*i){r=a=t[0],n=o=t[1];for(var f=i;f<c;f+=i)(s=t[f])<r&&(r=s),(u=t[f+1])<n&&(n=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-n))?1/l:0}return go(p,d,i,r,n,l),d};function mo(t,e,i,r,n){var a,o;if(n===function(t,e,i,r){for(var n=0,a=e,o=i-r;a<i;a+=r)n+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return n}(t,e,i,r)>0)for(a=e;a<i;a+=r)o=Bo(a,t[a],t[a+1],o);else for(a=i-r;a>=e;a-=r)o=Bo(a,t[a],t[a+1],o);return o&&Co(o,o.next)&&(Oo(o),o=o.next),o}function vo(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!Co(r,r.next)&&0!==Po(r.prev,r,r.next))r=r.next;else{if(Oo(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function go(t,e,i,r,n,a,o){if(t){!o&&a&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=So(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,a,o,s,u,l=1;do{for(i=t,t=null,a=null,o=0;i;){for(o++,r=i,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||i.z<=r.z)?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,u--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;i=r}a.nextZ=null,l*=2}while(o>1)}(n)}(t,r,n,a);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,a?xo(t,r,n,a):yo(t))e.push(s.i/i),e.push(t.i/i),e.push(u.i/i),Oo(t),t=u.next,l=u.next;else if((t=u)===l){o?1===o?go(t=bo(t,e,i),e,i,r,n,a,2):2===o&&wo(t,e,i,r,n,a):go(vo(t),e,i,r,n,a,1);break}}}function yo(t){var e=t.prev,i=t,r=t.next;if(Po(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(To(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&Po(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function xo(t,e,i,r){var n=t.prev,a=t,o=t.next;if(Po(n,a,o)>=0)return!1;for(var s=n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,u=n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,l=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,h=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y,c=So(s,u,e,i,r),p=So(l,h,e,i,r),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&To(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Po(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&To(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Po(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function bo(t,e,i){var r=t;do{var n=r.prev,a=r.next.next;!Co(n,a)&&Eo(n,r,r.next,a)&&Io(n,a)&&Io(a,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(a.i/i),Oo(r),Oo(r.next),r=t=a),r=r.next}while(r!==t);return r}function wo(t,e,i,r,n,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Lo(o,s)){var u=Do(o,s);return o=vo(o,o.next),u=vo(u,u.next),go(o,e,i,r,n,a),void go(u,e,i,r,n,a)}s=s.next}o=o.next}while(o!==t)}function _o(t,e){return t.x-e.x}function Mo(t,e){if(e=function(t,e){var i,r=e,n=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===o)return i.prev;var u,l=i,h=i.x,c=i.y,p=1/0;for(r=i.next;r!==l;)n>=r.x&&r.x>=h&&n!==r.x&&To(a<c?n:o,a,h,c,a<c?o:n,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(n-r.x))<p||u===p&&r.x>i.x)&&Io(r,t)&&(i=r,p=u),r=r.next;return i}(t,e),e){var i=Do(e,t);vo(i,i.next)}}function So(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ao(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function To(t,e,i,r,n,a,o,s){return(n-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(i-o)*(e-s)>=0&&(i-o)*(a-s)-(n-o)*(r-s)>=0}function Lo(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Eo(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&Io(t,e)&&Io(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function Po(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Co(t,e){return t.x===e.x&&t.y===e.y}function Eo(t,e,i,r){return!!(Co(t,e)&&Co(i,r)||Co(t,r)&&Co(i,e))||Po(t,e,i)>0!=Po(t,e,r)>0&&Po(i,r,t)>0!=Po(i,r,e)>0}function Io(t,e){return Po(t.prev,t,t.next)<0?Po(t,e,t.next)>=0&&Po(t,t.prev,e)>=0:Po(t,e,t.prev)<0||Po(t,t.next,e)<0}function Do(t,e){var i=new zo(t.i,t.x,t.y),r=new zo(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function Bo(t,e,i,r){var n=new zo(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Oo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zo(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var No={area:function(t){for(var e=t.length,i=0,r=e-1,n=0;n<e;r=n++)i+=t[r].x*t[n].y-t[n].x*t[r].y;return.5*i},isClockWise:function(t){return No.area(t)<0},triangulateShape:function(t,e){var i=[],r=[],n=[];Ro(t),Fo(i,t);var a=t.length;e.forEach(Ro);for(var o=0;o<e.length;o++)r.push(a),a+=e[o].length,Fo(i,e[o]);var s=fo(i,r);for(o=0;o<s.length;o+=3)n.push(s.slice(o,o+3));return n}};function Ro(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Fo(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}function Uo(t,e){Vi.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new ko(t,e)),this.mergeVertices()}function ko(t,e){ir.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var i=this,r=[],n=[],a=0,o=t.length;a<o;a++)s(t[a]);function s(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,h=void 0!==e.bevelThickness?e.bevelThickness:6,c=void 0!==e.bevelSize?e.bevelSize:h-2,p=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3,f=e.extrudePath,v=void 0!==e.UVGenerator?e.UVGenerator:Go;void 0!==e.amount&&(u=e.amount);var y,x,b,w,_,M,S,A,T=!1;f&&(y=f.getSpacedPoints(s),T=!0,l=!1,x=f.computeFrenetFrames(s,!1),b=new ke,w=new ke,_=new ke),l||(d=0,h=0,c=0,p=0);var L=t.extractPoints(o),P=L.shape,C=L.holes;if(!No.isClockWise(P))for(P=P.reverse(),S=0,A=C.length;S<A;S++)M=C[S],No.isClockWise(M)&&(C[S]=M.reverse());var E=No.triangulateShape(P,C),I=P;for(S=0,A=C.length;S<A;S++)M=C[S],P=P.concat(M);function D(t,e,i){return e.clone().multiplyScalar(i).add(t)}var B,O,z,N,R,F,U=P.length,k=E.length;function G(t,e,i){var r,n,a,o=t.x-e.x,s=t.y-e.y,u=i.x-t.x,l=i.y-t.y,h=o*o+s*s,c=o*l-s*u;if(Math.abs(c)>g.default){var p=Math.sqrt(h),d=Math.sqrt(u*u+l*l),f=e.x-s/p,v=e.y+o/p,y=((i.x-l/d-f)*l-(i.y+u/d-v)*u)/(o*l-s*u),x=(r=f+o*y-t.x)*r+(n=v+s*y-t.y)*n;if(x<=2)return new Fe(r,n);a=Math.sqrt(x/2)}else{var b=!1;o>g.default?u>g.default&&(b=!0):o<-g.default?u<-g.default&&(b=!0):(0,m.default)(s)===(0,m.default)(l)&&(b=!0),b?(r=-s,n=o,a=Math.sqrt(h)):(r=o,n=s,a=Math.sqrt(h/2))}return new Fe(r/a,n/a)}for(var V=[],W=0,H=I.length,j=H-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),V[W]=G(I[W],I[j],I[X]);var q,Y,J=[],Z=V.concat();for(S=0,A=C.length;S<A;S++){for(M=C[S],q=[],W=0,j=(H=M.length)-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),q[W]=G(M[W],M[j],M[X]);J.push(q),Z=Z.concat(q)}for(B=0;B<d;B++){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,-N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)K((R=D(M[W],q[W],O)).x,R.y,-N)}for(O=c+p,W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[0]).multiplyScalar(R.x),b.copy(x.binormals[0]).multiplyScalar(R.y),_.copy(y[0]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,0);for(Y=1;Y<=s;Y++)for(W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[Y]).multiplyScalar(R.x),b.copy(x.binormals[Y]).multiplyScalar(R.y),_.copy(y[Y]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,u/s*Y);for(B=d-1;B>=0;B--){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,u+N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)R=D(M[W],q[W],O),T?K(R.x,R.y+y[s-1].y,y[s-1].x+N):K(R.x,R.y,u+N)}function Q(t,e){var i,r;for(W=t.length;--W>=0;){i=W,(r=W-1)<0&&(r=t.length-1);var n=0,a=s+2*d;for(n=0;n<a;n++){var o=U*n,u=U*(n+1);tt(e+i+o,e+r+o,e+r+u,e+i+u)}}}function K(t,e,i){a.push(t),a.push(e),a.push(i)}function $(t,e,n){et(t),et(e),et(n);var a=r.length/3,o=v.generateTopUV(i,r,a-3,a-2,a-1);it(o[0]),it(o[1]),it(o[2])}function tt(t,e,n,a){et(t),et(e),et(a),et(e),et(n),et(a);var o=r.length/3,s=v.generateSideWallUV(i,r,o-6,o-3,o-2,o-1);it(s[0]),it(s[1]),it(s[3]),it(s[1]),it(s[2]),it(s[3])}function et(t){r.push(a[3*t+0]),r.push(a[3*t+1]),r.push(a[3*t+2])}function it(t){n.push(t.x),n.push(t.y)}!function(){var t=r.length/3;if(l){var e=0,n=U*e;for(W=0;W<k;W++)$((F=E[W])[2]+n,F[1]+n,F[0]+n);for(n=U*(e=s+2*d),W=0;W<k;W++)$((F=E[W])[0]+n,F[1]+n,F[2]+n)}else{for(W=0;W<k;W++)$((F=E[W])[2],F[1],F[0]);for(W=0;W<k;W++)$((F=E[W])[0]+U*s,F[1]+U*s,F[2]+U*s)}i.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(Q(I,e),e+=I.length,S=0,A=C.length;S<A;S++)Q(M=C[S],e),e+=M.length;i.addGroup(t,r.length/3-t,1)}()}this.addAttribute("position",new Qi(r,3)),this.addAttribute("uv",new Qi(n,2)),this.computeVertexNormals()}Uo.prototype=(0,p.default)(Vi.prototype),Uo.prototype.constructor=Uo,Uo.prototype.toJSON=function(){var t=Vi.prototype.toJSON.call(this);return Vo(this.parameters.shapes,this.parameters.options,t)},ko.prototype=(0,p.default)(ir.prototype),ko.prototype.constructor=ko,ko.prototype.toJSON=function(){var t=ir.prototype.toJSON.call(this);return Vo(this.parameters.shapes,this.parameters.options,t)};var Go={generateTopUV:function(t,e,i,r,n){var a=e[3*i],o=e[3*i+1],s=e[3*r],u=e[3*r+1],l=e[3*n],h=e[3*n+1];return[new Fe(a,o),new Fe(s,u),new Fe(l,h)]},generateSideWallUV:function(t,e,i,r,n,a){var o=e[3*i],s=e[3*i+1],u=e[3*i+2],l=e[3*r],h=e[3*r+1],c=e[3*r+2],p=e[3*n],d=e[3*n+1],f=e[3*n+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(s-h)<.01?[new Fe(o,1-u),new Fe(l,1-c),new Fe(p,1-f),new Fe(m,1-g)]:[new Fe(s,1-u),new Fe(h,1-c),new Fe(d,1-f),new Fe(v,1-g)]}};function Vo(t,e,i){if(i.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var a=t[r];i.shapes.push(a.uuid)}else i.shapes.push(t.uuid);return void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}function Wo(t,e){Vi.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new Ho(t,e)),this.mergeVertices()}function Ho(t,e){var i=(e=e||{}).font;if(!i||!i.isFont)return new Vi;var r=i.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),ko.call(this,r,e),this.type="TextBufferGeometry"}function jo(t,e,i,r,n,a,o){Vi.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Xo(t,e,i,r,n,a,o)),this.mergeVertices()}function Xo(t,e,i,r,n,a,o){ir.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,u,l=Math.min(a+o,Math.PI),h=0,c=[],p=new ke,d=new ke,f=[],m=[],v=[],g=[];for(u=0;u<=i;u++){var y=[],x=u/i,b=0;for(0==u&&0==a?b=.5/e:u==i&&l==Math.PI&&(b=-.5/e),s=0;s<=e;s++){var w=s/e;p.x=-t*Math.cos(r+w*n)*Math.sin(a+x*o),p.y=t*Math.cos(a+x*o),p.z=t*Math.sin(r+w*n)*Math.sin(a+x*o),m.push(p.x,p.y,p.z),d.copy(p).normalize(),v.push(d.x,d.y,d.z),g.push(w+b,1-x),y.push(h++)}c.push(y)}for(u=0;u<i;u++)for(s=0;s<e;s++){var _=c[u][s+1],M=c[u][s],S=c[u+1][s],A=c[u+1][s+1];(0!==u||a>0)&&f.push(_,M,A),(u!==i-1||l<Math.PI)&&f.push(M,S,A)}this.setIndex(f),this.addAttribute("position",new Qi(m,3)),this.addAttribute("normal",new Qi(v,3)),this.addAttribute("uv",new Qi(g,2))}function qo(t,e,i,r,n,a){Vi.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},this.fromBufferGeometry(new Yo(t,e,i,r,n,a)),this.mergeVertices()}function Yo(t,e,i,r,n,a){ir.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},t=t||.5,e=e||1,n=void 0!==n?n:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var o,s,u,l=[],h=[],c=[],p=[],d=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new ke,v=new Fe;for(s=0;s<=r;s++){for(u=0;u<=i;u++)o=n+u/i*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),h.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,p.push(v.x,v.y);d+=f}for(s=0;s<r;s++){var g=s*(i+1);for(u=0;u<i;u++){var y=o=u+g,x=o+i+1,b=o+i+2,w=o+1;l.push(y,x,w),l.push(x,b,w)}}this.setIndex(l),this.addAttribute("position",new Qi(h,3)),this.addAttribute("normal",new Qi(c,3)),this.addAttribute("uv",new Qi(p,2))}function Jo(t,e,i,r){Vi.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},this.fromBufferGeometry(new Zo(t,e,i,r)),this.mergeVertices()}function Zo(t,e,i,r){ir.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e)||12,i=i||0,r=r||2*Math.PI,r=Re.clamp(r,0,2*Math.PI);var n,a,o,s=[],u=[],l=[],h=1/e,c=new ke,p=new Fe;for(a=0;a<=e;a++){var d=i+a*h*r,f=Math.sin(d),m=Math.cos(d);for(o=0;o<=t.length-1;o++)c.x=t[o].x*f,c.y=t[o].y,c.z=t[o].x*m,u.push(c.x,c.y,c.z),p.x=a/e,p.y=o/(t.length-1),l.push(p.x,p.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var v=n=o+a*t.length,g=n+t.length,y=n+t.length+1,x=n+1;s.push(v,g,x),s.push(g,y,x)}if(this.setIndex(s),this.addAttribute("position",new Qi(u,3)),this.addAttribute("uv",new Qi(l,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,w=new ke,_=new ke,M=new ke;for(n=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)w.x=b[o+0],w.y=b[o+1],w.z=b[o+2],_.x=b[n+o+0],_.y=b[n+o+1],_.z=b[n+o+2],M.addVectors(w,_).normalize(),b[o+0]=b[n+o+0]=M.x,b[o+1]=b[n+o+1]=M.y,b[o+2]=b[n+o+2]=M.z}}function Qo(t,e){Vi.call(this),this.type="ShapeGeometry","object"===(void 0===e?"undefined":(0,y.default)(e))&&(e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Ko(t,e)),this.mergeVertices()}function Ko(t,e){ir.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],r=[],n=[],a=[],o=0,s=0;if(!1===Array.isArray(t))l(t);else for(var u=0;u<t.length;u++)l(t[u]),this.addGroup(o,s,u),o+=s,s=0;function l(t){var o,u,l,h=r.length/3,c=t.extractPoints(e),p=c.shape,d=c.holes;for(!1===No.isClockWise(p)&&(p=p.reverse()),o=0,u=d.length;o<u;o++)l=d[o],!0===No.isClockWise(l)&&(d[o]=l.reverse());var f=No.triangulateShape(p,d);for(o=0,u=d.length;o<u;o++)l=d[o],p=p.concat(l);for(o=0,u=p.length;o<u;o++){var m=p[o];r.push(m.x,m.y,0),n.push(0,0,1),a.push(m.x,m.y)}for(o=0,u=f.length;o<u;o++){var v=f[o],g=v[0]+h,y=v[1]+h,x=v[2]+h;i.push(g,y,x),s+=3}}this.setIndex(i),this.addAttribute("position",new Qi(r,3)),this.addAttribute("normal",new Qi(n,3)),this.addAttribute("uv",new Qi(a,2))}function $o(t,e){if(e.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var n=t[i];e.shapes.push(n.uuid)}else e.shapes.push(t.uuid);return e}function ts(t,e){ir.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var i,r,n,a,o=[],s=Math.cos(Re.DEG2RAD*e),u=[0,0],l={},h=["a","b","c"];t.isBufferGeometry?(a=new Vi).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var c=a.vertices,p=a.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],v=0;v<3;v++)i=m[h[v]],r=m[h[(v+1)%3]],u[0]=Math.min(i,r),u[1]=Math.max(i,r),void 0===l[n=u[0]+","+u[1]]?l[n]={index1:u[0],index2:u[1],face1:d,face2:void 0}:l[n].face2=d;for(n in l){var g=l[n];if(void 0===g.face2||p[g.face1].normal.dot(p[g.face2].normal)<=s){var y=c[g.index1];o.push(y.x,y.y,y.z),y=c[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new Qi(o,3))}function es(t,e,i,r,n,a,o,s){Vi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new is(t,e,i,r,n,a,o,s)),this.mergeVertices()}function is(t,e,i,r,n,a,o,s){ir.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};var u=this;t=void 0!==t?t:1,e=void 0!==e?e:1,i=i||1,r=Math.floor(r)||8,n=Math.floor(n)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],h=[],c=[],p=[],d=0,f=[],m=i/2,v=0;function g(i){var n,a,f,g=new Fe,y=new ke,x=0,b=!0===i?t:e,w=!0===i?1:-1;for(a=d,n=1;n<=r;n++)h.push(0,m*w,0),c.push(0,w,0),p.push(.5,.5),d++;for(f=d,n=0;n<=r;n++){var _=n/r*s+o,M=Math.cos(_),S=Math.sin(_);y.x=b*S,y.y=m*w,y.z=b*M,h.push(y.x,y.y,y.z),c.push(0,w,0),g.x=.5*M+.5,g.y=.5*S*w+.5,p.push(g.x,g.y),d++}for(n=0;n<r;n++){var A=a+n,T=f+n;!0===i?l.push(T,T+1,A):l.push(T+1,T,A),x+=3}u.addGroup(v,x,!0===i?1:2),v+=x}!function(){var a,g,y=new ke,x=new ke,b=0,w=(e-t)/i;for(g=0;g<=n;g++){var _=[],M=g/n,S=M*(e-t)+t;for(a=0;a<=r;a++){var A=a/r,T=A*s+o,L=Math.sin(T),P=Math.cos(T);x.x=S*L,x.y=-M*i+m,x.z=S*P,h.push(x.x,x.y,x.z),y.set(L,w,P).normalize(),c.push(y.x,y.y,y.z),p.push(A,1-M),_.push(d++)}f.push(_)}for(a=0;a<r;a++)for(g=0;g<n;g++){var C=f[g][a],E=f[g+1][a],I=f[g+1][a+1],D=f[g][a+1];l.push(C,E,D),l.push(E,I,D),b+=6}u.addGroup(v,b,0),v+=b}(),!1===a&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(l),this.addAttribute("position",new Qi(h,3)),this.addAttribute("normal",new Qi(c,3)),this.addAttribute("uv",new Qi(p,2))}function rs(t,e,i,r,n,a,o){es.call(this,0,t,e,i,r,n,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function ns(t,e,i,r,n,a,o){is.call(this,0,t,e,i,r,n,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function as(t,e,i,r){Vi.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new os(t,e,i,r)),this.mergeVertices()}function os(t,e,i,r){ir.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var n,a,o=[],s=[],u=[],l=[],h=new ke,c=new Fe;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,n=3;a<=e;a++,n+=3){var p=i+a/e*r;h.x=t*Math.cos(p),h.y=t*Math.sin(p),s.push(h.x,h.y,h.z),u.push(0,0,1),c.x=(s[n]/t+1)/2,c.y=(s[n+1]/t+1)/2,l.push(c.x,c.y)}for(n=1;n<=e;n++)o.push(n,n+1,0);this.setIndex(o),this.addAttribute("position",new Qi(s,3)),this.addAttribute("normal",new Qi(u,3)),this.addAttribute("uv",new Qi(l,2))}Wo.prototype=(0,p.default)(Vi.prototype),Wo.prototype.constructor=Wo,Ho.prototype=(0,p.default)(ko.prototype),Ho.prototype.constructor=Ho,jo.prototype=(0,p.default)(Vi.prototype),jo.prototype.constructor=jo,Xo.prototype=(0,p.default)(ir.prototype),Xo.prototype.constructor=Xo,qo.prototype=(0,p.default)(Vi.prototype),qo.prototype.constructor=qo,Yo.prototype=(0,p.default)(ir.prototype),Yo.prototype.constructor=Yo,Jo.prototype=(0,p.default)(Vi.prototype),Jo.prototype.constructor=Jo,Zo.prototype=(0,p.default)(ir.prototype),Zo.prototype.constructor=Zo,Qo.prototype=(0,p.default)(Vi.prototype),Qo.prototype.constructor=Qo,Qo.prototype.toJSON=function(){var t=Vi.prototype.toJSON.call(this);return $o(this.parameters.shapes,t)},Ko.prototype=(0,p.default)(ir.prototype),Ko.prototype.constructor=Ko,Ko.prototype.toJSON=function(){var t=ir.prototype.toJSON.call(this);return $o(this.parameters.shapes,t)},ts.prototype=(0,p.default)(ir.prototype),ts.prototype.constructor=ts,es.prototype=(0,p.default)(Vi.prototype),es.prototype.constructor=es,is.prototype=(0,p.default)(ir.prototype),is.prototype.constructor=is,rs.prototype=(0,p.default)(es.prototype),rs.prototype.constructor=rs,ns.prototype=(0,p.default)(is.prototype),ns.prototype.constructor=ns,as.prototype=(0,p.default)(Vi.prototype),as.prototype.constructor=as,os.prototype=(0,p.default)(ir.prototype),os.prototype.constructor=os;var ss=(0,u.default)({WireframeGeometry:Ya,ParametricGeometry:Ja,ParametricBufferGeometry:Za,TetrahedronGeometry:$a,TetrahedronBufferGeometry:to,OctahedronGeometry:eo,OctahedronBufferGeometry:io,IcosahedronGeometry:ro,IcosahedronBufferGeometry:no,DodecahedronGeometry:ao,DodecahedronBufferGeometry:oo,PolyhedronGeometry:Qa,PolyhedronBufferGeometry:Ka,TubeGeometry:so,TubeBufferGeometry:uo,TorusKnotGeometry:lo,TorusKnotBufferGeometry:ho,TorusGeometry:co,TorusBufferGeometry:po,TextGeometry:Wo,TextBufferGeometry:Ho,SphereGeometry:jo,SphereBufferGeometry:Xo,RingGeometry:qo,RingBufferGeometry:Yo,PlaneGeometry:ar,PlaneBufferGeometry:or,LatheGeometry:Jo,LatheBufferGeometry:Zo,ShapeGeometry:Qo,ShapeBufferGeometry:Ko,ExtrudeGeometry:Uo,ExtrudeBufferGeometry:ko,EdgesGeometry:ts,ConeGeometry:rs,ConeBufferGeometry:ns,CylinderGeometry:es,CylinderBufferGeometry:is,CircleGeometry:as,CircleBufferGeometry:os,BoxGeometry:rr,BoxBufferGeometry:nr});function us(t){ur.call(this),this.type="ShadowMaterial",this.color=new Mi(0),this.transparent=!0,this.setValues(t)}function ls(t){Mr.call(this,t),this.type="RawShaderMaterial"}function hs(t){ur.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Mi(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function cs(t){hs.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function ps(t){ur.call(this),this.type="MeshPhongMaterial",this.color=new Mi(16777215),this.specular=new Mi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ds(t){ps.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function fs(t){ur.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ms(t){ur.call(this),this.type="MeshLambertMaterial",this.color=new Mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function vs(t){ur.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t)}function gs(t){Fa.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}us.prototype=(0,p.default)(ur.prototype),us.prototype.constructor=us,us.prototype.isShadowMaterial=!0,us.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this},ls.prototype=(0,p.default)(Mr.prototype),ls.prototype.constructor=ls,ls.prototype.isRawShaderMaterial=!0,hs.prototype=(0,p.default)(ur.prototype),hs.prototype.constructor=hs,hs.prototype.isMeshStandardMaterial=!0,hs.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},cs.prototype=(0,p.default)(hs.prototype),cs.prototype.constructor=cs,cs.prototype.isMeshPhysicalMaterial=!0,cs.prototype.copy=function(t){return hs.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},ps.prototype=(0,p.default)(ur.prototype),ps.prototype.constructor=ps,ps.prototype.isMeshPhongMaterial=!0,ps.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ds.prototype=(0,p.default)(ps.prototype),ds.prototype.constructor=ds,ds.prototype.isMeshToonMaterial=!0,ds.prototype.copy=function(t){return ps.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},fs.prototype=(0,p.default)(ur.prototype),fs.prototype.constructor=fs,fs.prototype.isMeshNormalMaterial=!0,fs.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ms.prototype=(0,p.default)(ur.prototype),ms.prototype.constructor=ms,ms.prototype.isMeshLambertMaterial=!0,ms.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},vs.prototype=(0,p.default)(ur.prototype),vs.prototype.constructor=vs,vs.prototype.isMeshMatcapMaterial=!0,vs.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gs.prototype=(0,p.default)(Fa.prototype),gs.prototype.constructor=gs,gs.prototype.isLineDashedMaterial=!0,gs.prototype.copy=function(t){return Fa.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var ys=(0,u.default)({ShadowMaterial:us,SpriteMaterial:Da,RawShaderMaterial:ls,ShaderMaterial:Mr,PointsMaterial:Va,MeshPhysicalMaterial:cs,MeshStandardMaterial:hs,MeshPhongMaterial:ps,MeshToonMaterial:ds,MeshNormalMaterial:fs,MeshLambertMaterial:ms,MeshDepthMaterial:aa,MeshDistanceMaterial:oa,MeshBasicMaterial:Tr,MeshMatcapMaterial:vs,LineDashedMaterial:gs,LineBasicMaterial:Fa,Material:ur}),xs={arraySlice:function(t,e,i){return xs.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,i=new Array(e),r=0;r!==e;++r)i[r]=r;return i.sort((function(e,i){return t[e]-t[i]})),i},sortedArray:function(t,e,i){for(var r=t.length,n=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=i[a]*e,u=0;u!==e;++u)n[o++]=t[s+u];return n},flattenJSON:function(t,e,i,r){for(var n=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[n++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(e.push(a.time),i.push.apply(i,o)),a=t[n++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(e.push(a.time),o.toArray(i,i.length)),a=t[n++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(e.push(a.time),i.push(o)),a=t[n++]}while(void 0!==a)}}};function bs(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function ws(t,e,i,r){bs.call(this,t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function _s(t,e,i,r){bs.call(this,t,e,i,r)}function Ms(t,e,i,r){bs.call(this,t,e,i,r)}function Ss(t,e,i,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=xs.convertArray(e,this.TimeBufferType),this.values=xs.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function As(t,e,i){Ss.call(this,t,e,i)}function Ts(t,e,i,r){Ss.call(this,t,e,i,r)}function Ls(t,e,i,r){Ss.call(this,t,e,i,r)}function Ps(t,e,i,r){bs.call(this,t,e,i,r)}function Cs(t,e,i,r){Ss.call(this,t,e,i,r)}function Es(t,e,i,r){Ss.call(this,t,e,i,r)}function Is(t,e,i,r){Ss.call(this,t,e,i,r)}function Ds(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.uuid=Re.generateUUID(),this.duration<0&&this.resetDuration()}function Bs(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ls;case"vector":case"vector2":case"vector3":case"vector4":return Is;case"color":return Ts;case"quaternion":return Cs;case"bool":case"boolean":return As;case"string":return Es}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var i=[],r=[];xs.flattenJSON(t.keys,i,r,"value"),t.times=i,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}(0,f.default)(bs.prototype,{evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,r=e[i],n=e[i-1];t:{e:{var a;i:{r:if(!(t<r)){for(var o=i+2;;){if(void 0===r){if(t<n)break r;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,n)}if(i===o)break;if(n=r,t<(r=e[++i]))break e}a=e.length;break i}if(t>=n)break t;var s=e[1];for(t<s&&(i=2,n=s),o=i-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(i===o)break;if(r=n,t>=(n=e[--i-1]))break e}a=i,i=0}for(;i<a;){var u=i+a>>>1;t<e[u]?a=u:i=u+1}if(r=e[i],void 0===(n=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,n,t)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=t*r,a=0;a!==r;++a)e[a]=i[n+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),(0,f.default)(bs.prototype,{beforeStart_:bs.prototype.copySampleValue_,afterEnd_:bs.prototype.copySampleValue_}),ws.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:ws,DefaultSettings_:{endingStart:_e,endingEnd:_e},intervalChanged_:function(t,e,i){var r=this.parameterPositions,n=t-2,a=t+1,o=r[n],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Me:n=t,o=2*e-i;break;case Se:o=e+r[n=r.length-2]-r[n+1];break;default:n=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case Me:a=t,s=2*i-e;break;case Se:a=1,s=i+r[1]-r[0];break;default:a=t-1,s=e}var u=.5*(i-e),l=this.valueSize;this._weightPrev=u/(e-o),this._weightNext=u/(s-i),this._offsetPrev=n*l,this._offsetNext=a*l},interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=this._offsetPrev,h=this._offsetNext,c=this._weightPrev,p=this._weightNext,d=(i-e)/(r-e),f=d*d,m=f*d,v=-c*m+2*c*f-c*d,g=(1+c)*m+(-1.5-2*c)*f+(-.5+c)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==o;++b)n[b]=v*a[l+b]+g*a[u+b]+y*a[s+b]+x*a[h+b];return n}}),_s.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:_s,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=(i-e)/(r-e),h=1-l,c=0;c!==o;++c)n[c]=a[u+c]*h+a[s+c]*l;return n}}),Ms.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:Ms,interpolate_:function(t){return this.copySampleValue_(t-1)}}),(0,f.default)(Ss,{toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:xs.convertArray(t.times,Array),values:xs.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),(0,f.default)(Ss.prototype,{constructor:Ss,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:be,InterpolantFactoryMethodDiscrete:function(t){return new Ms(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new _s(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new ws(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case xe:e=this.InterpolantFactoryMethodDiscrete;break;case be:e=this.InterpolantFactoryMethodLinear;break;case we:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xe;case this.InterpolantFactoryMethodLinear:return be;case this.InterpolantFactoryMethodSmooth:return we}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,r=i.length,n=0,a=r-1;n!==r&&i[n]<t;)++n;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==n||a!==r){n>=a&&(n=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=xs.arraySlice(i,n,a),this.values=xs.arraySlice(this.values,n*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);var i=this.times,r=this.values,n=i.length;0===n&&(t=!1);for(var a=null,o=0;o!==n;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){t=!1;break}if(null!==a&&a>s){t=!1;break}a=s}if(void 0!==r&&xs.isTypedArray(r)){o=0;for(var u=r.length;o!==u;++o){var l=r[o];if(isNaN(l)){t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),r=this.getInterpolation()===we,n=1,a=t.length-1,o=1;o<a;++o){var s=!1,u=t[o];if(u!==t[o+1]&&(1!==o||u!==u[0]))if(r)s=!0;else for(var l=o*i,h=l-i,c=l+i,p=0;p!==i;++p){var d=e[l+p];if(d!==e[h+p]||d!==e[c+p]){s=!0;break}}if(s){if(o!==n){t[n]=t[o];var f=o*i,m=n*i;for(p=0;p!==i;++p)e[m+p]=e[f+p]}++n}}if(a>0){for(t[n]=t[a],f=a*i,m=n*i,p=0;p!==i;++p)e[m+p]=e[f+p];++n}return n!==t.length&&(this.times=xs.arraySlice(t,0,n),this.values=xs.arraySlice(e,0,n*i)),this},clone:function(){var t=xs.arraySlice(this.times,0),e=xs.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),As.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:As,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:xe,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ts.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Ts,ValueTypeName:"color"}),Ls.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Ls,ValueTypeName:"number"}),Ps.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:Ps,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=(i-e)/(r-e),l=s+o;s!==l;s+=4)Ue.slerpFlat(n,0,a,s-o,a,s,u);return n}}),Cs.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Cs,ValueTypeName:"quaternion",DefaultInterpolation:be,InterpolantFactoryMethodLinear:function(t){return new Ps(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Es.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Es,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:xe,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Is.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Is,ValueTypeName:"vector"}),(0,f.default)(Ds,{parse:function(t){for(var e=[],i=t.tracks,r=1/(t.fps||1),n=0,a=i.length;n!==a;++n)e.push(Bs(i[n]).scale(r));return new Ds(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},n=0,a=i.length;n!==a;++n)e.push(Ss.toJSON(i[n]));return r},CreateFromMorphTargetSequence:function(t,e,i,r){for(var n=e.length,a=[],o=0;o<n;o++){var s=[],u=[];s.push((o+n-1)%n,o,(o+1)%n),u.push(0,1,0);var l=xs.getKeyframeOrder(s);s=xs.sortedArray(s,1,l),u=xs.sortedArray(u,1,l),r||0!==s[0]||(s.push(n),u.push(u[0])),a.push(new Ls(".morphTargetInfluences["+e[o].name+"]",s,u).scale(1/i))}return new Ds(t,-1,a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var r=t;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var r={},n=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],u=s.name.match(n);if(u&&u.length>1){var l=r[c=u[1]];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push(Ds.CreateFromMorphTargetSequence(c,r[c],e,i));return h},parseAnimation:function(t,e){if(!t)return null;for(var i=function(t,e,i,r,n){if(0!==i.length){var a=[],o=[];xs.flattenJSON(i,a,o,r),0!==a.length&&n.push(new t(e,a,o))}},r=[],n=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var h={},c=0;c<l.length;c++)if(l[c].morphTargets)for(var p=0;p<l[c].morphTargets.length;p++)h[l[c].morphTargets[p]]=-1;for(var d in h){var f=[],m=[];for(p=0;p!==l[c].morphTargets.length;++p){var v=l[c];f.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new Ls(".morphTargetInfluence["+d+"]",f,m))}a=h.length*(o||1)}else{var g=".bones["+e[u].name+"]";i(Is,g+".position",l,"pos",r),i(Cs,g+".quaternion",l,"rot",r),i(Is,g+".scale",l,"scl",r)}}return 0===r.length?null:new Ds(n,a,r)}}),(0,f.default)(Ds.prototype,{resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Ds(this.name,this.duration,t)}});var Os={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function zs(t,e,i){var r=this,n=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===n&&void 0!==r.onStart&&r.onStart(t,a,o),n=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var Ns=new zs,Rs={};function Fs(t){this.manager=void 0!==t?t:Ns}function Us(t){this.manager=void 0!==t?t:Ns}function ks(t){this.manager=void 0!==t?t:Ns,this._parser=null}function Gs(t){this.manager=void 0!==t?t:Ns,this._parser=null}function Vs(t){this.manager=void 0!==t?t:Ns}function Ws(t){this.manager=void 0!==t?t:Ns}function Hs(t){this.manager=void 0!==t?t:Ns}function js(){this.type="Curve",this.arcLengthDivisions=200}function Xs(t,e,i,r,n,a,o,s){js.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=r||1,this.aStartAngle=n||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function qs(t,e,i,r,n,a){Xs.call(this,t,e,i,i,r,n,a),this.type="ArcCurve"}function Ys(){var t=0,e=0,i=0,r=0;function n(n,a,o,s){t=n,e=o,i=-3*n+3*a-2*o-s,r=2*n-2*a+o+s}return{initCatmullRom:function(t,e,i,r,a){n(e,i,a*(i-t),a*(r-e))},initNonuniformCatmullRom:function(t,e,i,r,a,o,s){var u=(e-t)/a-(i-t)/(a+o)+(i-e)/o,l=(i-e)/o-(r-e)/(o+s)+(r-i)/s;n(e,i,u*=o,l*=o)},calc:function(n){var a=n*n;return t+e*n+i*a+r*(a*n)}}}(0,f.default)(Fs.prototype,{load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=Os.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;if(void 0===Rs[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],u=!!o[2],l=o[3];l=decodeURIComponent(l),u&&(l=atob(l));try{var h,c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":for(var p=new Uint8Array(l.length),d=0;d<l.length;d++)p[d]=l.charCodeAt(d);h="blob"===c?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var f=new DOMParser;h=f.parseFromString(l,s);break;case"json":h=JSON.parse(l);break;default:h=l}setTimeout((function(){e&&e(h),n.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}),0)}}else{Rs[t]=[],Rs[t].push({onLoad:e,onProgress:i,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",t,!0),m.addEventListener("load",(function(e){var i=this.response;Os.add(t,i);var r=Rs[t];if(delete Rs[t],200===this.status||0===this.status){this.status;for(var a=0,o=r.length;a<o;a++)(s=r[a]).onLoad&&s.onLoad(i);n.manager.itemEnd(t)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var i=Rs[t],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var i=Rs[t];delete Rs[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var i=Rs[t];delete Rs[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return n.manager.itemStart(t),m}Rs[t].push({onLoad:e,onProgress:i,onError:r})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),(0,f.default)(Us.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){for(var e=[],i=0;i<t.length;i++){var r=Ds.parse(t[i]);e.push(r)}return e},setPath:function(t){return this.path=t,this}}),(0,f.default)(ks.prototype,{load:function(t,e,i,r){var n=this,a=[],o=new ja;o.image=a;var s=new Fs(this.manager);function u(u){s.load(t[u],(function(t){var i=n._parser(t,!0);a[u]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(l+=1)&&(1===i.mipmapCount&&(o.minFilter=Tt),o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,h=0,c=t.length;h<c;++h)u(h);else s.load(t,(function(t){var i=n._parser(t,!0);if(i.isCubemap)for(var r=i.mipmaps.length/i.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<i.mipmapCount;u++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+u]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=Tt),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,r);return o},setPath:function(t){return this.path=t,this}}),(0,f.default)(Gs.prototype,{load:function(t,e,i,r){var n=this,a=new li,o=new Fs(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var i=n._parser(t);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:wt,a.wrapT=void 0!==i.wrapT?i.wrapT:wt,a.magFilter=void 0!==i.magFilter?i.magFilter:Tt,a.minFilter=void 0!==i.minFilter?i.minFilter:Pt,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=Tt),a.needsUpdate=!0,e&&e(a,i))}),i,r),a},setPath:function(t){return this.path=t,this}}),(0,f.default)(Vs.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=Os.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),Os.add(t,this),e&&e(this),n.manager.itemEnd(t)}function u(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(Ws.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new Ur,a=new Vs(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(i){a.load(t[i],(function(t){n.images[i]=t,6==++o&&(n.needsUpdate=!0,e&&e(n))}),void 0,r)}for(var u=0;u<t.length;++u)s(u);return n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(Hs.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new ni,a=new Vs(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){n.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);n.format=r?Vt:Wt,n.needsUpdate=!0,void 0!==e&&e(n)}),i,r),n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(js.prototype,{getPoint:function(){return null},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,r=[],n=this.getPoint(0),a=0;for(r.push(0),i=1;i<=t;i++)a+=(e=this.getPoint(i/t)).distanceTo(n),r.push(a),n=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,r=this.getLengths(),n=0,a=r.length;i=e||t*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[n=Math.floor(s+(u-s)/2)]-i)<0)s=n+1;else{if(!(o>0)){u=n;break}u=n-1}if(r[n=u]===i)return n/(a-1);var l=r[n];return(n+(i-l)/(r[n+1]-l))/(a-1)},getTangent:function(t){var e=1e-4,i=t-e,r=t+e;i<0&&(i=0),r>1&&(r=1);var n=this.getPoint(i);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,r,n,a=new ke,o=[],s=[],u=[],l=new ke,h=new fi;for(i=0;i<=t;i++)r=i/t,o[i]=this.getTangentAt(r),o[i].normalize();s[0]=new ke,u[0]=new ke;var c=Number.MAX_VALUE,p=Math.abs(o[0].x),d=Math.abs(o[0].y),f=Math.abs(o[0].z);for(p<=c&&(c=p,a.set(1,0,0)),d<=c&&(c=d,a.set(0,1,0)),f<=c&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),u[i]=u[i-1].clone(),l.crossVectors(o[i-1],o[i]),l.length()>g.default&&(l.normalize(),n=Math.acos(Re.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(h.makeRotationAxis(l,n))),u[i].crossVectors(o[i],s[i]);if(!0===e)for(n=Math.acos(Re.clamp(s[0].dot(s[t]),-1,1)),n/=t,o[0].dot(l.crossVectors(s[0],s[t]))>0&&(n=-n),i=1;i<=t;i++)s[i].applyMatrix4(h.makeRotationAxis(o[i],n*i)),u[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Xs.prototype=(0,p.default)(js.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isEllipseCurve=!0,Xs.prototype.getPoint=function(t,e){for(var i=e||new Fe,r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,a=Math.abs(n)<g.default;n<0;)n+=r;for(;n>r;)n-=r;n<g.default&&(n=a?0:r),!0!==this.aClockwise||a||(n===r?n=-r:n-=r);var o=this.aStartAngle+t*n,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),h=Math.sin(this.aRotation),c=s-this.aX,p=u-this.aY;s=c*l-p*h+this.aX,u=c*h+p*l+this.aY}return i.set(s,u)},Xs.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Xs.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Xs.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},qs.prototype=(0,p.default)(Xs.prototype),qs.prototype.constructor=qs,qs.prototype.isArcCurve=!0;var Js=new ke,Zs=new Ys,Qs=new Ys,Ks=new Ys;function $s(t,e,i,r){js.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=i||"centripetal",this.tension=r||.5}function tu(t,e,i,r,n){var a=.5*(r-e),o=.5*(n-i),s=t*t;return(2*i-2*r+a+o)*(t*s)+(-3*i+3*r-2*a-o)*s+a*t+i}function eu(t,e,i,r){return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,r)}function iu(t,e,i,r,n){return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,n)}function ru(t,e,i,r){js.call(this),this.type="CubicBezierCurve",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=i||new Fe,this.v3=r||new Fe}function nu(t,e,i,r){js.call(this),this.type="CubicBezierCurve3",this.v0=t||new ke,this.v1=e||new ke,this.v2=i||new ke,this.v3=r||new ke}function au(t,e){js.call(this),this.type="LineCurve",this.v1=t||new Fe,this.v2=e||new Fe}function ou(t,e){js.call(this),this.type="LineCurve3",this.v1=t||new ke,this.v2=e||new ke}function su(t,e,i){js.call(this),this.type="QuadraticBezierCurve",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=i||new Fe}function uu(t,e,i){js.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new ke,this.v1=e||new ke,this.v2=i||new ke}function lu(t){js.call(this),this.type="SplineCurve",this.points=t||[]}$s.prototype=(0,p.default)(js.prototype),$s.prototype.constructor=$s,$s.prototype.isCatmullRomCurve3=!0,$s.prototype.getPoint=function(t,e){var i,r,n,a,o=e||new ke,s=this.points,u=s.length,l=(u-(this.closed?0:1))*t,h=Math.floor(l),c=l-h;if(this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/u)+1)*u:0===c&&h===u-1&&(h=u-2,c=1),this.closed||h>0?i=s[(h-1)%u]:(Js.subVectors(s[0],s[1]).add(s[0]),i=Js),r=s[h%u],n=s[(h+1)%u],this.closed||h+2<u?a=s[(h+2)%u]:(Js.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=Js),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(i.distanceToSquared(r),p),f=Math.pow(r.distanceToSquared(n),p),m=Math.pow(n.distanceToSquared(a),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),Zs.initNonuniformCatmullRom(i.x,r.x,n.x,a.x,d,f,m),Qs.initNonuniformCatmullRom(i.y,r.y,n.y,a.y,d,f,m),Ks.initNonuniformCatmullRom(i.z,r.z,n.z,a.z,d,f,m)}else"catmullrom"===this.curveType&&(Zs.initCatmullRom(i.x,r.x,n.x,a.x,this.tension),Qs.initCatmullRom(i.y,r.y,n.y,a.y,this.tension),Ks.initCatmullRom(i.z,r.z,n.z,a.z,this.tension));return o.set(Zs.calc(c),Qs.calc(c),Ks.calc(c)),o},$s.prototype.copy=function(t){js.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},$s.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},$s.prototype.fromJSON=function(t){js.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ke).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},ru.prototype=(0,p.default)(js.prototype),ru.prototype.constructor=ru,ru.prototype.isCubicBezierCurve=!0,ru.prototype.getPoint=function(t,e){var i=e||new Fe,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(iu(t,r.x,n.x,a.x,o.x),iu(t,r.y,n.y,a.y,o.y)),i},ru.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ru.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ru.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},nu.prototype=(0,p.default)(js.prototype),nu.prototype.constructor=nu,nu.prototype.isCubicBezierCurve3=!0,nu.prototype.getPoint=function(t,e){var i=e||new ke,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(iu(t,r.x,n.x,a.x,o.x),iu(t,r.y,n.y,a.y,o.y),iu(t,r.z,n.z,a.z,o.z)),i},nu.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},nu.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},nu.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},au.prototype=(0,p.default)(js.prototype),au.prototype.constructor=au,au.prototype.isLineCurve=!0,au.prototype.getPoint=function(t,e){var i=e||new Fe;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},au.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},au.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},au.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},au.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},au.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ou.prototype=(0,p.default)(js.prototype),ou.prototype.constructor=ou,ou.prototype.isLineCurve3=!0,ou.prototype.getPoint=function(t,e){var i=e||new ke;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},ou.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ou.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ou.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ou.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},su.prototype=(0,p.default)(js.prototype),su.prototype.constructor=su,su.prototype.isQuadraticBezierCurve=!0,su.prototype.getPoint=function(t,e){var i=e||new Fe,r=this.v0,n=this.v1,a=this.v2;return i.set(eu(t,r.x,n.x,a.x),eu(t,r.y,n.y,a.y)),i},su.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},su.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},su.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},uu.prototype=(0,p.default)(js.prototype),uu.prototype.constructor=uu,uu.prototype.isQuadraticBezierCurve3=!0,uu.prototype.getPoint=function(t,e){var i=e||new ke,r=this.v0,n=this.v1,a=this.v2;return i.set(eu(t,r.x,n.x,a.x),eu(t,r.y,n.y,a.y),eu(t,r.z,n.z,a.z)),i},uu.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},uu.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},uu.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},lu.prototype=(0,p.default)(js.prototype),lu.prototype.constructor=lu,lu.prototype.isSplineCurve=!0,lu.prototype.getPoint=function(t,e){var i=e||new Fe,r=this.points,n=(r.length-1)*t,a=Math.floor(n),o=n-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return i.set(tu(o,s.x,u.x,l.x,h.x),tu(o,s.y,u.y,l.y,h.y)),i},lu.prototype.copy=function(t){js.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this},lu.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t},lu.prototype.fromJSON=function(t){js.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new Fe).fromArray(r))}return this};var hu=(0,u.default)({ArcCurve:qs,CatmullRomCurve3:$s,CubicBezierCurve:ru,CubicBezierCurve3:nu,EllipseCurve:Xs,LineCurve:au,LineCurve3:ou,QuadraticBezierCurve:su,QuadraticBezierCurve3:uu,SplineCurve:lu});function cu(){js.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function pu(t){cu.call(this),this.type="Path",this.currentPoint=new Fe,t&&this.setFromPoints(t)}function du(t){pu.call(this,t),this.uuid=Re.generateUUID(),this.type="Shape",this.holes=[]}function fu(t,e){Fi.call(this),this.type="Light",this.color=new Mi(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function mu(t,e,i){fu.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Fi.DefaultUp),this.updateMatrix(),this.groundColor=new Mi(e)}function vu(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Fe(512,512),this.map=null,this.matrix=new fi}function gu(){vu.call(this,new da(50,1,.5,500))}function yu(t,e,i,r,n,a){fu.call(this,t,e),this.type="SpotLight",this.position.copy(Fi.DefaultUp),this.updateMatrix(),this.target=new Fi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==a?a:1,this.shadow=new gu}function xu(t,e,i,r){fu.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new vu(new da(90,1,.5,500))}function bu(t,e,i,r,n,a){pa.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==i?i:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==n?n:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function wu(){vu.call(this,new bu(-5,5,5,-5,.5,500))}function _u(t,e){fu.call(this,t,e),this.type="DirectionalLight",this.position.copy(Fi.DefaultUp),this.updateMatrix(),this.target=new Fi,this.shadow=new wu}function Mu(t,e){fu.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Su(t,e,i,r){fu.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==r?r:10}function Au(t){this.manager=void 0!==t?t:Ns,this.textures={}}cu.prototype=(0,f.default)((0,p.default)(js.prototype),{constructor:cu,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new au(e,t))},getPoint:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=e){var n=i[r]-e,a=this.curves[r],o=a.getLength(),s=0===o?0:1-n/o;return a.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],r=0,n=this.curves;r<n.length;r++)for(var a=n[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(i.push(l),e=l)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(t){js.prototype.copy.call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=js.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){js.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push((new hu[r.type]).fromJSON(r))}return this}}),pu.prototype=(0,f.default)((0,p.default)(cu.prototype),{constructor:pu,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new au(this.currentPoint.clone(),new Fe(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,r){var n=new su(this.currentPoint.clone(),new Fe(t,e),new Fe(i,r));this.curves.push(n),this.currentPoint.set(i,r)},bezierCurveTo:function(t,e,i,r,n,a){var o=new ru(this.currentPoint.clone(),new Fe(t,e),new Fe(i,r),new Fe(n,a));this.curves.push(o),this.currentPoint.set(n,a)},splineThru:function(t){var e=new lu([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,r,n,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,i,r,n,a)},absarc:function(t,e,i,r,n,a){this.absellipse(t,e,i,i,r,n,a)},ellipse:function(t,e,i,r,n,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+u,e+l,i,r,n,a,o,s)},absellipse:function(t,e,i,r,n,a,o,s){var u=new Xs(t,e,i,r,n,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var h=u.getPoint(1);this.currentPoint.copy(h)},copy:function(t){return cu.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=cu.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return cu.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),du.prototype=(0,f.default)((0,p.default)(pu.prototype),{constructor:du,getPointsHoles:function(t){for(var e=[],i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){pu.prototype.copy.call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push(r.clone())}return this},toJSON:function(){var t=pu.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t},fromJSON:function(t){pu.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push((new pu).fromJSON(r))}return this}}),fu.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:fu,isLight:!0,copy:function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),mu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:mu,isHemisphereLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),(0,f.default)(vu.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),gu.prototype=(0,f.default)((0,p.default)(vu.prototype),{constructor:gu,isSpotLightShadow:!0,update:function(t){var e=this.camera,i=2*Re.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,n=t.distance||e.far;i===e.fov&&r===e.aspect&&n===e.far||(e.fov=i,e.aspect=r,e.far=n,e.updateProjectionMatrix())}}),yu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:yu,isSpotLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),xu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:xu,isPointLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),bu.prototype=(0,f.default)((0,p.default)(pa.prototype),{constructor:bu,isOrthographicCamera:!0,copy:function(t,e){return pa.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:(0,f.default)({},t.view),this},setViewOffset:function(t,e,i,r,n,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-t,a=i+t,o=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,c=(this.top-this.bottom)/this.view.height;a=(n+=h*(this.view.offsetX/u))+h*(this.view.width/u),s=(o-=c*(this.view.offsetY/l))-c*(this.view.height/l)}this.projectionMatrix.makeOrthographic(n,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e}}),wu.prototype=(0,f.default)((0,p.default)(vu.prototype),{constructor:wu}),_u.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:_u,isDirectionalLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Mu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:Mu,isAmbientLight:!0}),Su.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:Su,isRectAreaLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=fu.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),(0,f.default)(Au.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=this.textures;function i(t){return e[t],e[t]}var r=new ys[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.uniforms)for(var n in t.uniforms){var a=t.uniforms[n];switch(r.uniforms[n]={},a.type){case"t":r.uniforms[n].value=i(a.value);break;case"c":r.uniforms[n].value=(new Mi).setHex(a.value);break;case"v2":r.uniforms[n].value=(new Fe).fromArray(a.value);break;case"v3":r.uniforms[n].value=(new ke).fromArray(a.value);break;case"v4":r.uniforms[n].value=(new ai).fromArray(a.value);break;case"m3":r.uniforms[n].value=(new Ge).fromArray(a.value);case"m4":r.uniforms[n].value=(new fi).fromArray(a.value);break;default:r.uniforms[n].value=a.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)r.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=i(t.map)),void 0!==t.matcap&&(r.matcap=i(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=i(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Fe).fromArray(s)}return void 0!==t.displacementMap&&(r.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=i(t.specularMap)),void 0!==t.envMap&&(r.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=i(t.gradientMap)),r},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}});var Tu={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Lu(){ir.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Pu(t,e,i,r){"number"==typeof i&&(r=i,i=!1),Wi.call(this,t,e,i),this.meshPerAttribute=r||1}function Cu(t){this.manager=void 0!==t?t:Ns}Lu.prototype=(0,f.default)((0,p.default)(ir.prototype),{constructor:Lu,isInstancedBufferGeometry:!0,copy:function(t){return ir.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=ir.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),Pu.prototype=(0,f.default)((0,p.default)(Wi.prototype),{constructor:Pu,isInstancedBufferAttribute:!0,copy:function(t){return Wi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=Wi.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),(0,f.default)(Cu.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=t.isInstancedBufferGeometry?new Lu:new ir,i=t.data.index;if(void 0!==i){var r=new Eu[i.type](i.array);e.setIndex(new Wi(r,1))}var n=t.data.attributes;for(var a in n){var o=n[a],s=(r=new Eu[o.type](o.array),new(o.isInstancedBufferAttribute?Pu:Wi)(r,o.itemSize,o.normalized));void 0!==o.name&&(s.name=o.name),e.addAttribute(a,s)}var u=t.data.morphAttributes;if(u)for(var a in u){for(var l=u[a],h=[],c=0,p=l.length;c<p;c++)o=l[c],s=new Wi(r=new Eu[o.type](o.array),o.itemSize,o.normalized),void 0!==o.name&&(s.name=o.name),h.push(s);e.morphAttributes[a]=h}var d=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==d){c=0;for(var f=d.length;c!==f;++c){var m=d[c];e.addGroup(m.start,m.count,m.materialIndex)}}var v=t.data.boundingSphere;if(void 0!==v){var g=new ke;void 0!==v.center&&g.fromArray(v.center),e.boundingSphere=new ci(g,v.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e},setPath:function(t){return this.path=t,this}});var Eu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Iu(t){this.manager=void 0!==t?t:Ns,this.resourcePath=""}(0,f.default)(Iu.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=this,a=void 0===this.path?Tu.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new Fs(n.manager);o.setPath(this.path),o.load(t,(function(t){var i=null;try{i=JSON.parse(t)}catch(t){return void 0!==r&&r(t),void t.message}var a=i.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()&&n.parse(i,e)}),i,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var i=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,i),n=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),a=this.parseTextures(t.textures,n),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,r,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var i=0,r=t.length;i<r;i++){var n=(new du).fromJSON(t[i]);e[n.uuid]=n}return e},parseGeometries:function(t,e){var i={};if(void 0!==t)for(var r=new Cu,n=0,a=t.length;n<a;n++){var o,s=t[n];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new ss[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new ss[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new ss[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new ss[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new ss[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new ss[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new ss[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new ss[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new ss[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new ss[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new ss[s.type]((new hu[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new ss[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new ss[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],l=0,h=s.shapes.length;l<h;l++){var c=e[s.shapes[l]];u.push(c)}o=new ss[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],l=0,h=s.shapes.length;l<h;l++)c=e[s.shapes[l]],u.push(c);var p=s.options.extrudePath;void 0!==p&&(s.options.extrudePath=(new hu[p.type]).fromJSON(p)),o=new ss[s.type](u,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE&&(o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry);break;default:s.type;continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),i[s.uuid]=o}return i},parseMaterials:function(t,e){var i={},r={};if(void 0!==t){var n=new Au;n.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var h=s.materials[l];void 0===i[h.uuid]&&(i[h.uuid]=n.parse(h)),u.push(i[h.uuid])}r[s.uuid]=u}else void 0===i[s.uuid]&&(i[s.uuid]=n.parse(s)),r[s.uuid]=i[s.uuid]}}return r},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i],n=Ds.parse(r);void 0!==r.uuid&&(n.uuid=r.uuid),e.push(n)}return e},parseImages:function(t,e){var i=this,r={};function n(t){return i.manager.itemStart(t),a.load(t,(function(){i.manager.itemEnd(t)}),void 0,(function(){i.manager.itemError(t),i.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new Vs(new zs(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var u=t[o],l=u.url;if(Array.isArray(l)){r[u.uuid]=[];for(var h=0,c=l.length;h<c;h++){var p=l[h],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;r[u.uuid].push(n(d))}}else d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:i.resourcePath+u.url,r[u.uuid]=n(d)}}return r},parseTextures:function(t,e){function i(t,e){return"number"==typeof t?t:e[t]}var r={};if(void 0!==t)for(var n=0,a=t.length;n<a;n++){var o,s=t[n];void 0===s.image&&s.uuid,void 0===e[s.image]&&s.image,(o=Array.isArray(e[s.image])?new Ur(e[s.image]):new ni(e[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=i(s.mapping,Ru)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=i(s.wrap[0],Fu),o.wrapT=i(s.wrap[1],Fu)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=i(s.minFilter,Uu)),void 0!==s.magFilter&&(o.magFilter=i(s.magFilter,Uu)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(t,e,i){var r;function n(t){return e[t],e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,n=t.length;r<n;r++){var a=t[r];i[a],e.push(i[a])}return e}return i[t],i[t]}}switch(t.type){case"Scene":r=new Ca,void 0!==t.background&&(0,v.default)(t.background)&&(r.background=new Mi(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new Pa(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new La(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new da(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"OrthographicCamera":r=new bu(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"AmbientLight":r=new Mu(t.color,t.intensity);break;case"DirectionalLight":r=new _u(t.color,t.intensity);break;case"PointLight":r=new xu(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new Su(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new yu(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new mu(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":case"Mesh":var o=n(t.geometry),s=a(t.material);r=o.bones&&o.bones.length>0?new za(o,s):new Lr(o,s),void 0!==t.drawMode&&r.setDrawMode(t.drawMode);break;case"LOD":r=new Oa;break;case"Line":r=new Ua(n(t.geometry),a(t.material),t.mode);break;case"LineLoop":r=new Ga(n(t.geometry),a(t.material));break;case"LineSegments":r=new ka(n(t.geometry),a(t.material));break;case"PointCloud":case"Points":r=new Wa(n(t.geometry),a(t.material));break;case"Sprite":r=new Ba(a(t.material));break;case"Group":r=new ca;break;default:r=new Fi}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(r.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var u=t.children,l=0;l<u.length;l++)r.add(this.parseObject(u[l],e,i));if("LOD"===t.type)for(var h=t.levels,c=0;c<h.length;c++){var p=h[c],d=r.getObjectByProperty("uuid",p.object);void 0!==d&&r.addLevel(d,p.distance)}return r}});var Du,Bu,Ou,zu,Nu,Ru={UVMapping:pt,CubeReflectionMapping:dt,CubeRefractionMapping:ft,EquirectangularReflectionMapping:mt,EquirectangularRefractionMapping:vt,SphericalReflectionMapping:gt,CubeUVReflectionMapping:yt,CubeUVRefractionMapping:xt},Fu={RepeatWrapping:bt,ClampToEdgeWrapping:wt,MirroredRepeatWrapping:_t},Uu={NearestFilter:Mt,NearestMipMapNearestFilter:St,NearestMipMapLinearFilter:At,LinearFilter:Tt,LinearMipMapNearestFilter:Lt,LinearMipMapLinearFilter:Pt};function ku(t){this.manager=void 0!==t?t:Ns,this.options=void 0}function Gu(){this.type="ShapePath",this.color=new Mi,this.subPaths=[],this.currentPath=null}function Vu(t){this.type="Font",this.data=t}function Wu(t,e,i,r,n){var a=n.glyphs[t]||n.glyphs["?"];if(a){var o,s,u,l,h,c,p,d,f=new Gu;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*e+i,s=m[v++]*e+r,f.moveTo(o,s);break;case"l":o=m[v++]*e+i,s=m[v++]*e+r,f.lineTo(o,s);break;case"q":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,f.quadraticCurveTo(h,c,u,l);break;case"b":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,p=m[v++]*e+i,d=m[v++]*e+r,f.bezierCurveTo(h,c,p,d,u,l)}return{offsetX:a.ha*e,path:f}}}function Hu(t){this.manager=void 0!==t?t:Ns}function ju(){}ku.prototype={constructor:ku,setOptions:function(t){return this.options=t,this},load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=Os.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===n.options?createImageBitmap(t):createImageBitmap(t,n.options)})).then((function(i){Os.add(t,i),e&&e(i),n.manager.itemEnd(t)})).catch((function(e){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)})),n.manager.itemStart(t)},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},(0,f.default)(Gu.prototype,{moveTo:function(t,e){this.currentPath=new pu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,r){this.currentPath.quadraticCurveTo(t,e,i,r)},bezierCurveTo:function(t,e,i,r,n,a){this.currentPath.bezierCurveTo(t,e,i,r,n,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i],a=new du;a.curves=n.curves,e.push(a)}return e}function r(t,e){for(var i=e.length,r=!1,n=i-1,a=0;a<i;n=a++){var o=e[n],s=e[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>g.default){if(l<0&&(o=e[a],u=-u,s=e[n],l=-l),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var h=l*(t.x-o.x)-u*(t.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var n=No.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return i(a);var o,s,u,l=[];if(1===a.length)return s=a[0],(u=new du).curves=s.curves,l.push(u),l;var h=!n(a[0].getPoints());h=t?!h:h;var c,p,d=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var y=0,x=a.length;y<x;y++)o=n(c=(s=a[y]).getPoints()),(o=t?!o:o)?(!h&&f[v]&&v++,f[v]={s:new du,p:c},f[v].s.curves=s.curves,h&&v++,m[v]=[]):m[v].push({h:s,p:c[0]});if(!f[0])return i(a);if(f.length>1){for(var b=!1,w=[],_=0,M=f.length;_<M;_++)d[_]=[];for(_=0,M=f.length;_<M;_++)for(var S=m[_],A=0;A<S.length;A++){for(var T=S[A],L=!0,P=0;P<f.length;P++)r(T.p,f[P].p)&&(_!==P&&w.push({froms:_,tos:P,hole:A}),L?(L=!1,d[P].push(T)):b=!0);L&&d[_].push(T)}w.length>0&&(b||(m=d))}y=0;for(var C=f.length;y<C;y++){u=f[y].s,l.push(u);for(var E=0,I=(p=m[y]).length;E<I;E++)u.holes.push(p[E].h)}return l}}),(0,f.default)(Vu.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var i=[],r=function(t,e,i){for(var r=s.default?(0,s.default)(t):String(t).split(""),n=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,o=[],u=0,l=0,h=0;h<r.length;h++){var c=r[h];if("\n"===c)u=0,l-=a;else{var p=Wu(c,n,u,l,i);u+=p.offsetX,o.push(p.path)}}return o}(t,e,this.data),n=0,a=r.length;n<a;n++)Array.prototype.push.apply(i,r[n].toShapes());return i}}),(0,f.default)(Hu.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(this.manager);a.setPath(this.path),a.load(t,(function(t){var i;try{i=JSON.parse(t)}catch(e){i=JSON.parse(t.substring(65,t.length-2))}var r=n.parse(i);e&&e(r)}),i,r)},parse:function(t){return new Vu(t)},setPath:function(t){return this.path=t,this}}),ju.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,r=e.length;i<r;i+=2){var n=e[i],a=e[i+1];if(n.test(t))return a}return null}},(0,f.default)(ju.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,i){for(var r=[],n=0;n<t.length;++n)r[n]=this.createMaterial(t[n],e,i);return r},createMaterial:(Du={NoBlending:L,NormalBlending:P,AdditiveBlending:C,SubtractiveBlending:E,MultiplyBlending:I,CustomBlending:D},Bu=new Mi,Ou=new Hs,zu=new Au,function(t,e,i){var r={};function n(t,n,a,o,s){var u,l=e+t,h=ju.Handlers.get(l);null!==h?u=h.load(l):(Ou.setCrossOrigin(i),u=Ou.load(l)),void 0!==n&&(u.repeat.fromArray(n),1!==n[0]&&(u.wrapS=bt),1!==n[1]&&(u.wrapT=bt)),void 0!==a&&u.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(u.wrapS=bt),"mirror"===o[0]&&(u.wrapS=_t),"repeat"===o[1]&&(u.wrapT=bt),"mirror"===o[1]&&(u.wrapT=_t)),void 0!==s&&(u.anisotropy=s);var c=Re.generateUUID();return r[c]=u,c}var a={uuid:Re.generateUUID(),type:"MeshLambertMaterial"};for(var o in t){var s=t[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":case"colorAmbient":case"mapAmbient":case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":default:break;case"DbgName":a.name=s;break;case"blending":a.blending=Du[s];break;case"colorDiffuse":a.color=Bu.fromArray(s).getHex();break;case"colorSpecular":a.specular=Bu.fromArray(s).getHex();break;case"colorEmissive":a.emissive=Bu.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=n(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapEmissive":a.emissiveMap=n(s,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapLight":a.lightMap=n(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapAO":a.aoMap=n(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapBump":a.bumpMap=n(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapNormal":a.normalMap=n(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapSpecular":a.specularMap=n(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapMetalness":a.metalnessMap=n(s,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapRoughness":a.roughnessMap=n(s,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapAlpha":a.alphaMap=n(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"flipSided":a.side=M;break;case"doubleSided":a.side=S;break;case"transparency":a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=T),"face"===s&&(a.vertexColors=1)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),zu.setTextures(r),zu.parse(a)})});var Xu={getContext:function(){return void 0===Nu&&(Nu=new(window.AudioContext||window.webkitAudioContext)),Nu},setContext:function(t){Nu=t}};function qu(t){this.manager=void 0!==t?t:Ns}function Yu(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new ke)}function Ju(t,e){fu.call(this,void 0,e),this.sh=void 0!==t?t:new Yu}function Zu(t,e,i){Ju.call(this,void 0,i);var r=(new Mi).set(t),n=(new Mi).set(e),a=new ke(r.r,r.g,r.b),o=new ke(n.r,n.g,n.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function Qu(t,e){Ju.call(this,void 0,e);var i=(new Mi).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Ku(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new da,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new da,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}(0,f.default)(qu.prototype,{load:function(t,e,i,r){var n=new Fs(this.manager);n.setResponseType("arraybuffer"),n.setPath(this.path),n.load(t,(function(t){var i=t.slice(0);Xu.getContext().decodeAudioData(i,(function(t){e(t)}))}),i,r)},setPath:function(t){return this.path=t,this}}),(0,f.default)(Yu.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.282095*a[0],e+=.488603*a[1]*r,e+=.488603*a[2]*n,e+=.488603*a[3]*i,e+=1.092548*a[4]*(i*r),e+=1.092548*a[5]*(r*n),e+=.315392*a[6]*(3*n*n-1),e+=1.092548*a[7]*(i*n),e+=.546274*a[8]*(i*i-r*r)},getIrradianceAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.886227*a[0],e+=2*a[1]*.511664*r,e+=2*a[2]*.511664*n,e+=2*a[3]*.511664*i,e+=2*a[4]*.429043*i*r,e+=2*a[5]*.429043*r*n,e+=a[6]*(.743125*n*n-.247708),e+=2*a[7]*.429043*i*n,e+=.429043*a[8]*(i*i-r*r)},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t){for(var e=this.coefficients,i=0;i<9;i++)e[i].fromArray(t,3*i);return this},toArray:function(){for(var t=[],e=this.coefficients,i=0;i<9;i++)e[i].toArray(t,3*i);return t}}),(0,f.default)(Yu,{getBasisAt:function(t,e){var i=t.x,r=t.y,n=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*n,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*n,e[6]=.315392*(3*n*n-1),e[7]=1.092548*i*n,e[8]=.546274*(i*i-r*r)}}),Ju.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:Ju,isLightProbe:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.sh.copy(t.sh),this.intensity=t.intensity,this},toJSON:function(t){return fu.prototype.toJSON.call(this,t)}}),Zu.prototype=(0,f.default)((0,p.default)(Ju.prototype),{constructor:Zu,isHemisphereLightProbe:!0,copy:function(t){return Ju.prototype.copy.call(this,t),this},toJSON:function(t){return Ju.prototype.toJSON.call(this,t)}}),Qu.prototype=(0,f.default)((0,p.default)(Ju.prototype),{constructor:Qu,isAmbientLightProbe:!0,copy:function(t){return Ju.prototype.copy.call(this,t),this},toJSON:function(t){return Ju.prototype.toJSON.call(this,t)}}),(0,f.default)(Ku.prototype,{update:function(){var t,e,i,r,n,a,o,s,u=new fi,l=new fi;return function(h){if(t!==this||e!==h.focus||i!==h.fov||r!==h.aspect*this.aspect||n!==h.near||a!==h.far||o!==h.zoom||s!==this.eyeSep){t=this,e=h.focus,i=h.fov,r=h.aspect*this.aspect,n=h.near,a=h.far,o=h.zoom;var c,p,d=h.projectionMatrix.clone(),f=(s=this.eyeSep/2)*n/e,m=n*Math.tan(Re.DEG2RAD*i*.5)/o;l.elements[12]=-s,u.elements[12]=s,c=-m*r+f,p=m*r+f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraL.projectionMatrix.copy(d),c=-m*r-f,p=m*r-f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(u)}}()});var $u=90;function tl(t,e,i,r){Fi.call(this),this.type="CubeCamera";var n=new da($u,1,t,e);n.up.set(0,-1,0),n.lookAt(new ke(1,0,0)),this.add(n);var a=new da($u,1,t,e);a.up.set(0,-1,0),a.lookAt(new ke(-1,0,0)),this.add(a);var o=new da($u,1,t,e);o.up.set(0,0,1),o.lookAt(new ke(0,1,0)),this.add(o);var s=new da($u,1,t,e);s.up.set(0,0,-1),s.lookAt(new ke(0,-1,0)),this.add(s);var u=new da($u,1,t,e);u.up.set(0,-1,0),u.lookAt(new ke(0,0,1)),this.add(u);var l=new da($u,1,t,e);l.up.set(0,-1,0),l.lookAt(new ke(0,0,-1)),this.add(l),r=r||{format:Vt,magFilter:Tt,minFilter:Tt},this.renderTarget=new ui(i,i,r),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=t.getRenderTarget(),r=this.renderTarget,h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(e,n),t.setRenderTarget(r,1),t.render(e,a),t.setRenderTarget(r,2),t.render(e,o),t.setRenderTarget(r,3),t.render(e,s),t.setRenderTarget(r,4),t.render(e,u),r.texture.generateMipmaps=h,t.setRenderTarget(r,5),t.render(e,l),t.setRenderTarget(i)},this.clear=function(t,e,i,r){for(var n=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,i,r);t.setRenderTarget(n)}}function el(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function il(){Fi.call(this),this.type="AudioListener",this.context=Xu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function rl(t){Fi.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function nl(t){rl.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function al(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function ol(t,e,i){this.binding=t,this.valueSize=i;var r,n=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":n=Array,r=this._select;break;default:r=this._lerp}this.buffer=new n(4*i),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}tl.prototype=(0,p.default)(Fi.prototype),tl.prototype.constructor=tl,(0,f.default)(el.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),il.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:il,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new ke,e=new Ue,i=new ke,r=new ke,n=new el;return function(a){Fi.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=n.getDelta(),this.matrixWorld.decompose(t,e,i),r.set(0,0,-1).applyQuaternion(e),o.positionX){var u=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(t.x,u),o.positionY.linearRampToValueAtTime(t.y,u),o.positionZ.linearRampToValueAtTime(t.z,u),o.forwardX.linearRampToValueAtTime(r.x,u),o.forwardY.linearRampToValueAtTime(r.y,u),o.forwardZ.linearRampToValueAtTime(r.z,u),o.upX.linearRampToValueAtTime(s.x,u),o.upY.linearRampToValueAtTime(s.y,u),o.upZ.linearRampToValueAtTime(s.z,u)}else o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),rl.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:rl,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1!==this.hasPlaybackControl&&this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),nl.prototype=(0,f.default)((0,p.default)(rl.prototype),{constructor:nl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(){var t=new ke,e=new Ue,i=new ke,r=new ke;return function(n){if(Fi.prototype.updateMatrixWorld.call(this,n),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(t,e,i),r.set(0,0,1).applyQuaternion(e);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(t.x,o),a.positionY.linearRampToValueAtTime(t.y,o),a.positionZ.linearRampToValueAtTime(t.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z)}}}()}),(0,f.default)(al.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),(0,f.default)(ol.prototype,{accumulate:function(t,e){var i=this.buffer,r=this.valueSize,n=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)i[n+o]=i[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(i,n,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,r=t*e+e,n=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,n<1){var o=3*e;this._mixBufferRegion(i,r,o,1-n,e)}for(var s=e,u=e+e;s!==u;++s)if(i[s]!==i[s+e]){a.setValue(i,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,r=3*i;t.getValue(e,r);for(var n=i,a=r;n!==a;++n)e[n]=e[r+n%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,r,n){if(r>=.5)for(var a=0;a!==n;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,r){Ue.slerpFlat(t,e,t,e,t,i,r)},_lerp:function(t,e,i,r,n){for(var a=1-r,o=0;o!==n;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*r}}});var sl,ul,ll,hl,cl,pl,dl,fl,ml,vl,gl,yl,xl,bl,wl,_l="\\[\\]\\.:\\/";function Ml(t,e,i){var r=i||Sl.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Sl(t,e,i){this.path=e,this.parsedPath=i||Sl.parseTrackName(e),this.node=Sl.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Al(){this.uuid=Re.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,i=arguments.length;e!==i;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Tl(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var r=e.tracks,n=r.length,a=new Array(n),o={endingStart:_e,endingEnd:_e},s=0;s!==n;++s){var u=r[s].createInterpolant(null);a[s]=u,u.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ll(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Pl(t){"string"==typeof t&&(t=arguments[1]),this.value=t}function Cl(t,e,i){Ea.call(this,t,e),this.meshPerAttribute=i||1}function El(t,e,i,r){this.ray=new Sr(t,e),this.near=i||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},(0,d.default)(this.params,{PointCloud:{get:function(){return this.Points}}})}function Il(t,e){return t.distance-e.distance}function Dl(t,e,i,r){if(!1!==t.visible&&(t.raycast(e,i),!0===r))for(var n=t.children,a=0,o=n.length;a<o;a++)Dl(n[a],e,i,!0)}function Bl(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function Ol(t,e,i){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==i?i:0,this}function zl(t,e){this.min=void 0!==t?t:new Fe(1/0,1/0),this.max=void 0!==e?e:new Fe(-1/0,-1/0)}function Nl(t,e){this.start=void 0!==t?t:new ke,this.end=void 0!==e?e:new ke}function Rl(t){Fi.call(this),this.material=t,this.render=function(){}}function Fl(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var u=new ir,l=new Qi(2*o*3,3);u.addAttribute("position",l),ka.call(this,u,new Fa({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Ul(t,e){Fi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var i=new ir,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,a=1;n<32;n++,a++){var o=n/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}i.addAttribute("position",new Qi(r,3));var u=new Fa({fog:!1});this.cone=new ka(i,u),this.add(this.cone),this.update()}function kl(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,kl(t.children[i]));return e}function Gl(t){for(var e=kl(t),i=new ir,r=[],n=[],a=new Mi(0,0,1),o=new Mi(0,1,0),s=0;s<e.length;s++){var u=e[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),n.push(a.r,a.g,a.b),n.push(o.r,o.g,o.b))}i.addAttribute("position",new Qi(r,3)),i.addAttribute("color",new Qi(n,3));var l=new Fa({vertexColors:T,depthTest:!1,depthWrite:!1,transparent:!0});ka.call(this,i,l),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Vl(t,e,i){this.light=t,this.light.updateMatrixWorld(),this.color=i;var r=new Xo(e,4,2),n=new Tr({wireframe:!0,fog:!1});Lr.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Wl(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var i=new ir;i.addAttribute("position",new Qi([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere();var r=new Fa({fog:!1});Ua.call(this,i,r);var n=new ir;n.addAttribute("position",new Qi([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new Lr(n,new Tr({side:M,fog:!1}))),this.update()}function Hl(t,e,i){Fi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var r=new io(e);r.rotateY(.5*Math.PI),this.material=new Tr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=T);var n=r.getAttribute("position"),a=new Float32Array(3*n.count);r.addAttribute("color",new Wi(a,3)),this.add(new Lr(r,this.material)),this.update()}function jl(t,e){this.lightProbe=t,this.size=e;var i={GAMMA_OUTPUT:""},r=new Mr({defines:i,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),n=new Xo(1,32,16);Lr.call(this,n,r),this.onBeforeRender()}function Xl(t,e,i,r){t=t||10,e=e||10,i=new Mi(void 0!==i?i:4473924),r=new Mi(void 0!==r?r:8947848);for(var n=e/2,a=t/e,o=t/2,s=[],u=[],l=0,h=0,c=-o;l<=e;l++,c+=a){s.push(-o,0,c,o,0,c),s.push(c,0,-o,c,0,o);var p=l===n?i:r;p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3}var d=new ir;d.addAttribute("position",new Qi(s,3)),d.addAttribute("color",new Qi(u,3));var f=new Fa({vertexColors:T});ka.call(this,d,f)}function ql(t,e,i,r,n,a){t=t||10,e=e||16,i=i||8,r=r||64,n=new Mi(void 0!==n?n:4473924),a=new Mi(void 0!==a?a:8947848);var o,s,u,l,h,c,p,d=[],f=[];for(l=0;l<=e;l++)u=l/e*(2*Math.PI),o=Math.sin(u)*t,s=Math.cos(u)*t,d.push(0,0,0),d.push(o,0,s),p=1&l?n:a,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(l=0;l<=i;l++)for(p=1&l?n:a,c=t-t/i*l,h=0;h<r;h++)u=h/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b),u=(h+1)/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b);var m=new ir;m.addAttribute("position",new Qi(d,3)),m.addAttribute("color",new Qi(f,3));var v=new Fa({vertexColors:T});ka.call(this,m,v)}function Yl(t,e,i,r){this.audio=t,this.range=e||1,this.divisionsInnerAngle=i||16,this.divisionsOuterAngle=r||2;var n=new ir,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));n.addAttribute("position",new Wi(o,3));var s=new Fa({color:65280}),u=new Fa({color:16776960});Ua.call(this,n,[u,s]),this.update()}function Jl(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry&&(o=s.faces.length);var u=new ir,l=new Qi(2*o*3,3);u.addAttribute("position",l),ka.call(this,u,new Fa({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Zl(t,e,i){Fi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===e&&(e=1);var r=new ir;r.addAttribute("position",new Qi([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new Fa({fog:!1});this.lightPlane=new Ua(r,n),this.add(this.lightPlane),(r=new ir).addAttribute("position",new Qi([0,0,0,0,0,1],3)),this.targetLine=new Ua(r,n),this.add(this.targetLine),this.update()}function Ql(t){var e=new ir,i=new Fa({color:16777215,vertexColors:1}),r=[],n=[],a={},o=new Mi(16755200),s=new Mi(16711680),u=new Mi(43775),l=new Mi(16777215),h=new Mi(3355443);function c(t,e,i){p(t,i),p(e,i)}function p(t,e){r.push(0,0,0),n.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(r.length/3-1)}c("n1","n2",o),c("n2","n4",o),c("n4","n3",o),c("n3","n1",o),c("f1","f2",o),c("f2","f4",o),c("f4","f3",o),c("f3","f1",o),c("n1","f1",o),c("n2","f2",o),c("n3","f3",o),c("n4","f4",o),c("p","n1",s),c("p","n2",s),c("p","n3",s),c("p","n4",s),c("u1","u2",u),c("u2","u3",u),c("u3","u1",u),c("c","t",l),c("p","c",h),c("cn1","cn2",h),c("cn3","cn4",h),c("cf1","cf2",h),c("cf3","cf4",h),e.addAttribute("position",new Qi(r,3)),e.addAttribute("color",new Qi(n,3)),ka.call(this,e,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Kl(t,e){this.object=t,void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new ir;n.setIndex(new Wi(i,1)),n.addAttribute("position",new Wi(r,3)),ka.call(this,n,new Fa({color:e})),this.matrixAutoUpdate=!1,this.update()}function $l(t,e){this.type="Box3Helper",this.box=t;var i=void 0!==e?e:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new ir;n.setIndex(new Wi(r,1)),n.addAttribute("position",new Qi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),ka.call(this,n,new Fa({color:i})),this.geometry.computeBoundingSphere()}function th(t,e,i){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==i?i:16776960,n=new ir;n.addAttribute("position",new Qi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),Ua.call(this,n,new Fa({color:r}));var a=new ir;a.addAttribute("position",new Qi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Lr(a,new Tr({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function eh(t,e,i,r,n,a){Fi.call(this),void 0===t&&(t=new ke(0,0,1)),void 0===e&&(e=new ke(0,0,0)),void 0===i&&(i=1),void 0===r&&(r=16776960),void 0===n&&(n=.2*i),void 0===a&&(a=.2*n),void 0===yl&&((yl=new ir).addAttribute("position",new Qi([0,0,0,0,1,0],3)),(xl=new is(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Ua(yl,new Fa({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Lr(xl,new Tr({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,n,a)}function ih(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new ir;i.addAttribute("position",new Qi(e,3)),i.addAttribute("color",new Qi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Fa({vertexColors:T});ka.call(this,i,r)}function rh(t){$s.call(this,t),this.type="catmullrom",this.closed=!0}function nh(t){$s.call(this,t),this.type="catmullrom"}function ah(t){$s.call(this,t),this.type="catmullrom"}(0,f.default)(Ml.prototype,{getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),(0,f.default)(Sl,{Composite:Ml,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new Sl.Composite(t,e,i):new Sl(t,e,i)},sanitizeNodeName:(ml=new RegExp("["+_l+"]","g"),function(t){return t.replace(/\s/g,"_").replace(ml,"")}),parseTrackName:(sl="[^"+_l+"]",ul="[^"+_l.replace("\\.","")+"]",ll=/((?:WC+[\/:])*)/.source.replace("WC",sl),hl=/(WCOD+)?/.source.replace("WCOD",ul),cl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",sl),pl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",sl),dl=new RegExp("^"+ll+hl+cl+pl+"$"),fl=["material","materials","bones"],function(t){var e=dl.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=i.nodeName.substring(r+1);-1!==fl.indexOf(n)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){var r=function t(i){for(var r=0;r<i.length;r++){var n=i[r];if(n.name===e||n.uuid===e)return n;var a=t(n.children);if(a)return a}return null}(t.children);if(r)return r}return null}}),(0,f.default)(Sl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)t[e++]=i[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,r=e.propertyName,n=e.propertyIndex;if(t||(t=Sl.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return;t=t[i]}if(void 0!==a){if(void 0===t[a])return;t=t[a]}}var s=t[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===r){if(!t.geometry)return;if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return;for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===n){n=o;break}}else{if(!t.geometry.morphTargets)return;for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===n){n=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else e.nodeName}else this.path},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),(0,f.default)(Sl.prototype,{_getValue_unbound:Sl.prototype.getValue,_setValue_unbound:Sl.prototype.setValue}),(0,f.default)(Al.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=0,l=arguments.length;u!==l;++u){var h=arguments[u],c=h.uuid,p=r[c];if(void 0===p){p=e++,r[c]=p,t.push(h);for(var d=0,f=s;d!==f;++d)o[d].push(new Sl(h,n[d],a[d]))}else if(p<i){t[p];var m=--i,v=t[m];for(r[v.uuid]=p,t[p]=v,r[c]=m,t[m]=h,d=0,f=s;d!==f;++d){var g=o[d],y=g[m],x=g[p];g[p]=y,void 0===x&&(x=new Sl(h,n[d],a[d])),g[m]=x}}else t[p]}this.nCachedObjects_=i},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,n=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=i[u];if(void 0!==l&&l>=e){var h=e++,c=t[h];i[c.uuid]=l,t[l]=c,i[u]=h,t[h]=s;for(var p=0,d=n;p!==d;++p){var f=r[p],m=f[h],v=f[l];f[l]=m,f[h]=v}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,a=n.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o].uuid,l=r[u];if(void 0!==l)if(delete r[u],l<i){var h=--i,c=t[h],p=t[g=--e];r[c.uuid]=l,t[l]=c,r[p.uuid]=h,t[h]=p,t.pop();for(var d=0,f=a;d!==f;++d){var m=(y=n[d])[h],v=y[g];y[l]=m,y[h]=v,y.pop()}}else{var g;for(r[(p=t[g=--e]).uuid]=l,t[l]=p,t.pop(),d=0,f=a;d!==f;++d){var y;(y=n[d])[l]=y[g],y.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,r=i[t],n=this._bindings;if(void 0!==r)return n[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,h=new Array(u);r=n.length,i[t]=r,a.push(t),o.push(e),n.push(h);for(var c=l,p=s.length;c!==p;++c){var d=s[c];h[c]=new Sl(d,t,e)}return h},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var r=this._paths,n=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=i,a[i]=s,a.pop(),n[i]=n[o],n.pop(),r[i]=r[o],r.pop()}}}),(0,f.default)(Tl.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var r=this._clip.duration,n=t._clip.duration,a=n/r,o=r/n;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var r=this._mixer,n=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=n,s[1]=n+i,u[0]=t/o,u[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,r){if(this.enabled){var n=this._startTime;if(null!==n){var a=(t-n)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,h=0,c=u.length;h!==c;++h)u[h].evaluate(o),l[h].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,i=this._clip.duration,r=this.loop,n=this._loopCount,a=2202===r;if(0===t)return-1===n?e:a&&1==(1&n)?i-e:e;if(2200===r){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===n&&(t>=0?(n=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,n+=Math.abs(o);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var u=t<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=e;if(a&&1==(1&n))return i-e}return e},_setEndings:function(t,e,i){var r=this._interpolantSettings;i?(r.endingStart=Me,r.endingEnd=Me):(r.endingStart=t?this.zeroSlopeAtStart?Me:_e:Se,r.endingEnd=e?this.zeroSlopeAtEnd?Me:_e:Se)},_scheduleFading:function(t,e,i){var r=this._mixer,n=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=n,s[0]=e,o[1]=n+t,s[1]=i,this}}),Ll.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Ll,_bindAction:function(t,e){var i=t._localRoot||this._root,r=t._clip.tracks,n=r.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var h=0;h!==n;++h){var c=r[h],p=c.name,d=l[p];if(void 0!==d)a[h]=d;else{if(void 0!==(d=a[h])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[h].binding.parsedPath;++(d=new ol(Sl.create(i,p,f),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),a[h]=d}o[h].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,r=this._actionsByClip[i];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,i,e)}for(var n=t._propertyBindings,a=0,o=n.length;a!==o;++a){var s=n[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var r=this._actions,n=this._actionsByClip,a=n[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,n[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;var n=t._clip.uuid,a=this._actionsByClip,o=a[n],s=o.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[n],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_addInactiveBinding:function(t,e,i){var r=this._bindingsByRootAndName,n=r[e],a=this._bindings;void 0===n&&(n={},r[e]=n),n[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,r=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete o[n];t:{for(var l in o)break t;delete a[r]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&((i=new _s(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,n=e[r];t.__cacheIndex=r,e[r]=t,n.__cacheIndex=i,e[i]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?Ds.findByName(i,t):t,a=null!==n?n.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[r];if(void 0!==u)return u;s=o.knownActions[0],null===n&&(n=s._clip)}if(null===n)return null;var l=new Tl(this,n,e);return this._bindAction(l,s),this._addInactiveAction(l,a,r),l},existingAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?Ds.findByName(i,t):t,a=n?n.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var n=0;n!==e;++n)t[n].reset();for(n=0;n!==r;++n)i[n].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,r=this.time+=t,n=(0,m.default)(t),a=this._accuIndex^=1,o=0;o!==i;++o)e[o]._update(r,t,n,a);var s=this._bindings,u=this._nActiveBindings;for(o=0;o!==u;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,r=this._actionsByClip,n=r[i];if(void 0!==n){for(var a=n.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,h=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=l,e[l]=h,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Pl.prototype.clone=function(){return new Pl(void 0===this.value.clone?this.value:this.value.clone())},Cl.prototype=(0,f.default)((0,p.default)(Ea.prototype),{constructor:Cl,isInstancedInterleavedBuffer:!0,copy:function(t){return Ea.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),(0,f.default)(El.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera&&(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld))},intersectObject:function(t,e,i){var r=i||[];return Dl(t,this,r,e),r.sort(Il),r},intersectObjects:function(t,e,i){var r=i||[];if(!1===Array.isArray(t))return r;for(var n=0,a=t.length;n<a;n++)Dl(t[n],this,r,e);return r.sort(Il),r}}),(0,f.default)(Bl.prototype,{set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Re.clamp(e/this.radius,-1,1))),this}}),(0,f.default)(Ol.prototype,{set:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}}),(0,f.default)(zl.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Fe;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(t=new Fe),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new Fe),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(e=new Fe),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(e=new Fe),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Fe;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(Nl.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(t=new ke),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(t=new ke),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(e=new ke),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(vl=new ke,gl=new ke,function(t,e){vl.subVectors(t,this.start),gl.subVectors(this.end,this.start);var i=gl.dot(gl),r=gl.dot(vl)/i;return e&&(r=Re.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,i){var r=this.closestPointToPointParameter(t,e);return void 0===i&&(i=new ke),this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Rl.prototype=(0,p.default)(Fi.prototype),Rl.prototype.constructor=Rl,Rl.prototype.isImmediateRenderObject=!0,Fl.prototype=(0,p.default)(ka.prototype),Fl.prototype.constructor=Fl,Fl.prototype.update=function(){var t=new ke,e=new ke,i=new Ge;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,u=o.faces,l=0,h=0,c=u.length;h<c;h++)for(var p=u[h],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[r[d]]],v=p.vertexNormals[d];t.copy(m).applyMatrix4(n),e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(l=0,d=0,f=g.count;d<f;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(n),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}a.needsUpdate=!0}}(),Ul.prototype=(0,p.default)(Fi.prototype),Ul.prototype.constructor=Ul,Ul.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Ul.prototype.update=function(){var t=new ke;return function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,i=e*Math.tan(this.light.angle);this.cone.scale.set(i,i,e),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Gl.prototype=(0,p.default)(ka.prototype),Gl.prototype.constructor=Gl,Gl.prototype.updateMatrixWorld=function(){var t=new ke,e=new fi,i=new fi;return function(r){var n=this.bones,a=this.geometry,o=a.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<n.length;s++){var l=n[s];l.parent&&l.parent.isBone&&(e.multiplyMatrices(i,l.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u,t.x,t.y,t.z),e.multiplyMatrices(i,l.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u+1,t.x,t.y,t.z),u+=2)}a.getAttribute("position").needsUpdate=!0,Fi.prototype.updateMatrixWorld.call(this,r)}}(),Vl.prototype=(0,p.default)(Lr.prototype),Vl.prototype.constructor=Vl,Vl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Vl.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Wl.prototype=(0,p.default)(Ua.prototype),Wl.prototype.constructor=Wl,Wl.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},Wl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},Hl.prototype=(0,p.default)(Fi.prototype),Hl.prototype.constructor=Hl,Hl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Hl.prototype.update=function(){var t=new ke,e=new Mi,i=new Mi;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var n=r.geometry.getAttribute("color");e.copy(this.light.color),i.copy(this.light.groundColor);for(var a=0,o=n.count;a<o;a++){var s=a<o/2?e:i;n.setXYZ(a,s.r,s.g,s.b)}n.needsUpdate=!0}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),jl.prototype=(0,p.default)(Lr.prototype),jl.prototype.constructor=jl,jl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},jl.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},Xl.prototype=(0,f.default)((0,p.default)(ka.prototype),{constructor:Xl,copy:function(t){return ka.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),ql.prototype=(0,p.default)(ka.prototype),ql.prototype.constructor=ql,Yl.prototype=(0,p.default)(Ua.prototype),Yl.prototype.constructor=Yl,Yl.prototype.update=function(){var t,e,i=this.audio,r=this.range,n=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=Re.degToRad(i.panner.coneInnerAngle),s=Re.degToRad(i.panner.coneOuterAngle),u=o/2,l=s/2,h=0,c=0,p=this.geometry,d=p.attributes.position;function f(i,n,a,o){var s=(n-i)/a;for(d.setXYZ(h,0,0,0),c++,t=i;t<n;t+=s)e=h+c,d.setXYZ(e,Math.sin(t)*r,0,Math.cos(t)*r),d.setXYZ(e+1,Math.sin(Math.min(t+s,n))*r,0,Math.cos(Math.min(t+s,n))*r),d.setXYZ(e+2,0,0,0),c+=3;p.addGroup(h,c,o),h+=c,c=0}p.clearGroups(),f(-l,-u,a,0),f(-u,u,n,1),f(u,l,a,0),d.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},Yl.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},Jl.prototype=(0,p.default)(ka.prototype),Jl.prototype.constructor=Jl,Jl.prototype.update=function(){var t=new ke,e=new ke,i=new Ge;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,n=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,u=0,l=0,h=s.length;l<h;l++){var c=s[l],p=c.normal;t.copy(o[c.a]).add(o[c.b]).add(o[c.c]).divideScalar(3).applyMatrix4(r),e.copy(p).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),n.setXYZ(u,t.x,t.y,t.z),u+=1,n.setXYZ(u,e.x,e.y,e.z),u+=1}n.needsUpdate=!0}}(),Zl.prototype=(0,p.default)(Fi.prototype),Zl.prototype.constructor=Zl,Zl.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Zl.prototype.update=function(){var t=new ke,e=new ke,i=new ke;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t),this.lightPlane.lookAt(e),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(e),this.targetLine.scale.z=i.length()}}(),Ql.prototype=(0,p.default)(ka.prototype),Ql.prototype.constructor=Ql,Ql.prototype.update=function(){var t,e,i=new ke,r=new pa;function n(n,a,o,s){i.set(a,o,s).unproject(r);var u=e[n];if(void 0!==u)for(var l=t.getAttribute("position"),h=0,c=u.length;h<c;h++)l.setXYZ(u[h],i.x,i.y,i.z)}return function(){t=this.geometry,e=this.pointMap,r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),n("c",0,0,-1),n("t",0,0,1),n("n1",-1,-1,-1),n("n2",1,-1,-1),n("n3",-1,1,-1),n("n4",1,1,-1),n("f1",-1,-1,1),n("f2",1,-1,1),n("f3",-1,1,1),n("f4",1,1,1),n("u1",.7,1.1,-1),n("u2",-.7,1.1,-1),n("u3",0,2,-1),n("cf1",-1,0,1),n("cf2",1,0,1),n("cf3",0,-1,1),n("cf4",0,1,1),n("cn1",-1,0,-1),n("cn2",1,0,-1),n("cn3",0,-1,-1),n("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Kl.prototype=(0,p.default)(ka.prototype),Kl.prototype.constructor=Kl,Kl.prototype.update=function(){var t=new hi;return function(e){if(void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var i=t.min,r=t.max,n=this.geometry.attributes.position,a=n.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=i.x,a[4]=r.y,a[5]=r.z,a[6]=i.x,a[7]=i.y,a[8]=r.z,a[9]=r.x,a[10]=i.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=i.z,a[15]=i.x,a[16]=r.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=r.x,a[22]=i.y,a[23]=i.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Kl.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Kl.prototype.copy=function(t){return ka.prototype.copy.call(this,t),this.object=t.object,this},Kl.prototype.clone=function(){return(new this.constructor).copy(this)},$l.prototype=(0,p.default)(ka.prototype),$l.prototype.constructor=$l,$l.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Fi.prototype.updateMatrixWorld.call(this,t))},th.prototype=(0,p.default)(Ua.prototype),th.prototype.constructor=th,th.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?M:_,this.lookAt(this.plane.normal),Fi.prototype.updateMatrixWorld.call(this,t)},eh.prototype=(0,p.default)(Fi.prototype),eh.prototype.constructor=eh,eh.prototype.setDirection=(wl=new ke,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(wl.set(t.z,0,-t.x).normalize(),bl=Math.acos(t.y),this.quaternion.setFromAxisAngle(wl,bl))}),eh.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},eh.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},eh.prototype.copy=function(t){return Fi.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},eh.prototype.clone=function(){return(new this.constructor).copy(this)},ih.prototype=(0,p.default)(ka.prototype),ih.prototype.constructor=ih,js.create=function(t,e){return t.prototype=(0,p.default)(js.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},(0,f.default)(cu.prototype,{createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Vi,i=0,r=t.length;i<r;i++){var n=t[i];e.vertices.push(new ke(n.x,n.y,n.z||0))}return e}}),(0,f.default)(pu.prototype,{fromPoints:function(t){this.setFromPoints(t)}}),rh.prototype=(0,p.default)($s.prototype),nh.prototype=(0,p.default)($s.prototype),ah.prototype=(0,p.default)($s.prototype),(0,f.default)(ah.prototype,{initFromArray:function(){},getControlPointsArray:function(){},reparametrizeByArcLength:function(){}}),Xl.prototype.setColors=function(){},Gl.prototype.update=function(){},(0,f.default)(ju.prototype,{extractUrlBase:function(t){return Tu.extractUrlBase(t)}}),(0,f.default)(Iu.prototype,{setTexturePath:function(t){return this.setResourcePath(t)}}),(0,f.default)(zl.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},size:function(t){return this.getSize(t)}}),(0,f.default)(hi.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)},size:function(t){return this.getSize(t)}}),Nl.prototype.center=function(t){return this.getCenter(t)},(0,f.default)(Re,{random16:function(){return Math.random()},nearestPowerOfTwo:function(t){return Re.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return Re.ceilPowerOfTwo(t)}}),(0,f.default)(Ge.prototype,{flattenToArrayOffset:function(t,e){return this.toArray(t,e)},multiplyVector3:function(t){return t.applyMatrix3(this)},multiplyVector3Array:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){}}),(0,f.default)(fi.prototype,{extractPosition:function(t){return this.copyPosition(t)},flattenToArrayOffset:function(t,e){return this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new ke),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return this.makeRotationFromQuaternion(t)},multiplyToArray:function(){},multiplyVector3:function(t){return t.applyMatrix4(this)},multiplyVector4:function(t){return t.applyMatrix4(this)},multiplyVector3Array:function(){},rotateAxis:function(t){t.transformDirection(this)},crossVector:function(t){return t.applyMatrix4(this)},translate:function(){},rotateX:function(){},rotateY:function(){},rotateZ:function(){},rotateByAxis:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){},makeFrustum:function(t,e,i,r,n,a){return this.makePerspective(t,e,r,i,n,a)}}),pi.prototype.isIntersectionLine=function(t){return this.intersectsLine(t)},Ue.prototype.multiplyVector3=function(t){return t.applyQuaternion(this)},(0,f.default)(Sr.prototype,{isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionPlane:function(t){return this.intersectsPlane(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)}}),(0,f.default)(Ar.prototype,{area:function(){return this.getArea()},barycoordFromPoint:function(t,e){return this.getBarycoord(t,e)},midpoint:function(t){return this.getMidpoint(t)},normal:function(t){return this.getNormal(t)},plane:function(t){return this.getPlane(t)}}),(0,f.default)(Ar,{barycoordFromPoint:function(t,e,i,r,n){return Ar.getBarycoord(t,e,i,r,n)},normal:function(t,e,i,r){return Ar.getNormal(t,e,i,r)}}),(0,f.default)(du.prototype,{extractAllPoints:function(t){return this.extractPoints(t)},extrude:function(t){return new Uo(this,t)},makeGeometry:function(t){return new Qo(this,t)}}),(0,f.default)(Fe.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(ke.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(t){return this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return this.setFromMatrixColumn(e,t)},applyProjection:function(t){return this.applyMatrix4(t)},fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(ai.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(Vi.prototype,{computeTangents:function(){},computeLineDistances:function(){}}),(0,f.default)(Fi.prototype,{getChildByName:function(t){return this.getObjectByName(t)},renderDepth:function(){},translate:function(t,e){return this.translateOnAxis(e,t)},getWorldRotation:function(){}}),(0,d.default)(Fi.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(t){this.rotation.order=t}},useQuaternion:{get:function(){},set:function(){}}}),(0,d.default)(Oa.prototype,{objects:{get:function(){return this.levels}}}),Object.defineProperty(Na.prototype,"useVertexTexture",{get:function(){},set:function(){}}),za.prototype.initBones=function(){},Object.defineProperty(js.prototype,"__arcLengthDivisions",{get:function(){return this.arcLengthDivisions},set:function(t){this.arcLengthDivisions=t}}),da.prototype.setLens=function(t,e){void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},(0,d.default)(fu.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(t){this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(t){this.shadow.bias=t}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(t){this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){this.shadow.mapSize.height=t}}}),(0,d.default)(Wi.prototype,{length:{get:function(){return this.array.length}},copyIndicesArray:function(){}}),(0,f.default)(ir.prototype,{addIndex:function(t){this.setIndex(t)},addDrawCall:function(t,e,i){this.addGroup(t,e)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){}}),(0,d.default)(ir.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),(0,f.default)(ko.prototype,{getArrays:function(){},addShapeList:function(){},addShape:function(){}}),(0,d.default)(Pl.prototype,{dynamic:{set:function(){}},onUpdate:{value:function(){return this}}}),(0,d.default)(ur.prototype,{wrapAround:{get:function(){},set:function(){}},overdraw:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new Mi}},shading:{get:function(){this.type},set:function(t){this.type,this.flatShading=1===t}}}),(0,d.default)(ps.prototype,{metal:{get:function(){return!1},set:function(){}}}),(0,d.default)(Mr.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(t){this.extensions.derivatives=t}}}),(0,f.default)(Ta.prototype,{clearTarget:function(t,e,i,r){this.setRenderTarget(t),this.clear(e,i,r)},animate:function(t){this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return this.getRenderTarget()},getMaxAnisotropy:function(){return this.capabilities.getMaxAnisotropy()},getPrecision:function(){return this.capabilities.precision},resetGLState:function(){return this.state.reset()},supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){this.setScissorTest(t)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){},setFaceCulling:function(){},allocTextureUnit:function(){},setTexture:function(){},setTexture2D:function(){},setTextureCube:function(){}}),(0,d.default)(Ta.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){this.shadowMap.type=t}},shadowMapCullFace:{get:function(){},set:function(){}}}),(0,d.default)(sa.prototype,{cullFace:{get:function(){},set:function(){}},renderReverseSided:{get:function(){},set:function(){}},renderSingleSided:{get:function(){},set:function(){}}}),(0,d.default)(ui.prototype,{activeCubeFace:{set:function(){}},activeMipMapLevel:{set:function(){}}}),(0,d.default)(oi.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(t){this.texture.wrapS=t}},wrapT:{get:function(){return this.texture.wrapT},set:function(t){this.texture.wrapT=t}},magFilter:{get:function(){return this.texture.magFilter},set:function(t){this.texture.magFilter=t}},minFilter:{get:function(){return this.texture.minFilter},set:function(t){this.texture.minFilter=t}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(t){this.texture.anisotropy=t}},offset:{get:function(){return this.texture.offset},set:function(t){this.texture.offset=t}},repeat:{get:function(){return this.texture.repeat},set:function(t){this.texture.repeat=t}},format:{get:function(){return this.texture.format},set:function(t){this.texture.format=t}},type:{get:function(){return this.texture.type},set:function(t){this.texture.type=t}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(t){this.texture.generateMipmaps=t}}}),(0,d.default)(Sa.prototype,{standing:{set:function(){}},userHeight:{set:function(){}}}),rl.prototype.load=function(t){var e=this;return(new qu).load(t,(function(t){e.setBuffer(t)})),this},al.prototype.getData=function(){return this.getFrequencyData()},tl.prototype.updateCubeMap=function(t,e){return this.update(t,e)};var oh={merge:function(t,e,i){var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,i)},center:function(t){return t.center()}};ii.crossOrigin=void 0,ii.loadTexture=function(t,e,i,r){var n=new Hs;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},ii.loadTextureCube=function(t,e,i,r){var n=new Ws;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},ii.loadCompressedTexture=function(){},ii.loadCompressedTextureCube=function(){};var sh={createMultiMaterialObject:function(){},detach:function(){},attach:function(){}};t.ACESFilmicToneMapping=ct,t.AddEquation=B,t.AddOperation=at,t.AdditiveBlending=C,t.AlphaFormat=Gt,t.AlwaysDepth=Z,t.AmbientLight=Mu,t.AmbientLightProbe=Qu,t.AnimationClip=Ds,t.AnimationLoader=Us,t.AnimationMixer=Ll,t.AnimationObjectGroup=Al,t.AnimationUtils=xs,t.ArcCurve=qs,t.ArrayCamera=fa,t.ArrowHelper=eh,t.Audio=rl,t.AudioAnalyser=al,t.AudioContext=Xu,t.AudioListener=il,t.AudioLoader=qu,t.AxesHelper=ih,t.AxisHelper=function(t){return new ih(t)},t.BackSide=M,t.BasicDepthPacking=Be,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return new Gs(t)},t.Bone=Ra,t.BooleanKeyframeTrack=As,t.BoundingBoxHelper=function(t,e){return new Kl(t,e)},t.Box2=zl,t.Box3=hi,t.Box3Helper=$l,t.BoxBufferGeometry=nr,t.BoxGeometry=rr,t.BoxHelper=Kl,t.BufferAttribute=Wi,t.BufferGeometry=ir,t.BufferGeometryLoader=Cu,t.ByteType=Et,t.Cache=Os,t.Camera=pa,t.CameraHelper=Ql,t.CanvasRenderer=function(){},t.CanvasTexture=Xa,t.CatmullRomCurve3=$s,t.CineonToneMapping=ht,t.CircleBufferGeometry=os,t.CircleGeometry=as,t.ClampToEdgeWrapping=wt,t.Clock=el,t.ClosedSplineCurve3=rh,t.Color=Mi,t.ColorKeyframeTrack=Ts,t.CompressedTexture=ja,t.CompressedTextureLoader=ks,t.ConeBufferGeometry=ns,t.ConeGeometry=rs,t.CubeCamera=tl,t.CubeGeometry=rr,t.CubeReflectionMapping=dt,t.CubeRefractionMapping=ft,t.CubeTexture=Ur,t.CubeTextureLoader=Ws,t.CubeUVReflectionMapping=yt,t.CubeUVRefractionMapping=xt,t.CubicBezierCurve=ru,t.CubicBezierCurve3=nu,t.CubicInterpolant=ws,t.CullFaceBack=o,t.CullFaceFront=x,t.CullFaceFrontBack=3,t.CullFaceNone=a,t.Curve=js,t.CurvePath=cu,t.CustomBlending=D,t.CylinderBufferGeometry=is,t.CylinderGeometry=es,t.Cylindrical=Ol,t.DataTexture=li,t.DataTexture2DArray=kr,t.DataTexture3D=Gr,t.DataTextureLoader=Gs,t.DefaultLoadingManager=Ns,t.DepthFormat=qt,t.DepthStencilFormat=Yt,t.DepthTexture=qa,t.DirectionalLight=_u,t.DirectionalLightHelper=Zl,t.DirectionalLightShadow=wu,t.DiscreteInterpolant=Ms,t.DodecahedronBufferGeometry=oo,t.DodecahedronGeometry=ao,t.DoubleSide=S,t.DstAlphaFactor=H,t.DstColorFactor=X,t.DynamicBufferAttribute=function(t,e){return new Wi(t,e).setDynamic(!0)},t.EdgesGeometry=ts,t.EdgesHelper=function(t,e){return new ka(new ts(t.geometry),new Fa({color:void 0!==e?e:16777215}))},t.EllipseCurve=Xs,t.EqualDepth=$,t.EquirectangularReflectionMapping=mt,t.EquirectangularRefractionMapping=vt,t.Euler=Ei,t.EventDispatcher=e,t.ExtrudeBufferGeometry=ko,t.ExtrudeGeometry=Uo,t.Face3=Ci,t.Face4=function(t,e,i,r,n,a,o){return new Ci(t,e,i,n,a,o)},t.FaceColors=1,t.FaceNormalsHelper=Jl,t.FileLoader=Fs,t.FlatShading=1,t.Float32Attribute=function(t,e){return new Qi(t,e)},t.Float32BufferAttribute=Qi,t.Float64Attribute=function(t,e){return new Ki(t,e)},t.Float64BufferAttribute=Ki,t.FloatType=zt,t.Fog=Pa,t.FogExp2=La,t.Font=Vu,t.FontLoader=Hu,t.FrontFaceDirectionCCW=1,t.FrontFaceDirectionCW=0,t.FrontSide=_,t.Frustum=di,t.GammaEncoding=Pe,t.Geometry=Vi,t.GeometryUtils=oh,t.GreaterDepth=et,t.GreaterEqualDepth=tt,t.GridHelper=Xl,t.Group=ca,t.HalfFloatType=Nt,t.HemisphereLight=mu,t.HemisphereLightHelper=Hl,t.HemisphereLightProbe=Zu,t.IcosahedronBufferGeometry=no,t.IcosahedronGeometry=ro,t.ImageBitmapLoader=ku,t.ImageLoader=Vs,t.ImageUtils=ii,t.ImmediateRenderObject=Rl,t.InstancedBufferAttribute=Pu,t.InstancedBufferGeometry=Lu,t.InstancedInterleavedBuffer=Cl,t.Int16Attribute=function(t,e){return new qi(t,e)},t.Int16BufferAttribute=qi,t.Int32Attribute=function(t,e){return new Ji(t,e)},t.Int32BufferAttribute=Ji,t.Int8Attribute=function(t,e){return new Hi(t,e)},t.Int8BufferAttribute=Hi,t.IntType=Bt,t.InterleavedBuffer=Ea,t.InterleavedBufferAttribute=Ia,t.Interpolant=bs,t.InterpolateDiscrete=xe,t.InterpolateLinear=be,t.InterpolateSmooth=we,t.JSONLoader=function(){},t.KeyframeTrack=Ss,t.LOD=Oa,t.LatheBufferGeometry=Zo,t.LatheGeometry=Jo,t.Layers=Ii,t.LensFlare=function(){},t.LessDepth=Q,t.LessEqualDepth=K,t.Light=fu,t.LightProbe=Ju,t.LightProbeHelper=jl,t.LightShadow=vu,t.Line=Ua,t.Line3=Nl,t.LineBasicMaterial=Fa,t.LineCurve=au,t.LineCurve3=ou,t.LineDashedMaterial=gs,t.LineLoop=Ga,t.LinePieces=1,t.LineSegments=ka,t.LineStrip=0,t.LinearEncoding=Te,t.LinearFilter=Tt,t.LinearInterpolant=_s,t.LinearMipMapLinearFilter=Pt,t.LinearMipMapNearestFilter=Lt,t.LinearToneMapping=st,t.Loader=ju,t.LoaderUtils=Tu,t.LoadingManager=zs,t.LogLuvEncoding=3003,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=jt,t.LuminanceFormat=Ht,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.Material=ur,t.MaterialLoader=Au,t.Math=Re,t.Matrix3=Ge,t.Matrix4=fi,t.MaxEquation=R,t.Mesh=Lr,t.MeshBasicMaterial=Tr,t.MeshDepthMaterial=aa,t.MeshDistanceMaterial=oa,t.MeshFaceMaterial=function(t){return t},t.MeshLambertMaterial=ms,t.MeshMatcapMaterial=vs,t.MeshNormalMaterial=fs,t.MeshPhongMaterial=ps,t.MeshPhysicalMaterial=cs,t.MeshStandardMaterial=hs,t.MeshToonMaterial=ds,t.MinEquation=N,t.MirroredRepeatWrapping=_t,t.MixOperation=nt,t.MultiMaterial=function(t){return void 0===t&&(t=[]),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.MultiplyBlending=I,t.MultiplyOperation=rt,t.NearestFilter=Mt,t.NearestMipMapLinearFilter=At,t.NearestMipMapNearestFilter=St,t.NeverDepth=J,t.NoBlending=L,t.NoColors=A,t.NoToneMapping=ot,t.NormalBlending=P,t.NotEqualDepth=it,t.NumberKeyframeTrack=Ls,t.Object3D=Fi,t.ObjectLoader=Iu,t.ObjectSpaceNormalMap=Ne,t.OctahedronBufferGeometry=io,t.OctahedronGeometry=eo,t.OneFactor=U,t.OneMinusDstAlphaFactor=j,t.OneMinusDstColorFactor=q,t.OneMinusSrcAlphaFactor=W,t.OneMinusSrcColorFactor=G,t.OrthographicCamera=bu,t.PCFShadowMap=b,t.PCFSoftShadowMap=w,t.ParametricBufferGeometry=Za,t.ParametricGeometry=Ja,t.Particle=function(t){return new Ba(t)},t.ParticleBasicMaterial=function(t){return new Va(t)},t.ParticleSystem=function(t,e){return new Wa(t,e)},t.ParticleSystemMaterial=function(t){return new Va(t)},t.Path=pu,t.PerspectiveCamera=da,t.Plane=pi,t.PlaneBufferGeometry=or,t.PlaneGeometry=ar,t.PlaneHelper=th,t.PointCloud=function(t,e){return new Wa(t,e)},t.PointCloudMaterial=function(t){return new Va(t)},t.PointLight=xu,t.PointLightHelper=Vl,t.Points=Wa,t.PointsMaterial=Va,t.PolarGridHelper=ql,t.PolyhedronBufferGeometry=Ka,t.PolyhedronGeometry=Qa,t.PositionalAudio=nl,t.PositionalAudioHelper=Yl,t.PropertyBinding=Sl,t.PropertyMixer=ol,t.QuadraticBezierCurve=su,t.QuadraticBezierCurve3=uu,t.Quaternion=Ue,t.QuaternionKeyframeTrack=Cs,t.QuaternionLinearInterpolant=Ps,t.REVISION="105",t.RGBADepthPacking=Oe,t.RGBAFormat=Wt,t.RGBA_ASTC_10x10_Format=ve,t.RGBA_ASTC_10x5_Format=de,t.RGBA_ASTC_10x6_Format=fe,t.RGBA_ASTC_10x8_Format=me,t.RGBA_ASTC_12x10_Format=ge,t.RGBA_ASTC_12x12_Format=ye,t.RGBA_ASTC_4x4_Format=ae,t.RGBA_ASTC_5x4_Format=oe,t.RGBA_ASTC_5x5_Format=se,t.RGBA_ASTC_6x5_Format=ue,t.RGBA_ASTC_6x6_Format=le,t.RGBA_ASTC_8x5_Format=he,t.RGBA_ASTC_8x6_Format=ce,t.RGBA_ASTC_8x8_Format=pe,t.RGBA_PVRTC_2BPPV1_Format=re,t.RGBA_PVRTC_4BPPV1_Format=ie,t.RGBA_S3TC_DXT1_Format=Qt,t.RGBA_S3TC_DXT3_Format=Kt,t.RGBA_S3TC_DXT5_Format=$t,t.RGBDEncoding=De,t.RGBEEncoding=Ce,t.RGBEFormat=Xt,t.RGBFormat=Vt,t.RGBM16Encoding=Ie,t.RGBM7Encoding=Ee,t.RGB_ETC1_Format=ne,t.RGB_PVRTC_2BPPV1_Format=ee,t.RGB_PVRTC_4BPPV1_Format=te,t.RGB_S3TC_DXT1_Format=Zt,t.RawShaderMaterial=ls,t.Ray=Sr,t.Raycaster=El,t.RectAreaLight=Su,t.RectAreaLightHelper=Wl,t.RedFormat=Jt,t.ReinhardToneMapping=ut,t.RepeatWrapping=bt,t.ReverseSubtractEquation=z,t.RingBufferGeometry=Yo,t.RingGeometry=qo,t.Scene=Ca,t.SceneUtils=sh,t.ShaderChunk=mi,t.ShaderLib=Ti,t.ShaderMaterial=Mr,t.ShadowMaterial=us,t.Shape=du,t.ShapeBufferGeometry=Ko,t.ShapeGeometry=Qo,t.ShapePath=Gu,t.ShapeUtils=No,t.ShortType=It,t.Skeleton=Na,t.SkeletonHelper=Gl,t.SkinnedMesh=za,t.SmoothShading=2,t.Sphere=ci,t.SphereBufferGeometry=Xo,t.SphereGeometry=jo,t.Spherical=Bl,t.SphericalHarmonics3=Yu,t.SphericalReflectionMapping=gt,t.Spline=ah,t.SplineCurve=lu,t.SplineCurve3=nh,t.SpotLight=yu,t.SpotLightHelper=Ul,t.SpotLightShadow=gu,t.Sprite=Ba,t.SpriteMaterial=Da,t.SrcAlphaFactor=V,t.SrcAlphaSaturateFactor=Y,t.SrcColorFactor=k,t.StereoCamera=Ku,t.StringKeyframeTrack=Es,t.SubtractEquation=O,t.SubtractiveBlending=E,t.TangentSpaceNormalMap=ze,t.TetrahedronBufferGeometry=to,t.TetrahedronGeometry=$a,t.TextBufferGeometry=Ho,t.TextGeometry=Wo,t.Texture=ni,t.TextureLoader=Hs,t.TorusBufferGeometry=po,t.TorusGeometry=co,t.TorusKnotBufferGeometry=ho,t.TorusKnotGeometry=lo,t.Triangle=Ar,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=Ae,t.TubeBufferGeometry=uo,t.TubeGeometry=so,t.UVMapping=pt,t.Uint16Attribute=function(t,e){return new Yi(t,e)},t.Uint16BufferAttribute=Yi,t.Uint32Attribute=function(t,e){return new Zi(t,e)},t.Uint32BufferAttribute=Zi,t.Uint8Attribute=function(t,e){return new ji(t,e)},t.Uint8BufferAttribute=ji,t.Uint8ClampedAttribute=function(t,e){return new Xi(t,e)},t.Uint8ClampedBufferAttribute=Xi,t.Uncharted2ToneMapping=lt,t.Uniform=Pl,t.UniformsLib=Ai,t.UniformsUtils=wi,t.UnsignedByteType=Ct,t.UnsignedInt248Type=kt,t.UnsignedIntType=Ot,t.UnsignedShort4444Type=Rt,t.UnsignedShort5551Type=Ft,t.UnsignedShort565Type=Ut,t.UnsignedShortType=Dt,t.Vector2=Fe,t.Vector3=ke,t.Vector4=ai,t.VectorKeyframeTrack=Is,t.Vertex=function(t,e,i){return new ke(t,e,i)},t.VertexColors=T,t.VertexNormalsHelper=Fl,t.VideoTexture=Ha,t.WebGLMultisampleRenderTarget=si,t.WebGLRenderTarget=oi,t.WebGLRenderTargetCube=ui,t.WebGLRenderer=Ta,t.WebGLUtils=ha,t.WireframeGeometry=Ya,t.WireframeHelper=function(t,e){return new ka(new Ya(t.geometry),new Fa({color:void 0!==e?e:16777215}))},t.WrapAroundEnding=Se,t.XHRLoader=function(t){return new Fs(t)},t.ZeroCurvatureEnding=_e,t.ZeroFactor=F,t.ZeroSlopeEnding=Me,t.sRGBEncoding=Le,Object.defineProperty(t,"__esModule",{value:!0})},"object"===(0,y.default)(e)&&void 0!==t?o(e):(n=[e],void 0===(a="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=a))}}]);
!function(e){function r(r){for(var n,l,i=r[0],f=r[1],a=r[2],c=0,s=[];c<i.length;c++)l=i[c],o[l]&&s.push(o[l][0]),o[l]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(p&&p(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,i=1;i<t.length;i++){var f=t[i];0!==o[f]&&(n=!1)}n&&(u.splice(r--,1),e=l(l.s=t[0]))}return e}var n={},o={3:0},u=[];function l(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,r){if(1&r&&(e=l(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)l.d(t,n,function(r){return e[r]}.bind(null,n));return t},l.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="/dist/";var i=window.ESJsonpModules=window.ESJsonpModules||[],f=i.push.bind(i);i.push=r,i=i.slice();for(var a=0;a<i.length;a++)r(i[a]);var p=f;u.push([166,1,0]),t()}([]);
var _0x2b7f=["floorLoaded","naviData","delayLoadQueue","buildingMergeModel3D","mergeModel3D","setDRACOLoader","handleBims","addBimModel","addToQueue","preHandleModel","isunmerge","onZoomEnd","SkeletonUtils","wallmodel_prefetch","$basic","modelPrefetchFailed","setMatAlpha","loadDelayModel","classifyByfNum","sources","queues","queuesOther","bimNewQues","pages","loadedCount","tanks","bimSetData","mergeMode","controlstate","bimLayerNot find","bins","handleTanks","onQueueMerged","checkComplete","onGetBimInfo","IDBUpdateItem","IDBAddItem","bim加载完成，耗时","bimLoadedAll","getBimSetFromIDB","bimSets","collections","clearStores","bimDatas","ESBIM IDB初始化失败","fetchBimSet","bimset not exist!","dispatchBimPageByControlIndex","filetime","clearCache","openCursor","replaceExtraSlashes","-bim","getDesFromNlist","infos","cates","bimInfo不存在:","bimid","onQueueUnMerged","allDataMap","模型数据为空","IDBUpgrade","createObjectStore","page","myIndex","printDataSize","error in ","Why didn't you allow my web app to use IndexedDB?!","--------- "," -------------"," - ","\t: ","printIndexDBSizes","databases","timeEnd","modelImageGeos","dynamicShowsModel","excludes","scaleRateChanged","normals","EXTENT_EPSILON_Y","pointGeometrys","errorIds","tubes","normalizeUvs","mergeExcludes","geos","tubeData","tube","modelimagelayer","modelImageMeshs","bimModelDatas","bimModelData","modelTexturesData","model3DData","MODELTEXTURE_ERR","roomTexturePool","convertBimData","loadImageDatas","\n                   #include <uv_pars_vertex>\n   \n                   attribute float isHideFlags;\n   \n                   varying float hideFlag;\n                   ","loadModelTextures","startIndex","_scaleLevel","setProgress","percent","splitAlpha","shaderConfigs","shaderNeedUpdate","curvature","updateColor","updateHeight","updateHeightId_","ind_","updateReapeat","minRepeatLevel","textureOffset","initUpdated","ESLineMode","CIRCLE","PLANE","ESARROW","up_","ESMapNavLineGeometry","nocenter","baseRepeatX","uvBaseLen","transparency","isSectionGray","sectionAlpha","isSectionFront","#include <clipping_planes_pars_vertex>","\n                    #include <clipping_planes_pars_vertex>\n                    attribute float texOffset;\n    \n                    varying vec2 nvUv;\n                    ","\n                    #include <uv_vertex>\n                    nvUv = vec2(uv.x + texOffset, uv.y);\n                    ","uniform vec3 diffuse;","\n                    uniform vec3 diffuse;\n                    uniform float passPercent;\n                    uniform bool isSectionAlpha;\n                    uniform bool isSectionGray;\n                    uniform float sectionAlpha;\n                    uniform float isSectionFront;\n                    varying vec2 nvUv;\n    \n                    vec3 changePassColor(vec3 originColor, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            vec3 c = vec3(29.9, 58.7, 11.4);\n                            c /= 80.0;\n                            return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                        }else{\n                            return originColor;\n                        }\n                    }\n    \n                    float changeProgressAlpha(float oa, float ta, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            return mix(oa, ta, isSectionFront);\n                        }else{\n                            return mix(ta, oa, isSectionFront);\n                        }\n                    }\n    \n                    ","_updateMaterialByNaviMap","doubleSide","_visibleFloorNumsChanged","线标注所属建筑不存在，bid:","baseFloorHeight","transparentLine","DOT_DASH","CENTER","DASH","DOUBLE_DOT_DASH","ARROW","materialInfo","isFront","splitGray","pathVertices","_upVec","transparentObj","#ff0000","#4a82d2","#F4FEFB","_doColor","_drawNormal","_drawArrow","_drawGodArrow","godColor","godEdgeColor","_setMaterialInfo","arrowHeightPercent","arrowWidthPercent","arrowPercent","godHeightPercent","godEdgePercent","#ffffff","rgba(0,0,0,0.5)","godArrowPercent","godArrowWidthPercent","godArrowXScale","perimeter","_uvs","_up_","_rings","Face3","uvsNeedUpdate","makeBasis","Geometry","_locked","toImage","toPng","createCard","onCreated","video","autoplay","videoStyle","muted","videoWidth","videoHeight","VideoTexture","不支持的文件类型","toCanvas","template","-9999px","noTransCenter","getMediaType","translateToSVGStyles","getExternalResources","convertResourceUrl","unknown","markerLineWidth","markerLineOpacity","butt","markerFill","vml","stroke-width","stroke-opacity","markerPath","markerOpacity",'<svg version="1.1"','xmlns="http://www.w3.org/2000/svg"','opacity="',"markerPathWidth","markerPathHeight",'viewBox="0 0 ','preserveAspectRatio="none"','height="',"></path>","</svg>","btoa","resourceProperties","url(","extractCssUrl","resourceSizeProperties","markerWidth","markerHeight","stops","data:","isURL","GUID","cancelAnimFrame","requestAnimFrame","loadImage","UID","parseJSON","pushIn","mapArrayRecursively","sign","isArrayHasData","isCssUrl","computeDegree","equalMapView","requestAnimationFrame","RequestAnimationFrame","cancelAnimationFrame","CancelAnimationFrame","CancelRequestAnimationFrame","data:image/svg+xml","http:/","https:","file:/","exec","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","emptyImageUrl","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=","_flashTimeout","slider","viewsSettings","views","layout-","horizontal","rgba(0,0,0,0.4)","createSlider","vertical","rgba(0,0,0,0.0)","layout","view1","_originCamera","rect","1000","rgba(255,255,255,0.5)","ew-resize","drag","60px","50%","isPrimary","pointerup","setViewport","setScissor","setScissorTest","WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.","WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.","ctrlKey","metaKey","shiftKey","TOUCH_ROTATE","TOUCH_DOLLY_PAN","OrbitControls","EventDispatcher","THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.","THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.","THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.","THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.","THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.","THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.","canFall","jumpHeight","gravity","initialPosition","animateNameList","prevTime","moveByLeft","local","coronaSafetyDistance","limitAngle","damping","maxSpeed","acceleration","brake","animateDamper","modelOffsetY","controltarget","toggling","prevCameraPosition","indicators","bindEvent","enableRotateAutoPan","atan2","isLookAt","code","Escape","_enableMouseMode","setTarget","controlMode","目标未加载完成","unbindEvent","isEnable","ArrowUp","KeyW","ArrowLeft","KeyA","ArrowRight","KeyD","canJump","velocity","KeyS","human","disabled","setInstance","animateMode","tween","raycast","setVehiclePitchAngle","moveControl","vehicle","adjustWeight","enableMouseMode","run","idle","rotateY","_enableRotate","adjustModelRotation","correctPose","destory","moveWithAnimation","startAllActions","setLoop","setWeight","weight","updatePosition","applyInertia","intersect","未选中目标","face","未选中地面","clearIndicator","_controlMode","lockCameraDistance","debounce","prePosition","addIndicator","clearAllIndicator","euler","controlState","eventBind","mouseMove","mouseDown","unbind","mouseUp","keyDown","mozMovementX","webkitMovementX","movementY","ArrowDown","back","KeyR","KeyF","keyUp","fixedHeight","updateViewCenter","_onPointerlockChange","_onPointerlockError","onPointerlockError","ownerDocument","pointerlockchange","pointerlockerror","isLocked","The root document of this element is not valid for pointer lock.","pointerLockElement","movementX","mozMovementY","YXZ","setFromQuaternion","Mouse0","requestPointerLock","无法使用指针锁定","preserveMatrix","preservePosition","preserveHipPosition","useTargetMatrix","hip","names","isObject3D","skeleton","bones","getBones","pose","identity","decompose","getBoneByName","getInverse","setFromMatrixScale","makeRotationFromQuaternion","copyPosition","useFirstFramePosition","fps","getHelperFromSkeleton","retarget","toArray","quat",".bones[","bone","].quaternion","uncacheAction","SkeletonHelper","getNearestBone","bindMatrix","length","hasOwnProperty","call","shift","apply","splice","exports","defineProperty","undefined","toStringTag","Module","__esModule","default","string","bind","prototype","/dist/","ESJsonpModules","push","getValue","dedupe","attributeCount","setDefaultValues","isObject","eachObject","startWith","base64ToBlob","createHash","forEach","object","function","screen","deviceXDPI","createElement","DIV","style","cssText","width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden","body","offsetWidth","offsetHeight","removeChild","test",";base64,","split","charCodeAt","random","toString","MessagePoster","post","ESMap","meshHandler","modelWorker","msg","paths","addEventListener","ESMapResolveReady","init","instance","mode","mapId","detail","map","skMode","mapMode","MapMode","City","initCityPaths","initIndoorPaths","EPATHDEBUG","ESMapResolveDone","options","gdbs","serverUrl","Base64","decode","getLicUrl","setPath","url","timestamp","getCityTilePath","remoteNotify","getRemoteNotifyUrl","query_sign","building","searchJson","getCitySearchJsonPath","buildingSearchJson","cityTheme","cityAssets","buildingThemeAsset","getCityBuildingThemeAssetPath","buildingAsset","getCityBuildingAssetsPath","buildingModel","getCityBuildingModelsPath","tileModel","getCityTileModelPath","mapDataSrc","includes","http://","https://","getIndoorMap","getIndoorThemeAssetPath","getIndoorAssetsPath","getIndoorBuildingModelsPath","getIndoorSearchJsonPath","off","isRandom",".esmap","map/mapdata!getmap.action?bids=","&token=","&t=","parse","themeID","filename","mapThemeSrc","?t=","ext","/theme/","type","isBim","startsWith","location","origin","getIndoorModelLibPath","mapService","getState","/map/mapmodel!getmodel.action?bids=","&name=",".gltf","/search.json","version","href","getTime","ESMapUtil","encode64","token","worldeditor","getSubDirByS","/eslic/lic!getlic.action?cids=","&s=","&k=","&url=","&sign=","&tid=","_dm_","/esworldmap/eslic/lic!getlic.action?cids=","&tid=99","getCityBuildingSearchJsonPath","buildingId","/buildings/","getCityBuildingPath","tid","AND","/esmapoff/mapoff/mapoffdata!getmap.action?bids=","/escopemap/map/mapdata!getmap.action?bids=","&ck=","&p=","getCityThemePath","/EsmapOffJsonData/","/EsmapJsonData/","theme/","lang","tileId","typeId","/15/","_tile","/citymap/citymapdata!getmap.action?cids=","&typeid=","&v1=","__mtn",".gltf&token=","modeltoken","/model/","/buildingModels/","/map/mapmodel!getmodel.action?cids=","_wle_","_esrm_","_dusc_","_strd_","_eco_","_dtns_","_dtgt_","_dt_","_lct_","_emv_","_emvs_","_rms_","_ztl_","_et_","_rm_","_mt_","_tk_","_lgtk_","bG9nb3Rva2Vu","dG9rZW4=","bWFwdGltZQ==","UmVtYXJr","ZG9tYWlu","bG9jYXRpb24=","SGFzaA==","ZW5kdGltZQ==","em9uVGVtcE9iag==","RGF0ZQ==","Z2V0VGltZQ==","MzI1MDM1MTQ=","MTAwMA==","MTAwMDAwMA==","ZW5jb2RlNjQ=","c3RvcFJlbmRlcg==","c2V0VGltZW91dA==","RVNSZW1hcms=","V0VMTA==","_hs_","_stot_","total","countMap","blockMap","set","blockIdNameMap","add","get","resolve","size","popArray","pop","error","delete","progress","values","fire","_progress","reset","hanlders","register","doDispose","computeModelInfo","findGroup","datas_","o3d_","children","geometry","dispose","material","pow","Mercator2lonLat","maxx","maxy","WGS84ToGCJ02","lonLat2Mercator","minx","miny","ceil","parser","json","materials","meshes","scene","traverse","attributes","position","count","_root_","parent","PRIVITES","decodeByte","gsdbt","_isemvht","_isemvlg","_isemvmn","fromCharCode","aHR0cHM6Ly93d3cuZXNtYXAuY24=","ZXN3b3JsZG1hcA==","ZXNtYXBvZmY=","ZXNjb3BlbWFw","indexOf","../","_sh","_cdom","_inst","es1","_clov","es2","_mod","DistanceofTwoPts","merge","isHTMLElement","sqrt","reduce","symbol","nodeType","distanceTo","divideScalar","#FFFFFF","TEXTURE","Vector3","opacity","iscross","bid","points","center","fnum","customMat","type_","ESNodeType","LINE","disposeTasks","PathPointList","hiddenByFloor","getBuildingById","visibleFloorNums","updateGeometry","floorHeightChanged","value","isMapRoad","roadType","mapRoadMats","clone","mapTheme","normal","MeshStandardMaterial","metalness","roughness","MeshBasicMaterial","transparent","Color","color","uniforms","maxUvVal","vertexShader","\n                        #include <clipping_planes_pars_vertex>\n                        varying vec2 nvUv;\n                        ","replace","#include <uv_vertex>","uniform float opacity;","\n                        uniform float opacity;\n                        uniform float passPercent;\n                        uniform float uvDistance;\n                        varying vec2 nvUv;\n        \n                        vec3 changePassColor(vec3 originColor, float percent)\n                        {\n                            if(nvUv.x < percent * uvDistance){\n                                vec3 c = vec3(29.9, 58.7, 11.4);\n                                c /= 80.0;\n                                return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                            }else{\n                                return originColor;\n                            }\n                        }\n                        ","fragmentShader","gl_FragColor = vec4( outgoingLight, diffuseColor.a );","\n                        outgoingLight = changePassColor(outgoingLight, passPercent);\n                        \n                        gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n                        ","lineMaterialShader","dashArray","textureLength","createTexture","repeat","offset","imgOffsetX","imgOffsetY","side","DoubleSide","matSide","lineMode","lineWidth","pathPointList","PathTubeGeometry","getSpriteScale","trueRadius","update","userData","lineWidthMeter","PathGeometry","fixedWidth","both","arrow","computeBoundingSphere","seeThrough","depthTest","blend","depthWrite","blending","AdditiveBlending","renderOrder","lineObject","onUpdate","onControlChange","_onvisibleFloorNumsChanged","bindedUpdate","_onUpdate","zoomed","visibleFloorNumsChanged","updateLineWidth","noAnimate","updateLineTextureOffset","circle","clearGroups","addGroup","plane","reverseAnimate","animateSpeed","passDistance","_colorToStr","TextureLoader","load","needsUpdate","anisotropy","minFilter","LinearMipMapLinearFilter","wrapT","RepeatWrapping","updateStyle","number","lineType","visible","controlchange","_onControlChange","clearByUUID","uuid","lastSelectLineStore","Mesh","stopJumpO3d","jumpO3d","_jumpID1","stop","initY_","_isAnimating","force","times","MAX_VALUE","delay","getValues","height","duration","time","TWEEN","Tween","easing","Easing","Quadratic","InOut","onComplete","Bounce","Out","start","callback","_jumpID2","getTileFromMec","getTileBound","worldScale","transformCoord","esmap","userCrs","TjEySDU2TS4xSDU1TQ==","TjEySDU2TS4xSDk4","TjsySDY5SDUxTi4yTTk=","TjEySDU2TS4xSDUyTQ==","TjEySDU2TS4xSDUx","WndNWnQOW24=","Wi5FX21BXS5DWA==","TjEySDU2TS4xSDYwTQ==","WXh0XXc6Sy93X3sOWndNWnQOW24=","MapError","throw","mapView","[object Object]","ERRORS","param","未知错误","div","width","100%","display","justifyContent","alignItems","backgroundColor","rgba(0,0,0,0.8)","padding","20px","boxSizing","border-box","setAttribute","mapError","innerHTML","appendChild","ESMapError","dispatchEvent","IS_NODE","[object process]","electron","Group","__proto__","MODEL3D","Evento","mapScene","Building","_props","showLevel","slice","model","model3d","glowing","movePathLoopCount","_clockMovePath","Clock","markers","_lastDirectionV","_directionVolume","_lodLevel","_lodManager","modelLod","overideCoord","isInstance","pickable","computePosition","editMode","name","isChildNode","actions","tweens","mixer","gltfModel","ESRenderOrder","model3D","child","scaleRate","scale","rotation","tempQuaternion","Quaternion","setFromEuler","Euler","ZXY","setFromAxisAngle","multiply","quaternion","copy","initMapCoord","coordThreeToMap","addTo","floor","FloorNum","bindEvents","_skipProcessChild","_getTempRotate","Object3D","Math","radToDeg","preprocessChilds","getTileById","dataID","buildingType","initedMapCoord","getWorldPosition","mapCoord","onZoomed","maxShowLevel","visibleLock","outoflevel","scaleLevel","getAnchorPosition","ANCHOR_","getObjectByName","log","ACHOR: ","removed","_bindupates","toRot","needRotateCamera","slerp","matrix","setPosition","applyMatrix4","cross","angleTo","mapPicker","istaped","needRotate","rotateAngle","_moveToID","threshold","coordMapToThree","getRouteAngle","orientToPath","lastWalkAngle","distance","abs","forward","backward","Matrix4","lookAt","makeRotationFromEuler","setFromRotationMatrix","lastRotateAction","Linear","None","_globalLayer","_checkMarker","jump","movePathing","stopJump","flash","stopFlash","updateScreenSize","originalScale","show","hide","setScale","multiplyScalar","rotateTo","debug","isHaveHelper","AxesHelper","angle","degToRad","rotateAnimate","unLockView","gestureController","enableMapPan","lockView","cameraFlyTo","followAngle","keyCode","lockViewInited","keydown","keyup","viewLocked","controls","animations","walk","playAnimation","currentCamera","modelLoadManager","enableCollide","queueRanked","viewRangeUpdated","clearTimeout","restoreAlpha","istransparent","setAlpha","alpha","clonemat","stopGlow","glowSprite","MapObjectUtils","#FF0000","fixedSize","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAABnRSTlMAAAAAAABupgeRAAAgAElEQVR42u192ZbjOrIrWL3//5Ob96HXqZvbIhGIgZTkJB9qOV2yBkoCIhADgTPOOOOMM84444wzzjjjjDPOOOOMM84444wzzjjjG0c7U3DGL3rcm/TA997PXJ3xK96IMwVnfMmj3LY+zIckzviGt+ZMwRlvel6rUb61Vg7lhxvOeM0LdabgjOc+nSG4X+oKxMD9UMIZD33FzhSc8YgH0YnamwUfZXhR/rDCGfe/d2cKzrjhsfPA90P8gA22/6GEM3a/iWcKztjxnGlw/FI/YJHtf/jgjOUv5pmCM1Y9WxY6v8UPeILtf8jgjCUv6ZmCM8oepiLE30AMhWOFyHP44IxN7+yZgjNSDxDF3yc4AZkfhnF2p/l/yOCM+Pt7puCMyHMzh9QkJbg2C2xcO/ab/+R/DxOc4X6RzxScoT4rE5x9vhOw2QN4gvl/yOAM6dU4U3CG8Yj4cT/vBPxaD6Dc/D9McAZ7d84UnDF+Mpy4H+YDeBA8gPVJeggAqP6TjPnvRfzDBGcM3o4zBWf8/6ehCPSPBxDeuFbwOWRwhvHunCk4w4XjN3oAN5aJ3VXqVeUBHCY4Y/yOnCn41bf/ApEbnICH5IZWjW0h33Xm/6GB34sAZwp+413XTPuXKkJYxgrPSfpcBPqHCX4dFJwp+F33+9/IqIs8XxMTnv02g30vivoqTHBo4BcBwpmCL7mR/wdnw7dXtO7Dm8W+V/4Xz1OEnpzmHwZ9HCb4nbhxpuAb7mICIpPKz04ySIK76+c3Zn8uAn1Ezf9DA98MHWcKXn8LW4MgaChAn1SEtslBT+gC/UDZ5zDBGW70OFPw+ls4IgDlJ9fPVV+imgz2t4H7OVbkgD5T6z808OvQ40zBu+/fD/T/CXZKJMCkAfJf61KGvMfNT+DDw7/liT0l3xwa+BIAOVPw4pv3f2jYWot5ANcP4g/JN1hs/t+r/7xC+aligkMD348hZwpefPMu5r/LCdC1o9r4AULB3hlX6Ri0NAi8P+t/p8jDcf/QwIsx5EzBK2/bv9HQGwYY/tz1Q9c3se+H/ytGvDeM5+T8PAf3DxO8D0nOFLzshs0BUXECiAcw++FO89/8CWcLJfcpMHZ2fFvtBGzA/UMDb8KTMwWvuVUTKTzjBFw5gLy9twtBs2v0Ig457iLlB88Tf1bj/qGBd6DKmYIX3CQaBeVOwPVVnDkBG4SgfBD4CRLQatDHF+H+oYGnY8uZgkffHgH6EcJx87eENvRvsKCj3MepcsR5oAS0J83/XqA/NPAahDlT8Nx7I6ftuyIBSQ/gxpAAOU8XxOyXgJ4s+i/683DAO0DmTMET74oT+uHX9EXv4e/PYx2EVjDB7SpQiQS0obFPIRMcGvhaqDlT8Kz74Yd+aGg+hHLiOoS7iq6WhkwXh6cwBcaNEtCTTf5DA98AOGcKnnInctAPpxNQVUkw/BMVDgEsCejnpX2ZBHSL7r8C3A8NPB12zhQ84jZQTFf+NHOB+HF/NpOoLQjIV4rhd0tAq52AEgSP7eRwwP3Ic6bg5hvgt/RB9R/8QHOCkuFQ8F00MOtfxMHu1RJQOfSvxvqS/zpjK/6cKbht6j3Cjr7ZXxz3egDIpQPtKQ7I14KZV/eE5s+vhv78ZmfsQ6EzBffMuwD3AYbICEFKFqmJ6UcCErcs9AM2BHX3bHY44AYgOlOwe8ar4f7jz5ieU6sC7ZSAZtjRey9sHH1L3/8nQ/+en5yxHI7OFOyb6xzEl4QByFmFA8jKGc6+gYcJhpcpYkeADJ6c/blZ8NlACUcRugeUzhRsmugFcA+5GuAqmIRrib0oX94velFLuM0JoGE/oCrDZxH0r6OEM5bg0pmC5VNcZ/gHwgBXq3nWGSKjAu2UgCCvflM+3qv+b4b7RbRxRj06nSlYOLl3QD8SwYCkCrSaBvRi4L/fbE4Drer5vE79f/vnM4ox6kxBzTzKre130kAtBwzDqpsDwnxlmLtiADcGfrElRefQwNcC15mCgkmUl1YXjffkZ28oWHEdeJvl1TUBylLGJaUAr277s0GLr6WEwwH3Y9eZgoJJtEA2H9ENb+xNB9KdhkW2f5gDYujAF0EbjvLKr23qf/nn/ZyBQwO12HWmoGASE6n34ufYBi4OWBENRmluqLcUoHZs6/u2Ie2nFrjv5YkzUth1piA7gxpc8j7+4ucAN8zSgfS+QFeQ9aJ8oSIkrgv298udQeD9/R52Gv6xDfYwzRlx+DpTkJo+v9VciPLedCCvB8DbriVBPxwK5pNsLoCjj3uTPp9p+Bf+qtwtOCOCYGcKHJPlX6tk9vNynWf2ZUAFWlcQUMIB+YUhHxgE3tDj4RZA30kzZ0Qw7UyBY7IEOAuo7Yu+NC16cm6ZgoANrsDsQgJYsDkI/E2G/3MII3ybzjgE4AMLE55upIGkCpSpI4NnMQNURIb3FwOviARs6PBT6ARk/nfRl/A32zjjX+/UmQLHZI3QMLCySi24Q1aBUMEBel+gJAfAEwRe/cKv6PzzWPRfRwOL/IPZ3B4OsDHtTIE6UwK4u2znEsSPqUAuDghXt2ElB5g9jlDUDWJPClB5fe9DaGApH5gzdgjAhrUzBdI0TdZb1zc2Ua8W8WF5ACIHBELBqznAbAp9hYMwB/wq9N/wvyv4YDZ1vfdDADaynSmQpkkw7b1aUK0HkM8FSq4sFlvLHloAQM8E5e+8yATrur89LdN/EYLX7hYC9M/M/8MBxmt7psCeI2d0NOAuIIH4tSpQvqXo8HpL8kGVdFvzhS9cE3h10e9j0T+8fQkxwKKBQwAOcDtTIOIFr/niUnWABsqhH57+oAT9P/QWXfCp1YKS7YAyZQSIJiDervw8lgYKAwA/lZ/DAfaLcKZAgQaCiaITcDv0//3gPatYNNv1X+IGsJyA8KJghfVfJegPPxlUof+jaMAL/biA/ikZM16BMwUcceBcb2sIVas9AP2Dl5kyGU3YLgRtKARbtOTL6uLe1ei/B/pjHAAtevxLQe9MwQwxdUwsEYJu5ACk/Rhs5IC7SgGU/d8u/X8Z+nPgJnmf5FoOB/zrbTpTMEMTERZd6J/3AGo5QJfaS/rcmf8FDyUopQCFo6rzzx7p/3b0XwT9hAlI7PdwwPSdPVMwREYR4K7ISJLW13kAsZ/EwgC1i18iERt4WjFwufm/Othbhf53eQAQdH+c1CCOe2cKrmgimqgESc0+cetUoKpQcCwfdKcTsNMDeL75v9nk388Tw5kRPYbDAdMX9kwBPEkv3pgq76wQo4E8GYjdgbxx4+tFbXYCnkYA95r/5fLO0/QfEuy9bvA3PfQEhP/1Kp0pQDQ6qv9QJJgVmo8YBijkgA1OwEsJoNb8X5TUvwH9l3oA1wMR8/9wwC8lADG3JJYkw+MBYvIoNARHjgOqChoyq95n/twWBthMAHsU/53onznEcMbIZkPEdx3lFyHh77pafwc0UbER4wHi2iwuKx51ElAVB2wmAEwWrSwcKwhgXbqna7MNpn3m0MMpIjo+wf3DAYPX9hddqpxj7srxh6aTeIMBIqYnucFVGKwHSLCLD17tAdTW9yYdgnIbP08Gs4k1ZZyf6C9C/6/lgN9CAHqdl4l3YoYP+a3oYSzigLwQ9DQCwPowwKMI4Eahfxv6m9Y92eZq/mcyTb97/PMbLlKMWA5RUoQkjpjmD++CfviFoEyPa6wngG8dvXe+lv1fEUxpd/qx8exXsw3M74ebXf/E/7XiUM7n506GS/38RfBre4+Pw/EPv2p8vweggIWuBelCkKIC6bvFYg7wljI8kwDeVQdAYsJPKNmtdQK8HsNwZniVLybiT0nF2SGAdxOACUYu9Fdav3GdJ9BVNPan8v0M1nkWk8tJcpEBvkUC4qCfJIDaSO+NcK+v82VGCzLq/+/kgN9LAK5lp5TIrZcDIHSSKOEAVy5QrPLZxPRDAAoBINTYcr/V/zT0H4r+5eXHXzl+RQxAAQ6RAxCqYBJzQ11gV0sMuhOghzfWEQC01cGe89S5VqrhUBi4Ul3r598rf5q6P/nzJ/j+/HMWD/g47nAmXer/L4wH/C4PgOOgiOAiUoe1IPM0UM0BYmM715Z3EcADPYCPDUQngNvL2J7Jo/yZtP29AYCPVcBiuf+/3A/4cg/A2+PBu2cTqQleQ4gEBPJ5wn8qToAuiOF4AHWDGP56/k+hmf/xZ94zgN+5GRr+M8g+fsAUx7788rQkfV3J8boCSq49ScQ0laIqYnClA7mymMwr4tubN2hPItAiDwByJ4PZTnba++FtxGOZkzbbOU/7qTL/v5IMDgEE4wFJDjCBmKBkLegj6gQkgwGLCOAuDhj+74cJaTYwyBNACQ3UAn0t+l+/JPoPirKARD/jjeObJSAly1P8oW7tNmG5dgXfXdvEvkQoEmASQGB+agngmY8flzg2qw1ctFF+Yn7pEoLI4T7qv66lZMOZJIVmAeXni7Wgr/UAXC0wRTTRu+i4VCBXH7oVoA/qqUAIA3jFNP4ZuRiA6111vduiEzCrUOU2LzF4X6TzeP9LnAdcQr4Ymf/ivBWuQHAI4GXoD48WZLoCSoboB7aa+n6GA5L0MFSBXOURZp3dniCw+IoGVCNFshieTKzP5QoCWKHwmP+lpDMN5+T685j078pB4jV6RwJ6JfqbKAYhVgm52GqIknqfOCUpKAb6Cikqkpde77aOADL6z8fRdc4gqSaZh7YQVhSFR99Gyfwx/2u4wbClzwf+fkg617maaTiuPz92e00oICdwCOAd6K/nC+otcVwcQPbA9+NtKJT8L50AIGdGLSWA2f+6kFpPItr2/sfKvjJ784L7UKCf/dd1M8VvG+5hdlO8HACtsd0XJ4N+FQGY6M9/KApBImy1+QIAmTZBMXXLxQdeFWg/AfCLInac8iR8zdtegvjmr1y4z1F1FvUl6E+28Rr+w1Lkr68D+B4CUNDfDFEOMc6LUMPjzuzrPAfowo5rs5ha9QQCuEoEmKsNMQ54Jk+sQHwO4goluE5VR3+TLVwccIV+jBpQP/wB+NUE4CUGseWDWBYLWV0hyGXCq5cwMiqQeXRX2MBFAF6uHRYuuAz/r+GAGCsEtg9QgtiSSER/3vzHywHKPeUa1CGAJ6I82YDjiyt5UcdWCBqLmRUqNpPIsEKAACB3t64lgOtBS+r4FQXADAgPQecV3CAa/i74rkJ/AsoxDvh7AvAoP9/BBN9AAHrgV3ECIPSMc3EAPFI+h2PzBEpcAaV62TzJjATkirIM2bTqzTTDgKbNCCE35gk0EDb8vVQxnLGA7q/AvRIE/nkC0KyH9kXNgl5PALriLwL6cP96Qg40P8DFAQqF5EV/aOylBJDF6dWTbl0E4H1+RHMPWr8HBTU+sG8bygfwPXnEYex3WCOdR3+lctg0/L3Q/3YOeHchmB74FcE6kOEuRlCVgHC5EJSBe1Pc52dYQgBipJ3UgpnmuReIXW97bL3DcMc3sRrLtVnVv7MZMH/Lu/0kOxGZk+ntyPS68WIPoBz9yW+9HKAArglhusZSC/0QtCDIUY3VWtBs9n5upgSERfE3nB34NAnoOecz8xJctn9ABUKd+f9eP+DFHoCoUaDaCfAK4iT5hyPsZg6YEYCejZrPBw1oQcPM2tnq4SLkKS+zy2NQut/km4DeYtrr5j9oa52h4Y+JE4CQf4OE4f+tC8i81QPQs31WOAEu1T4TEBYJICn0B6LBIgFsMP9hOQGznfAtn5AG+mUZh3rJGCbNGCBHoXHxAzBaSBI02f/nXWhaG9HXMcErCSCc7aNHa4dHjHEAga2f/6Unj8JfRVxOACQZP0wAmUSgjyBwPvNSiRB49/9lgA6t38MVwRWSiOk/edmneZoOXZ+W1zHB+wggnO2j2P4ixyT9AJcQ5Mr6N3H8RgIoDwXPTlXMvncFgWfg1UblqYWc8S6In6H5EN8JZM8mTUf/WcanSTDkiKBF5i+9vy8jgBKhH3K2foADXMa7nlQKWWqP4bu5WdvYGSJs/n9wAHlLdYg3t1GUpXbpNKmwzhOAPryrwBFBKdaL/rrsE64hMEvJns8H764DMJ0A8mfTWkGUcABoQJjHM2PxgIyxj+pIAITC4Bj6/5w0LgGJWBamgRnol0DAIhwpr1BT8v0xKpDm+nse/YeyjzmrpgRkQv+RgLbCvcsJ0OFyeBpeM1ynCpOHzDqDn8j4BAIojwQMD9r+3Q0iGQDYEwQ2gW8PE3jZIsAZvBUE7w9BzkFEf8Uq181/XIyA2f6PB7AQ/cOajwvxXTmXyGWXDuMB0JyAwMZ5AgiHgs3cLfizgJREoMDz9hd6knDcrIY2D3zpCl2E6zUq4g/oYsJiHtHQJmjWCsB6JBnvEXzeRwAKUsCp+ZgIZVruAQ4QQVYhOVBdPhwNDjAE/B4A14ICQtAwEYhkE7og/gpGfCcmYZjHap7+lKuhX9/muv3HmcfWdscom3O2w9lyY0pSgKj7z5aaGNIbThZQFe5zmCjUfCCrN/quQKX/ppUHi6QCzcsJ/1cgFKyjvznhsHyOGQYNHXYR4r3bXAFlljV4IzqYfUCV//Jq6FfgBjX8QaV/aB2nh2RjhhZml9CirUMPAcTRP+ME6Fa/uVmGAwIyURPqyFxB4zwNmNqUzhYi+iufr9IZJoE+MV2nkAZ0rIRl+1d5BiXQL/7XDPSvGPqxMS65Us3f+g3zpM/Z5IuJpISlhjs8BBBBfxcN6Fa/iPhhDtAVEkUtMWmA4KwpPSUJwDyWSLcBJjAJoOohRLQRtLK9uAf9QCvgxtU/o01a+rTcwpA6B0CI/SqiUBMqyBDi9UMAvgeuVuuH0JcNpapO7Iiz3NAwKHtpQA8IIxqjNpkgEwRWUgzF91OBqiFnmMLxcyDDuyYw2cA8eS7EYyL+wFmp4EJ/0/D/Suh/KAGY7+EMHRSr3xX2NDkAzmovIt/PtueOwvMJQEF/ZW7NW/9xOBN5hweqigO7KKcJvQceDiuuyi9oVOoS/Yk3EED/RvP9Z5ewQq87BMBeVzgT8Mv/i1MR/7mozwyRzgW1Jg0kCUBRw6pUIPNwHxyAeQkuf8yURb7E51ZcUjwJ/bUQ45V9yH/p60FinrgZ1oLC6N/mRQmcrZvcPugQgBv9RbDIp/2UcICyQ+IENFocoOfnbCMAHu1AdTXAzJFypamYj9yMD0waMAG9FdUQ7B+x4gAej53J98MjkqzQK6MEqNor9ZBdPZ8DHk0AgRSRpvV645gV4wCvHKRoQbOYMITM0Z0E0ITszMIwgEmoIliXiz+gQePrBhlX4CF5JnqoQNf9RdBXqAJaXul1wtuooExZoZ7fu0MAqWdLiRBCdgWQSKgnAVsCuDp8605Ao9WwruhxngAK04F0P2Amgs3WgCW+iLKEZKyBjPnNE/AisJ570sKdgSyiiUBEqFFkHxIP19uFNq2Z6CEAcCyI0YAuAfGcHAU9fx5FxD4zoch0AhQmIFgJwQ8wgxn5dCAR3CGrQB8HIhl+4uOXFNzDr33bmFfuUnIUZeaKmGZIHBPdHx7xpxz9vbPdtLoNVwzpNxKA+ZaWx2M5eCmbzU5AdAJEcDd5IpMRtIgAlFPKoz9oO6AWTQMlZDBUn0ljgOEGYmDgXWk/JB9f3H74vSn+gAZpXehvlnd9/Bkw/59DA88igCYXcCkwYaapBDjAzNgRhXsTUhutDiMIq1xjCQGYh2uefNCMCtTm7YDapOyoOdNAm1UNgEmyKV+ZAEI50tMgPnCSnGLFki5u/mOSUNs8+aOw1qOfXb7L/MeTFg57EAE0OVt8iO/N01JGPAeFA0QagJXvP8R3TIIB3FGA0LChkAC8YQBOALHI//VDoBuEYpeJ+T9J2VeM/e4PHriaxLniwzoHYBSSbbTTpxf9m6dzHLlxT4b+xxEAgWDz4dNdgeap7VKYADT80OTUIJMzZjv3+gFK1Ndl+4tOwOwaZxzvjQFgnggUewJ/PngBqphtrICL8qWOSrFJiEV0m9yEp1ld22Ys4kJ/MYCsoH/zlI81YeWA5Gx/FQE0T48HkTxKOMCEfp60A0vch6wFKX6AArhhAkiqQJgHqJPoD6EbxBXKm5Xsf93SXAwyo/8URn33AAo/Shj6Z3SiLDGGiYLvRf8S9m2jTiFPKw54BAE0rQGcspNyDkC0SwRoPEA5GRPQOQNBq9ctJABdBRLRH5ab1WgdgEsCerj+c/tYsXJk0vyfQT+EFFKO/l7z/7oZJi2j22WZBJwYAMECyOa/TgaLOMDE6CsmwnICIPgBmGvxZjygigC2qUC6E1BSAwy//mMqADH95wkBgCGOE0QGdbmSfMPhlXsA0Gz/GBM0q4foo8b9BMCFdYUMdNW+lgOU6CiHbMhOgIL+3gitTgDmnyIBrAsFzzigTdYeaTQxcXhKpv6DuQS0Wv9pe5OITAYaulyk4Q8sb8BM84enkJijf/M0jp4d+oPGTiGYSgPkT92CWM0BCozyyxHDrfzzjGlgtYhouXSgFq0JICpQs2r9xJvycQ7DYmDxUQwv45WRgMoxovnXmXHRj2L7Y1SJrXy4HmiW5o9RSmgTWkZzUoEz9otRKAKTMPUhgAjuN6HJz2wPpo4/wxFXFBeCEKSg/+zoQyeD4CwPZa8ggEwoGCE/YHiZ5svG48Azs324sXi4IdyYToCo/NQii57NOZzD4dzGoD9wqnrfCP1mkfsCYQWCZ447CSAv/ujUIqI/wRrIPoQoBIkgy6O7M46ZqUM6/7n+bFqhgxkKDqP/kAOuYKQsC4yJWBRLAWqe9I+HKz+znQ9DtbOJjVn9PJTatMR/yIq/rsi1UcUZrMqynbfsuQTAQVYkA1FW1hFQ54BaJ0D0A0xXAHJGkOIABQhAdAJAO0N4Q8HNKgYmuD97Jr0SUKOZJIq9ufQtW7paJGdHvuKYWPE7vAtK/GBIJ6bmg0QDCT7hj+oYehsBFOK+qbyLon/TylbFyDCngaalhzYh50f5X0QT9nU3xUsAtaHgJmeCzh45E2s+fqWg+YwzNig/hcjSKtKNzBipIvrr0E+Iqgn9gvQbETD8m9A94vsJQKEBQgb6PgMcACrFKMBqakGQWzsQxIcWEzbRGSG1B2tUIK/tT+b8WhEKQWU25aPZY2Z2/qpyAlp14VgGzfX3kXPADLI/iNmU1GaBXyU932X789OAp1D819UBBMx/BccVkmhWJg/kpCBOGLC0IF0OaqOuQZhrRKYH4IoG36IC6bY/rGJgxT4waQD+VG7FAAw4AS74EMGleeoPwmwBIdjLlR8IHsDHrvSFXJqW9Nloq4nZDCjTfgsT3EAA4divru+LGkIAB2F5A5wGZkxQ5QdwN6UkGOAlAO5UmQaBjv6zSwssDKA3diY4govxG+svtugdNLlk2EhDUcCuM8w5YBanNZlY0f1hLeeCef4ohAoyyGlFCtns54AXxAB0/0B8veGp8ILcqUJ0Aoag/0EJEPyAKiFIDwboG2RUIN0PUDwMcQHbNk8yaVpRq1gxdEUB7zuvKMh5Uz25K4L7gR/O6MTbMQK0Ii+J/rfcsvcRwFLxJwAoXMGH0Mmg+cO510tzeRWKpW8SgMsJSDIBNL9q9qiIDsFst+IrCqt2twkdIDLvc0uHf5sz3bAl0pYyfCD2lAYtJIal+yueRMD2z3d5ehQTPDEGMIOkGCtANipdrkCeBoZOwBC7EcoIygcDMj5BxgkIoL/JsuZDOISJmQSkMMFM/8lo6y2U8FOIKWJnm7DhP7sRmLTW0Q3/mYjkRf+Y4V/C368ngLD5r1OCwgEEaGLBgDbPyAQVc664P/wekz4TYfQ3tRqkxR/iZIhU7UV/TGrBVkhAmBin3jIiAhYt3SloHaCYrTXC4s+VDPT98Om6/mmi//ByRPRXbvQTmODOIDDBfa/go0QLTJRRRKGW6PTQRjFhziIKyM6kIZOlkAgIKxu4nADzvphfNq0WjBsNpgSEeV4/QhUASfOfnIMLg8gZhkliht3X3ZrrNJgS/MwwD6O/qw0c5PIxFxN8FQF4cV/fp2lRujggLAR5aYAHA0QBp2k9JxT5aAamSDgB0CIBSFcCg2ZbgYo51y95364ZQilrE4q4nNcNZsAUpo0rvpvvuMkNJN9/SLqKkV5SM0xoLAPQD2SCTQTQhFxPF7jrYYOAjh8TgmY4bgIoCQlg3s9HPwGdAJaqQEqYgQCKiP7DOwunEKFIQJxazFpT3dCO6f6uvQXg3oRLMuc66wyjKR/7V1J9CB22XLWXyOI6l7e9KaEPjQHoQTxd/DHjAZBdgTbPCCIIDs0PMBEcmhCkhCgUO11HfERrpGf3xWv7Y6QsZVaGcUlAzVoAwMTlsGLgRY22rBwhHPUlL6NrcRg4M0eJB6DDcczD40ywB5N3EICC+yLEK4K1iwO4jNPkTjjNWesLwQ+YEQxokwn+W+4QwJO3E/vAd2s+IU2oBmhaLVgLFYJhFP6F4N0/wfyvGuac6BwgcglfLvh6VjMpr2mZo01YdB7OBhLK/d3PBDfHAESsD0hAcFaiKlGB5q/w0q14Mm+zPYN6IS6fACEnADkVSLmtiu0PZzsg5VkVJSCiNrhejZJG/y6hA/NA6AzKSVNVUfwhMzmb2Dbv7DbDfTil/1hYPkz2j3IClhOAjvuxPYcNfwIrV1YgqAdLyRmiOSw9R/EGQF0BvkPQ9FCOqpkPJqOYjw2/m9dz3i8BtXQFgKICLRKLrxau2EybgH7gDM1yX7NFR5uXjEGw1l00ELsFT2CC3UFg8iQFzH8zDCCihgnZM+QCrdG9gr7CBCYHiL+F3/w3p32DE6DcO8hOAP5t/nuXBW5yFtAQhlqoAiCPnq49NGtp34B9plwIUUVmHCBCPybdfjhL6ZoPqEcV1v1ucQLWEsAK87/JPeN0839mX1+/ISKMVw5yCUFX5nAFAwIegEgAzRMKFj2qMPpj7k8ElgXmi9wSAG255pouw1D5UAIombxPAtwzICZ7ECWgRptGmIIYYbUmR+lFpmVdBSAAACAASURBVLzRCbg/CDxDcFMgVr4MSBMKDZh7blqtb9gPMI8rikjf6gS0fxcDQ7CCMbciZ8+tmP0pvv+brUJ9V4Q7udY/O0TA9uft4YanyptGYJ5FSkAfWpn3i5yAhQRwi/kPp+F//SDSQMAJaKF+bXw2dDnIJIbZrrxUau5NmboM+mMkAWFi188ASHkDG+0RVq7+K6jUtEpXfjgTZ3UOmDFlYFdKYz4T+l2tp/VZNSdTNAL2M8HNQeDhq4tom4ckBzSakG7qQvAk+JPvFUN+huBwBgNmB1Juh/eD1wlQPjehJ+hwKSjloRUlIE4zswzUW+zBJkQ4vesne4eYQsrv2swzI7q/UjnMZ7t52kWUOwGLOGAVAejmfxO6dCkS/xAaXDgF6grMvleAL+8KxOQghQMgBCf0KQVtVoG0E2CiP+bJoLWPNEb6MuaKU3MGhE3cD5j/HGtikK3s1lTSXD6ESQbicvNi5TBoRVjT4sDKHVf8PEQLG3cTgEIDItDPNpt9mf/Q5l0WPr5vtFyAyDjcEjfRn+wQcnMIhS1Q4QS4OCCM/hBqwcTn1hX+jXHMBkuwFUV9Y5ANjzMxWzJs+BjwtqxDD+xjA5eljwoJyGX+c+ivpYElBLDO/OegXw79Jl7DEuKhNfwBzctU+IMjuMsLaUJlwH4nQEd/TBy18HK+LdQHtC1Q/10gxbc0VSCvBNScIV/vIbjsA6vp0ywVOI/+ogSkmAKY1JQoLuaDCMB7s2PmfwkHNFoVbELw7Msh8OkgLiL4ZgKodQIUs92L/jOaIbIMhxh9+wBW7jT/CVqZ0xLDfWjLBgyB2zwfM/WzUbkfQvVADP0zTkCbrFoDq6jtoQRgWu5J89/8U/kAwQMwhRfypQLinBvKCSDMQDO8zjsBzV8S7JWAIAgXbd5IgOM45uLDCvM/gPvKqAr/hvdDjHd+s5qVViRSe7K0IuAEDB+h2fm3BQHhegJoNMFOAfrV5r9u9XO1hyMpLF0+AMT6LeAE4KKQKicA1KtQHgOXBJQBsjYKEhIwIhDMsb4JUnKVKDE7t0VpP2KnT/NXTSgKuyr+OvTDCuMvdQJc9/fj2h8tASkgbv58kflvfgnBAzAN+byeg7QrkNnJUg4A9ZOgxYGRqwUzjc1G+0DMMg7hN/9F5tBfPbOibV01WTmdeDuPkhiyWTegVwCIczu7+wEOWDSKCaDJ1V4t0ebTfOdF0DGxnv85Q3wRf5XJ/DICMFUjVJQEhyUgzG1/ETvM93a1+U9OwIQS3WZvpY2DvO2jZ6vEzPI7h1fX5jVfENYPgCc3dHgXZv6KCP1vygIyycDkhtlO8h+a1g6IaEGiH5BxBTIEED4unNVhsQ/kzzD6k4dH9ACa0DlOwdly819B//Z/LTz/flBgpbCJvxcZ4Fw5h5wwbxtHOD6gxhAoNysDOOjvgf56AmjprP8WVf+roF/EfT4JpougoDD5uWLGDh0XnQAw9z8U6Ie/JiDjBIgc4PUAGq0DmL3/SBQAm+b/uqGjf6PCdCsNJIhERTKIhswxu9cZ9Df/bNZiDLCWHX5HJbCuApk7aXXZPs1q+eBSfkwsdkkr3j2YOE52InIP/x5FQpBCKrMHQLnFTSgFaDSjfAaOuvKTN/9d4k/zN5TOA3cJ9Ouuw7BLRL5rd4YGhve6WesM7yT4fQQwe2ewrOdPBvqHWD9kBcjRYJchn1d1an8IoTgAVg5P03R/ZVcK9EMIA8CfBtpCTSJbbk0oHRQCpBK22YdnpUdKFPRvVss5TPSf2VWY+s91D7FcIPiVH+/qYy9oB92c2Z/mrlaY/5h3+wl7AIoiVIvjYfTXId78X+xqDhFD/+FTpNtZbbQkJObtYjKKTRNChdCszmatZxIr+Gpy9JiLM+aZZOrR9PXloYUBXDQ/Y7IA+pM2Sq6bspsATBp4lPnvMvmHaK6jvI62+iTfQgBNk+9jH1DkBDSrkkBvKxboW9mi7aCb1rWt0cyf1WMGWI0qmea5zfhj6GE0rTnrEPdN6IcnJKDY+NeJCq89WQ79lQTQKnR/8tty8x/zAICI+zHs5jieAXcXVczO30UeWOkENE+D6CaHAUy0+okXjeaTZMQfjvtJT6I516XhmfvN6vDT0tJ/0tJvVqsJE/rJpA0FH9elzW59+ZoBdxIAf4Bg1XY+2fyfGfsi1Lrgu9yuX8E9t3CAYgSgrhi40fY4pkTQNPlefJ8Xmf8BBBdXVNaxm1+1SBIu8Qd+J8D0b9qoGq4JWT0fJ6bPT6ETsKkVBEF2cw+LzP+Wy/nRzXBx0hapOiv2AKGgN0MAraIqWCSAZkn83nfS5RCgKPXTCxOzZEoXuJsJl+IeGm3eycExwHOzCDCE9WRMKmqTwHIhuj6uDsA0/HU+WAH9XpP/CsozpC7H8TCXlBwu7AGscAKapyAAWhxYzAISk1t4h16XBETe8+ZM/WxCwRcs88tUkPiymuLPTXwQU4NEdFI8AFjZPsMzJOsVu7S45mkUWMUHa7OA+DupMEdS+ZmBhQv3Z7icAe7VFv06DsAkk/VjMkW4F4nEhf6YeA/i29KsMuB8c/a2puBLURtcj2iy3wN3ERSjPtAM1SQbkwmu4o8o4xCXxevMmfpee0gWUHtV2ZdOA9Cy/r3ILvLEY9Gf+AFwOgHmTpoQB4ZWD0xem+bJKiHvXnOm/zd/uSm0ylLMe7SZDtD/+kaIGBdDJW7+J2PLZvM+L/STCxzGdZemY7UFoeAlWUCcDEQngO/cPJMq8x9U9mnfMlzXgrkTMINy5TOicWCF+00Ia1QjngFBowsG6G+v4g20RLw3YJN9QFvTBPdmdftJeg8i+Az3Q5yAGfS3SQUcue/9x/DCevNUkrdXZAFxMuAbBIQgJMz/1bKPOXsBp+FFToD+JeQaEf48XB8bV8O164H0NmrKW81Rhm+sv/yxLm+FJWMKU2ZeIl2VIoUFBPp/bsmh3/u+mwsNrdZ/sgSg2O/mz5vW79OE/qvFN/x8o+yTEYVM7nHtM0kAQ440rXidA0wCMD+bXmbs5WyT+iCMmgEEmObnnpXwQKsT/ZucrUhedr37grJzF/IEAsIi9H8cov97iJTDb3r4mcnzwY4sINGaa9UrvbSo+g/a+POxGo5+qsPLzDgKyLUFbenOoLgjBtDkxb6bPxEIE+mfJ/9g3sciPDK93pYuN9aE4oCrA5f3hz7+i1BC05aRUR6Y9rQsoJZQ6hGKAXg5AOlyX6zUfFyQvZo28lvq0I+o/uNF/48/YzEA/v63aHFWi64J9fdPZQXd5LOah/6lLwu/LzMmULJLW6LITu/QlzlKKwoFL+kFxN8xYv5noD+D+zMU3g/TN5JBzPbXOSBMADrNmzQQiAHM0MSV4p1822eEUVVt1BJZQzP4C7hWLpARIbhZTUNbUbeG67Qkzf/yR2gJATRP+v/1v0xbz/shJvt4IRhrhn6UB6K/iOPiB9SVgyHknpp1+S2xFljTcoFmmk+Afrzob85YsxrDLRJ/FFwOyD5V3fm9nlzTQsFtWUD4n/B1zrBe/GGzSjerzH9+2hz0N+OvfojNHOA6nIsD4C8FEN3E2bORibYp4Ft7CAUNmyeyKkKheFxOgVWwLp5P7IfmrjodXvRv/l6wnBuSTLAvC6hZ5Zot1MkrJgEpTACPMu6aNBcZhA99FwEoUK47AXCGAWY0oIBCOO/eZcc1LQe0zaMLHyrQrOhUfD7DXfhnHY9jOKvfFx2LPs6H6DxtVNLlKuxq/mYPphYkHqW9IgvIfG9nL7BpBgYkIFjqv/gcJ818ZYfJA91IAEkmgOYXDu2A2Z9K58h8E4hWHdxz7arluvPHRiDLs62MDyuzdxWsSkC/OWMAGRWovaIXkLl9s8LCHDVQnfhfCJ1JetAdAmWH2whAQXNdHUJuYQA4a8EUvPBijQj04k/apGdDVeKNy4dQoL+le7rlsaiNsqcyId/mWTtMpIESp3M5ATRPQW/Mf+dMACEMEFaBwtpO8pEVhaAMlGcYLswBOvQjVxIsPhvht6tZbSM5K3iteO/isUqv0/DKjia4e0t8C3NVxUFwP9DDJ4z+LZER1BYEhLN1ACYZkC9nNfTwGI+YSEAQKhUI1j/E8J/hfsl5uvawgQCWqkAuSEI6Qiv+vAkL/LrexzA4wqn+Q6uuyIO+bhFX7Uo5kMsOEB+DGLK3XG7owmZwrl/xDnw6fCARAd5s+Ct8YEJ2nr2gFbtltCPkVCB4GsM1KwgsvtiY14K1aGKfSAP8zW/CElpe9G/OcLEJ/YEzLGkT1P6dOPtX85kdMWP4z56EEvM/cDKx4SaAKv1H2W2zAsK6K9C2rOxYLsjwcy4x7df5QFgZBgiY/y0RAGhFLcBiwzQzMx3fml/oN6G/+VN6mieAPPuV3qytsPi2VQQDRF+wXAWqqQMI8IT3CSZkYH6Y0QCEot8VL7OO9ab5X6XwrCM5guBJLWgI8fxDhgMIIpd76M1abNaL/m2S+yiiZB769QCDnh7aJqmxfJ8xwx9zB6gkGGA+e+Yj1O6qA/B62ebt19lliCYKDdxo+yuUYP7XOm9gDwG0ojhwC3UM3Mb0JaBvYmXzy9+x2eBFZ82fCFSeHsrRPw/9oH33wv0EW7Skq6WbQ/wTmA4XGXhJQnyqmlUQMGSIJrR/WAcHJiXo/zXjMxOIk+PPnz+ufXoJwBR/mlAOom82Q4pmqf+xFzL2nrf00oz5ETP8M/9l4k+bN8XL9/PBPCakdGB1Wf3eZ6lWBSpuBieCfsmDOwT3KzZhVCCmSC4PNPyHTCACvYuTvAa+8r/wVHiIzMFtgoCHGs7+bLkKgCbnfb4C+uF3F1xJqE3r2hZjgjaKIpDb3VamhIqgHx7xOgDvI+h6aV3P0wzaPj6bKsrSwRHZ+1+mKBTjJC8rQA5XlBBAy4UBwhzAX/K2rLz23jHDdxOpXZyh437796KMs0PPttEfA3EVSQX9A49cKw0aLSEAnQya3PS/5OkcGsuzzwSnClFedDi8/3X9cvhnIaYPJ8e7H8yVnFYRBmhCl8BMIpDSBk605VfTRmvtv//9b9XLpafw81UK2jzXlh+CTxfpSp1ENmUpefORQEVFmAv09afrH++MiGTQ5GXiW3XgjrBCOVyK5BGw/XWz2ktp4lWUq0OQVZ0qAuDbuJYTmb1XLZr7zzkjiVz/M4T//PkT4ABXS+eZYsb3aYI+d/dnze+qCNUrAaFaBWqexNDZoyg+SJV1AN5feX3zwBN8RT0TMfNPT0ztEVE4TANefI9xALkcUQvS/0QoCEyeKDMAgKibz2kg8Dyb28eKez/Ir6VXHOMLGBDlYIbyWFOT0eYLwJmGP6oLg72PU9P6y9YQgBeOlXdPdAKalsvRtKVUhn+iwvLlrGB+H6YHLw3wC/mZ8JNUkDCJVGeYAHIYoKXFxuYPd9XqP95e+co5E4mci/jibAwXXg8vNPax26vVn8xzJa6M3sizhUrDGl1VVHQ6/375Mdvmk6YSgCnpNK2bfwD6Ay9w0xIJdNnEe3TRA1j3pUID8Iv4MacBCwLCCFUDxO4mJipzk6Xq5un5hcURgvLEzSGMtlG1lHIjPiaWZPIsmqKZBOQiAxH9+cPQPMvIXEG/3gPIv0jJXTWrspe8nCITEMSMOQGKSKJAuetLaOmhhRwAj7fhgn4UNQdNgkJ4uZgYRpec9mbob/PGDF4Vi8zz6tUFTI/NqwKJTsDMIcBlnfrZrF43MB9UiQBabgHIZq3LqH8QiSQv1GT8gFrzP8wN/E+dA8SJhRyxaM4lgJqnKxyoBMRfBvF/25a8zxUc8OfPn977NTKspO5wrGyTzM5M1YKJ+219JpVJSAHXzUT/mS3P/3d4DgUSEFdUG20ApxCJ6+jh/ShAFiASL2h6v/R+M7T9oeldtY6O6BPAkxIKjwcAzf5Q3vlCQHG1c1lR8zUUWNokHm5CP8f92MkHmmAX3qwmR4NF5G2W4k/u0cwDgNxDIisBNW2lPfNmi29dk9M2SgQlEe6TOxn+r8gEVcRQRQNXjA6IQphnBCHhAYT91D3IEkDn2Tvc5IxJE+BKoB/zRM887iuG/1L9B87E0CF246LPfEzdTN4x48Nt0XoApiDTtFwLxRUQTwBCr/8Vr2XGLkaFwlNIDF4HwqQB1wazU0I0GmwSAKot6MKHqir3X8zLvLZ0bvMVj13QD3lxGG+fOz57e24T5MTQNol7uxhxKPG7ikX4KggSAYigz8lAscjKbf91NIAKRcjFBCIxBGx/7068V+qihBmmKzTwHAJo0V5AtUNMGJ3Zoauhv3l6gg4ziIi4tEII0lUg7gGY/5IdKs/MEPQVJvhHmQVu8itvL2EC5QN5lEHDgLWgn6eKAO6LG+S9AR3NXYJPSwQD4MwCarQtRABJ93sPG44rhgEI2orQz12TcOkTbkoEAi2XIx9+bilGffWTDIC+SgAEbb3o3/zhOP4aKxyQ8QbMn2eEoBJYz9OACO7QRKHA/8IqD84QQIYDAiq2+JOh0ccbGs/wN3Zd0EIISnA41g00kMvf5NU6y0eTm8E1WorVJsv4xE4+Cfo2AQwJajY7AQ4QlSUvB3DkdUF/OTHMtrmFBszPRMARr9qcE8zLg+H3A6oIQCmCNd8LAv38m3VjlrTT5HJfF/Rz8gj3zR7C3woyaPNuRbNQCk/Sr+oa+1H5fMOawLOZ8qK/iwPMN1yBb6+QbR49BnyKEMT/rKWN2WdOA0lFCFppmEIA0PqFKGC9qPzq3mEm7SgbwyP4JKG/jbJIRfO/6vbNiKcJmU48Vb9Nlvf5C+jk84rH4x/+MpiuwPXLFRxA7NAhamfEnzD5zWBXYYsYsgdoQHQFdKCvUoQgZPg0v7TYcpGAbdxg5noiKqMr7+zsexf0h0+PHIUzAVbWbXzs+Xp6ivqvr1QMefma2H+5CUAnBu+cNi3Jj8gCcNYD5x8FZT+mB8CZIKzzJP/k52BymMmC3stPEkArCgMU8kTM9w+kaYo0o6C/mTOqQH8b1bXxvP5GuyxAE4JigMhnm5u/eveFD1ue/Gk2vBteQuWCMGbYevboNK063+UBKByQFH9colDzBCQUKJzxTR7ZvbY/ZPFKn17IPkGAALAsF+j6SCtPex6OvRyT/OG1R3/Tci4DVn+bpDnCarksMoHJCvnbMZwubpgPgX62Wn3tCgct3wtoxWhCsgc0OahRVX3FmXPNgStUIhOUWPSxLRVkdzEr5HgArBz/dSpQEsrbJOEvCdkukG00HKqY8KbMzRNDvdCv4L65EkBLB4FFc3aWld9GDRiGqv31y5L16zMjTgCzJFbvQ09eci4HKTi7GvohN8Dg0BmgAWJBI6r5ZFA+xhMQCoNF6M84AYEVzKueLqWESjxWbKmW64EI8YhqT7OKm9pIUic0ACEegKifZ8pf/LgkQjtkAj0RtuWahLd1C8KYM9i04giRDDgNtHmeYisdHOIVDAJVh1w0YAK98kOdnIZcaPpbopTUJo2AoBUYNq0ijL8qLogsQeo26aSGZYMwBH9DeXaQC6Rmyk/A/A/b/opn483Zdf1vxthvQjeItmJN4EIaUN6WGVTNYHSGKSvG8BBNiBYoTKDQQIlAxH8lIjjfzMT9QhUoyQGB51wJiX18P1PbReAOXIjpFgwzW8h77YJ+r8kv0gByCaDh4mdztx9D2UMLrRd/JYMW6isltYIoH2SRaPOgIiYi2sVBPzqH8hgTiDQAv66iSEBIN4TQcZ+fKrT2U4VOgAIBJQ8SAT4ITobrVXV1+JktxTWUR1zBXtBkyivMmSpQCTopqbfPGS1RR0Z+uy8IbPoB3JJqctaNy5JNqkDcD3AxgU4DppJjSkAz/G1WI0/XlJpbwpKAvEygPzD5p1fMhRPTpmfBxjCWmcSASao7JwMFX1zQ3+bp/+aE5EO+yjR2YYQRuclrRuZpIEgAS7WUzGhWPHaFB2ByjHm2jcYnC5Ucrq6IDpPIhSKLuK4oBv1Ni8qYQC+ivzcrlKMeAbgVzgfB+kY73ii4hpG7QD7DmQYanhMRQF3gvq5SN4n4bemi8IVUYdpTCuJjHgBQTFoF8XU/wISe5umArVvxoC3+ITsNLq1f3ExXqCDnBJdwgNL2kjy0XvM/IIF6iwbEfpmzSn5YxU1tvnw5JmvBF+b/LEX8RWje6pYUdUlwfGQXhW/z1WBatCZTj6qBhl5Nkzys/JBDDC1oMglehwChZB6yN3hs/5JpVM4qEwlwcUCgGqukFCsWBguvz64QnqhFiIJPXvnx3p1YeYSLJHTAJREOQgnNEwduk6ivi2D+iV0qHiwNZRAqzAozAB3+mXEIMq6Aor8nbX9OvS6/BH4nwGRWjg4cRl1JbjPon6XcuFIhTEXe/FWjPX9KBB9vAAAek1/xb6pWH4uhf3iV9swJtMJWEBl8r42/8TfqIexy/ZL8yWGdEIa+vSm1t3nzn6TII3KGqGspEB/wA0w4aFqavBke4LkPhAPCr6QYECaNjmdQUij4NK312+yimtD5p1krpJeoPW2UqGouHlDCKxmKsgmgBPpn/2u+q973cym469KQywkQr72EBjjoK56NF+VFCag8EoAFHaG99YyzJ3bWSxI0DZ+fG/yhUaK0uHLVC6EfIaVXr73Ss/K9QEfWCINV0ODK/ymhATcB6E+5EgaI7aqt7/HAcVxnCC/0I2fy6zSAUOqnYvjHOFVkRN3Gr3UCOOyKfYDbJPBr+gTISR/mD03dv40Ki+6y+rnjomj6w548SegX5f5W0a265fJB2xOawbnwCzcFGDioiTEAl/7T5FBwhgY4/cQMfySCK3Aa/ooQ1LSKMDi77lwx2ov+Ygd5WBJQjLpmPzfzO2ccgFKrH54mHBzOFnVVa3LTiEbbqc5AOewHVI1/YrMwe9kWIfgePpg5oWJIk3yvW76F6M/5gNv+CgWGb5kYCYAmBAU4QDxnJTArijbKmiHwLLAeXgrmuoc2X9X2ynkx6Ie2vAERTGqHV74b/jzWxDR8ac2TCKQ/J/94Z62tTAHSDbdFQpC+tLcO+o02r95AAzM89dr1yjZEaDIjAYQGCNCjWv8hqi6JASgLAXIYVVQR8SnlcWBuzs+0oAz0gyZ3KiHTNllJEbtG4Pyv/Lqa1QIdgf5ZOlPiWxeG8ruUIvOSm9zlzRUSKLkRoniFUiHInB+RBhQ5CImeEMnsskAU94MYkCiA4tsr5j+Egi94LH2l03ITUmX48lixvFjvnR3COvnGPLfmr+eK6UKEFf7ZBqymgRZ7dctPNbbOJYc280/THIbfM/j550wRckWAkQgC67IYuczVHGAuiquL/pB1Xsgms+tR1KGHm/+YuC/XGVP6+RDob3U5jots7cAd+bsxzze9KwCAWg8gn3HhPcQQWJP7b1a5vC4T6dA/+xXZXuSD4Sk12rHONORjgV/XbHijwS4C0N/wNs/UNOWgmbCOeRCY04CINdfLUcAXVgWDCehNKJorgfsZ6Jd0ChLndoby/NEqZLihtdH83aFr2kHn57oJzfTNLW9RhBT0N6HfzIpBImuoaXWwM6M+bPXPdjL8ZsZnBO5JsNfkVPMlb7RGVy/7UnKHTLDmcGACTdMKU81osEJUuqpT8paVrA+zYcTyOE3c987tdeMdaaBhQ9XLAUg3flB4pSRiEf7sFYUCIkle8RdjyNdJJnzgdX2qJCDdCTA5AAkViJ8nhMWzlLyUJlczDNkR815yOkQqgn6gUegeSgiUFrdEI6DAUT5Gth30Hl3+lkPsOfmmVWwhGhtQgHKmR8Gf+qlw82x7UQj62D7GAeZ90at2M7UCcPbFJNDZhKQasgG5QFPxd2W+6zhIfk4EH5dvdBcNNH8dQLPSQIf//jyloQMRbwddDsHhzI11MG1edfLEXFa5Cf3EZA5ApCgH6RECgvten0a/rsD9ErtpNjkNtFkJl5AX51KwVcR9CHmcevZnidpTEiQ31bM9NNCK+sEpKhCEEu7ZQf8oWP/xX6KmvBq49++8WaUJK07A6wHEwNG8tJmM4439Nq04bnbtQzIYHvfqRTUt5Wn4zfB8eFD6+j3XsnQ/zOTUwDdiKB6ax+l9ws0vlYtVLBhRounaCMBgLHo3DH1dH3jQHLmhG/2gVhABLlkR+CXBAJEwXPfYNSczPIKVPUnUcy+xueY87AGIl4OQF2XeQS5nt0nvTNMDaJ5CMMUDaFoNKqwFAD4uEzTOod96PYI9i0Vfz3NPtbD4hM86drhK25TYu5nb06JZQH/wpBGIN6DO9CbQtkEBM7GeHFc3mc3P3j/Dsd8qDwBCqbNy5kPeGp6GwkPcFSPEDL9Z49XuyA0lD57yHOrPsMsH8sZy7sIu0ZBSQlzN6m4CoRNPE3o3/Ilh8ToUju0z4wrwCKc3ErDnYfVq5Vf84q8Z6vSuMO6YfvHsoScgZd5owgQE/Wcvnv5BeYyVk2/OFt/QenK4KMGrOoqmSeDZ2xPyVbQ1069VZlgH9/9d+Me/wzyrP+smZRHQK1jjGt7DBaAwxgSK+S+qhyiqWEaocMzcj0uMNo+oyPriU8TPtlnNKlxoaM4q/57zhHJTvNZ9Xt5sco3LA4fo4w6vJU8DV4if4T5oim3BegC1N8mE123PRAD9dQMnHAAQX0Wy80ab07kuUGFQ/SUR3xZTBBOnsVmJg6CSbrP6Jzc5ExRCYrv+oCpt9JULz+eef/yq0bbS+QN558qbR//xjbfwwmzBzQevkyD7+eCAj/EndvElWPxweje/FIUgE6bLJ1DRbRXzXNRtxFPVY79KHBhU8/E6oC4a4yJJxgMw9R/Fj1GiGsopuZ6ogNpTAgjmKylOaVgnMD1d0II+gu9mZdzM/FfylHwEMHv3ks9KOfA9EP3FJz7sRMfeDZfCA031CgtB4rQTDsBcVSdnqOCmeTKgjepaKAsLls4jQhUHfdc8I0RsXt9Xf5712BWcAqByGjoZJ8cQ3D8+cKoYbvZzbEoDzeCvAsfPR/8q/vO+nObo9QAAIABJREFUSBzNTSbg4Sw9lGJGyYY43rQUIB3dXDPMK4maVYSplFPB01jYdf6iHFH+7tzS1bJNmgKtaA9XezkzJ0D3A5LjTxJYW6hB4wq3oOQxSqK/iSleKF86P7oZpes/isc93G3MvjP90czUmZcZ0H/MR0vxBgLpDJknc6h0bXs4lWQBWMLXTngZmuEfmH79c/ZbZf+Zex3PAioXsl1uXe1jx3WDEkhd/c6YCkl4tnXCM0WY2atrvuomKmG7pzib7RZquySq9uHHL5+twB/j8g/6Z1H330kDMxWe/7nhrK5f2gTQ5JoChIJF+q4K1T09wiNeoPIqLn2XahHNBClR6+ea+2zPs8lpQjps+WyYfmGbFwSI0OYKXeovYJWrKt6C5PMWSwwrfB56euC+ET76H+9zoON15iEg99UbgQw4ywpmIeGmrDagwuZ/LLzsAlPyTfNUgSm2SK2PaN5H4pToQCYGhMMWjHkaXiMj/KDqQeOwSCCiZBV8KwmaPKUHniwgL/S7JaCmNd7KPx8lqFrykot+hmkaK+/VivNftzfRfowFhF1ItM38V47S5NI8rJeAzBun/xfZfqnP6hUG9GFK8yVjvx+QfPj/lOydc4P4wQU9SftOpzGXH+BKAVohm5LzX2H+mwmInFOHf5q2IfxSJH8Mki9bedAl8Fbr28eEoBKKLVEyTQta+ROPWTJsW7OK2X/ZvYCuaB574BThYujhKkDD33CvWu06uon4Xv+3UAXa8AAV7lY0/5vVmsbLZC4aECVEAnCuhKvYZAYiwPA4rJvDVEMxZPYZd6O/ebjZMpa3vKF/AocxYXHp4wtPO5rhD3X91Ewsm/0JKnAnXyT9ZcuI0cpm+Qc0wAFkez26o4eX9NMOBABWxGmVlyhwfxcFgX/DcMna+ksdfu9+fukjANJmCLRJlmi+xaZMfOGbs5Ux2QP3BmZbcp4odwtK0L/2NfBGffb4N8MHJgPEAYCGJn9nXv6wrJRU7TeP28WfGyckcOg/5jwOy45JGwrQwmWzdrkEU0pebzMuR8x/CB7AUnWoJBTJNa68q5eEKpdrUpsUVIWe5e95zIkpcfL0oWS86L3PHqLmb5s98RzEM3nWgjCFkx7OoAgYqqBZ7aaxr3wZi6iHxWidCQLTHjNjN79a3gtpVuv82uyXAEfeBU+rmxkohybfbEanzVxrjn/MGWzzbh6NLn33wGH2BhmunLfiOfj4sjwwYObS6Pgugsgs/1WcDV0Iioknj3oOm7M5T9vSUafknbr3QOY2T57J2mdGHP9k3hOyDmrgqtq/W3WTP2enYT4KbdIkffjz68ZeaTgcuih8aLgEhKI+EPtBec80VkFzG7WD1y+TP8y1veRePRSUbOt74b1o3NwNdLgmBibt/fjS2OLhYK3tMDvcxykNz7bN17aeLQNS4jbpNrKu8ygbmyUUfJsWbTkXm5wHIhRHDZ1dyOuT33/VJbei9WSQINR1F57Z543M8ZoYQOEEmU08vMfiecobOrtyCzGfjV4iJYv+UG0NVB79zWCAK/mq6rqeMzLZUN5glauCgZ/eNg/SddAVVRR8fEMQOD+ufOBtAnVNcJodKPPBe1FkP+Y6iNvAQslp+db08/3wtO6Iq4ta9PPc/5C897E8BDAYYQt9mPZKqML7QdxgmG77sT0ufDBsUD6ckNuFzpemqC9Fk5Lc0Nn0mjlOt09U4PLvPf/a7hrhUU8AvzYAtW0eCpePIMj+9vv4y0tVV9RSfN/dfAgK3zj+Kb+ee3ONbznPJ2e+nlEyfnNqzXffvpZegFPcc8kjVH62AwJIwlkJGuppoLPEHuUQfydFuQpXZuoZXzaeo3qREyO5c7PP+Hc66Sxj7bri8c//NXV8skP4k52uJzz8LLqzyTur73ndkgOZn787BrB0Tl07v7Hc8YxvGgG9PtOlip9DVQxA6e2qNOZCdQeLJ4DyvePPQ67/mQuqxWKhOxNAt832o+6yMp+Fa314M7vKx56koN/m0b50EcfanbzYA3ga8b7UEEjmmOZ/ojjRL3KwVpxz7VW7ktMVJyDQ7rdkupI5C7VRwDe++9hAAIEbfEvS4SIn4HVjlhuauS/EGF89UavBN6/JXmd11v/yWro4K2YM36lmrWw63NLcFe5IHlWcm9Un470R+y2eOz2AzLWtmJfCfc4WDHF166y6nHWmKKmm5nBWeBe89sSik9FlIhOvxYuKmSxYZmB5F/n4DUO85BvtxT8POY+lGJHcs25ehaG2tujXWx+wqOwr4Oq9vRBhVqYXmGTvkuUxalnxMLvGtmLvpbQU6879hFHmATytWLTqQgqv7kZFO7mq6ooH4EVqftUlmOCriz/ke1zIgPx8+OeQt2YnTx5mL6brqxhdd9vmK3Lz1f1AFwrd/EQVvl/ieEQQuBaJHggiyRZAgQ9XV8DLAYVI994bF3toyYRftxFp4GODcPr5jBuuRzdX9JvxhGjoBGIM+vJ2Zqdb/qV3LHrGNow/rnN9whlvOIelAYYNH5Zeiwk9sQYVuhYReBTNWEXhpJlkIAo13hNWkJ2b/ErnKL3NFDdN8s+tsrqRa33vcifgLsHH9YL8CR/gxmt72vA+wZvN/5j0tC49dAUnFUZrvQHYkrIP00vQSUKRemaN/7hRb7YsBO1OKP4QmpPqeopcjUUzZLBNTap6s/7U7lQXCtdJ7fcOYtty73hDg+gnTI7rvhPxAbKGXvKelD8YycyfkqzlQAyAP5NKDNxcPMP8HAMKr+Az28C1f2hLJ7le9gwgX7+MrwhW1QxH30+3Fob0Htq1zGSmF9C6xkF911LMfbR2W34tNtfEKtcozsPHJeRNdUXf4LY5Qv4HObdAwg809hVdAbKfDy8BGvSbuhaZ1cLK8NrX6t79/NlwciWXtKLov/AC9fy5/bb/ugQ7kogSm2dT+ocQCQhkT4YfGO7wKZc/03YCNyL8p/LoutIZYgyBCTdAowGlRG726A6lqvx4SN4nuZw/63Z9465KDlpbQfNY0carF3uBXoe/GPo/ISJFAqT8Mvm8ETziOaCxP8nZBqRdF0OAcgOhhFle7Gyi1rkCe1Iwyg/xZ8VOd76T+WNVpT/qT0DGwF9Rz+KVp3VvLID+w8wTAkar3z3FlhQhsstrrolz5b2VSfSvzWmeTZcSCiaWPqfG/ChBgFuwbvjzPxvOLIB34uuxX0HLnNgKXlQaeyl2qCikkg2Gb5ryv0rmiQ5G/Cq8T0XAQdTNf28AwOuBxWIASx9XERYQCgubtn/g7nvJYOau1cJj4Q063UCNvYWdgJhqLxr4yvIgsPRl3aeumnNi+SoZIyQjCDf5nbqNrISFESWtp8UAMh/g5E7zoUXI9tennXgh/KyeMP4UourbJXLC6lWXOYP1Gb67Ovfyk9RtTy5QhK+XHFSMH0KueJi9pcknYQhPumvStaRGWNYr+V/XrYRTBXom+vOXUferqlQg0S/ZBq18V0/0AJSrXUcYGzhAhPvrBoGXSkyliF2Uy1CaQX9AOO5aowsvsuuPx5CWCAe4dG1+5hkJSPEDMhHgwrcvj/5cpcmY5IoQtA2vkuOP67IhpF5seFy2qZP626Wcm2jOX7/XNcTuqdU03yhlfmaip+gXz84cuTrnDA14n+1Oa9PIxUIw2GPnFlaEqgyCFfFhONHfe98zcKFIeS67tvurwER8/hh/xCtcAcSPZcXac/PKOGKaxM/H7vrZRMZCZR9azuLwheFCEHJ6iwtMlcA1LoIS+beHap28OEUi6l6g7HIa7iKsF1+BMPrvB42ARVUIVspu/+TPbGkw9kZnKnmgsHwPZwoEh0uvWuIKtQWwyXUJXG/ptDxVBBozo2PGmqDozyFVpwGXHp0xQpUnZKmBH4sHPAf9FbwqP408Pv+zbiJWdEroG7tBbBv9RzsH/Ls5gfL5f3/+/f7nh3DvipLn7yN0Mfxz+Pnjy58ffv7788vZJHycZDiKDsEF0TkAQmJ78l7oAQDdmDAhuwT0M+gW2E8PjfBLEeaDRRz2p+p4i8Q1fctMPKfwnM0EzYB1z8UE+OXyDKzoM6Z7AJA7CgwRWYl88BkwLWt+AhBUIH6joaUzKs9w3vBfgf7hzcTPcKYAZYLA8Mt0N2Ij336VBxC+KleDNuVX+ePGdsU/QLPoEbWUC2ejj1q/Kc+f4gHolzO0+j+ma+gADQ/nfWG6szWFCXOm8nP9Jq8CifH/nehvglQG/fPYHUPVjIuweWwiAAUWTRiapcfksbtWG3FB/wfcX9GfsEU59POJDT+41+sd/jmjNw7u5vfXGRYvLc8BfZ4PCiErNxkKDvgBVwmIRJVK0D/vB8CZAFqObK6HZ7aZN05eNf6Yp379L3ODPGTsHCXddZRwWddKcL2JMfAYpPz0Oi04qnpJZn+GPygINZtzctUzpIZQDTCLUUOQwsh5BpwAyH6Ay74O4/sG9N8D/duAznsvdHyG7gF0qz9+yXX+9NMV83+d7S86JRhpC0NLFnNhB5aBD1kYqX3a7vIARPFHFII+riUmAUFmWTEYgJEolPcAXPscWhWok4Ceg/64Y4ihlxXH0g/xj7Jrry7fFy9OUjLMBXpIYzUukSuy/nOgn2gjs2co5huVxAA+/sUP5UfPBUJIAgpwgJIXtMIDIHFsjkczB4sH2ANOgPhlEv1XG/6baSZAb+ZZ7YgBLAKv1RxDAgw8Lkpij2YQeDX0fxxCBP2MK8A9JMwN9pn070X/4ZXq4TslEiCif6flWkR/M+9phgy61QCOb7lOAsqjvzJdgaGjrctBuSUM8I8CFjqs5EnCywHh4aIBBQpNrJ8h+wzTF+k8xIkJIL7euELhQh4Hvu5QR3/X0o8i1iiIbypCs4QfHbMIwHEycAUwA3Gpu9B/dRCY7MfFQyUvcnLLSg+gL6s8ckH20mEKJiINKJa+PtV8sz7Pm+TXEoN77jNBS2y9zsxMAvq4okIJCAnzH1rDuBk0E9A3KcEkAzMHYXaNqHMClCyJGRPof5ZDv0gzq2Gn8BD/ZPClcCiNEzJlnItOVRe44TH/TTL435dKDOMaOJ2hoQLlyTgwmRPTFVCYzJSAhr/iF1guAc1iwtCqk7j5Gc5uAk12iqG/7gTMJpwwAWSBZX/+jzf8u0f8Ge7z5kKwn7ig4LvpCnShMkCfXDEODKHWaZ3aM8vO6rT4YAb93nhA4OFTCh0U8efjT1IFBk8VW5gDvGQwE4KQ7k8g/u8M+kX0z8SBzf3AY/jj1ghw+CjKD9fZ/m4C6KNmLEv5ICDWhzUKBbaG/0VUrz5JbC3X9LmGPpyHGT6KCn74znJ1Xsz8GeL+kBvIl+EXz0Q9L/orqG2erfkrUQu6XggWOAG1AQAxBoBlEWCTkEwnID96qB30P+KuSV48lyn4B1yMeq/8bUJYbXEsKmx/RE1+sZX00K4nNji5unVPrZImq2T+KBfY5X5w4nsbFoJELcgLWMpPOO7PPIAk+ouIT3jI6wfoGB3GAW/EqBZ/ZqAfe2d3S0A/OUAPYw7/7JNslqrypRlkiBKQ+Zkf5afK/6H4z4LJQ7wbslefVCqgKPdfuZtd6wl6PQ0T93kTCNdrpvsBor1v0kChiSqGka9/mtq9F/1NxOczrEA/aAxgWwRYfLS887Zu/OPC3wDKV8FHtxqoQcv3SB56Bqlh3NdxVtT0iQBCOgvBUvxXeAAB838I9CSpyXw8TBBRtIhOuwMlnQAXJIWFIILRXCZCwleAPwsIcofaDTEAPVyUeYmUOLP35yoBeOFekX1MH1yvkILgAZTfbN4Sgxi5uuZD4rrwZPIMc2n4fmK4L+oqovmfYZSA3G++M13opAQt4Uf5vkqbDgtBJvR70T8TCQj4AdvCv3Cq/8pTBL+Nkhn/mEC8dO68nZO56ertVxzDNZN4xKkbyjv8roehH5fGmQg1gchsz/fTrY6eEEICvAA4owXBUioyVn/AD8hrQUMIm51SQCkKOAFY1vih1w3laakKBhQGFWa//Se2r+uL6oX7Ljf/wiRbHJocn6SoGRMMaUDX+gNuECYZTd1K7+mJ5MiS9dcIVfdRS7ihrlUSECan5CIAUD8gif4BGMqEiIc0AGcHU4LvfLOlsd8V3gA5lvJ2LHJNujP5J0gAJtb3SdNQjv5daAEPKwKMlRJQQP9RcF+BV6JpcDt3SKImMor4OLsKvn1Mlyd745eTaf8A2QnwSv8ZPyDPB7PNPtCtW23MP36rizyFsV/z8rFsKFHonqj/UuhkBvquC4+3g75+f/08xMdOF/GAJQRByARdeuNBc/+rcB9CWk6fFMF+nJgouIf7gHZnB+mh+T/Tc0xl3ywG1oktyQEuLSjmB4iU4NpsBuVcBRpCrWkd604AZwLMJaBt6r8XfEWJP3bc2DbIt4MmTMCFWu4BYF4xq+NvfqK9jPIR6I7hPgTTlRRSdaEBtSIluYiBTwjfc6d5n9eTjOUF6d6ArueWOAEZIciUdwjWe815yCrN9aDKw9M9HSBECciclqT0D9lEWIr1mZ/X1wEoci0PBsDqlzAjg49rrkoAHeKgmeakZD11IXlxiMVday4Na/lJFAWEFeB2bSym9FTV/VZxgOIKmOjvIgAXGcw2uAK363O3wsUI9RBFWgIqdAhM70rhAEXzEeMoVaOyHfQM6K/EAMtyV9B/3RLBSbDz4gs0zT28dDBBRt1STrZX4jzd5bbPixA/zAFdDgWbQM8JQIQnPSowpAEu6fR5/r7+J5lDgqr8TxOjax8MBZpr/YDkTnphO+iZRDuDZr5N17Lj+64VIr0o77L6Y7gP5/qRw33OYJ3zQSa6q8xhj9brumggHGeOcUDXCoN1g1pxCDjW93lKqHlcCC2DAjQghgpc0I+Nw8sB5mMDZwSYPHKuC3E3gwvwRGYP+s0o7F08REAd/atwfwbKxHbWkVGpqIgp/voLkyz+EisAulAZ3oWkvYAT8PGnKPiYMJ0hAy8HcFbI04BL8eieGuDaMTw3/dEt5CcF6PXDpZrBzRBf8Qkg+wHi3hRKyDOBWNjMJRTx9iiGPyYJ/hxhzV5pGdCsHfmQgPfV8hIA5FYQMQKAs9kn13lm4g8BaPMbFw3AI5rPfrJfAgooP0j3/9FdgTANLGwG1ysWCPOi/4owgIj+HDT1m6cvogva/0Dppya2Bc3b74GeQuJKkPyIZszDxB0Fp3qoJ0TAJDexfsgH5Etu87qYQ6QBfT/6ndomAc2muhC1C3eijCXN4FzI3uUmOSYZoMJWnZn23sZ2gXum1EkN4Tss+3R/W9DZdIlXrRQ3rAjqxu5XJgyAUL4//wb+9FATeV1IXU4DECz37kkJHZ5zofKDO/r/lD/YKgEQ7O5WNFhBbZ1++rwaoK/MB/Xq+5mjdGFtgy4kz+j9IZBYOd3kgy5nNIl7nvEc6YCdXEY07OBXmf/K9hz4OOjritMiGuBcBa20SueSANaJMQBy2q7zUbik05xj1yhuBQFnGk8gDNDvzgctfLzE6KtZOmuiv+lDYEEyJSGDrjWScvX3V6YiyQEBhbcQ/QPhAVHlR8jwr6UBhQkCrkAtE7jwujYAoIOPax6yrSAyNBDY1eoYgFmaUEIJSnM0zgdd63kphpEx8gOqLjZ8I3QNqi9bDACWKdeFUHCPZn+a8QBFwSB4DcG30L+EljCKeT3XkMZmX+qovVT80TnAhXj5907cvqwVRAw3C6sBFln9fZJgE5gfHfdn0Ea6PsDSizCvB+ZtomdX4XraREAv8Qxqc4G8KlDMA5gBq8v8J0CmsIgX8c1jDWmgW9lBLreAEHPSUtHFHziN9+4MABQ+zBECMF/XviUM0P3JoEnGMqHfi/4K7s9kE1HEH/IEqMRkFuLGuM3FAX1xEV/hwpAEfbonDXSFHGSimIL7i2gAVofRrrWtNjG6XAsSWadbCQLJB+/jy56T/uME0OlC8OR97rkwgItRAjYsvx9VJUvD0+OBU7Ojw4wnlKXhw0+qPrdda0D9HPRH1AkoJAAINVziT2JHLKeBbnWBdvEZoQQRzWP6TwCvsSsAECODVZXAeRqY/SopBIWD2N7LNyuTA4vx6qVhcKaTYpm4vxn0r4fr0cjT7E9OAGEJaAUBmFKMCNkraKBbsWiXEyDShn73Z1Z/d0qCOhmEoT+z/cJCMJ0G+A97Lhk0ds5/j/VzuOiEPwpm++U+6slDLtkF/dAWnNnzMOTh/uclVD0GXVuuZPjYXP80IRvOeCz87SJgtSDVjy5S1FAFmulCJrjrpjrB68BjYNIAuSKXe10C/d6RbQXRrQCA8uaX+wEEL/QbEChenR2ue9R/0eSHENrlh87rWjuf1CH0K09sUgJyoT/kYuAMIns9APOISNd/EazXmaALZcA6ahc+kDMaUJ4ZQgaKpEP+y9R8lBkoWBNY/98Aavdoa2jvew6rE7L+PHmzPJWT0f/Uawtcb4iuaAX4YBaI7kLASXly4PQJys1/lEaDYx6AyQcivrvEH8hNimY0EBhYM2L6T8D271bs1/u/xQSQpIq+sjdcAPEVuEQidAyPb6E0AkLaCQjwmffZchFM96wScf2zR+sTqwhAMf8RqgwoJ4APbOV/9lxggOgnik09+9W9lJDhgO4MAIRhfRUB9LqagF5RFIaJZRpo16M0xXQhJjzOhNjEn6wEqdBY7HI2azvbHsgMAfANhh56wAPgqJrxAFDaDVS0+s1tPv6r9oYqXojIH/xsS96ypAJWTwBE0ukVrYF6rihsCKbmBMV6x3tvgNIxtM9DviiK+saeqlsSNwOI30vXCCongBItyJRcAkYxZwVRt4HHIXAxAYSy4bAToNNMv3v5F+W5itFAUALqztUi8zSAtP8xBLVCw3/GGSIfmE4AoQFy8snyrhXo3511HvpDNbsF5m67EElL6j8QJCCTAOBs4FyuCAW+FJnAdYYiGZCNMwBicoBXCNIP4T3DegLoFW39A7tSmKDLZag8Cz6jKnSa1I+EE2CecJXVz/lpxVNI7rjpTVaZBeYGrtf7LQSwgQa8DgHkMmDl/hbywUwOMjmghF0W0UBlIVjsje2JkmDXjCjxUlSb/xz0kRB/ZtCPCsv9uts8svddizZ3mjIQe5dEJuC4/4EjAQloEQHMJKAVNEBQXofjMDiafGC+F10ICQQ+DB+V2X+5DJcyAjBB3/W/PVQSHIB+U0DHYvOfgz60tFER6M3ER+URh1D1rqNwWOfRf3K93qRy2J3pfd3KAYWWDtRDAeFaDlBoAEIkwAT6AGTHhCBTmCJonn8LXNBPQN/7vwsJIOZ69+gy8V3I/CGbdaGB2gbLtCcyf+BsEw1tPUgR+mOPvjmUSq7uz91U1pDw3i/+9ioqEDQPwCUHxWhAQdvZNzHbvwSslbPV76xIb64XIewu606AuZPAbCypA+jOwmBRBYIW37v+pFtd7/uCUOcM7ocHFWvHlGUDzDi2NxCqB8a7J52/j1r4JTV90MYhsWXdujMIDFkO8noAJQTQPflFJuhzxFes76SzwvFd93WGuB8jGP5UwOkEJPG9mAC61hMi+Va75CCC8sM29+Wyj/eBGGJxp6I/2YkL+mO8ldlh91d4ifvsl/UAro9EfmZEkz9MA11uCbeBAMxzIN944b7qnQrvmTABZ4USMtB/1SdibJVOVbYeQIA/Pn4eAIKf7/bQ6jc748dmLYOnw4N614YcTumKSyjZJ7/FJsf06kLfwLV7CaALAYAPJigkAFMFEo1rXRHqWjFwLx21LHK95I/PhS9FnyQIePef9wxW1QF4Lb7uSQHqE7WXC0fcpt6WoDIE9B5aGxLVqfrXSfjvf//7txnqnz9/wigfeLp6RfvxDD10fxjAxHoXAXTaJG6dEyBKQIQGIJjn/RljyARD6M+4Bab+Y0K/ebgYDlTWAVzf2z5PDO3+lFATDa+wOIP+G/0AvnqByRD8++RZdXmFMuWpEGG3VzSUvW7TE02izLcXfj/AJABQseUWAuhy/074Y7/Ded5p+18PSpiAcwOBoOGf16erz0PBfZ5vlqeBf6omcU9h8AduchUIVquc65RtDgZwJtMzecJ+QDmRFPoBCsRjROGuXhGu+9U96j/8YYBCDqgiAGLvQwgIuySgGGoXksT1bD++D/PB8InyOgFJrC8mgIzJ1hMpodB0fwjt53oiXz489PXLuhDy/ZhP75mUqJl/V8sRxb0MPQwX/MKkCGD4PMQ89wwTXDEi5gR4LffA/5o4a4I+x+gAjoexPkwGM6lHlHH0h/bjz5hd33NhgHgdgIjsfU17uCENiIuFmX4AVroCLi1r+BiVZPs8rcvb7FHhf+rPpOuNrUV/yCmhXQ4JJAmga+vMQOvrMERzBeULnxxdXMrQwPAD+f66KwXZt+k/KKwD8KpAvWKRgCsNuJgANAi8Ah+9IQdi2CbPYYXtr4TllYchRle9qG9gHvTDBKAgPmQBJE8AfS7lizTQtwd+Tbh3ORNeGiBvd9IJWIROBQTQtU7Rym97rktot9R/U37pzniAchuUOKpZ5WAeTsHQRcRm3jXvqdY+ivmb2KNBYFgqkEkA+zkAcmPOLoSIAyZ/Uv9RzlY5OqGB2S3G3CEgT5oo7/RcwGAJAXRP7kdABXKdg8sJQFFSkIskxBXkr/v30kwM5sx99stijcNpjz0SRP/BPH5zPVXTGggowia+u6AB0cJgF74rSArNCVC0HYUbYoAeJgwInZRc74vXFZg9JF0IAgcko60E0IWcTvPnXasL6852oV1eP7JHk4JcMx4zvc0l3VeP4fK8JvpzJkAuTainu0RkfiIygU4DiwhAhN0S/vg4FuGGMB+EaWOo3pBtlP8N8L3iCsT0n16xiFhNN1AT5Xs0I8j7AZoE1LW2EF7FppYtNncrmnHPuicEuU4hsy+71j0wTADdGQ/ok/CgaVF6hSAdYRFSh/SNyZksemiVE0O0A6hpwpuMPvttRv8pQYZ/ym+D2B2612UEZeLAPVQeHMN0F+KsyNLqKZpVAAAgAElEQVTJLOry93xcXlcA2bunE5TONIFLHm7Qi4LAXc4Fcn2pAzf8HgABXPKlTkvlfsDw9GagbypCGb53KT99Zf/nMgLodYu894qMIAWMUOQELPIA1pn8eaM+gMJ9nqwpeofkJ7MLJBUAsZuSUYEgmIQf+OJVfrAxRAyP2rPH8J8hPmEmUGWmy4EB8QEwv49NTon+A+A/eVj5++Hnv8MvP/5Vvpz9Ofzw8eXws/nnh3jdLmPRszs7aPI2156zaAiDxtDInnuob6J+DoGdBy6Z4zsSTsAMiwMcAKcHAGfIgYDyjU4ArGpeCFmkOgeYlDB7BcjTUoL7f8e+LKDZz7unRWi/oyygCy05TUy/bklKmbqzOQQ5dInx1UNBfnJ1ovlPEFlxGjDqFp7nPK8Z2OexQVhxYDjLtVyYW8UBnUZ6Z9+vgHsI9WgiDZALGeo5ovmfdALKaaAyBtD9qwUoZABPghASMWFUK0Jd663mAuv9i7N7776O/uaT07U00GSrCWWuwugPqgJ1oRogwAH7CcDrFhQ+dfwos7Ny0cD1h0ib/z3R3aFwJhc2g+vCEjH9GWUB4W5xyTthSvN9Wc1U5ua6oLZbWbld6P3HV4XrzmxgrFGButwW1JSAFA7YTwCune9UgQgrDL+H1vIzb27HlB+RDEpooDgNNObX9+pQcE8nhiIqB5UA7tPQv086vunYjbk/p9AMaGNwF/f00uhClRPQrcYyLvNcxFxzM/3QHOsJQC+VfaBV9nZZf4vdfRSFf3td+v/fkQoCf7yEs3gv/KFg+CPA0ILDYkx4+A3m4VnvjC2NJ5dTUfk+iTDaPbUXna7aAU9Prp6I+OmgEOMAr0+wkwCgtVsoFIICsg9oNBjz9s7dyufxCkGiE7BNBdrRC0j5+QOdAK8cpINX13rTxzo864Ce7IMdMP+7vAho97ST+ztXw1spzja0rKEY+rs4AOudAIKkAfNfN9sXaT7QZJ+ZidCFxb8Wmf9djj8tUoGKC8Egi8J9ZYe47okE9MkyvDwg3P3RYCXN/+NilfhwbNGuIbt0T7+Hqufk4wOJCnQaVFceldg70/1yP7QSoS4HAxTkhT96HHAOxKNw4E7ivv6/MyYY/olJbKAW+r0oX4v4CwnAdAW6JyDchb7wyDkBGQ/AFVTMB3sDjeRMrBxuI55kj9brijQg7jDwq5klZfpDedsftEWMSw4ywR1aVdQKAphNe14F4jsp8QBMUShz34dw32ngd5HhX0wAvSIUTH67yAnIFAkrcooLX54wRDx1QTNCXT+HbsGQ0vp8+eifS+h0qzCtayWg+Q9dyweFMz5pcgBkuxue7CDIbodOPzE/YPi9gvso7frHH7DYK98XhH//NwqCwB8IGKsKRrRCWP+AdJHwx/XyWK5eP/xBME/I/OFvBd+SXB1/jvVX6wqm/A3sNBgYmBCXJdi1xaTM35oG/pMJIGn7X+97Fe53q1PQBvO/763+/TnWrgj2ZCeAWP3dExUAjaaS/yKT410qsuQR4RM+XNdUXw5a+cY8n+FVX52JjzlU9LcNNDB8+Xc6AQ8hgJIx44MZzQ//nNFA8o6TPzPm/yIaqA8Cm3yg/Dsjg14XCSBY74oKeG+eTorhot9k54PZjVMKfcU7rhC5eUrQGkJ0OQtImeEw6IO2Bgo4AV0I8wbQ2YX+Ch8sghdOBkNwh5ze8wTzfxHiLyeA/qrSsBIPQMTunl72Sx/epBd+m1zmf5hmMK87U8z/Pm8O0a0sIELtXMKKoT9ucgJEiaaWAFY7ASUeQAn0z970mPnfl+n+qwigyy0cRPN/iE1JJ6A8L4jcPBdirlgAoPxWurQd3fz3TkX/d5h3uGf8uzhAtKq6VQpQ+MHlBJhkUKUCeQmgywVrH/MZUHtme5jhPnaJ/thb9lUIFEskoL64NCyP/oWNIqCVXw3N2F7XWCLzTHRPR34sMP/5be00X+vqAZiN58g92ob+qHACFAIQty9B/xgZmE+L7gQouL8I+hHK+OT0UPiOz8Z/yvco5v+guj/Ex8vPP/AEIfNPTLKASM5PTy8so0x7hjlmlKaXIHRhPSx+XGipO0OLcvZ6Q5aMOdBUfYBVETakhBInIEMAEMrKsEwOMrmB31DzKepCf9DZ/YJH8+l+3X+pCnRbEFj5efdEAj7+7HIukLdUWAFTXdZfEQDgd0HZss8bOHeavGReSK+uJe5WK2mFiQM0mUR/TBQeCNUDOqYj6jQE0L/LqxTE5l9UhBSLoafr+2aP07vMf2xrBdETiSIEhnooMIB/lwhBDgl4wWIIjrymKTPzisrkvVkmMQx/2KPJP31e1TWcsY9n4zqfwxtt3q9ZxNhr4IvoD2pU9tJIgAjl5QRQ4grA8tIQFf27v+i316n/OoyU08AqDwA0k0dxBZY6Ad2zgIyCQT9vjwm7sXLi2NNATqbLxdJVZrvoAnp9RPEZ0Oeta1VveQkIQle4nyAVEHYwkZi6HJWFxzOAEHxG1Bsgv3KpPWGrf5H53y2ldJH5jxUxAExUfvjjAbFIQKA8+O8HXicsFvfqhJFEVb2eQO9iXRVLUIwd02jq8zbuQ6w0XXuslIBilLDUCYClGiGaFzSkDQgegPfoXVgAoGvhorzVj1vN/xVjRxbQOiegb8kNdQHE7Kr/wqvX6u+eFnIrcklNRyHzbECw5ZWJ/dheWUgy8LIl0V9xArqcMtSLIgGoEH9EvulWx83ZtJuswLUg0wMo5IAZ3POHqgvx3hWssFACMpmAY32Xw8h9WW5oDPo/sDhcTTZkiO7X9E00d22g7Fa5mxkhqNPFxYYb5N+ictsfWv4PckIQEk5AGP1dHgBCfoD4/Qroh1+uyZj/S72B/6zbNRF54GwPh6gE9IGhem4oz/scKkguHEdFDuhwn8puk4BYjqHdaio3FB84HGyTgEpAJOwEEBgdTl3MdQh8adLV7EtyCzrtCUi+n82q6FeZj1O39E/+XN1l/mO1BwDNCehregRlDP9OK7/IBcJj+5uVR0PQ76N0lysxZJ6Y7in+6nLyj/6o9MkKMOYT5ZWAXLNUiP4QtB3Mqwc6je4qxrvCAQGsFy191NWpXXlOh35UaD6iBCRyw07zHxuygPif3Skl9/XxAA7NgbsSyM4skX1EGtjQgqLLlQSZx4A/eyVvVJd7AaHCCei0X01M2OG0oaCq8g1ktQoeP2Ao+3AtaDhpyTsFvwTkeqh20sBCCQge/QelqwXALwRd9R+S/POx5+H16oXEpm6TgcufO1e87OGfBEBN59fUOk1Td4YvoIW+ynulv2NDKaBQUO40EtC1FqEBAphNoGiDi3wgEhW59QTc9S/DKpAX9N9i/uPeIPAiJ6AnqsNc+PgXYfu/C446bSbanVUFP49CdguPSMX/t9cV6173WWX+kz8x0u6IoKS/b4USUB/lqyjSM4d7VFSHmeShfyOe5GwePqaIXIhIAzFXgFg5nAmUhxn3mf9Y7QFgjRMA/8JhEMoCuNXvumSzrZCy/81Lg1VpIxnzv8/zXmbmv/he8R16p6jqAxKRgHIC4GgbMP8hh6Ax9wPE23H1/4bcELtH0LI8dcP/IeY/bg8Cx5yA6297Ohqch0VzLYFOQ7vDg7oE+kz6/HWzXt20B56+TOQl4U0gcOkDIUbyxTsSQ3ZUOAEQIgHIeQA6+utw7xKsXKc08yE6rQvzfgh4Ay574kbzHxs8AGhOACqSQRFKDI3J/R/nrKj/Sdtf7zzKH7Kw2ct37jL/XWcSM/+vJ0lUBXLQK6DAoyx7qWKDChRA23L071pMGJYfMNOCiDSU0f1N+z3sBNxi/m8igDD0r0B/UfYhQGzy3PWHZD9hoUk/GeW/dCz2nkmnOf6dNn8egu8Qi7uQnT2kk+S1uKICJlWIQvkQ0XQnQP8JuSP5PyELQeZdG3pLELqPoMLwFyUg3VjZSQNbCQB7q8My6E8SK6/nbH6G1pBH7MI/oxD90anq7JZ56PMhhyEKiKrx7LfcJ8igvw46ihOAee4/JwAdjnWHAFoNsMvYd13RdUKu3DBki4zh75WAHmj+7yMA+MO/yElAM/Q3CUDBR9JR7vqZ6DlX7J4V9854hcO6KXmbUTKTokQuUVTy65bX91x5VbpVYQshFDwDmiT6m0Y9qBVMwJGjakCQgRYPKEF/RdRSiJ/cbpHOw4p/wB7S3dZvIAAsSATyov8QfE0FZgjQejNRVOg84tPAXavAzhVDXn/ExcsZgjJ5M2cbd9pLJ3MXym1/bHECrtzmJYAZ5obJAFqfOwghAVM6M82dmPijP06mJ+F9319JAKuZYPYlN/9NlAxA/xDx9WDDkLSGf5ooiai+xIHbRF4TLl0PeqfNNWslIB0vsKbLWLfaw+lWs6IIwXIshhOFnCtgHj1JA4SkYxygMIHIE/fi/t/xz86D9VxKaNeazPANSAvM/u+KIdLCoU0WFOuj9E2ehtjoSmE6p3485UqjzZ5I9Oxyiyfzt+IL0OjCL8pz0v2pUK4o4k70v+JILQEEggHKZ1HkcXkDhK2H7ulMHQqLP+HNTFr6NgIIwEcX1n3t8x5k3SpzNefaLCMAXWDy4yjKoa/t3vbbBbFb2XOlA12rWL7e4g+SICCen0nFusx/4Kg3QzrRmnbB8Tb0jxGAAqNmVCDAAQrcx2IAm8d/9h9yRUoo5kLQTO0Ru/rA2U0IVucfcbc8qrwinNDlYkj9uVfeotlOhtKzeWl8/14JaIZ65ehvEgC3ZAnClhPAcNK8ZIBSP+B6SpxKAxygM4GJ+M8x/3GXBwCPHNTriodnp9EnlbfeNqKK8jPbPkal3Ur3JKJT4ewV3pHZW9EmHafFs6p6zUQQhyb1zH6VUYF0zcQFxH3eJy6D+NB0Ho7+fdL8p2t9NZTbpBgfCmE8BPf/jv/cctQNDYJmTgCEVVNcbUSvH4bGPk/3VOLJfCYz2JoHaNfOFSlDPCJRgT+2ueJChgDy6A+hYREsm9flBMCZEQQ5Lyhj77vkfi8NwEqyCnCASD8KJeCm1M/7CQCLa4M5AZi0FOaAWa4OwXSlkoBQi861GZ72EkbXsoP4HmZg7X3bRd6qkoBK0B85JwCCLW/iOPx5QbACyAH0V2jAfCrIPsVn+PvEn/+N2ySgv9fsigYnj6WjXo+uKfaxk5/fdCvqq+QUzfaPeRA1o/mQ32b0H674zTbuudSjqjdNl/KTH0QnQKeNTDAA/oSiDPq7LhmCEa1HEThqux4SxZe9S/z53/jPjcf2OgEIRX1hxVT1k4HmAfzc+VDGEbFSb/12pYfazkLiK+F6UU1snfnp0KqFiX79WPSH3OqHoJWolngJQKcQEd8V9Ofnj5GY0+eFAl75aPhgB5yAJ8cAbvYAECoOmFmdCkSSuGgT2kpjXg2AeQLoLNmf5I92qxZhOF1khvuCZV6q7j7Jjp3dEf4sdU8v6MDrFwsnemkg4wSI0BnwADAJpVSZ/C70nwE0ua0mag8tjy/D/b/jP/cePm/+86gvhCad4U6imMcbZhcIZwsdWCmq5Psw3CvSf8w77vP6ZBKe1U08WCow5int3quA3wkwsfv6pR75DBjIIgHEpKQk6HtpIMkB5sb60/6K2O9TCABRIYgrP0OcNZWfsBw03L+4vZL2o8d+l9r43ZPzYD7rXSgC4G8mZAnoSgMmuCfRH3WhYGgqUIwAhjMZJoAb0V+hQ/7QemMJ+Aon4CkE4GUCl+Gvo7/uAQyhWRT9zcqv2ZdiIbGO5uZ/ZeJgGZrhkN21WjY98GuGN9ehPwRfQYdjyGpJMho8vDuL0N/EXEXPMQ0F87ffhPsPIgD4k0GJ/OI9qNlIjvyp0E9AltEDG7Ntkn4AF9mR03/IdXEL3WWgDZEd83RP88yJLrwC/b0EcN2VN44qQjZCKtAiGsDcFeBc5QJ0Xah5l/jzXALgmIuJ4Q9ZnNHRn8cAeG9OLvoPeYsnFGWAu5ADFEoQX5WPAMAVo02s5xKQ4kwM9+l9z8tjAF1uC6FrQbDSga5sF5CSUO0H6HitmPZECyLPD/HMkHACnjAeQQBIKz/Qgqte9J+dEtd8uAyl1PdyIO5W+7PYM2c2EA3cVhcxDKGE0Aw5ye4v/SWOAj+lTrNH4AwGmLYtJ4BulQVwAvBGAjBXz1Bn7OsXHlDDXAxdK/48gQ/uTwP9Oxdmjc8Vp5q1BtY1pZL3DTX/63p6/d+5m8NET71pD0khNX+LXM3XzvurE0wP9Qwf/jBz8grTDLe/UQXSCWBGe7oIjnnJxTr0169d/4lCGLMnxCX6nxjAFNl15QfU8M8oP5iL/rMzmf2cXAtodRinN1MgMmnDu59YAECBOaL/kLdLCdXqHkCAEtahv6m5w6OBiNvwUDCskLIoIpWgv6L5KBsP7ynXjlyTj+eJ/s8lgELox4KF5nm/NrPCAFpS0CyPiF8j5OKAAMzBkxKXedaTJlL+1VLiw9wwXMEESDsBJnZjrgW5uMcbDc6jf9faQihIbdI85J4/5p/PoYFnEQD8or+CiRkOME8DmuHPoT9wIXl8v/cuX1OATAYKxABMiIcVJ+B+xlL0X0cASsDcG38eTtEG9Bct7sDGOuK/Ufx5DQGQbB9zP6jwABQSIvzBQXyYRTrDNU4Pz3zCMI+OgoYQOTHMTHUSB1ZMNv2KsN72D6hASQLIC0Eif8Tg3hXUXcEB+CLx56EEAKfhT/yAPAe4NKiZeS7+kF8RYTjz8l27rX1YddvH3DJg/gfUfyVmEIgAI60CwSPFQIuIIpoSCmfGvYjjYfQXQRxRLWj4EMas/hMDiBCAF/pRtLaMiP5K/NY8W97HYrifmP7DS44VZSZzZxHVfwJ8o6M8+UbxMNahP6JtcPSUGFgJnV4CAC27LYF77+W7OMB0AmZ3By90Ah5KABn0d8E9aOwXtKuPK4wMGmBwlTHP9qkjfh5DZy+ACd9EsBIN9sA2RMfXvYR8DAAeqQEeFUiBsD6vb+IaDiryQQvhXsnSQUKr0R/4F2n9LyOAWcGtiXF5wx/zZnPQ0kZnF4Ko/d6sVQ1ij9pwh1VehUIGM1QKxHJ1g7pk6H4Aoua/GQ2O2bAcMZWMIDg7UnShtM0L9F6rf3YvMn6D1+o/MYAgAQSgH2nxx4v+BKyJHBRQfgL9jgKU4wLBFfvpQoGluR9vDKBPxuxYSfTXwUu0xFEnBF3nBJofAK1Guhb9zYAwBJcr4xDod/8QgI8AoGW4i4b/OvRXEv9nMYYZOs/EE7OwAH73Agv0yit6DsUuL6yHGWUG7qYQNPuVjv7Imf8IVTl1oZ4AWmkYnOlAoJXGMaAX0b8L3dzMFAPznrq0/idrQY+OAcBZ4pvnABf66+czZDhT2CGqURutCcyPGKOHwtFzCaBdaPFGoL+QYERY0TGIo08+EpAhgNnNglMVUZyAWvTX5zwp2rzO6n8HAZiwVQL6sIrOIGeg8pZwHO4/zPAhYZjYrUC/yDSFWM8d6is6E92Ww+Lml3BREBiaoRoOBSMXEPaqQJgwfRXEd6syWZ9ShTjJA/Au6f/RBABL0wjo/siJP/pulaivnt3ENaJA8k9JFXHAoB62/u+0w0TslLw5RTNqUWIA2BgGgEf3CEQCQLM5P6bUqwUFgskKuIfRX1T59efnvU7AQwnAhLww6K9A/9m5ceiHHPV1JX2Gkb32qVXEGZMPvCHc2LmZhDFzU7aFAYb6iQjlCi7r2B0A3z6vGwjDur6ZOL3mD2ufwEMAcSbIm/9e3DfRPxD1VRL/Xda6N10q8+CKfYrCWAx/FyByOSRhlJv5M5bqNHPfRP8YAczQahEBYGK5I1QToP+qEPf1SABhAjKBw1/hVeb/awhAwVkkJKAA+s+QVxFedOhX1H+9J4SSPhSjAdfGinYPfzKP+JIXjvIwgBenulaUO0Mx12bQOkN0oU0Q1lv9pjkvykHhgPBbvIE3EQBkYzyj15scwOkEVsUvgWBeQuyaolr3gj/r5pczHN/wwMSOopyejv7ICUFKKFiBPwVV4UkKCoDyftxX3DXvBJrP1Yu0oHcTAHLmv7cpNEFMk2lIH2nlMjnQB5qkDp9X14M7S+ef5efMDu2KFnhfOe/eRI0oFgSG3/zv89ppyG15TGR3beaN5eIOe9+VHUueHP5qvFH0fzcBFHJALNhrZk+2+TpinEXIIgRIizbPXEIg9irqbywXkQj0E27wKk6LhKC8CN61XjrQggFJ4K7Ceh39XXLQHkXxEECWA5TvTScAc7PaDPYS2Ye3tciLP0kPJn87XFUICuKb2wSCt31UYxVOGDURP0YAeiAhnwlDCAByTW8YoNfhvuISici+ObB0CKCSAxSkdjX3h5xjOgz86sgeOLQyV7e7AkpyPSyPm2+54UXNSP8IuQIQQsG1BNCtFhHm0Vfjewb9va5AF9p/HgK4kwOSTZvz6D9LKjVb2pF1CF50O7pWAua9udejdKHu15U2OjsKGcOTCbgCMSaYgbiCiZDTgWZb5kPBD0F/rysg3txDAPcQQAb6Icg+yv4hpP3AmdBZshpBOKcoBtNhNC/MoluX/5NB/BgTFBKAWFIwI4DrLFVJQHehf0xwCzPHIYA7OcBVNwC56xzpJgSt2YMZ+92J19uGbqeXvFpc9PdCv47+7yIA+DOCsMUJyGw2e+TCmP41NPBuAhA5IFPci1BakbiegR77rTL/OaomWScDoCVcwnF/dg76yZBdJckgQwA6/noBUU8cul3YUXJ+dFdAf5jfrgW9ngDgTM4xo8cl6K9kcO7UagLgvs5dEMO2xD8QI8nKC5mvXHPxQV4XwsSKD1RCIaoCKVrQkzkA0W5O4g06BHAzB8SCvWKSvtlHOoD+HHPzsY11Ex7YRnxVSOHY8M8VpTpmkmjGG4jlBcHZGkiUO/hvIbSIiIF+7U+S6C/OM5nPQwA3c4AXFsUFXqDpLQEFn8cnEE39hJ9XSsbH+1DbeE78eYldpuhCARekNjFUIQAF0yEUBmOxEJTfOIP+SSHoEMBTCACJkC+ECG0M/V2BX8it/2MFayLUki/XQeoM2gI/T6J/bJtFkeGdBACrLgxaNBi3ijxJ9A/Q9iGAp3BAoeYDOflHWeJxuAe9jSg8i2WGrfvyZWSSFKL83CXRrEP/WwgAFRVhIgFg7gTEzuEWoV9Hf/NJeFelznD8CgKAHPJVfqKk/cDT8iFQdpC8ZJTqP31NZ0Sy7nHmxErOVtzziwgAQl0YtEjAag64Bf2/VRr6cgKAZv4jLf4k0d+UcVyuQB7ck3KQ6THo70+4VXUf9dEkeZ+uZFDx+20SkEID8KSEBpwABdbzQF8I9wr6fz0NfC0BiB9QIf6UoH/gAvm1u3aeRPxZSQHZeMXLQ3JG+cbh6l/+Xw8hAPidAH0zV2cI3KfsJ9H/W6PBX0UAcK6BJYo/kBcQhkdDN4UdhMSf8EJd8Jvb/K0YpgAtDeR6k468VOSVj8oJoFs98pQuCyhyAqBli+IxHIAQ+pu39dXjOwkAoYzP4Wai+AMtKqu3hkZC/DHTijJ/eiF455sTeFfXoT/WE8C1KgI5FQgJJ0APBeNWfT+G/scDeMfQV26BP/wLS/zhe1b0H6VwbHiswMK/SfPfdTvCb1HmrLZ1m8AdBBCIBsMjc38UwYlOAI8Sw4Pddwk+vwf98X0EACsjnv+pN5Xzru8YQ//kejXDx9c7FV4oTxYAb4Ps2l3tIQBEawLgcQJg9YYzd6goUas5AAf9hfFLCcDEXHjEH9yN/qT9XNL8937/cT4BODZN/ny6TmC8ggDgkV8gOwGYB0v0o9xl4x/05+MLCWAIvgr2BWK/Ckqa6O/N/jQRU68orsV9svFOLL7loPsJgBwxmQsEoUnccA9KMAAbs/gP+pvj+wlAgb/wgl/moXln5kAGKoT+z+JZmd+TmfRuVo7FmXrd8EG9G2wmgK415oQWVFC6A8Fpie+U9Q/6K+NXEwAqzH+yf1e2aBX6B7rFmXOi7+pq9QdSP1EUSPidEhBoHmfYCcDzOADLQP+XoD++mwA4oGRWExM9gOR6L+af5s9NjEZFmOS6/c/T2JmKk086ih0XiwkAHpsdiQCAkutpbolQURgeA/q/B/3xewjAi2jPR39X338Tu8u7yP398xb1f/+hVxAAQniNaJgUcjTYe6qBuoQ9od1fjv74nQSAosWEzd3qjeeQQH9T/MmUCCh8wLc5BKD8WesNhNETcqTX3MBb+YUHgP5vQ3/8WgJA1PyHs+IXCVwOrCYmLiRgnoBr3j7+t1CHSe7qmwgAnpBABkNnu1VahKKoxBd3gP4vRH/8ZgKAM/d/CEl6xS+cHfy9dQnwq0D8BOAhBiVmm3/BDgFcP3tLiBdxAKx4clgFwrIwAH49+uOXEwAozuqrx3z8EJ546fW3cKYAKbZ/VQyAk8T1y0DBcBiCk9sn95YkACzGfUStYEXDUTZGKDS91Mw/6I9DAPCrN4qOry/x6BWClMW5Aja+Pj/wYLe3+pe4MocAsN0J+NitWRj8sfHsrJa26zl9nl3jEMAn7ojCPeYhXFOTCaj/V0wXE5NcCo8X6zkn7Q//rrPpVhAAtAwc5HAfFRxgtpdQto8lpx70XzoOAXxiWaaBhBI2ID/nH8RmQcmjBHY1fP/1hP3kqr/eQ8dGCQFgb1SgUAgaXoXOGeLPD/rvH4cA/gVDisxCDH9otQIloF+L/uJ5mluW35GHvKvhdQWWOgGogHuk/QDznMUSYiyW+I/ofx2HAP4FN942D6gWf6Cxgtn8p9DAF4PJsRWDZ7fAhNcVlMPHG50AVIdGRRVIj+7iPho4A4cACAAFqr1E/kjqP95WdChCc2+9gj7n5vdPeGmf7wSg2iEYnkksEiDuYZGZf9B/Ng4BfIJOAFi9i8OgzhWYISaK0D8D7nwGvOPnqxtebCA59jsBWFYwHNPHzWZzZHto6UCoNvMP+pNxCMDGJnFJd1H8QZ3+gxDTIIf+egjanGFXKDhsgJunVNhhVHQC8MyoVa4AAAfaSURBVFQOQDQllFxdYGUYLIhkHPQfjkMADKGG/2VyANln3t5P+hkoQv/83IqL23zAinKDAqe0nwNclOBqwYZdHGBetXhKG+z9g/6zcQjAAVth8x8VNAC5Gtm1qxj6824ZZszW9ac4XC95stZsAwfcGByG3w+AzAHK6pKxM9RXTTjj7zgE4MOLmSCDtPgDZ2tSjmj5ODA83MObQGzI2MnnIAXwgmx5ezAAdYHi2YV4C4mhLTuDnJyFI/p7xiEAN8ToreLIz2dfFuo/WIz+ZiD6f69feF3iwK2p2nKdK/B9HKAkAkHoVn1kn1vGIQA30KyGfkSLDHAT+mcWoUwGGPKLFfPhbUEh/tftWhDqOEC/WH3FAtQ5AWfwcQgggjjhtB9EXQG9xAyJlB79Mzm6vk1y4d/V6O86me/gADjx1BsJIBwALQyAI/qXjkMAvhE2/+GHYLPLED/iahowq5Fn8zD8xgXTe6B/CGGxzZZyAO6Afsh4Le6T9Bc6hv+6cQjAPUrSfuDPsl+h/6AuAGDOGPnm4ejvApeMZvIcDoBfBdIXDTb3fwz/beMQgHsklR/kUoD4WWGl7KPsTWnaE84Bjbka5vYrVhqoqghDuj4A1XxALircYYLnAuGg/7JxCCAyYsY4QirQalcDOSfg+tmcN/KrQHWY6wTMjQsrwrClMBgLyoYh9O/84Hul15trko/ss2ccAogM0WgtT7DZQwOoloDESVuXBRTb+bqCALzZFZidVUD3n212iry2jUMA8REWZBANAJinsQ7xkWgCqmC91/bfGQnYkwiE51UJQC6q8io5rtk4hv+6cQigcqwIAJAi2xLFJvPZNSH6N3gM9HOE8m5WUh6MZ7sCJgfAuZCkcplnhMchgOJRZWK7aqyWony4O3QM/b87CIyQ4Y8nuQLitdeuxHLQf9E4BLBklKgrrqx/LKABONvPkS+Thn/tmpQPDAKjmgY21JG5LsGF4Cso5IzhOASwasSQN99iIUwJKGUL8qVu9Rfi/l1BYL5BHvSRxnrkVKBh+z9FxvFOyEH/FeMQwNqxusHONs3H9V+Zb/j3yv/GtiRjc5torMwTXa0CfbSHC8dveRThjKpxCGD5cFnZSfEHd8D9NujfjPvXcW9iKIpwH3uDAXDieKxu4IzYOASwaWzor3kL3Jf4AbHvY5vNtl8RCoYzDICbkoIQgv7hkg/ehm5n3DsOAewbJqqG26ttE3Zchv9bAr+z8eSA8IquQaj2ACA4AdecZlJUfEb5OASwe+gLrP/ccri4SjKEi4Rpv98P0DcIbGmOVwSE7xKIfk642PkZB9mfMQ4B3DMy6j/SmTx4G/Tfrv7/HO+NBKCaBvjV8eV/h3/OWgydsWgcArhtiOo/WVx3p6BfIvisKPpNSv/XcXtdGPamh6IibCDOwAkDPA6FzhTcfANKY794D/Q/Vvq/joe0CMUjaYBfZqCvw7Cw4IxF43gANw+u/s/ejeufK7D+OdB/JCDXN1WZQqjzAJQdnnED/pwpuP8e5JZWX4H1K5gAayQglKpAm5NBIUtAqMZ9FLECJt0J4XECzrhrHA/g/qGo/9gF7nucABwJSPt+tflf++eK+TxjLficKbj/HiTW113ECqjI9kEd9P9mCQhFDkFVazloNHBNCT15/Q8cxwN4xPip/s9ep1v+xK0m/6+VgPBOh6Bqus7YNg4BPGKsNv+xwMZfhPtHAlK+X437qGCCWV3YGc8ZhwBeMJ4P9KtT/r9PAsKW4gBsJ4YzXoYtZwpec6u+DvfvAv39EhCiZPB2JjhOwMPH8QBeNjYEbx8u+r9dAsKzQwJIM8EZb8KTMwWvvG3rcR+76rxeJP78HLfY/igy/7GLCU5Z79OR5EzBu+/fs3F/KeiXdwH6OfanA+EOIQjL3Igz3gEgZwq+4S7el8q5Tfx5iCuwoS80FjABtsQJzngfdJwp+J57ucv8x3rlB7sQf1Z4IY5b1gmYfb/TUTjQ/yWgcabg2+7os0WepzV/VsYTGkTjwQLRGS+GizMF33lfF0P8b1N+ruMVWhAW08MZrweKMwVffoPvYAI8MudnaRAYT8oLwsH9M8SX4kzBr7jNt8Z4k6C/P/Gfjz2dIfj/3hUlPuPbkOFMwe+632/Q+reFf3/++fBQMG6NDZzxtYBwpuA33vW9iT37s/4X+QHlJcHY4gEg4QSc8eVQcKbgV9/+O0D/dZoPH9sUoc1kcMavQIAzBWe4QPxGxL8lB/R/45bCYCxOEMKB/vPunyk44/8/DY/RfN7iBOzsE4eVTsAZv/SVP1NwxvjJ+Jaob5IebswHxRZF6Ixf/ZqfKTjDeESqEf94AOFtCvngjDNwCOAMx7Py2jT/MEPE0PPJhQJnnPGvV+NMwRmR52bx4o6/1gPAAifgjDOm786ZgjNSD9Abqnw3ewB4hhNwxhn2q3Gm4Iyyh+mOdM8vqwMQNzugf0bNO3um4IxVz9ab1f+f4/mRgDPOCL6kZwrO2PGcPb7UKzPuKhM744zsi3mm4IwbHruX2P4/xxP8gDPOKH4TzxSc8YgH8Z22/8+xyA8444yF792ZgjOe+3Q+w/b/OTb4AWecse8VO1Nwxpue12pwTy4KPxwH7s94zQt1puCML3mUn7om8BlnPPetOVNwxjc/3/elgZ5xxhlnnHHGGWecccYZZ5xxxhlnnHHGGWfcPv4fgpSc7L7JrjoAAAAASUVORK5CYII=","ignoreClickEffect","setStyle","Sprite","glowEffect","flash3d","faceTo","binded","fadeOut","mark","wrap","prev","next","lastIndexOf","ESInfo","MODEL3D_LOADING","return","loop","AnimationMixer","clipAction","clampWhenFinished","repetitions","toLocaleLowerCase","info"," :  ","abrupt","previousAction","LoopRepeat","stopAllActions","stopLastAction","setEffectiveTimeScale","setEffectiveWeight","setDuration","play","watching","animating","removeEventListener","finished","end","substring","modelStore","MODEL3D_ACTION_ERR","LoopPingPong","LoopOnce","match","getDelta","restoreColor","changeColor","resumeMovePath","movePathingTween","followPosition","maxDistance","movePathController","maxViewDistance","minDistance","minViewDistance","stopMoving","tileService","enableTileBaseMap","faded","rotateModel","rotated","paused","clock","getElapsedTime","rotateMap","isStaping","movePath","startPathIndex","from","viewTiltAngle","tiltAngle","path","_originFloorHeight","spanScale","_coordMapSceneToThree","disableTileBaseMap","target","followTilt","rotateOnStart","rotateSmooth","followAngleRotate","toAngle","index","getAzimuthalAngle","getPolarAngle","_coordThreeToMapScene","onMoving","complete","fp_","coordSystem","onStart","elevation","getFloorHeight","speed","reverse","toggle","filter","status","open","sceneX_","sceneZ_","getChildObject","_enableLod","_lod","_lodName","lod","gltfObj","setFromObject","getCenter","replaceAll","preFetchModel3D","remove","Box3","addTestCube","BoxBufferGeometry","testMap","raycastMoveTo","raycastTime","depth","typeID","modelinfo","box3","max","min","point","intersectByCoord","tan","rayPointer","rayPoint","ignoredUuids","explode","_explodeProcessed","distanceToCenter","explodeCenter","normalize","originalPosition","targetPosition","minShowLevel","Height","useGlobalStore","updateImage","glow","glowPlane","stopGlowPlane","fadeIn","setSize","setColor","alwaysShow","updateTextStyle","updateImageStyle","flow","forceVisible_","onVisibilityChanged","scaleRatio","height_","image","text","bid_","isCityMode","useScaleLevel","collidePass","onBeforeAdd","zoomLevel","_clearEventsFrom","eventId","tileBaseFrozen","updateTileView","time is NaN!","then","loopReverse","moveTo","_animateState","userCoordToThree","fade","float","stopFloat","chain","resume","pauseMovePath","pause","isArray","ESNode","imageStyle","getContext","rgba(0, 0, 0, 0.5)","ideographic","auto","fontSize","sent","getPlatform","isPC","font",'px "Microsoft Yahei",微软雅黑,Tahoma,Arial',"textAlign","textBaseline","fillStyle","strokeStyle","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeWidth","strokeText","fillText","save","arc","clip","drawImage","beginPath","stroke","restore","fillcolor","toLowerCase","convertColor","space","#FFF","strokeColor","squared","canvasPadding","letterSpacing","lineHeight","measureText","left","right","top","bottom","middle","Texture","LinearFilter","renderer","capabilities","getMaxAnisotropy","generateMipmaps","ResourcePool","FetchImgByUrl","calcProjPoint","isString","_switch","_eventMap","handler","once","_wrapOnceHandler","context","listens","isNil","copyEventListeners","_eventParent","Z__","_clearListeners","_clearAllListeners","_setEventParent","_fire","concat","domEvent","stopPropagation","getBuildingOptions","data/","themeUrlPrefix","scalerOffet","scalerWidth","scalerBgColor","firebrick","#fff","dynamicLoadModels","WGS84","mergeModels","modelSelectedEffect","defaultView","model3DSelectedEffect","viewMode","shadowEnabled","compassPointerUrl","compassBackgroundUrl","compassPosition","cameraMode","ESCameraMode","NORMAL","shadowSize","shadowAlpha","defaultControlsPose","defaultAngle","defaultTiltAngle","perspective","viewModeAnimateTime","moveToAnimateMode","compassOffset","compassSize","compassAngle","hoverMode","powerPreference","minScaleLevel","maxScaleLevel","randomTexture","naviLineAnimation","showBase","loadModel3D","loadPoi","loadLabel","hideRoomLogoMeshes","lineSelectedEffect","effects","mapAudioSrc","compressionModel3D","devMode","quality","useCache","useBuildingCache","minZoomLevel","maxZoomLevel","rightClick","debugTip","clickHold","isShow404Img","frameLimit","buildingFoucsMode","initCityOptions","initBuildingOptions","DefaultBuildingOptions","DefaultCityOptions","MapOptions","lodSources","service","lineLevel1","lineLevel2","lineLevel3","controlUpdated","checkLod","currentShows","tempDatas","loadBuildings","showRoads","hideRoads","modelStatic","roomModelsCount","handleModels","handlePolygons","progressHandler","Labels","ESLayerType","MODEL_LABEL","boxCollision_","ESMapBoxCollision","ESLayer","MODEL_POI","pointInArea","vBoundary","ipos","other1","imagealign","_id","Tid","poiStyles","fontstyleid","labelStyle_","ShowLevel","data_","scaleOffset","bType","DEFAULT_COORDSYSTEM","multiplyMatrices","matrixWorldInverse","vmupdated","Typeid","mapTheme_","getPoiAssetUrl","ESFacility","POI","modelViewMatrix","matrixWorld","addObject","watchingList","loadRoadsFromData","roadDatas","loadRoads","roadLoaded","navData","Lines","handleLine","addLayer","layerManager","getOrCreateLayerByName","getLayersByTypes","drawRoad","roadStyles","linewidth","animationspeed","roadStyle","direction","rank","outline","dir","toggleDirectRoads","navSingleDirectRoadMat","_isDoubleDirect","_styleTypeId","inView","tileScene_","nodes","getTransformMatrix","compose","fromArray","updateMatrix","getParentList","Scene","done","calpos","_meshName","getObjectTransformMatrix","translation","applyMatrix","geometries","objName","checkGeoIsHaveUv","buffers","uri","mergeTranformGroup","mergeGeometry","alphaMode","OPAQUE","cloned","selectedColor","emissive","emissiveIntensity","intensity","selectModelMat","warn","material name:"," can not find matching geometry or duplicate name","bclick","sanitizeNodeName","objVisible","mergeUserData","sort","hasChild","isWall","groupData","_invisibles","Anchor","showModel3DErrorMsg"," data error !! Erro Code: 2501; object:","checkValueIsNormalize","pos","getAttribute","getX","computeVertexNormals","mergeBufferAttributes","array","BufferGeometryUtils","BufferAttribute","addAttribute","uv2","setIndex","selectModel","locked","error data , code 983253","lastSelectNode","changeModelAlphaById","_settedAlpha","matRecord","groups","splitGroup","materialIndex","islocked","changeModelColorById","toColor","flashAnimate","flashColor","yoyo","unSelectLast","lastSelectMatIndex","setTargetModelSelected","mesh","getMatIndexByFaceIndex","setTargetMeshVisible","visibleStates","getFaceIndexToGroup","clearCacheData","setModelVisible","isModelVisible","isElement","tagName","attr","addEvent","element","decrypt","QRSTUVWXYZabcdef","ghijklmnopqrstuv","wxyz0123456789+/","charAt","fill","this is null or not defined","colorStr","buildingColor","computeTopFaceAttr","brothers","sideRange","faceRange","topFaceFlags","createMaterial","topTexture","MeshLambertMaterial","roomTextureMaterial","onBeforeCompile","isTopTex","topTex","isSideTex","sideTex","sideTexMat","#include <uv_pars_vertex>","\n                #include <uv_pars_vertex>\n\n                attribute float topFaceFlags;\n                attribute float isHideFlags;\n                uniform mat3 topTexMat;\n                uniform mat3 sideTexMat;\n\n                varying float flag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                varying float hideFlag;\n                ","\n                #include <uv_vertex>\n\n                tvUV = ( topTexMat * vec3( uv, 1 ) ).xy;\n                svUV = ( sideTexMat * vec3( uv, 1 ) ).xy;\n\n                flag = topFaceFlags;\n                hideFlag = isHideFlags;\n                ","\n                uniform float opacity;\n                uniform float isTopTex;\n                uniform float isSideTex;\n                uniform sampler2D topTex;\n                uniform sampler2D sideTex;\n\n                varying float flag;\n                varying float hideFlag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                ","vec4 diffuseColor = vec4( diffuse, opacity );","   \n                    vec4 topTexColor = texture2D(topTex, tvUV);\n                    topTexColor.a *= opacity;\n                    vec4 sideTexColor = texture2D(sideTex, svUV);\n                    sideTexColor.a *= opacity;\n\n                    vec4 dColor = vec4( diffuse, opacity );\n\n                    vec4 resultColor = mix(mix(dColor, sideTexColor, isSideTex), mix(dColor, topTexColor, isTopTex), flag);\n\n                    // resultColor = mix(vec4(1.0, 0.0, 0.0, 1.0), vec4(0.0, 1.0, 0.0, 1.0), flag); // flag == 1 is top\n                    if(hideFlag > 0.0){\n                        discard;\n                    }\n\n                    vec4 diffuseColor = resultColor;\n                    ","shader","_completeCallbacks","_responseData","_status","success","_successCallbacks","_isComplete","_errorCallbacks","async","getJSON","_errorCallback","POST","GET","isArrayBuffer","_httpStatus","Callbacks","_httpServer","onreadystatechange","_httpStateChange",".loc","responseType","arraybuffer","setRequestHeader","X-Requested-With","XMLHttpRequest","Content-type","application/x-www-form-urlencoded","Connection","close","send","_initHttpServer","ActiveXObject","Microsoft.XMLHTTP","readyState","judgeStatus","_successCallback","file:","protocol","response","responseText","isShowBackground","curTexture","nextTexture","texLightFactor","bgColor","\n                #include <uv_pars_vertex>\n                varying vec2 vUV;\n\t\t\t\t","\n\t\t\t\t#include <uv_vertex>\n                vUV = uv;\n\t\t\t\t","\n                ","#define IS_BG","\n\n\t\t\t\tuniform float opacity;\n                uniform float transFactor;\n                uniform float texLightFactor;\n                uniform sampler2D texture1;\n                uniform sampler2D texture2;\n                uniform vec3 bgColor;\n                \n                varying vec2 vUV;\n                ","\n                vec4 resultColor = vec4(outgoingLight, opacity);\n                vec4 curTexColor = texture2D(texture1, vUV);\n                vec4 nextTexColor = texture2D(texture2, vUV);\n\n                #ifdef IS_BG\n                    curTexColor.rgb = mix(bgColor, curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(bgColor, nextTexColor.rgb, nextTexColor.a);\n                    resultColor.rgb = mix(curTexColor.rgb, nextTexColor.rgb, transFactor);\n                    resultColor.a = 1.0;\n                #else\n                    curTexColor.rgb = mix(vec3(texLightFactor), curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(vec3(texLightFactor), nextTexColor.rgb, nextTexColor.a);\n                    resultColor = mix(curTexColor, nextTexColor, transFactor);\n                #endif\n\n                gl_FragColor = vec4( resultColor );\n                ","texture2","texture1","TRANSITION","TRANSFORMORIGIN","TRANSFORM","createEl","createElOn","addDomEvent","removeDomEvent","listensDomEvent","preventSelection","offsetDom","computeDomPosition","getEventContainerPoint","hasClass","setTransform","setTransformMatrix","removeTransform","measureDom","getDomRuler","documentElement","transform","WebkitTransform","OTransform","msTransform","WebkitTransformOrigin","OTransformOrigin","MozTransformOrigin","msTransformOrigin","transition","MozTransition","msTransition","WebkitFilter","MozFilter","ielt9","parentNode","gecko","DOMMouseScroll","mousewheel","src","preventDefault","cancelBubble","onselectstart","unselectable","any3d","getComputedStyle","padding-left","getBoundingClientRect","__position","event","clientX","clientLeft","clientY","classList","contains","(^|\\s)","(\\s|$)","splitWords","className","baseVal","translate3d(","px,","px,0px)","translate(","px)","join","clientHeight","webkit","phantom","search","android [23]","chrome","opera","mobile","PointerEvent","MSPointerEvent","WebKitCSSMatrix","m11","OTransition","ontouchstart","DocumentTouch","webgl","msLaunchUri","documentMode","android","devicePixelRatio","browserLanguage","language",'Class instance is being created without "new" operator.',"setOptions","callInitHooks","_visitInitHooks","enable","disable","onConfig","_initHooksCalled","_initHooks","include","extend","mergeOptions","configs","ray","Raycaster","testMat","meshList","far","intersectObjects","updateWatchingList","$ESMapPlane","obb","isVisible","excludeNodeTypes","inverse","locationModelMesh","_NORAY","dXNlckNvbXBhbnk=","dXNlckxvZ29Db25maWc=","ZGF0YTppbWFnZS9wbmc7YmFzZTY0LA==","sprite_","visible_","sceneOrtho_","margin_horiz","margin_verti","updateHUD","updateHUD2","sprite_2","Error","SpriteMaterial","clientWidth","offsetTop","isInitSprite","initUserLogo","_ul","options_","container","initWaterMark","ZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFRQUFBQUJEQ0FZQUFBQnp5ZHNRQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzTUFBQTdEQWNkdnFHUUFBQjd1U1VSQlZIaGU3WjBKbkJURjljZmZxNWxkWUVFVUx3UVZVYndTNzBTak1ScGpFczhZRXhNMWgwWWp3bklZUktNU0ZSRHd4SWdnS0lKQU5BWnpLSjk0eFR0LzhZZ2EwY1NRdnlmZUJzL0VLQUt5N001MHZmL3Y5ZFN3TTlQVmMrek9yditZL3NLYjd1cTdxK3U5ZW5VdUpTUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNUODU4TnVXUi8rSW9PSXM3c1o1bTBRMmlEY0p2UnZtekl2VVN2L25mYm1kOE50Q1FrSi95L29wQUVRbk05Q3o5Z051Y1hlaHF0OWlaaWoxNVR3eDJMNUpGYm5VNnU1aWZZenE4SjlDUWtKbnhnZE13Qkw3RVprNkdpMjlpUW85SjJVU2syRkhSaklnZHlBdmZ2bERpcUQwRHZDTW83MlN2MGFCaU0wRHdrSkNkMVBiUWJnRWJzZUc1a0paVDhlcHphNHJVQ1FzNXRodEp5Zk5ZT0NjU0kwRWZ0N3VaM3hpTndtcWRUSXBHaVFrUERKVUpNQjRFZUQ2N0Q0Y1M1VWlyU3lwY20yVitweWFtdmJrVzJZdSsvaWRzWWo4cDZRbkVEN3BmK0lPM3p5M29DZ1dQTjNPWmlDN1B2VWxIN1J0Tmp2V0RiUDA3OW9FKzRuUjFJV3h3U1FqRnZtdzZYcnV0K0Z4YmZQdW1XQVQxQjZqZnkxTFQxTGM4MHNyRlZtdFBTaGpPd0x6K3p6T0c4d3RxeVArRGU1blhWQzVHR2FiNjV5b1dKT2xBMG9MWU5jcUppK2tYVDJQczB3YjduMWpqUEtia2x0MU0rRnl0TktyOUFONW1NWFNuQlVid0NXMnQ2ODBpS241ajV1aXgrUkpaTEpEcVdteHRjNEUxeUlSSGdxemttN3ZURkFSVVJtU1VOcVBPMXJXdHpHVHdZUlEwdURVOG1hVjBuNE1XWTdVY2crUk8rbDd1VGVjZ3Yxb01OQ0pjMHI3Ym9sb3JJbzNMNHVrV05MbHdWR29IREpjZ3BkWmE3R1dqd2paREJaT1FkcjMwZGM5ODF0N0NwUWJKdG5Mbk9CWW9iYnNiai9GUzVVekhhdzY0VXB3TXF0ZEVicUtCZnFHS2ZiWHZReHZZeElHdWkybEFFK3FkQjJNRjZ2dUEwSmp1cHppQS8veFdHdVZVbUU5K1owK2lscXM2UGt2ZlE1RXNoQjJQNENCWEkzUHNLbFdMOE1DZUIreU5xQzgxYWhDQ0dVV2JNQlBkaTJQejhRWE1RUFpPL2xCNE5uc0lRRTkvRGk0R0s2diszTDlJdzA0b3l1QXhwUHU2ZG1rUTFXR1JNTWsvVjRITFp0eUFOa2tqVHdkMm1Od0ZQcERxU1ZldkxOTGhCbEVnelZjRHNhYWZ0NVBGOXoxeXMvc1BRbnQrWmpKN2VNb3FsTWZidThNRzJOMzg3eE1RMkxLTC9leHl1OGtocjRQYXdsbEZDOUJ3Q2doTC9BQnh6cWdwVVJlVXlzK1RHdDRGZnBXTlo4clowSDdMWXNkaVk4N2lmeGNXYkRsVHNFdW5jZTdyS2RPOEtQeU12Q1pqeDlsUmNoMFhkZGtlSHY5a2lHOFpKR2N3YTFCVDlsa3AzRXBvZlNLNUxtaldETTBuUkFKQmN2emNIZGVvYzhnRUFlUU83L1ZheEZVZVYvVzJiZy9lRmRkUmZ5TWFWNU03cWFWN3NOeFRUYkovRHQ5bktoZGpUbjN3YWZxVENsV1ZsSnEwMC9tZ0pqMnhIT3NMMXBKYjJFOXgvZ3R1U3VyOHJ1UlY2a09id2pEdXE2OVBJZlNteVUrWkRWWmd3UzZHOG9LemFYU0N1STVYM2hOaXlsdnNGb3VrWUtLZzNCZ2VabDJSUnVZRlplNEJiN0o3YXlFT1hoN2J6WEtSVEwyMEl4YitUN3NyK0RNVWhoUy8xNUtuc2VjcnYrTUY0VHVNMHVJRFlmU28vVUJFNEY5OVAyOUgzNXdCd0JnL1dZTzdwcllOSVdGVC92eUduZHEveEE2QTJhalh6WFJ6TytyY1I0QVBrdmxNLzlWZFJiYVpMTmRIT0hXRWtuRlNsL0hqVUNmbmtCUDRueWU2akpBTkNSdkVZT05zZUxsY05oeGQ4b2NPSExDRGV4OEN3ZUZDeW1PMFE3Q0NFUkNOUGQyV040ZWZBMDl2MFd4WVlkL09mR3lvdENxZWwwbnh4QTk5cTlzYVd1aEpGaUxWTWpWc09DRC81bnNDNHdmN3FkcUVYVzhLSFVTbi9WUSt1UHJJWXh2TWtGaWhsaFA0dm5tT3BDM2NsVFVEcS9FakZ0anQrZXVVQUphZ0NLdjExT0pLaGNRZXpqZU9UK1RCTmNxSjNRMVk4UnB1ZndtK0JCbzZjMk5CRWMxbkF2Y3NTZGtTUFBnTFFWNWRBK0NUODY3OGNjTEtVNzdVaW9UUnJiTnNXMkFkN2o0eVdEODJhS1hxdE52c2RaK1NQa1lickxua2szMWM4YnNKOUxuNDlFczRvRHUwamFXczVtNGtGczdlMWlVMGV3NGFONHUyQVpmWXMvbGxWOEdKN29hWGRhL1dCNjBPOXF3M0JhbW9KdlVPeE5lWkUyR05wL1FwWkQzdWkwRUQyVXU2NkhBSVk5cnNWQnYwcGg3cDhYU24xR2YydW1GM0ovNHY0dTFFNU8wZjFpRWdNUWgwWlA1N2pWN2dHbG1BOFA2L051UzNuQ2p5K0xKVEFuVXc5SlFZSGg2dkkrc1U4aUtFRXpMUlRtUjJFd2xpRmRyMlJPYXhQanp1NkkvRFh2RWpJbndrdDVQOXpXV1piYVExamtTR2xiZlI0MTlENldtZmVYRmY4WXl1c1Bta3hzdDVUZDA4ZUh4dkJLdXhIQzN3elBVVU9uaGtvUkkrc01sNUxmVnk2c2ZTVTFiSkRiWG02ZUNiY1hNdExDYU5KeXhGZVppbEQ1RzM0bTBScGFURTNjUmgrR1YrNDhpL1E2TVI1QXN4MkRmZjdteWcxd3lvWnV2UkNScSttYzFDa3VWQjNOMG9UenRPd2ZyZm52QVlsTFExbmFBd1oxcVFzbEZOQjVBNkRjSkkxUTVqRlFtTW00WlBsbXduWElSeWhLbkVVZnBSYlNSaktPcll6SHVTVUpXMTZTbEdtbWIvS0RZUTdmS0Q5aGtrdHduTCtUa2NnTGtqRzcwYkZJK1BWaXBCMEtkOXpmdnAyV20ybU8rVjhYNm5xR1cyM3ErNjBMUlJGNWpscm9DOTNlM2ozY1hvUG5hbmFoWWphRUFWamZyUmVpbFp3VFV2NUt6amlhTFF3R1Ivc2hhQ3IyRjBDQVpHZ0RwTWtwZFV3VG55THFZd0R5M0NLRFdld2M1R09ISUVGVXZuWXU1NzRYM2tBenBhUS9sUHQ2blBjWkpPUldQTnBzNVAwVDZIdW1SWldmamRWOXg4VStzY2dLc2NHUmRFeGp1YWFxMnNpMU5YK0FaL0VucjU2eUM4M3k1TlJkeFhBN0RYRndoZ3RGWWZraFhXUGlEVVNYZ0dKSnN6eUNtKy9yTmhUVHoyYW9yNi9JSXE5VG14bFNkVXVBZG5US0l2Y25qbFllR2loNXo3aGlFYzY1Z25mUXlIRWJFZ3FvcndIUXlyMWJhU3ZLeUQ3d2p1RVM4aVp1VHdYZ0RRaWZTbXZwOTl4THhvdmhXK2k3NWttM2sraEdlelJLbUl0Y3lJdVFQWnVPU1YvcWd2Vmh0T3dIOXpIR29NaGJOTTlzNFFMZFE3TzlEWEY2cEFzVkV4cE4ycHJtbTNkeUc3cUpTWkttdHhFWHpKdTZMZTJJV05wVTdxRmVmTGpiVW9Dc3BneHZUbFBNU3JlaFBOcm5nWG0yQ3hVZ1FnMTBEL1hndzl5R1lrVHVwQm5tQ0JlS01zbytoTUpOTFgwb0JGcVR3YTgyMkg0SWVSWGhWOG5BUzYyMm1ORnN2NHpmYzNPQm10RDdxbmVueGR4L1FKNkd4L2R3Wnp5KytoaUFCNUFJM3MwZXltUlFCS0RkSUZkQmlXZkRyWitJZGVUYVhGVUZIYnlIcyt3UDB0TmNjQjM4VzgzOTZRUVhqQ0tBY0s4WFVwZDB1RzNaeDBnN2hTeWY1MExGc055QTNQWkhMdFE5Tk51SGNlUDlYYWdFV1lVa3VUbGQyODJqTE1ONmlaaE9OZ0lsMzV3bVU1b2kzMVMvR2Q1bE81cFlSZSs4RTZVbmlwZ3Y0dmd0M1paQy9rcE5kZ2taTTlxRlM1RExhTG9aNXdMRm5HSTNnaEdxVDUyUll1UlJwTlBSRll1RkkremhjSnp1ZEtIT29YSE1OSlBTUERXMmowWVphbThGS0VUTDVUZll3L2d0K3dSYmN6c1N3dWNoYWNocG5JVlpDSGlSTUI5RUZtNVl2c0tyak9ENE0vVjZlS2xpdzJUeGlwN2pjNEtFRk5Bc3VKTnplWHY3SVAwcWV4S3UxSG5EcHM5ZytSc3VGQ1ZOOWZtQXRhRzVmQnhOY0lPSHVQWHVRL2l6YmkwSzA5dll2eVNzaGl3VkpBd3NkOGRhWlJwRmUvMUZsVitOQ01zNWxESTdhVWRTcnhEOVBUeldTeFZqVldyQjhwZVFGaCtCVWR6SGJmR3pscC9DczZzSDBYbFk2OXg0UEx6dVIrR3gxdHkzb21NR1FQdkwvOG9leXEzMlVaU3M3c0xIM0FNdkg3YVlGOGdXOEFCdTV3eVBra3ptQ0JpQlMwcTYvMFpGdUQvT3VaTVh5Z0s2VG5JVGlnQ3g5Zzd2OGFyOHd0UGdiVnlDSXNkOWVJYjltWGtCTFpUT2Q1SVpUUnNnY2UzcVFpWGdQUUphN0FMZGg4RFZqQVZlRnRzNWRJbFVOemltWGxpSk53Q2l6VzlyWHNVeDJoZGZ3OFZpYlh6MzRUeGE5bzkzbHgrakQvZ2hYR3c3S0lJcVE3SG9YYmlNQVFpazh2MXJodGREMnZ3OW5XWFhjeHVpWE0vdjRyazh4WmxPd0x3cmpNQjlMcjZxcG5ZRGNHM2Ivbnk5ZlF5S2VoY0Z2SGQ3VHV3Uk5RcUJITVBTOElSaytUV3gyWDBSZnR6bDJ2SG5XQnFLbjJmb2wvWmdmRU9tNDFPTGNNNk54Y2ZxTlhpcVpIZzZ0NGJLLzduY2RqWWN3TzI3MW5iU3VzdUJ1TFcvWW9ucEpacHIvdWxDM1FmVDQyN05UOGJzUTJ2c2MzUnhkaUpkWkEraTgrMXVkSUVkUWhmYUFRaHZRdE5rWTdvWWJ1OGt1eUZObGZWUmZ1OURNMjJQTUk0N1RudHpiSlRuYUVydnQvRTlQd3B2VVNxazNYTXJrSlVUa2JpanZmNlFDK0g4eVRTRWVpTVZEMERjYVB5VVNnczFjUHlvUTZFZDNGcWQ0WUY0NDVoUnM0N2VkQTRlNFBiY2U5UUpIWDJia1pvNmlXazBWWTJabnoxZFV2eHpuRlpoZEY4TUlvL0M4eHVGTFAzTFRId3hIcmg4NVl1RUEybXZoVGQrQmkzbkZob3NQNEhod1huVUErZWZidzB0Z0xMZmordEVQNlRBRHpqWnhOY2JWR0trblF1ak1zS0ZpakV5SFFiZ0RCb081VXFGdmQwN1J4dXRRdG45YlJlSzUyVGJIL2Q3SGZFZjIrZ1ZQczNtU0ZOZTB5NkYvbE1XY2FSOUxGcHd2WlhJcFplakhQMGtqdmt6cmFVSGFxaWNXNEw0LzRJTEZaTnZsVGhQSGtUb2dOekdBZ1RsOXd0NFR4ZUtrbXYzZjlsdkFPZ2htc2Rmb1RQdGx5akZqN2h0SmNnYmRLblJvZEYrUnRyZklTWml2RHd2MmpOVVBkT05ZY0FxMUd2aG5lZVpBMTNBajQ3cGVJZU94RHYrQ05kRkVTZW1NNVdFM2VnM1F6eEVLMXBMRVZrRG96ZUVycTV1am8zcURjQzh6Q0hNNXE3WWg2d0thUkhPZm9tRzlmZ2J6VjZ6SlRmMjBEYmRJeXBlVStRTnVQa24wekJlVEF2Z3RsbDdJS1hOcmRvVDBLdjhpc2h5MmNCc0hSbUVWQTNIU0lvMmxMZndrYU05enBTMGZCMEo1Mmw0SEhEbGNyNW01NUNKU0N3WHVrQjV5clc1NTlGT01mM2pqRUFWaU1BZzhFV1U1ZWswaGVQTHFtUGdQYlNHRllDK2xuNllHZG1CRnBnWGFZS2RqV2YyVk5MSktoZ0FuQnZid2NqZjdxL0R4eGtHNVJyektJMnp3L0dlODl5T1lvVHVnUUh3dHc1MEdMZ3VKeUtHbStSb3BJRVpDRzdzZGhRajhnOWF3ZHZRb2c2a1B5KzQ3ekFVdDFnOUIvb0I0alArNjRyOGpPWWJaTlNWcVQ2SldIT1J3TDNXUExuandzK0h5cStjMHJSY2hwbHZpelhmeGI1M29zY1dpT1d0NEFyZVMzUGtTbXFrMTZnNWZTVmxhQXkyNytBOVhzWFNScmhxeDNMblRXVUlQbTVNRTZhc2htSThET1hmdnk3S3I4MTNHYnJHaFNyRFBCNG52ZWxDZnJTcThKOTROTVJEbU5mWEtnTFBqT2xTU3R2TEVZcW5CWEVrMHR1Rml0SGE2VjZrWFlqMW1zOUNHYkd0VkZCZW5pUyszRDNYQjBQQ3hPN2pBYnFHYzRPeG1ENGJwbUtmcE9oNS9OWVpHS3ZyZVMzTk1UZmdIdHJLNWNkUVB6eFozYnFuaC9kZFlKNmwrYXplUXZ4OUZhYXFPMWhwTkZWbXR0MFNPWUxPTkJOTkxMVklJSU1LSy9lUW1JVkc4SzI0OWs3WU53K1M5WjRYQ2x3dW9WTm9sY0I3c0x0U0puTzkvemduT203Z2c1aWNwUklaUkdDY2hXVmFBdGN6ZytWQmJrdm5ZTHFmcmpQL2NxSEt6T1AzOFg2SFFudHl5aFhIV3NpN01BTGEveTJpZUZVSzBVK2dvRjhKMTN5a2FXdkVVNXlSZlpObXVkNTNBa1gwWFY4bHk5dmpOOHBxbEtHWmRaQlJDVER2b29PQjNMYzF0Q2ZpVU9NeEtrUmQzRW1MMi91cWxKS3I5b3h5a2QyWnBnYlRhVnIyT0pyMFlic3VWQTNlKzBPZUJnTzd6RzJJSWpBOVZWS2RBY2pTTnJrS3RrNktoYnUweWo1RU0wdkdEWXptRCttVUZNcmJmQUNNd0hQZWM5dmxBemhncjVFMEhPbloxeTZXWHFYSlVPV09jYkJiUm1HNmx3NkFaeUYwaU52U09aaDBtclhhMEp3Z3hYc2dFY3lEeEhjQzBiZC9ENXJ3RVNRWEp6VUtqQ0JiZnh1NllzdE1Bc0wwWW1qZ2xZQmVRckZOWjMxQzRpeVJRS0lWZ1RyZW4ySnlPWFhyNS9NVDRib09RMVlQUUIweG4xQ21hL3YvVzRtdmk5Rk9Rcm1VWEV5ai9RbzE4dWxrNEVHczMvY1Z1dHpXUGpQU290Q3cvaVlYOE1CeDNtc1VqYVhLWEdtL2lJOWR2L0h2SXNoQldhZTZPby9HbGxRMmFhMjBFQktkbkl0amlpTllaQW1KUWU1SDMwYkNYSUQ5OFM2VzJEUHB0SFI1RjlhSFZzeThLeXRDOTdRVTdkbVdwajNnK241SURmUTY3bCtkQVkxRDVIMWNZMkRvVVhTVVVkSVB4U04xK2JTU1RaVkpYV3F0WEczQzE5VzQxQnphaEthK0NhSXgyaENHRzZyNy9IWUZyZUl0NkhKUGI3UGhkaGFlZjR3TEZTTXlGZVhRbkF1djdud1BlUnZIK25LODZYU0pLZTdlSE4vckw0QlIycHNXY0c0WTlybDJBTjdqRFJ6cjYycmNDaStpSDgyb01NV2M5dmNZTGRwaXRCZlMrT2FJci82NDVnQXNOYWJLZjErbXpmQTgydkhOZ3p4QjgweDBxUHBsd2RWa2VKUUw2ZjJ6U0d2SDBWbkdQL3c3am1IMldGem5SaGNxUnZWcnZxbHE1cXdxUFFDVTNkVTlMOHhoT3lNV0h5eWdzYmptOHpUREZsZlNqRFd0ZEpxNWdDU3pPL1kvVkhEZVk1UTJYeWNiSEFUbC9nV3VrU3JZVnlMeUFnVVY1dEtMNDUreWoxZjVGYWIzNldwK21ocHBYeVM2emltL3dyU3dVOHF2eklIM05OLzhIbklxNUdEa2pydmltb05wSVBlbkFWQzRGWGlYRmR3YnhhSGU5Q2JrWmNqempQSTF0b3ZzallRK0JUblorMWdpNFhqRWNsL3F3eHRoTFFxWDhRQzBtMm9lVlVMaDEzRXR2VjZ4QktIUmFrZDcvZVVxdXFJSTNiRk8rUldkL05RZ0xlRXlFU0Y2aS9weWZNY3BOZlNqN0Rkb3BHaGw3bElLZUFHZWNRcE9IbzNuT2dycmgwRU9LU3V4eWgvaTczOWdVV1FwOUxKRWkxQXlOMnlpclkzNGRNTzh4cTFWcExwRWZEcXZnRUxkVXZUZzlaQUEvekw4RHR5Z2JXbHF5WXl5cC9kY1JsdVlyMUZnaCtIWWV5aEZoOUVhMlErUnZoQmlJdGZLU3lDcnFTMTdOSjNSd2NsRkxYM2RyVVZoV296STFjYXp4NkU4MytxMEJGUmR6WDlONFBuMEdiVkx0SXJXUXZ0a0NxK21LZVlKTENmam5mZER2TFVVeFdOZUpJeHJ2MHNwY1UxbzhPMUxLK0FzUFZsa1dQSkNLRjRXOXZ4c2xLRjRoK2dZQzgzVlRFbUhvRlNaQ2tEdG54L2JMUnozZTArbUlmNy9nRlVZc2JDOFVGOE1pajJsNUdaTzJyRW9ma1BoZm9qL0U3RldQVXp4VFlJaVZVK3pYLzJMLzl3T3djTnIyY3MzdXJ0MmhKRzd5ekZrZ2wySWtZT0ZMZGc4a1hyUm5OQUxLT1ZTZXlCZTdDNThxL2h5VjlnMWxJZlJ6OHkxYmt1TklHR01rS2V3OEhkUlRlRWp6VEcvY3FGUEYrUHQ0NGc3Lyt4S0ZzV2VpMHNHdXBRZkE1Q2hCdDZ3cUcvNldYWXN2bTkwMW1DaGo2aFYrdE9WK09hNUVYL0xjSnh2cHQ5RjhHeU9kZXM1SmdiVEtZM3l0QThyTTJsSzZqUVhLZ0RmZUtSY2dHY2Y3elowRFVhK1JuTk5jVzlSemVURXZvcDRqaFpkcmZ5QnprMzVCM3I1R0c2dnduWDg4eW5vQUtqNVpRWkFGYUMyc2pyR21WY1FhUWREYVpmRGNqcFh1d09TaFpJR01wOWFuajBZNXVkUWxPbnZ4blUzZ1BSQlFwdEJxK1ZKdWdqS1Bra2F3N0VHazJ4ZnV0aWVpblB1d2pFOXZkZk1pNlZyTzY3OFlBemNNQ0gvVERXc1EwN2hnbjRhQ2NjOXdQVzJ5SkpMSmJDV2dwWVAzSkh0MkpqYWU0WHB6Y2pBRk9GbmNSKzlWN0dRckEvVG4zTi9NL0lqdi9LajdKK1NTUzdRanRFS1FDeTlndnY1YUpiOWtWYmltaGZyZzlZVkdZb09jZ3BrYXp5WXRtYmhtQktwWlVTaTlsTWgrbG91NENYWDFGNEYxUnNBNVJ5VXYxcFg3b29JdkFvdmt5bFN2cXBFV3BHb3hsS3JHVTNtTStjaS9FdVV2UnFManJHOEN5SmpNYVh0bS9TQ1hZWVAveTYyejhSeDVaVS9rS1c0YnVmR0FBUW8yeE5yTnhvZnkyZ0d5dHVmUnM1RzR0TjU4MzBKVXlmZ3BsNGZoV3ZGVkJnRFVJTFc5NmluN3hORHU0ZTkvdUNINUE2TzhEdDRYdEUyZlVPNytaVWZsb1U5VFlBNXhkR0tTMys2MTNOMWJnSFdDa3Q1czZ5UXhEZmRNcTJocTAyMG1WWXpsNGo3djA2cTcxcStzV3lQZTVTYlBmdHV0NnhJYlFaQW1kSnZCVTAwWXhDSiswQ1ovK0o1RWI4RThtL2M3Z2o2d0N3Z3RyOUFMRTJDc3NlWDVTMXZnc1NCWWdmMzh1OHZGRmxCV1Q0R1piNnFLeis4MkRMTmYwTDNhOHB5b1U4WElrZkRFMnRDbkNNT0l2SW1YY3BSQXlBU1B3YUFLWnI3OXVWM3d1OVVhbUJ5c2hPdXAzMytmZTMrTFpUeERNaytXL3BSaXZxSFNoc1ZpK2VPbHNFM0ZpM2lST3N0MVBSb3o4a0JNby9XUjdyN2dBZEJCcGNWb3ArRzUvcmdtSGtpcldqbWhxVkhXS3J2c3hEUUdUZ2hwZ1VNeHF0bjlaUFYxbTRBOGt3d1Q5Rm1abDk4UExqblNDRDZKNjVpQlFraXhYdkIvWCtLK2hCY2VYT0MvN2lPQ0o1QSsreFBNUys3SitzNFFybTUvWHlrcUp2K0lFZzNNODVDK2ZoeXA0aFJzZlF3ZnFNd2ZjNnQrWWdxZ0ZiSUNid29YK0xYWWNFY08rTHZScnFPbzZNZ2U4Z09NQmpzRkw1WWRNS01LWjV4L2tLSDQ0RGNFWXF1YllhWFZHbEUycHpNSTBOajU2czBMUlZUMG5wUmpEOHRXbmdBaFhGYktGbXBibXE1NFZhYmUrTUhHZ25kRk5hblZFbDdaSFNHYyszbXVKSk9Ddm50WXZjS3JwZzIzYlRSY2RRWWx2UCtnUDExSG9JcHMraENNOVlGT3M0cGRudktoUFBIZStJRTc1Rkc0aEVkT05NRldGejNHcFByM05KZDZFdysvNllqb0VqejhjcGxtcURrTUpwbTduR0JIT0VZQU8zbUd6TldncERRNXpIaXNvU3g5bHFjYzVJTHRhTk56RzJlSG9XQzNKOTVSMXhMWjc4cDV2enNVR293OENROVdGbE00MVBSTW5LenhYdHdyZ09YZnVXQjBEeWRYVktOVUZhbTBvUlU5WFVESSt6L3dIRDZ5K0ZHVHFlNXByakNVK3RacGxqdEN4RWRzNitEM2d4L2hzNHpVYStsa09IMmMzaHVmWWVZVmhsWmd6U3E0eS9LZHhVdm9ENEdRTkVYbkNDSElETG40TEtERWRacFBDNmxsM2tpYlMyZlJ3NTZKN2JYMnRaWkFYbWNHdmtBV1B2T1QvZzRTcHJoVFZUZko3K2VHUGsxRXN6eExoUmxwTjBCSHpaKzFGd3RhUFVVMFNEOGZnK3U3ODVJZUdYU2dMeEZmZkF0U3djRWpiR2IwRnJTeE94VDJ0V0l4NEhlbVlsT3RlcTZlbVlIZ25qekxMbUc1cG1STGxETUJjRTBhb2laSDFIb2FqckhsTlNRSTMyT2tLVlk1SW9BMmlWcFU5dzQ3NFZrNVJIS21BTWo3K3BENnhMNnlTdDRsNjNjbG1JYTVHQ2FiWW85UmkyeTlOQmlzQ2UrdFRlbmp2U0xLOElPdGVzaEF4cUo5OUlwNGVQLzZyYVY4Nkg4MGNyU010VFBBT1RSTWVaclpTS3UvQXhONVJ0b25HaFh4NFY0Y0MxcDFROUJaREx2Q1pmdGRiZWxjNHl3dHlGeFZOOE1VMDk4VFVhRlZKb010RmJVQkdoVlo2VUNvTWg0dXNKYzdFTHROTnN2SXVuNGU0YUt2RW9EZVRza1psV3JZa2JidzFFVTlNK2tsQit6a0VkenN6VGM3RGxtdWR0U3pFWEJRNVJtblZzdmlrQlp6allseGh3R29GbmRiTjQ1VFBWRGNETjkvN3dCeUJtQjVTaE9hcjNXZXpCaUxYZ0dQUTFGek5MajRNK3VwUkg0SnI0ZWlBRTFVSDhZQUNoN0FlUGI5cU5VZzM5K3lZQStvdmRrcGd2bFlHMFdENXZjZGJUcjNoWDFSK1FKbFAyL1hJdjdyOVRmQUJSeWxqMENFWFlMSGo2YVUzUUdrVFk4K2JjaXJtbEh5YzMrK3hhaW8zdG4wd2xCb2h2QTI1VE5lWWJiQnhDSDhZTnlha0dyanJTVGFLVXZyNHFjcGwyOVhZQkgySk9oR0F0Y3FBUzVHN20yWnhKUU1OcHVpL3N1dzd0RVRZLzJheXMwQUN4WG9samtiOVhSRGpYYjJOZmh2ZmovTW5DV3ZrRG5Ga3dxbTJlRXZRUFAvUTNTa1FaYkZ1VCtlZEhXcEhBZGtiTnV1eDVYR0hhaWFxYkxDUEl1dnVkVytKN0ZYdW01OERCTmpJZXBBN2VxbTMzQmo0aG1ndnRTQnlhRXJaUUhkSTdYK1c1RTBraVU4ZDRQSTdjdW9sMlNlVXpkbEY5cDA3bnBQZ25sQjRadUxxdjhtdGh6dVVEblVJWFhLNm1vb3BVbTZFSUp3Z0ZHUC9RcXZ4TDNkd0FWWHhOZ25peS9qZjF0M25zV0dpU2RqNkNOTG5DaEtJT2xMK0p0NC9DY1V0RXhBSzJlRm9BY3Q0Vy9UWVdXcG9Ob2xoYmVyd1NtZHlQS0g2Si8wZzMzOVVubFFrY1o1R1Y0UWwvcmlQSXJYV3NBdExaMGh2a0ZYdkN6c0tRM2hNcnIrL2pWaW5ienRYUUNYY0grQ1NBNlNsQ20rYStyWVY3bzF1TFF5VFk2M3Z0U3Y3QW1WczMxZFIzcHJheFkwVTQvMzZHWlpnbVdjWlNiYmkzZUFNeERHZGZxU0U2c2wwb3hDOG9Pa1c2bEljajlHNHNVZjUyd3RxZjdaOGZ0b3lQb1pGbGRVcjNleTMrZHA5eXlHQnNPTmlwT3ozbnBpQUhRT2phUjIyRHM5cUk1bmxhU0t1bGFBNURuU256TW1lWkgrTkJmUnpucmhXaXVYbzNJbitHSzdZWHIxUDhQWHdoOTE2MTFMNHpFT0tkZ2NJc1BrVUZJMUhHZGsveG80bFJYWDNON1hXcllsL0NLUkVmYXlVMDRaMWQ4ci91d0pRYnR1VU43NU5hOWxQOWJpVG9OV0RrRG9KV0kyUXAvL0xRbjdSaW1YSjh3dlI3clVhbEhrK0xERWUrZGJ6SldRb09UVzEySDhUUUI2bC9HRnQ0K1Y1VHdTTTBHUUpiaXZ0K0dRVDJLcnVjVmJtT0h3TjI3R1hWcEcrVUVLTFZPRWJVYkVuZE1od2FRKzJNWFM1Q0laOUpWZkFzZXR6Q3AxSWVmeXNhMFdyUkN5MTlQa1p2cnVLdVlqWEx1RExmdXA5bCtFd3BTL3BoY3dxL3RhektTbmRBS0xGL0JVaWNidlRXMndxMlFrK3dtaUtsbmNaN2V0Umh0OUdXVWZ6V25qMk80UFIzbnh2ZkQxeHI4K2NiL3R4anluSitkU0wzWTA4OGZNRjlIWjVvelhjalBKR21pM25JeURONjM4Q3hiNGd1dmgvVFloS1hPODhBb1lyb09ha2h1ZVFPWnJ3elV6Q2kvTGR6dXR1VXhkQlROTmZlNlVJNHpaVE1rM1gvZzJhS1ZoaFk1K1VwOGg5eVZTdEU3YU8ySWVqVDRUdndFcm5NSHpUTi8wWjMxb1BzTlFKN2NoSWhiUUxrUFJTVHNqdGNmaUtmUm9hQmE3dFNFcURuanZUU1g0UXAyY1E4OGZaWTRKbnMvVEgzSVQ1aFJrVERYclRNZGpWTThpODZKRjRkT2wxVU9iVUpyQ24wVFA0TlIrbzhkeGVmUVRHUkE2TnY0eUphdFUvR2hPZlRiZUtZK2VMZlZ6TFFtSnI2YkN1SXNyb0N5Q2EySlBQK1paVnBOeUQ0SGc3TW4rV2F2NmlzQ0Y5L1NQUFVSdWtZSFBqa0RrSkR3MzhKUDdWQVllMytuSlpHYmFicjVaSXFnSUQ3blMwaElxQTg2ZFZxK3lGQXE0aGszMFkwa0JpQWhvYXZSU1RwOXlxOFNsR2sxNlFZU0E1Q1EwTlhvWUNjdHdmdWtYTE5wTjVBWWdJU0VydVIwdXlFVXZYOUU4VldzVGdoSzhkTjdkd09KQVVoSTZFb3l0QzNsL2hKeXNldXZJdlJLclgzMzYwMWlBQklTdXBKc21WbUFQdUVLUUNVeEFBa0pYVWs0MjFHNGpJcnRpajlkVmh0SlA0Q0VoSzVraEIwTFpZK1paWnJtMHh4VHZ6KzRrNUNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa1BCZkROSC9BWStPMnp6bTh4RWxBQUFBQUVsRlRrU3VRbUND","opts_","setX","setZ","ESMapCoord","ESFloorManager","stopMoveTo","lastSelectModelStore","dynamicBufferGeometry","normalizeUv","hiddenChilds","range","findChildById","clearAll","updateChildByData","holes","getChildIndex","genGeo","subarray","deleteChild","Shape","normalizeTop","lineTo","ExtrudeBufferGeometry","computeBoundingBox","boundingBox","Vector2","getDis","addChilds","transformCoordArray","mergeBufferGeometries","getChildList","getChildByRange","loader","tile","loadImageLogo","modelImageTexturePool","RoomLogo","unloadRoomLogo","fixTextures","isPowerOfTwo","NearestFilter","mipmaps","matindex","modelImageAlphaTest","coord","getBuilding","theme","roomImageStyle","data","roomstyle","typeid","RoomStyle","logoRenderOrder","\n                   #include <uv_vertex>\n   \n                   hideFlag = isHideFlags;\n                   ","\n                   uniform float opacity; \n                   varying float hideFlag;\n                   ","\n                   vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                   if(hideFlag > 0.0){\n                       discard;\n                   }\n                   gl_FragColor = resultColor;\n                   ","imgStyle","imgdata","jpg","alphaTest","focusFloorNum","focusAlphaMode","roomid","misStore","added","getTask","tasks","setParent","setData","datas","groupsCopy","hideFlags","BufferGeometry","isHideFlags","groupInfo","modelImage","XZY","checkTasks","handleTask","canvas","points_","holes_","parseIndoorGeo","MULTIPOLYGON(((","GLEN1","Circle(((","CLEN","hasHoles","GData","InjectProto","vkeys","_ms","retrieve","_cm","Reader","Writer","util","roots","ESCityLicSet","mtime","ltime","Hash","adcode","AngleX","AngleY","AngleZ","minX","Long","fromBits","minY","maxX","offsetbid","tileurl","modnums","Remark","styleid","cids","logotoken","tiletoken","other2","alist","eid","create","encode","uint32","int32","nameEn","double","int64","maxY","offsetroad","bidnums","bidlist","encodeDelimited","len","skipType","comparehs","decodeDelimited","verify","object expected","isInteger","ltime: string expected","Hash: string expected","_id: integer expected","tid: integer expected","name: string expected","nameEn: string expected","adcode: string expected","AS: number expected","AngleX: number expected","AngleY: number expected","AngleZ: number expected","x: number expected","y: number expected","low","minX: integer|Long expected","high","maxX: integer|Long expected","offsetbid: string expected","offsetroad: string expected","tileurl: string expected","bidnums: integer expected","modnums: integer expected","Remark: string expected","styleid: string expected","token: string expected","logotoken: string expected","o1: integer expected","o2: integer expected","other1: string expected","l2: integer expected","l3: integer expected","eid: string expected","bidlist: string expected","fs: integer expected","unsigned","LongBits","toNumber","fromValue","toObject","defaults","longs","toJSON","constructor","toJSONOptions","getTypeUrl","/ESCityLicSet","esWorker","webgl2","Ajax","Promise","callbacks","ESMapConfiguration","ESHeatMap","ESappendMapPoi__","ESDirection","floorBase","facility","modelLine","modelBase","externalModel","polygonMarker","locationMarker","lineMarker","imageMarker","textMarker","boardMarker","mapRoad","near","ESElementType","none","poi","This map has already expired,please contact esmap to download the latest map!","Token is not correct","Cannot get audio token","You cannot display allFloors in viewMode 2d","Your operation frequency is too fast. Please try again later.","Invalid source type.Please add the server configuration file extension .esmap with the type application/octet-stream.","Your license has expired","License data error","Webgl Context Restored","Repeated creation of map instances","dotted","dotDash","doubleDotDash","raw","esarrow","texture","ESViewMode","EScontrolSize","small","ESControlPositon","ESBuildingType","ESBuildingFocusMode","onerror","noWebGL","ESComposerRender","ESMapScene","ESMapGestureController","ESWaterMark","ESElement","ESLabel","ESLocationMarker","ESPolygonMarker","ESModelImage","ESImageMarker","ESTextMarker","ESGlobalLayer","ESControlOptions","ESNaviResult","ESWall","ES3DMarker","ESBuilding","ESRoomTexture","ESLineMarker","ESLine","ESNaviMap","ESTile","ESCardMarker","ESMTT","ESTexture","ESMultiViews","FreeFlyControls","hexToRgb","color format error","intersectsPolygonAndPolygonNew","containPolygons","containPolygon","toRgba","rgba(",",1)","getMapScene","getAlias","_type_","getControlsInfo","firstPersonControls","toFixed","getNearestAngle","setControlsInfo","Android","iPhone","Windows Phone","iPad","iPod","MicroMessenger","getTileNumsByPolygon","getPolygonBounds","camera","getOrthoCameraSizeByPerspectiveCamera","zoom","[object Array]","computeCameraStateByBounds","sin","fov","aspect","DEG2RAD","getDatasByAlias","getFloor","modelbases","modellayers","models","oid","OCenX","RoomHigh","fnums","setFloorAlpha","noOcclusion","hideOnComplete","lastAlpha","restoreFloorAlpha","isCloneMat","getModelTypesCount","modelTypesCount","tileList","getModelsCount","modelLoadCount","getVersion","CITY","searchModel","key","floorNums","_ignoreAlpha","_noOcclusion","GLTFMergeTool","effect_track_line","ignoreSetAlpha"," is not support ignore alpha!","getPath","bids","cenx","ceny","keys","createIndex","continue","item","label","classID","all","buildingList","polygon","indoor","keyword","radius","MODEL","FACILITY","MapUtil","getMapCoordDistance","getRoomDirection","dis","loadTexture","TEXTURE_LOADER","getExtentByPoints","computeExtentByPoints","ABCDEFGHIJKLMNOP","buildBezierCurvePoints","segments","QuadraticBezierCurve3","getPoints","interpolatePoints","sub","buildCurvePoints","ESMapSceneUtil","getDeviceDPI","deviceYDPI","GCJ02","CGCS2000ToWGS84","ESTileMap","+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs","+proj=longlat +ellps=GRS80 +datum=CGCS2000 +no_defs","proj4","atan","exp","EPSG4490","fixScale4490","transMc4490To3857","computeScaleToFix4490","transformCGCS2000ToMap","this page must require: esplugin-tile-3.0.min.js","transformBD09ToMap","BD09","transformGCJ02ToMap","transformMapToWGS84","getDistance","asin","cos","timestampToTime","getMonth","getDate","getHours","getMinutes","getSeconds","您的浏览器目前不支持WebGL!<h5><h5>为更好的浏览，建议您下载 &nbsp;谷歌浏览器","sk验证错误","请提供三维场景:${1}的token #${2}","三维场景 ${1} token验证错误 #${2}","三维场景 ${1} 已过期，请重新下载最新的数据或者联系ESMap商务! #${2}","三维场景 ${1} 请求失败，请检查三维场景资源是否存在 或者三维场景类型 mode 是否配置错误! #${2}","三维场景 ${1} 解析失败，请检查三维场景资源请求响应结果! 路径: ${2}, #${3}","三维场景 ${1} 楼层数据为空，请检查三维场景数据是否有误! #${2}","三维场景 ${1} 的 ${2} 域名已过期，请联系易景商务或者易景官网购买! #${3}","三维场景 ${1} 配置已更新，请联系作者重新分享! #${3}","_tweens","_tweensAddedDuringUpdate","getId","now","_nextId","fadeTo","hrtime","performance","_pauseStart","_object","_valuesStart","_duration","_repeatDelayTime","_yoyo","_isPlaying","_delayTime","_startTime","_easingFunction","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","nextId","_isPaused","_valuesEnd","stopChainedTweens","_interpolationFunction","updateCountDown_","_repeat","_valuesStartRepeat","_reversed","Interpolation","Utils","Bernstein","CatmullRom","Factorial","CopyShader","varying vec2 vUv;","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","uniform sampler2D tDiffuse;","void main() {","gl_FragColor = opacity * texel;","EffectComposer","RGBAFormat","_height","WebGLRenderTarget","_pixelRatio","_width","renderTarget1","renderTarget2","EffectComposer.rt2","writeBuffer","THREE.EffectComposer relies on THREE.CopyShader","ShaderPass","THREE.EffectComposer relies on THREE.ShaderPass","copyPass","readBuffer","passes","getDrawingBufferSize","getRenderTarget","enabled","renderToScreen","isLastEnabledPass","render","needsSwap","stencilFunc","NOTEQUAL","EQUAL","swapBuffers","MaskPass","setRenderTarget","getSize","getPixelRatio","Pass","clear","THREE.Pass: .render() must be implemented in derived pass.","FullScreenQuad","PlaneBufferGeometry","_mesh","state","setLocked","stencil","setTest","setOp","REPLACE","setFunc","ALWAYS","setClear","KEEP","ClearMaskPass","overrideMaterial","clearColor","RenderPass","autoClear","getClearColor","getHex","getClearAlpha","setClearColor","clearAlpha","clearDepth","autoClearColor","autoClearDepth","autoClearStencil","tDiffuse","ShaderMaterial","UniformsUtils","defines","fsQuad","textureID","CSS2DObject","absolute","overflow","domElement","setFromMatrixPosition","-100%","-50%","updateAlign","computedScale",") translate(","offsetX","offsetY","MozTransform","oTransform","objects","insertBefore","createEvent","initEvent","targetELement","distanceToSquared","distanceToCameraSquared","zIndex","updateMatrixWorld","projectionMatrix","DRACOLoader","timeLoaded","manager","verbosity","attributeOptions","drawMode","TrianglesDrawMode","nativeAttributeMap","COLOR","TEX_COORD","FileLoader","setResponseType","decodeDracoFile","getAttributeOptions","skipDequantization","decoder","DecoderBuffer","byteLength","Decoder","GetEncodedGeometryType","TRIANGULAR_MESH","Loaded a mesh.","POINT_CLOUD","THREE.DRACOLoader: Unknown geometry type.","convertDracoGeometryTo3JS","ptr","THREE.DRACOLoader: No attribute ","num_components","DracoFloat32Array","GetAttributeFloatForAllPoints","Float32BufferAttribute","GetAttributeInt8ForAllPoints","DracoInt16Array","DracoInt32Array","GetAttributeInt32ForAllPoints","Int32BufferAttribute","DracoUInt8Array","GetAttributeUInt8ForAllPoints","Uint8BufferAttribute","GetAttributeUInt16ForAllPoints","DracoUInt32Array","GetAttributeUInt32ForAllPoints","Uint32BufferAttribute","THREE.DRACOLoader: Unexpected attribute type.","destroy","POSITION","DecodeBufferToMesh","PointCloud","DecodeBufferToPointCloud","THREE.DRACOLoader: Decoding failed: ","num_faces","Number of faces loaded: ","num_points","num_attributes","Number of points loaded: ","Number of attributes loaded: ","GetAttributeId","GetAttribute","GetAttributeByUniqueId","addAttributeToGeometry","Loaded "," attribute.","TriangleStripDrawMode","indices","GetValue","GetFaceFromMesh","Uint16BufferAttribute","AttributeQuantizationTransform","InitFromAttribute","isQuantized","maxRange","numQuantizationBits","quantization_bits","minValues","decode_time","Decode time: ","Import time: ","getDecoderModule","isVersionSupported","decoderPath","decoderConfig","decoderModulePromise","setDecoderConfig","wasmBinary","releaseDecoderModule","_loadScript","draco_decoder.js","wasmBinaryFile","onModuleLoaded","getElementById","decoder_script","getElementsByTagName","onload","DefaultLoadingManager","dracoLoader","anonymous","removeAll","resourcePath","LoaderUtils","extractUrlBase","itemStart","itemError","itemEnd","crossOrigin","decodeText","KHR_BINARY_GLTF","content","trim","asset","hash","scenes","accessors","bufferViews","images","samplers","模型未经授权! 当前绑定",";更新时间:","URL","extensionsUsed","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_UNLIT","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","KHR_DRACO_MESH_COMPRESSION","MSFT_TEXTURE_DDS","KHR_TEXTURE_TRANSFORM",'GLTFLoader: Unknown extension "',"timeMap","KHR_binary_glTF","KHR_materials_unlit","MSFT_texture_dds","DDSLoader","ddsLoader","extensions","lightDefs","lights","loadLight","directional","DirectionalLight","spot","outerConeAngle","penumbra","innerConeAngle",'GLTFLoader: Unexpected light type, "',"decay","getMaterialType","pbrMetallicRoughness","baseColorFactor","assignTexture","baseColorTexture","glTF","header","getUint32","magic","GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.","BIN","GLTFLoader: No DRACOLoader instance provided.","decodePrimitive","componentType","normalized","getDependency","bufferView","extendTexture","texCoord",'GLTFLoader: Custom UV sets in "','" extension not yet supported.',"lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveMap","bumpMap","bumpScale","displacementBias","specularMap","specular","glossinessMap","envMapIntensity","refractionRatio","standard","#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#ifdef USE_GLOSSINESSMAP","#endif","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","float glossinessFactor = glossiness;","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\tglossinessFactor *= texelGlossiness.a;","PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","uniform float roughness;","uniform vec3 specular;","uniform float metalness;","#include <roughnessmap_pars_fragment>","#include <metalnessmap_pars_fragment>","#include <roughnessmap_fragment>","#include <metalnessmap_fragment>","#include <lights_physical_fragment>","roughnessMap","setHex","glossiness","diffuseFactor","diffuseTexture","specularFactor","specularGlossinessTexture","normalMap","normalScale","displacementScale","alphaMap","envMap","derivatives","specularGlossinessParams","isGLTFSpecularGlossinessMaterial","diffuse","displacementMap","isWebGLRenderTarget","matrixAutoUpdate","flipEnvMap","isCubeTexture","reflectivity","maxMipLevel","__maxMipLevel","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","Interpolant","copySampleValue_","resultBuffer","sampleValues","valueSize","interpolate_","Matrix3","Vector4","NearestMipMapNearestFilter","LinearMipMapNearestFilter","NearestMipMapLinearFilter","ClampToEdgeWrapping","MirroredRepeatWrapping","BackSide","FrontSide","LessDepth","EqualDepth","LessEqualDepth","GreaterEqualDepth","AlwaysDepth","AddEquation","SubtractEquation","ReverseSubtractEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","skinIndex","InterpolateLinear","InterpolateDiscrete","BLEND","SCISSOR_TEST","POLYGON_OFFSET_FILL","RGBFormat","gltfExtensions","extras","GLTFLoader: Ignoring primitive type .extras, ","accessor","morphTarget","setXYZ","getY","getZ","morphAttributes","updateMorphTargets","weights","morphTargetInfluences","targetNames","morphTargetDictionary","GLTFLoader: Invalid extras.targetNames length. Ignoring names.","primitive","promise","baseGeometries","primitives","isInterleavedBufferAttribute","getW","targets","cache","primitiveCache","multiplePrimitivesCache","multiPassGeometryCache","textureLoader","fileLoader","getMultiDependencies","animation","cameras","catch","markDefs","skins","joints","isBone","skin","isSkinnedMesh","meshReferences","meshUses","loadScene","node","loadNode","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadCamera","Unknown type: ","ESCache"," buffer type is not supported.",'GLTFLoader: Failed to load buffer "',"byteOffset","sparse","BYTES_PER_ELEMENT","InterleavedBuffer:","InterleavedBuffer","SCALAR","setArray","setY","setW","GLTFLoader: Unsupported itemSize in sparse BufferAttribute.","buffererror","source","createObjectURL","Loader","Handlers","revokeObjectURL","flipY","mimeType","format","sampler","magFilter","wrapS","extendParams","metallicFactor","roughnessFactor","metallicRoughnessTexture","metalnessMap","doubleSided","MASK","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","encoding","sRGBEncoding","loadGeometries","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","SkinnedMesh","normalizeSkinWeights","TriangleFanDrawMode","LINES","LINE_STRIP","LineLoop","POINTS","Points","GLTFLoader: Primitive mode unsupported: ","mesh_","isPoints","PointsMaterial:","PointsMaterial","isLine","LineBasicMaterial:","Material","ClonedMaterial:","specular-glossiness:","skinning:","vertex-colors:","flat-shading:","morph-targets:","morph-normals:","VertexColors","flatShading","morphTargets","refreshUniforms","GLTFLoader: Missing camera parameters.","PerspectiveCamera","yfov","aspectRatio","znear","zfar","orthographic","OrthographicCamera","xmag","ymag","loadSkin","inverseBindMatrices","loadAnimation","channels","parameters","input","output","QuaternionKeyframeTrack","VectorKeyframeTrack","interpolation","isMesh","AnimationUtils","arraySlice","createInterpolant","AnimationClip","Bone","onBeforeRender","light","PropertyBinding",'GLTFLoader: Joint "%s" could not be found.',"dist","widthScale","lerpPathPoints","lerpVectors","PathPointList: points length less than 2.","equals","_start","_end","_corner","_getByIndex","subVectors","crossVectors","_getCornerBezierCurve","_hardCorner","dot","acos","_drawing","_points","_lastPoint","_lastFixedPoint","fixRadius","_cornerRadius","_cornerSplit","_pathPointList","_dirty","_includeDrawingPoint","_getLastFixedPoint","getPathPointList","setUsage","DynamicDrawUsage","setDynamic","drawRange","itemSize","_resizeAttribute","updateRange","usage","radialSegments","startRad","applyAxisAngle","getIndex","_resizeIndex","SelectionBox","startPoint","endPoint","collection","deep","watchlist","select","searchWatchlist","updateProjectionMatrix","isPerspectiveCamera","unproject","planes","setFromCoplanarPoints","isOrthographicCamera","preWatchs","esline","boxSelectPoints","containsPoint","intersectsBox","pickType","buildingBounds","mapExtends","clonedMats","originalPoints","SelectionHelper","border","rgba(75, 160, 255, 0.3)","fixed","pointTopLeft","selectionBox","isDown","pointerdown","onSelectStart","pointermove","onSelectMove","onSelectOver","parentElement","0px","pointBottomRight","movementSpeed","lookSpeed","autoForward","activeLook","heightCoef","heightMin","heightMax","maxHigh","minHigh","constrainVertical","verticalMin","verticalMax","autoSpeedFactor","mouseX","mouseY","lat","lon","phi","theta","moveForward","moveRight","mouseClickMoving","mouseLastPos","mouseMoveOn","viewHalfX","viewHalfY","stopAsap","cruisingMode","nextPos","lookAtTarget","cruisingAngle","rotating","userIntersecting","tabindex","handleResize","innerWidth","innerHeight","onMouseDown","focus","moveBackward","mouseDragOn","onMouseUp","button","onMouseMove","pageX","offsetLeft","pageY","clearTimer","onKeyDown","moveLeft","moveUp","onKeyUp","moveDown","stopAsap2","heightSpeed","clamp","translateZ","translateX","translateY","lookVertical","mapLinear","contextmenu","mousedown","mousemove","mouseup","config","matInfos","HeatMapMaterials","getDeviceWH","floorEdges","round","getPixXY","mapOpacity","maxSize","gendatas","gradient","rgb(0,0,255)","rgb(0,255,255)","rgb(0,255,0)","yellow","rgb(255,0,0)","ctx","canvasCopy","renderShadow","boundVal","rgba(255, 255, 255, ","rgba(0, 0, 0, ","closePath","getImageData","putImageData","setFloorNum","renderToFloor","matTool","层热力图错误，请先执行setFloorNum","_hasHeatMap","mat","heatmap","originalUv","floorUvs","originalMainMat","getObjectsByAlias","originalColor","originalStatus","antitrans_","disposeHeatMap","getPalette","createLinearGradient","addColorStop","fillRect","clearPoints","addPoint","colorize","clearRect","copyCanvas","addPoints","randomPoints","__lastPhi","lastSelectStore","__moveToId","updateTile","3.0","minPolarAngle","zoomToCursor","baseDistance","mapPickHighLight","ESMapTheme","sceneOrtho","change","controlsChange_","viewMode_","requireUpdateCollide_","firstCameraPos","deltaVec3","scaler_","flyController","hideRecord","crs","fixTileMapScale","controlend","scaleLevels_","timerImmediate","_selectModelAlpha","matList","animatque","tileConfigs","instanceCount","resize","onMapResize","MapInited","localScaleLevel","_maploader","FirstPersonControls_2","FirstPersonControls","firstPersonAnimating","FullScreen","updateLts","loadComplete","focusFloorNumChanged","viewModeChanged","gestureController_","popMarkers_","_cityLocMarkers","cityModelLoadedAllSign","cityModelLoadFlag","isUsedOpenBuildingSign","updateCssScene","cssFuncs","showChild","stopCruising","toClearId","exitModeOnEnd","beforeCruiseState","originalRotateAngle","firstPersonMode","needAnimate","originalTiltAngle","originalControlState","getModelInfo","cruisingByPoints","action","RAD2DEG","rotateTime","easeOut","easeIn","tileMode","pointToPointAnimate","scaleLevelTo","beforeStart","noFly","openBuildingById","_buildingAnimating","continueOpenBuilding","tl_","openBuilding","changeFocusFloor","animate_target","animate_camera","参数错误","参数类型错误","setFromCamera","negate","方向错误","setScaleLevelByWidth","cameraFlyToHelper","updateCameraByDistanceIn2D","setScaleLevelByHeight","meshLoader","toHandle","modelLayers","baseLayers","lineLayer","modelImageDatas","modelTextureDatas","modelTextureMeshs","modelMats","cleared","dynamicShows","queue","toAddQueue","isLoadedAll","logomatlist_","openMapById","openMap","resetAll","showProgressBar","#2BDE73","createProgress","inited","openBuildingMap","openCityMap","initESAudioTool","esaudio-1.2.mp3","/esaudio-1.2-",".mp3","setTilesVisible","modelBasicMat","cacheBuildings","shellMap","isAutoOpenBuildingSign","buildingScene_","buildingLoadComplete","modelLoadedAll","emit","openAnimate","moveComplete","hideFloorBase","bidList","checkToLoadedBuildings","toLoadedBuildings","请使用ESMap城市地图编辑器绑定该室内地图!","clearLineMarkById","lineManager","clearAllLineMark","drawLineMark","onUpdating","originHeight","navigateStyle_","smooth","_analyseRawPoints","画线点集数据错误","nobuildCurveZ","-&-","crossFnums","crossBuilding","DistanceofTwoPtsZ","ESLineType","DOTTED","originalLength","screenshot","screenshot.png","ULTRA_HD_ERROR","updateSize","compass","cameraOrtho","toDataURL","image/png","click","download","Screenshot","document","screenshotPlus","cameraTop","isMerge","waitTime","widthDistance","coordScreenToMap","coordScreenToScene","🚀 ~ screenDis:","🚀 ~ hightGap:","%c完整画布分辨率：","HTMLEvents","%c完成所有截图! ","左上角坐标为：","左上角经纬度为：","右下角经纬度为：","图片分辨率比值：","change3dColor","selectModelNull","getLayersByNames","mapmodel3ds","isClickSelected","flashTime","layers","change3dVisible","merged","alias","es3dmarker","MODEL_IMAGE","changeTileBuildingStyle","tileStyles","styleIndex","filltype","buildingsColor","topTexIndex","sideTexIndex","ESEffectTool","buildings","_getEditBtColor","_getEditBt","computeTopFaceAttrForEdit","changeBuildingColor","buildingColorStaged","highLightFlags","highLightColor","addBuildingColorStaged","changeModelColor","MODEL_BASE","colorRGB2Hex","colorMap","selectNull","isFlash","createFlashLightMaterial_","flashSpeed","flashShader_"," building is not found","pointInBuildingRoom","delta","getRoomLogoInfo","updateRoomLogos","AUTHO_REQUIRED","ID不能为空! index:","findRoomById","未找到","房间! index:","贴图不能为空! ID:","originalTexture","targetAndBuildingList","clearRaycastCache","raycastByCoord","targetName","startCoord","endCoord","intersectByStartEnd","cubeTip","isTerrainMesh","ESMAP_ERROR","MODE_2D","cameraFlyTo does not support in 2D view.","warning","getCenterLonLat","control","clockwise","directionAngle","initDistance_","pitchAngle","flyFocusTo","tileMapView","highlightBuildingById","tapTip","spanId","popDiv_","storeSelect","tiltTo","emitError","未找到scaleLevel为","的缩放级别","getScaleRate","setScaleLevelValue","setScaleLevelLimit","minScaleLevel_","maxScaleLevel_","initScaleLevel","scaleLevelOut","background","clearColor_","clearTrans_","selectMatIndex","selectMat","slots","POLYGON_MARKER","polygonSelectColor_","LINE_MARKER","selectedLineColor","toggleTileBuildings","_disableTileUpdate","addToCache","unloadTile","unsetArea","userTiles","change3dOpacity","userScene","storeModelSelected","isMergedWall","originEMS","_noCopy","lastColor","naviMap","isSelected","line","_originalWidth","setRadius","_originalRadius","customClass","setTapTip","defaultTemplate","hideTip","originalOp","setCompassPointerUrl","setPointer","setCompassBgUrl","setBg","restoreModelAlpha","getNavData","buildingService","initScene","getO3dScene","cachedTiles","langLib","applyToNavLib","setUserGenLangLib","applyToGeneralLib","getMapNavLangLib","getMapGenLangLib","generalLib","closeBuildingById","IsMapLoading","building do not exist","isLazyLoadModel3D","preCloseBuilding","break","shellId","shell","buildingCache","disposeBuilding","sourceData","o3dFloors_","loaded","hold","_isBuildingLoading","closeBuilding","closeAllBuildings","isCoordInView","updateFrustum","frustum","selectLineNull","storeSelectLine","multipleSelect","originalMat","stopAllAnimate","getUserScene","EPSG:4490","_insureUserCoordInbounds","coords","flipX","x or y contains NaN:","checkMcIs4490","localCenter","NCISKQ","__mbs","preLoadComplete","checkTileView","tileShowLevel","updateText","_gp","skNl","WELL","ABC","_sdu","_em","share","_cdu","currentView","tileDisabled","queryTiles","unloadBuildingById","TILE","maximumTiles","checkBuildingHide","handling","solvingList","loadTile","panLimit","panLimitCenter","_lastValidCoord","lastCameraPosition","checkPanLimit","lastTarget","autoOpenBuilding","getLocalCenter","autoOpenLevel","scaleLevelChanged","updateCollide","setOriginCameraPosition","floors","Elevation","floorCenter_","initTop_","baseScene","removeLocationMarker","getModelByName","getScreenCenter","plane_","intersectObject","coordMapToScreen","w_2_","h_2_","project","getPopMarkerById","clearPopMarkerById","popGroup","clearAllPopMarker","ESTapTip","stopRender","reRender","Tilelimit","queryTilesByNum","tileUpdated","secondViews","forceLoadSecond","onProgress","_rotateToID","targettocamera","firstPersonMode2","freeFlyMode","lock","unlock","fullScreenAvaliable","available","fullScreen","activated","request","cancel","visibleBuildings","dash","gap","minX_","maxX_","minY_","maxY_","getCurrentScaleLevel","scaleLevelValue","viewCenter","watchingOpens","toUpperCase","viewMode must be 2D or 3D","tileMapInited","lastTiltAngle","__viewModeAnimating","viewModeAnimateMode","maxPolarAngle","themeName","themeName_","themeID_","themeDataSrc","queryBuildingTheme","sceneId_","长期有效","showScaler","zoomLevelInt","shadowLight","castShadow","mapName","NameEn","renderSort","sortObjects","tempFlipX_","_tempTimeStamp","renderID","DISABLE_RENDER","MapControls","mouseReverse","MOUSE","MIDDLE","LEFT","wheel","cameraPenetration","maintimer","dumpScene","COLOR_BUFFER_BIT","Cache","dumpTileScene","resetControls","registerMapControllerEvents","controls_","mouseButtons","RIGHT","registerEvents","pickedObjects","pageVisibility","hidden","visibilityState","visibilitychange","visibilityChanged","controlstart","isLimitFrame","_clock","_frameTime","maindeltaTime","spriteBg_","spritePt_","showCompass","webglcontextlost","webglcontextrestored","_minResolution","_maxResolution","showMultiView","multipleViews","_resolution","highp","WebGLRenderer","setPixelRatio","shadowMap","vFOV","vFovHeight","XYZ","rotationAutoUpdate","setClearAlpha","LOST","WEBGL_CONTEXT_LOST","color: #ffc107;font-weight: bold;font-size: 12px;","custom","_glLostHistory","lost","RESTORED","color: #2BDE73;font-weight: bold;font-size: 12px;","AmbientLight","ambientLight","mainLight","secondLight","onWindowResize","mapViewInited","visibility","unset","setOrthoZoomLevel","level2Resolution","getOrthoZoomLevel","resolution2Level","distance2Resolution","getZoomLevelByDistance","getDistanceByZoomLevel","LOG2E","calResolution","getWorldDirection","cam2control","CSS2DRenderer","pointerEvents","composer","rendererCss2D","cssCamera","WEBGL_debug_renderer_info","  GPU: ","UNMASKED_RENDERER_WEBGL","thickness","align","loadProgress","updateView","closeComposer","updateBuildingView","defaultScaleLevel","Firstscale","tileZoomLevel","resolution","MODE_3D","<h5>您的浏览器目前不支持WebGL!<h5><h5>为更好的浏览，建议您下载 &nbsp;谷歌浏览器</h5>","class","raycaster","propogation","isPicked","boxPickedObjects","ebp_","tapcount","debugPick","logModelInfo","intersects","lastHoverTarget","hoverUserObject","cachePicks","isPc","keepClickMousePos","startPos","disablePicks","enablePicks","touchstart","touchmove","touchend","BoxPicker","ESSelectBox","onmousedown","onmousemove","onmouseup","hoverList","mousePos","hightLightObject","unhightLightObject","findAndDelete","hovered","$originalEmissive","lineGroup","$originalColor","traverseTarget","#f49452","floornum","mouse","setFromMatrix","clearSkyBox","disableOutdoorClick","hoverTypes","model3DHoverEffect","faceIndex","noPickEffect","gid","getStyle","getChildByFaceIndex","FLOOR","IMAGE_MARKER","TEXT_MARKER","hover","hoverObject","onOver","onLeave","changedTouches","mousemoved_","getPick","mouseScreenPos","getMouseScreenPos","enableBoxPick","startClientX","startClientY","keepPressLock","keepPress_","traverseAncestors","clickCompass","enableCompassTap","compassRaycaster","compassClick","touches","BoxPickerHelper","showBox","checkHover","endClientX","endClientY","centerTile","indx","indy","mapBoxSelected","lastClickTimeStamp","toFixedNumXYZ","pickerNone_","debugPickLog","escapeSpecialChars","stringWidth","getFontHeight","splitContent","getAlignPoint","splitTextToRow","_default_","removeDomNode","textFont","textStyle","textWeight","textSize","px ","textFaceName","textLineSpacing","textWrapCharacter","_enabled","dom","materialBg_","updateDirection","materialPt_","img","compassPointer","lw_","lh_","observe","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA9RWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTA0LTEzVDE3OjUxOjE3KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDQtMTNUMTg6MjY6NTkrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjE3YzU2N2NiLWM4YzMtNTM0My05OTQ0LTVmMGVkY2NmMzI4ZTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwNTNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNjU5NDIwMjNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwMzNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjM2NTk0MjA1M0YwMDExRTg4RDQ3RTA0NkZDN0M4NzgzPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpiZGY3MGExNy1hNWVkLWVmNDEtYmY3MS0yYzc5OTFmNmE3MDQ8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDQtMTNUMTc6NTM6MTgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MTdjNTY3Y2ItYzhjMy01MzQzLTk5NDQtNWYwZWRjY2YzMjhlPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4KICAgICAgICAgICAgPHJkZjpCYWc+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0MTNiNGUwNS04ZDAyLThiNGEtYWE4Zi1hYWVhMTJjOWI1MzE8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3PC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0QzQ2QTgyQTNDQjMxMUU4OEQ1NDgwMUYxQUY4RkNDNzwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpPnhtcC5kaWQ6OTQyMUI4QjMzQ0IzMTFFODkzRjZGRjlGM0U3ODBDM0M8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOkMwMEIwRTdDM0NCMzExRTg5QTVFQUM0Njc0OUYzMkMwPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOkJhZz4KICAgICAgICAgPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+WZs/LgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAEvklEQVR42uSbzWsbRxjGn9ldaWVbyKsqq9YfmEaOVFNyyakXmxwLRddCIaeAwX+SS0tL/wcdSiklPtnQs/thR05aE7cJsuMPrWNJq5m3B72rDpGcW2fL7IKRpRlrPb993nned3ZWEBGyfHj/5ZcLIfS3DgCdNgFAdDOY+Lu5Qs4OAG8N3uVXCUABoFarZbcCEiHw4HMA8gBiAANWAGUBgH6uOb76V6yEMre9TguAY+g8xAqY5UEXWRV1APfSVIBjaPDEAy4CqAAoAcgrpeoMIRMhQAB8HnwPwLkQos4hYT0A0ibDGQ6DMyLKDADdCgv8e4mIGuwK1gNwNQB5VkHgOM5qlhQgOBQ8AHO1Wm1FCBFw23tpWaHpSdBjBcyura1VtLZ7xZn8z+OOBusTxyCAROo+gJnFxcWVpCGO449YIdYmQpIH6PCrF4bh0rhRykZaabHJTFBqV1lUKpVw/E84Tt12BQjtXC4AUS6X72gAVm2vBfSqkACI+fn58tgjXTc1ACZdwOUJMFetVgu+7xe0hZNy+/mfFQCnNidCM2yBfqPRCN/uUJwrNmwHMMvrAd7KykppSp/GB9XKrq15QB7/rgi5CwsL5WkA0nACx7ACCgDcarUaTHTwvFQWRhxD58jxTwGAU6lUJgGMnMBaBeR58B4ANwiCCQCe59UM27KxSdDVLNAJw3BGt0AtGQq+/+HHOwBe2gjA1yywfFvHu7XVxlq99tImF0iyvwJDEMvLy8GtV8NzjVeFjiGVeQwhv7S0dCsA3/frNgJIQsAFIMIwLEkpsbOzg+3tbTz64nN8/dWXGA6HcB3XuBWaCIHkPB4AGYZhaW9vD1EUYWtrC5ubm/j911/w3bffIJfP32VQVilA8FqABCCCIAj29/fRbDZRKpVQLBbRbDbx5MlP8H3/Q9sUQBjdCE2Ww9z48WOBKJrs2e3i5rNPAcOrxCYAxADeJAq4ILr8uNNBq9VCFEWIogitVgsbSmFI9Mw0ABN5gALQZwh0qtTVJycn1d3dXWwfHCDneVhXCo9GAI5szAQVq+AaQK9DdHmfCBvHx9g4Psb6gwfjjj2iNgwvjpq6O9znuSD+S6mLd/Q9fL6+DhsBSA6B/sm7ARzYGAIEYMhh0G9LeX5bx2spn9paDscY7QkYdJSKekT9KRPFBVJYEzQVAgrADUOgC6LLCQBE7Uouh0ouZ6UCJE+EEYDBqVJXUxRwpGD+XrlnEECPIfQ7UxRARMbj3yQA4hDo3maFjhCHaQAwFQKKneANgN6L6VZ4aLMCFCdCPQA3R1JO7AZ5HcfjNHjBQgD6PBB3lIr6RD1fiALHx/n9vb0zPV5sCwFdBX0A8oLoXLPAp0hpg4RnGECyUWp4SXT6PqtdCNF+9fBhGuM3fiNimCRG50SvtM9TsUDTCtDrgsGpUidaDtDOAoAk0ZMABn8r9UfS4KaUA6ShAMkT4fVvUr7QPs+EApKiqA/g6pmUJzSqABVSfGAiLQV0AXTV6MoPkeJheq+w4mSoy5Vhm6FkBgBxPRBj9NzQYZYAJBYYMYxrMfJ/ygoA8JXv8qD7NAoBlSUFJPcHFIB4kGINkCYApVniGVI+0kiFJf4HT4yOZ+asPz3uIOPHPwMAX8PDjLFTmrgAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRCMjc1MTQ0M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEIyNzUxNDIzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEIyNzUxNDMzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Bj/RUAAATkElEQVR42pRbT2xex3Gf/fiJ/yKKlEhbov5YduvGdgoURe1DhSY9G+3Bl7aH/IFdo4kLBIiLJI2AXpL0UrR2CiSXQmgQJSjqQ3Qo2qBteisQ2G6BKocAjmPFbizHEmWLIk3RIinK30xmdmdmZ9/7KMkf8fje27dv3+7s7sxvfjubfvBvPwBKAAmI/+TMN/wjItDLnCoPk93zNSWCRPoMLK+/kEtL5b1jnPEUnx/h5w/zex/l1COcZZ6PuZyLYJMzbvDlFc5zgfP+jK9f5VJf5jyXktYnn5PViGtMep30ebJva53kGZUM3pxEEH9DAsylkjYME5kIytessZKCoY1UPkGcmFKyG3v+KB+fZCH8Aac/TF4RynkoCCrfJ5gTYfCD45zwmKVrYT/jq//g8wsIdF4yJxVwrUfJS9YIvbc6Nv9NalqHYS1A5UredyU9QSgIXKr1PlnDpTef4es/5cSPQeiFIsQUGlX7KEGT3Py0Dg/zWYT4Rb79Kaec5fMZvt/0V+q/0D9VzLX8IHj9+gBBe4XKWe6JyGVG/qwUKqMAqX6TUxaQ6Kuc500eDc9x1o8VIaNLPN8jad+g/4fQ5vJ5anox/8morH3IZdNzXNSbfP9VTl+wukH4lrchlkkUxo2NRIIB5AaVB6hCMIHEwmWogzZMC+CBQE/x+eec8DVEOOQfaRqdL0rZWKSHWK5xVA4pmxC98bXyWL6X82taqY1862vl2/QUl5hQOw+BfJTrXelYKVO+Ecvhi0GdS1Z5lX0jwXCNuWIPcoE/4sLO8rEkhZp0iWqD5Q8JvGEYe5yPG1s38mEVovweeuPzGWMdSBvgxxKfzvLxI37w666HYv5Oe6qAizCGRJ2J1/1RUP8l6x/z+dt8c6B5s1cMNY3tZ2PVv7mZr2ZnZ6tC2PPNoFL6Vf49Pn7MT/6Mj3PRGsUyZDykTqUH1JFWK73aq6Kr+fw8H9/n4wBBJ5/n3yO99wzg/fffz8cd37u740CuG4DUMXWf90dGOYZA0QZU5dT5TfIj0b6f7Ak29bt4jEIvtrpTuDTeMQeMswDjy7r9iIUv8TvL/I5Yo907VXeIjiayXhv3uUk+/pWPx3sVTKoTYexI7c2k9p5ga2urDE1ULBFAFZF1yZjSvJppbNOodNQhPp6IQhgnjDoCaGzVJc93uo3vZv/QvcQ/abw03K6zHgi4YW9R7vW8l/dxrftnbvdGHQFdhVd+f8PHp+486nr4Iuq0zk07/O16ZmZmXLY9vpb2+FDvW1L3S3yc3qsstwIZOTVTgP6Ix/jpfo0q7KwYvFMRClq3gZK1/Bs3blQB8PXS0qIOeYgOh/op4TsByHRhuYtFoZ9i2q9w3v/jl89VWJ9aHZCiH4C5Zb/GKd92zRlgZLnEgL0NsKTOlDBBYRlUuSWkgm4FsMXXeTZwud4JJlOx+wqj3UHTshzGk2lZqyYFc5oT/5HrcZ5v/r84UeQO4DADi1SkRgWzS47v8dW8VSYrx1w51Xnq2KSufVbpotYkFeOpTlSpqJQ54hzb29suALkmHBWvzfwEF0QBP+6daF2Ko4bVxIgE5X2k6MCaNp3nenyPE36fzK3EMtoGBkPRbTE+yfcfL4gLFfcX1IQRq1OBtKhQuiA4yorNkBYSVuSmcFbStre2XQGaFdja3nE8UASIjtYolG9p0OAWbPIY7DUorvX4OCc/RY4HSvl5BPhwI1jg09+1/lTHFbQp0czVOL2p43U1U9q1ft8q3IDp6ameIdhLz1fdNT4zxbpVbPq3XIV/4Vffs7QBWk8VqTzLArkHK+ZXJ4XqNVAYDYrNod6j4/gWt9sokVET57/9JK2+g+03Qhk9fwApjEAM76KmhzIJ7+HrZ33Uiy9QtF+Wzn6e/19IhE4plAlfFFCZz8khZRWuskUihFT4BASdpxCBkipRfh7nf6MHzON0pwWcpSKlpEjNT3LdlUJvp8bd9X7XeqljxG2Evxc+QYb8ENHHyJ9zjkN1SKXArtRh14CeVCEeNewMjXWOsqw5/87OzlgBjEYYTN0Yt4raM0Ur0DhRfe8pPJE2PsPn5yVxqCZMRPs5CPa8mKsKjCjqBVUYpJrezVKEo/5qavgZafxoNBoDlYtgpqemgxEtTFIKzaumPzWCjw6rI4Ae/tC6JHiGn35DbgoOIDrFN7/ROCVOJqJ/wGm91h4WXNBRgAZeSEcJ0giuXbsGG+9twF4u+FtvvQXz8/OwuLgEE4OBu68GqLJJdSlQoOZSwAOVAiOdmgV/qKkv/suDfHWKR9tLBQeIj9/1XJTHc4k6cUoNAVxJ1YD6GvBNsL6+Du+++y588MEHwTtMsG/fvmwCZUTYCJBjdXUVDh8+DAcPHgSqkKqn7aMwvP2V3dWGp9ayVGL3T/ibLw2xgInHtavqUHJXzyGZo7+CRYJuSO1sNbFJ2SuXV7IAssnhXj3EjTqwMM9DfQYGKkl5f5tN48bGdc67Brdu3YK33347W4ajR5e5ToNCqaWWtk+xcRGE2SShODKoQavS5pR1ANJxvnnY+pCC9gRHXZXWSnWA9Hxd6tjgy5cve+P3798Px44dg+FwH0CgR62w6enpfCwuHoJLly5lB2ltbS3X5+jRoz6tovNGHcPfVYI9pUgNyHiITyfEGfrdyMOaqcpNTVTNmgowTAql0ccwGPxbX1vPcz6r3UOHYHl5ucxjxKq1MDonRRATEwM4ceIErKysZAFIGVNTU1wGT4cwrFPDoZkW9BZAMIhhEaXqDXXgTrEZxN8ey8YnwwfQ8vuN+TMlV5WmICGZ0ytXVnLvSc/LfCanojtkPVGnJ0uBhw8fgd2bN2GTR8KVK1dg7sAcK8aJihF6/jfu2fe9xZGKJH9rwD3ySFaEaLTxCEZjMXiL9x35BcRmfsBVVmIyj+W3fGTZ8T42KE7yjhoUF6lrkf6R5fKulHX13dU+O4yG/UcBbUbUiH6mMaiSv/uITIGTpMs9iSrN1cgwBdbINWtfyiLUmzd3YI2HrTRYtPjEcKKsAzSjhcYDqTCEy3SYyGZRpsHa2jWYm5vj6TAJaZDG4P86betUT77AssfvpOCA5Tx8DGb6FEhhaUnnnWGArOEpN1YQ3M4Wn3e2swmLXt78gfnSU6nqlg7/3RCy0ECeorhFAFevXuVv3YQLF17LlkSU5cwMH9MzMDM7m3VEqquktTT7XjDn0C6gLYkOmIPQuz24qdc7XAFprB3dxvbIRP7oJPeWLXC44kxhEdUUSopLYuBr1ELQSOOc2tapZHR6/JZQavHIQqk2PV9jWHZTWe0XKDzXMCy5Z29mlzU2+I4LKF0qeXKyVJjMXmDD5HSX3mMfNFMOylTY3d297ffuJJRZHSmgI7vwAmmuOEOpIKekbm1BZlgUlx4fVgBSho+QFJ0zAzB1NAQWLAM4Ra8+h5uy7vKXe9zqnombkdPv1CFFN/k8VypSumZqeio7JfPzB32xJMPU7S0eGXc3KqTHnO8naOCs6YQyJlNQtKmjFwr6lLJu963Y29LTZQpMs75I1WxawzEGfsAmI0HcJAlOiH6/m3Xz+CCzNTM8hBYWDqrZ5amyU5Tglhw6ZWJFheycyXx/J3KD2mWM1CBQCISnuMlbjfdojbWGyiFKUeBytCpSBmpjk1FnyjkGjuL94YhohfMcjSExjqLUUzYy0t1j/cYkS3mSP77A5q66tNvwi1+8mXvtGiO5o1zB1CHsu8sPvmiZKDgy5Y1ralJFp9z/wAOs+afLFOogz7p8H2BxSlWvp04bykurAoQulvmFSiRiS3bqvVNPHb1g5Gcug++nRCDzC7nXxAPcvblbwRK2lFchY/WbUIGLlSdIUMqQssQcZs4QrF41XwVjem+oExWcAfp3UYWlwOyicIKvOqKzF3LmkSKuwAn21uc5bUQBNVK+X1xazENV3N+LF9/MCkjSMSO/Us7IGjtSwXIjR1KOBkzIO/KulCFlLS0u5fqNsHJ/GOthHaV1HoW6RxRalKF3xKuyPP4Tb7iFmDjZiF4ghrPR3YhB6qFHxaFZZg9O0sUbFKIjC8EgKEbIq+VZz2QLQvzOL/nd93IZ4hJPDAe1F53IRR8J5BrfRmMZCaVuoMLAQvbmUZLz/WTIPfNydek6oQkYfH1fRCXX2NQLjKtLU4vsAUoAxDX2C955551sRU6ePJlJkEhcdS3ErQ92uecvwsbGRi51cXGRPcFFh9MBkzdcY5eRpw5fHheAQ6DY/wgU/iWnvMbj7CGIjIotQYUwtNTxvVPE3QHjkCrO+44fz0N69dpqHgnXr1+He5aW4CD7/LMzH2kWv2+wFVlbX4PVq6uu9aXx97FrXFzoAGRTYRMy4ZGCi9tA4MobOiuZmuX2CwnTW0qKwg+5JQ/1V57pdvRCu+ZP0HF1y+++k/fB7EdmM8MjXt1l9vPlEEwvo0GmhaRHMzgcDuE4C2+JhVXjjmgMr9HS86T+O411hHuBGP9JBQjll87x+88SmJmoPJdzfU4sVo7eHI+UbCG0jpTYW8LyLLAWF40uptGY4S47XBihRbj33nsz/M09n2qcYYrMrq9HgENtc+CcAIXqa3i9bF0B4FyJD8DsGLzE77/Ow+nBilCDnya0GLasX/EgjdIK/GGuCFT+0Lg87vHDR47AARbEK6+8MhbR3X//AxngJFVeHlaji58tx4PNqgV1o0ahAiLAGiKr64nc1vSSCGmoml+Sz/D/5yIeqYzreO6/tyBBFOjoqkFtjT/jhKkp9+rir7i5U2p+U89/6HJ9qRuTHNYtE3SCPiA1Cp1TzkgUFZYRgKY+zrCk/4ofHnTiA6vDlgg6DaeOU5faFalUR1EK8cGitGSod9cHJY0MfaqCc//AqXmtaYKKTktUIjQRxL34IooIe52vzpCyP0PyENLEThF+U6I+e8tjYQkqjWHkxvdSVI6pIeQFv1uMoP1yiAxioEdIBddRZA1XWUcDNgHSNDa8Sn2Rb3HBmzYthmZilJT4Jnfk5znhnvGBioUh7i7f1VWXMaYyLrGr2ZyVxnYENjszC0gUBKwhO2ncEmMM544hL3SbuKX87yr/+5ZCmVz20HCzDrT3+PI0V+47JpQm/ohU+TiTU2OLCDq9RZXpSTHWAMSbm+0JQCiugt6Sx/igj4KwaEP1uxCDut0atXHjiRrYdZrv14wDlc8MSAlQg4sMK7/L6S9ChLvBiXHWFQx6gq/FV3gMGuGhON1cy+xzIUzPFLrKfAq5FifKWWGPMYhlWKQ6tbjfYhIgOEWogdotZH6R6/dd1LLs/WF1I8MWBKIn+fp8ktia3kRIzZJ0/ynUcHvqAhBq5rwpQrkuMqI6z2mcLqE9eP7OuqEh1Pq5Da7XkxTX1TVvP1i6lPUGv/BZPn/ftW3cfZC6Tn1kdDsmdI/IP7H3JgC59pCXEA5Xl75bNreuUneneFjRaxvFbUlv9OJ1Ug6RoYY7KyMin8/J5oQSkBQWLQBrMBN1Q1W0DPO/LdS9WQwp19brbgHUU3Qa3nZmWKQIwZ2DspEqF1Dr/DyfzlUvVM9a/6Ht5Ehh2FQDgqczW5TSp5IrKGi8Mgoh7mUd0Xwp9GUuY2JCOF/m9FsTqK5xhNhQ9xilGOqSKh70dYBUPVbSD3HqP7NAvpLCXick8gDPjANiEEII/zQqTEp8mjMvcsLjBMEr0zGYQgV8ATLFzQnBtVCFJZeTjPoE/UlFJoX7B2wWMAt4s6ajeuEah6Sd1tpcTUO1BkQ/REpPlwKxQmqqgErSB+XFsJXEFFGNudvluyf4+gWP4rPdHDodsl5FbFkj3y1CDYNj21eSor88FYxNAtPeRphAiE2ESmeZcHuEjDNTL/D1E5ywC7Yw01iYSsx4kFT1mUk/EBcQJOScPs3nFe7JL1lvxICLqksxIDLsBDZT4f1VCU2z7XfSMg86dD/AoTbV6C8nOtWM9YOjMwL8Br/yl7Jnoi6IYd2r5qG7paxsBlPTkKRmKMw90LhlSl/mq//ldIkjPuBNJuoHIoFpbzJdVoOrsyBIA6LqpgOKC6eUgo6p0QvZMdXQXne8SmOu8/+8ZcYaSimEy0DHPJZoC5kCtg2OfIjZEhnZ5iedGoUPZD8a6VHO9SI1GhrrBiXdKRaDG6EJrCy4aHq6cPql7Br2hmgbnSrHhxpJErf1oQZb8N+LnPY7IJYLwxY9MucqLN9rKC6qtRpQ2C2W6em8o436zAuYacqQ8XV+7xN8+TSbvtXa7MjSajlEvoENw7Y6OctS99TUvqKAA4okMJI2TK1AbFqcsvD6LLynOekTfH4DjdCFsEfI4pxDGrg5h7JtDiniavSGdLefxY2pmuFsDq9D+jonrtkHzM76tjWEpjwLZOhHidQgZxM8Omtc0SV/j/E8/TXKtwHP5lKJoN23WPc9YrASXpaO8onHHnvsDquMd9wPI2Gf/83HP3BWcTROVG/yrsu429+rGswt22D+S7/94TdahQxDWzOzLu7G+rWx+1U5Wcha2NW9yZfP5xBUSI/yk8/wkz/k+we97MDytFsRO/uQ23jQ1znl3/ninzjhfEVTnTJTDO6kdm9z4GwgjOa8aYoqDdNwbJXoDP45prqTPAY3UbOiKM/Py05vTvkLTj/Giaf42W/yKw/x449yRY7wFJBV1lnOe0u2EHL6On9znc8XWFu/xuW/wj7By/zsEvkGjO4O8OoQxH0M7j5TCkE3VHkjC5jg618JMAD1kaihzbRwnwAAAABJRU5ErkJggg==","autonavi","ShowBuildingMode","canUseZoomToCursor","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","zoomSpeed","rotateSpeed","enableIncline","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","keys2","target0","position0","zoom0","saveState","drop","NONE","setFromUnitVectors","applyQuaternion","setFromVector3","autoRotate","lerp","lerpvalue","forceTheta","makeSafe","addScaledVector","Spherical","autoRotateSpeed","setFromMatrixColumn","orthoLimitSize","minZoom","maxZoom","WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled.","enableZoom","enableRotate","WARNING: OrbitControls.js encountered an unknown camera type.","deltaY","BOTTOM","ROTATE","ROTATE_UP","ROTATE_LEFT","DOLLY","PAN","enableKeys","DOLLY_ROTATE","THREE.MapControls: .center has been renamed to .target","THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead.","THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead.","THREE.MapControls: .noPan has been deprecated. Use .enablePan instead.","THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.","view","isFlying","flyTo","moveSpeed","can not find esmap.ESDirection data","_cameraSphericalRadius","SOUTH","WAST","EAST","NORTH_EAST","SOUTH_EAST","SOUTH_WEST","moveToAnimate","cameraPosition","targetPos","rotateAround","checkScaleLevel","toggleControlsLock","WDL","BuildingService","singleMeshData","ESResourcePool","modelLoadingList","modelInited","modelLoadings","singleMesheDatas","filterSingleMesh","pendingBuildingId","setState","getModelImageById","RMS","RMR","RMO","rotate","opc","queryData","undergroundOffset","DefaultFnum","mapNameEn","queryJsonData","2001","themeLoadError","themeLoaded","setBuildingThemeData","Type","DefaultCenX","_analyseLoad","_convertIndoorFullData","ScaleLevel","calcSceneBox3","visibleFloors","focusMode","focusFloor","baseHigh","_allRoomList","asyncLoadFloors","ESMapLogo","pending","startTime","expiresIn","IDBTryInit","ESCACHEV2","IDB初始化失败,不使用缓存","tryClearOldVersions","tryClearOutdated","updateCacheMap","cacheObjects","readwrite","put","onsuccess","save cacheObjects error","getCacheObject","transaction","objectStore","result","canUseCache","updatetime","indexedDB","deleteDatabase","clearOutDated","inActiveCacheMaps","mapIdx","only","cacheMaps","active","Error deleting database ESCACHEV2","ESBIM","Error deleting database ESBIM","upsert","onupgradeneeded","objectStoreNames","deleteObjectStore","mapid","errorCode","IDBInit Error","imgs","loadRecords","serializeToString","data:image/svg+xml;base64,","img404","failed","prefetchTexture","syncGetTextureByUrl","main","map_","svg404",'<svg t="1715340874151" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="34248" width="32" height="32"><path d="M423.128 711.528v-53.8H313.704v-44.864l115.992-169.792h43.04v169.608h33.192v45.048h-33.192v53.8h-49.608z m0-98.84V521.32l-61.456 91.368h61.456zM616.992 443.08c25.888 0 46.144 9.24 60.728 27.72 17.384 21.88 26.08 58.176 26.08 108.88 0 50.576-8.752 86.928-26.256 109.056-14.472 18.232-34.656 27.36-60.544 27.36-26.024 0-46.992-10-62.92-30s-23.888-55.656-23.888-106.96c0-50.336 8.76-86.568 26.264-108.696 14.448-18.24 34.64-27.36 60.536-27.36z m0 42.496c-6.2 0-11.736 1.976-16.6 5.928-4.856 3.952-8.632 11.032-11.304 21.248-3.528 13.256-5.288 35.56-5.288 66.936 0 31.368 1.576 52.912 4.744 64.648s7.144 19.544 11.944 23.44 10.304 5.832 16.504 5.832a25.6 25.6 0 0 0 16.592-5.928c4.856-3.952 8.632-11.032 11.304-21.248 3.52-13.128 5.288-35.376 5.288-66.744 0-31.376-1.576-52.92-4.744-64.656-3.168-11.736-7.144-19.576-11.944-23.528a25.232 25.232 0 0 0-16.496-5.928zM838.568 711.528v-53.8H729.152v-44.864l115.992-169.792h43.04v169.608h33.184v45.048h-33.184v53.8h-49.616z m0-98.84V521.32l-61.464 91.368h61.464z" p-id="34249" fill="#dbdbdb"></path><path d="M893.84 198.04H135.936v624.808h216.776v-46.952H183.904V245h661.984v103.808h47.952V198.04z" p-id="34250" fill="#dbdbdb"></path></svg>',"TileService","X2BBXGk=","loadedList","dropList","areas","needNewTileByRoutes","LOD","tileGrids","roadGrids","failedNavs","navLoaded","buildingIDs","tileUrl","_o1","buildingLoadingCount","preLoadBuildingId","initialViewLen","initialTiles","bzE=","bzI=","dGlsZXRva2Vu","showBuildingMode","PLANISH","setPlanish","SINGLE","enter","maximumBuildings","%clocation marker inside this building:","color:rgb(255,180,0);","exit","debugTileBounds","-BOUNDS","getNearTilesByCoord","planishValue","plannished","SETCOORDSYSTEM","getBuildingColorStaged","convertGeo2Geometry_","lic","INVALID_TYPE","%cThe "," map uses the WGS84 coordinate system. ",",updated on ","getWebGLInfo","color: #3399FF;font-weight: bold;font-size: 14px;","INVALID_OFFLICENSE","env","development","Hash Error","_mo","_isemv","_isrd","TOKEN_MISS","TOKEN_ERR","__trl","__maptk","userCenter","updateCityScene","initTapTip","effectId","vhosts","isInitTileMap","<div> <span id=",">esmap</span> </div>","#52564b","white","4px 11px","borderRadius","4px","12px","flex","span","es-control-popmarker-top","9px",") transparent transparent","-16px","userSelect","mapClickNode","propogationIndex","showTapTip","group","RoomElevation","queryNavs","ESTileMapNavSet","bstair","Nodes","transformTileNavdata","routeDataLoaded","convertTileData","queryTileTheme","主题文件请求错误: ","setMapTheme","getNearestValidTile","tileid","getContainerExtent","tileSize","isValidTile","showBounds","mypoly","getTileNumbers","ESTileToken","__bo","0,0,0","__ro","tileType","invalid tileType","queryTileScene","getTileScene","failedTiles","tileLoadComplete_","buildingScale","counter","topTextureType","sideTextureType","scaleheight","Outline","CenX","CenY","__singlemesh","RLSize","buildingImagelogo","Brief","包含singleMesh，但是quality没有设置为low","addToSingleMeshData","RModel","versionCheck","maxV","minV","getQueryUrl","&v=","getTileThemeUrl","/worldtheme/","tryFetchBoundary","/boundary.json","_originBidList","grids1","grids2","citycode","tileLayer","frozen","buildingOpenAnimation","buildingLoading","三维场景","buildingFocusMode","offsetZ","beforeOpenBuilding","buildingThemeId","buildingsFirstFloorNum","firstFloorNum","dataCenter","buildingReady","preLoadBuilding","loadBuilding","BUILDING","DefaultCenY","transformNavData","navs","originHeight_","toggleTilesLayer","Tools","toggleTileLayer","tileInited","checkInitials","tileInitComplete","tileLoadComplete","routeLoaded","requisitesQueue","_gld","modelLoader","loadingList","toLoadedCount","concurrencyLimit","mergeQueueWaiting","mapModelLoadStatus","userModelLoadStatus","lasViewCenter","hiddenFactor","maxShowModels","Frustum","mapModelsCount","checkMergeQueByShowLevel","modelPrefetched","setFrustum","addMapModel","__nomerge","mergeQueue","rankRequisites","rankSingModel","addUserModel","checkO1","ES3DMARKERNUM_ERR","userMergeQueue","layerid","startLoadModelsByShowLevel","iswall","disableIndoorClick","toLoaded","focusAlpha","startLoadModelsByFLoor","modelLoadComplete","applyRequisitToMap","invisibleMergeModels","marker3d","disposeInvisible","sizeInfo","applyMergeToMap","loadUserMergeModel","checkIfNeedLoad","autoLoad","modelrank","keepalive","scaleLevel_","ind","rankAllModels","applyToMap","loadExist","ignoreKeyNameList","animNames","_ef_$floor","floorObj","__ignore_box","_ef_$fl-id-","floorLabel","_ef_$fl-group","marker","callbackparams","lod.gltf","wallModelPrefetch","brief","find","自定义动画 "," 不存在","setAlpha2","ignoreModelList","isMaterial","LinearEncoding","needDepth","checkLoadedAllByList","模型加载失败:","cityModelLoadSign","modelLineLayers","modelManagerStarted","_loadcount","_lodRecords","handlePlanes","planeData","roomLayer","isPickable","tileMaterial","water","TextureType","loadTiles","modelLines","layerType","modelLayer","model3data","types","bordercolor","borderwidth","lineTheme","groupIndex","lineIndex","drawOutline","lastGeoCount","usedRoomStyles","Fnums","vertices","isSelectFlags","buildingsHeight","buildingsRandomFactor","buildingsColorAttr","highLightColorAttr","uvs","rUvs","rUv","appendAttribute","randomFactor","defaultMaterial","prodMatIdx","modelImagesData","modelImageGroupsCopy","modelImageIndex","modelImagePos","modelImageUv","modelImageHideFlags","modelImageLoader","setGeoData","modelImageNor","modelImageGroups","loadModelandImage","loadModel","viewRank","viewrank","rmodellayer","modelInfos","roomdata","MODEL_LINE","LineBasicMaterial","LineSegments","strokeColor_","strokewidth","ESTileMapSet","Rooms","cname","emptyObject","fork","RoomSet","ldelim","POISet","skip","v: integer expected","mtime: integer expected","cname: string expected","Type: integer expected","z: number expected","minY: number expected","maxY: number expected","Rooms: object expected","key32Re","Rooms: integer key{k:int32} expected","Labels: object expected","t1: string expected","fromObject",".ESTileMap.ESTileMapSet.Rooms: object expected",".ESTileMap.ESTileMapSet.Labels: object expected","Fnum","bidox","bidoz","bidstyle","layer","Did","PID","GID","bidoy","bidor","bidrids","bidpids","NE: string expected","MC: integer expected","RL: string expected","RLSize: string expected","Fnum: integer expected","RMS: string expected","RMR: string expected","RMO: string expected","RS: integer expected","SL: integer expected","CenY: number expected","Outline: string expected","PID: integer expected","GID: integer expected","bidox: number expected","bidoy: number expected","bidoz: number expected","bidstyle: string expected","bidrids: string expected","bidpids: string expected","layer: integer expected","FSId","Sid","NA: string expected","Tid: integer expected","MT: integer expected","ST: integer expected","X: number expected","Y: number expected","SH: number expected","w: number expected","h: number expected","FSId: integer expected","NavLineSet","NavNodeSet","Nodes: object expected","Nodes: integer key{k:int32} expected","Nodes.","Lines: object expected","Lines: integer key{k:int32} expected","Lines.","other2: string expected",".ESTileMap.ESTileMapNavSet.Nodes: object expected",".ESTileMap.ESTileMapNavSet.Lines: object expected","sid","H: number expected","sid: integer expected","gid: integer expected","Z: number expected","na: string expected","rank: integer expected","dis: number expected","dir: string expected","bstair: integer expected","style: integer expected","buildingOffsets","buildingFilters","ESMapSet","dWw=","nKST","checkBuildingFilter","strategy","addFilter","getOutLineList","_convertFloorFromSourceData","_oav","_scaleLevels","_initDistance","_buildingCoordToThree","_buildingCoordToMap","_convertToSceneFloor","convertIndoorGeo2Geometry_","Circle","isTube","ShopID","originalHoles","FsId","RoomLogoSize","imagelogo","roomtexture","texturekey","textureInfo","noTexture","/imagelabel/","getLangItemFromJson","convertShowLevel","Facility","imageAlign","Lifts","_box3","the visibleFloors "," or string 'all'","defaultFloornum","VIEW_MODE2D_ALLFNUM","visibleFloorNums_","HeightSpan",".json",".theme","jsonLib","oab","oac","VERS_ERR","EXPIRED",", updateTime: ",", endTime: ","_cl","_uo","mapOptions","editor","mapshow","o_d","o_t","%cMapID: ","; updateTime: ",", version: ","logo","o_dm","navBrand","FLOORBASE","address","Tel","FirstRotateAngleX","FirstRotateAngleY","FirstRotateAngleZ","DefaultCenZ","FloorHigh","emptyArray","maptime","BuildingHigh","FloorBarName","FloorSet","NavSet","panos","PicSet","version: integer expected","maptime: integer expected","address: string expected","BuildingHigh: number expected","Tel: string expected","FirstRotateAngleY: number expected","FirstRotateAngleZ: number expected","DefaultCenY: number expected","DefaultCenZ: number expected","minX: number expected","maxX: number expected","FloorBarName: string expected","FloorHigh: integer expected","floors: array expected","floors.","navs: array expected","navs.","panos: array expected","bid: string expected","ul: integer expected",".ESMap.ESMapSet.navs: object expected",".ESMap.ESMapSet.panos: array expected",".ESMap.ESMapSet.panos: object expected","arrays","floornumtext","Alias","LiftSet","imagesize","floornum: integer expected","floornumtext: integer expected","Height: integer expected","Alias: string expected","Rooms.","Facility: object expected","Labels: integer key{k:int32} expected","Labels.","Lifts.","image: string expected","imagesize: string expected",".ESMap.FloorSet.Rooms: object expected",".ESMap.FloorSet.Facility: object expected",".ESMap.FloorSet.Labels: object expected",".ESMap.FloorSet.Lifts: object expected","PointID","NameEn: string expected","Brief: string expected","RC: string expected","RH: number expected","ShopID: integer expected","FC: string expected","ipos: integer expected","F1: integer expected","LT: integer expected","LH: integer expected","LM: string expected","LS: string expected","LR: string expected","LO: string expected","X1: number expected","X2: number expected","Y1: number expected","Y2: number expected","O1: string expected","O2: string expected",".ESMap.NavSet.Nodes: object expected",".ESMap.NavSet.Lines: object expected","rid","efnum","eid: integer expected","efnum: integer expected","length: number expected","bstair: string expected","Infos","serverurl","bgaudio","bgaudioplay","picscale","msgscale","PicClickSet","PicNodeSet","bgaudioplay: integer expected","picscale: string expected","msgscale: string expected","Infos: object expected","Infos: integer key{k:int32} expected","Infos.",".ESMap.PicSet.Nodes: object expected",".ESMap.PicSet.Infos: object expected","idlist1","base","idlist2","url: string expected","idlist1: array expected","idlist1: integer[] expected","idlist2: array expected","idlist2: integer[] expected",".ESMap.PicNodeSet.idlist1: array expected",".ESMap.PicNodeSet.idlist2: array expected","purl","aurl","msgt","curl","csize","msgc","purl: string expected","aurl: string expected","msgt: string expected","msgc: string expected","csize: string expected","navLib","ESMAP()*&<GoodWork","keyBytes","stringtoChar","导航结束","即将到达目的地","感谢使用易景三维场景导航","右后转","左后转","左前方直行","右前方直行","到达目的地","已重新规划路线","右转后左转","右转后右转","左转后左转","步行导航开始","进入室内","进入室外","车形导航开始","目的地在道路右侧","请减速","getDesFromNavLib","getWordFromJsonLib","ModelLod","caches","rankObjects","distanceToPoint","targetLod","applyLod","waitings","1.0","audioGroupMapData","audioGroupSound","configStrLength","canInterrupt","isPlaying","playIndex","playLength","spriteArray","sound","loadFile","isLoaded","AUDIO_ERR","loadSoundArrayBuffer","dataBytes","getExtentUint8Array","ab2str","buffer","decodeUnicode","sprite","extentIndex","Howl","loaderror","audio load error","playSoundByName","startNaving","playAudioByText","startCarNaving","deviationNaving","_testEachKey","absoulte","margin","10px","distory","unload","endHandler","num2text","100","playSprites","rate","unshift","MapLoader","_fxl","_cityProgressComplete","isShowSingleBasement","tilesHidden","init_","Unknown Object,skipping","clickOpenBuildings","bimLoader","bimInfoLib","getInfo","infoList","diableClickEffect","color: #2BDE73;","pickLineWidth","_originalAlpha","pickAlpha","LABEL","EFFECT_MARKER","hitCoord","worldCoord","ZXNtYXBzem5vbG9nbw==","c3p5ag==","_gd","buildingRouteDataLoaded","focusBuilding","updateBuildingScene","buildingUpdated","unsetScaleLevel","loadComplete_","finish","convert","composerOrtho","originSize","addPass","renderOrtho","reSize","themeList","modelOpacity_","floorColor_","floorOpacity_","model3DsRGB","model3DsRGBCity","selectedColor_","defaultLabelStyle","selectedLabelStyle","rgba(0, 0, 0, 1.0)","12.0","fontStyleThemeDic","255,255,255","textureList","tileTextures","lineTexture","maptheme","defaultTheme_","createMaterial_","navDoubleDirectRoadMat","defaultLightConfig","#888888","removeLight","light "," not exist","createLight","setLightProperties","setLights","updateThemeStyle","initPoiMateriaByData","existflooridmap","updateTileStylesByData","topimage","sideimage","至少包含一种纹理图片!","/building/","topimagerepeat","sideimagerepeat","/upload/building/","topimagetype","sideimagetype","roomTex","cloneByPropertiesMap","imageScale","imageShadowBlur","checkTileTextures","basic","#000000","主题文件错误,贴图样式","tileTexturesReady","texSide","matIndex","doubleStyle","createRoadStyle","singleStyle & doubleStyle must be set","initRoadStylesByData","customImage","/line/","/upload/","linetype","clearcolor","Line","Poi","Light","Effect","isUseEffectLights","_useThemeLight","setThemeList","mapstyle","poiStyle","materialList","cleartransparent","fontStyle","defaultFontStyle","color_","strokecolor","roomStyle","floorstyle","floorStyleBase","baseheight",".png","fontstyle","fontsize","assignExceptUndefined","selected","fixAlpha","\n                #include <uv_pars_vertex>\n\n                attribute float isHideFlags;\n\n                varying float hideFlag;\n                ","\n                #include <uv_vertex>\n\n                hideFlag = isHideFlags;\n                ","\n                uniform float opacity; \n                varying float hideFlag;\n                ","\n                vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                if(hideFlag > 0.0){\n                    discard;\n                }\n                gl_FragColor = resultColor;\n                ","emissivecolor","iTime","getModelTheme","cloneObj","getFontTheme","getModelMaterial","/buildingImagelabel/","/buildings/theme/","/EsmapTileOffData/","/EsmapTileData/","getPoiMaterialByType","material_","updateBuildingTheme","setBackgroundColor","themeChanged","model3DSelectedColor_","rects_","collision_","width_","flashDelayId","flashId","flashId1","flashId2","enabledUpdateSize","originPosition","showLevel_","_lastScale","getPerspectiveScale","spritify_","Label Error","meterperpixel","notAddImageHeight","UserPOI","UserLabel","Model3D","unspritify_","originalY","_rotateID","_isFading","out","_fadeID","NEAR","scaleRatio_","oriEmissive","oriEmissiveIntensity","oriColor","changedColors","o3dScene_","box3_","asyncWaitTime","ESGLTFLoader","initBase","calcInitCamera","getBuildingScene","collideLabel_","labelCollideScale","requireCollide_","updateScene","disableViewCenter","controlsReseted","_vk","defaultLight","yoffset","udoffset","Outdoor","meta_","floorEdge","offsets","tileStylesMap","addTask","modelImages","model3Ds","workers","workerStatus","tsTank","receiveCount","navigator","message","bimMerged","bimInfos","onMessage","isTile","getTileFromCache","loadFloors","loadRooms","checkTstank","checkWorker","postMessage","postCount","closeAll","POSITIVE_INFINITY","setGeoPoint","mapPicker_","enableMapPan_","enableMapIncline_","enableMapSingleTap_","enableCompassTap_","enableMapRotate","enableMapRotate_","enableGestureRotate","enableMapTilt","enableMapIncline","enableMapZoom","enableMapPinch_","enableMapSingleTap","translate","ELEMENT","normalMaterial","useFadeIn","updateEventId","fixedSizeUpdated","_firstInited","glowPlaneObj","disposeCtx","opacityFix","_configs","isGlow","glowConifg","createGlowMaskTexture","ActiveSprite","activeSprite_","createPlaneMaterial","getDefault","_os","setSizeAnimId","_oc","isOnlyGlow","activeColor","aoTexture","isog","\n                #include <uv_pars_vertex>\n                varying vec2 nvUv;\n                ","gl_Position = projectionMatrix * mvPosition;","\n                gl_Position = projectionMatrix * mvPosition;\n\n                nvUv = uv;\n                ","\n                uniform float opacity;\n                uniform float iTime;\n                uniform bool isog;\n                uniform vec3 activeColor;\n                uniform sampler2D texture1;\n                uniform sampler2D aoTexture;\n                varying vec2 nvUv;\n                ","\n                    vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n    \n                    float x = (0.5 - nvUv.x);\n                    float y = (0.5 - nvUv.y);\n                    vec2 cUv = vec2(x, y);\n    \n                    vec4 aoTexColor = texture2D(aoTexture, nvUv);\n                    vec4 texColor = texture2D(texture1, nvUv);\n    \n                    vec3 col = vec3(1.0);\n                    float d = 1.0 - (dot(cUv, cUv));\n                    d += iTime / 3.;\n                    d *= 3.;\n                    \n                    vec3 colors = activeColor;\n                    //colors = fract(colors);\n    \n                    resultColor.a *= aoTexColor.a;\n                    \n                    float m = fract(d);\n                    m = 3.0 * (m - 0.5);\n                    m = 1.0 - abs(m);\n                   \n                    m = smoothstep(0.0, 1.0, m);\n                    resultColor.a *= m;\n                    // col += (colors * m);\n                    // col.rgb *= 1.5;\n                    col.rgb *= colors;\n                    vec4 rCol = vec4( col.rgb,  resultColor.a );\n                    if(texColor.a > 0.6 && !isog){\n                        rCol = texColor;\n                    }\n                    gl_FragColor = rCol;\n    \n                    ","\n                    #include <uv_vertex>\n                    nvUv = uv;\n                    ","\n                vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                float x = (0.5 - nvUv.x);\n                float y = (0.5 - nvUv.y);\n                vec2 cUv = vec2(x, y);\n                vec4 aoTexColor = texture2D(aoTexture, nvUv);\n                vec3 col = vec3(0);\n                float d = 1.0 - (dot(cUv, cUv));\n                d += iTime / 3.;\n                d *= 3.;\n                vec3 colors = activeColor;\n                resultColor.a *= aoTexColor.a;\n                float m = fract(d);\n                m = 2.0 * (m - 0.5);\n                m = 1.0 - abs(m);\n                m = smoothstep(0.0, 1.0, m);\n                resultColor.a *= m;\n                col += (colors * m);\n                col.rgb *= 1.5;\n                vec4 rCol = vec4( col.rgb,  resultColor.a );\n                gl_FragColor = rCol;\n\n                ","createSprite","sizeAttenuation","createRadialGradient","rgba(255, 255, 255, 1)","rgba(255, 255, 255, 0)","CanvasTexture","/buildingImagelabel","/imagelabel","LOCATION_MARKER","../image/user.png","spritify","fixedAngle_","arrow_","arrowSize_","arrowSize","arrowColor_","arrowColor","#50C1E9","arrowOffset_","arrowOffset","seeThrough_","clip_","mapLoaded","_update_","_update","hideBound","#30a3fb","initRadius","FULL","zOffset","setUrl","fixedAngle","initArrow","isNumber","size_","arrowGroup","createArrow","#1ee3cf","rectangle","FontSide","onError","rotateX","lineStyle","_createLine","setImage","imageRepeat","imageAngle","getCenterByExtent","_processUvs","processsedUv","faces","faceVertexUvs","多边形生成错误，请检查数据","groupsNeedUpdate","getMaterial","originalMaterial","clearHeatPoints","clearHeatMap","updateHeatMap","addHeatPoints","addHeatPoint","updateLine","_normalizePoints","_createPoints","updatePoints","createPlaneGeometry","polygonMarker: error","ShapeGeometry","verticesNeedUpdate","contain","heatMapTool","getColorAt","interpolateColor","useGradientAlpha","getTexture","heatMapMaterial","cachePoint","params","_size","ESImageMarker: angle已废弃。请使用卡片标注ESCardMarker","ESImageMarker已不再维护。请使用ESTextMarker标注替代","viewRadius","onLevel","hooks","#000","getTextStyle","imageSize","imageSpace","getFirstLayer","removeLayer","removeLayersByTypes","removeLayersByNames","applyHeatMap","removeHeatMap","Quartic","floorAlias","floorName","isInit","addMarker","_listenMapEvents","CARD_MARKER","card","请使用支持的标注类型！","removeMarker","toggleMarkerByFloors","setMarkerVisible","checkHeightInFloor","getFloorState","checkMarkerVisible","floorSpanOffset","_floorState","allFloorHeightChangeComplete","🚀 ~ ESGlobalLayer ~ map_.on ~ building:","storeImage","STORE_IMAGE","webViewMarker","WEBVIEW_MARKER","exitInArray","traverse_","FLOOR_BASE","setRenderOrder","disableColide","checkType","loadManger","load3dmarker","clickable","checkViewRadius","setViewRadius","请使用图层类型对应的标注！","loadqueue","Map_CONTROL_NORMAL","Map_CONTROL_SMALL","allLayer","ESControlOffset","imgURL","image/wedgets/","expandSpan","_fControlInstance","timer2","taped","tapedPos","isTapping","tapCount","triggerSkip","#252c41","#1F6ED4","scrollMode","showBtnCount","disposed","expanded","_checkBuildingIsHaveLocMarker","expandIcon","shrinkIcon","inline-block","$box","showshowBtnCount","buttonSize","楼层控件未初始化","\n                    ."," .floor-scroller.smooth{\n                        -webkit-transition: -webkit-transform .5s ease;\n                        transition: -webkit-transform .5s ease;\n                        transition: transform .5s ease;\n                        transition: transform .5s ease,-webkit-transform .5s ease;\n                    }\n                    ","  \n                    ."," .layersToggle , ."," .viewModeToggle , .",";\n                        border-radius:","px;\n                        box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n                    }\n                    ","textColor","\n                     ."," .floor-item .floor-item-devide{\n                        color:",";\n                    }\n                    ","toggleColor"," .layer , ."," .layers, ."," .view2d, ."," .view3d, .",";\n                    }","focusBgColor","focusTextColor"," .floor-item.active .floor-item-devide{\n                        background-color: ",";\n                        color:","marginBottom","px;\n                    }\n                    "," .arrows {\n                        fill:","styleHash","styleSheet","deleteRule","insertRule","updateBtnCount","$scroller","$controlWrapper","createExpandBtn","$expands","8px","cursor","pointer","layersToggle","column","view2d","iconExpand","view3d","toggleExpanded","beforeToggleExpand","updateFloorSpan","icon2d",'<svg t="1635142140694" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5371" width="100%" height="100%"><path d="M342.7 536.6c-30.6 21.9-50.1 42.6-58.3 62.1-8.5 17.4-13 36.6-13.6 57.7h201v-50.8H343.7c3.6-6.1 8.1-11.4 13.5-16 5.3-4.6 15.2-12 29.7-22.3l23.1-16.4c19.5-13.8 33.5-26.2 42-37.4 13-16.9 19.5-36.2 19.5-57.9 0-28.3-9.2-51.1-27.6-68.3-18.4-17.2-43.1-25.8-74.2-25.8-39.3 0-66.7 14.6-82.1 43.9-8.1 15.4-12.6 35.6-13.6 60.5h56.1c0.7-16.5 2.8-28.5 6.5-36 6.3-13.1 18.3-19.6 35.8-19.6 12.8 0 22.7 4.1 29.6 12.3 6.9 8.2 10.3 18.6 10.3 31 0 15.2-6 29.3-18 42.1-7.8 8.2-25 21.8-51.6 40.9zM343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7zM695.4 399.8c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.5 118h-0.2c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5372"></path></svg>',"icon3d",'<svg t="1635142241861" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5764" width="100%" height="100%"><path d="M343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7z m33.1-243c-7.1 0-13.6-0.9-19.6-3.2-5.8-2-10.8-5-14.9-8.8-4.1-3.7-7.3-8.4-9.5-13.6-2.2-5.4-3.4-11.2-3.4-17.5h-48.4c0 13.4 2.6 25.1 7.8 35.4 5.2 10.2 12.1 18.8 20.9 25.5 8.8 6.9 18.8 11.9 30.3 15.5 11.5 3.7 23.5 5.4 36.1 5.4 13.8 0 26.6-1.9 38.5-5.6 11.9-3.7 22.2-9.3 30.9-16.6 8.8-7.3 15.5-16.2 20.5-26.8 4.8-10.6 7.4-22.7 7.4-36.3 0-7.3-0.9-14.2-2.6-20.9-1.9-6.7-4.7-13-8.4-19-3.9-6-8.9-11.2-15.1-16-6.9-5-14.5-9-22.5-11.7 7.4-3.4 14-7.4 19.6-12.3 5.6-4.8 10.2-10.1 14-15.5 3.7-5.6 6.5-11.2 8.4-17.1 1.9-6 2.8-11.9 2.8-17.7 0-13.6-2.2-25.5-6.7-35.7-4.5-10.2-10.8-18.8-19-25.7-8.2-6.9-17.9-12.1-29.4-15.6-12.4-3.7-25.4-5.6-38.4-5.4-13.4 0-25.9 2-37.2 6-11.4 3.9-21 9.5-29.2 16.6-8.2 7.1-14.5 15.5-19.2 25.1-4.7 9.7-6.9 20.3-6.9 31.7h48.4c0-6.3 1.1-11.9 3.4-16.8 2.2-5 5.4-9.3 9.3-12.7 3.9-3.5 8.8-6.3 14.2-8.2 5.4-1.9 11.4-3 17.7-3 14.9 0 25.9 3.9 33.1 11.5 7.3 7.6 10.8 18.4 10.8 32.2 0 6.7-0.9 12.7-3 18.1-2 5.4-5 10.1-9.1 14-4.1 3.9-9.3 6.9-15.3 9.1-6.1 2.2-13.4 3.4-21.6 3.4h-28.7v38.2h28.7c8.2 0 15.6 0.9 22.2 2.8s12.1 4.7 16.8 8.8c4.7 3.9 8.2 8.9 10.8 14.9 2.4 6 3.7 13 3.7 21.2 0 15.1-4.3 26.6-13 34.6-8.4 7.8-20.1 11.7-35.2 11.7z m318.8-220.6c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.7 118c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3h-0.2zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5765"></path></svg>',"iconLayer",'<svg t="1635143998255" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21667" width="100%" height="100%"><path d="M954.66666687 368l-426.66666656 170.66666625c-10.66666687 5.33333344-26.66666625 5.33333344-37.33333406 0L69.33333313 368C37.33333344 351.99999969 37.33333344 303.99999969 69.33333313 288.00000031l421.33333312-176.00000062c10.66666687-5.33333344 26.66666625-5.33333344 37.33333406 0l421.33333313 176.00000062c37.33333312 16.00000031 37.33333312 64.00000031 5.33333343 79.99999969zM938.66666656 730.66666625l-410.66666625 176.00000063s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-176.00000063c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 816.00000031l405.33333375-170.66666719s10.66666687-5.33333344 15.99999937-5.33333343c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21668"></path><path d="M938.66666656 560l-410.66666625 175.99999969s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-175.99999969c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 645.33333312l405.33333375-170.66666624s10.66666687-5.33333344 15.99999937-5.33333344c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21669"></path></svg>',"iconArrow",'<svg t="1639103281020" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21930" width="32" height="32"><path d="M127.4 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l315-315L80.1 195.5c-16.8-16.8-23.4-41.3-17.2-64.3 6.2-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L535.7 463c26 26 26 68.1 0 94.1L174.1 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21931"></path><path d="M527.7 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l314.9-314.9-314.8-315c-16.8-16.8-23.4-41.3-17.2-64.3 6.1-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L936 463c26 26 26 68.1 0 94.1L574.4 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21932"></path></svg>','<svg t="1655692108337" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2145" width="100%" height="100%"><path d="M1024 0 1024 384 885.728 245.728 673.728 457.728 566.272 350.272 778.272 138.272 640 0ZM245.728 138.272 457.728 350.272 350.272 457.728 138.272 245.728 0 384 0 0 384 0ZM885.728 778.272 1024 640 1024 1024 640 1024 778.272 885.728 566.272 673.728 673.728 566.272ZM457.728 673.728 245.728 885.728 384 1024 0 1024 0 640 138.272 778.272 350.272 566.272Z" p-id="2146"></path></svg>','<svg t="1657681674199" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9284" width="100%" height="100%"><path d="M768 640l0-128-320 0 0-128 320 0 0-128 192 192zM704 576l0 256-320 0 0 192-384-192 0-832 704 0 0 320-64 0 0-256-512 0 256 128 0 576 256 0 0-192z" p-id="9285"></path></svg>',"\n        ."," .floor-scroller.smooth{\n            -webkit-transition: -webkit-transform .5s ease;\n            transition: -webkit-transform .5s ease;\n            transition: transform .5s ease;\n            transition: transform .5s ease,-webkit-transform .5s ease;\n        }\n        ."," .controlWrapper{\n            background-color: ","px;\n            box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n        }\n        ."," .floor-item .floor-item-devide{\n            color:"," .floor-item.active .floor-item-devide{\n            background-color: ",";\n            color:"," .viewModeToggle{\n            margin-bottom:","px;\n        }\n        ."," .floor-item-devide{\n            font-size: "," .arrows {\n            fill:",";\n        }\n    ","querySelector","head","sheet","999","isLayoutRow","scale(","allFloorsState","iconLayers","layersImage","setAllFloorState","viewModeState","viewModeToggle","toggleViewModeState","viewModeBtn","fnumToggleBtn","expandBtn","createExitBtn","controlWrapper","1111.11rem","-webkit-perspective","-webkit-tap-highlight-color","tap-highlight-color","rgba(0,0,0,0)","relative","5px 0","preserve-3d","floor-scroller smooth","arrows","-webkit-transform","deg) translateZ(","-webkit-backface-visibility","-moz-backface-visibility","-ms-backface-visibility","childNodes","rotate(90deg)","40%","currentTarget","setTransformAngle","toggleTargetClass","rotateX(","backfaceVisibility"," active","fontWeight","whiteSpace","pre-wrap","all .5s ease-in","rotate(-90deg)","$maxAngle","onScroll","floor-item","toggleTargetClassByFnum","ontouchmove","ontouchend","reComputeHeight","onUpdated","updated",".active","iconExit","$exitBtn","setViewModeState","setMapViewMode","SINGLE_FLOOR","layerImage","wheelDelta","limitValue","deg)","getElementsByClassName","getCurrentAngle","tapedAngle","checkPos","toDecimal5","disableScrollFloorControl","scrollFloorNumChanged","block","padding_","positon_","top_","left_","2px 2px 3px rgba(0,0,0, 0.3)","defaultRadius_","2px","imgURL_","zoom-wrap","zoom-in-btn","scaleLevelIn","zoomin.png","zoom-out-btn","zoomout.png","hrEl","setPosition_","controlPositionListener","container_","right_","1px","1px solid rgba(153, 153, 153, 0.45)","60%","0 20%","alpha(opacity=100, finishopacity=0, style=3)","scalelevel","down","keepLeft","keepRight","arriving","appKey","navidistance","navLayer","navPic","image/start.png","image/end.png","realNaviClock","locMoveTimer","navMode","timerDelta","timer","naviDescriptions","allowPlayDis","isCrossingFuti","crossedFnum","curLadder","_isEnd_","isNaving","moveTimer","lastNavCode","toSubDis","filterList","analysedData","blockList","curPathInfos","_toPos","_allLen","_preGid","_changeFnumIng","_animID","_rotateId","_crossFnum","#33cc61","audioPlay","ESAudioTool","init audiotool error","routePlanner","_createMarker","clearNaviLines","navMarker","zoomLevelTo","toggleFollowMaxDistance","_originMaxDistance","setEndPoint","reRoute","getRouteResult","setNaviData","pointList","_naviResult","outcome","_getFloorsPoints","_naviDescriptions","naviDescriptionsData","drawNaviLine","_getCrossPoints","queryByPoints","ladderType","linkStartEnd","linkMinDistance","costDistance","getTransformedStartEnd","getAMapResult","driving","drawRoute","useAMap","AMAP","rawPointList","outDoorNaviDescriptions","combinePoints","lineObj","无法到达!请重新选点","_trs","_transformResults","clearLocationMarker","clearMarkers","_drawLines","_drawlineByResults","navLine","yScale","billboard","autoClearNaviLine","_linesVisible","isMultiPointsNav","_moveTo","_setNavCode","_computeCameraStateByDistance","fitView","fitViewStage1","fitviewStage1","constraint","computedRawLevel","setView","fitViewStage2","fitViewStage3","maxEnd","tipAlmosted","playAudio","audioPlayed","已到达目的地附近","tipEnded","manModeTipStarted","tipDistance","manModeTipEnded","manWalkedCount","carModeTipStarted","carModeTipEnded","endDirection","tipSlowDowned","over","navTip","_walkingCrossTime","_checkDeviated","routeCore","nearbyLine","lineList","has","_walkingfunction","crossFutiTime","ladderLen","reRouteDis","deviateCount","reRouteLimit","reRouting","setStartPoint","surDistance","remain","backcount","arrivalCount","parkDir","audioTipEnd","目的地在道路","restoreState","_broadcast","descriptionIndex","distanceToNext","crossing","segindex","instruction","bestView","bestViewMinDistance","isSimulating","_viewID","_scaleLevelToID","_animateFun","_preBid","_groupPointsIndex","_toRot","_gpsData","dis2next","audioCountDown","lastAngle","passPercent","passed","_finalVisibleFloors","_analyse","_index","inTime","_locMarkerToStartPoint","isMultiFloors","scaleAnimate","_earthZoom","lockViewMove","simulate","_onstartNavi","naviinfoindex","nexbid","disToNexBid","disToNexFnum","_naviConstraint","totalDisntance","balanceValue","nexfnum","_getTransformByLength","_getLadderType","crossSchemes","manModeAllScheme","dataList","allLineMap","carModeScheme","crossBid","relAngle","combineAsset","relField","_boo","floorDesc","_tailLen"," 后 前往","relDesc","absDesc","进入 ","_gps","showMultiFloor","getPosition","_groupsPoints","isNaviAnimating","crossFloor","rotateTimer","followGap","_anim","vvs","walkTo","_segindex","getTileLineById","_updateTileNavData","未找到线数据: ","preprocess","startData","endData","navidata","naviTip","locationMarkerOptions","locationMarkerUrl","image/pointer.png","locationMarkerSize","locationMarkerSpritify","addLocationMarker","analyticRouteData","steps","splitLLStrToPoints","transLLPointsToWorldPosPoints","posList","computeDistance","errcode","bicycling","route","checkStatus","getMapTypeData","https://restapi.amap.com/v3/direction/driving","walking","https://restapi.amap.com/v4/direction/bicycling","requestAMapData","getNavNodeById","getPointById","setSourceData","routeBetweenBuildings","setPreferCrosses","preferCrosses","roomNodeMap","roomPolygons","baseSceneId","nodeLinkMap","linkPoints","linkPointsId","preprocessMain","isBuildingAccessable","preprocessTileNav","tileRouteDataLoaded","computeCityLinePoints","checkLinks","findIndex","queryRooms","assignToRoom","preprocess start","isReload","multiLinesUsed","_getNearestGate","allPointMap","entry warning "," fnum:"," pid:","重复的点","重复的线","man mode schemes error","lineids","pointids","fnumPoints","crosses","manModeScheme","preprocessComplete","getNaviResult","getSource","导航数据不存在","startFloorNum","getNearestNode","queryRoutes","getShortestPath","walkPath","walkLines","entries","起点与终点不能相同","JudgeCostDistance","_compare","updateNewShortestPathList","deepClone","error!id: 9920587","manhattenCost","mapcoord","getAllGates","getFloorNum","ESWall初始化失败:points不能未空","walls","http","asyncGetWallModel","_modelObj","_oriModelObj","updateByPoints","created","useCrst","thickset","computeCenters","数据错误，请检查是否有重复点 id:"," ,模型:","合并失败，取消合并","angle must be a object or number!","box","Arial,sans-serif","18px","textBox","5px","-1px","3px","6px","barBox","&nbsp;米","&nbsp;公里","barBoxer","defaultShadow_","screenCoord","bindMarker","mapCoord_","transformOrigin_","center bottom","translateStyle_","translateStyle","-50%, -100%","new esmap.ESPopMarker: id重复: ","onVisibleCallBack","screenCoord_","defaultPadding_","contentHeight_","content_","borderStyle_","1px solid rgba(0,0,0,.2)","borderColor","rgba(0,0,0,.2)","maxScale","_tryInit","transformOrigin","<div style='height:","px;'>","</div>","es-control-popmarker","es-control-popmarker-bot","borderWidth","borderStyle","-40px","-39px","0 0 #eee","24px","onclick","bindCloseClick_","_inFloor","initY","setVisible","updateSize_","inLevel","bindchange","insertAdjacentHTML","beforeend","px) scale(","cssOnUpdate","cssObject","getMapCoord_Z","closed","zonTempObj","focusFnum_","loadedFloorNums","floors_","thicks","animatingId_","originFloorHeights","entered","convertBuildingToWorld","getFloorNumByName","listFloors","未找到楼层: ","getFloorBounds","esmap.ESInfo.GETFLOORBOUNDS_ERR","MAP_ROAD","isSelect","isHide","hideGroup","hided","animating_","floorHeightChangeComplete","getO3dFloor","enteredStyle","focusAnimateMode","buildingExit","putFloor","floorTempData","notMove","Circular","loadFloorBase","asyncBuidExtents","loadFloor","queryFloor","forEachFloor","theme_","addModel","updateFactor","loadRoad","asyncBuildLabels","floorBaseLayers","floorBases","handleFloors","poiLayer","poilayers","checkLoadedAll","labellayers","labels","buildingLabelCenter","loadLayerComplete","callbackByFloor","mapModelsLoadedAll","toggleModel3D","isMapLayer","floorNames","focusFloor_","updateScrollFloorsControl","visibleBuildingsChanged","blured","focusOnLoaded"];!function(x,c){!function(c){for(;--c;)x.push(x.shift())}(++c)}(_0x2b7f,439);var _0x4b1c=function(x,c){return _0x2b7f[x-=0]};!function(x){function c(c){for(var _,i,a=c[0],n=c[1],r=c[2],o=0,f=[];o<a[_0x4b1c("0x0")];o++)i=a[o],e[i]&&f.push(e[i][0]),e[i]=0;for(_ in n)Object.prototype[_0x4b1c("0x1")][_0x4b1c("0x2")](n,_)&&(x[_]=n[_]);for(s&&s(c);f.length;)f[_0x4b1c("0x3")]()();return t.push[_0x4b1c("0x4")](t,r||[]),b()}function b(){for(var x,c=0;c<t[_0x4b1c("0x0")];c++){for(var b=t[c],_=!0,a=1;a<b[_0x4b1c("0x0")];a++){var n=b[a];0!==e[n]&&(_=!1)}_&&(t[_0x4b1c("0x5")](c--,1),x=i(i.s=b[0]))}return x}var _={},e={2:0},t=[];function i(c){if(_[c])return _[c][_0x4b1c("0x6")];var b=_[c]={i:c,l:!1,exports:{}};return x[c][_0x4b1c("0x2")](b[_0x4b1c("0x6")],b,b[_0x4b1c("0x6")],i),b.l=!0,b[_0x4b1c("0x6")]}i.m=x,i.c=_,i.d=function(x,c,b){i.o(x,c)||Object[_0x4b1c("0x7")](x,c,{enumerable:!0,get:b})},i.r=function(x){typeof Symbol!==_0x4b1c("0x8")&&Symbol[_0x4b1c("0x9")]&&Object[_0x4b1c("0x7")](x,Symbol[_0x4b1c("0x9")],{value:_0x4b1c("0xa")}),Object[_0x4b1c("0x7")](x,_0x4b1c("0xb"),{value:!0})},i.t=function(x,c){if(1&c&&(x=i(x)),8&c)return x;if(4&c&&"object"==typeof x&&x&&x.__esModule)return x;var b=Object.create(null);if(i.r(b),Object.defineProperty(b,_0x4b1c("0xc"),{enumerable:!0,value:x}),2&c&&typeof x!=_0x4b1c("0xd"))for(var _ in x)i.d(b,_,function(c){return x[c]}[_0x4b1c("0xe")](null,_));return b},i.n=function(x){var c=x&&x[_0x4b1c("0xb")]?function(){return x[_0x4b1c("0xc")]}:function(){return x};return i.d(c,"a",c),c},i.o=function(x,c){return Object[_0x4b1c("0xf")][_0x4b1c("0x1")].call(x,c)},i.p=_0x4b1c("0x10");var a=window[_0x4b1c("0x11")]=window[_0x4b1c("0x11")]||[],n=a.push.bind(a);a[_0x4b1c("0x12")]=c,a=a.slice();for(var r=0;r<a[_0x4b1c("0x0")];r++)c(a[r]);var s=n;t.push([159,1,4,0]),b()}(Array(19).concat([function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=a(b(6)),e=a(b(14)),t=a(b(33)),i=a(b(38));function a(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}c[_0x4b1c("0x13")]=function(x,c,b){return x&&x[_0x4b1c("0x1")](c)?x[c]:b},c.getValues=function(x,c,b){for(var _,e=1;e<arguments.length-1;e++)if(void 0!==(_=x[arguments[e]]))return _;return arguments[arguments[_0x4b1c("0x0")]-1]},c[_0x4b1c("0x14")]=function(x){return(0,i.default)(new(t[_0x4b1c("0xc")])(x))},c[_0x4b1c("0x15")]=function(x){var c=0;for(var b in x)x.hasOwnProperty(b)&&c++;return c},c[_0x4b1c("0x16")]=function(x){var c=this;(0,e[_0x4b1c("0xc")])(x)[_0x4b1c("0x1c")]((function(b){null==c[b]&&(c[b]=x[b])}))},c.exitInArray=function(x,c){for(var b=0;b<x[_0x4b1c("0x0")];b++)if(x[b]==c)return!0;return!1},c[_0x4b1c("0x17")]=function(x){var c=typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_.default)(x);return null!=x&&(c==_0x4b1c("0x1d")||c==_0x4b1c("0x1e"))},c[_0x4b1c("0x18")]=function(x,c){if(!x)return;for(var b in x){if(!1===c(x[b],b,x))break}},c.cloneObj=function(x){if(!x)return x;var c={};for(var b in x)c[b]=x[b];return c},c.getDeviceDPI=function(){var x=new Array;if(null!=window[_0x4b1c("0x1f")][_0x4b1c("0x20")])x[0]=window.screen.deviceXDPI,x[1]=window[_0x4b1c("0x1f")].deviceYDPI;else{var c=document[_0x4b1c("0x21")](_0x4b1c("0x22"));c[_0x4b1c("0x23")][_0x4b1c("0x24")]=_0x4b1c("0x25"),document[_0x4b1c("0x26")].appendChild(c),x[0]=parseInt(c[_0x4b1c("0x27")]),x[1]=parseInt(c[_0x4b1c("0x28")]),c.parentNode[_0x4b1c("0x29")](c)}return x},c[_0x4b1c("0x19")]=function(x,c){return new RegExp("^"+c)[_0x4b1c("0x2a")](x)},c[_0x4b1c("0x1a")]=function(x){for(var c=x.split(_0x4b1c("0x2b")),b=c[0][_0x4b1c("0x2c")](":")[1],_=window.atob(c[1]),e=_[_0x4b1c("0x0")],t=new Uint8Array(e),i=0;i<e;++i)t[i]=_[_0x4b1c("0x2d")](i);return new Blob([t],{type:b})},c[_0x4b1c("0x1b")]=function(x){return(0,i[_0x4b1c("0xc")])(Array(Number(x)||24),(function(){return Math.floor(36*Math[_0x4b1c("0x2e")]())[_0x4b1c("0x2f")](36)})).join("")}},,,,function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0x30")]=void 0;var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(){(0,_[_0x4b1c("0xc")])(this,x)}return(0,e[_0x4b1c("0xc")])(x,null,[{key:_0x4b1c("0x31"),value:function(x){esmap[_0x4b1c("0x32")].instance.mapScene[_0x4b1c("0x33")][_0x4b1c("0x34")][_0x4b1c("0x35")]({messageType:3,msg:x[_0x4b1c("0x35")],level:x.level})}}]),x}();c.MessagePoster=i},,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=n(b(0)),e=n(b(1)),t=b(43),i=b(34),a=b(27);function n(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var r=function(){function x(){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x36")]={},window[_0x4b1c("0x37")](_0x4b1c("0x38"),this[_0x4b1c("0x39")].bind(this))}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x39"),value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=c.options,_=b.s&&b.k,e=b[_0x4b1c("0x3b")];if(this[_0x4b1c("0x3c")]=x[_0x4b1c("0x3d")].id,this[_0x4b1c("0x3e")]=c,this[_0x4b1c("0x3f")]=_,this[_0x4b1c("0x40")]=e,e==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]?this[_0x4b1c("0x43")]():this[_0x4b1c("0x44")](),1==window[_0x4b1c("0x45")]){var t=new CustomEvent(_0x4b1c("0x46"),{});window.EPathManager=this,window.dispatchEvent(t)}}},{key:_0x4b1c("0x43"),value:function(){var x=this[_0x4b1c("0x3c")],c=this[_0x4b1c("0x3e")][_0x4b1c("0x47")],b=c.tid,_=c.s,e=c.mapDataSrc;if(1==b){var a=(0,t[_0x4b1c("0x48")])(_);this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x49")]=3==_?a:i[_0x4b1c("0x4a")][_0x4b1c("0x4b")](a)}else this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x49")]=e+x;var n=this[_0x4b1c("0x4c")]();this[_0x4b1c("0x4d")]("lic",(function(){return{url:n[_0x4b1c("0x4e")],timestamp:n[_0x4b1c("0x4f")]}})),this[_0x4b1c("0x4d")]("tile",this[_0x4b1c("0x50")][_0x4b1c("0xe")](this)),this[_0x4b1c("0x4d")](_0x4b1c("0x51"),this[_0x4b1c("0x52")](n[_0x4b1c("0x53")])),this.setPath(_0x4b1c("0x54"),this.getCityBuildingPath[_0x4b1c("0xe")](this)),this.setPath(_0x4b1c("0x55"),this[_0x4b1c("0x56")][_0x4b1c("0xe")](this)),this[_0x4b1c("0x4d")](_0x4b1c("0x57"),this.getCityBuildingSearchJsonPath[_0x4b1c("0xe")](this)),this[_0x4b1c("0x4d")](_0x4b1c("0x58"),this.getCityThemePath[_0x4b1c("0xe")](this)),this.setPath(_0x4b1c("0x59"),this.getCityAssetsPath.bind(this)),this[_0x4b1c("0x4d")](_0x4b1c("0x5a"),this[_0x4b1c("0x5b")][_0x4b1c("0xe")](this)),this.setPath(_0x4b1c("0x5c"),this[_0x4b1c("0x5d")][_0x4b1c("0xe")](this)),this.setPath(_0x4b1c("0x5e"),this[_0x4b1c("0x5f")][_0x4b1c("0xe")](this)),this[_0x4b1c("0x4d")](_0x4b1c("0x60"),this[_0x4b1c("0x61")].bind(this))}},{key:"initIndoorPaths",value:function(){var x=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x62")],c="";if(x[_0x4b1c("0x63")](_0x4b1c("0x64"))||x[_0x4b1c("0x63")](_0x4b1c("0x65"))){this.map[_0x4b1c("0x47")][_0x4b1c("0x49")]=x;var b=x[_0x4b1c("0x2c")]("//")[1].split("/")[0];c=x[_0x4b1c("0x2c")]("//")[0]+"//"+b}else c=this[_0x4b1c("0x3f")]?"/":x;this[_0x4b1c("0x3e")].options[_0x4b1c("0x49")]=c,this[_0x4b1c("0x4d")](_0x4b1c("0x54"),this[_0x4b1c("0x66")].bind(this)),this.setPath(_0x4b1c("0x5a"),this[_0x4b1c("0x67")][_0x4b1c("0xe")](this)),this[_0x4b1c("0x4d")](_0x4b1c("0x5c"),this[_0x4b1c("0x68")][_0x4b1c("0xe")](this)),this.setPath(_0x4b1c("0x5e"),this[_0x4b1c("0x69")].bind(this)),this[_0x4b1c("0x4d")](_0x4b1c("0x55"),this[_0x4b1c("0x6a")][_0x4b1c("0xe")](this))}},{key:"setPath",value:function(x,c){this[_0x4b1c("0x36")][x]=c}},{key:"getPath",value:function(x,c){var b=this[_0x4b1c("0x36")][x];return"string"==typeof b?b:b(c)}},{key:"getIndoorMap",value:function(x){var c=this.mapId,b=this[_0x4b1c("0x3e")][_0x4b1c("0x47")],_=b[_0x4b1c("0x62")],e=b.s,t=b.k,i=b[_0x4b1c("0x6b")],a=b[_0x4b1c("0x6c")],n=_+c+"/"+c+_0x4b1c("0x6d"),r=!1;if(this.skMode){r=!0;var s=_0x4b1c("0x6e");i&&(s="mapoff/mapoffdata!getmap.action?bids="),n=e+s+c+_0x4b1c("0x6f")+t+_0x4b1c("0x70")+x.t}else a&&(n+="?t="+Date[_0x4b1c("0x71")](new Date));return{url:n,skMode:r}}},{key:_0x4b1c("0x67"),value:function(x){var c=x[_0x4b1c("0x72")],b=x[_0x4b1c("0x73")],_=this.mapId,e=this.map[_0x4b1c("0x47")],t=e[_0x4b1c("0x62")],i=e[_0x4b1c("0x6c")],a=e[_0x4b1c("0x74")],n=void 0;return n=a?""+a+c+"/"+b:""+t+_+"/theme/"+c+"/"+b,i&&(n=n+_0x4b1c("0x75")+Date[_0x4b1c("0x71")](new Date)),n}},{key:"getIndoorThemePath",value:function(x){var c=x.themeID,b=x[_0x4b1c("0x76")],_=this.mapId,e=this[_0x4b1c("0x3e")][_0x4b1c("0x47")],t=e[_0x4b1c("0x62")],i=e[_0x4b1c("0x6c")],a=e.mapThemeSrc,n=void 0;return n=a?""+a+c+"/"+c+"."+b:""+t+_+_0x4b1c("0x77")+c+"/"+c+"."+b,i&&(n=n+_0x4b1c("0x75")+Date[_0x4b1c("0x71")](new Date)),n}},{key:_0x4b1c("0x68"),value:function(x){var c=x[_0x4b1c("0x73")],b=x[_0x4b1c("0x78")],_=x[_0x4b1c("0x79")],e=this.map[_0x4b1c("0x47")],t=e.lang,i=e[_0x4b1c("0x62")],a=this[_0x4b1c("0x3c")];if(_&&!i.startsWith("http"))if(i[_0x4b1c("0x7a")]("/"))i=window[_0x4b1c("0x7b")][_0x4b1c("0x7c")]+i;else{var n=window[_0x4b1c("0x7b")].pathname,r=n.lastIndexOf("/");n=n.substring(0,r),i=window.location[_0x4b1c("0x7c")]+n+"/"+i}return i+a+"/"+(b?b+(t?String(t):"")+"/":"")+c}},{key:_0x4b1c("0x7d"),value:function(x){var c=x.filename,b=this[_0x4b1c("0x3e")].options,_=b.s,e=b.k,t=(b.mapDataSrc,this.map[_0x4b1c("0x7e")][_0x4b1c("0x7f")]("t"));return _+"/map/mapmodel!getmodel.action?bids="+this.mapId+"&name="+c+_0x4b1c("0x6f")+e+_0x4b1c("0x70")+t}},{key:_0x4b1c("0x69"),value:function(x){var c=x[_0x4b1c("0x73")],b=this.map[_0x4b1c("0x47")],_=b[_0x4b1c("0x62")],e=b.s,t=b.k,i=this[_0x4b1c("0x3c")],a=this[_0x4b1c("0x3f")],n=this[_0x4b1c("0x3e")][_0x4b1c("0x7e")].getState("t"),r=void 0;a?r=e+_0x4b1c("0x80")+i+_0x4b1c("0x81")+c+_0x4b1c("0x6f")+t+_0x4b1c("0x70")+n:r=_+i+"/model/"+c+_0x4b1c("0x82");return r}},{key:_0x4b1c("0x6a"),value:function(){return this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x62")]+this.map.id+_0x4b1c("0x83")}},{key:_0x4b1c("0x4c"),value:function(){var x,c=this[_0x4b1c("0x3e")][_0x4b1c("0x47")],b=this[_0x4b1c("0x3c")],_=c[_0x4b1c("0x84")],e=c.s,a=c.tid,n=window[_0x4b1c("0x7b")][_0x4b1c("0x85")],r=parseInt((new Date)[_0x4b1c("0x86")]()/1e3);x=c.s&&c.k?c.k:esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](c[_0x4b1c("0x89")]+_0x4b1c("0x8a")+r);var s=esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](a+"&"+b+"&"+e+"&"+x+"&"+r+"&"+n+"&"+_),o=i[_0x4b1c("0x4a")][_0x4b1c("0x4b")]((0,t[_0x4b1c("0x8b")])(e)),f=void 0;if(3==a)f=c[_0x4b1c("0x49")]+"/"+b+"_lic.esmap",c.isRandom&&(f=f+_0x4b1c("0x75")+Date.parse(new Date));else{var l=(0,t.gdbs)(e);f=(3==e?l:i.Base64.decode(l))+"/"+o+_0x4b1c("0x8c")+b+_0x4b1c("0x8d")+c.s+_0x4b1c("0x8e")+x+_0x4b1c("0x70")+r+_0x4b1c("0x8f")+encodeURIComponent(n)+_0x4b1c("0x90")+s+"&v="+_+_0x4b1c("0x91")+a}return{url:f,query_sign:s,timestamp:r}}},{key:_0x4b1c("0x52"),value:function(x){var c=this[_0x4b1c("0x3c")],b=this[_0x4b1c("0x3e")][_0x4b1c("0x47")],_=b.s,e=b.k,n=document[a[_0x4b1c("0x92")]],r=parseInt((new Date).getTime()/1e3);return i[_0x4b1c("0x4a")][_0x4b1c("0x4b")](t.PRIVITES[2803])+(_0x4b1c("0x93")+c+_0x4b1c("0x8d")+_+"&k=")+e+_0x4b1c("0x70")+r+"&url="+n+"&sign="+x+_0x4b1c("0x94")}},{key:"getCitySearchJsonPath",value:function(){return this.map[_0x4b1c("0x47")].serverUrl+_0x4b1c("0x83")}},{key:_0x4b1c("0x95"),value:function(x){var c=x[_0x4b1c("0x96")];return this[_0x4b1c("0x3e")][_0x4b1c("0x47")].serverUrl+_0x4b1c("0x97")+c+_0x4b1c("0x83")}},{key:_0x4b1c("0x98"),value:function(x){var c=this.map.options,b=c[_0x4b1c("0x99")],_=c[_0x4b1c("0x49")],e=c.k,t=c[_0x4b1c("0x6c")],i=c.s,a=x[_0x4b1c("0x96")],n=x.t,r=void 0,s=!1;if(1!=b)r=_+"/buildings/"+a+"/"+a+".esmap",t&&(r+=_0x4b1c("0x75")+Date[_0x4b1c("0x71")](new Date));else{s=!0;var o=e[_0x4b1c("0x2c")]("&"),f=esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](esmap.ESMapUtil[_0x4b1c("0x88")](a+_0x4b1c("0x9a")+2+"#"+o[0])+"worldeditor");r=_+_0x4b1c(3==i?"0x9b":"0x9c")+a+_0x4b1c("0x9d")+e+_0x4b1c("0x9e")+2+_0x4b1c("0x6f")+f+_0x4b1c("0x91")+b+_0x4b1c("0x70")+n}return{url:r,skMode:s}}},{key:"getCityAssetsPath",value:function(x){var c=x.filename,b=x[_0x4b1c("0x78")],_=this.mapId;return this.map[_0x4b1c("0x47")][_0x4b1c("0x62")]+_+"/"+b+"/"+c}},{key:_0x4b1c("0x9f"),value:function(x){var c=x.ext,b=x.themeID,_=this[_0x4b1c("0x3c")],e=this[_0x4b1c("0x3e")][_0x4b1c("0x47")],t=e[_0x4b1c("0x6c")],i=e[_0x4b1c("0x62")]+_+"/worldtheme/"+b+"/"+b+"."+c;return t&&(i+=_0x4b1c("0x75")+Date.parse(new Date)),i}},{key:_0x4b1c("0x5b"),value:function(x){var c=x[_0x4b1c("0x73")],b=x[_0x4b1c("0x72")],_=x[_0x4b1c("0x96")],e=this[_0x4b1c("0x3e")][_0x4b1c("0x47")],t=e[_0x4b1c("0x99")],i=e.serverUrl,a=e.s,n="";1==t?n=i+_0x4b1c(3==a?"0xa0":"0xa1")+_+"/":n=i+"/buildings/"+_+"/";return n+_0x4b1c("0xa2")+b+"/"+c}},{key:"getCityBuildingThemePath",value:function(x){var c=x.ext,b=x[_0x4b1c("0x72")],_=x[_0x4b1c("0x96")],e=this[_0x4b1c("0x3e")][_0x4b1c("0x47")],t=e[_0x4b1c("0x99")],i=e.s,a=e[_0x4b1c("0x49")],n="";1==t?n=a+_0x4b1c(3==i?"0xa0":"0xa1")+_+"/":n=a+_0x4b1c("0x97")+_+"/";return n+_0x4b1c("0xa2")+b+"/"+b+"."+c}},{key:_0x4b1c("0x5d"),value:function(x){var c=x.filename,b=x[_0x4b1c("0x78")],_=x[_0x4b1c("0x96")],e=this[_0x4b1c("0x3e")].options,t=e[_0x4b1c("0x99")],i=e.s,a=e.serverUrl,n=e[_0x4b1c("0xa3")],r="";1==t?r=a+_0x4b1c(3==i?"0xa0":"0xa1")+_+"/":r=a+_0x4b1c("0x97")+_+"/";return r+b+((n?String(n):"")+"/")+c}},{key:_0x4b1c("0x50"),value:function(x){var c=x[_0x4b1c("0xa4")],b=x[_0x4b1c("0xa5")],_=this[_0x4b1c("0x3c")],e=this[_0x4b1c("0x3e")].options,a=e[_0x4b1c("0x99")],n=e.s,r=e.k,s=e.serverUrl,o=e[_0x4b1c("0x89")],f=e.version,l=e[_0x4b1c("0x62")],d=e[_0x4b1c("0x6c")],u=c[_0x4b1c("0x2c")]("_"),h=u[0],g=u[1],v=r,p="";if(1!=a)p=l+_+_0x4b1c("0xa6")+h+"_"+g+"/"+h+"_"+g+_0x4b1c("0xa7")+(1==b?"":"nav")+".esmap",d&&(p+=_0x4b1c("0x75")+Date.parse(new Date));else{2==a&&(v=esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](o+_0x4b1c("0x8a")));var m=esmap.ESMapUtil[_0x4b1c("0x88")](a+"&"+_+"&"+n+"&"+v+"&"+f+"&"+b+"&"+h+"&"+g);p=s+"/"+i.Base64.decode((0,t.getSubDirByS)(n))+_0x4b1c("0xa8")+_+"&k="+v+_0x4b1c("0x8d")+n+_0x4b1c("0xa9")+b+"&x="+h+"&y="+g+"&sign="+m+_0x4b1c("0xaa")+f+_0x4b1c("0x91")+a,d&&(p+=_0x4b1c("0x70")+Date[_0x4b1c("0x71")](new Date))}return p}},{key:"getCityModelLibPath",value:function(x){var c=x[_0x4b1c("0x73")],b=(x.modeltoken,this[_0x4b1c("0x3e")][_0x4b1c("0x47")]),_=b.s,e=(b.k,b[_0x4b1c("0x49")]),a=this.mapId,n=this[_0x4b1c("0x3e")][_0x4b1c("0xab")],r=i[_0x4b1c("0x4a")][_0x4b1c("0x4b")]((0,t.getSubDirByS)(_));url=e+"/"+r+"/map/mapmodel!getmodel.action?cids="+a+_0x4b1c("0x81")+c+_0x4b1c("0xac")+n}},{key:"getCityBuildingModelsPath",value:function(x){var c=x[_0x4b1c("0x73")],b=x[_0x4b1c("0x96")],_=x[_0x4b1c("0xad")],e=this[_0x4b1c("0x3e")][_0x4b1c("0x47")],a=e[_0x4b1c("0x99")],n=e[_0x4b1c("0x49")],r=e.s,s=void 0;if(this[_0x4b1c("0x3f")]){var o=this[_0x4b1c("0x3e")][_0x4b1c("0x7e")].getState("t");s=n+"/"+i[_0x4b1c("0x4a")][_0x4b1c("0x4b")]((0,t[_0x4b1c("0x8b")])(r,!0))+_0x4b1c("0x80")+b+"&name="+c+_0x4b1c("0xac")+_+_0x4b1c("0x91")+a+"&t="+o}else s=n+_0x4b1c("0x97")+b+_0x4b1c("0xae")+c+_0x4b1c("0x82");return s}},{key:_0x4b1c("0x61"),value:function(x){var c=x[_0x4b1c("0x73")],b=x[_0x4b1c("0xad")],_=this[_0x4b1c("0x3e")].options,e=_.tid,a=_[_0x4b1c("0x49")],n=_.s,r=this.mapId,s="";if(1!=e){var o="";c.indexOf("/")>-1&&(o=c[_0x4b1c("0x2c")]("/")[0],c=c[_0x4b1c("0x2c")]("/")[1]),s=a+_0x4b1c("0xaf")+o+"/"+c+"/"+c+_0x4b1c("0x82")}else{var f=this[_0x4b1c("0x3e")].mapService.getState("t");s=a+"/"+i[_0x4b1c("0x4a")][_0x4b1c("0x4b")]((0,t[_0x4b1c("0x8b")])(n))+_0x4b1c("0xb0")+r+_0x4b1c("0x81")+c+_0x4b1c("0x6f")+b+_0x4b1c("0x91")+e+_0x4b1c("0x70")+f}return s}}]),x}();c.default=new r},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0xb1")]=c[_0x4b1c("0xb2")]=c._stot_=c[_0x4b1c("0xb3")]=c[_0x4b1c("0xb4")]=c[_0x4b1c("0xb5")]=c[_0x4b1c("0xb6")]=c[_0x4b1c("0xb7")]=c[_0x4b1c("0xb8")]=c[_0x4b1c("0xb9")]=c[_0x4b1c("0xba")]=c[_0x4b1c("0xbb")]=c[_0x4b1c("0xbc")]=c[_0x4b1c("0xbd")]=c[_0x4b1c("0xbe")]=c._hs_=c[_0x4b1c("0x92")]=c[_0x4b1c("0xbf")]=c[_0x4b1c("0xc0")]=c[_0x4b1c("0xc1")]=c[_0x4b1c("0xc2")]=void 0;var _=b(34),e=_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0xc3")),t=_.Base64.decode(_0x4b1c("0xc4")),i=_.Base64[_0x4b1c("0x4b")](_0x4b1c("0xc5")),a=_[_0x4b1c("0x4a")].decode(_0x4b1c("0xc6")),n=_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0xc7")),r=_[_0x4b1c("0x4a")].decode(_0x4b1c("0xc8")),s=_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0xc9")),o=_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0xca")),f=_.Base64[_0x4b1c("0x4b")](_0x4b1c("0xcb")),l=_[_0x4b1c("0x4a")][_0x4b1c("0x4b")]("cmVtYXJrcw=="),d=_[_0x4b1c("0x4a")].decode("ZXNtYXB2"),u=_.Base64[_0x4b1c("0x4b")]("RVNNYXBW"),h=_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0xcc")),g=_.Base64.decode(_0x4b1c("0xcd")),v=[_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0xce")),_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0xcf")),_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0xd0"))],p=_.Base64[_0x4b1c("0x4b")](_0x4b1c("0xd1")),m=_[_0x4b1c("0x4a")].decode(_0x4b1c("0xd2")),A=_.Base64[_0x4b1c("0x4b")]("ZHVtcFNjZW5l"),y=_[_0x4b1c("0x4a")].decode(_0x4b1c("0xd3")),C=_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0xd4")),I=_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0xd5"));c._lgtk_=e,c[_0x4b1c("0xc1")]=t,c[_0x4b1c("0xc0")]=i,c[_0x4b1c("0xbf")]=a,c._dm_=n,c[_0x4b1c("0xd6")]=s,c[_0x4b1c("0xbe")]=o,c[_0x4b1c("0xbd")]=f,c[_0x4b1c("0xbc")]=l,c._emvs_=d,c._emv_=u,c._lct_=r,c._dt_=h,c[_0x4b1c("0xb7")]=g,c[_0x4b1c("0xb6")]=v,c._eco_=p,c[_0x4b1c("0xb4")]=m,c[_0x4b1c("0xb3")]=A,c[_0x4b1c("0xd7")]=y,c[_0x4b1c("0xb2")]=C,c._wle_=I},,,,,,,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=a(b(33)),e=a(b(64)),t=a(b(0)),i=a(b(1));function a(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var n=function(){function x(c){(0,t.default)(this,x),this.id=c,this[_0x4b1c("0xd8")]=0,this[_0x4b1c("0xd9")]=new(e[_0x4b1c("0xc")]),this[_0x4b1c("0xda")]=new(e[_0x4b1c("0xc")]),this[_0x4b1c("0xda")][_0x4b1c("0xdb")]("default",new(_[_0x4b1c("0xc")])),this[_0x4b1c("0xdc")]=new(e[_0x4b1c("0xc")])}return(0,i[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0xdd"),value:function(x){var c=arguments[_0x4b1c("0x0")]>1&&void 0!==arguments[1]?arguments[1]:"default",b=this[_0x4b1c("0xda")][_0x4b1c("0xde")](c);b||(b=new _.default,this[_0x4b1c("0xda")][_0x4b1c("0xdb")](c,b)),b.add(String(x)),this.blockIdNameMap.set(String(x),c)}},{key:_0x4b1c("0xdf"),value:function(){var x=this;this[_0x4b1c("0xda")][_0x4b1c("0x1c")]((function(c,b){x.total+=c[_0x4b1c("0xe0")],x[_0x4b1c("0xd9")][_0x4b1c("0xdb")](b,c[_0x4b1c("0xe0")])}))}},{key:_0x4b1c("0xe1"),value:function(x){var c=this;x.forEach((function(x){c[_0x4b1c("0xe2")](x)}))}},{key:_0x4b1c("0xe2"),value:function(x){var c=this.blockIdNameMap.get(String(x)),b=this[_0x4b1c("0xda")].get(c);if(b){if(b[_0x4b1c("0xe4")](String(x))){var _=this[_0x4b1c("0xe5")],e=_.value,t=_[_0x4b1c("0xe6")];this[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xe8"),{id:x,value:e,from:this.id,name:c,values:t})}}else console[_0x4b1c("0xe3")]("load progress error")}},{key:_0x4b1c("0xe9"),value:function(){this[_0x4b1c("0xda")]=new e.default,this[_0x4b1c("0xda")][_0x4b1c("0xdb")]("default",new(_[_0x4b1c("0xc")])),this[_0x4b1c("0xd8")]=0}},{key:_0x4b1c("0x3e"),get:function(){return window.esmap.ESMap.instance}},{key:"subProgress",get:function(){var x=this,c={};return this[_0x4b1c("0xda")][_0x4b1c("0x1c")]((function(b,_){c[_]=b.size/x.total})),c}},{key:"progress",get:function(){var x=this;if(0==this[_0x4b1c("0xd8")])return{value:0,groups:{}};var c=0,b={};return this[_0x4b1c("0xda")][_0x4b1c("0x1c")]((function(_,e){c+=_[_0x4b1c("0xe0")];var t=x[_0x4b1c("0xd9")].get(e);b[e]=(t-_[_0x4b1c("0xe0")])/t})),{value:(this[_0x4b1c("0xd8")]-c)/this.total,values:b}}}]),x}(),r=function(){function x(){(0,t[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0xea")]=new(e[_0x4b1c("0xc")])}return(0,i.default)(x,[{key:_0x4b1c("0xeb"),value:function(x){var c=new n(x);this.hanlders.set(x,c)}},{key:_0x4b1c("0xde"),value:function(x){return this.hanlders[_0x4b1c("0xde")](x)}}]),x}();c[_0x4b1c("0xc")]=new r},,,,,,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0xec")]=function x(c){if(null!==c){c[_0x4b1c("0xef")]&&c[_0x4b1c("0xef")][_0x4b1c("0xf0")]&&(c.datas_[_0x4b1c("0xf0")]=void 0,c.datas_=void 0);for(var b=0;b<c[_0x4b1c("0xf1")][_0x4b1c("0x0")];b++)x(c[_0x4b1c("0xf1")][b]);c[_0x4b1c("0xf2")]&&(c.geometry[_0x4b1c("0xf3")](),c[_0x4b1c("0xf2")]=void 0),c.material&&(c[_0x4b1c("0xf4")]instanceof Array?c.material.forEach((function(x){x.map&&(x.map[_0x4b1c("0xf3")](),x.map=void 0),x[_0x4b1c("0xf3")](),x=void 0})):(c.material[_0x4b1c("0xf3")](),c[_0x4b1c("0xf4")]=void 0))}c=void 0},c.getTileBound=function(x,c,b,t){var i=e/Math[_0x4b1c("0xf5")](2,b),a={minx:256*x*i-_,miny:256*c*i-_,maxx:256*(x+1)*i-_,maxy:256*(c+1)*i-_};if(t){var n=esmap[_0x4b1c("0x87")][_0x4b1c("0xf6")](a[_0x4b1c("0xf7")],a[_0x4b1c("0xf8")]),r=esmap[_0x4b1c("0x87")][_0x4b1c("0xf9")](n),s=esmap[_0x4b1c("0x87")][_0x4b1c("0xfa")](r[0],r[1]),o=esmap[_0x4b1c("0x87")][_0x4b1c("0xf6")](a[_0x4b1c("0xfb")],a[_0x4b1c("0xfc")]),f=esmap[_0x4b1c("0x87")][_0x4b1c("0xf9")](o),l=esmap[_0x4b1c("0x87")][_0x4b1c("0xfa")](f[0],f[1]);a[_0x4b1c("0xfb")]=l[0],a[_0x4b1c("0xfc")]=l[1],a[_0x4b1c("0xf7")]=s[0],a[_0x4b1c("0xf8")]=s[1]}return a},c.getTileFromMec=function(x,c,b){var t=e/Math[_0x4b1c("0xf5")](2,b),i={},a=(x+_)/t,n=(c+_)/t;return i.x=Math.ceil(a/256)-1,i.y=Math[_0x4b1c("0xfd")](n/256)-1,i},c[_0x4b1c("0xed")]=function(x){var c=x[_0x4b1c("0xfe")][_0x4b1c("0xff")][_0x4b1c("0x100")][_0x4b1c("0x0")],b=x[_0x4b1c("0xfe")][_0x4b1c("0xff")][_0x4b1c("0x101")].length,_=0;return x[_0x4b1c("0x102")][_0x4b1c("0x103")]((function(x){if(x.geometry){var c=x[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")];_+=c}})),{materials:c,meshes:b,vertexes:_}},c[_0x4b1c("0xee")]=function(x){return function x(c,b){if(!c)return null;if(c.name==_0x4b1c("0x107"))return c;var _=x(c[_0x4b1c("0x108")],!1);return _||void 0}(x)},c.getChildByFaceIndex=function(x,c){for(var b=3*x,_=0;_<c[_0x4b1c("0x0")];_++){var e=c[_];if(b>=e.faceRange[0]&&b<e.faceRange[1])return _}return-1};var _=20037508.342789244,e=156543.03392804062},function(x,c,b){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c[_0x4b1c("0x109")]=void 0,c[_0x4b1c("0x4b")]=function(x,c,b){for(var _="",t=e(c+b),i=e(x),a=0;a<i.length;a++){for(var n=0;n<t.length;n++)i[a]=i[a]^t[n];_+=String[_0x4b1c("0x10f")](i[a])}return _},c[_0x4b1c("0x10a")]=function(x,c){for(var b=e(x),_=0;_<16;_++)for(var t=0;t<b[_0x4b1c("0x0")];t++)c[_]=c[_]^b[t]},c.gdbs=function(x){if(1==x)return window[_0x4b1c("0x7b")][_0x4b1c("0x85")][_0x4b1c("0x114")]("test127")>-1?t[2807]:t[2803];if(2==x)return t[2804];if(3==x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x47")][_0x4b1c("0x62")];return c[_0x4b1c("0x114")]("http")>-1?c+_0x4b1c("0x115"):""}return null},c[_0x4b1c("0x8b")]=function(x){var c=arguments[_0x4b1c("0x0")]>1&&void 0!==arguments[1]&&arguments[1];if(1==x||2==x)return c?t[2809]:t[2805];if(3==x)return c?t[2808]:t[2806];return x},c[_0x4b1c("0x10b")]=function(x){if(1==x||2==x)return t[2805];if(3==x)return t[2806];return null},c._isemv=function(){return void 0!==window[_[_0x4b1c("0xbb")]]&&!(!window[_[_0x4b1c("0xbb")]][[_._emv_]]||!window[_[_0x4b1c("0xbb")]][[_[_0x4b1c("0xba")]]][_0x4b1c("0x116")])},c[_0x4b1c("0x10c")]=function(x){return typeof window[_[_0x4b1c("0xbb")]]!==_0x4b1c("0x8")&&(window[_._emvs_]&&window[_[_0x4b1c("0xbb")]][_[_0x4b1c("0xba")]]&&window[_[_0x4b1c("0xbb")]][_[_0x4b1c("0xba")]][_0x4b1c("0x117")]()===esmap.ESMapUtil[_0x4b1c("0x88")](_[_0x4b1c("0x92")]+window[_[_0x4b1c("0xbb")]][_[_0x4b1c("0xba")]][_0x4b1c("0x116")]()+window[_[_0x4b1c("0xbb")]][_[_0x4b1c("0xba")]][_0x4b1c("0x118")]().id+x+_0x4b1c("0x119")))},c[_0x4b1c("0x10d")]=function(x){return typeof window[_._emvs_]!==_0x4b1c("0x8")&&(window[_[_0x4b1c("0xbb")]]&&window[_[_0x4b1c("0xbb")]][_._emv_]&&window[_._emvs_][_._emv_][_0x4b1c("0x11a")]()===esmap.ESMapUtil[_0x4b1c("0x88")](_[_0x4b1c("0xc2")]+window[_[_0x4b1c("0xbb")]][_[_0x4b1c("0xba")]][_0x4b1c("0x116")]()+window[_[_0x4b1c("0xbb")]][_[_0x4b1c("0xba")]][_0x4b1c("0x118")]().id+x+_0x4b1c("0x11b")))},c[_0x4b1c("0x10e")]=function(){return window[_[_0x4b1c("0xbb")]][_[_0x4b1c("0xba")]][_0x4b1c("0x11c")](window[_[_0x4b1c("0xbb")]][_._emv_]._sh())};var _=b(27);function e(x){for(var c=[],b=0;b<x.length;b++)c[b]=x.charCodeAt(b);return c}var t=c.PRIVITES={2803:_0x4b1c("0x110"),2804:"aHR0cDovLzE5Mi4xNjguMS4xMjc6ODE=",2805:_0x4b1c("0x111"),2806:"ZXN3b3JsZG1hcG9mZg==",2807:"aHR0cHM6Ly93d3cuZXNtYXAuY24vdGVzdDEyNw==",2808:_0x4b1c("0x112"),2809:_0x4b1c("0x113")}},,,,,,,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=t(b(14)),e=t(b(6));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}function i(x){var c=void 0===x?_0x4b1c("0x8"):(0,e[_0x4b1c("0xc")])(x);return null!=x&&(c==_0x4b1c("0x1d")||c==_0x4b1c("0x1e"))}function a(x){if(x[_0x4b1c("0x123")])return 1==x[_0x4b1c("0x123")]}c[_0x4b1c("0x11d")]=function(x,c){return Math[_0x4b1c("0x120")]((x.x-c.x)*(x.x-c.x)+(x.y-c.y)*(x.y-c.y))},c[_0x4b1c("0x11e")]=function x(c){for(var b=arguments.length,t=Array(b>1?b-1:0),n=1;n<b;n++)t[n-1]=arguments[n];return t.reduce((function(c,b){return(0,_[_0x4b1c("0xc")])(b)[_0x4b1c("0x121")]((function(c,_){var t=b[_];return Array.isArray(t)?c[_]=t[_0x4b1c("0x3e")]((function(b,e){if(i(b)){var t=c[_]?c[_]:[];return x(t[e]?t[e]:{},b)}return b})):i(t)?a(t)?c[_]=t:c[_]=x(c[_]?c[_]:{},t):(void 0===c?_0x4b1c("0x8"):(0,e[_0x4b1c("0xc")])(c))==_0x4b1c("0x122")?(c={})[_]=t:void 0!==t&&(c[_]=t),c}),c)}),c)},c[_0x4b1c("0x11f")]=a,c.diffProperties=function(x,c){for(var b in x)if(x[b]!=c[b])return!0;return!1}},,,,,,,,,,,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=s(b(2)),e=s(b(5)),t=s(b(0)),i=s(b(1)),a=s(b(10)),n=s(b(11)),r=b(51);function s(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}function o(x){if(x){if(x[_0x4b1c("0xef")]&&x[_0x4b1c("0xef")][_0x4b1c("0xf0")]&&(x.datas_[_0x4b1c("0xf0")]=void 0,x.datas_=void 0),x.children)for(var c=0;c<x[_0x4b1c("0xf1")].length;c++)o(x[_0x4b1c("0xf1")][c]);x[_0x4b1c("0xf2")]&&(x[_0x4b1c("0xf2")].dispose(),x[_0x4b1c("0xf2")]=void 0),x[_0x4b1c("0xf4")]&&(x[_0x4b1c("0xf4")]instanceof Array?x.material[_0x4b1c("0x1c")]((function(x){x&&(x.map&&(x.map.dispose(),x.map=void 0),x.dispose(),x=void 0)})):(x[_0x4b1c("0xf4")][_0x4b1c("0xf3")](),x[_0x4b1c("0xf4")]=void 0))}x=void 0}var f=function(x){function c(x,b,_,i){(0,t[_0x4b1c("0xc")])(this,c);var n={lineWidth:6,lineWidthMeter:!1,color:_0x4b1c("0x126"),lineType:esmap.ESLineType[_0x4b1c("0x127")],offsetHeight:0,fixedWidth:!1,pickLineWidth:5,closed:!1,hiddenByFloor:!0,blend:!1,metalness:.01,roughness:.9,light:!1,reverseAnimate:0,lineMode:"plane",repeat:1,imgOffsetX:0,imgOffsetY:0,animateSpeed:1,isMapRoad:!1,transparent:!0,opacity:1,arrow:!1,seeThrough:!1,up:new(THREE[_0x4b1c("0x128")])(0,1,0),matSide:1,noAnimate:!1,cross:!1,textureOffset:0};(0,r[_0x4b1c("0x11e")])(n,b),n[_0x4b1c("0x1")]("alpha")&&(n[_0x4b1c("0x129")]=n.alpha);var s=(0,a[_0x4b1c("0xc")])(this,(c.__proto__||(0,e[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this));s[_0x4b1c("0x12a")]=_||!1,s[_0x4b1c("0x23")]=n;var o=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];s[_0x4b1c("0x12b")]=x[0][_0x4b1c("0x12b")]||o.id;var f=function(x){for(var c=0,b=x[0].clone(),_=1;_<x[_0x4b1c("0x0")];_++)c+=x[_][_0x4b1c("0x124")](x[_-1]),b[_0x4b1c("0xdd")](x[_]);return{length:c,center:b[_0x4b1c("0x125")](x[_0x4b1c("0x0")])}}(x);return s[_0x4b1c("0x12c")]=x,s.length=f[_0x4b1c("0x0")],s[_0x4b1c("0x12d")]=f[_0x4b1c("0x12d")],s.fnum=x[0][_0x4b1c("0x12e")],i&&(s[_0x4b1c("0x12f")]=i),s[_0x4b1c("0x130")]="esline",s[_0x4b1c("0x123")]=esmap[_0x4b1c("0x131")][_0x4b1c("0x132")],s[_0x4b1c("0x133")]=[],s[_0x4b1c("0x39")](),s}return(0,n[_0x4b1c("0xc")])(c,x),(0,i[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x39"),value:function(){var x=this,c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=this,_=this;b.map=c;var e,t=new(THREE[_0x4b1c("0x134")]),i=null;this.style[_0x4b1c("0x135")]&&(c[_0x4b1c("0x136")](this[_0x4b1c("0x12b")])[_0x4b1c("0x137")][_0x4b1c("0x114")](this[_0x4b1c("0x12e")])<0&&(this.visible=!1));if(this[_0x4b1c("0x12a")]){var a=this[_0x4b1c("0x12c")][0].bid,n=this.points[1].bid,r=this[_0x4b1c("0x3e")][_0x4b1c("0x136")](a),s=this[_0x4b1c("0x3e")].getBuildingById(n);if(r){var o=function(c){var b=c[_0x4b1c("0x12e")],_=c.value;b==x[_0x4b1c("0x12c")][0][_0x4b1c("0x12e")]&&(x[_0x4b1c("0x12c")][0].y=_),x[_0x4b1c("0x138")](x.points)};r.on(_0x4b1c("0x139"),o),this[_0x4b1c("0x133")][_0x4b1c("0x12")]((function(){r[_0x4b1c("0x6b")](_0x4b1c("0x139"),o)}))}if(s){var f=function(c){var b=c[_0x4b1c("0x12e")],_=c[_0x4b1c("0x13a")];b==x[_0x4b1c("0x12c")][1][_0x4b1c("0x12e")]&&(x[_0x4b1c("0x12c")][1].y=_),x.updateGeometry(x[_0x4b1c("0x12c")])};s.on("floorHeightChanged",f),this[_0x4b1c("0x133")][_0x4b1c("0x12")]((function(){s[_0x4b1c("0x6b")](_0x4b1c("0x139"),f)}))}}else{var l=c[_0x4b1c("0x136")](this.bid);if(l){var d=function(c){for(var b=c[_0x4b1c("0x12e")],_=c[_0x4b1c("0x13a")],e=0;e<x[_0x4b1c("0x12c")][_0x4b1c("0x0")];e++)x[_0x4b1c("0x12c")][e][_0x4b1c("0x12e")]&&b==x[_0x4b1c("0x12c")][e][_0x4b1c("0x12e")]&&(x[_0x4b1c("0x12c")][e].y=_);x.updateGeometry(x[_0x4b1c("0x12c")])};l.on(_0x4b1c("0x139"),d),this[_0x4b1c("0x133")][_0x4b1c("0x12")]((function(){l[_0x4b1c("0x6b")](_0x4b1c("0x139"),d)}))}}if(b.style[_0x4b1c("0x13b")])i=b.style[_0x4b1c("0x13c")]>=20?c.mapTheme[_0x4b1c("0x13d")].main[_0x4b1c("0x13e")]():c[_0x4b1c("0x13f")][_0x4b1c("0x13d")][_0x4b1c("0x140")][_0x4b1c("0x13e")]();else if(i=this[_0x4b1c("0x12f")]?this.customMat:b.style.light?new(THREE[_0x4b1c("0x141")])({transparent:this[_0x4b1c("0x23")].transparent,opacity:this.style[_0x4b1c("0x129")],color:16777215,wireframe:!1,metalness:this.style[_0x4b1c("0x142")],roughness:this[_0x4b1c("0x23")][_0x4b1c("0x143")]}):new(THREE[_0x4b1c("0x144")])({transparent:this[_0x4b1c("0x23")][_0x4b1c("0x145")],opacity:this[_0x4b1c("0x23")][_0x4b1c("0x129")],color:16777215}),this[_0x4b1c("0x12f")]||(i.color=new(THREE[_0x4b1c("0x146")])(this[_0x4b1c("0x23")][_0x4b1c("0x147")]),i.onBeforeCompile=function(x){x[_0x4b1c("0x148")].passPercent={value:0},x[_0x4b1c("0x148")].uvDistance={value:e[_0x4b1c("0x149")]},x[_0x4b1c("0x14a")]=x[_0x4b1c("0x14a")].replace("#include <clipping_planes_pars_vertex>",_0x4b1c("0x14b")),x.vertexShader=x.vertexShader[_0x4b1c("0x14c")](_0x4b1c("0x14d"),"\n                        #include <uv_vertex>\n                        nvUv = uv;\n                        "),x.fragmentShader=x.fragmentShader[_0x4b1c("0x14c")](_0x4b1c("0x14e"),_0x4b1c("0x14f")),x[_0x4b1c("0x150")]=x[_0x4b1c("0x150")][_0x4b1c("0x14c")](_0x4b1c("0x151"),_0x4b1c("0x152")),_[_0x4b1c("0x153")]=x}),this[_0x4b1c("0x23")][_0x4b1c("0x154")]=[2,0],this[_0x4b1c("0x155")]=this[_0x4b1c("0x23")].dashArray.reduce((function(x,c){return x+c})),!this.customMat){var u=this[_0x4b1c("0x156")]();u[_0x4b1c("0x157")].x=this[_0x4b1c("0x23")][_0x4b1c("0x157")],u[_0x4b1c("0x158")].x=this[_0x4b1c("0x23")][_0x4b1c("0x159")],u[_0x4b1c("0x158")].y=this[_0x4b1c("0x23")][_0x4b1c("0x15a")],i.map=u,i.transparent=this.style[_0x4b1c("0x145")],i[_0x4b1c("0x15b")]=THREE[_0x4b1c("0x15c")],2==b[_0x4b1c("0x23")][_0x4b1c("0x15d")]&&(i.side=THREE[_0x4b1c("0x15c")])}if("circle"==this[_0x4b1c("0x23")][_0x4b1c("0x15e")]){var h=this[_0x4b1c("0x23")][_0x4b1c("0x15f")]/8;if(this[_0x4b1c("0x23")].lineWidthMeter&&(h=this[_0x4b1c("0x23")][_0x4b1c("0x15f")]),this[_0x4b1c("0x160")]=t,this[_0x4b1c("0x160")][_0x4b1c("0xdb")](this[_0x4b1c("0x12c")],h,0,void 0,!1),e=new(THREE[_0x4b1c("0x161")]),this[_0x4b1c("0x23")].fixedWidth){var g=esmap[_0x4b1c("0x87")][_0x4b1c("0x162")](c,this);e.update(this.pathPointList,{radius:h/2*g*10,radialSegments:20,startRad:0}),e.userData[_0x4b1c("0x163")]=h/2*g*10}else e[_0x4b1c("0x164")](this[_0x4b1c("0x160")],{radius:h/2,radialSegments:20,startRad:0}),e[_0x4b1c("0x165")][_0x4b1c("0x163")]=h/2}else{var v=this[_0x4b1c("0x23")][_0x4b1c("0x15f")]/8;this[_0x4b1c("0x23")][_0x4b1c("0x166")]&&(v=this[_0x4b1c("0x23")][_0x4b1c("0x15f")]),this.drawMode=1,e=new(THREE[_0x4b1c("0x167")]),this[_0x4b1c("0x160")]=t;var p=!1,m=this[_0x4b1c("0x12c")][_0x4b1c("0x0")]-1;if(this[_0x4b1c("0x12c")][0].x==this.points[m].x&&this[_0x4b1c("0x12c")][0].z==this[_0x4b1c("0x12c")][m].z&&(p=!0),this.pathPointList[_0x4b1c("0xdb")](this[_0x4b1c("0x12c")],0,0,this.style.up,p),this.style[_0x4b1c("0x168")]){var A=esmap.ESMapUtil[_0x4b1c("0x162")](c,this);e.update(this[_0x4b1c("0x160")],{width:v*A*18,side:_0x4b1c("0x169"),arrow:this[_0x4b1c("0x23")].arrow}),e[_0x4b1c("0x165")][_0x4b1c("0x163")]=v*A*18}else e[_0x4b1c("0x164")](this.pathPointList,{width:v,side:_0x4b1c("0x169"),arrow:this[_0x4b1c("0x23")][_0x4b1c("0x16a")]}),e[_0x4b1c("0x165")][_0x4b1c("0x163")]=v}e[_0x4b1c("0xe5")]=1,e[_0x4b1c("0x16b")](),b.style[_0x4b1c("0x16c")]&&(i[_0x4b1c("0x16d")]=!1),b[_0x4b1c("0x23")][_0x4b1c("0x16e")]&&(i[_0x4b1c("0x16f")]=!1,i[_0x4b1c("0x170")]=THREE[_0x4b1c("0x171")]),this[_0x4b1c("0xf4")]=i,this[_0x4b1c("0xf2")]=e,this[_0x4b1c("0x15f")]=this.style.lineWidth,this[_0x4b1c("0x172")]=esmap.ESRenderOrder[_0x4b1c("0x173")],this._onUpdate=this[_0x4b1c("0x174")][_0x4b1c("0xe")](this),this._onControlChange=this[_0x4b1c("0x175")][_0x4b1c("0xe")](this),this[_0x4b1c("0x176")]=this.visibleFloorNumsChanged[_0x4b1c("0xe")](this),this[_0x4b1c("0xf4")][_0x4b1c("0x165")][_0x4b1c("0x177")]||(c.on("update",this[_0x4b1c("0x178")]),c.on(_0x4b1c("0x179"),this._onControlChange),this[_0x4b1c("0xf4")].userData.bindedUpdate=!0),this[_0x4b1c("0x23")].hiddenByFloor&&c.on(_0x4b1c("0x17a"),this[_0x4b1c("0x176")]),_[_0x4b1c("0x23")][_0x4b1c("0x168")]&&_[_0x4b1c("0x17b")]()}},{key:"onUpdate",value:function(x){this.parent&&this.parent.visible&&!this.style[_0x4b1c("0x17c")]&&this[_0x4b1c("0x17d")](x)}},{key:_0x4b1c("0x175"),value:function(){this[_0x4b1c("0x108")]&&this.parent.visible&&this.style.fixedWidth&&this[_0x4b1c("0x17b")]()}},{key:_0x4b1c("0x138"),value:function(x){var c=this.geometry[_0x4b1c("0x165")][_0x4b1c("0x163")];this[_0x4b1c("0x12c")]=x;var b=!1,_=this[_0x4b1c("0x12c")].length-1;this[_0x4b1c("0x12c")][0].x==this[_0x4b1c("0x12c")][_].x&&this[_0x4b1c("0x12c")][0].z==this[_0x4b1c("0x12c")][_].z&&(b=!0),this.style.lineMode==_0x4b1c("0x17e")?(this[_0x4b1c("0x160")][_0x4b1c("0xdb")](x,c,0,void 0,!1),this[_0x4b1c("0xf2")][_0x4b1c("0x164")](this[_0x4b1c("0x160")],{radius:c,radialSegments:20,startRad:0})):(this[_0x4b1c("0x160")][_0x4b1c("0xdb")](this.points,0,0,this[_0x4b1c("0x23")].up,b),this[_0x4b1c("0xf2")].update(this[_0x4b1c("0x160")],{width:c,side:_0x4b1c("0x169"),arrow:this.style[_0x4b1c("0x16a")]})),this.geometry[_0x4b1c("0x17f")](),this.geometry[_0x4b1c("0x180")](0,this[_0x4b1c("0xf2")].attributes[_0x4b1c("0x105")][_0x4b1c("0x106")],0)}},{key:_0x4b1c("0x17b"),value:function(x){var c=esmap.ESMap[_0x4b1c("0x3a")],b=esmap.ESMapUtil[_0x4b1c("0x162")](c),_=this[_0x4b1c("0x23")][_0x4b1c("0x166")]?this[_0x4b1c("0x15f")]:this[_0x4b1c("0x15f")]/8;this[_0x4b1c("0x23")][_0x4b1c("0x15e")]==_0x4b1c("0x181")?this[_0x4b1c("0xf2")].update(this.pathPointList,{width:_*b*18,side:"both",arrow:this[_0x4b1c("0x23")][_0x4b1c("0x16a")],progress:this[_0x4b1c("0xf2")][_0x4b1c("0xe5")]}):x?this[_0x4b1c("0xf2")][_0x4b1c("0x164")](this[_0x4b1c("0x160")],{radius:_/2,radialSegments:20,startRad:0,progress:this[_0x4b1c("0xf2")][_0x4b1c("0xe5")]}):this[_0x4b1c("0xf2")][_0x4b1c("0x164")](this.pathPointList,{radius:_*b*10,radialSegments:20,startRad:0,progress:this[_0x4b1c("0xf2")][_0x4b1c("0xe5")]})}},{key:_0x4b1c("0x17d"),value:function(x){if(this[_0x4b1c("0xf4")]&&this[_0x4b1c("0xf4")][_0x4b1c("0x3e")]&&!this[_0x4b1c("0x23")][_0x4b1c("0x17c")]){if(this[_0x4b1c("0x23")][_0x4b1c("0x182")]?this[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x158")].x+=.5*x*this.style[_0x4b1c("0x183")]:this[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x158")].x-=.5*x*this.style[_0x4b1c("0x183")],this[_0x4b1c("0x153")]&&this[_0x4b1c("0x0")]>0){this.passDistance=this.passDistance||0;var c=this[_0x4b1c("0x184")]/this[_0x4b1c("0x0")];this[_0x4b1c("0x153")].uniforms.passPercent[_0x4b1c("0x13a")]=c}this.material.needsUpdate=!0}}},{key:"updateColor",value:function(x){this[_0x4b1c("0xf4")][_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(this[_0x4b1c("0x185")](x))}},{key:_0x4b1c("0x185"),value:function(x){if("number"==typeof x){for(var c=x.toString(16);c[_0x4b1c("0x0")]<6;)c="0"+c;return"#"+c}return x}},{key:_0x4b1c("0x156"),value:function(){var x=(new(THREE[_0x4b1c("0x186")]))[_0x4b1c("0x187")](this[_0x4b1c("0x23")].url,(function(x){x[_0x4b1c("0x188")]=!0}));return x[_0x4b1c("0x189")]=4,x.repeat.y=1,x[_0x4b1c("0x158")].y=0,x[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x18b")],x.wrapS=THREE.RepeatWrapping,x[_0x4b1c("0x18c")]=THREE[_0x4b1c("0x18d")],x}},{key:_0x4b1c("0x18e"),value:function(x){x[_0x4b1c("0x147")]&&_0x4b1c("0x18f")==typeof x[_0x4b1c("0x147")]&&(x.color=this[_0x4b1c("0x185")](x[_0x4b1c("0x147")])),(0,_.default)(this[_0x4b1c("0x23")],x),x[_0x4b1c("0x190")]&&!x[_0x4b1c("0x154")]&&(this[_0x4b1c("0x23")][_0x4b1c("0x154")]=[2,0]),x[_0x4b1c("0x15f")]&&(this[_0x4b1c("0x15f")]=x.lineWidth,this.updateLineWidth(this.lineWidth));var c=this[_0x4b1c("0x156")]();c.repeat.x=this[_0x4b1c("0x23")][_0x4b1c("0x157")],this[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0xf3")](),this[_0x4b1c("0xf4")][_0x4b1c("0x3e")]=c,this[_0x4b1c("0xf4")][_0x4b1c("0x3e")].needsUpdate=!0,this[_0x4b1c("0xf4")].needsUpdate=!0}},{key:_0x4b1c("0x17a"),value:function(x){if(x.bid==this[_0x4b1c("0x12b")]){var c=x.fnums,b=this.fnum,_=!0;_0x4b1c("0x18f")==typeof b?-1==c[_0x4b1c("0x114")](b)&&(_=!1):b instanceof Array&&b.forEach((function(x){-1==c[_0x4b1c("0x114")](x)&&(_=!1)})),this[_0x4b1c("0x191")]=_}}},{key:_0x4b1c("0xf3"),value:function(){var x=esmap.ESMap[_0x4b1c("0x3a")];x[_0x4b1c("0x6b")](_0x4b1c("0x164"),this._onUpdate),x[_0x4b1c("0x6b")](_0x4b1c("0x192"),this[_0x4b1c("0x193")]),x[_0x4b1c("0x6b")]("visibleFloorNumsChanged",this[_0x4b1c("0x176")]),this[_0x4b1c("0x133")].forEach((function(x){x()})),this[_0x4b1c("0x191")]=!1;var c=this[_0x4b1c("0x108")];x.mapPicker[_0x4b1c("0x194")](this[_0x4b1c("0x195")]);var b=x[_0x4b1c("0x196")][_0x4b1c("0x114")](this.o3d_);return b>-1&&x[_0x4b1c("0x196")].splice(b,1),c?(c.remove(this),o(this),!0):void 0}}]),c}(THREE[_0x4b1c("0x197")]);c[_0x4b1c("0xc")]=f},,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0}),c[_0x4b1c("0x198")]=function(x){x._jumpID1&&x[_0x4b1c("0x19a")][_0x4b1c("0x19b")](),x[_0x4b1c("0xf0")].position.y=x[_0x4b1c("0x19c")],x[_0x4b1c("0x19d")]=!1},c[_0x4b1c("0x199")]=function(x,c){var b=x;c=c||{};var e=x.o3d_,t=b[_0x4b1c("0x105")].y;b[_0x4b1c("0x19d")]&&!c[_0x4b1c("0x19e")]||(b[_0x4b1c("0x19d")]=!0,c[_0x4b1c("0x19f")]=(0,_.getValues)(c,_0x4b1c("0x19f"),1),0==c[_0x4b1c("0x19f")]&&(c[_0x4b1c("0x19f")]=Number[_0x4b1c("0x1a0")]),c[_0x4b1c("0x1a1")]=(0,_[_0x4b1c("0x1a2")])(c,_0x4b1c("0x1a1"),0),c[_0x4b1c("0x1a3")]=(0,_.getValues)(c,_0x4b1c("0x1a3"),18),c[_0x4b1c("0x1a4")]=(0,_[_0x4b1c("0x1a2")])(c,_0x4b1c("0x1a5"),"duration",1),b[_0x4b1c("0x19a")]&&b[_0x4b1c("0x19a")][_0x4b1c("0x19b")](),b[_0x4b1c("0x19a")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(e[_0x4b1c("0x105")]).to({y:t+c[_0x4b1c("0x1a3")]},.2*c[_0x4b1c("0x1a4")]*1e3)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ab")])[_0x4b1c("0x1ac")]((function(){})),b._jumpID2=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(e[_0x4b1c("0x105")]).to({y:t},.8*c.duration*1e3).easing(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1ad")][_0x4b1c("0x1ae")])[_0x4b1c("0x1ac")]((function(){c.times--,c[_0x4b1c("0x19f")]>0?b[_0x4b1c("0x19d")]&&(c.force=!0,b[_0x4b1c("0x19a")].delay(1e3*c[_0x4b1c("0x1a1")])[_0x4b1c("0x1af")]()):(b[_0x4b1c("0x19d")]=!1,b[_0x4b1c("0x19a")][_0x4b1c("0x19b")](),c[_0x4b1c("0x1b0")]&&c[_0x4b1c("0x1b0")]())})),b[_0x4b1c("0x19a")].chain(b[_0x4b1c("0x1b1")])[_0x4b1c("0x1af")]());return c},c.getNearTilesByCoord=function(x){var c=x.coord,b=esmap[_0x4b1c("0x32")].instance,_=(0,e[_0x4b1c("0x1b2")])(c.x,c.y,15),t=[_.x+"_"+_.y],i=(0,e[_0x4b1c("0x1b3")])(_.x,_.y,b[_0x4b1c("0x47")][_0x4b1c("0x1b4")],!0),a={x:(i[_0x4b1c("0xf7")]-i[_0x4b1c("0xfb")])/2+i.minx,y:(i[_0x4b1c("0xf8")]-i.miny)/2+i[_0x4b1c("0xfc")]},n=b[_0x4b1c("0x1b5")]({from:b.coordSystem,to:"WGS84",coord:{x:a.x,y:a.y}});a=n,c.x>a.x&&c.y>a.y?(t[_0x4b1c("0x12")](_.x+"_"+(_.y+1)),t.push(_.x+1+"_"+(_.y+1)),t.push(_.x+1+"_"+_.y)):c.x>a.x&&c.y<a.y?(t.push(_.x+1+"_"+_.y),t[_0x4b1c("0x12")](_.x+1+"_"+(_.y-1)),t[_0x4b1c("0x12")](_.x+"_"+(_.y-1))):c.x<a.x&&c.y>a.y?(t[_0x4b1c("0x12")](_.x-1+"_"+_.y),t[_0x4b1c("0x12")](_.x-1+"_"+(_.y+1)),t.push(_.x+"_"+(_.y+1))):c.x<a.x&&c.y<a.y&&(t[_0x4b1c("0x12")](_.x+"_"+(_.y-1)),t[_0x4b1c("0x12")](_.x-1+"_"+(_.y-1)),t[_0x4b1c("0x12")](_.x-1+"_"+_.y));return t},c[_0x4b1c("0xec")]=function x(c){var b=!(arguments[_0x4b1c("0x0")]>1&&void 0!==arguments[1])||arguments[1];if(c){if(c.datas_&&c[_0x4b1c("0xef")][_0x4b1c("0xf0")]&&(c[_0x4b1c("0xef")][_0x4b1c("0xf0")]=void 0,c[_0x4b1c("0xef")]=void 0),c.children)for(var _=0;_<c[_0x4b1c("0xf1")][_0x4b1c("0x0")];_++)x(c.children[_],b);if(c[_0x4b1c("0xf2")]&&(c[_0x4b1c("0xf2")][_0x4b1c("0xf3")](),c[_0x4b1c("0xf2")]=null),c[_0x4b1c("0xf4")])if(c[_0x4b1c("0xf4")]instanceof Array)for(var e=0;e<c[_0x4b1c("0xf4")][_0x4b1c("0x0")];e++){var t=c[_0x4b1c("0xf4")][e];t&&(b&&t[_0x4b1c("0x3e")]&&(t[_0x4b1c("0x3e")][_0x4b1c("0xf3")](),t[_0x4b1c("0x3e")]=null),t[_0x4b1c("0xf3")](),t=null)}else b&&c[_0x4b1c("0xf4")][_0x4b1c("0x3e")]&&(c[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0xf3")](),c[_0x4b1c("0xf4")][_0x4b1c("0x3e")]=null),c.material.dispose(),c[_0x4b1c("0xf4")]=null}c=null},c.userCoordToThree=function(x){var c=window[_0x4b1c("0x1b6")].ESMap[_0x4b1c("0x3a")];c[_0x4b1c("0x47")].userCrs!=c.coordSystem&&(x=c.transformCoord({from:c.options[_0x4b1c("0x1b7")],to:c.coordSystem,coord:x}));return c._coordMapSceneToThree(x)};var _=b(4),e=b(42)},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=[_0x4b1c("0x1b8"),"TjEySDU2TS4xSDU0TA==",_0x4b1c("0x1b9"),_0x4b1c("0x1ba"),_0x4b1c("0x1bb"),_0x4b1c("0x1bc"),_0x4b1c("0x1bd"),"X3t3SGlzWmVwSGdO",_0x4b1c("0x1be"),_0x4b1c("0x1bf"),_0x4b1c("0x1c0")];c.WDL=_},,,,,,,,,,function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0}),c.MapError=void 0;var _=a(b(0)),e=a(b(1)),t=b(262),i=b(23);function a(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}c[_0x4b1c("0x1c1")]=function(){function x(){(0,_[_0x4b1c("0xc")])(this,x)}return(0,e[_0x4b1c("0xc")])(x,null,[{key:_0x4b1c("0x1c2"),value:function(x){var c=esmap[_0x4b1c("0x32")].instance,b=c[_0x4b1c("0x1c3")].rendererCss2D.domElement,_=void 0,e="";Object[_0x4b1c("0xf")][_0x4b1c("0x2f")][_0x4b1c("0x2")](x)===_0x4b1c("0x1c4")?(_=x.code,e=function(x,c){if(c&&c.length)for(var b=0;b<c[_0x4b1c("0x0")];b++)x=x.replace("${"+(b+1)+"}",c[b]);return x}(t[_0x4b1c("0x1c5")][_],x[_0x4b1c("0x1c6")])):e=t.ERRORS[_],e||(e=_0x4b1c("0x1c7"));var a=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));a[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_0x4b1c("0x1ca"),a[_0x4b1c("0x23")][_0x4b1c("0x1a3")]="100%",a[_0x4b1c("0x23")][_0x4b1c("0x1cb")]="flex",a[_0x4b1c("0x23")][_0x4b1c("0x1cc")]=_0x4b1c("0x12d"),a.style[_0x4b1c("0x1cd")]=_0x4b1c("0x12d"),a[_0x4b1c("0x23")][_0x4b1c("0x1ce")]=_0x4b1c("0x1cf"),a[_0x4b1c("0x23")][_0x4b1c("0x147")]="white",a[_0x4b1c("0x23")][_0x4b1c("0x1d0")]=_0x4b1c("0x1d1"),a[_0x4b1c("0x23")][_0x4b1c("0x1d2")]=_0x4b1c("0x1d3"),a.innerHTML=e,a[_0x4b1c("0x1d4")]("class",_0x4b1c("0x1d5")),b[_0x4b1c("0x1d6")]="",b[_0x4b1c("0x1d7")](a),i[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:""+e,level:_0x4b1c("0xe3")}),c.fire(_0x4b1c("0xe3"),{code:_,message:e});var n=new CustomEvent(_0x4b1c("0x1d8"),{detail:{code:_,message:e}});window[_0x4b1c("0x1d9")](n)}}]),x}()},function(x,c,b){"use strict";(function(x){Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});c[_0x4b1c("0x1da")]=Object[_0x4b1c("0xf")][_0x4b1c("0x2f")][_0x4b1c("0x2")](void 0!==x?x:0)===_0x4b1c("0x1db")&&!x.versions[_0x4b1c("0x1dc")]})[_0x4b1c("0x2")](this,b(62))},,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _,e=A(b(22)),t=A(b(7)),i=A(b(8)),a=A(b(9)),n=A(b(6)),r=A(b(2)),s=A(b(5)),o=A(b(0)),f=A(b(1)),l=A(b(10)),d=A(b(314)),u=A(b(11)),h=A(b(150)),g=b(65),v=b(4),p=b(51),m=A(b(146));function A(x){return x&&x.__esModule?x:{default:x}}var y=null,C=null,I=function(x){function c(x){(0,o[_0x4b1c("0xc")])(this,c);var b=new(THREE[_0x4b1c("0x1dd")]),_=(0,l[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,s[_0x4b1c("0xc")])(c)).call(this,esmap.ESNodeType[_0x4b1c("0x1df")],{},b));em[_0x4b1c("0x1e0")].convert(_),_[_0x4b1c("0x3e")]=_[_0x4b1c("0x1e1")][_0x4b1c("0x3e")];var e=_[_0x4b1c("0x3e")][_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?23:12;return _[_0x4b1c("0x1e3")]={showLevel:x[_0x4b1c("0x1e4")]||e,minShowLevel:null,maxShowLevel:null,visibleLock:!1},(0,r[_0x4b1c("0xc")])(_,{diableClickEffect:!1,ID:Math.random()[_0x4b1c("0x2f")](36)[_0x4b1c("0x1e5")](-8),name:_0x4b1c("0x1e6"),model:"",alias:_0x4b1c("0x1e7"),bid:0,top:1,gid:0,mapId:null,animations:[],callbackparams:null,fnum:null,url:null,isChildNode:!1,configs:!1,clickAnimation:!0,status:0,pickable:!0,callback:null},x),_[_0x4b1c("0x1e8")]=!1,_[_0x4b1c("0x1e9")]=0,_[_0x4b1c("0x1ea")]=new(THREE[_0x4b1c("0x1eb")]),_[_0x4b1c("0x1ec")]=[],_[_0x4b1c("0x1ed")]=0,_[_0x4b1c("0x1ee")]=0,_[_0x4b1c("0x1ef")]=0,_._lodName=null,_.created=!1,_[_0x4b1c("0x1f0")]=_[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x1f1")],_[_0x4b1c("0x1f2")]=null,_[_0x4b1c("0x1f3")]=!0,_._explodeTweens=[],_.pickable=x[_0x4b1c("0x1f4")],_}var b;return(0,u[_0x4b1c("0xc")])(c,x),(0,f[_0x4b1c("0xc")])(c,[{key:"addMarker",value:function(x){this[_0x4b1c("0xf0")].add(x[_0x4b1c("0xf0")]),x[_0x4b1c("0xf0")].position.x=0,x[_0x4b1c("0xf0")][_0x4b1c("0x105")].z=0,x[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x1f5")]=this[_0x4b1c("0xf0")].position[_0x4b1c("0x13e")](),this[_0x4b1c("0x1ec")].push(x)}},{key:_0x4b1c("0x39"),value:function(){this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")]||this.onZoomed(this[_0x4b1c("0x1e1")].map.zoomLevel),this[_0x4b1c("0xf0")][_0x4b1c("0x1f7")]=this[_0x4b1c("0x1f8")]?"":_0x4b1c("0x107"),this.o3d_[_0x4b1c("0x165")][_0x4b1c("0x1f9")]={},this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x1fa")]=[],this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x1fb")]=null,this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x78")]=_0x4b1c("0x1fc"),this.child[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1fe")],this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](this[_0x4b1c("0x1ff")]),this[_0x4b1c("0xf0")][_0x4b1c("0x200")]=this.scaleRate;var x=this[_0x4b1c("0x201")];this[_0x4b1c("0xf0")].scale[_0x4b1c("0xdb")](x.x,x.y,x.z);var c=this[_0x4b1c("0x202")]||new THREE.Vector3(0,0,0);this.o3d_[_0x4b1c("0x203")]=(new(THREE[_0x4b1c("0x204")]))[_0x4b1c("0x205")](new(THREE[_0x4b1c("0x206")])(c.x,c.y,c.z,_0x4b1c("0x207")));var b=new(THREE[_0x4b1c("0x204")]),_=new(THREE[_0x4b1c("0x204")]),e=new(THREE[_0x4b1c("0x204")]);b.setFromAxisAngle(new(THREE[_0x4b1c("0x128")])(1,0,0),c.x),_[_0x4b1c("0x208")](new(THREE[_0x4b1c("0x128")])(0,1,0),c.y),e[_0x4b1c("0x208")](new(THREE[_0x4b1c("0x128")])(0,0,1),c.z);var t=new(THREE[_0x4b1c("0x204")]);t.multiply(b)[_0x4b1c("0x209")](_)[_0x4b1c("0x209")](e),this.o3d_[_0x4b1c("0x20a")][_0x4b1c("0x20b")](t);var i=this[_0x4b1c("0x105")];this[_0x4b1c("0xf0")][_0x4b1c("0x105")].x=i.x,this[_0x4b1c("0xf0")].position.y=i.y,this[_0x4b1c("0xf0")][_0x4b1c("0x105")].z=i.z,this[_0x4b1c("0x20c")]=this[_0x4b1c("0x3e")][_0x4b1c("0x20d")](this[_0x4b1c("0xf0")][_0x4b1c("0x105")]),this[_0x4b1c("0x20e")][_0x4b1c("0xdd")](this[_0x4b1c("0xf0")]),this[_0x4b1c("0x20f")]&&(this[_0x4b1c("0x12e")]=this[_0x4b1c("0x20f")][_0x4b1c("0x210")]),this[_0x4b1c("0x211")](),this.created=!0,this[_0x4b1c("0x212")]||this.map[_0x4b1c("0x47")][_0x4b1c("0x1f6")]||this.preprocessChilds()}},{key:_0x4b1c("0x213"),value:function(){var x=new(THREE[_0x4b1c("0x214")]);return x.applyQuaternion(this[_0x4b1c("0xf0")][_0x4b1c("0x203")]),{x:THREE[_0x4b1c("0x215")][_0x4b1c("0x216")](x[_0x4b1c("0x202")].x),y:THREE[_0x4b1c("0x215")][_0x4b1c("0x216")](x[_0x4b1c("0x202")].y),z:THREE[_0x4b1c("0x215")][_0x4b1c("0x216")](x[_0x4b1c("0x202")].z)}}},{key:_0x4b1c("0x217"),value:function(){var x=this[_0x4b1c("0x3e")],b=this[_0x4b1c("0x12b")],_=x[_0x4b1c("0x136")](this[_0x4b1c("0x12b")]);_||(_=x[_0x4b1c("0x218")](this[_0x4b1c("0x12b")]));var e=this.model,t=!1;this.child[_0x4b1c("0x103")]((function(i){var a=i[_0x4b1c("0x165")];if(a[_0x4b1c("0x1f7")]&&!i[_0x4b1c("0xef")]){var n=new c({diableClickEffect:!1,name:a.name,fnum:1,ID:a.id,url:"",gid:null,mapId:x.id,bid:b,dataID:a[_0x4b1c("0x219")]||null,bType:_[_0x4b1c("0x21a")],model:e,callback:null,top:1,rotation:{},position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},scaleRate:1,child:i,addTo:i.parent,isChildNode:!1,animations:[]});n.o3d_=i,i.onAfterRender=function(){if(!i[_0x4b1c("0x165")][_0x4b1c("0x21b")]){var c=i[_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")]));n[_0x4b1c("0x21d")]=x[_0x4b1c("0x20d")](c),i[_0x4b1c("0x165")][_0x4b1c("0x21b")]=!0}},i[_0x4b1c("0xef")]=n,t||(t=!0)}})),this.hasChild=t}},{key:_0x4b1c("0x21e"),value:function(x){var c=this[_0x4b1c("0x1e3")],b=c.minShowLevel,_=c[_0x4b1c("0x21f")],e=c[_0x4b1c("0x220")];if(null!==this[_0x4b1c("0x1e4")]&&!e){var t=this[_0x4b1c("0x1e1")].map[_0x4b1c("0x47")].useScaleLevel;if(this[_0x4b1c("0x1e1")][_0x4b1c("0x3e")][_0x4b1c("0x3b")]==esmap.MapMode[_0x4b1c("0x42")]||!t)if(null!=b&&null!=_){if(x<b||x>_)return this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1,void(this[_0x4b1c("0xf0")].userData[_0x4b1c("0x221")]=!0);this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!0,this[_0x4b1c("0xf0")][_0x4b1c("0x165")].outoflevel=!1}else null!=_&&null===b&&(x<_?(this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1,this[_0x4b1c("0xf0")].userData[_0x4b1c("0x221")]=!0):(this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!0,this.o3d_[_0x4b1c("0x165")][_0x4b1c("0x221")]=!1));else{if(x=this[_0x4b1c("0x1e1")].map[_0x4b1c("0x222")],null!=b&&x<b)return this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1,void(this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x221")]=!0);x>_?(this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1,this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x221")]=!0):(this[_0x4b1c("0xf0")].visible=!0,this[_0x4b1c("0xf0")].userData[_0x4b1c("0x221")]=!1)}}}},{key:_0x4b1c("0x223"),value:function(x){var c=this[_0x4b1c("0x3e")],b=_0x4b1c("0x224")+x,_=this[_0x4b1c("0x1ff")][_0x4b1c("0x225")](b);if(_){console[_0x4b1c("0x226")](_0x4b1c("0x227")+x,_);var e=_[_0x4b1c("0x21c")](new THREE.Vector3);return c[_0x4b1c("0x20d")](e)}console[_0x4b1c("0xe3")]("can not find anchor "+b)}},{key:"bindEvents",value:function(){var x=this,c=x[_0x4b1c("0x1e1")].map,b=x[_0x4b1c("0x174")][_0x4b1c("0xe")](x);c.on("update",b);var _=x[_0x4b1c("0x21e")][_0x4b1c("0xe")](this);c[_0x4b1c("0x47")].editMode||c.on("zoomed",_),this.o3d_.addEventListener(_0x4b1c("0x228"),(function(){for(;x[_0x4b1c("0x1ec")].length>0;){var e=x[_0x4b1c("0x1ec")].shift();e[_0x4b1c("0x229")]&&(c[_0x4b1c("0x6b")]("update",e[_0x4b1c("0x229")]),e[_0x4b1c("0xf3")]())}c[_0x4b1c("0x6b")]("update",b),c[_0x4b1c("0x47")][_0x4b1c("0x1f6")]||c[_0x4b1c("0x6b")](_0x4b1c("0x179"),_),x.stopMoving(),x.emit(_0x4b1c("0x228"))}))}},{key:_0x4b1c("0x174"),value:function(){var x=this,c=x[_0x4b1c("0x1e1")][_0x4b1c("0x3e")];if(x[_0x4b1c("0xf0")]){var b=x[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x22a")],_=x[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x22b")];if(b&&(x[_0x4b1c("0xf0")][_0x4b1c("0x20a")][_0x4b1c("0x22c")](b,.08),_)){var e=new(THREE[_0x4b1c("0x128")])(1,0,0),t=e[_0x4b1c("0x13e")](),i=x.o3d_[_0x4b1c("0x22d")][_0x4b1c("0x13e")]();i[_0x4b1c("0x22e")](new(THREE[_0x4b1c("0x128")])),t[_0x4b1c("0x22f")](i);var a=(a=t[_0x4b1c("0x13e")]()[_0x4b1c("0x230")](e)).y<0?-1:1,n=e[_0x4b1c("0x231")](t),r=THREE[_0x4b1c("0x215")][_0x4b1c("0x216")](n*a);c[_0x4b1c("0x232")][_0x4b1c("0x233")]?x[_0x4b1c("0x234")]=!0:x[_0x4b1c("0x234")]?(r<0&&(r=360+r),c[_0x4b1c("0x235")]>r?c[_0x4b1c("0x235")]-=1:c[_0x4b1c("0x235")]+=1,Math.abs(c[_0x4b1c("0x235")]-r)<=3&&(x[_0x4b1c("0x234")]=!1)):c[_0x4b1c("0x235")]=r}x.updateScreenSize()}}},{key:"moveTo",value:function(x){var c=x,b=this,_=(0,v[_0x4b1c("0x1a2")])(c,_0x4b1c("0x1a5"),_0x4b1c("0x1a4"),1),e=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].mapScene;b[_0x4b1c("0x19d")]=!0,b[_0x4b1c("0x236")]&&b[_0x4b1c("0x236")][_0x4b1c("0x19b")]();var t=this,i=e[_0x4b1c("0x3e")],a=t[_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0x13e")](),n=c[_0x4b1c("0x1")]("angle")?c.angle:0,r=c[_0x4b1c("0x1")]("z")?c.z:t[_0x4b1c("0xf0")][_0x4b1c("0x105")].y,s=c.hasOwnProperty("threshold")?c[_0x4b1c("0x237")]:null,o=i._coordThreeToMapScene(a,!0);c[_0x4b1c("0x1")]("x")||(c.x=o.x),c[_0x4b1c("0x1")]("y")||(c.y=o.y);var f=i[_0x4b1c("0x238")]({x:c.x,y:c.y,z:r},!0),l=esmap.ESMapUtil[_0x4b1c("0x239")]({x:a.x,y:a.z},{x:f.x,y:f.z}),d=!1;if((c.hasOwnProperty(_0x4b1c("0x23a"))&&(d=c.orientToPath),d&&null!=s&&null!=this.o3d_[_0x4b1c("0x165")][_0x4b1c("0x23b")])&&f[_0x4b1c("0x124")](a)<=s[_0x4b1c("0x23c")]){var u=Math[_0x4b1c("0x23d")](l-this[_0x4b1c("0xf0")].userData.lastWalkAngle);u>360&&(u-=360),u>=s[_0x4b1c("0x23e")][0]&&u<=s[_0x4b1c("0x23e")][1]||u>=s[_0x4b1c("0x23f")][0]&&u<=s[_0x4b1c("0x23f")][1]&&(n=180)}if(null==this[_0x4b1c("0xf0")].userData.lastWalkAngle||d){var h=l+n;this[_0x4b1c("0xf0")].userData[_0x4b1c("0x23b")]=h>360?h-360:h}if(d){var g=new(THREE[_0x4b1c("0x240")]);if(a.x!=f.x||a.z!=f.z){g[_0x4b1c("0x241")](f,a,this[_0x4b1c("0xf0")].up),g[_0x4b1c("0x209")]((new THREE.Matrix4)[_0x4b1c("0x242")](new(THREE[_0x4b1c("0x206")])(0,THREE[_0x4b1c("0x215")].degToRad(n),0)));var p=(new THREE.Quaternion)[_0x4b1c("0x243")](g);t[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x244")]&&t[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x244")][_0x4b1c("0x19b")]();var m=(new(THREE[_0x4b1c("0x204")]))[_0x4b1c("0x20b")](t.o3d_[_0x4b1c("0x20a")]),A=new(THREE[_0x4b1c("0x204")]),y={value:0};t[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x244")]=new(esmap.TWEEN[_0x4b1c("0x1a7")])(y).to({value:1},500).easing(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")][_0x4b1c("0x246")])[_0x4b1c("0x174")]((function(x,c){THREE.Quaternion[_0x4b1c("0x22c")](m,p,A,y[_0x4b1c("0x13a")]),t.o3d_[_0x4b1c("0x20a")].set(A.x,A.y,A.z,A.w)}))[_0x4b1c("0x1ac")]((function(){})).start()}}b._moveToID=new(esmap[_0x4b1c("0x1a6")].Tween)(this.o3d_[_0x4b1c("0x105")]).to(f,1e3*_)[_0x4b1c("0x1a8")](esmap.TWEEN.Easing[_0x4b1c("0x245")][_0x4b1c("0x246")])[_0x4b1c("0x174")]((function(x,b){if(c.onMoving){var _=i[_0x4b1c("0x20d")](x);c.onMoving({position:{x:_.x,y:_.y},progress:b,angle:l})}t[_0x4b1c("0x247")]&&t._globalLayer[_0x4b1c("0x248")](t)})).onComplete((function(){t[_0x4b1c("0x19d")]=!1,c[_0x4b1c("0x1b0")]&&c[_0x4b1c("0x1b0")](t)})).start()}},{key:_0x4b1c("0xdd"),value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](x)}},{key:_0x4b1c("0x249"),value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x24a")]||(0,g[_0x4b1c("0x199")])(this,x)}},{key:_0x4b1c("0x24b"),value:function(){(0,g.stopJumpO3d)(this)}},{key:_0x4b1c("0x24c"),value:function(){}},{key:_0x4b1c("0x24d"),value:function(){}},{key:_0x4b1c("0x24e"),value:function(){}},{key:"restoreScale",value:function(){var x=this.o3d_;x[_0x4b1c("0x165")][_0x4b1c("0x24f")]&&(x[_0x4b1c("0x201")][_0x4b1c("0x20b")](x[_0x4b1c("0x165")].originalScale),x.userData.originalScale=null)}},{key:_0x4b1c("0x250"),value:function(){this.visible=!0}},{key:_0x4b1c("0x251"),value:function(){this[_0x4b1c("0x191")]=!1}},{key:_0x4b1c("0x252"),value:function(x){var c=this.o3d_;c[_0x4b1c("0x165")][_0x4b1c("0x24f")]||(c[_0x4b1c("0x165")][_0x4b1c("0x24f")]=c[_0x4b1c("0x201")][_0x4b1c("0x13e")]()),c.scale[_0x4b1c("0x253")](x)}},{key:_0x4b1c("0x254"),value:function(x){var c=this[_0x4b1c("0xf0")];if(isNaN(x)||(x={angle:x}),x[_0x4b1c("0x255")]&&!this[_0x4b1c("0x256")]){var b=new(THREE[_0x4b1c("0x257")])(x[_0x4b1c("0x255")]);this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](b),this[_0x4b1c("0x256")]=!0}var _=(0,r.default)({time:1,angle:0,onComplete:null},x),e={x:0,y:0,z:0};if((0,n[_0x4b1c("0xc")])(_[_0x4b1c("0x258")])===_0x4b1c("0x1d")){if((0,r[_0x4b1c("0xc")])(e,_.angle),0===x[_0x4b1c("0x1a5")]){var t=new THREE.Quaternion,i=new(THREE[_0x4b1c("0x204")]),a=new(THREE[_0x4b1c("0x204")]);t[_0x4b1c("0x208")](new(THREE[_0x4b1c("0x128")])(1,0,0),THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](e.x)),i[_0x4b1c("0x208")](new(THREE[_0x4b1c("0x128")])(0,1,0),THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](e.y)),a.setFromAxisAngle(new(THREE[_0x4b1c("0x128")])(0,0,1),THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](e.z));var s=new(THREE[_0x4b1c("0x204")]);return s.multiply(t).multiply(i)[_0x4b1c("0x209")](a),void c[_0x4b1c("0x20a")][_0x4b1c("0x20b")](s)}}else e.z=1*_[_0x4b1c("0x258")];var o=(new(THREE[_0x4b1c("0x204")]))[_0x4b1c("0x205")](new THREE.Euler(THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](e.x),THREE[_0x4b1c("0x215")].degToRad(e.z),THREE.Math[_0x4b1c("0x259")](e.y),_0x4b1c("0x207"))),f={value:0},l=(new(THREE[_0x4b1c("0x204")])).copy(c.quaternion),d=new(THREE[_0x4b1c("0x204")]);c.userData[_0x4b1c("0x25a")]&&c[_0x4b1c("0x165")].rotateAnimate.stop();var u=new(esmap.TWEEN[_0x4b1c("0x1a7")])(f).to({value:1},1e3*_[_0x4b1c("0x1a5")]).easing(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")].Linear.None)[_0x4b1c("0x174")]((function(x){THREE[_0x4b1c("0x204")][_0x4b1c("0x22c")](l,o,d,f[_0x4b1c("0x13a")]),c[_0x4b1c("0x20a")][_0x4b1c("0xdb")](d.x,d.y,d.z,d.w)}))[_0x4b1c("0x1ac")](_[_0x4b1c("0x1ac")]).start();c.userData.rotateAnimate=u}},{key:_0x4b1c("0x25b"),value:function(){var x=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];this.viewLocked=!1,x[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!0,this[_0x4b1c("0xf0")].userData[_0x4b1c("0x22b")]=!1}},{key:_0x4b1c("0x25e"),value:function(x){var c=this;x=x||{};var b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];b[_0x4b1c("0x25f")]({x:this.mapCoord.x,y:this[_0x4b1c("0x21d")].y,z:this.mapCoord.z,directionAngle:b[_0x4b1c("0x235")],pitchAngle:60,radius:10});var e=null!=x[_0x4b1c("0x260")],t=!1,i=!1,a=!1,n=!1;c.viewLocked=!0,c[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x22b")]=e;b[_0x4b1c("0x25c")].enableMapPan=!1;var r=c[_0x4b1c("0xf0")][_0x4b1c("0x105")].y;c[_0x4b1c("0x262")]||(document[_0x4b1c("0x37")](_0x4b1c("0x263"),(function(x){switch(x[_0x4b1c("0x261")]){case 38:case 87:t=!0;break;case 37:case 65:i=!0;break;case 40:case 83:n=!0;break;case 39:case 68:a=!0}}),!1),document[_0x4b1c("0x37")](_0x4b1c("0x264"),(function(x){switch(x[_0x4b1c("0x261")]){case 38:case 87:t=!1;break;case 37:case 65:i=!1;break;case 40:case 83:n=!1;break;case 39:case 68:a=!1}}),!1),c[_0x4b1c("0x262")]=!0,b.on(_0x4b1c("0x164"),(function(){if(c[_0x4b1c("0x265")])if(t||i||a||n){var x=b[_0x4b1c("0x266")].target.clone();x.y=r,b[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!0;var e=0;i?e=90:a?e=-90:n&&(e=180),c[_0x4b1c("0x267")].includes(_0x4b1c("0x268"))&&!c.animating&&c[_0x4b1c("0x269")]({name:"walk"});var s=b[_0x4b1c("0x26a")][_0x4b1c("0x105")][_0x4b1c("0x13e")]();s.y=r,_||(_=setTimeout((function(){c[_0x4b1c("0x26b")]&&(c.mapScene[_0x4b1c("0x3e")][_0x4b1c("0x26c")]=!0,c[_0x4b1c("0x26b")][_0x4b1c("0x26d")]=!1,c[_0x4b1c("0x26b")][_0x4b1c("0x26e")]=!1,window[_0x4b1c("0x26f")](_),_=null)}),800)),c[_0x4b1c("0xf0")][_0x4b1c("0x105")].copy(x);var o=new(THREE[_0x4b1c("0x240")]);o[_0x4b1c("0x241")](x,s,c[_0x4b1c("0xf0")].up),o[_0x4b1c("0x209")]((new(THREE[_0x4b1c("0x240")]))[_0x4b1c("0x242")](new(THREE[_0x4b1c("0x206")])(0,THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](e),0))),c.o3d_.userData.toRot=(new(THREE[_0x4b1c("0x204")]))[_0x4b1c("0x243")](o)}else b[_0x4b1c("0x25c")][_0x4b1c("0x25d")]&&(b[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!1)})))}},{key:_0x4b1c("0x270"),value:function(x){x=x||1,this[_0x4b1c("0xf0")][_0x4b1c("0x103")]((function(x){x[_0x4b1c("0xf4")]&&x[_0x4b1c("0xf4")][_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x271"))&&(x[_0x4b1c("0xf4")][_0x4b1c("0x145")]=x.material.userData[_0x4b1c("0x271")],x[_0x4b1c("0xf4")][_0x4b1c("0x129")]=x[_0x4b1c("0xf4")][_0x4b1c("0x165")][_0x4b1c("0x129")],delete x[_0x4b1c("0xf4")].userData[_0x4b1c("0x271")],delete x[_0x4b1c("0xf4")].userData[_0x4b1c("0x129")])}))}},{key:_0x4b1c("0x272"),value:function(x){var c,b,_;typeof x==_0x4b1c("0x18f")?(c=x,b=1,_=!1):!1===x?(b=1,c=!1,_=!1):(c=x[_0x4b1c("0x273")],b=null==x.time?1:x[_0x4b1c("0x1a5")],_=null!=x[_0x4b1c("0x274")]&&x.clonemat),esmap[_0x4b1c("0x87")][_0x4b1c("0x272")]({target:this[_0x4b1c("0xf0")],alpha:c,time:b,clonemat:_})}},{key:_0x4b1c("0x275"),value:function(){this[_0x4b1c("0x276")]&&(this[_0x4b1c("0x276")].visible=!1,this[_0x4b1c("0x276")][_0x4b1c("0x201")].set(.01,.01,1),esmap[_0x4b1c("0x277")][_0x4b1c("0x24d")][_0x4b1c("0x2")](this[_0x4b1c("0x276")]),this[_0x4b1c("0x276")]._isAnimating=!1,this[_0x4b1c("0x1e8")]=!1)}},{key:"glow",value:function(x){var c=this,b=x||{};if(b.color=null==b[_0x4b1c("0x147")]?_0x4b1c("0x278"):b[_0x4b1c("0x147")],b[_0x4b1c("0x1a3")]=null==b[_0x4b1c("0x1a3")]?0:b.height,b[_0x4b1c("0x279")]=null==b[_0x4b1c("0x279")]||b.fixedSize,b[_0x4b1c("0x16c")]=null==b[_0x4b1c("0x16c")]||b[_0x4b1c("0x16c")],null==b[_0x4b1c("0x201")]&&(b.scale=1),b[_0x4b1c("0x201")]=.1*b.scale,!this.glowSprite){var _=_0x4b1c("0x27a"),e=(new(THREE[_0x4b1c("0x186")]))[_0x4b1c("0x187")](_),t=new THREE.SpriteMaterial({map:e,depthWrite:!0,transparent:!0,blending:THREE.AdditiveBlending,sizeAttenuation:!b[_0x4b1c("0x279")]});t[_0x4b1c("0x27b")]=!0,b[_0x4b1c("0x16c")]&&(t[_0x4b1c("0x16d")]=!1),t[_0x4b1c("0x147")]=(new THREE.Color)[_0x4b1c("0x27c")](b.color||_0x4b1c("0x126"));var i=new(THREE[_0x4b1c("0x27d")])(t);i[_0x4b1c("0x201")][_0x4b1c("0xdb")](.001,.001,1),i.name=_0x4b1c("0x27e"),i[_0x4b1c("0x172")]=esmap.ESRenderOrder[_0x4b1c("0x1fe")],i.userData.enableScaling=!0,i[_0x4b1c("0x165")].times=1e3,c[_0x4b1c("0xf0")][_0x4b1c("0xdd")](i),c.glowSprite=i}this[_0x4b1c("0x275")](),c[_0x4b1c("0x276")][_0x4b1c("0x201")][_0x4b1c("0xdb")](x[_0x4b1c("0x201")],x.scale,1),x[_0x4b1c("0x147")]&&c[_0x4b1c("0x276")][_0x4b1c("0xf4")][_0x4b1c("0x147")][_0x4b1c("0xdb")](x[_0x4b1c("0x147")]),this[_0x4b1c("0x276")][_0x4b1c("0x191")]=!0,b[_0x4b1c("0x19f")]=null==b.times?0:b[_0x4b1c("0x19f")],c.glowSprite[_0x4b1c("0x105")].y=b.height,esmap[_0x4b1c("0x277")][_0x4b1c("0x27f")][_0x4b1c("0x2")](c[_0x4b1c("0x276")],b),c.glowing=!0}},{key:_0x4b1c("0x280"),value:function(x,c,b){var _=new(THREE[_0x4b1c("0x128")])(this.map[_0x4b1c("0x47")][_0x4b1c("0x12d")][0]-x,this.o3d_[_0x4b1c("0x105")].y,c-this.map[_0x4b1c("0x47")][_0x4b1c("0x12d")][1]),e=new(THREE[_0x4b1c("0x240")]),t=this;e.lookAt(this[_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0x13e")](),_,this[_0x4b1c("0xf0")].up),e[_0x4b1c("0x209")]((new(THREE[_0x4b1c("0x240")])).makeRotationFromEuler(new THREE.Euler(0,THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](b||0),0))),this[_0x4b1c("0xf0")].userData[_0x4b1c("0x22a")]=(new(THREE[_0x4b1c("0x204")])).setFromRotationMatrix(e),this[_0x4b1c("0xf0")][_0x4b1c("0x105")].x=_.x,this[_0x4b1c("0xf0")].position.z=_.z,this.o3d_.userData[_0x4b1c("0x281")]||(this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x281")]=!0,this[_0x4b1c("0x3e")].on(_0x4b1c("0x164"),(function(){var x=t[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x22a")];x&&t[_0x4b1c("0xf0")].quaternion[_0x4b1c("0x22c")](x,.1)})))}},{key:"stopAnimation",value:function(x){if(x&&x[_0x4b1c("0x1a4")])for(var c in this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x1f9")])this[_0x4b1c("0xf0")].userData[_0x4b1c("0x1f9")][c][_0x4b1c("0x282")](x[_0x4b1c("0x1a4")]);else for(var b in this[_0x4b1c("0xf0")].userData[_0x4b1c("0x1f9")])this.o3d_[_0x4b1c("0x165")][_0x4b1c("0x1f9")][b].stop();this.animating=!1}},{key:_0x4b1c("0xe4"),value:function(){this.dispose()}},{key:_0x4b1c("0x269"),value:function(x){var c,b=this,_={name:"",repeat:1,stopAllActions:!1,clampWhenFinished:!1,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,delay:0};return new a.default((c=(0,i[_0x4b1c("0xc")])(t[_0x4b1c("0xc")][_0x4b1c("0x283")]((function c(e){var i,n,s,o,f,l,d,u,h,g,v,p,m,A;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(c){for(;;)switch(c[_0x4b1c("0x285")]=c[_0x4b1c("0x286")]){case 0:if(typeof x===_0x4b1c("0xd")?_[_0x4b1c("0x1f7")]=x:(0,r[_0x4b1c("0xc")])(_,x),i=b[_0x4b1c("0x4e")],n=b,s=i[_0x4b1c("0x287")]("/"),i.substring(s),o=b[_0x4b1c("0xf0")].userData[_0x4b1c("0x1f9")],f=b.o3d_[_0x4b1c("0xf1")][0],l=b[_0x4b1c("0x1e1")][_0x4b1c("0x3e")][_0x4b1c("0x7e")].modelStore[n.model]){c.next=11;break}return console.info(esmap[_0x4b1c("0x288")][_0x4b1c("0x289")]),c.abrupt(_0x4b1c("0x28a"));case 11:return d=b[_0x4b1c("0x1e1")][_0x4b1c("0x3e")],u=n[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x1fb")],_[_0x4b1c("0x28b")]&&(_[_0x4b1c("0x157")]=1/0),u||(u=new(THREE[_0x4b1c("0x28c")])(f),l[_0x4b1c("0x267")][_0x4b1c("0x1c")]((function(x){var c=u[_0x4b1c("0x28d")](x);c[_0x4b1c("0x28e")]=!0,c[_0x4b1c("0x28f")]=_[_0x4b1c("0x157")],o[x[_0x4b1c("0x1f7")][_0x4b1c("0x290")]()]=c})),b.o3d_[_0x4b1c("0x165")][_0x4b1c("0x1fb")]=u),c[_0x4b1c("0x286")]=17,new(a[_0x4b1c("0xc")])((function(x){setTimeout(x,1e3*_[_0x4b1c("0x1a1")])}));case 17:if(h=o[_[_0x4b1c("0x1f7")]]){c[_0x4b1c("0x286")]=22;break}return console[_0x4b1c("0x291")](_[_0x4b1c("0x1f7")]+_0x4b1c("0x292")+esmap.ESInfo.MODEL3D_ACTION_ERR),console[_0x4b1c("0x291")](b[_0x4b1c("0x267")]),c[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 22:if(g=b.o3d_.userData[_0x4b1c("0x294")],_[_0x4b1c("0x28b")]?h.loop=THREE[_0x4b1c("0x295")]:1===_.repeat?h[_0x4b1c("0x28b")]=THREE.LoopOnce:h[_0x4b1c("0x28b")]=THREE[_0x4b1c("0x295")],h[_0x4b1c("0x28f")]=_[_0x4b1c("0x157")],h[_0x4b1c("0x28e")]=_[_0x4b1c("0x28e")],_[_0x4b1c("0x296")])for(v in o)o[v].fadeOut(_[_0x4b1c("0x1a5")]);else _[_0x4b1c("0x297")]&&g&&g[_0x4b1c("0x282")](_[_0x4b1c("0x1a5")]);h[_0x4b1c("0xe9")]()[_0x4b1c("0x298")](1)[_0x4b1c("0x299")](1)[_0x4b1c("0x29a")](_.time)[_0x4b1c("0x29b")](),u[_0x4b1c("0x29c")]||(u[_0x4b1c("0x29c")]=!0,p=new THREE.Clock,m=function(){u[_0x4b1c("0x164")](p.getDelta())},d.on("update",m),u[_0x4b1c("0x177")]=m),n[_0x4b1c("0x29d")]=!0,n[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x294")]=h,_[_0x4b1c("0x28b")]?e():(A=function x(c){_[_0x4b1c("0x1b0")]&&_[_0x4b1c("0x1b0")](n),n[_0x4b1c("0x29d")]=!1,u[_0x4b1c("0x29e")](_0x4b1c("0x29f"),x),u.bindedFinished=null,e()},u[_0x4b1c("0x37")](_0x4b1c("0x29f"),A),u.bindedFinished=A,0==_[_0x4b1c("0x1a5")]&&_[_0x4b1c("0x1b0")]&&_.callback(n));case 32:case _0x4b1c("0x2a0"):return c.stop()}}),c,b)}))),function(x){return c[_0x4b1c("0x4")](this,arguments)}))}},{key:"playAnimationPre",value:function(x){var c={name:"",repeat:1,clampWhenFinished:!0,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,loopReverse:!1};typeof x===_0x4b1c("0xd")?c[_0x4b1c("0x1f7")]=x:(0,r[_0x4b1c("0xc")])(c,x);var b=this[_0x4b1c("0x4e")],_=this,e=b[_0x4b1c("0x287")]("/"),t=(b[_0x4b1c("0x2a1")](e),this.o3d_[_0x4b1c("0x165")].actions),i=this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0],a=this.modelLoadManager[_0x4b1c("0x2a2")][_[_0x4b1c("0x1e6")]];if(a){var n=this[_0x4b1c("0x1e1")][_0x4b1c("0x3e")],s=this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x1fb")];c.loop&&(c[_0x4b1c("0x157")]=1/0),s||(s=new THREE.AnimationMixer(i),a[_0x4b1c("0x267")][_0x4b1c("0x1c")]((function(x){var b=s[_0x4b1c("0x28d")](x);b[_0x4b1c("0x28e")]=!0,b[_0x4b1c("0x28f")]=c[_0x4b1c("0x157")],t[x[_0x4b1c("0x1f7")][_0x4b1c("0x290")]()]=b})),this[_0x4b1c("0xf0")].userData[_0x4b1c("0x1fb")]=s);var o=t[c[_0x4b1c("0x1f7")]];if(o){var f=this.o3d_[_0x4b1c("0x165")][_0x4b1c("0x294")];if(f||(this[_0x4b1c("0xf0")][_0x4b1c("0x165")].previousAction=o,f=o),c[_0x4b1c("0x28b")]?(o[_0x4b1c("0x28b")]=THREE[_0x4b1c("0x295")],c.loopReverse&&(o[_0x4b1c("0x28b")]=THREE[_0x4b1c("0x2a4")])):o[_0x4b1c("0x28b")]=THREE[_0x4b1c("0x2a5")],o[_0x4b1c("0x28f")]=c[_0x4b1c("0x157")],o[_0x4b1c("0x28e")]=c[_0x4b1c("0x28e")],c[_0x4b1c("0x297")])f!=o?(o[_0x4b1c("0xe9")]().setDuration(c[_0x4b1c("0x1a5")])[_0x4b1c("0x29b")](),f.crossFadeTo(o,0)):o[_0x4b1c("0xe9")]()[_0x4b1c("0x298")](1)[_0x4b1c("0x299")](1)[_0x4b1c("0x29a")](c.time)[_0x4b1c("0x29b")]();else{var l=c[_0x4b1c("0x1f7")].match(/^[A-Za-z0-9]+\-/);if(l){var d=l[0];for(var u in t)u[_0x4b1c("0x2a6")](/^[A-Za-z0-9]+\-/)[0]==d&&t[u][_0x4b1c("0x19b")]()[_0x4b1c("0xe9")]()}o[_0x4b1c("0x29b")]()}if(!s[_0x4b1c("0x29c")]){s[_0x4b1c("0x29c")]=!0;var h=new(THREE[_0x4b1c("0x1eb")]);n.on("update",(function(){s[_0x4b1c("0x164")](h[_0x4b1c("0x2a7")]())}))}_[_0x4b1c("0x29d")]=!0,_.o3d_[_0x4b1c("0x165")][_0x4b1c("0x294")]=o;s[_0x4b1c("0x37")](_0x4b1c("0x29f"),(function x(b){c[_0x4b1c("0x1b0")]&&c.callback(),_[_0x4b1c("0x29d")]=!1,s[_0x4b1c("0x29e")](_0x4b1c("0x29f"),x)}))}else console[_0x4b1c("0x291")](esmap[_0x4b1c("0x288")][_0x4b1c("0x2a3")])}else console.info(esmap.ESInfo[_0x4b1c("0x289")])}},{key:_0x4b1c("0x2a8"),value:function(){this[_0x4b1c("0x2a9")](!1)}},{key:_0x4b1c("0x2a9"),value:function(x){var c=this[_0x4b1c("0xf0")];esmap.MapObjectUtils.changeColor(c,x)}},{key:_0x4b1c("0x2aa"),value:function(){var x=this.mapScene[_0x4b1c("0x3e")],c=this.o3d_.userData[_0x4b1c("0x2ab")];c&&(c.resume(),this.movePathController&&this.movePathController[_0x4b1c("0x2ac")]&&(null==y&&(y=x[_0x4b1c("0x266")][_0x4b1c("0x2ad")]),null==C&&(C=x[_0x4b1c("0x266")].minDistance),x[_0x4b1c("0x266")].maxDistance=this[_0x4b1c("0x2ae")][_0x4b1c("0x2af")],x[_0x4b1c("0x266")][_0x4b1c("0x2b0")]=this[_0x4b1c("0x2ae")][_0x4b1c("0x2b1")],x[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!1))}},{key:"pauseMovePath",value:function(){var x=this[_0x4b1c("0x1e1")].map,c=this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x2ab")];c&&(c.pause(),this[_0x4b1c("0x2ae")]&&this[_0x4b1c("0x2ae")][_0x4b1c("0x2ac")]&&(y&&(x[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=y,y=null),C&&(x[_0x4b1c("0x266")][_0x4b1c("0x2b0")]=C,C=null),x[_0x4b1c("0x25c")].enableMapPan||(x[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!0),this[_0x4b1c("0xf0")].userData.needRotateCamera=!1))}},{key:_0x4b1c("0x2b2"),value:function(){var x=!(arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0])||arguments[0],c=this;if(c._moveToID&&c[_0x4b1c("0x236")][_0x4b1c("0x19b")](),x&&(c[_0x4b1c("0x1e9")]=0),c[_0x4b1c("0xf0")]){var b=c[_0x4b1c("0x1e1")][_0x4b1c("0x3e")];this[_0x4b1c("0x2ae")]&&this[_0x4b1c("0x2ae")][_0x4b1c("0x2ac")]&&(y&&(b[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=y,y=null),C&&(b[_0x4b1c("0x266")][_0x4b1c("0x2b0")]=C,C=null),b[_0x4b1c("0x25c")][_0x4b1c("0x25d")]||(b[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!0),c[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x22b")]=!1),c[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x22a")]=null,this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x24a")]=!1,c[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x244")]&&(c[_0x4b1c("0xf0")].userData[_0x4b1c("0x244")][_0x4b1c("0x19b")](),c[_0x4b1c("0xf0")][_0x4b1c("0x165")].lastRotateAction=null),c[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x1fa")]&&c[_0x4b1c("0xf0")][_0x4b1c("0x165")].tweens[_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x19b")]()})),c[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x2ab")]&&(c[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x2ab")][_0x4b1c("0x19b")](),c[_0x4b1c("0xf0")].userData.movePathingTween=null),c.o3d_.userData[_0x4b1c("0x1fa")]=[],b[_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0x2b4")]()}}},{key:"fadeIn",value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{time:1},c=this[_0x4b1c("0xf0")],b=null==x[_0x4b1c("0x1a5")]?1:x[_0x4b1c("0x1a5")];c[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xf4")]){var c=x.material;if(c instanceof Array&&(c=x[_0x4b1c("0xf4")][0]),c[_0x4b1c("0x165")][_0x4b1c("0x2b5")]){c.userData[_0x4b1c("0x2b5")]=!1;var _=c[_0x4b1c("0x165")].opacity;new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(c).to({opacity:_},1e3*b)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")].Linear[_0x4b1c("0x246")]).onComplete((function(){c[_0x4b1c("0x145")]=c.userData[_0x4b1c("0x271")]})).start()}}}))}},{key:_0x4b1c("0x282"),value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{time:1},c=this[_0x4b1c("0xf0")],b=x[_0x4b1c("0x1a5")];c[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xf4")]){var c=x[_0x4b1c("0xf4")];c instanceof Array&&(c=x[_0x4b1c("0xf4")][0]),c.userData[_0x4b1c("0x2b5")]||(c[_0x4b1c("0x165")].faded=!0,!c.userData[_0x4b1c("0x1")]("opacity")&&(c.userData[_0x4b1c("0x129")]=c[_0x4b1c("0x129")]),!c.userData[_0x4b1c("0x1")](_0x4b1c("0x271"))&&(c[_0x4b1c("0x165")].istransparent=c[_0x4b1c("0x145")]),c[_0x4b1c("0x145")]=!0,new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(c).to({opacity:0},1e3*b)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")].Linear[_0x4b1c("0x246")])[_0x4b1c("0x1ac")]((function(){}))[_0x4b1c("0x1af")]())}}))}},{key:_0x4b1c("0x2b6"),value:function(x){var c=this,b=c[_0x4b1c("0x1e1")][_0x4b1c("0x3e")],_=new(THREE[_0x4b1c("0x128")])(0,1,0),e=_.clone(),t=c[_0x4b1c("0xf0")][_0x4b1c("0x22d")][_0x4b1c("0x13e")]();t[_0x4b1c("0x22e")](new(THREE[_0x4b1c("0x128")])),e.applyMatrix4(t);e.clone()[_0x4b1c("0x230")](_).y,_[_0x4b1c("0x231")](e);c[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x2b7")]||(c.o3d_.userData.rotated=!0);Math.PI;b.mapPicker[_0x4b1c("0x233")]?(c.paused=!0,this[_0x4b1c("0xf0")][_0x4b1c("0x165")].clock[_0x4b1c("0x1af")]()):c[_0x4b1c("0x2b8")]&&this.o3d_[_0x4b1c("0x165")][_0x4b1c("0x2b9")][_0x4b1c("0x2ba")]()>3&&(this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x2b9")][_0x4b1c("0x19b")](),c.paused=!1)}},{key:_0x4b1c("0x2bb"),value:function(x){var c=this[_0x4b1c("0x1e1")][_0x4b1c("0x3e")];c[_0x4b1c("0x232")][_0x4b1c("0x2bc")]||c.rotateTo(x)}},{key:_0x4b1c("0x2bd"),value:function(x,c){var b,e=this,n=(b=(0,i[_0x4b1c("0xc")])(t[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){var c;return t.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:c=d[_0x4b1c("0x2be")];case 1:if(!(c<E[_0x4b1c("0x0")])){x[_0x4b1c("0x286")]=9;break}return new(THREE[_0x4b1c("0x128")])(-E[c][_0x4b1c("0x2bf")].x,E[c][_0x4b1c("0x2bf")][_0x4b1c("0x158")]||0,E[c].from.y).y+=3,x[_0x4b1c("0x286")]=6,u(E[c],c,c==E.length-1);case 6:c++,x.next=1;break;case 9:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return b[_0x4b1c("0x4")](this,arguments)});x.followAngle||(x.followAngleRotate=!1);var s=this;if(x.followPosition&&null!=x[_0x4b1c("0x2c0")]&&(s[_0x4b1c("0x3e")][_0x4b1c("0x2c1")]=x[_0x4b1c("0x2c0")]),s._globalLayer&&s[_0x4b1c("0x247")].spanScale)for(var o=0,f=x.path[_0x4b1c("0x0")];o<f;o++)if(x[_0x4b1c("0x2c2")][o][_0x4b1c("0x158")]){var l=s[_0x4b1c("0x247")].checkHeightInFloor(x.path[o].offset,s[_0x4b1c("0x2c3")]);x[_0x4b1c("0x2c2")][o][_0x4b1c("0x158")]+=s._globalLayer[_0x4b1c("0x2c4")]*(l-1)}var d,u=function(x,c,b){return new(a[_0x4b1c("0xc")])((function(t){var i=d[_0x4b1c("0x28")];if(c==d.startPathIndex){var a=h[_0x4b1c("0x2c5")](x[_0x4b1c("0x2bf")],!0);s[_0x4b1c("0xf0")][_0x4b1c("0x105")].x=a.x,s[_0x4b1c("0xf0")][_0x4b1c("0x105")].z=a.z,s[_0x4b1c("0xf0")][_0x4b1c("0x105")].y=(x[_0x4b1c("0x2bf")].elevation||0)+i,d.followPosition&&(h[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")].City&&h.tileService[_0x4b1c("0x2c6")](),h.controls[_0x4b1c("0x2c7")][_0x4b1c("0x20b")](s[_0x4b1c("0xf0")][_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")]))))}var n=(x.to.elevation||0)+i,r=s[_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0x13e")](),o=h[_0x4b1c("0x2c5")](x.to,!0);o.y=n;var f=esmap.ESMapUtil.getRouteAngle(x[_0x4b1c("0x2bf")],x.to);if(d[_0x4b1c("0x23a")]){d[_0x4b1c("0x2c8")]||(o.y=r.y);var l=new(THREE[_0x4b1c("0x240")]);if(r.x!=o.x||r.z!=o.z){l[_0x4b1c("0x241")](o,r,e[_0x4b1c("0xf0")].up),l[_0x4b1c("0x209")]((new(THREE[_0x4b1c("0x240")])).makeRotationFromEuler(new(THREE[_0x4b1c("0x206")])(0,THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](d[_0x4b1c("0x258")]),0)));var u=(new(THREE[_0x4b1c("0x204")]))[_0x4b1c("0x243")](l);s[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x244")]&&s[_0x4b1c("0xf0")].userData.lastRotateAction.stop();var v=(new(THREE[_0x4b1c("0x204")])).copy(s.o3d_[_0x4b1c("0x20a")]),m=new THREE.Quaternion,A={value:0},y=void 0;if(y=x[_0x4b1c("0x1a5")]<.2?1e3*x[_0x4b1c("0x1a5")]:x.time<.5?200:x[_0x4b1c("0x1a5")]<.8?500:800,d[_0x4b1c("0x2c9")]&&0==c&&(y=0),s.o3d_.userData[_0x4b1c("0x244")]=new esmap.TWEEN.Tween(A).to({value:1},y*d[_0x4b1c("0x2ca")])[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")][_0x4b1c("0x246")])[_0x4b1c("0x174")]((function(x,c){THREE[_0x4b1c("0x204")][_0x4b1c("0x22c")](v,u,m,A[_0x4b1c("0x13a")]),s[_0x4b1c("0xf0")][_0x4b1c("0x20a")][_0x4b1c("0xdb")](m.x,m.y,m.z,m.w)}))[_0x4b1c("0x1ac")]((function(){}))[_0x4b1c("0x1af")](),d.followAngle&&!d[_0x4b1c("0x2cb")]){var C=y/1e3*d.followSmooth;s[_0x4b1c("0x2bb")]({angle:f,time:C})}}}else if(null!=x[_0x4b1c("0x2cc")]&&null!=x.fromAngle)if(r.y!=o.y){var I=new(THREE[_0x4b1c("0x240")]);I[_0x4b1c("0x241")](o,r,e[_0x4b1c("0xf0")].up),I[_0x4b1c("0x209")]((new THREE.Matrix4)[_0x4b1c("0x242")](new(THREE[_0x4b1c("0x206")])(0,THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](0),0))),s.o3d_[_0x4b1c("0x165")].toRot=(new(THREE[_0x4b1c("0x204")]))[_0x4b1c("0x243")](I)}else s[_0x4b1c("0x254")]({angle:x[_0x4b1c("0x2cc")],time:1e3*x.time});h[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x13e")]();var E=h[_0x4b1c("0x2c5")](x.to,!0),k=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(s.o3d_[_0x4b1c("0x105")]).to({x:E.x,z:E.z,y:n},1e3*x[_0x4b1c("0x1a5")]).easing(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")].Linear[_0x4b1c("0x246")])[_0x4b1c("0x174")]((function(x,b,e){var t=s[_0x4b1c("0xf0")].getWorldPosition(new THREE.Vector3);if(d.followPosition){if(g&&(g[_0x4b1c("0x13e")](),g=null),s[_0x4b1c("0x3e")].mode==esmap[_0x4b1c("0x41")].City){var a=s[_0x4b1c("0x1ea")][_0x4b1c("0x2ba")](),n=s[_0x4b1c("0x3e")][_0x4b1c("0x2b3")].tileBaseFrozen;a>=3&&n&&s[_0x4b1c("0x3e")].tileService[_0x4b1c("0x2b4")](),a>=4&&!n&&(s._clockMovePath.start(),s[_0x4b1c("0x3e")][_0x4b1c("0x2b3")].disableTileBaseMap()),h.updateTileView()}h[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x20b")](t),d[_0x4b1c("0x260")]&&d[_0x4b1c("0x2cb")]?h.controls[_0x4b1c("0x164")]():h[_0x4b1c("0x266")][_0x4b1c("0x164")]({forceTheta:h[_0x4b1c("0x266")][_0x4b1c("0x2ce")](),forcePhi:h.controls[_0x4b1c("0x2cf")]()})}var r={x:s.o3d_[_0x4b1c("0x105")].x,y:s[_0x4b1c("0xf0")].position.z},o=h[_0x4b1c("0x2d0")]({x:r.x,z:r.y,y:0}),f=function(x,c){for(var b=x[_0x4b1c("0x2cd")],_=0,e=p[_0x4b1c("0x0")]-1;e>b;e--)if(e-1>b){var t=p[e],a=p[e-1],n=t[_0x4b1c("0x158")]||0,r=a.offset||0,s=h._coordMapSceneToThree({x:t.x,y:t.y,z:n+i}),o=h[_0x4b1c("0x2c5")]({x:a.x,y:a.y,z:r+i});_+=s[_0x4b1c("0x124")](o)}var f=p[x.index+1],l=f[_0x4b1c("0x158")]||0,d=h[_0x4b1c("0x2c5")]({x:f.x,y:f.y,z:l+i});return _+c.distanceTo(d)}({x:o.x,y:o.y,index:c},x.clone()),l=h.coordThreeToMap({x:r.x,z:r.y,y:0}),u={x:l.x,y:l.y,z:s[_0x4b1c("0xf0")][_0x4b1c("0x105")].y,index:c},v=(w-f)/w;d[_0x4b1c("0x2d1")]&&d.onMoving({position:u,progress:v,angle:d[_0x4b1c("0x258")],loopDirection:T}),_||(_=setTimeout((function(){s[_0x4b1c("0x26b")]&&(s.mapScene[_0x4b1c("0x3e")][_0x4b1c("0x26c")]=!0,s[_0x4b1c("0x26b")].queueRanked=!1,s.modelLoadManager[_0x4b1c("0x26e")]=!1,window[_0x4b1c("0x26f")](_),_=null)}),800)),s[_0x4b1c("0x247")]&&s[_0x4b1c("0x247")][_0x4b1c("0x248")](s)}))[_0x4b1c("0x1ac")]((function(){b&&d[_0x4b1c("0x28b")]&&d[_0x4b1c("0x2d2")]&&d[_0x4b1c("0x2d2")](s),t()}))[_0x4b1c("0x1af")]();s[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x1fa")]&&s[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x1fa")].push(k),s[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x2ab")]=k}))};s.stopMoving(!1);var h=s[_0x4b1c("0x1e1")][_0x4b1c("0x3e")];if(c)(d=x)[_0x4b1c("0x2be")]=0;else{var g=null;(d={time:1,loop:!1,loopReverse:!1,complete:null,orientToPath:!0,angle:0,followTilt:!0,followAngleRotate:!0,followAngle:!1,followSmooth:1,rotateSmooth:1,viewTiltAngle:null,startPathIndex:0,onMoving:null,maxViewDistance:300,minViewDistance:10,rotateOnStart:!1,offsetHeight:0,speed:null,path:[]}).fp_=!1,Object[_0x4b1c("0x7")](d,_0x4b1c("0x2ac"),{get:function(){return this[_0x4b1c("0x2d3")]},set:function(x){if(s[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x24a")]){var c=s[_0x4b1c("0xf0")][_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")]));h[_0x4b1c("0x266")].target.copy(c),g=h[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x13e")]()}x?(null==y&&(y=h.controls[_0x4b1c("0x2ad")]),null==C&&(C=h[_0x4b1c("0x266")][_0x4b1c("0x2b0")]),h[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=d.maxViewDistance,h[_0x4b1c("0x266")].minDistance=d[_0x4b1c("0x2b1")],h.gestureController.enableMapPan=!1):this[_0x4b1c("0x2d3")]&&(y&&(h[_0x4b1c("0x266")].maxDistance=y,y=null),C&&(h.controls.minDistance=C,C=null),h[_0x4b1c("0x25c")][_0x4b1c("0x25d")]||(h[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!0)),this[_0x4b1c("0x2d3")]=x}}),(0,r[_0x4b1c("0xc")])(d,{followPosition:!1},x)}var v=d[_0x4b1c("0x2c2")],p=[];if(0!=v[_0x4b1c("0x0")]){for(var m=0;m<v[_0x4b1c("0x0")];m++){var A=v[m],I=h[_0x4b1c("0x1b5")]({from:h.options.userCrs,to:h[_0x4b1c("0x2d4")],coord:A});p[m]=I}if(1!=p.length){var E=[],w=0,T=s[_0x4b1c("0x1e9")]%2;s[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x22a")]=null,d[_0x4b1c("0x2ac")]&&(null==y&&(y=h.controls[_0x4b1c("0x2ad")]),null==C&&(C=h[_0x4b1c("0x266")][_0x4b1c("0x2b0")]),h[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=d[_0x4b1c("0x2af")],h[_0x4b1c("0x266")][_0x4b1c("0x2b0")]=d[_0x4b1c("0x2b1")],h[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!1),d[_0x4b1c("0x2d5")]&&d[_0x4b1c("0x2d5")]();for(var k=0;k<p.length;k++){var S=p[k];if(S[_0x4b1c("0x12b")]||(S[_0x4b1c("0x12b")]=h.id),p[k][_0x4b1c("0x158")]=1*p[k][_0x4b1c("0x158")]||0,p[k][_0x4b1c("0x2d6")]=p[k][_0x4b1c("0x158")],this[_0x4b1c("0x210")]&&S[_0x4b1c("0x12b")]&&S[_0x4b1c("0x12e")]&&h[_0x4b1c("0x136")](S[_0x4b1c("0x12b")])&&this[_0x4b1c("0x210")]!=S.fnum){var M=h.getBuildingById(S[_0x4b1c("0x12b")])[_0x4b1c("0x2d7")](this[_0x4b1c("0x210")]),R=h[_0x4b1c("0x136")](S[_0x4b1c("0x12b")])[_0x4b1c("0x2d7")](S.fnum);p[k][_0x4b1c("0x2d6")]+=R-M}}for(var L=0;L<p[_0x4b1c("0x0")]-1;L++)if(p[L+1]){var H=h[_0x4b1c("0x238")](p[L]),D=h[_0x4b1c("0x238")](p[L+1]),O=H[_0x4b1c("0x124")](D);w+=O,p[L]&&E.push({distance:O,fnum:p[L][_0x4b1c("0x12e")]||1,from:p[L],fromAngle:p[L][_0x4b1c("0x1")]("angle")?p[L][_0x4b1c("0x258")]:null,to:p[L+1],toAngle:p[L+1].hasOwnProperty(_0x4b1c("0x258"))?p[L+1][_0x4b1c("0x258")]:null})}if(d[_0x4b1c("0x2d8")]&&(d[_0x4b1c("0x1a5")]=w/(1.62*d[_0x4b1c("0x2d8")])),!isNaN(d[_0x4b1c("0x1a5")]))return E[_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x1a5")]=0==x[_0x4b1c("0x23c")]?0:x.distance/w*d[_0x4b1c("0x1a5")]})),s[_0x4b1c("0xf0")][_0x4b1c("0x165")].movePathing=!0,s[_0x4b1c("0x2ae")]=d,n().then((function(){d[_0x4b1c("0x28b")]?(d[_0x4b1c("0x2be")]=0,d.loopReverse&&(s[_0x4b1c("0x1e9")]++,d.path[_0x4b1c("0x2d9")]()),s[_0x4b1c("0x2bd")](d,!0)):(s.o3d_[_0x4b1c("0x165")][_0x4b1c("0x24a")]=!1,s.o3d_[_0x4b1c("0x165")][_0x4b1c("0x22a")]=null,s.o3d_.userData[_0x4b1c("0x22b")]=!1,h.mapService.tileService.enableTileBaseMap(),d[_0x4b1c("0x2d2")]&&d[_0x4b1c("0x2d2")](s),y&&(h.controls[_0x4b1c("0x2ad")]=y,y=null),C&&(h.controls[_0x4b1c("0x2b0")]=C,C=null),h[_0x4b1c("0x25c")][_0x4b1c("0x25d")]||(h[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!0))})),d;console[_0x4b1c("0xe3")]("time is NaN!")}else{var P=h[_0x4b1c("0x2c5")](p[0],!0);if(s[_0x4b1c("0xf0")][_0x4b1c("0x105")].x=P.x,s[_0x4b1c("0xf0")].position.z=P.z,s.o3d_[_0x4b1c("0x105")].y=(1*p[0][_0x4b1c("0x158")]||0)+d[_0x4b1c("0x28")],d[_0x4b1c("0x2d1")]){var N={x:s[_0x4b1c("0xf0")].position.x,y:s[_0x4b1c("0xf0")][_0x4b1c("0x105")].z},F=h[_0x4b1c("0x20d")]({x:N.x,z:N.y,y:0}),B={x:F.x,y:F.y,index:0};d.onMoving({position:B,progress:1,angle:0,loopDirection:0})}d[_0x4b1c("0x2d2")]&&d[_0x4b1c("0x2d2")](this)}}}},{key:_0x4b1c("0x2da"),value:function(){var x=this;if(!this.animating){var c,b=this[_0x4b1c("0x267")];this.status?(c=b[_0x4b1c("0x2db")]((function(x){return x[_0x4b1c("0x114")]("close")>-1})))[_0x4b1c("0x0")]>0&&this[_0x4b1c("0x269")]({name:c[0],stopLastAction:!0,callback:function(){x[_0x4b1c("0x2dc")]=0}}):(c=b[_0x4b1c("0x2db")]((function(x){return x[_0x4b1c("0x114")](_0x4b1c("0x2dd"))>-1})))[_0x4b1c("0x0")]>0&&this[_0x4b1c("0x269")]({name:c[0],stopLastAction:!0,callback:function(){x[_0x4b1c("0x2dc")]=1}})}}},{key:"getChildPosition",value:function(x,c){var b=this;setTimeout((function(){var _=b.o3d_[_0x4b1c("0x225")](x);if(_){var e=_[_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")]));e={x:-b[_0x4b1c("0x102")][_0x4b1c("0x2de")]-e.x,y:e.z+b.scene[_0x4b1c("0x2df")]},c&&c(e)}else c&&c(null)}),10)}},{key:_0x4b1c("0x2e0"),value:function(x){return this[_0x4b1c("0xf0")].getChildByName(x)}},{key:_0x4b1c("0x2e1"),value:function(){this[_0x4b1c("0x1f0")][_0x4b1c("0xdd")](this)}},{key:_0x4b1c("0x2e2"),value:function(x){var c=this;if(!(x<0||x>2)&&x!==this[_0x4b1c("0x1ef")]){0==x&&(x="");var b=this[_0x4b1c("0x2e3")]+_0x4b1c("0x2e4")+x+_0x4b1c("0x82"),_=this[_0x4b1c("0x3e")].mapService.modelStore[b];if(_){this[_0x4b1c("0x1ff")][_0x4b1c("0x108")].remove(this[_0x4b1c("0x1ff")]);var e=_[_0x4b1c("0x2e5")][_0x4b1c("0x102")].clone(!0);(new THREE.Box3)[_0x4b1c("0x2e6")](e)[_0x4b1c("0x2e7")](e[_0x4b1c("0x105")]),e[_0x4b1c("0x105")][_0x4b1c("0x253")](-1),this[_0x4b1c("0x1ff")]=e,this[_0x4b1c("0xf0")].add(e),this[_0x4b1c("0x1ef")]=x}else{var t=this.model[_0x4b1c("0x14c")](".gltf",""),i=this[_0x4b1c("0x2e3")]+_0x4b1c("0x2e4")+x,a=this[_0x4b1c("0x4e")][_0x4b1c("0x2e8")](t,i);this[_0x4b1c("0x26b")].loadingList[b]||this[_0x4b1c("0x26b")][_0x4b1c("0x2e9")](b,a,(function(b){c[_0x4b1c("0x1ff")][_0x4b1c("0x108")][_0x4b1c("0x2ea")](c[_0x4b1c("0x1ff")]),c[_0x4b1c("0x1ff")]=null;var _=b[_0x4b1c("0x102")].clone(!0);(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](_)[_0x4b1c("0x2e7")](_[_0x4b1c("0x105")]),_[_0x4b1c("0x105")].multiplyScalar(-1),c[_0x4b1c("0x1ff")]=_,c[_0x4b1c("0xf0")][_0x4b1c("0xdd")](_),c[_0x4b1c("0x1ef")]=x}))}}}},{key:_0x4b1c("0x2ec"),value:function(x,c){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_=esmap[_0x4b1c("0x32")].instance,e=new(THREE[_0x4b1c("0x2ed")])(.5,.5,.5),t=_0x4b1c("0x2ee")+c;this[t]||(this[t]=new(THREE[_0x4b1c("0x144")])({color:c}));var i=new(THREE[_0x4b1c("0x197")])(e,this[t]),a=x.clone();a.y+=b,i.position[_0x4b1c("0x20b")](a),_[_0x4b1c("0x1c3")][_0x4b1c("0x102")][_0x4b1c("0xdd")](i)}},{key:_0x4b1c("0x2ef"),value:(b=(0,i[_0x4b1c("0xc")])(t[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b,_,e,i,n,r,s,o,f,l,d,u,h,g,v,A,y,C,I,E,w,T,k,S,M,R,L,H,D=this;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:if(b=this,_=esmap[_0x4b1c("0x32")].instance,e=this[_0x4b1c("0xf0")],i=_[_0x4b1c("0x238")]({x:c.x,y:c.y}),n={x:i.x,z:i.z},r={x:e[_0x4b1c("0x105")].x,z:e[_0x4b1c("0x105")].z},s=null==c[_0x4b1c("0x1a5")]?1:c[_0x4b1c("0x1a5")],c.orientToPath=null==c[_0x4b1c("0x23a")]||c.orientToPath,o=null==c.raycastTime?0:c[_0x4b1c("0x2f0")],f=c[_0x4b1c("0x158")]||0,l=c[_0x4b1c("0x2d2")],d=c[_0x4b1c("0x255")],u=!c[_0x4b1c("0x1")]("raycast")||c.raycast,h=c[_0x4b1c("0x258")]||0,g=c.onMoving,v=c[_0x4b1c("0x2f1")]||100,A=c[_0x4b1c("0x2f2")]||null,y=c[_0x4b1c("0x219")]||null,C=null,I=[],E=(e[_0x4b1c("0x165")][_0x4b1c("0x2f3")][_0x4b1c("0x2f4")][_0x4b1c("0x2f5")].y-e[_0x4b1c("0x165")][_0x4b1c("0x2f3")][_0x4b1c("0x2f4")][_0x4b1c("0x2f6")].y)/2+f,w=function(){return new(a[_0x4b1c("0xc")])((function(x){var c=void 0;0==o?(I[_0x4b1c("0x12")](e[_0x4b1c("0x105")][_0x4b1c("0x13e")]()),(c=T.intersectByCoord(n)[0][_0x4b1c("0x2f7")])||(c=new(THREE[_0x4b1c("0x128")])(n.x,e[_0x4b1c("0x105")].y-E,n.z)),c.y+=E,I[_0x4b1c("0x12")](c[_0x4b1c("0x13e")]()),x()):new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(r).to(n,1e3*o)[_0x4b1c("0x1a8")](esmap.TWEEN.Easing[_0x4b1c("0x245")][_0x4b1c("0x246")])[_0x4b1c("0x174")]((function(x,b,_){if((c=T[_0x4b1c("0x2f8")](x)[0][_0x4b1c("0x2f7")])||(c=new(THREE[_0x4b1c("0x128")])(x.x,e[_0x4b1c("0x105")].y-E,x.z)),C){var t=(0,p[_0x4b1c("0x11d")])({x:C.x,y:C.z},{x:c.x,y:c.z}),i=c.y-C.y>0?1:-1;Math.atan(Math.abs(c.y-C.y)/t)>Math.PI/6&&(c.y=i*Math[_0x4b1c("0x2f9")](Math.PI/6)*t+C.y)}C=c.clone(),c.y+=E,I.push(c.clone())}))[_0x4b1c("0x1ac")](x)[_0x4b1c("0x1af")]()}))},this[_0x4b1c("0x2fa")]||(this.rayPoint=new m.default({depth:v,inverse:!1,typeID:A,dataID:y,debug:d}),this[_0x4b1c("0xf0")][_0x4b1c("0x103")]((function(x){"Mesh"==x.type&&(D[_0x4b1c("0x2fb")][_0x4b1c("0x2fc")][x[_0x4b1c("0x195")]]=!0)})),this[_0x4b1c("0x2fb")][_0x4b1c("0x2fc")][this.o3d_[_0x4b1c("0x195")]]=!0),T=this[_0x4b1c("0x2fb")],!u){x[_0x4b1c("0x286")]=29;break}return x[_0x4b1c("0x286")]=27,w();case 27:x[_0x4b1c("0x286")]=32;break;case 29:I[_0x4b1c("0x12")](e[_0x4b1c("0x105")].clone()),i.y=e[_0x4b1c("0x105")].y,I[_0x4b1c("0x12")](i.clone());case 32:for(k=I,S=[],M=0,R=0;R<k[_0x4b1c("0x0")];R++)0==R||R==k.length-1?(d&&b.addTestCube(k[R],65280,0),L=_[_0x4b1c("0x20d")](k[R]),S[_0x4b1c("0x12")]({x:L.x,y:L.y,offset:k[R].y})):M>-1?(d&&b[_0x4b1c("0x2ec")](k[R],65280,0),H=_[_0x4b1c("0x20d")](k[R]),S.push({x:H.x,y:H.y,offset:k[R].y}),M=0):M++;this[_0x4b1c("0x2bd")]({followPosition:c[_0x4b1c("0x2ac")]||!1,path:S,time:s-o,maxViewDistance:c.maxViewDistance||200,minViewDistance:c[_0x4b1c("0x2b1")]||10,angle:h,orientToPath:c[_0x4b1c("0x23a")],followTilt:c[_0x4b1c("0x2c8")],complete:l,onMoving:g});case 38:case"end":return x.stop()}}),x,this)}))),function(x){return b[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x2fd"),value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{},c=this.o3d_;if(!1===x&&(x={threshold:0}),x=(0,r[_0x4b1c("0xc")])({threshold:1,x:!0,y:!0,z:!0,time:1},x),!this[_0x4b1c("0x2fe")]){var b=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](c)[_0x4b1c("0x2e7")](new THREE.Vector3);c[_0x4b1c("0x103")]((function(x){x[_0x4b1c("0x78")]==_0x4b1c("0x197")&&(x[_0x4b1c("0x165")][_0x4b1c("0x2ff")]||(x.userData.distanceToCenter=x[_0x4b1c("0x105")][_0x4b1c("0x124")](b),x.userData.originalPosition=x.position[_0x4b1c("0x13e")]()))})),this._explodeProcessed=!0,this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x300")]=b}this._explodeTweens[_0x4b1c("0x1c")]((function(x){return x[_0x4b1c("0x19b")]()})),this._explodeTweens=[];var _=[],e=this[_0x4b1c("0xf0")].userData[_0x4b1c("0x300")];this.o3d_[_0x4b1c("0x103")]((function(c){if("Mesh"==c[_0x4b1c("0x78")]){var b=c[_0x4b1c("0x165")].originalPosition[_0x4b1c("0x13e")]().sub(e)[_0x4b1c("0x301")]();x.x||(b.x=0),x.y||(b.z=0),x.z||(b.y=0);var t=b[_0x4b1c("0x253")](c[_0x4b1c("0x165")][_0x4b1c("0x2ff")]*x.threshold),i=c.userData[_0x4b1c("0x302")][_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](t);_.push({object:c,targetPosition:i})}}));for(var t=0;t<_.length;t++){var i=_[t],a=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(i[_0x4b1c("0x1d")][_0x4b1c("0x105")]).to(i[_0x4b1c("0x303")],1e3*x[_0x4b1c("0x1a5")])[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ae")]).start();this._explodeTweens[_0x4b1c("0x12")](a)}}},{key:"modelLoadManager",get:function(){var x=this[_0x4b1c("0x1e1")].map,c=x[_0x4b1c("0x136")](this[_0x4b1c("0x12b")]);return c||(c=x[_0x4b1c("0x218")](this[_0x4b1c("0x12b")])),c&&c[_0x4b1c("0x26b")]}},{key:_0x4b1c("0x191"),set:function(x){this[_0x4b1c("0x1ff")]?this[_0x4b1c("0x1ff")].visible=x:(this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=x,this._props.visibleLock=!x)},get:function(){return this[_0x4b1c("0x1ff")]?this[_0x4b1c("0x1ff")].visible:this[_0x4b1c("0xf0")][_0x4b1c("0x191")]}},{key:"showLevel",set:function(x){null!==x&&(this[_0x4b1c("0x1e3")][_0x4b1c("0x1e4")]=x,Array.isArray(x)?(this[_0x4b1c("0x1e3")][_0x4b1c("0x304")]=Math[_0x4b1c("0x2f6")].apply(Math,(0,e.default)(x)),this[_0x4b1c("0x1e3")][_0x4b1c("0x21f")]=Math[_0x4b1c("0x2f5")].apply(Math,(0,e[_0x4b1c("0xc")])(x))):this[_0x4b1c("0x1e3")][_0x4b1c("0x21f")]=x)},get:function(){return this[_0x4b1c("0x1e3")][_0x4b1c("0x1e4")]}},{key:_0x4b1c("0x21d"),set:function(x){this[_0x4b1c("0x1f2")]=x},get:function(){return this[_0x4b1c("0x1f2")]?this[_0x4b1c("0x1f2")]:(0,d[_0x4b1c("0xc")])(c.prototype[_0x4b1c("0x1de")]||(0,s[_0x4b1c("0xc")])(c.prototype),"mapCoord",this)}},{key:_0x4b1c("0x305"),get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x105")].y}},{key:_0x4b1c("0x258"),get:function(){var x=new(THREE[_0x4b1c("0x128")])(1,0,0),c=x[_0x4b1c("0x13e")](),b=this[_0x4b1c("0xf0")].matrix[_0x4b1c("0x13e")]();b.setPosition(new(THREE[_0x4b1c("0x128")])),c[_0x4b1c("0x22f")](b);var _=(_=c[_0x4b1c("0x13e")]()[_0x4b1c("0x230")](x)).y<0?-1:1,e=x.angleTo(c),t=THREE[_0x4b1c("0x215")].radToDeg(e*_);return t=t>0?360-t:-t}},{key:"renderOrder",get:function(){return this[_0x4b1c("0xf0")].renderOrder},set:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x172")]=x,this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x172")]=x,this.o3d_[_0x4b1c("0x103")]((function(c){c.hasOwnProperty("renderOrder")&&(c[_0x4b1c("0x172")]=x)}))}}]),c}(h[_0x4b1c("0xc")]);c[_0x4b1c("0xc")]=I},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0}),c[_0x4b1c("0x306")]=void 0;var _,e=b(33);var t={opc:new(((_=e)&&_[_0x4b1c("0xb")]?_:{default:_})[_0x4b1c("0xc")]),sl:!0};c.useGlobalStore=function(){return{state:t}}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=f(b(7)),e=f(b(8)),t=f(b(5)),i=f(b(0)),a=f(b(1)),n=f(b(10)),r=f(b(11)),s=f(b(82)),o=f(b(346));function f(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var l=function(x){function c(x,b){(0,i.default)(this,c);var _=new(o[_0x4b1c("0xc")]);return(0,n[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,t[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this,x,b,_))}var b,s,f;return(0,r[_0x4b1c("0xc")])(c,x),(0,a[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x307"),value:(f=(0,e[_0x4b1c("0xc")])(_[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){return _[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return x.next=2,this[_0x4b1c("0xf0")][_0x4b1c("0x307")](c);case 2:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return f[_0x4b1c("0x4")](this,arguments)})},{key:"glow",value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x308")](x)}},{key:"stopGlow",value:function(){this[_0x4b1c("0xf0")].stopGlow()}},{key:"glowPlane",value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x309")](x)}},{key:_0x4b1c("0x30a"),value:function(){this[_0x4b1c("0xf0")][_0x4b1c("0x30a")]()}},{key:_0x4b1c("0x249"),value:function(x){this[_0x4b1c("0xf0")].jump(x)}},{key:_0x4b1c("0x24c"),value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x24c")](x)}},{key:_0x4b1c("0x24d"),value:function(){this[_0x4b1c("0xf0")][_0x4b1c("0x24d")]()}},{key:_0x4b1c("0x24b"),value:function(){this.o3d_[_0x4b1c("0x24b")]()}},{key:_0x4b1c("0x30b"),value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x30b")](x)}},{key:"setScale",value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x252")](x)}},{key:_0x4b1c("0x30c"),value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x30c")](x)}},{key:_0x4b1c("0x30d"),value:function(x){this.o3d_[_0x4b1c("0x30d")](x)}},{key:_0x4b1c("0x30e"),value:function(x){}},{key:"updateTextStyle",value:(s=(0,e[_0x4b1c("0xc")])(_[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){return _[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x.next){case 0:return x[_0x4b1c("0x286")]=2,this[_0x4b1c("0xf0")][_0x4b1c("0x30f")](c);case 2:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return s.apply(this,arguments)})},{key:_0x4b1c("0x310"),value:(b=(0,e[_0x4b1c("0xc")])(_[_0x4b1c("0xc")].mark((function x(c){return _[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return x[_0x4b1c("0x286")]=2,this[_0x4b1c("0xf0")][_0x4b1c("0x310")](c);case 2:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return b[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x311"),value:function(){this.o3d_[_0x4b1c("0x311")]()}},{key:_0x4b1c("0xf3"),value:function(){this[_0x4b1c("0xf0")][_0x4b1c("0xf3")]()}},{key:_0x4b1c("0x191"),set:function(x){this.o3d_[_0x4b1c("0x312")]=x,this._props.visibleLock=!x,this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=x,this.o3d_.dispatchEvent({type:_0x4b1c("0x313")})},get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x191")]}},{key:"scale",set:function(x){this[_0x4b1c("0x252")](x)},get:function(){return this.o3d_[_0x4b1c("0x314")]}},{key:_0x4b1c("0xe0"),get:function(){return{w:this[_0x4b1c("0xf0")].width_,h:this[_0x4b1c("0xf0")][_0x4b1c("0x315")]}},set:function(x){this.setSize(x)}},{key:_0x4b1c("0x316"),set:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x316")]=x},get:function(){return this.o3d_[_0x4b1c("0x316")]}},{key:_0x4b1c("0x4e"),set:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x316")]=x},get:function(){return this[_0x4b1c("0xf0")].image}},{key:_0x4b1c("0x317"),set:function(x){this[_0x4b1c("0xf0")].text=x},get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x317")]}},{key:_0x4b1c("0x16c"),set:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x16d")]=!x}}]),c}(s[_0x4b1c("0xc")]);c[_0x4b1c("0xc")]=l},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=h(b(22)),e=h(b(2)),t=h(b(7)),i=h(b(8)),a=h(b(9)),n=h(b(5)),r=h(b(0)),s=h(b(1)),o=h(b(10)),f=h(b(11)),l=b(4),d=b(65),u=b(19);function h(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var g=null,v=null,p=function(x){function c(){(0,r[_0x4b1c("0xc")])(this,c);var x=(0,o.default)(this,(c[_0x4b1c("0x1de")]||(0,n[_0x4b1c("0xc")])(c))[_0x4b1c("0x4")](this,arguments));return x[_0x4b1c("0x1e9")]=0,x._animateState={},x[_0x4b1c("0x1e3")]={showLevel:null,minShowLevel:null,maxShowLevel:null,visibleLock:!1,isCityMode:!1,eventId:(0,u.createHash)(8)},x._clockMovePath=new(THREE[_0x4b1c("0x1eb")]),x[_0x4b1c("0x318")]=null,x.bindEvents(),x}return(0,f[_0x4b1c("0xc")])(c,x),(0,s[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x211"),value:function(){var x=this;this[_0x4b1c("0x1e3")][_0x4b1c("0x319")]=this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]===esmap.MapMode[_0x4b1c("0x42")];var c=function(c){var b=c,_=x[_0x4b1c("0x1e3")],e=_[_0x4b1c("0x304")],t=_.maxShowLevel,i=_[_0x4b1c("0x319")],a=_[_0x4b1c("0x220")];if(null!==x[_0x4b1c("0x1e4")]&&!a){var n=x[_0x4b1c("0xf0")],r=x.o3d_[_0x4b1c("0x78")]==_0x4b1c("0x27d"),s=x.map.options[_0x4b1c("0x31a")];if(i||!s)if(null!=e&&null!=t){if(b<e||b>t)return n.visible=!1,void(n[_0x4b1c("0x165")][_0x4b1c("0x221")]=!0);r?n[_0x4b1c("0x165")].collidePass&&(n.visible=!0):n[_0x4b1c("0x191")]=!0,n.userData[_0x4b1c("0x221")]=!1}else null!=t&&null===e&&(b<t?(n.visible=!1,n.userData[_0x4b1c("0x221")]=!0):(r?n[_0x4b1c("0x165")].collidePass&&(n[_0x4b1c("0x191")]=!0):n[_0x4b1c("0x191")]=!0,n.userData.outoflevel=!1));else{if(b=x[_0x4b1c("0x3e")][_0x4b1c("0x222")],null!=e&&b<e)return n.visible=!1,void(n.userData.outoflevel=!0);b>t?(n[_0x4b1c("0x191")]=!1,n.userData.outoflevel=!0):(r?n[_0x4b1c("0x165")][_0x4b1c("0x31b")]&&(n.visible=!0):n[_0x4b1c("0x191")]=!0,n[_0x4b1c("0x165")][_0x4b1c("0x221")]=!1)}}};this[_0x4b1c("0x3e")].on("zoomed",c,null,this[_0x4b1c("0x1e3")].eventId),this[_0x4b1c("0xf0")][_0x4b1c("0x37")](_0x4b1c("0x31c"),(function(){c(x[_0x4b1c("0x3e")].zoomLevel)})),this.o3d_[_0x4b1c("0x37")](_0x4b1c("0x313"),(function(){c(x[_0x4b1c("0x3e")][_0x4b1c("0x31d")])}))}},{key:"setHeight",value:function(x){this[_0x4b1c("0xf0")].position.y=x}},{key:"dispose",value:function(){this.map[_0x4b1c("0x232")][_0x4b1c("0x194")](this[_0x4b1c("0xf0")][_0x4b1c("0x195")]),this[_0x4b1c("0x3e")][_0x4b1c("0x31e")](this[_0x4b1c("0x1e3")][_0x4b1c("0x31f")]),this[_0x4b1c("0xf0")][_0x4b1c("0x103")]((function(x){x[_0x4b1c("0xf4")]&&x[_0x4b1c("0xf4")][_0x4b1c("0xf3")](),x[_0x4b1c("0xf2")]&&x.geometry.dispose()})),this[_0x4b1c("0xf0")][_0x4b1c("0x108")].remove(this[_0x4b1c("0xf0")])}},{key:"setAlpha",value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};isNaN(x)||(x={value:x}),esmap[_0x4b1c("0x87")][_0x4b1c("0x272")]({target:this[_0x4b1c("0xf0")],alpha:x[_0x4b1c("0x13a")]||x[_0x4b1c("0x273")],time:x.time})}},{key:_0x4b1c("0x2bd"),value:function(x,c){var b,_,n=(b=(0,i[_0x4b1c("0xc")])(t[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){var c;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x.next){case 0:c=_.startPathIndex;case 1:if(!(c<m.length)){x.next=9;break}return new THREE.Vector3(-m[c][_0x4b1c("0x2bf")].x,m[c][_0x4b1c("0x2bf")][_0x4b1c("0x158")]||0,m[c][_0x4b1c("0x2bf")].y).y+=3,x[_0x4b1c("0x286")]=6,s(m[c],c,c==m.length-1);case 6:c++,x[_0x4b1c("0x286")]=1;break;case 9:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return b.apply(this,arguments)}),r=this,s=function(x,c,b){return new(a[_0x4b1c("0xc")])((function(e){var t=_[_0x4b1c("0x28")];if(c==_[_0x4b1c("0x2be")]){var i=o[_0x4b1c("0x2c5")](x.from,!0);r.o3d_.position.x=i.x,r[_0x4b1c("0xf0")][_0x4b1c("0x105")].z=i.z,r[_0x4b1c("0xf0")].position.y=(x[_0x4b1c("0x2bf")][_0x4b1c("0x2d6")]||0)+t,_[_0x4b1c("0x2ac")]&&(o[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&o[_0x4b1c("0x2b3")].disableTileBaseMap(),o[_0x4b1c("0x266")][_0x4b1c("0x2c7")].copy(r[_0x4b1c("0xf0")][_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")]))))}var a=(x.to[_0x4b1c("0x2d6")]||0)+t,n=r.o3d_.position[_0x4b1c("0x13e")](),s=o._coordMapSceneToThree(x.to,!0);s.y=a;var l,u,h=esmap.ESMapUtil[_0x4b1c("0x239")](x.from,x.to);if(_[_0x4b1c("0x23a")]&&(_[_0x4b1c("0x2c8")]||(s.y=n.y),n.x!=s.x||n.z!=s.z)){var g=void 0;if(g=x[_0x4b1c("0x1a5")]<.2?1e3*x[_0x4b1c("0x1a5")]:x[_0x4b1c("0x1a5")]<.5?200:x[_0x4b1c("0x1a5")]<.8?500:800,_.followAngle){var v=g/1e3*_.followSmooth;l={angle:h,time:v},(u=window.esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")])[_0x4b1c("0x232")][_0x4b1c("0x2bc")]||u.rotateTo(l)}}o.controls.target[_0x4b1c("0x13e")]();var p=o[_0x4b1c("0x2c5")](x.to,!0),m=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(r[_0x4b1c("0xf0")].position).to({x:p.x,z:p.z,y:a},1e3*x[_0x4b1c("0x1a5")])[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")][_0x4b1c("0x246")])[_0x4b1c("0x174")]((function(x,b,e){var i=r[_0x4b1c("0xf0")][_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")]));if(_[_0x4b1c("0x2ac")]){if(f&&(f[_0x4b1c("0x13e")](),f=null),r.map[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]){var a=r[_0x4b1c("0x1ea")][_0x4b1c("0x2ba")](),n=r[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0x320")];a>=3&&n&&r[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0x2b4")](),a>=4&&!n&&(r[_0x4b1c("0x1ea")][_0x4b1c("0x1af")](),r[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0x2c6")]()),o[_0x4b1c("0x321")]()}o.controls[_0x4b1c("0x2c7")].copy(i),_[_0x4b1c("0x260")]&&_.followAngleRotate||o.controls[_0x4b1c("0x164")]({forceTheta:o[_0x4b1c("0x266")][_0x4b1c("0x2ce")](),forcePhi:o[_0x4b1c("0x266")].getPolarAngle()})}var s={x:r[_0x4b1c("0xf0")][_0x4b1c("0x105")].x,y:r[_0x4b1c("0xf0")][_0x4b1c("0x105")].z},l=o[_0x4b1c("0x2d0")]({x:s.x,z:s.y,y:0}),u=function(x,c){for(var b=x[_0x4b1c("0x2cd")],_=0,e=d[_0x4b1c("0x0")]-1;e>b;e--)if(e-1>b){var i=d[e],a=d[e-1],n=i[_0x4b1c("0x158")]||0,r=a.offset||0,s=o._coordMapSceneToThree({x:i.x,y:i.y,z:n+t}),f=o[_0x4b1c("0x2c5")]({x:a.x,y:a.y,z:r+t});_+=s[_0x4b1c("0x124")](f)}var l=d[x.index+1],u=l[_0x4b1c("0x158")]||0,h=o[_0x4b1c("0x2c5")]({x:l.x,y:l.y,z:u+t});return _+c[_0x4b1c("0x124")](h)}({x:l.x,y:l.y,index:c},x.clone()),h=o.coordThreeToMap({x:s.x,z:s.y,y:0}),g={x:h.x,y:h.y,z:r[_0x4b1c("0xf0")][_0x4b1c("0x105")].y,index:c},v=(A-u)/A;_[_0x4b1c("0x2d1")]&&_[_0x4b1c("0x2d1")]({position:g,progress:v,angle:_.angle,loopDirection:y})}))[_0x4b1c("0x1ac")]((function(){b&&_.loop&&_.complete&&_[_0x4b1c("0x2d2")](r),e()}))[_0x4b1c("0x1af")]();r[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x1fa")]&&r.o3d_[_0x4b1c("0x165")][_0x4b1c("0x1fa")][_0x4b1c("0x12")](m),r.o3d_.userData[_0x4b1c("0x2ab")]=m}))};r[_0x4b1c("0x2b2")](!1);var o=r[_0x4b1c("0x1e1")][_0x4b1c("0x3e")];if(c)(_=x)[_0x4b1c("0x2be")]=0;else{var f=null;(_={time:1,loop:!1,loopReverse:!1,complete:null,orientToPath:!0,angle:0,followTilt:!0,followAngleRotate:!0,followAngle:!1,followSmooth:1,rotateSmooth:1,viewTiltAngle:null,startPathIndex:0,onMoving:null,maxViewDistance:300,minViewDistance:10,offsetHeight:0,speed:null,path:[]})[_0x4b1c("0x2d3")]=!1,Object.defineProperty(_,_0x4b1c("0x2ac"),{get:function(){return this[_0x4b1c("0x2d3")]},set:function(x){if(r[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x24a")]){var c=r[_0x4b1c("0xf0")][_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")]));o[_0x4b1c("0x266")].target[_0x4b1c("0x20b")](c),f=o[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x13e")]()}x?(null==g&&(g=o[_0x4b1c("0x266")].maxDistance),null==v&&(v=o[_0x4b1c("0x266")].minDistance),o[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=_[_0x4b1c("0x2af")],o[_0x4b1c("0x266")][_0x4b1c("0x2b0")]=_.minViewDistance,o[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!1):this[_0x4b1c("0x2d3")]&&(g&&(o[_0x4b1c("0x266")].maxDistance=g,g=null),v&&(o[_0x4b1c("0x266")].minDistance=v,v=null),o[_0x4b1c("0x25c")].enableMapPan||(o[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!0)),this[_0x4b1c("0x2d3")]=x}}),(0,e.default)(_,{followPosition:!1},x)}var l=_.path,d=[];if(0!=l.length){for(var u=0;u<l.length;u++){var h=l[u],p=o[_0x4b1c("0x1b5")]({from:o[_0x4b1c("0x47")][_0x4b1c("0x1b7")],to:o[_0x4b1c("0x2d4")],coord:h});d[u]=p}if(1!=d[_0x4b1c("0x0")]){var m=[],A=0,y=r[_0x4b1c("0x1e9")]%2;r.o3d_[_0x4b1c("0x165")][_0x4b1c("0x22a")]=null,_[_0x4b1c("0x2ac")]&&(null==g&&(g=o[_0x4b1c("0x266")][_0x4b1c("0x2ad")]),null==v&&(v=o[_0x4b1c("0x266")].minDistance),o.controls[_0x4b1c("0x2ad")]=_.maxViewDistance,o[_0x4b1c("0x266")][_0x4b1c("0x2b0")]=_[_0x4b1c("0x2b1")],o[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!1),_[_0x4b1c("0x2d5")]&&_[_0x4b1c("0x2d5")]();for(var C=0;C<d[_0x4b1c("0x0")];C++){var I=d[C];if(I[_0x4b1c("0x12b")]||(I[_0x4b1c("0x12b")]=o.id),d[C][_0x4b1c("0x158")]=1*d[C].offset||0,d[C].elevation=d[C][_0x4b1c("0x158")],this[_0x4b1c("0x210")]&&I[_0x4b1c("0x12b")]&&I.fnum&&o[_0x4b1c("0x136")](I[_0x4b1c("0x12b")])&&this[_0x4b1c("0x210")]!=I.fnum){var E=o.getBuildingById(I[_0x4b1c("0x12b")])[_0x4b1c("0x2d7")](this[_0x4b1c("0x210")]),w=o[_0x4b1c("0x136")](I.bid)[_0x4b1c("0x2d7")](I[_0x4b1c("0x12e")]);d[C][_0x4b1c("0x2d6")]+=w-E}}for(var T=0;T<d.length-1;T++)if(d[T+1]){var k=o[_0x4b1c("0x238")](d[T]),S=o[_0x4b1c("0x238")](d[T+1]),M=k[_0x4b1c("0x124")](S);A+=M,d[T]&&m[_0x4b1c("0x12")]({distance:M,fnum:d[T][_0x4b1c("0x12e")]||1,from:d[T],fromAngle:d[T][_0x4b1c("0x1")]("angle")?d[T][_0x4b1c("0x258")]:null,to:d[T+1],toAngle:d[T+1].hasOwnProperty(_0x4b1c("0x258"))?d[T+1].angle:null})}if(_[_0x4b1c("0x2d8")]&&(_[_0x4b1c("0x1a5")]=A/(1.62*_[_0x4b1c("0x2d8")])),!isNaN(_[_0x4b1c("0x1a5")]))return m[_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x1a5")]=0==x[_0x4b1c("0x23c")]?0:x.distance/A*_.time})),r[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x24a")]=!0,_[_0x4b1c("0x2ac")]&&null!=_.viewTiltAngle&&(o[_0x4b1c("0x2c1")]=_[_0x4b1c("0x2c0")]),r[_0x4b1c("0x2ae")]=_,n()[_0x4b1c("0x323")]((function(){_.loop?(_.startPathIndex=0,_[_0x4b1c("0x324")]&&(r[_0x4b1c("0x1e9")]++,_[_0x4b1c("0x2c2")][_0x4b1c("0x2d9")]()),r[_0x4b1c("0x2bd")](_,!0)):(r.o3d_[_0x4b1c("0x165")][_0x4b1c("0x24a")]=!1,r.o3d_[_0x4b1c("0x165")].toRot=null,r[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x22b")]=!1,o.mapService[_0x4b1c("0x2b3")][_0x4b1c("0x2b4")](),_.complete&&_[_0x4b1c("0x2d2")](),g&&(o[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=g,g=null),v&&(o.controls[_0x4b1c("0x2b0")]=v,v=null),o[_0x4b1c("0x25c")].enableMapPan||(o.gestureController[_0x4b1c("0x25d")]=!0))})),_;_0x4b1c("0x322")}else{var R=o[_0x4b1c("0x2c5")](d[0],!0);if(r[_0x4b1c("0xf0")][_0x4b1c("0x105")].x=R.x,r[_0x4b1c("0xf0")][_0x4b1c("0x105")].z=R.z,r[_0x4b1c("0xf0")][_0x4b1c("0x105")].y=(1*d[0][_0x4b1c("0x158")]||0)+_.offsetHeight,_[_0x4b1c("0x2d1")]){var L={x:r[_0x4b1c("0xf0")][_0x4b1c("0x105")].x,y:r[_0x4b1c("0xf0")][_0x4b1c("0x105")].z},H=o.coordThreeToMap({x:L.x,z:L.y,y:0}),D={x:H.x,y:H.y,index:0};_[_0x4b1c("0x2d1")]({position:D,progress:1,angle:0,loopDirection:0})}_[_0x4b1c("0x2d2")]&&_[_0x4b1c("0x2d2")]()}}}},{key:_0x4b1c("0x325"),value:function(x){var c=this[_0x4b1c("0x326")][_0x4b1c("0x325")];x=(0,e[_0x4b1c("0xc")])({},x);var b={x:(0,l[_0x4b1c("0x13")])(x,"x",this.mapCoord.x),y:(0,l[_0x4b1c("0x13")])(x,"y",this.mapCoord.y),z:(0,l[_0x4b1c("0x13")])(x,"z",this[_0x4b1c("0x21d")].z)};c&&c[_0x4b1c("0x19b")]();var _=(0,d[_0x4b1c("0x327")])(b);x.x=_.x,x.y=_.y,x.z=_.z;var t=esmap[_0x4b1c("0x277")].moveTo[_0x4b1c("0x2")](this[_0x4b1c("0xf0")],x);t&&(this[_0x4b1c("0x326")][_0x4b1c("0x325")]=t)}},{key:"fade",value:function(x){esmap[_0x4b1c("0x277")][_0x4b1c("0x328")].call(this[_0x4b1c("0xf0")],x)}},{key:_0x4b1c("0x329"),value:function(x){x=(0,e[_0x4b1c("0xc")])({height:5,delay:0,time:2},x),this._animateState[_0x4b1c("0x329")]&&this[_0x4b1c("0x32a")]();var c=this[_0x4b1c("0xf0")][_0x4b1c("0x105")].y,b=this[_0x4b1c("0xf0")],_=b[_0x4b1c("0x105")].y,t=new(esmap.TWEEN[_0x4b1c("0x1a7")])(b[_0x4b1c("0x105")]).to({y:_+x[_0x4b1c("0x1a3")]},1e3*x[_0x4b1c("0x1a5")])[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ab")]),i=new(esmap[_0x4b1c("0x1a6")].Tween)(b.position).to({y:_},1e3*x.time).easing(esmap[_0x4b1c("0x1a6")].Easing[_0x4b1c("0x1aa")][_0x4b1c("0x1ab")]);t.chain(i),i[_0x4b1c("0x32b")](t),setTimeout((function(){t[_0x4b1c("0x1af")]()}),1e3*x[_0x4b1c("0x1a1")]),this._animateState[_0x4b1c("0x329")]={position:{y:c},tweens:[t,i]}}},{key:_0x4b1c("0x32a"),value:function(){var x=this[_0x4b1c("0x326")][_0x4b1c("0x329")];x&&(x.tweens.forEach((function(x){x[_0x4b1c("0x19b")]()})),esmap[_0x4b1c("0x277")].moveTo[_0x4b1c("0x2")](this[_0x4b1c("0xf0")],x[_0x4b1c("0x105")]),this._animateState[_0x4b1c("0x329")]=null)}},{key:_0x4b1c("0x2b2"),value:function(){var x=!(arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0])||arguments[0],c=this;if(this[_0x4b1c("0x326")].moveTo&&this[_0x4b1c("0x326")][_0x4b1c("0x325")][_0x4b1c("0x19b")](),x&&(c[_0x4b1c("0x1e9")]=0),c[_0x4b1c("0xf0")]&&this.movePathController){var b=this.map;this.movePathController&&this[_0x4b1c("0x2ae")].followPosition&&(g&&(b[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=g,g=null),v&&(b[_0x4b1c("0x266")][_0x4b1c("0x2b0")]=v,v=null),b[_0x4b1c("0x25c")].enableMapPan||(b[_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!0),c[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x22b")]=!1),this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x24a")]=!1,c.o3d_[_0x4b1c("0x165")][_0x4b1c("0x244")]&&(c[_0x4b1c("0xf0")][_0x4b1c("0x165")].lastRotateAction[_0x4b1c("0x19b")](),c[_0x4b1c("0xf0")][_0x4b1c("0x165")].lastRotateAction=null),c[_0x4b1c("0xf0")][_0x4b1c("0x165")].tweens&&c[_0x4b1c("0xf0")].userData.tweens[_0x4b1c("0x1c")]((function(x){x.stop()})),c[_0x4b1c("0xf0")][_0x4b1c("0x165")].movePathingTween&&(c.o3d_[_0x4b1c("0x165")][_0x4b1c("0x2ab")][_0x4b1c("0x19b")](),c[_0x4b1c("0xf0")].userData[_0x4b1c("0x2ab")]=null),c[_0x4b1c("0xf0")][_0x4b1c("0x165")].tweens=[]}}},{key:"resumeMovePath",value:function(){var x=this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x2ab")];x&&x[_0x4b1c("0x32c")]()}},{key:_0x4b1c("0x32d"),value:function(){var x=this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x2ab")];x&&x[_0x4b1c("0x32e")]()}},{key:_0x4b1c("0x12b"),set:function(x){this.bid_=x,this[_0x4b1c("0x247")]&&this[_0x4b1c("0x247")]._checkMarker(this)},get:function(){return this.bid_}},{key:_0x4b1c("0x172"),get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x172")]},set:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x172")]=x,this[_0x4b1c("0xf0")][_0x4b1c("0x165")].renderOrder=x}},{key:_0x4b1c("0x1e4"),set:function(x){null!==x&&(this[_0x4b1c("0x1e3")][_0x4b1c("0x1e4")]=x,Array[_0x4b1c("0x32f")](x)?(this[_0x4b1c("0x1e3")][_0x4b1c("0x304")]=Math.min[_0x4b1c("0x4")](Math,(0,_[_0x4b1c("0xc")])(x)),this[_0x4b1c("0x1e3")][_0x4b1c("0x21f")]=Math[_0x4b1c("0x2f5")][_0x4b1c("0x4")](Math,(0,_.default)(x))):this._props[_0x4b1c("0x21f")]=x)},get:function(){return this[_0x4b1c("0x1e3")][_0x4b1c("0x1e4")]}},{key:_0x4b1c("0x3e"),get:function(){return window[_0x4b1c("0x1b6")][_0x4b1c("0x32")][_0x4b1c("0x3a")]}},{key:_0x4b1c("0x191"),set:function(x){this.o3d_[_0x4b1c("0x191")]=x,x?this._props[_0x4b1c("0x220")]=!1:this[_0x4b1c("0x1e3")].visibleLock=!0},get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x191")]}}]),c}(esmap[_0x4b1c("0x330")]);c[_0x4b1c("0xc")]=p},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0x156")]=void 0;var _,e=l(b(6)),t=l(b(9)),i=l(b(7)),a=l(b(2)),n=l(b(8)),r=l(b(157)),s=l(b(158)),o=l(b(22));c[_0x4b1c("0x156")]=(_=(0,n[_0x4b1c("0xc")])(i[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b,_,e,t,n,r,s,o,f,l,d,h,g;return i.default.wrap((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:if(b=u(),c=(0,a[_0x4b1c("0xc")])({squared:!1,canvasPadding:0,text:"",textStyle:{},image:"",imageStyle:{}},c),e=(_=c)[_0x4b1c("0x317")],t=_.textStyle,n=_[_0x4b1c("0x316")],r=_[_0x4b1c("0x331")],s=document[_0x4b1c("0x21")]("canvas"),o=s[_0x4b1c("0x332")]("2d"),f={fontSize:24,fillStyle:_0x4b1c("0x126"),letterSpacing:0,lineHeight:null,strokeWidth:3,strokeStyle:"#000",shadowBlur:0,shadowColor:_0x4b1c("0x333"),shadowOffsetX:0,shadowOffsetY:0,textBaseline:_0x4b1c("0x334"),padding:2,offsetY:0,offsetX:0},l={align:_0x4b1c("0x12d"),scale:1,size:_0x4b1c("0x335"),space:5,shadowBlur:5,shadowColor:_0x4b1c("0x333")},d=(0,a[_0x4b1c("0xc")])({},f,t),"number"==typeof(h=(0,a[_0x4b1c("0xc")])({},l,r))[_0x4b1c("0xe0")]&&(h[_0x4b1c("0xe0")]={w:h[_0x4b1c("0xe0")],h:h[_0x4b1c("0xe0")]}),d[_0x4b1c("0x336")]=Math[_0x4b1c("0xfd")](b?d[_0x4b1c("0x336")]*=2.1:2*d[_0x4b1c("0x336")]),g=null,n){x[_0x4b1c("0x286")]=16;break}g=p(o,s,e,d),x[_0x4b1c("0x286")]=19;break;case 16:return x[_0x4b1c("0x286")]=18,v(o,s,e,d,n,h,c);case 18:g=x[_0x4b1c("0x337")];case 19:return x[_0x4b1c("0x293")](_0x4b1c("0x28a"),{texture:g,ctx:o,canvas:s,width:s[_0x4b1c("0x1c9")],height:s[_0x4b1c("0x1a3")]});case 20:case"end":return x.stop()}}),x,this)}))),function(x){return _[_0x4b1c("0x4")](this,arguments)});c.getTextStyle=function(x){var c={fontSize:[],fillStyle:[_0x4b1c("0x34e")],strokeWidth:[],strokeStyle:["strokecolor"],shadowColor:[],shadowBlur:[],shadowOffsetX:[],shadowOffsetY:[],padding:[],offsetY:[],offsetX:[]},b={},_=function(_){var e=c[_],t=[].concat((0,o[_0x4b1c("0xc")])(e.map((function(x){return x[_0x4b1c("0x34f")]()}))),[_[_0x4b1c("0x34f")]()]);(0,s[_0x4b1c("0xc")])(x)[_0x4b1c("0x1c")]((function(x){var c=(0,r[_0x4b1c("0xc")])(x,2),e=c[0],i=c[1],a=e.toLowerCase();t.includes(a)&&("fillStyle"!=_&&_!=_0x4b1c("0x33f")||(i=(0,f[_0x4b1c("0x350")])(i)),b[_]=i)}))};for(var e in c)_(e);return b};var f=b(4);function l(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var d=null;function u(){return null===d&&(d=esmap[_0x4b1c("0x87")][_0x4b1c("0x338")]()[_0x4b1c("0x339")]),d}function h(x,c,b,_,e){var t=c[_0x4b1c("0x2c")]("\n"),i=0;t[_0x4b1c("0x1c")]((function(c){!function(x,c,b,_,e){x[_0x4b1c("0x33a")]=e[_0x4b1c("0x336")]+_0x4b1c("0x33b"),x[_0x4b1c("0x33c")]=e.textAlign,x[_0x4b1c("0x33d")]=e[_0x4b1c("0x33d")],x[_0x4b1c("0x33e")]=e[_0x4b1c("0x33e")],x.strokeStyle=e[_0x4b1c("0x33f")],x[_0x4b1c("0x340")]=e[_0x4b1c("0x340")],x[_0x4b1c("0x341")]=e[_0x4b1c("0x341")],x.shadowOffsetX=e[_0x4b1c("0x342")],x[_0x4b1c("0x343")]=e.shadowOffsetY,e[_0x4b1c("0x344")]&&(x[_0x4b1c("0x15f")]=e[_0x4b1c("0x344")],x[_0x4b1c("0x345")](c,b,_));x[_0x4b1c("0x346")](c,b,_)}(x,c,b,_+i,e),i+=e.lineHeight+e[_0x4b1c("0x1d0")]}))}function g(x,c,b,_,e){var t=e[_0x4b1c("0x201")];x[_0x4b1c("0x347")](),x[_0x4b1c("0x340")]=e.shadowBlur,x[_0x4b1c("0x341")]=e.shadowColor;var i=e[_0x4b1c("0xe0")]!=_0x4b1c("0x335")?e.size.w:c[_0x4b1c("0x1c9")]*t,a="auto"!=e[_0x4b1c("0xe0")]?e[_0x4b1c("0xe0")].h:c[_0x4b1c("0x1a3")]*t;e.clip?function(x,c,b,_,e,t){x[_0x4b1c("0x347")]();var i=2*e,a=b+e,n=_+e;x[_0x4b1c("0x348")](a,n,e,0,2*Math.PI),x[_0x4b1c("0x349")](),x[_0x4b1c("0x34a")](c,b,_,i,i),x[_0x4b1c("0x34b")](),x.arc(a,n,e-t.strokeWidth,0,2*Math.PI),x[_0x4b1c("0x33f")]=t[_0x4b1c("0x33f")],x[_0x4b1c("0x15f")]=t[_0x4b1c("0x344")],x[_0x4b1c("0x34c")](),x.restore()}(x,c,b,_,i/2,e[_0x4b1c("0x349")]):x[_0x4b1c("0x34a")](c,b,_,i,a),x[_0x4b1c("0x34d")]()}function v(x,c,b,_,i,a,n){return new(t[_0x4b1c("0xc")])((function(t){var r=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],s=_[_0x4b1c("0x1d0")],f=_.offsetX,l=_.offsetY,d=a[_0x4b1c("0x351")],u=a[_0x4b1c("0x349")];u&&(typeof u==_0x4b1c("0xd")?u={type:u,strokeStyle:_0x4b1c("0x352"),strokeWidth:1}:(typeof u===_0x4b1c("0x8")?"undefined":(0,e[_0x4b1c("0xc")])(u))==_0x4b1c("0x1d")&&(u[_0x4b1c("0x33f")]=u.strokeStyle||u[_0x4b1c("0x353")]||_0x4b1c("0x352"),u[_0x4b1c("0x344")]=u[_0x4b1c("0x1")](_0x4b1c("0x344"))?u[_0x4b1c("0x344")]:1),a.clip=u);var v=n[_0x4b1c("0x354")],p=n[_0x4b1c("0x355")],m=!0;""==b&&(s=0,d=0,m=!1),c[_0x4b1c("0x23")][_0x4b1c("0x356")]=_[_0x4b1c("0x356")]+"px";var A=a.align;r[_0x4b1c("0x7e")][_0x4b1c("0x364")][_0x4b1c("0x365")](i,(function(e){!function(e){var i=a[_0x4b1c("0x201")];x.font=_[_0x4b1c("0x336")]+_0x4b1c("0x33b");var n=b[_0x4b1c("0x2c")]("\n"),r=_[_0x4b1c("0x357")]||_[_0x4b1c("0x336")];_[_0x4b1c("0x357")]=r;var u=Math[_0x4b1c("0x2f5")][_0x4b1c("0x4")](Math,(0,o[_0x4b1c("0xc")])(n[_0x4b1c("0x3e")]((function(c){return x[_0x4b1c("0x358")](c)[_0x4b1c("0x1c9")]}))))+2*s,y=r*n[_0x4b1c("0x0")]+2*s;""==b&&(u=0,y=0);var C=void 0,I=void 0,E=void 0,w=void 0;switch(a.size!=_0x4b1c("0x335")?(E=a[_0x4b1c("0xe0")].w,w=a[_0x4b1c("0xe0")].h):(E=e[_0x4b1c("0x1c9")]*i,w=e.height*i),A){case"top":case"bottom":C=Math[_0x4b1c("0x2f5")](E,u),I=w+y+d;break;case _0x4b1c("0x359"):case _0x4b1c("0x35a"):C=E+u+d,I=Math[_0x4b1c("0x2f5")](w,y);break;case _0x4b1c("0x12d"):C=Math[_0x4b1c("0x2f5")](E,u+0),I=Math[_0x4b1c("0x2f5")](w,y+0),l&&l>w/2-y/2&&(I+=2*(y/2+l-w/2)),f&&f>E/2-u/2&&(C+=2*(u/2+f-E/2))}var T=C,k=I,S=0,M=0;v&&(C=I=Math[_0x4b1c("0x2f5")](C,I),M=(I-k)/2,S=(C-T)/2);var R=0,L=0;switch(p&&(C+=2*(R=C*p),I+=2*(L=I*p),M+=L,S+=R),c[_0x4b1c("0x1c9")]=C,c.height=I,A){case _0x4b1c("0x35b"):_[_0x4b1c("0x33d")]="middle",_[_0x4b1c("0x33c")]=_0x4b1c("0x12d"),g(x,e,(C-E)/2,0+M,a),m&&h(x,b,C/2,w+M+d+_[_0x4b1c("0x336")]/2+s,_);break;case _0x4b1c("0x35c"):_[_0x4b1c("0x33d")]=_0x4b1c("0x35d"),_.textAlign=_0x4b1c("0x12d"),g(x,e,(C-E)/2,y+d+M,a),m&&h(x,b,C/2,s+_.fontSize/2+M,_);break;case _0x4b1c("0x359"):_[_0x4b1c("0x33d")]=_0x4b1c("0x35d"),_[_0x4b1c("0x33c")]=_0x4b1c("0x1af"),g(x,e,S,(I-w)/2,a),m&&h(x,b,S+E+d+s,I/2,_);break;case _0x4b1c("0x35a"):_[_0x4b1c("0x33d")]=_0x4b1c("0x35d"),_[_0x4b1c("0x33c")]=_0x4b1c("0x1af"),g(x,e,u+d+S,(I-w)/2,a),m&&h(x,b,s+S,I/2,_);break;case"center":_[_0x4b1c("0x33d")]=_0x4b1c("0x35d"),_[_0x4b1c("0x33c")]="center",g(x,e,(C-E)/2,(I-w)/2,a);var H=I/2+s-r*(n[_0x4b1c("0x0")]-1)/2-l;m&&h(x,b,C/2+f,H,_)}var D=new(THREE[_0x4b1c("0x35e")])(c);D[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x35f")],D.anisotropy=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x361")][_0x4b1c("0x362")](),D[_0x4b1c("0x363")]=!1,D.needsUpdate=!0,t(D)}(e)}))}))}function p(x,c,b,_){var e=_.padding;x[_0x4b1c("0x33a")]=_[_0x4b1c("0x336")]+_0x4b1c("0x33b");var t=b[_0x4b1c("0x2c")]("\n");_.textAlign=_0x4b1c("0x12d");var i=_[_0x4b1c("0x357")]||_[_0x4b1c("0x336")];_.lineHeight=i,_[_0x4b1c("0x33d")]=_0x4b1c("0x35d");var a,n;a=Math[_0x4b1c("0x2f5")].apply(Math,(0,o[_0x4b1c("0xc")])(t[_0x4b1c("0x3e")]((function(c){return x[_0x4b1c("0x358")](c)[_0x4b1c("0x1c9")]}))))+2*e+2*e,n=i*t[_0x4b1c("0x0")]+e*t.length+2*e,c.width=a,c[_0x4b1c("0x1a3")]=n,h(x,b,a/2,2*e+i/2,_);var r=new(THREE[_0x4b1c("0x35e")])(c);return r[_0x4b1c("0x18a")]=THREE.LinearFilter,r[_0x4b1c("0x189")]=esmap.ESMap[_0x4b1c("0x3a")][_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x361")].getMaxAnisotropy(),r[_0x4b1c("0x363")]=!1,r[_0x4b1c("0x188")]=!0,r}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0}),c[_0x4b1c("0x11d")]=function(x,c){return Math.sqrt((x.x-c.x)*(x.x-c.x)+(x.y-c.y)*(x.y-c.y))},c[_0x4b1c("0x366")]=function(x,c,b,t){var i=c.x,a=c.y,n=b.x,r=b.y,s=x.x,o=x.y,f=n-i,l=r-a,d=Math.sqrt(f*f+l*l),u=s-i,h=o-a,g=Math.sqrt(u*u+h*h);if(e(d))return e(g)?(t.x=c.x,t.y=c.y,0):(t.x=c.x,t.y=c.y,g);var v=f/d,p=l/d,m=v*u+p*h;if(A=m,!(A>_))return t.x=c.x,t.y=c.y,g;var A;if(E=m-d,!(E<-_)){var y=s-n,C=o-r,I=Math[_0x4b1c("0x120")](y*y+C*C);return t.x=b.x,t.y=b.y,I}var E;var w=i+m*v,T=a+m*p,k=s-w,S=o-T,M=Math[_0x4b1c("0x120")](k*k+S*S);return t.x=w,t.y=T,M},c.toDecimal5=function(x){var c=parseFloat(x);if(isNaN(c))return;return c=Math.round(1e5*x)/1e5};var _=1e-5;function e(x){return x<_&&x>-_}},,,,,,,,,,,,,,,,,,,,,,,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=o(b(22)),e=o(b(5)),t=o(b(0)),i=o(b(1)),a=o(b(10)),n=o(b(11)),r=b(4),s=b(143);function o(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}c[_0x4b1c("0xc")]=function(x){return function(x){function c(){return(0,t[_0x4b1c("0xc")])(this,c),(0,a[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,e[_0x4b1c("0xc")])(c))[_0x4b1c("0x4")](this,arguments))}return(0,n[_0x4b1c("0xc")])(c,x),(0,i[_0x4b1c("0xc")])(c,[{key:"on",value:function(x,c,b){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!x||!c)return this;if(!(0,r[_0x4b1c("0x367")])(x))return this[_0x4b1c("0x368")]("on",x,c);this[_0x4b1c("0x369")]||(this[_0x4b1c("0x369")]={});var e=x.toLowerCase().split(" "),t=void 0;b||(b=this);for(var i=void 0,a=0,n=e[_0x4b1c("0x0")];a<n;a++){t=e[a],(i=this[_0x4b1c("0x369")][t])||(i=[],this[_0x4b1c("0x369")][t]=i);var s=i[_0x4b1c("0x0")];if(s>0)for(var o=0;o<s;o++)if(c===i[o][_0x4b1c("0x36a")]&&i[o].context===b)return this;i[_0x4b1c("0x12")]({handler:c,context:b,from:_})}return this}},{key:"addEventListener",value:function(){return this.on[_0x4b1c("0x4")](this,arguments)}},{key:_0x4b1c("0x36b"),value:function(x,c,b){if(!(0,r[_0x4b1c("0x367")])(x)){var _={};for(var e in x)x[_0x4b1c("0x1")](e)&&(_[e]=this[_0x4b1c("0x36c")](e,x[e],b));return this[_0x4b1c("0x368")]("on",_)}for(var t=x[_0x4b1c("0x2c")](" "),i=0,a=t[_0x4b1c("0x0")];i<a;i++)this.on(t[i],this[_0x4b1c("0x36c")](t[i],c,b));return this}},{key:"off",value:function(x,c,b){if(!x||!this[_0x4b1c("0x369")]||!c)return this;if(!(0,r[_0x4b1c("0x367")])(x))return this[_0x4b1c("0x368")]("off",x,c);var _=x.split(" "),e=void 0,t=void 0,i=void 0;b||(b=this);for(var a=0,n=_[_0x4b1c("0x0")];a<n;a++){if(i="Z__"+(e=_[a][_0x4b1c("0x34f")]()),!(t=this[_0x4b1c("0x369")][e]))return this;for(var s=t[_0x4b1c("0x0")]-1;s>=0;s--){var o=t[s];c!==o[_0x4b1c("0x36a")]&&c!==o[_0x4b1c("0x36a")][i]||o[_0x4b1c("0x36d")]!==b||(delete o[_0x4b1c("0x36a")][i],t[_0x4b1c("0x5")](s,1))}}return this}},{key:"removeEventListener",value:function(){return this[_0x4b1c("0x6b")][_0x4b1c("0x4")](this,arguments)}},{key:_0x4b1c("0x36e"),value:function(x,c,b){if(!this[_0x4b1c("0x369")]||!(0,r[_0x4b1c("0x367")])(x))return 0;var _=this[_0x4b1c("0x369")][x.toLowerCase()];if(!_||!_[_0x4b1c("0x0")])return 0;for(var e=0,t=0,i=_[_0x4b1c("0x0")];t<i;t++)if(c){if(c===_[t][_0x4b1c("0x36a")]&&((0,r[_0x4b1c("0x36f")])(b)||_[t][_0x4b1c("0x36d")]===b))return 1}else e++;return e}},{key:_0x4b1c("0x370"),value:function(x){var c=x._eventMap;if(!c)return this;var b=void 0;for(var _ in c)for(var e=0,t=(b=c[_])[_0x4b1c("0x0")];e<t;e++)this.on(_,b[e][_0x4b1c("0x36a")],b[e].context);return this}},{key:"fire",value:function(){return this[_0x4b1c("0x371")]?this[_0x4b1c("0x371")].fire.apply(this[_0x4b1c("0x371")],arguments):this._fire[_0x4b1c("0x4")](this,arguments)}},{key:_0x4b1c("0x36c"),value:function(x,c,b){var _=this,e=_0x4b1c("0x372")+x,t=!1,i=function a(){t||(delete i[e],t=!0,b?c[_0x4b1c("0x4")](b,arguments):c.apply(this,arguments),_[_0x4b1c("0x6b")](x,a,this))};return i[e]=c,i}},{key:_0x4b1c("0x368"),value:function(x,c,b){for(var _ in c)c[_0x4b1c("0x1")](_)&&this[x](_,c[_],b);return this}},{key:_0x4b1c("0x31e"),value:function(x){if(x&&this[_0x4b1c("0x369")])for(var c in this._eventMap){var b=this[_0x4b1c("0x369")][c];if(b)for(var _=0;_<b[_0x4b1c("0x0")];_++)b[_][_0x4b1c("0x2bf")]===x&&(b[_0x4b1c("0x5")](_,1),_--)}}},{key:_0x4b1c("0x373"),value:function(x){this[_0x4b1c("0x369")]&&(0,r.isString)(x)&&(this._eventMap[x[_0x4b1c("0x34f")]()]&&(this[_0x4b1c("0x369")][x]=null))}},{key:_0x4b1c("0x374"),value:function(){this[_0x4b1c("0x369")]=null}},{key:_0x4b1c("0x375"),value:function(x){return this[_0x4b1c("0x371")]=x,this}},{key:_0x4b1c("0x376"),value:function(x,c){if(!this[_0x4b1c("0x369")])return this;var b=this[_0x4b1c("0x369")][x.toLowerCase()];if(!b)return this;c||(c={});var e=Array.prototype[_0x4b1c("0x1e5")][_0x4b1c("0x2")](arguments);e=e[_0x4b1c("0x1e5")](1);for(var t=b.slice(0),i=void 0,a=void 0,n=0,r=t.length;n<r;n++)if(t[n]){var o,f;if(a=!0,c,i=t[n][_0x4b1c("0x36d")])a=(o=t[n][_0x4b1c("0x36a")])[_0x4b1c("0x2")][_0x4b1c("0x4")](o,[i][_0x4b1c("0x377")]((0,_[_0x4b1c("0xc")])(e)));else a=(f=t[n])[_0x4b1c("0x36a")][_0x4b1c("0x4")](f,(0,_[_0x4b1c("0xc")])(e));!1===a&&c[_0x4b1c("0x378")]&&(0,s[_0x4b1c("0x379")])(c.domEvent)}return this}}]),c}(x)}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0x37a")]=c.MapOptions=void 0;var _=n(b(0)),e=n(b(1)),t=b(294),i=b(295),a=b(51);function n(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var r={dataUrlPrefix:_0x4b1c("0x37b"),themeUrlPrefix:null},s=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x3b")]=esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")],this[_0x4b1c("0x62")]=r.dataUrlPrefix,this.mapThemeSrc=r[_0x4b1c("0x37c")],this.mouseReverse=!1,this[_0x4b1c("0x37d")]=[10,20],this[_0x4b1c("0x37e")]=60,this[_0x4b1c("0x31a")]=!0,this[_0x4b1c("0x37f")]=_0x4b1c("0x380"),this.scalerColor=_0x4b1c("0x381"),this[_0x4b1c("0x382")]=!1,this[_0x4b1c("0x1b7")]=_0x4b1c("0x383"),this[_0x4b1c("0x84")]=1,this.mergeModelLines=!0,this[_0x4b1c("0x384")]=!0,this[_0x4b1c("0x385")]=!0,this[_0x4b1c("0x386")]=null,this[_0x4b1c("0x387")]=!0,this.container=document[_0x4b1c("0x26")],this.center=null,this.minViewDistance=20,this[_0x4b1c("0x388")]="3D",this[_0x4b1c("0x389")]=!1,this[_0x4b1c("0x38a")]=null,this[_0x4b1c("0x38b")]=null,this[_0x4b1c("0x38c")]=null,this[_0x4b1c("0x38d")]=esmap[_0x4b1c("0x38e")][_0x4b1c("0x38f")],this[_0x4b1c("0x390")]=2048,this[_0x4b1c("0x391")]=.6,this[_0x4b1c("0x392")]=null,this.panLimit=null,this[_0x4b1c("0x393")]=null,this[_0x4b1c("0x394")]=null,this[_0x4b1c("0x395")]=!1,this.viewModeAnimateMode=!0,this[_0x4b1c("0x396")]=.3,this[_0x4b1c("0x397")]=!0,this.moveToAnimateTime=.3,this[_0x4b1c("0x398")]=[10,20],this[_0x4b1c("0x399")]=64,this[_0x4b1c("0x39a")]=0,this[_0x4b1c("0x39b")]=!1,this.hoverTypes="all",this[_0x4b1c("0x39c")]="default",this[_0x4b1c("0x39d")]=0,this[_0x4b1c("0x39e")]=null,this.defaultScaleLevel=null,this[_0x4b1c("0x39f")]=!0,this[_0x4b1c("0x3a0")]=!0,this[_0x4b1c("0x31d")]=null,this[_0x4b1c("0x72")]=null,this[_0x4b1c("0x3a1")]=0,this[_0x4b1c("0x3a2")]=1,this[_0x4b1c("0x3a3")]=1,this[_0x4b1c("0x3a4")]=1,this[_0x4b1c("0x3a5")]=!0,this[_0x4b1c("0x3a6")]=!0,this.enableZBufferFixing=!0,this[_0x4b1c("0x1f6")]=!1,this.closeComposer=!1,this[_0x4b1c("0x6c")]=!0,this[_0x4b1c("0x3a7")]=null,this[_0x4b1c("0x3a8")]="./",this.mergeModel3D=!0,this[_0x4b1c("0x3a9")]=!1,this[_0x4b1c("0x3aa")]=!1,this[_0x4b1c("0x3ab")]=_0x4b1c("0x140"),this[_0x4b1c("0x3ac")]=!0,this[_0x4b1c("0x3ad")]=!1,this.compatibleMode=!1,this.lang=0,this[_0x4b1c("0x3ae")]=null,this[_0x4b1c("0x3af")]=null,this.modelImageAlphaTest=0,this[_0x4b1c("0x3b0")]=!1,this[_0x4b1c("0x3b1")]=!1,this[_0x4b1c("0x3b2")]=!1,this[_0x4b1c("0x3b3")]=!0,this.isLimitFrame=!1,this[_0x4b1c("0x3b4")]=30;var b=esmap[_0x4b1c("0x87")].getPlatform()[_0x4b1c("0x339")];this[_0x4b1c("0x37e")]=b?this.scalerWidth:"50",this.isRandom&&(THREE[_0x4b1c("0x6c")]=!0),c[_0x4b1c("0x62")]&&"/"!==c[_0x4b1c("0x62")][_0x4b1c("0x2a1")](c.mapDataSrc[_0x4b1c("0x0")]-1)&&(c[_0x4b1c("0x62")]+="/"),c[_0x4b1c("0x74")]&&"/"!==c.mapThemeSrc[_0x4b1c("0x2a1")](c[_0x4b1c("0x74")].length-1)&&(c[_0x4b1c("0x74")]+="/"),c[_0x4b1c("0x3b")]||(c[_0x4b1c("0x3b")]=esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]),c[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?this.initBuildingOptions(c):(c[_0x4b1c("0x3b5")]&&(c.buildingFocusMode=c[_0x4b1c("0x3b5")]),this[_0x4b1c("0x3b6")](c))}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x3b7"),value:function(x){(0,a[_0x4b1c("0x11e")])(this,i[_0x4b1c("0x3b8")]),(0,a[_0x4b1c("0x11e")])(this,x)}},{key:_0x4b1c("0x3b6"),value:function(x){(0,a[_0x4b1c("0x11e")])(this,t[_0x4b1c("0x3b9")]),(0,a[_0x4b1c("0x11e")])(this,x)}}]),x}();c[_0x4b1c("0x3ba")]=s,c[_0x4b1c("0x37a")]=function(x){var c=(0,a[_0x4b1c("0x11e")])({},i[_0x4b1c("0x3b8")]);for(var b in c)x[_0x4b1c("0x1")](b)&&void 0!==x[b]&&(c[b]=x[b]);return c}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=o(b(2)),e=o(b(0)),t=o(b(1)),i=o(b(311)),a=o(b(63)),n=(b(32),b(23)),r=o(b(35)),s=o(b(318));function o(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var f=function(){function x(c){var b=this;(0,e[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x3bb")]={},this.id=c.id,this.map=c[_0x4b1c("0x3e")],this[_0x4b1c("0xf0")]=new(THREE[_0x4b1c("0x214")]),this.meshHandler=this[_0x4b1c("0x3e")].mapScene[_0x4b1c("0x33")],this.o3d_[_0x4b1c("0xef")]=this,this._loadcount=0,this.options={mergeModels:!0},this[_0x4b1c("0x3bc")]=this[_0x4b1c("0x3e")][_0x4b1c("0x2b3")],this.layerManager=new esmap.ESLayerManager(this[_0x4b1c("0xf0")]),this[_0x4b1c("0x21a")]=1,this[_0x4b1c("0x26b")]=new i.default(this),this[_0x4b1c("0x3bd")]=new(THREE[_0x4b1c("0x214")]),this[_0x4b1c("0x3be")]=new THREE.Object3D,this[_0x4b1c("0x3bf")]=new(THREE[_0x4b1c("0x214")]),this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](this.lineLevel1),this.o3d_[_0x4b1c("0xdd")](this[_0x4b1c("0x3be")]),this[_0x4b1c("0xf0")].add(this[_0x4b1c("0x3bf")]),this.roadLoaded=!1;var _=this,t=_[_0x4b1c("0x3e")].mapView[_0x4b1c("0x31d")];t<16.5||(t<15?this.lineLevel2[_0x4b1c("0x191")]=!1:t<14&&(this[_0x4b1c("0x3bf")].visible=!1)),this[_0x4b1c("0x3e")].on(_0x4b1c("0x3c0"),(function(){_[_0x4b1c("0x3c1")]()})),r[_0x4b1c("0xc")][_0x4b1c("0xeb")](this.id),this[_0x4b1c("0x3e")].on("_progress",(function(x){x[_0x4b1c("0x2bf")]===b.id&&1===x[_0x4b1c("0x13a")]&&b[_0x4b1c("0x3bc")].tileLoadComplete_(b)})),this.loader=new(s[_0x4b1c("0xc")])(this)}return(0,t[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x3c1"),value:function(){var x=this,c=x.map[_0x4b1c("0x1c3")][_0x4b1c("0x31d")],b=x[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0x3c2")];x[_0x4b1c("0x3c3")]&&(c>=16.5?b[_0x4b1c("0x114")](x.id)>-1&&(x[_0x4b1c("0x3c3")][2]&&x[_0x4b1c("0x3c4")](2),x[_0x4b1c("0x3c3")][3]&&x.loadBuildings(3)):c>=14.5&&b.indexOf(x.id)>-1&&x[_0x4b1c("0x3c3")][2]&&x[_0x4b1c("0x3c4")](2)),x.map[_0x4b1c("0x47")][_0x4b1c("0x3c5")]?(c<15?x[_0x4b1c("0x3be")][_0x4b1c("0x191")]&&(x.lineLevel2[_0x4b1c("0x191")]=!1):x[_0x4b1c("0x3be")][_0x4b1c("0x191")]||(x[_0x4b1c("0x3be")][_0x4b1c("0x191")]=!0),c<14?x.lineLevel3[_0x4b1c("0x191")]&&(x[_0x4b1c("0x3bf")][_0x4b1c("0x191")]=!1):x[_0x4b1c("0x3bf")][_0x4b1c("0x191")]||(x[_0x4b1c("0x3bf")][_0x4b1c("0x191")]=!0)):(x[_0x4b1c("0x3be")][_0x4b1c("0x191")]&&(x[_0x4b1c("0x3be")].visible=!1),x[_0x4b1c("0x3bf")].visible&&(x[_0x4b1c("0x3bf")].visible=!1))}},{key:_0x4b1c("0x3c6"),value:function(){this[_0x4b1c("0x3bd")][_0x4b1c("0x191")]=!1}},{key:_0x4b1c("0x3c5"),value:function(){this[_0x4b1c("0x3bd")][_0x4b1c("0x191")]=!0}},{key:_0x4b1c("0x3c4"),value:function(x){var c=this[_0x4b1c("0x3c3")][x];this[_0x4b1c("0x26b")][_0x4b1c("0x3c7")].roomModelsCount=c.roomModelsCount,this[_0x4b1c("0x3e")][_0x4b1c("0x7e")].modelLoadCount+=c[_0x4b1c("0x3c8")],c[_0x4b1c("0x2e4")]=x,this[_0x4b1c("0x33")][_0x4b1c("0x3c9")](c,1,this,!0),this[_0x4b1c("0x33")][_0x4b1c("0x3ca")](c,1,this,!0),this[_0x4b1c("0x3c3")][x]=null}},{key:"loadPois",value:function(){var x=this[_0x4b1c("0x3cb")],c=this.sourceData;if(c){var b=c[_0x4b1c("0x3cc")],_=new esmap.ESLayer(esmap[_0x4b1c("0x3cd")][_0x4b1c("0x3ce")]);this.o3d_.add(_.o3d_),_.o3d_[_0x4b1c("0x3cf")]=new(esmap[_0x4b1c("0x3d0")]);var e=this.map.id,t=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0x3d2")]);this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](t.o3d_),t.o3d_[_0x4b1c("0x3cf")]=new esmap.ESMapBoxCollision;var i=this[_0x4b1c("0x3e")][_0x4b1c("0x1e1")],a=this;for(var n in this[_0x4b1c("0x3e")].on(_0x4b1c("0x179"),(function(){a[_0x4b1c("0x3e")][_0x4b1c("0x1c3")].zoomLevel<=10?(_[_0x4b1c("0x191")]&&(_.visible=!1),t[_0x4b1c("0x191")]&&(t[_0x4b1c("0x191")]=!1)):(!_[_0x4b1c("0x191")]&&(_.visible=!0),!t[_0x4b1c("0x191")]&&(t.visible=!0))})),b){var r=b[n];if(this.map[_0x4b1c("0x47")].vBoundary)if(!esmap.ESMapUtil[_0x4b1c("0x3d3")]({x:r.X,y:r.Y},this.map[_0x4b1c("0x47")][_0x4b1c("0x3d4")]))continue;var s=Math[_0x4b1c("0x20f")](r[_0x4b1c("0x3d5")]/100),o={},f=r[_0x4b1c("0x3d6")][_0x4b1c("0x2c")](",");o[_0x4b1c("0x316")]=f[0],o.w=1*f[1],o.h=1*f[2];var l=_0x4b1c("0x359");switch(1*f[3]){case 0:l=_0x4b1c("0x359");break;case 1:l=_0x4b1c("0x35b");break;case 2:l="right";break;case 3:l=_0x4b1c("0x35c")}if(o[_0x4b1c("0x3d7")]=l,f[4]&&f[5]&&(o[_0x4b1c("0x12d")]={x:1*f[4],y:1*f[5]}),2==s||3==s||4==s){var d=r.SH||2.5,u={isTile:!0,oid:r[_0x4b1c("0x3d8")],Typeid:r[_0x4b1c("0x3d9")],name:r.NA||"",dataID:r.NE,fontstyleid:r.Sid,Height:r.SH,X:r.X,Y:r.Y,imagealign:o[_0x4b1c("0x3d7")],image:r[_0x4b1c("0x316")],w:r.w?r.w:32,h:r.h?r.h:32,ShowLevel:r.SL,texture:null,center:o[_0x4b1c("0x12d")]},h=this[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0x3da")][u[_0x4b1c("0x3db")]]||this[_0x4b1c("0x3e")][_0x4b1c("0x13f")].poiStyles[0]||this.map.mapTheme[_0x4b1c("0x3dc")];u[_0x4b1c("0x12b")]=this[_0x4b1c("0x3e")].id;var g=new esmap.ESLabel(u,h);g[_0x4b1c("0x1e4")]=u[_0x4b1c("0x3dd")];var v=g[_0x4b1c("0xf0")];g[_0x4b1c("0xa4")]=this.id,v.dispatchEvent({type:_0x4b1c("0x31c")}),_[_0x4b1c("0xf0")][_0x4b1c("0xdd")](v),v[_0x4b1c("0x3de")][_0x4b1c("0x3df")]=0,g[_0x4b1c("0x3e0")]=1;var p=this[_0x4b1c("0x3e")][_0x4b1c("0x1b5")]({from:this.map[_0x4b1c("0x3e1")],to:this[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],coord:{x:r.X,y:r.Y}}),m=this.map._coordMapSceneToThree(p);v[_0x4b1c("0x105")][_0x4b1c("0xdb")](m.x,d,m.z),v[_0x4b1c("0x12d")][_0x4b1c("0xdb")](.5,0),v.modelViewMatrix[_0x4b1c("0x3e2")](this[_0x4b1c("0x3e")].currentCamera[_0x4b1c("0x3e3")],v.matrixWorld),v[_0x4b1c("0x165")][_0x4b1c("0x3e4")]=!0,this[_0x4b1c("0x3e")][_0x4b1c("0x232")].addObject(v,e),x[_0x4b1c("0xe2")](r[_0x4b1c("0x3d8")])}else if(11==s){var A=r[_0x4b1c("0x3e5")];r[_0x4b1c("0x316")]&&""!=r.image&&(A=r.image);var y=i[_0x4b1c("0x3e6")][_0x4b1c("0x3e7")](this[_0x4b1c("0x3e")].options.themeID,A,e,1),C={oid:r[_0x4b1c("0x3d8")],Typeid:r[_0x4b1c("0x3d9")],name:r.NA||"",dataID:r.NE,Height:r.SH,w:r.w?r.w:32,h:r.h?r.h:32,ShowLevel:r.SL,url:y},I=new(esmap[_0x4b1c("0x3e8")])(C)[_0x4b1c("0xf0")];I[_0x4b1c("0x1d9")]({type:_0x4b1c("0x31c")}),t[_0x4b1c("0xf0")][_0x4b1c("0xdd")](I),I[_0x4b1c("0x3de")][_0x4b1c("0x3df")]=1;var E=r.SH||3,w=this[_0x4b1c("0x3e")][_0x4b1c("0x1b5")]({from:this[_0x4b1c("0x3e")][_0x4b1c("0x3e1")],to:this[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],coord:{x:r.X,y:r.Y}}),T=this.map[_0x4b1c("0x2c5")](w);I[_0x4b1c("0x105")][_0x4b1c("0xdb")](T.x,E,T.z),I[_0x4b1c("0x130")]=_0x4b1c("0x3e9"),I.datas_.bType=1,I[_0x4b1c("0xef")][_0x4b1c("0x1e4")]=r.SL,I[_0x4b1c("0xef")][_0x4b1c("0xa4")]=this.id,I[_0x4b1c("0x3de")].ShowLevel=r.SL,I[_0x4b1c("0x3ea")][_0x4b1c("0x3e2")](this[_0x4b1c("0x3e")].currentCamera[_0x4b1c("0x3e3")],I[_0x4b1c("0x3eb")]),I[_0x4b1c("0x165")][_0x4b1c("0x3e4")]=!0,I[_0x4b1c("0x12d")][_0x4b1c("0xdb")](.5,0),this.map[_0x4b1c("0x232")][_0x4b1c("0x3ec")](I,this.id),x[_0x4b1c("0xe2")](r[_0x4b1c("0x3d8")])}}}}},{key:"deleteRoadById",value:function(x){for(var c=this[_0x4b1c("0x3bd")][_0x4b1c("0xf1")],b=this.map[_0x4b1c("0x232")][_0x4b1c("0x3ed")][this.id],_=0;_<c[_0x4b1c("0x0")];_++)if(c[_][_0x4b1c("0xef")].ID==x){var e=c[_],t=b.indexOf(e);t>-1&&b.splice(t,1),e[_0x4b1c("0xf2")][_0x4b1c("0xf3")](),e[_0x4b1c("0xf4")]=null,this[_0x4b1c("0x3bd")][_0x4b1c("0x2ea")](e)}}},{key:_0x4b1c("0x3ee"),value:function(){this[_0x4b1c("0x3c3")][1][_0x4b1c("0x3ef")]}},{key:_0x4b1c("0x3f0"),value:function(){if(!this[_0x4b1c("0x3f1")]){var x=this,c=x[_0x4b1c("0x3e")].tileService[_0x4b1c("0x3f2")][x.id];if(c){var b=c[_0x4b1c("0x3f3")];for(var _ in b)x[_0x4b1c("0x3f4")](b[_]);this[_0x4b1c("0x3f1")]=!0}}}},{key:_0x4b1c("0x3f5"),value:function(x){this[_0x4b1c("0x3f6")][_0x4b1c("0x3f5")](x)}},{key:_0x4b1c("0x3f7"),value:function(x,c){return this[_0x4b1c("0x3f6")].getOrCreateLayerByName(x,c)}},{key:_0x4b1c("0x3f8"),value:function(x,c){return this[_0x4b1c("0x3f6")].getLayersByTypes(x,c)}},{key:"getLayersByNames",value:function(x,c){return this.layerManager.getLayersByNames(x,c)}},{key:_0x4b1c("0x3f9"),value:function(x){if(this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3f0")]){var c=(0,_[_0x4b1c("0xc")])({style:0,points:[],id:0,name:"",rank:10},x),b=this,e=(b.id,c[_0x4b1c("0x23")]||0),t=b[_0x4b1c("0x3e")].mapTheme[_0x4b1c("0x3fa")][e];t||(t=b.map[_0x4b1c("0x13f")][_0x4b1c("0x3fa")][0]);for(var i=b[_0x4b1c("0x3e")],r=i.id,s=b.id,o=[],f=0;f<c[_0x4b1c("0x12c")][_0x4b1c("0x0")];f++){var l=c.points[f];if(isNaN(l.x)||isNaN(l.y))return n[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:"地图"+r+"瓦片"+s+"道路"+c.id+"坐标点有误: "+l.x+", "+l.y,level:_0x4b1c("0xe3")}),!1;var d=i[_0x4b1c("0x1b5")]({from:i.DEFAULT_COORDSYSTEM,to:i[_0x4b1c("0x2d4")],coord:{x:l.x,y:l.y}}),u=i[_0x4b1c("0x2c5")](d);u.bid=0,u[_0x4b1c("0x12e")]=1,u.y+=l[_0x4b1c("0x158")]||0,o[_0x4b1c("0x12")](u)}var h=new a.default(o,{lineWidthMeter:!0,repeat:t[_0x4b1c("0x157")]||0,lineWidth:t[_0x4b1c("0x3fb")],noAnimate:0==t[_0x4b1c("0x3fc")],randomOffset:!0,customMat:t[_0x4b1c("0xf4")],animateSpeed:t[_0x4b1c("0x3fc")]/100,offsetHeight:.1*Math[_0x4b1c("0x2e")]()+t[_0x4b1c("0x1a3")],url:i.options[_0x4b1c("0x3fd")].url},!1,t.material);return h._isDoubleDirect="0"===x[_0x4b1c("0x3fe")],h._styleTypeId=e,void 0!==t[_0x4b1c("0x1a3")]&&(h.position.y=.1*Math[_0x4b1c("0x2e")]()+t[_0x4b1c("0x1a3")]),h[_0x4b1c("0x1f7")]=c.name,h[_0x4b1c("0xef")]={ID:c.id,nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x132")],name:c[_0x4b1c("0x1f7")],o3d_:h,roadType:c[_0x4b1c("0x3ff")],points:c.points,bid:r,tileId:s,bType:1},b[_0x4b1c("0x3bd")][_0x4b1c("0xdd")](h),i[_0x4b1c("0x232")][_0x4b1c("0x3ec")](h,b.id),h}}},{key:_0x4b1c("0x3f4"),value:function(x){var c=x.na,b=x[_0x4b1c("0x400")][_0x4b1c("0x2a1")](2,x[_0x4b1c("0x400")][_0x4b1c("0x0")]-2)[_0x4b1c("0x2c")](/,/),_={x:0,y:0},e=this[_0x4b1c("0x3e")].__ro[_0x4b1c("0x2c")](","),t=1*e[0],i=1*e[1],a=1*e[2];if(0!=b[_0x4b1c("0x0")]){for(var n=[],r=0;r<b[_0x4b1c("0x0")];r++){var s=b[r][_0x4b1c("0x2c")](" "),o=1*s[2]||0;n[_0x4b1c("0x12")]({x:1*s[0]+_.x+t,y:1*s[1]+_.y+i,offset:o+a}),0==r&&(_.x=1*s[0],_.y=1*s[1])}this[_0x4b1c("0x3f9")]({id:x[_0x4b1c("0x3d8")],name:c,rank:x[_0x4b1c("0x3ff")],points:n,direction:x.direction||x[_0x4b1c("0x401")],style:x[_0x4b1c("0x23")]||0})}}},{key:_0x4b1c("0x402"),value:function(x,c,b){var _=this[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0x403")],e=this[_0x4b1c("0x3e")][_0x4b1c("0x13f")].navDoubleDirectRoadMat;if(this[_0x4b1c("0x3bd")][_0x4b1c("0xf1")][_0x4b1c("0x0")]>0&&_&&e)for(var t=0,i=this[_0x4b1c("0x3bd")][_0x4b1c("0xf1")][_0x4b1c("0x0")];t<i;t++){var a=this[_0x4b1c("0x3bd")].children[t];x?a[_0x4b1c("0x404")]?(a.material=e,b&&(1*b[_0x4b1c("0x3fc")]==0&&(a[_0x4b1c("0x23")][_0x4b1c("0x17c")]=!0),1*b.animationspeed>0&&(a[_0x4b1c("0x23")][_0x4b1c("0x183")]=1*b.animationspeed))):(a[_0x4b1c("0xf4")]=_,c&&(1*c[_0x4b1c("0x3fc")]==0&&(a[_0x4b1c("0x23")].noAnimate=!0),1*c.animationspeed>0&&(a.style[_0x4b1c("0x183")]=1*c[_0x4b1c("0x3fc")]))):a.material=this[_0x4b1c("0x3e")].mapTheme.roadStyles[a[_0x4b1c("0x405")]][_0x4b1c("0xf4")]}}},{key:"progressHandler",get:function(){return r[_0x4b1c("0xc")][_0x4b1c("0xde")](this.id)}},{key:"visible",get:function(){return this.o3d_.visible},set:function(x){this.o3d_[_0x4b1c("0x191")]=x}},{key:_0x4b1c("0x406"),get:function(){for(var x=this.map.mapScene[_0x4b1c("0x407")][_0x4b1c("0xf1")],c=this.id,b=0;b<x[_0x4b1c("0x0")];b++)if(x[b][_0x4b1c("0xef")].id==c)return!0;return!1}}]),x}();c[_0x4b1c("0xc")]=f},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=o(b(2)),e=o(b(14)),t=o(b(9)),i=o(b(15)),a=o(b(0)),n=o(b(1)),r=b(32),s=o(b(79));function o(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var f=function(){function x(){(0,a[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x100")]=[],this[_0x4b1c("0x408")]=[],this.lastSelectNode=null,this.isClickSelected=!1}return(0,n[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x409"),value:function(x,c,b){var _=new(THREE[_0x4b1c("0x206")])(c.x,c.y,c.z,"XYZ"),e=(new THREE.Quaternion)[_0x4b1c("0x205")](_),t=new(THREE[_0x4b1c("0x128")])(x.x,x.y,x.z),i=new THREE.Vector3(b.x,b.y,b.z);return(new THREE.Matrix4)[_0x4b1c("0x40a")](t,e,i)}},{key:"getObjectTransformMatrix",value:function(x,c,b){var _=new(THREE[_0x4b1c("0x214")]);return _[_0x4b1c("0x105")].fromArray(x||[0,0,0]),_.quaternion.fromArray(c||[0,0,0,1]),_[_0x4b1c("0x201")][_0x4b1c("0x40b")](b||[1,1,1]),_[_0x4b1c("0x40c")](),_[_0x4b1c("0x22d")].clone()}},{key:_0x4b1c("0x40d"),value:function(x){var c=this,b=[],_=new(THREE[_0x4b1c("0x128")]);return function x(e){if(e.parent&&e.parent[_0x4b1c("0x78")]!=_0x4b1c("0x40e")){_.x+=e[_0x4b1c("0x108")][_0x4b1c("0x105")].x,_.y+=e[_0x4b1c("0x108")].position.y,_.z+=e[_0x4b1c("0x108")][_0x4b1c("0x105")].z;var t=!0,a=!1,n=void 0;try{for(var r,s=(0,i[_0x4b1c("0xc")])(c[_0x4b1c("0x408")]);!(t=(r=s[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);t=!0){var o=r[_0x4b1c("0x13a")];if(o[_0x4b1c("0x1f7")]==e[_0x4b1c("0x108")][_0x4b1c("0x1f7")]){o[_0x4b1c("0x410")]=_,b[_0x4b1c("0x12")](o);break}}}catch(x){a=!0,n=x}finally{try{!t&&s[_0x4b1c("0x28a")]&&s[_0x4b1c("0x28a")]()}finally{if(a)throw n}}x(e[_0x4b1c("0x108")])}}(x),b}},{key:"mergePromise",value:function(x,c){var b=this,_=this,e=new THREE.Object3D;if(this[_0x4b1c("0x100")]=x.parser.json[_0x4b1c("0x100")],this[_0x4b1c("0x408")]=x.parser.json[_0x4b1c("0x408")],!this.materials)return!1;if(this[_0x4b1c("0x100")]instanceof Array&&0==this[_0x4b1c("0x100")][_0x4b1c("0x0")])return!1;var a=!0,n=!1,r=void 0;try{for(var s,o=(0,i.default)(this[_0x4b1c("0x100")]);!(a=(s=o.next())[_0x4b1c("0x40f")]);a=!0){var f=s.value;f.geometries=[],f.material=null}}catch(x){n=!0,r=x}finally{try{!a&&o[_0x4b1c("0x28a")]&&o.return()}finally{if(n)throw r}}var l=x[_0x4b1c("0x102")][_0x4b1c("0x105")].clone();(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](x[_0x4b1c("0x102")])[_0x4b1c("0x2e7")](l),l[_0x4b1c("0x253")](-1);var d=[l.x,l.y,l.z];return new(t[_0x4b1c("0xc")])((function(t){x.scene[_0x4b1c("0x103")]((function(x){if(x instanceof THREE[_0x4b1c("0x197")]){var c=_.getParentList(x),b=!0,e=!1,t=void 0;try{for(var a,n=(0,i[_0x4b1c("0xc")])(_.materials);!(b=(a=n[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);b=!0){var r=a.value;if(x.material[_0x4b1c("0x1f7")]==r.name){var s=x[_0x4b1c("0xf2")][_0x4b1c("0x13e")]();s[_0x4b1c("0x411")]=x[_0x4b1c("0x1f7")],s[_0x4b1c("0x165")].pos=x[_0x4b1c("0x105")][_0x4b1c("0x13e")]();var o=void 0,f=!0,l=!1,u=void 0;try{for(var h,g=(0,i[_0x4b1c("0xc")])(_.nodes);!(f=(h=g[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);f=!0){var v=h[_0x4b1c("0x13a")];v[_0x4b1c("0x1f7")]==x.name?(o=_[_0x4b1c("0x412")](v[_0x4b1c("0x413")],v[_0x4b1c("0x202")],v[_0x4b1c("0x201")]),s[_0x4b1c("0x414")](o)):x[_0x4b1c("0x108")].name==v[_0x4b1c("0x1f7")]&&v}}catch(x){l=!0,u=x}finally{try{!f&&g.return&&g[_0x4b1c("0x28a")]()}finally{if(l)throw u}}if(c[_0x4b1c("0x0")]>0)for(var p in c){var m=c[p],A=_[_0x4b1c("0x412")](m.translation,m[_0x4b1c("0x202")],m[_0x4b1c("0x201")]);s[_0x4b1c("0x414")](A)}var y=new THREE.Object3D;y.position[_0x4b1c("0x40b")](d),y[_0x4b1c("0x40c")](),s.applyMatrix(y[_0x4b1c("0x22d")][_0x4b1c("0x13e")]()),r[_0x4b1c("0x415")][_0x4b1c("0x12")](s),r[_0x4b1c("0xf4")]=x[_0x4b1c("0xf4")],r[_0x4b1c("0x416")]=x[_0x4b1c("0x1f7")];break}}}catch(x){e=!0,t=x}finally{try{!b&&n[_0x4b1c("0x28a")]&&n[_0x4b1c("0x28a")]()}finally{if(e)throw t}}}}));var a=esmap[_0x4b1c("0x32")].instance,n=!0,r=!1,s=void 0;try{for(var o,f=(0,i[_0x4b1c("0xc")])(b[_0x4b1c("0x100")]);!(n=(o=f[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);n=!0){var l=o.value;if(l[_0x4b1c("0x415")][_0x4b1c("0x0")]>0){l[_0x4b1c("0xf4")][_0x4b1c("0x3e")]&&a[_0x4b1c("0x47")].showModel3DErrorMsg&&b[_0x4b1c("0x417")](l.geometries,c[0].model);var u=b.mergeGeometry(l[_0x4b1c("0x415")],!1,x[_0x4b1c("0xfe")].json[_0x4b1c("0x418")][0][_0x4b1c("0x419")]),h=b[_0x4b1c("0x41a")](u,c),g=b[_0x4b1c("0x41b")](h,!0,x[_0x4b1c("0xfe")][_0x4b1c("0xff")].buffers[0][_0x4b1c("0x419")]);l[_0x4b1c("0x41c")]==_0x4b1c("0x41d")&&(l[_0x4b1c("0xf4")].side=THREE[_0x4b1c("0x15c")]),l[_0x4b1c("0xf4")].userData[_0x4b1c("0x41e")]=!0;var v=l[_0x4b1c("0xf4")][_0x4b1c("0x13e")]();a[_0x4b1c("0x47")][_0x4b1c("0x41f")]&&a[_0x4b1c("0x47")][_0x4b1c("0x41f")][_0x4b1c("0x1e7")]?(a[_0x4b1c("0x47")][_0x4b1c("0x41f")][_0x4b1c("0x1e7")][_0x4b1c("0x147")]?v[_0x4b1c("0x147")]=(new THREE.Color)[_0x4b1c("0x27c")](a[_0x4b1c("0x47")].selectedColor[_0x4b1c("0x1e7")].color):v[_0x4b1c("0x147")]=a[_0x4b1c("0x13f")].selectModelMat[_0x4b1c("0x147")][_0x4b1c("0x13e")](),v[_0x4b1c("0x420")]=v[_0x4b1c("0x147")].clone(),v[_0x4b1c("0x421")]=null==a.options.selectedColor[_0x4b1c("0x1e7")][_0x4b1c("0x422")]?.3:a[_0x4b1c("0x47")][_0x4b1c("0x41f")][_0x4b1c("0x1e7")][_0x4b1c("0x422")]):(v[_0x4b1c("0x420")]=a[_0x4b1c("0x13f")][_0x4b1c("0x423")][_0x4b1c("0x147")][_0x4b1c("0x13e")](),v[_0x4b1c("0x421")]=.3);var p=l.material[_0x4b1c("0x13e")]();p[_0x4b1c("0x191")]=!1;var m=new THREE.Mesh(g,[l[_0x4b1c("0xf4")],v,p]);m[_0x4b1c("0x1f7")]=l[_0x4b1c("0x416")],m[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1fe")],e[_0x4b1c("0xdd")](m)}else a[_0x4b1c("0x47")][_0x4b1c("0x3b1")]&&console[_0x4b1c("0x424")](_0x4b1c("0x425")+l[_0x4b1c("0x1f7")]+_0x4b1c("0x426"))}}catch(x){r=!0,s=x}finally{try{!n&&f[_0x4b1c("0x28a")]&&f[_0x4b1c("0x28a")]()}finally{if(r)throw s}}t(e)}))}},{key:_0x4b1c("0x11e"),value:function(x,c){var b=this,t=new(THREE[_0x4b1c("0x214")]);this[_0x4b1c("0x100")]=x[_0x4b1c("0xfe")][_0x4b1c("0xff")].materials,this[_0x4b1c("0x408")]=x[_0x4b1c("0xfe")][_0x4b1c("0xff")][_0x4b1c("0x408")];var a=c[0][_0x4b1c("0x1e6")],n=c[0][_0x4b1c("0x12b")],r=c[0][_0x4b1c("0x427")],o=c[0][_0x4b1c("0xa4")],f=esmap[_0x4b1c("0x32")].instance;if(!this[_0x4b1c("0x100")])return!1;if(this[_0x4b1c("0x100")]instanceof Array&&0==this[_0x4b1c("0x100")][_0x4b1c("0x0")])return!1;var l=!0,d=!1,u=void 0;try{for(var h,g=(0,i[_0x4b1c("0xc")])(this[_0x4b1c("0x100")]);!(l=(h=g.next())[_0x4b1c("0x40f")]);l=!0){var v=h.value;v[_0x4b1c("0x415")]=[],v[_0x4b1c("0xf4")]=null}}catch(x){d=!0,u=x}finally{try{!l&&g.return&&g.return()}finally{if(d)throw u}}var p=x.scene[_0x4b1c("0x105")][_0x4b1c("0x13e")]();(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](x[_0x4b1c("0x102")])[_0x4b1c("0x2e7")](p),p[_0x4b1c("0x253")](-1);var m=[p.x,p.y,p.z],A=[];x.scene[_0x4b1c("0x103")]((function(x){if(x instanceof THREE.Mesh){var t=b.getParentList(x);if(x[_0x4b1c("0x165")][_0x4b1c("0x1f7")]){if(t[_0x4b1c("0x0")]>0)for(var a in t){var n=t[a],r=b[_0x4b1c("0x412")](n[_0x4b1c("0x413")],n[_0x4b1c("0x202")],n.scale);x[_0x4b1c("0x414")](r)}var s=new THREE.Object3D;s[_0x4b1c("0x105")][_0x4b1c("0x40b")](m),s[_0x4b1c("0x40c")](),x[_0x4b1c("0x414")](s[_0x4b1c("0x22d")][_0x4b1c("0x13e")]());var o=c[0],f=b[_0x4b1c("0x409")]({x:o[_0x4b1c("0x105")].x,y:o[_0x4b1c("0x105")].y,z:o.position.z},{x:o[_0x4b1c("0x202")].x,y:o[_0x4b1c("0x202")].y,z:o[_0x4b1c("0x202")].z},{x:o[_0x4b1c("0x201")].x,y:o[_0x4b1c("0x201")].y,z:o[_0x4b1c("0x201")].z});return x[_0x4b1c("0x414")](f),void A[_0x4b1c("0x12")](x)}var l=!0,d=!1,u=void 0;try{for(var h,g=(0,i[_0x4b1c("0xc")])(b[_0x4b1c("0x100")]);!(l=(h=g[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);l=!0){var v=h[_0x4b1c("0x13a")];if(x.material[_0x4b1c("0x1f7")]==v[_0x4b1c("0x1f7")]){var p=x[_0x4b1c("0xf2")].clone();p[_0x4b1c("0x411")]=x[_0x4b1c("0x1f7")],p.userData.pos=x[_0x4b1c("0x105")][_0x4b1c("0x13e")]();var y=void 0,C=!0,I=!1,E=void 0;try{for(var w,T=(0,i.default)(b[_0x4b1c("0x408")]);!(C=(w=T[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);C=!0){var k=w.value;k.name=THREE.PropertyBinding[_0x4b1c("0x428")](k[_0x4b1c("0x1f7")]),k[_0x4b1c("0x1f7")]==x.name?(y=b[_0x4b1c("0x412")](k.translation,k[_0x4b1c("0x202")],k.scale),p[_0x4b1c("0x414")](y)):x.parent[_0x4b1c("0x1f7")]==k[_0x4b1c("0x1f7")]&&k}}catch(x){I=!0,E=x}finally{try{!C&&T.return&&T[_0x4b1c("0x28a")]()}finally{if(I)throw E}}if(t[_0x4b1c("0x0")]>0)for(var S in t){var M=t[S],R=b[_0x4b1c("0x412")](M[_0x4b1c("0x413")],M[_0x4b1c("0x202")],M[_0x4b1c("0x201")]);p[_0x4b1c("0x414")](R)}var L=new(THREE[_0x4b1c("0x214")]);L.position[_0x4b1c("0x40b")](m),L.updateMatrix(),p[_0x4b1c("0x414")](L[_0x4b1c("0x22d")][_0x4b1c("0x13e")]()),v[_0x4b1c("0x415")][_0x4b1c("0x12")](p),v[_0x4b1c("0xf4")]=x[_0x4b1c("0xf4")],v[_0x4b1c("0x416")]=x[_0x4b1c("0x1f7")],v[_0x4b1c("0x429")]=x[_0x4b1c("0x191")],v[_0x4b1c("0x42a")]={},(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0x165")])[_0x4b1c("0x0")]>0&&(0,_[_0x4b1c("0xc")])(v[_0x4b1c("0x42a")],x[_0x4b1c("0x165")]);break}}}catch(x){d=!0,u=x}finally{try{!l&&g[_0x4b1c("0x28a")]&&g.return()}finally{if(d)throw u}}}}));var y=function(x){var c=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](x),b=[c[_0x4b1c("0x2f5")].x-c[_0x4b1c("0x2f6")].x,c[_0x4b1c("0x2f5")].z-c[_0x4b1c("0x2f6")].z,c[_0x4b1c("0x2f5")].y-c.min.y],_=new(THREE[_0x4b1c("0x128")])(c.min.x+b[1]/2,c[_0x4b1c("0x2f6")].y+b[1]/2,c[_0x4b1c("0x2f6")].z+b[1]/2);x[_0x4b1c("0xef")].mapCoord=f[_0x4b1c("0x20d")](_),b[_0x4b1c("0x42b")](),x.userData[_0x4b1c("0x2f3")]={box3:c,sizeInfo:b[1]*b[2]}},C={};f.options.editMode||A[_0x4b1c("0x1c")]((function(x){t.userData[_0x4b1c("0x42c")]||(t[_0x4b1c("0x165")].hasChild=!0);var c=x[_0x4b1c("0x165")],b=f.getBuildingById(n);o&&(b=f[_0x4b1c("0x218")](o));var _="HASH_"+c.name+"_"+c.id;if(C[_])return C[_][_0x4b1c("0xf0")].add(x),void y(C[_][_0x4b1c("0xf0")]);var e=new s.default({diableClickEffect:!1,name:c[_0x4b1c("0x1f7")],fnum:1,ID:c.id,url:"",gid:null,mapId:f.id,bid:n,dataID:c[_0x4b1c("0x219")]||null,bType:b.buildingType,model:a,callback:null,top:1,rotation:null,position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},scaleRate:1,child:x,addTo:t,isChildNode:!1,animations:[]});1===b.buildingType&&(e.tileId=b.id),e[_0x4b1c("0x42d")]=!1,e[_0x4b1c("0x212")]=!0,e[_0x4b1c("0x39")](),c[_0x4b1c("0x1f7")]&&c.id&&(C[_]=e);var i=e[_0x4b1c("0xf0")];y(i),x[_0x4b1c("0xf2")].userData[_0x4b1c("0x42e")]=[],x[_0x4b1c("0x165")].hasOwnProperty("visible")?(x[_0x4b1c("0x165")][_0x4b1c("0x191")]||(e.visible=!1),f.mapService[_0x4b1c("0x42f")][_0x4b1c("0x12")](e)):r&&f.mapPicker.addObject(i,b.id)}));var I=!0,E=!1,w=void 0;try{for(var T,k=(0,i.default)(this[_0x4b1c("0x100")]);!(I=(T=k[_0x4b1c("0x286")]()).done);I=!0){var S=T[_0x4b1c("0x13a")];if(S[_0x4b1c("0x415")][_0x4b1c("0x0")]>0){if(S[_0x4b1c("0xf4")].userData[_0x4b1c("0x430")])continue;S[_0x4b1c("0xf4")].map&&f[_0x4b1c("0x47")][_0x4b1c("0x431")]&&this[_0x4b1c("0x417")](S[_0x4b1c("0x415")],c[0][_0x4b1c("0x1e6")]);var M=this.mergeGeometry(S[_0x4b1c("0x415")],!1,x[_0x4b1c("0xfe")][_0x4b1c("0xff")][_0x4b1c("0x418")][0][_0x4b1c("0x419")]),R=this[_0x4b1c("0x41a")](M,c),L=this[_0x4b1c("0x41b")](R,!0,x[_0x4b1c("0xfe")][_0x4b1c("0xff")][_0x4b1c("0x418")][0][_0x4b1c("0x419")]);S[_0x4b1c("0x41c")]==_0x4b1c("0x41d")&&(S[_0x4b1c("0xf4")][_0x4b1c("0x15b")]=THREE[_0x4b1c("0x15c")]),S[_0x4b1c("0xf4")].userData.cloned=!0;var H=S.material.clone();f.options.selectedColor&&f.options[_0x4b1c("0x41f")][_0x4b1c("0x1e7")]?(f[_0x4b1c("0x47")][_0x4b1c("0x41f")].model3d.color?H[_0x4b1c("0x147")]=(new(THREE[_0x4b1c("0x146")]))[_0x4b1c("0x27c")](f[_0x4b1c("0x47")][_0x4b1c("0x41f")][_0x4b1c("0x1e7")].color):H.color=f.mapTheme[_0x4b1c("0x423")][_0x4b1c("0x147")][_0x4b1c("0x13e")](),H.emissive=H[_0x4b1c("0x147")].clone(),H.emissiveIntensity=null==f[_0x4b1c("0x47")][_0x4b1c("0x41f")][_0x4b1c("0x1e7")][_0x4b1c("0x422")]?.3:f.options[_0x4b1c("0x41f")][_0x4b1c("0x1e7")][_0x4b1c("0x422")]):(H.emissive=f[_0x4b1c("0x13f")][_0x4b1c("0x423")].color[_0x4b1c("0x13e")](),H[_0x4b1c("0x421")]=.3);var D=S[_0x4b1c("0xf4")][_0x4b1c("0x13e")]();D[_0x4b1c("0x191")]=!1;var O=new(THREE[_0x4b1c("0x197")])(L,[S[_0x4b1c("0xf4")],H,D]);O[_0x4b1c("0x1f7")]=S[_0x4b1c("0x416")],O[_0x4b1c("0x191")]=S[_0x4b1c("0x429")],(0,_.default)(O.userData,S[_0x4b1c("0x42a")]),O.userData.location&&(O._bid=n,f[_0x4b1c("0x232")].locationModelMesh[_0x4b1c("0x12")](O)),O.renderOrder=esmap[_0x4b1c("0x1fd")].model3D,t[_0x4b1c("0xdd")](O)}else f[_0x4b1c("0x47")][_0x4b1c("0x3b1")]&&console[_0x4b1c("0x424")](_0x4b1c("0x425")+S[_0x4b1c("0x1f7")]+_0x4b1c("0x426"))}}catch(x){E=!0,w=x}finally{try{!I&&k[_0x4b1c("0x28a")]&&k[_0x4b1c("0x28a")]()}finally{if(E)throw w}}return t}},{key:_0x4b1c("0x417"),value:function(x,c){var b=[],_=!0,e=!1,t=void 0;try{for(var a,n=(0,i[_0x4b1c("0xc")])(x);!(_=(a=n[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);_=!0){var r=a.value;r[_0x4b1c("0x104")].uv||b[_0x4b1c("0x12")](r[_0x4b1c("0x411")])}}catch(x){e=!0,t=x}finally{try{!_&&n[_0x4b1c("0x28a")]&&n[_0x4b1c("0x28a")]()}finally{if(e)throw t}}b.length>0&&console.info(c+_0x4b1c("0x432"),b)}},{key:_0x4b1c("0x433"),value:function(x,c){return!(Math[_0x4b1c("0x23d")](x.x)>c||Math[_0x4b1c("0x23d")](x.y)>c||Math[_0x4b1c("0x23d")](x.z)>c)}},{key:_0x4b1c("0x41a"),value:function(x,c){var b=[],_=!0,e=!1,t=void 0;try{for(var a,n=(0,i.default)(c);!(_=(a=n[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);_=!0){var r=a[_0x4b1c("0x13a")];r.rotation||(r[_0x4b1c("0x202")]={x:0,y:0,z:0});var s=this[_0x4b1c("0x409")]({x:r.position.x,y:r.position.y,z:r[_0x4b1c("0x105")].z},{x:r[_0x4b1c("0x202")].x,y:r[_0x4b1c("0x202")].y,z:r.rotation.z},{x:r[_0x4b1c("0x201")].x,y:r[_0x4b1c("0x201")].y,z:r[_0x4b1c("0x201")].z}),o=x[_0x4b1c("0x13e")]();o[_0x4b1c("0x1f7")]=r.id,o[_0x4b1c("0x414")](s),b[_0x4b1c("0x12")](o)}}catch(x){e=!0,t=x}finally{try{!_&&n[_0x4b1c("0x28a")]&&n[_0x4b1c("0x28a")]()}finally{if(e)throw t}}return x.dispose(),x=null,b}},{key:_0x4b1c("0x41b"),value:function(x,c,b,_){var e=new THREE.BufferGeometry,t=[],a=[],n=[],s=[],o=[],f=[],l=0,d=[],u=!1,h=!1,g=!1,v=!1,p=0,m=!0,A=!1,y=void 0;try{for(var C,I=(0,i[_0x4b1c("0xc")])(x);!(m=(C=I.next())[_0x4b1c("0x40f")]);m=!0){var E=C.value,w=E[_0x4b1c("0x165")][_0x4b1c("0x434")];w&&(0!=w.x||0!=w.y||w.z);var T=E.getAttribute("uv"),k=E[_0x4b1c("0x435")]("uv2"),S=E[_0x4b1c("0x435")]("color"),M=E[_0x4b1c("0x2cd")]?E.index:null;if(T&&(t.push(T),u=!0),k&&(s.push(k),h=!0),S&&(o[_0x4b1c("0x12")](S),g=!0),M){for(var R=0;R<M[_0x4b1c("0x106")];++R)f[_0x4b1c("0x12")](M[_0x4b1c("0x436")](R)+p);v=!0}a[_0x4b1c("0x12")](E[_0x4b1c("0x435")]("position")),E[_0x4b1c("0x435")](_0x4b1c("0x140"))||E[_0x4b1c("0x437")](),n[_0x4b1c("0x12")](E[_0x4b1c("0x435")](_0x4b1c("0x140")));var L=E[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")],H=void 0;M&&(H=M[_0x4b1c("0x106")]),c&&d[_0x4b1c("0x12")]({id:E[_0x4b1c("0x1f7")],start:l,count:M?H:L,materialIndex:0}),l+=H,p+=L}}catch(x){A=!0,y=x}finally{try{!m&&I[_0x4b1c("0x28a")]&&I[_0x4b1c("0x28a")]()}finally{if(A)throw y}}var D=new Float32Array,O=new Float32Array,P=new Float32Array,N=new Float32Array,F=new Float32Array;new Uint16Array;u&&(D=r.BufferGeometryUtils[_0x4b1c("0x438")](t)[_0x4b1c("0x439")]),h&&(O=r[_0x4b1c("0x43a")].mergeBufferAttributes(s)[_0x4b1c("0x439")]),g&&(F=r[_0x4b1c("0x43a")][_0x4b1c("0x438")](o)[_0x4b1c("0x439")]),P=r.BufferGeometryUtils.mergeBufferAttributes(a).array,N=r[_0x4b1c("0x43a")][_0x4b1c("0x438")](n)[_0x4b1c("0x439")],e.addAttribute(_0x4b1c("0x105"),new(THREE[_0x4b1c("0x43b")])(P,3)),e[_0x4b1c("0x43c")](_0x4b1c("0x140"),new(THREE[_0x4b1c("0x43b")])(N,3)),u&&e[_0x4b1c("0x43c")]("uv",new(THREE[_0x4b1c("0x43b")])(D,2)),h&&e[_0x4b1c("0x43c")](_0x4b1c("0x43d"),new(THREE[_0x4b1c("0x43b")])(O,2)),g&&e[_0x4b1c("0x43c")](_0x4b1c("0x147"),new(THREE[_0x4b1c("0x43b")])(F,3)),v?(e[_0x4b1c("0x43e")](f),e[_0x4b1c("0x180")](0,e[_0x4b1c("0x2cd")][_0x4b1c("0x106")],0)):e.addGroup(0,e[_0x4b1c("0x104")].position[_0x4b1c("0x106")],0),c&&(e[_0x4b1c("0x165")][_0x4b1c("0x42e")]=d);var B=!0,z=!1,U=void 0;try{for(var V,j=(0,i[_0x4b1c("0xc")])(x);!(B=(V=j[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);B=!0){var Z=V.value;Z[_0x4b1c("0xf3")](),Z=null}}catch(x){z=!0,U=x}finally{try{!B&&j[_0x4b1c("0x28a")]&&j[_0x4b1c("0x28a")]()}finally{if(z)throw U}}return x[_0x4b1c("0x0")]=0,t[_0x4b1c("0x0")]=0,a[_0x4b1c("0x0")]=0,n[_0x4b1c("0x0")]=0,s[_0x4b1c("0x0")]=0,o[_0x4b1c("0x0")]=0,f.length=0,e}},{key:_0x4b1c("0x43f"),value:function(x,c,b){if(c[_0x4b1c("0xf2")][_0x4b1c("0x165")].groupData){if(c[_0x4b1c("0x108")].userData[_0x4b1c("0x440")])return;var _=this.getFaceIndexToGroup(x,c.geometry[_0x4b1c("0x165")].groupData,c[_0x4b1c("0xf2")][_0x4b1c("0x2cd")]);_||console[_0x4b1c("0x291")](_0x4b1c("0x441")),this.setTargetModelSelected(c,_.id,!0),this[_0x4b1c("0x442")]={mesh:c,id:_.id,lastSelectMatIndex:b}}}},{key:_0x4b1c("0x443"),value:function(x,c,b,_,e){var t=c,a=[],n=function(x){if(!x[_0x4b1c("0x165")][_0x4b1c("0x444")]){var c=b;!1===b?(c=x.userData[_0x4b1c("0x129")],x[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x271"))&&(x[_0x4b1c("0x145")]=x[_0x4b1c("0x165")][_0x4b1c("0x271")])):(x[_0x4b1c("0x165")].hasOwnProperty(_0x4b1c("0x271"))||(x[_0x4b1c("0x165")].istransparent=x[_0x4b1c("0x145")],x[_0x4b1c("0x165")][_0x4b1c("0x129")]=x[_0x4b1c("0x129")]),x[_0x4b1c("0x145")]=!0),x[_0x4b1c("0x165")][_0x4b1c("0x444")]=!0,a[_0x4b1c("0x12")](x),x.opacity=c}};if(t&&t[_0x4b1c("0xf1")][_0x4b1c("0x0")]>0){var r=!0,s=!1,o=void 0;try{for(var f,l=(0,i.default)(t[_0x4b1c("0xf1")]);!(r=(f=l[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);r=!0){var d=f[_0x4b1c("0x13a")],u=!0,h=!1,g=void 0;try{for(var v,p=(0,i[_0x4b1c("0xc")])(d.geometry[_0x4b1c("0x165")][_0x4b1c("0x42e")]);!(u=(v=p[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);u=!0){var m=v[_0x4b1c("0x13a")];if(x===m.id){var A=0;if(0!=b){var y=d[_0x4b1c("0xf4")][0][_0x4b1c("0x13e")]();y[_0x4b1c("0x191")]||(y[_0x4b1c("0x191")]=!0),d[_0x4b1c("0xf4")][_0x4b1c("0x12")](y),A=d[_0x4b1c("0xf4")][_0x4b1c("0x0")]-1,d.geometry[_0x4b1c("0x165")][_0x4b1c("0x445")]||(d[_0x4b1c("0xf2")].userData[_0x4b1c("0x445")]={}),d[_0x4b1c("0xf2")][_0x4b1c("0x165")].matRecord[x]=A,n(y)}else{if(d[_0x4b1c("0xf2")][_0x4b1c("0x165")].matRecord){var C=d[_0x4b1c("0xf2")][_0x4b1c("0x165")][_0x4b1c("0x445")][x];null!=C&&d.material[C]&&(d[_0x4b1c("0xf4")][C].dispose(),d[_0x4b1c("0xf4")][C]=null)}A=0}var I=d[_0x4b1c("0xf2")][_0x4b1c("0x446")],E=this[_0x4b1c("0x447")](m.start,m[_0x4b1c("0x1af")]+m[_0x4b1c("0x106")],A,I);d[_0x4b1c("0xf2")][_0x4b1c("0x17f")]();var w=!0,T=!1,k=void 0;try{for(var S,M=(0,i[_0x4b1c("0xc")])(E);!(w=(S=M[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);w=!0){var R=S[_0x4b1c("0x13a")];d[_0x4b1c("0xf2")].addGroup(R[_0x4b1c("0x1af")],R.count,R[_0x4b1c("0x448")])}}catch(x){T=!0,k=x}finally{try{!w&&M[_0x4b1c("0x28a")]&&M.return()}finally{if(T)throw k}}break}}}catch(x){h=!0,g=x}finally{try{!u&&p.return&&p[_0x4b1c("0x28a")]()}finally{if(h)throw g}}}}catch(x){s=!0,o=x}finally{try{!r&&l.return&&l[_0x4b1c("0x28a")]()}finally{if(s)throw o}}}for(var L in a){a[L][_0x4b1c("0x165")][_0x4b1c("0x444")]=!1}c[_0x4b1c("0x165")][_0x4b1c("0x449")]=!1}},{key:_0x4b1c("0x44a"),value:function(x,c,b,_,e){var t=c;if(t&&t[_0x4b1c("0xf1")].length>0){var a=!0,n=!1,r=void 0;try{for(var s,o=(0,i[_0x4b1c("0xc")])(t[_0x4b1c("0xf1")]);!(a=(s=o[_0x4b1c("0x286")]()).done);a=!0){var f=s[_0x4b1c("0x13a")],l=!0,d=!1,u=void 0;try{for(var h,g=(0,i[_0x4b1c("0xc")])(f[_0x4b1c("0xf2")][_0x4b1c("0x165")].groupData);!(l=(h=g[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);l=!0){var v=h[_0x4b1c("0x13a")];if(x===v.id){var p=0;if(b){var m=f.material[0][_0x4b1c("0x13e")]();m.color=new(THREE[_0x4b1c("0x146")])(esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](b)),m[_0x4b1c("0x420")]=m[_0x4b1c("0x147")][_0x4b1c("0x13e")](),m[_0x4b1c("0x421")]=_,f[_0x4b1c("0xf4")][_0x4b1c("0x12")](m),p=f[_0x4b1c("0xf4")][_0x4b1c("0x0")]-1,e&&this.flashColor(f[_0x4b1c("0xf4")][0],m,e)}else{var A=!0,y=!1,C=void 0;try{for(var I,E=(0,i[_0x4b1c("0xc")])(f.material);!(A=(I=E.next())[_0x4b1c("0x40f")]);A=!0){var w=I[_0x4b1c("0x13a")];if(w[_0x4b1c("0x44c")]){this[_0x4b1c("0x44d")](f[_0x4b1c("0xf4")][0],w,!1);break}}}catch(x){y=!0,C=x}finally{try{!A&&E.return&&E[_0x4b1c("0x28a")]()}finally{if(y)throw C}}p=0,f[_0x4b1c("0xf4")]=f.material[_0x4b1c("0x1e5")](0,3)}var T=f[_0x4b1c("0xf2")][_0x4b1c("0x446")],k=this[_0x4b1c("0x447")](v[_0x4b1c("0x1af")],v.start+v[_0x4b1c("0x106")],p,T);f[_0x4b1c("0xf2")][_0x4b1c("0x17f")]();var S=!0,M=!1,R=void 0;try{for(var L,H=(0,i[_0x4b1c("0xc")])(k);!(S=(L=H[_0x4b1c("0x286")]()).done);S=!0){var D=L[_0x4b1c("0x13a")];f.geometry[_0x4b1c("0x180")](D.start,D[_0x4b1c("0x106")],D[_0x4b1c("0x448")])}}catch(x){M=!0,R=x}finally{try{!S&&H[_0x4b1c("0x28a")]&&H.return()}finally{if(M)throw R}}break}}}catch(x){d=!0,u=x}finally{try{!l&&g[_0x4b1c("0x28a")]&&g[_0x4b1c("0x28a")]()}finally{if(d)throw u}}}}catch(x){n=!0,r=x}finally{try{!a&&o[_0x4b1c("0x28a")]&&o[_0x4b1c("0x28a")]()}finally{if(n)throw r}}}}},{key:_0x4b1c("0x44d"),value:function(x,c,b){if(!1===b&&c[_0x4b1c("0x44c")])return c[_0x4b1c("0x44c")][_0x4b1c("0x19b")](),void(c[_0x4b1c("0x44c")]=null);c[_0x4b1c("0x44c")]&&c.flashAnimate[_0x4b1c("0x19b")]();var _=b||.5,e=(new THREE.Color)[_0x4b1c("0x20b")](c[_0x4b1c("0x147")]),t=!1;c[_0x4b1c("0x44c")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])({intensity:0}).to({intensity:1},1e3*_)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")].InOut)[_0x4b1c("0x157")](1/0)[_0x4b1c("0x44e")](!0)[_0x4b1c("0x174")]((function(b){b.intensity>=1?t=!0:b[_0x4b1c("0x422")]<=0&&(t=!1),c[_0x4b1c("0x147")].lerp(t?x[_0x4b1c("0x147")]:e,b[_0x4b1c("0x422")])})).start()}},{key:_0x4b1c("0x44f"),value:function(){this[_0x4b1c("0x442")]&&(2==this[_0x4b1c("0x442")][_0x4b1c("0x450")]&&(this[_0x4b1c("0x442")][_0x4b1c("0x450")]=0),this[_0x4b1c("0x451")](this.lastSelectNode[_0x4b1c("0x452")],this[_0x4b1c("0x442")].id,!1,this[_0x4b1c("0x442")][_0x4b1c("0x450")]),this.lastSelectNode=null)}},{key:_0x4b1c("0x453"),value:function(x,c){var b=!0,_=!1,e=void 0;try{for(var t,a=(0,i.default)(c);!(b=(t=a[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);b=!0){var n=t[_0x4b1c("0x13a")];if(x>=n[_0x4b1c("0x1af")]&&x<n[_0x4b1c("0x1af")]+n.count)return n[_0x4b1c("0x448")]}}catch(x){_=!0,e=x}finally{try{!b&&a[_0x4b1c("0x28a")]&&a[_0x4b1c("0x28a")]()}finally{if(_)throw e}}return 0}},{key:_0x4b1c("0x454"),value:function(x,c,b){var _=!!x[_0x4b1c("0xf2")][_0x4b1c("0x2cd")],e=!0,t=!1,a=void 0;try{for(var n,r=(0,i[_0x4b1c("0xc")])(x.geometry[_0x4b1c("0x165")][_0x4b1c("0x42e")]);!(e=(n=r[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);e=!0){var s=n.value;if(c===s.id){var o=0;o=_?x.geometry.index.count:x[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x105")].count;var f=x[_0x4b1c("0xf2")].groups;0==f[_0x4b1c("0x0")]&&(f=[{start:0,count:o,materialIndex:2}]);var l=this[_0x4b1c("0x447")](s[_0x4b1c("0x1af")],s[_0x4b1c("0x1af")]+s[_0x4b1c("0x106")],b?0:2,f);x.geometry[_0x4b1c("0x17f")]();var d=!0,u=!1,h=void 0;try{for(var g,v=(0,i[_0x4b1c("0xc")])(l);!(d=(g=v[_0x4b1c("0x286")]()).done);d=!0){var p=g[_0x4b1c("0x13a")];x[_0x4b1c("0xf2")][_0x4b1c("0x180")](p.start,p[_0x4b1c("0x106")],p[_0x4b1c("0x448")])}}catch(x){u=!0,h=x}finally{try{!d&&v.return&&v[_0x4b1c("0x28a")]()}finally{if(u)throw h}}break}}}catch(x){t=!0,a=x}finally{try{!e&&r[_0x4b1c("0x28a")]&&r[_0x4b1c("0x28a")]()}finally{if(t)throw a}}x[_0x4b1c("0xf2")][_0x4b1c("0x165")][_0x4b1c("0x455")]||(x[_0x4b1c("0xf2")][_0x4b1c("0x165")][_0x4b1c("0x455")]={}),x.geometry[_0x4b1c("0x165")][_0x4b1c("0x455")][c]=b}},{key:"setTargetModelSelected",value:function(x,c,b){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,e=x[_0x4b1c("0x108")];if(e&&e[_0x4b1c("0xf1")][_0x4b1c("0x0")]>0){var t=!0,a=!1,n=void 0;try{for(var r,s=(0,i.default)(e[_0x4b1c("0xf1")]);!(t=(r=s[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);t=!0){var o=r[_0x4b1c("0x13a")];if(o[_0x4b1c("0x78")]==_0x4b1c("0x197")){var f=!!o[_0x4b1c("0xf2")].index;if(!(o.name[_0x4b1c("0x114")]("_hidden")>-1)){var l=!0,d=!1,u=void 0;try{for(var h,g=(0,i.default)(o[_0x4b1c("0xf2")][_0x4b1c("0x165")][_0x4b1c("0x42e")]);!(l=(h=g[_0x4b1c("0x286")]()).done);l=!0){var v=h.value;if(c===v.id){f?o[_0x4b1c("0xf2")][_0x4b1c("0x2cd")][_0x4b1c("0x106")]:o[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")];var p=this[_0x4b1c("0x447")](v.start,v.start+v[_0x4b1c("0x106")],b?1:_,o.geometry[_0x4b1c("0x446")]);o[_0x4b1c("0xf2")][_0x4b1c("0x17f")]();var m=!0,A=!1,y=void 0;try{for(var C,I=(0,i[_0x4b1c("0xc")])(p);!(m=(C=I[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);m=!0){var E=C[_0x4b1c("0x13a")];o[_0x4b1c("0xf2")][_0x4b1c("0x180")](E[_0x4b1c("0x1af")],E.count,E[_0x4b1c("0x448")])}}catch(x){A=!0,y=x}finally{try{!m&&I[_0x4b1c("0x28a")]&&I[_0x4b1c("0x28a")]()}finally{if(A)throw y}}break}}}catch(x){d=!0,u=x}finally{try{!l&&g[_0x4b1c("0x28a")]&&g.return()}finally{if(d)throw u}}}}}}catch(x){a=!0,n=x}finally{try{!t&&s[_0x4b1c("0x28a")]&&s[_0x4b1c("0x28a")]()}finally{if(a)throw n}}}}},{key:_0x4b1c("0x456"),value:function(x,c){var b=!0,_=!1,e=void 0;try{for(var t,a=(0,i[_0x4b1c("0xc")])(c);!(b=(t=a[_0x4b1c("0x286")]()).done);b=!0){var n=t[_0x4b1c("0x13a")],r=3*x;if(r>=n.start&&r<n[_0x4b1c("0x1af")]+n[_0x4b1c("0x106")])return n}}catch(x){_=!0,e=x}finally{try{!b&&a.return&&a[_0x4b1c("0x28a")]()}finally{if(_)throw e}}}},{key:_0x4b1c("0x457"),value:function(){this[_0x4b1c("0x100")][_0x4b1c("0x0")]=0,this[_0x4b1c("0x408")][_0x4b1c("0x0")]=0}},{key:_0x4b1c("0x458"),value:function(x,c,b){if(x&&x[_0x4b1c("0xf1")].length>0){var _=!0,e=!1,t=void 0;try{for(var a,n=(0,i[_0x4b1c("0xc")])(x[_0x4b1c("0xf1")]);!(_=(a=n[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);_=!0){var r=a[_0x4b1c("0x13a")];if(!r[_0x4b1c("0xf2")][_0x4b1c("0x165")].groupData)return!1;var s=!0,o=!1,f=void 0;try{for(var l,d=(0,i[_0x4b1c("0xc")])(r.geometry[_0x4b1c("0x165")].groupData);!(s=(l=d[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);s=!0){var u=l[_0x4b1c("0x13a")],h=!0,g=!1,v=void 0;try{for(var p,m=(0,i[_0x4b1c("0xc")])(c);!(h=(p=m[_0x4b1c("0x286")]()).done);h=!0){if(p[_0x4b1c("0x13a")]===u.id){var A=this[_0x4b1c("0x447")](u[_0x4b1c("0x1af")],u[_0x4b1c("0x1af")]+u[_0x4b1c("0x106")],b?0:2,r[_0x4b1c("0xf2")][_0x4b1c("0x446")]);r[_0x4b1c("0xf2")][_0x4b1c("0x17f")]();var y=!0,C=!1,I=void 0;try{for(var E,w=(0,i[_0x4b1c("0xc")])(A);!(y=(E=w[_0x4b1c("0x286")]()).done);y=!0){var T=E[_0x4b1c("0x13a")];r[_0x4b1c("0xf2")][_0x4b1c("0x180")](T.start,T[_0x4b1c("0x106")],T[_0x4b1c("0x448")])}}catch(x){C=!0,I=x}finally{try{!y&&w[_0x4b1c("0x28a")]&&w.return()}finally{if(C)throw I}}}}}catch(x){g=!0,v=x}finally{try{!h&&m[_0x4b1c("0x28a")]&&m[_0x4b1c("0x28a")]()}finally{if(g)throw v}}}}catch(x){o=!0,f=x}finally{try{!s&&d[_0x4b1c("0x28a")]&&d[_0x4b1c("0x28a")]()}finally{if(o)throw f}}}}catch(x){e=!0,t=x}finally{try{!_&&n[_0x4b1c("0x28a")]&&n[_0x4b1c("0x28a")]()}finally{if(e)throw t}}}}},{key:_0x4b1c("0x459"),value:function(x,c){if(x&&x[_0x4b1c("0xf1")][_0x4b1c("0x0")]>0){var b=!0,_=!1,e=void 0;try{for(var t,a=(0,i[_0x4b1c("0xc")])(x.children);!(b=(t=a[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);b=!0){var n=t[_0x4b1c("0x13a")];if(!n.geometry[_0x4b1c("0x165")][_0x4b1c("0x42e")])return!1;var r=!0,s=!1,o=void 0;try{for(var f,l=(0,i[_0x4b1c("0xc")])(n[_0x4b1c("0xf2")][_0x4b1c("0x165")].groupData);!(r=(f=l.next()).done);r=!0){var d=f.value;if(c===d.id)for(var u=d[_0x4b1c("0x1af")],h=0;h<n.geometry[_0x4b1c("0x446")][_0x4b1c("0x0")];h++)if(n[_0x4b1c("0xf2")][_0x4b1c("0x446")][h][_0x4b1c("0x1af")]+n[_0x4b1c("0xf2")][_0x4b1c("0x446")][h][_0x4b1c("0x106")]>u)return 0==n[_0x4b1c("0xf2")][_0x4b1c("0x446")][h][_0x4b1c("0x448")]}}catch(x){s=!0,o=x}finally{try{!r&&l[_0x4b1c("0x28a")]&&l[_0x4b1c("0x28a")]()}finally{if(s)throw o}}}}catch(x){_=!0,e=x}finally{try{!b&&a.return&&a.return()}finally{if(_)throw e}}}}},{key:_0x4b1c("0x447"),value:function(x,c,b,_,e){var t=this,i=[];_.forEach((function(x){i[_0x4b1c("0x12")]({start:x[_0x4b1c("0x1af")],count:x[_0x4b1c("0x106")],materialIndex:x.materialIndex}),e&&t.lastSelectMathInfo[_0x4b1c("0x12")]({start:x[_0x4b1c("0x1af")],end:x.start+x.count,materialIndex:x[_0x4b1c("0x448")]})}));for(var a,n=[],r=0;r<i[_0x4b1c("0x0")];r++){var s=i[r],o=s[_0x4b1c("0x1af")]+s.count,f=x>=s[_0x4b1c("0x1af")]&&x<o,l=c<=o&&c>s[_0x4b1c("0x1af")];(f||l)&&s[_0x4b1c("0x448")]!=b?f&&l?(e&&(t[_0x4b1c("0x450")]=s[_0x4b1c("0x448")]),x>s[_0x4b1c("0x1af")]&&n[_0x4b1c("0x12")]({start:s[_0x4b1c("0x1af")],count:x-s[_0x4b1c("0x1af")],materialIndex:s[_0x4b1c("0x448")]}),n[_0x4b1c("0x12")]({start:x,count:c-x,materialIndex:b}),c<o&&n[_0x4b1c("0x12")]({start:c,count:o-c,materialIndex:s[_0x4b1c("0x448")]})):f?(e&&(t[_0x4b1c("0x450")]=s[_0x4b1c("0x448")]),x>s[_0x4b1c("0x1af")]&&n[_0x4b1c("0x12")]({start:s[_0x4b1c("0x1af")],count:x-s[_0x4b1c("0x1af")],materialIndex:s[_0x4b1c("0x448")]}),n[_0x4b1c("0x12")]({start:x,count:o-x,materialIndex:b})):l&&(c<o&&n[_0x4b1c("0x12")]({start:c,count:o-c,materialIndex:s.materialIndex}),n[_0x4b1c("0x12")]({start:s[_0x4b1c("0x1af")],count:c-s[_0x4b1c("0x1af")],materialIndex:b})):(x<=s[_0x4b1c("0x1af")]&&s[_0x4b1c("0x1af")]+s[_0x4b1c("0x106")]<=c&&(s[_0x4b1c("0x448")]=b),n[_0x4b1c("0x12")](s))}n[_0x4b1c("0x42b")]((a=_0x4b1c("0x1af"),function(x,c){return x[a]-c[a]}));for(var d=0;d<n[_0x4b1c("0x0")]-1;d++)n[d][_0x4b1c("0x448")]==n[d+1].materialIndex&&(n[d][_0x4b1c("0x106")]+=n[d+1][_0x4b1c("0x106")],n[_0x4b1c("0x5")](d+1,1),d--);return n}}]),x}();c.default=f},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=i(b(0)),e=i(b(1));c.default=function(x,c,b){return new a(x,c,b)};var t=b(4);function i(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var a=function(){function x(c,b,e,t){if((0,_.default)(this,x),x[_0x4b1c("0x45a")](c))this.element=c;else{if(c instanceof x)return c;this.element=document[_0x4b1c("0x21")](c)}this[_0x4b1c("0x45c")](b),this[_0x4b1c("0x23")](e),this[_0x4b1c("0x45d")](t)}return(0,e[_0x4b1c("0xc")])(x,null,[{key:_0x4b1c("0x45a"),value:function(x){return!(!x||1!==x[_0x4b1c("0x123")]||void 0===x[_0x4b1c("0x45b")])}}]),(0,e.default)(x,[{key:_0x4b1c("0x23"),value:function(x,c){var b=this;return x?typeof x===_0x4b1c("0xd")&&void 0===c?this[_0x4b1c("0x45e")][_0x4b1c("0x23")][x]:((0,t[_0x4b1c("0x17")])(x)?(0,t[_0x4b1c("0x18")])(x,(function(x,c){b.element.style[c]=x})):this[_0x4b1c("0x45e")][_0x4b1c("0x23")][x]=c,this):this}},{key:"attr",value:function(x,c){var b=this;return x?typeof x===_0x4b1c("0xd")&&void 0===c?this[_0x4b1c("0x45e")][_0x4b1c("0x435")](x):((0,t[_0x4b1c("0x17")])(x)?(0,t[_0x4b1c("0x18")])(x,(function(x,c){b[_0x4b1c("0x45e")][_0x4b1c("0x1d4")](c,x)})):this[_0x4b1c("0x45e")].setAttribute(x,c),this):this}},{key:_0x4b1c("0x45d"),value:function(x,c){var b=this;if(!x)return this;function _(x){return(0,t[_0x4b1c("0x19")])(x,"on")?x:"on"+x}return(0,t[_0x4b1c("0x17")])(x)?(0,t[_0x4b1c("0x18")])(x,(function(x,c){b[_0x4b1c("0x45e")][_(c)]=x})):this[_0x4b1c("0x45e")][_(x)]=c,this}}]),x}()},function(x,c,b){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c[_0x4b1c("0x45f")]=function(x){var c,b,_,e,t,i=_0x4b1c("0x460")+_0x4b1c("0x461")+"ABCDEFGHIJKLMNOP"+_0x4b1c("0x462")+"=",a="",n="",r="",s=0;do{_=(c=x.charCodeAt(s++))>>4,e=(3&c)<<4|(b=x[_0x4b1c("0x2d")](s++))>>4,t=(15&b)<<2|(n=x[_0x4b1c("0x2d")](s++))>>6,r=63&n,isNaN(b)?t=r=64:isNaN(n)&&(r=64),a=a+i[_0x4b1c("0x463")](_)+i[_0x4b1c("0x463")](e)+i[_0x4b1c("0x463")](t)+i[_0x4b1c("0x463")](r),c=b=n="",_=e=t=r=""}while(s<x[_0x4b1c("0x0")]);return a},c[_0x4b1c("0x10a")]=function(x,c){for(var b=_(x),e=0;e<16;e++)for(var t=0;t<b[_0x4b1c("0x0")];t++)c[e]=c[e]^b[t]};var _=function(x){for(var c=[],b=0;b<x[_0x4b1c("0x0")];b++)c[b]=x[_0x4b1c("0x2d")](b);return c}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}Array[_0x4b1c("0xf")].fill||Object.defineProperty(Array[_0x4b1c("0xf")],_0x4b1c("0x464"),{value:function(x){if(null==this)throw new TypeError(_0x4b1c("0x465"));for(var c=Object(this),b=c.length>>>0,_=arguments[1]>>0,e=_<0?Math[_0x4b1c("0x2f5")](b+_,0):Math[_0x4b1c("0x2f6")](_,b),t=arguments[2],i=void 0===t?b:t>>0,a=i<0?Math[_0x4b1c("0x2f5")](b+i,0):Math.min(i,b);e<a;)c[e]=x,e++;return c}});var i=function(){function x(c){var b=c[_0x4b1c("0x466")],e=void 0===b?"#FFFFFF":b;(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x467")]=(new(THREE[_0x4b1c("0x146")]))[_0x4b1c("0x27c")](e),this[_0x4b1c("0xf4")]=null}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x468"),value:function(x){var c=x[_0x4b1c("0xef")][_0x4b1c("0x469")][_0x4b1c("0x0")];if(c>0){for(var b=x[_0x4b1c("0xf2")][_0x4b1c("0x435")](_0x4b1c("0x105")),_=new Array(b.count),e=0;e<c;e++){var t=x[_0x4b1c("0xef")].brothers[e].faceRange[0],i=x[_0x4b1c("0xef")][_0x4b1c("0x469")][e][_0x4b1c("0x46a")][0],a=x[_0x4b1c("0xef")][_0x4b1c("0x469")][e][_0x4b1c("0x46b")][1];_[_0x4b1c("0x464")](1,t,i),_.fill(0,i,a)}x[_0x4b1c("0xf2")][_0x4b1c("0x43c")](_0x4b1c("0x46c"),new(THREE[_0x4b1c("0x43b")])(new Float32Array(_),1))}}},{key:_0x4b1c("0x46d"),value:function(x){var c=x[_0x4b1c("0x46e")],b=x.sideTexture;c&&c[_0x4b1c("0x40c")](),b&&b[_0x4b1c("0x40c")](),this[_0x4b1c("0xf4")]=new(THREE[_0x4b1c("0x46f")])({color:this.buildingColor}),this[_0x4b1c("0xf4")].name=_0x4b1c("0x470");var _=this;return this[_0x4b1c("0xf4")][_0x4b1c("0x471")]=function(x){x[_0x4b1c("0x148")][_0x4b1c("0x472")]={value:0},c&&(x[_0x4b1c("0x148")].isTopTex[_0x4b1c("0x13a")]=1,x.uniforms[_0x4b1c("0x473")]={value:c},x[_0x4b1c("0x148")].topTexMat={value:c.matrix}),x[_0x4b1c("0x148")][_0x4b1c("0x474")]={value:0},b&&(x[_0x4b1c("0x148")].isSideTex[_0x4b1c("0x13a")]=1,x[_0x4b1c("0x148")][_0x4b1c("0x475")]={value:b},x.uniforms[_0x4b1c("0x476")]={value:b[_0x4b1c("0x22d")]}),x[_0x4b1c("0x14a")]=x.vertexShader[_0x4b1c("0x14c")](_0x4b1c("0x477"),_0x4b1c("0x478")),x.vertexShader=x.vertexShader[_0x4b1c("0x14c")](_0x4b1c("0x14d"),_0x4b1c("0x479")),x[_0x4b1c("0x150")]=x.fragmentShader[_0x4b1c("0x14c")]("uniform float opacity;",_0x4b1c("0x47a")),x.fragmentShader=x[_0x4b1c("0x150")].replace(_0x4b1c("0x47b"),_0x4b1c("0x47c")),_[_0x4b1c("0x47d")]=x,_[_0x4b1c("0xf4")][_0x4b1c("0x47d")]=x},this[_0x4b1c("0xf4")]}}]),x}();c.default=i},,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=i(b(0)),e=i(b(1)),t=b(4);function i(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var a=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x4e")]=c[_0x4b1c("0x4e")];var b=this[_0x4b1c("0x4e")],e=c.data;this[_0x4b1c("0x78")]=c[_0x4b1c("0x78")]||_0x4b1c(e?"0x488":"0x489");var i=this[_0x4b1c("0x78")],a=null==c[_0x4b1c("0x485")]||c[_0x4b1c("0x485")];this[_0x4b1c("0x48a")]=c[_0x4b1c("0x48a")]||!1,this[_0x4b1c("0x483")]=!1,this[_0x4b1c("0x480")],this[_0x4b1c("0x47f")],this[_0x4b1c("0x48b")],this[_0x4b1c("0x47e")]=new(t[_0x4b1c("0x48c")]),this._successCallbacks=new t.Callbacks,this[_0x4b1c("0x484")]=new(t[_0x4b1c("0x48c")]),this[_0x4b1c("0x48d")],this._initHttpServer(),this._httpServer[_0x4b1c("0x2dd")](i,b,a),this[_0x4b1c("0x48d")][_0x4b1c("0x48e")]=this[_0x4b1c("0x48f")][_0x4b1c("0xe")](this),i==_0x4b1c("0x489")&&(this[_0x4b1c("0x48a")]||this[_0x4b1c("0x4e")].indexOf(_0x4b1c("0x490"))>0)&&this.isArrayBuffer&&(this._httpServer[_0x4b1c("0x491")]=_0x4b1c("0x492")),i===_0x4b1c("0x488")&&(this[_0x4b1c("0x48d")][_0x4b1c("0x493")](_0x4b1c("0x494"),_0x4b1c("0x495")),this._httpServer.setRequestHeader(_0x4b1c("0x496"),_0x4b1c("0x497")),this._httpServer[_0x4b1c("0x493")](_0x4b1c("0x498"),_0x4b1c("0x499")));try{this[_0x4b1c("0x48d")][_0x4b1c("0x49a")](e)}catch(x){}}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x2d2"),value:function(x){return this[_0x4b1c("0x47e")][_0x4b1c("0xdd")](x),this._isComplete&&this[_0x4b1c("0x47e")][_0x4b1c("0xe7")](this[_0x4b1c("0x47f")],this[_0x4b1c("0x480")]),this}},{key:_0x4b1c("0x481"),value:function(x){return this[_0x4b1c("0x482")][_0x4b1c("0xdd")](x),this[_0x4b1c("0x483")]&&this[_0x4b1c("0x480")]===_0x4b1c("0x481")&&this[_0x4b1c("0x482")][_0x4b1c("0xe7")](this[_0x4b1c("0x47f")]),this}},{key:_0x4b1c("0xe3"),value:function(x){return this[_0x4b1c("0x484")][_0x4b1c("0xdd")](x),this[_0x4b1c("0x483")]&&"error"===this[_0x4b1c("0x480")]&&this[_0x4b1c("0x484")].fire(this[_0x4b1c("0x47f")]),this}}],[{key:"get",value:function(c){return new x({url:c[_0x4b1c("0x4e")],isArrayBuffer:c.isArrayBuffer,async:c[_0x4b1c("0x485")]})}},{key:_0x4b1c("0x486"),value:function(c){var b=new x({url:c[_0x4b1c("0x4e")],async:c[_0x4b1c("0x485")]});return b[_0x4b1c("0x481")](function(x){var c;try{c=JSON[_0x4b1c("0x71")](x)}catch(x){console[_0x4b1c("0x226")](x),this[_0x4b1c("0x4e")],b[_0x4b1c("0x487")]()}return[c]}[_0x4b1c("0xe")](b)),b}},{key:"post",value:function(c,b){return new x({url:c,data:b})}}]),(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x49b"),value:function(){window[_0x4b1c("0x49c")]?this[_0x4b1c("0x48d")]=new ActiveXObject(_0x4b1c("0x49d")):window.XMLHttpRequest?this[_0x4b1c("0x48d")]=new XMLHttpRequest:console[_0x4b1c("0xe3")]("Platform does not support HTTP！")}},{key:_0x4b1c("0x48f"),value:function(){4===this[_0x4b1c("0x48d")][_0x4b1c("0x49e")]&&(this[_0x4b1c("0x483")]=!0,this[_0x4b1c("0x49f")]())}},{key:_0x4b1c("0x4a0"),value:function(){this._completeCallbacks[_0x4b1c("0xe7")](this[_0x4b1c("0x47f")],this[_0x4b1c("0x480")]),this._successCallbacks.fire(this._responseData)}},{key:_0x4b1c("0x49f"),value:function(){200==this._httpServer[_0x4b1c("0x2dc")]||0==this._httpServer[_0x4b1c("0x2dc")]&&_0x4b1c("0x4a1")==window.location[_0x4b1c("0x4a2")]?(this[_0x4b1c("0x480")]=_0x4b1c("0x481"),"GET"==this.type&&(this.isArrayBuffer||this[_0x4b1c("0x4e")][_0x4b1c("0x114")](".loc")>0)?this[_0x4b1c("0x47f")]=this[_0x4b1c("0x48d")][_0x4b1c("0x4a3")]:this._responseData=this[_0x4b1c("0x48d")][_0x4b1c("0x4a4")],this[_0x4b1c("0x4a0")]()):(this[_0x4b1c("0x480")]=_0x4b1c("0xe3"),this[_0x4b1c("0x47f")]=this[_0x4b1c("0x48d")][_0x4b1c("0x4a3")],this[_0x4b1c("0x48b")]=this[_0x4b1c("0x48d")][_0x4b1c("0x2dc")],this[_0x4b1c("0x487")]())}},{key:"_errorCallback",value:function(){this[_0x4b1c("0x47e")].fire(this[_0x4b1c("0x47f")],this._status),this[_0x4b1c("0x484")][_0x4b1c("0xe7")](this._responseData)}}]),x}();c[_0x4b1c("0xc")]=a},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=i(b(9)),e=i(b(0)),t=i(b(1));function i(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var a=function(){function x(c){var b=c[_0x4b1c("0x466")],_=void 0===b?_0x4b1c("0x126"):b,t=c[_0x4b1c("0x4a5")],i=void 0===t||t,a=c[_0x4b1c("0x1a4")],n=void 0===a?1:a;(0,e[_0x4b1c("0xc")])(this,x),this.bgColor=new(THREE[_0x4b1c("0x146")])(_),this[_0x4b1c("0x4a5")]=i,this[_0x4b1c("0x1a4")]=n,this[_0x4b1c("0x47d")]=null,this[_0x4b1c("0x4a6")]=null,this[_0x4b1c("0x4a7")]=null}return(0,t[_0x4b1c("0xc")])(x,[{key:"createMaterial",value:function(x,c){this.curTexture=x,this[_0x4b1c("0x4a7")]=c;var b=this,_=new(THREE[_0x4b1c("0x144")])({color:16777215,transparent:!0});return _.onBeforeCompile=function(_){_[_0x4b1c("0x148")].transFactor={value:0},_[_0x4b1c("0x148")][_0x4b1c("0x4a8")]={value:.8},_[_0x4b1c("0x148")].texture1={value:x},_.uniforms.texture2={value:c},_[_0x4b1c("0x148")][_0x4b1c("0x4a9")]={value:b[_0x4b1c("0x4a9")]},_[_0x4b1c("0x14a")]=_[_0x4b1c("0x14a")].replace("#include <uv_pars_vertex>",_0x4b1c("0x4aa")),_[_0x4b1c("0x14a")]=_[_0x4b1c("0x14a")][_0x4b1c("0x14c")](_0x4b1c("0x14d"),_0x4b1c("0x4ab")),_[_0x4b1c("0x150")]=_[_0x4b1c("0x150")][_0x4b1c("0x14c")]("uniform float opacity;",_0x4b1c("0x4ac")+(b[_0x4b1c("0x4a5")]?_0x4b1c("0x4ad"):"")+_0x4b1c("0x4ae")),_.fragmentShader=_.fragmentShader[_0x4b1c("0x14c")](_0x4b1c("0x151"),_0x4b1c("0x4af")),b[_0x4b1c("0x47d")]=_},_}},{key:_0x4b1c("0x164"),value:function(x){var c=this,b=this;return new(_[_0x4b1c("0xc")])((function(_){x?(x[_0x4b1c("0x188")]=!0,b[_0x4b1c("0x47d")]?(c.shader.uniforms[_0x4b1c("0x4b0")][_0x4b1c("0x13a")]=x,b.animate&&b.animate.stop(),b.animate=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])({x:0}).to({x:1},1e3*b[_0x4b1c("0x1a4")])[_0x4b1c("0x1a8")](esmap.TWEEN[_0x4b1c("0x1a9")][_0x4b1c("0x245")].None).onUpdate((function(x){b[_0x4b1c("0x47d")][_0x4b1c("0x148")].transFactor[_0x4b1c("0x13a")]=x.x}))[_0x4b1c("0x1ac")]((function(){c.shader[_0x4b1c("0x148")][_0x4b1c("0x4b1")][_0x4b1c("0x13a")]=x}))[_0x4b1c("0x1af")]()):_()):_()}))}}]),x}();c[_0x4b1c("0xc")]=a},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0x6b")]=c.on=c.CSSFILTER=c[_0x4b1c("0x4b2")]=c[_0x4b1c("0x4b3")]=c[_0x4b1c("0x4b4")]=void 0,c[_0x4b1c("0x4b5")]=o,c[_0x4b1c("0x4b6")]=function(x,c,b){var _=o(x);c&&g(_,c);b&&b[_0x4b1c("0x1d7")](_);return _},c.removeDomNode=f,c[_0x4b1c("0x4b7")]=l,c[_0x4b1c("0x4b8")]=d,c[_0x4b1c("0x4b9")]=u,c.preventDefault=function(x){x[_0x4b1c("0x4d8")]?x.preventDefault():x.returnValue=!1;return this},c[_0x4b1c("0x379")]=function(x){x[_0x4b1c("0x379")]?x.stopPropagation():x[_0x4b1c("0x4d9")]=!0;return this},c[_0x4b1c("0x4ba")]=function(x){return x[_0x4b1c("0x4da")]=function(){return!1},x.ondragstart=function(){return!1},x[_0x4b1c("0x1d4")](_0x4b1c("0x4db"),"on"),this},c[_0x4b1c("0x4bb")]=function(x,c){if(!x)return null;t[_0x4b1c("0xc")][_0x4b1c("0x4dc")]?A(x,c):(x[_0x4b1c("0x23")][_0x4b1c("0x359")]=c.x+"px",x[_0x4b1c("0x23")].top=c.y+"px");return c},c[_0x4b1c("0x4bc")]=h,c[_0x4b1c("0x4bd")]=function(x,c){x||(x=window[_0x4b1c("0x4e1")]);var b=c[_0x4b1c("0x4e0")];b||(b=h(c));return new Point(x[_0x4b1c("0x4e2")]/b[2]-b[0]-c[_0x4b1c("0x4e3")],x[_0x4b1c("0x4e4")]/b[3]-b[1]-c.clientTop)},c[_0x4b1c("0x27c")]=g,c[_0x4b1c("0x4be")]=v,c.addClass=function(x,c){if(void 0===x.classList||v(x,c)){var b=m(x);p(x,(b?b+" ":"")+c)}else for(var _=(0,n[_0x4b1c("0x4e9")])(c),e=0,t=_.length;e<t;e++)x[_0x4b1c("0x4e5")].add(_[e]);return this},c.setClass=p,c.getClass=m,c.setOpacity=function(x,c){return x.style[_0x4b1c("0x129")]=c,this},c[_0x4b1c("0x4bf")]=A,c[_0x4b1c("0x4c0")]=function(x,c){var b="matrix("+((0,a.isString)(c)?c:c[_0x4b1c("0x4f1")]())+")";x[_0x4b1c("0x23")][s]!==b&&(x[_0x4b1c("0x23")][s]=b);return this},c[_0x4b1c("0x4c1")]=function(x){x[_0x4b1c("0x23")][s]&&(x[_0x4b1c("0x23")][s]="");return this},c.isHTML=function(x){return/<[a-z\][\s\S]*>/i[_0x4b1c("0x2a")](x)},c[_0x4b1c("0x4c2")]=function(x,c){var b=y(x);(0,a[_0x4b1c("0x367")])(c)?b.innerHTML=c:b[_0x4b1c("0x1d7")](c);var _=new Size(b.clientWidth,b[_0x4b1c("0x4f2")]);return f(b),_},c[_0x4b1c("0x4c3")]=y;var _,e=b(144),t=(_=e)&&_[_0x4b1c("0xb")]?_:{default:_},i=b(77),a=b(4),n=b(289);var r=i[_0x4b1c("0x1da")]?function(x){return x[0]}:function(x){for(var c=document[_0x4b1c("0x4c4")][_0x4b1c("0x23")],b=0;b<x[_0x4b1c("0x0")];b++)if(x[b]in c)return x[b];return!1},s=c[_0x4b1c("0x4b4")]=r([_0x4b1c("0x4c5"),_0x4b1c("0x4c6"),_0x4b1c("0x4c7"),"MozTransform",_0x4b1c("0x4c8")]);c[_0x4b1c("0x4b3")]=r(["transformOrigin",_0x4b1c("0x4c9"),_0x4b1c("0x4ca"),_0x4b1c("0x4cb"),_0x4b1c("0x4cc")]),c.TRANSITION=r([_0x4b1c("0x4cd"),"WebkitTransition","OTransition",_0x4b1c("0x4ce"),_0x4b1c("0x4cf")]),c.CSSFILTER=r([_0x4b1c("0x2db"),_0x4b1c("0x4d0"),"OFilter",_0x4b1c("0x4d1"),"msFilter"]);function o(x,c){var b=document.createElement(x);return c&&p(b,c),b}function f(x){if(!x)return this;if(t.default[_0x4b1c("0x4d2")]||t[_0x4b1c("0xc")].ie9){var c=o(_0x4b1c("0x1c8"));c[_0x4b1c("0x1d7")](x),c[_0x4b1c("0x1d6")]="",c=null}else x[_0x4b1c("0x4d3")]&&x[_0x4b1c("0x4d3")][_0x4b1c("0x29")](x);return this}function l(x,c,b,_){if(!(x&&x[_0x4b1c("0x37")]&&c&&b))return this;for(var e=function(c){c||(c=window.event),b[_0x4b1c("0x2")](_||x,c)},i=c.split(" "),a=i[_0x4b1c("0x0")]-1;a>=0;a--){var n=i[a];if(n)x[_0x4b1c("0x372")+n]||(x[_0x4b1c("0x372")+n]=[]),u(x,n,b)>=0&&d(x,n,b),x[_0x4b1c("0x372")+n].push({callback:e,src:b}),"mousewheel"===n&&t.default[_0x4b1c("0x4d4")]&&(n=_0x4b1c("0x4d5")),x[_0x4b1c("0x37")](n,e,!1)}return this}function d(x,c,b){function _(c,b){c===_0x4b1c("0x4d6")&&t[_0x4b1c("0xc")][_0x4b1c("0x4d4")]&&(c="DOMMouseScroll"),x.removeEventListener(c,b,!1)}if(!x||!x[_0x4b1c("0x29e")]||!c)return this;for(var e=c[_0x4b1c("0x2c")](" "),i=e.length-1;i>=0;i--){var a=e[i];if(a){if(!b&&x[_0x4b1c("0x372")+a]){for(var n=x[_0x4b1c("0x372")+a],r=0,s=n[_0x4b1c("0x0")];r<s;r++)_(n[r][_0x4b1c("0x1b0")]);return delete x["Z__"+a],this}var o=u(x,a,b);if(o<0)return this;_(a,x[_0x4b1c("0x372")+a][o][_0x4b1c("0x1b0")]),x["Z__"+a][_0x4b1c("0x5")](o,1)}}return this}function u(x,c,b){if(!x||!x[_0x4b1c("0x372")+c]||!b)return-1;for(var _=x[_0x4b1c("0x372")+c],e=0,t=_[_0x4b1c("0x0")];e<t;e++)if(_[e][_0x4b1c("0x4d7")]===b)return e;return-1}function h(x){var c=window[_0x4b1c("0x4dd")](x),b=[parseInt(c[_0x4b1c("0x4de")]),parseInt(c["padding-top"])],_=x[_0x4b1c("0x4df")](),e=x[_0x4b1c("0x27")],t=x[_0x4b1c("0x28")],i=e?_.width/e:1,a=t?_[_0x4b1c("0x1a3")]/t:1;return x.__position=[_.left+b[0],_[_0x4b1c("0x35b")]+b[1],i,a],x[_0x4b1c("0x4e0")]}function g(x,c){var b,_,e,t=x[_0x4b1c("0x23")][_0x4b1c("0x24")];return _=";",(e=(b=t)[_0x4b1c("0x0")]-_[_0x4b1c("0x0")])>=0&&b.indexOf(_,e)===e||(t+=";"),x[_0x4b1c("0x23")][_0x4b1c("0x24")]=t+c,this}function v(x,c){if(void 0!==x[_0x4b1c("0x4e5")])return x.classList[_0x4b1c("0x4e6")](c);var b=m(x);return b[_0x4b1c("0x0")]>0&&new RegExp(_0x4b1c("0x4e7")+c+_0x4b1c("0x4e8"))[_0x4b1c("0x2a")](b)}function p(x,c){return(0,a.isNil)(x[_0x4b1c("0x4ea")][_0x4b1c("0x4eb")])?x[_0x4b1c("0x4ea")]=c:x[_0x4b1c("0x4ea")][_0x4b1c("0x4eb")]=c,this}function m(x){return(0,a[_0x4b1c("0x36f")])(x[_0x4b1c("0x4ea")][_0x4b1c("0x4eb")])?x[_0x4b1c("0x4ea")]:x[_0x4b1c("0x4ea")][_0x4b1c("0x4eb")]}function A(x,c){var b=c||new Point(0,0);return x.style[s]=t[_0x4b1c("0xc")].any3d?_0x4b1c("0x4ec")+b.x+_0x4b1c("0x4ed")+b.y+_0x4b1c("0x4ee"):_0x4b1c("0x4ef")+b.x+_0x4b1c("0x4ed")+b.y+_0x4b1c("0x4f0"),this}function y(x){var c=document[_0x4b1c("0x21")](x);return c.style[_0x4b1c("0x24")]="position:absolute;left:-10000px;top:-10000px;",document[_0x4b1c("0x26")][_0x4b1c("0x1d7")](c),c}c.on=l,c[_0x4b1c("0x6b")]=d},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _={};if(!b(77).IS_NODE){var e=navigator.userAgent.toLowerCase(),t=document[_0x4b1c("0x4c4")],i=_0x4b1c("0x49c")in window,a=-1!==e.indexOf(_0x4b1c("0x4f3")),n=-1!==e[_0x4b1c("0x114")](_0x4b1c("0x4f4")),r=-1!==e[_0x4b1c("0x4f5")](_0x4b1c("0x4f6")),s=-1!==e.indexOf(_0x4b1c("0x4f7")),o=-1!==e[_0x4b1c("0x114")](_0x4b1c("0x4d4"))&&!a&&!window[_0x4b1c("0x4f8")]&&!i,f=typeof orientation!==_0x4b1c("0x8")||-1!==e[_0x4b1c("0x114")](_0x4b1c("0x4f9")),l=!window[_0x4b1c("0x4fa")]&&window[_0x4b1c("0x4fb")],d=window[_0x4b1c("0x4fa")]&&navigator.pointerEnabled||l,u=i&&_0x4b1c("0x4cd")in t.style,h=_0x4b1c("0x4fc")in window&&_0x4b1c("0x4fd")in new window.WebKitCSSMatrix&&!r,g="MozPerspective"in t.style,v=_0x4b1c("0x4fe")in t[_0x4b1c("0x23")],p=(u||h||g)&&!v&&!n,m=0;s&&(m=e[_0x4b1c("0x2a6")](/chrome\/([\d.]+)/)[1]);var A=!n&&(d||_0x4b1c("0x4ff")in window||window[_0x4b1c("0x500")]&&document instanceof window.DocumentTouch),y=void 0;try{var C=document[_0x4b1c("0x21")]("canvas"),I=C.getContext(_0x4b1c("0x501"))||C[_0x4b1c("0x332")]("experimental-webgl");y=I&&I instanceof WebGLRenderingContext}catch(x){y=!1}_={ie:i,ielt9:i&&!document.addEventListener,edge:_0x4b1c("0x502")in navigator&&!(_0x4b1c("0x503")in document),webkit:a,gecko:o,android:-1!==e.indexOf(_0x4b1c("0x504")),android23:r,chrome:s,chromeVersion:m,safari:!s&&-1!==e[_0x4b1c("0x114")]("safari"),phantomjs:n,ie3d:u,webkit3d:h,gecko3d:g,opera12:v,any3d:p,mobile:f,mobileWebkit:f&&a,mobileWebkit3d:f&&h,mobileOpera:f&&window[_0x4b1c("0x4f8")],mobileGecko:f&&o,touch:!!A,msPointer:!!l,pointer:!!d,retina:(window[_0x4b1c("0x505")]||window[_0x4b1c("0x1f")].deviceXDPI/window.screen.logicalXDPI)>1,language:navigator[_0x4b1c("0x506")]?navigator[_0x4b1c("0x506")]:navigator[_0x4b1c("0x507")],ie9:i&&9===document.documentMode,ie10:i&&10===document.documentMode,webgl:y}}c[_0x4b1c("0xc")]=_},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=r(b(21)),e=r(b(5)),t=r(b(0)),i=r(b(1)),a=b(4),n=r(b(290));function r(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var s=function(){function x(c){if((0,t[_0x4b1c("0xc")])(this,x),!this||!this.setOptions)throw new Error(_0x4b1c("0x508"));this[_0x4b1c("0x509")](c),this[_0x4b1c("0x50a")]()}return(0,i.default)(x,[{key:"callInitHooks",value:function(){var x=(0,e[_0x4b1c("0xc")])(this);return this[_0x4b1c("0x50b")](x),this}},{key:_0x4b1c("0x509"),value:function(x){if(this.hasOwnProperty(_0x4b1c("0x47"))||(this.options=this.options?(0,_[_0x4b1c("0xc")])(this[_0x4b1c("0x47")]):{}),!x)return this;for(var c in x)this[_0x4b1c("0x47")][c]=x[c];return this}},{key:"config",value:function(x){if(!x){var c={};for(var b in this.options)this[_0x4b1c("0x47")][_0x4b1c("0x1")](b)&&(c[b]=this[_0x4b1c("0x47")][b]);return c}if(2===arguments[_0x4b1c("0x0")]){var _={};_[x]=arguments[1],x=_}for(var e in x)this[_0x4b1c("0x47")][e]=x[e],this[e]&&this[e]instanceof n[_0x4b1c("0xc")]&&(x[e]?this[e][_0x4b1c("0x50c")]():this[e][_0x4b1c("0x50d")]());return this[_0x4b1c("0x50e")](x),this}},{key:"onConfig",value:function(){}},{key:"_visitInitHooks",value:function(x){if(!this[_0x4b1c("0x50f")]){var c=(0,e.default)(x);c[_0x4b1c("0x50b")]&&c[_0x4b1c("0x50b")][_0x4b1c("0x2")](this,c),this[_0x4b1c("0x50f")]=!0;var b=x._initHooks;if(b&&b!==c[_0x4b1c("0x510")])for(var _=0;_<b.length;_++)b[_][_0x4b1c("0x2")](this)}}}],[{key:"addInitHook",value:function(x){for(var c=arguments[_0x4b1c("0x0")],b=Array(c>1?c-1:0),_=1;_<c;_++)b[_-1]=arguments[_];var t="function"==typeof x?x:function(){this[x][_0x4b1c("0x4")](this,b)},i=this.prototype,a=(0,e[_0x4b1c("0xc")])(i);return i[_0x4b1c("0x510")]&&i[_0x4b1c("0x510")]!==a[_0x4b1c("0x510")]||(i[_0x4b1c("0x510")]=[]),i._initHooks[_0x4b1c("0x12")](t),this}},{key:_0x4b1c("0x511"),value:function(){for(var x=arguments[_0x4b1c("0x0")],c=Array(x),b=0;b<x;b++)c[b]=arguments[b];for(var _=0;_<c[_0x4b1c("0x0")];_++)(0,a[_0x4b1c("0x512")])(this[_0x4b1c("0xf")],c[_]);return this}},{key:_0x4b1c("0x513"),value:function(x){var c=this[_0x4b1c("0xf")],b=(0,e.default)(c);return c[_0x4b1c("0x47")]&&c[_0x4b1c("0x47")]!==b[_0x4b1c("0x47")]||(c.options=c.options?(0,_[_0x4b1c("0xc")])(c[_0x4b1c("0x47")]):{}),(0,a[_0x4b1c("0x512")])(c[_0x4b1c("0x47")],x),this}}]),x}();c.default=s},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(){var c=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{depth:100,inverse:!1,typeID:null,excludeNodeTypes:excludeNodeTypes};(0,_.default)(this,x),this[_0x4b1c("0x514")]=c;var b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];this[_0x4b1c("0x515")]=new(THREE[_0x4b1c("0x516")]),this[_0x4b1c("0x3ed")]=[],this[_0x4b1c("0x517")]=new(THREE[_0x4b1c("0x144")])({color:16711680}),this[_0x4b1c("0x3e")]=b,this[_0x4b1c("0x2fc")]={},this[_0x4b1c("0x518")]=null,this.updateWatchingList()}return(0,e[_0x4b1c("0xc")])(x,[{key:"intersectByStartEnd",value:function(x,c){var b=c[_0x4b1c("0x13e")]().sub(x.clone()).normalize();this[_0x4b1c("0x515")][_0x4b1c("0xdb")](x,b);var _=x.distanceTo(c);this[_0x4b1c("0x515")][_0x4b1c("0x519")]=_;var e=[];if(!this[_0x4b1c("0x518")]){var t=[],i=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x102")],a=this[_0x4b1c("0x3e")].plane_.uuid;i.traverse((function(x){x[_0x4b1c("0x78")]==_0x4b1c("0x197")&&x[_0x4b1c("0x195")]!=a&&t.push(x)})),this.meshList=t}for(var n=0;n<this[_0x4b1c("0x518")].length;n++){var r=this[_0x4b1c("0x518")][n];this.ignoredUuids[r[_0x4b1c("0x195")]]||e[_0x4b1c("0x12")](r)}var s=this[_0x4b1c("0x515")][_0x4b1c("0x51a")](e,!0);return s[_0x4b1c("0x0")]>0?s[0]:null}},{key:_0x4b1c("0x51b"),value:function(){var x=this;if(this[_0x4b1c("0x3ed")]){var c=this[_0x4b1c("0x3e")][_0x4b1c("0x232")];this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")].scene.traverse((function(b){if((b[_0x4b1c("0x78")]==_0x4b1c("0x197")||b[_0x4b1c("0x1f7")]==_0x4b1c("0x107")&&b[_0x4b1c("0xef")])&&b[_0x4b1c("0x1f7")]!=_0x4b1c("0x51c")&&"clearSkyBox"!=b[_0x4b1c("0x1f7")]&&!b[_0x4b1c("0x51d")]){if(x[_0x4b1c("0x2fc")][b[_0x4b1c("0x195")]])return;var _=c[_0x4b1c("0x51e")](b),e=function(c){var b=x[_0x4b1c("0x514")].typeID;if(null!=b){if(c[_0x4b1c("0xef")]){var _=c[_0x4b1c("0xef")];if(_[_0x4b1c("0x469")]){if(_[_0x4b1c("0x469")][_0x4b1c("0x2db")]((function(x){return x[_0x4b1c("0x2f2")]==b}))[_0x4b1c("0x0")]>0)return!0}else if(_[_0x4b1c("0x2f2")]==b)return!0}return!1}return!0}(b),t=!0,i=function(c){var b=x.configs.dataID;if(null!=b){if(c[_0x4b1c("0xef")]){var _=c[_0x4b1c("0xef")];if(_[_0x4b1c("0x469")]){if(_[_0x4b1c("0x469")][_0x4b1c("0x2db")]((function(x){return x.dataID==b}))[_0x4b1c("0x0")]>0)return!0}else if(_.dataID==b)return!0}return!1}return!0}(b);if(x[_0x4b1c("0x514")][_0x4b1c("0x51f")]&&(b[_0x4b1c("0xef")]&&b[_0x4b1c("0xef")][_0x4b1c("0x123")]||b[_0x4b1c("0x123")])){var a=b[_0x4b1c("0xef")]?b[_0x4b1c("0xef")][_0x4b1c("0x123")]:b[_0x4b1c("0x123")];x[_0x4b1c("0x514")][_0x4b1c("0x51f")][_0x4b1c("0x114")](a)>-1&&(t=!1)}_&&t&&e&&i&&x[_0x4b1c("0x3ed")][_0x4b1c("0x12")](b)}}))}}},{key:"intersectByCoord",value:function(x){var c,b=arguments[_0x4b1c("0x0")]>1&&void 0!==arguments[1]?arguments[1]:_0x4b1c("0x1a3"),_=arguments[2],e=this[_0x4b1c("0x514")][_0x4b1c("0x520")]?1:-1,t=new(THREE[_0x4b1c("0x128")])(x.x,this[_0x4b1c("0x514")].depth,x.z),i=new(THREE[_0x4b1c("0x128")])(x.x,-this[_0x4b1c("0x514")][_0x4b1c("0x2f1")],x.z),a=new THREE.Vector3(0,e,0),n=t.distanceTo(i);if(this[_0x4b1c("0x515")].set(this.configs[_0x4b1c("0x520")]?i:t,a),this[_0x4b1c("0x515")][_0x4b1c("0x519")]=n,_0x4b1c("0x1a3"),_){if(this[_0x4b1c("0x3e")].mapPicker[_0x4b1c("0x521")][_0x4b1c("0x0")]>0){for(var r=0;r<this[_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x521")][_0x4b1c("0x0")];r++){this[_0x4b1c("0x3e")].mapPicker[_0x4b1c("0x521")][r][_0x4b1c("0xf2")]||(this[_0x4b1c("0x3e")][_0x4b1c("0x232")].locationModelMesh[_0x4b1c("0x5")](r,1),r--)}c=this.ray[_0x4b1c("0x51a")](this[_0x4b1c("0x3e")][_0x4b1c("0x232")].locationModelMesh,!0)}}else c=this[_0x4b1c("0x515")][_0x4b1c("0x51a")](this[_0x4b1c("0x3ed")],!0);return c&&c.length>0?typeof c[0][_0x4b1c("0x1d")][_0x4b1c("0x1f7")]==_0x4b1c("0xd")&&c[0][_0x4b1c("0x1d")].name[_0x4b1c("0x114")](_0x4b1c("0x522"))>-1&&(c[_0x4b1c("0x3")](),0==c[_0x4b1c("0x0")])?null:b==_0x4b1c("0x1a3")?(this[_0x4b1c("0x514")][_0x4b1c("0x255")]&&console[_0x4b1c("0x291")](c[0][_0x4b1c("0x1d")][_0x4b1c("0x1f7")]),c):c[0]:null}}]),x}();c[_0x4b1c("0xc")]=i},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=r(b(2)),e=r(b(0)),t=r(b(1)),i=r(b(148)),a=b(34),n=b(23);function r(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var s=a[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0x523")),o=a[_0x4b1c("0x4a")][_0x4b1c("0x4b")]("dXNlckxvZ29CYXNlNjQ="),f=a[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0x524")),l=a[_0x4b1c("0x4a")][_0x4b1c("0x4b")](_0x4b1c("0x525")),d=function(){function x(c,b,_){(0,e[_0x4b1c("0xc")])(this,x),this.options_=_,this[_0x4b1c("0x526")]=null,this[_0x4b1c("0x527")]=!1,this[_0x4b1c("0x528")]=b,this.w_,this.h_,this[_0x4b1c("0x529")]=8,this[_0x4b1c("0x52a")]=15}return(0,t.default)(x,[{key:"sl",value:function(x){for(var c=x[_0x4b1c("0x0")],b=0,_=0;_<c;_++)b+=x[_].charCodeAt();return parseInt(b,16)}},{key:_0x4b1c("0x52b"),value:function(x,c){if(esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].mapService[_0x4b1c("0x7f")]("logo")||(this[_0x4b1c("0x526")][_0x4b1c("0x191")]=!1,this[_0x4b1c("0x526")][_0x4b1c("0x165")][_0x4b1c("0x191")]=!1),null!=this[_0x4b1c("0x526")]){var b=x/2,_=c/2;this[_0x4b1c("0x526")][_0x4b1c("0x105")].set(b-this.w_/2-this.margin_horiz,-_+this.h_/2+this[_0x4b1c("0x52a")],1),this.sprite_[_0x4b1c("0x165")][_0x4b1c("0x191")]?this.sprite_[_0x4b1c("0x191")]=!0:this[_0x4b1c("0x526")][_0x4b1c("0x191")]=!1}this[_0x4b1c("0x527")]&&null==this.sprite_&&(this[_0x4b1c("0x39")](),this.sprite_[_0x4b1c("0x191")]=!0)}},{key:_0x4b1c("0x52c"),value:function(x,c,b,_){if(null!=this[_0x4b1c("0x52d")]){var e=x/2,t=c/2;this.sprite_2[_0x4b1c("0x105")].set(e-this.w_/2-this[_0x4b1c("0x529")]+b,-t+this.h_/2+this[_0x4b1c("0x52a")]+_,1)}this[_0x4b1c("0x527")]&&null==this.sprite_2&&(this.initUserLogo(),this.sprite_2[_0x4b1c("0x191")]=!0)}},{key:_0x4b1c("0x39"),value:function(){if(null==this[_0x4b1c("0x526")]){var x=document[_0x4b1c("0x21")]("img");14296!==i[_0x4b1c("0xc")][_0x4b1c("0x0")]&&n[_0x4b1c("0x30")].post({msg:_0x4b1c("0x52e"),level:_0x4b1c("0xe3")}),x[_0x4b1c("0x4d7")]=a[_0x4b1c("0x4a")][_0x4b1c("0x4b")](i[_0x4b1c("0xc")]);var c=new THREE.Texture(x),b=esmap[_0x4b1c("0x87")].getPlatform()[_0x4b1c("0x339")];this.w_=b?96:60,this.h_=b?25:15,c[_0x4b1c("0x18a")]=THREE.LinearFilter,c[_0x4b1c("0x188")]=!0,this[_0x4b1c("0x526")]=new(THREE[_0x4b1c("0x27d")])(new(THREE[_0x4b1c("0x52f")])({map:c})),this[_0x4b1c("0x526")][_0x4b1c("0x165")][_0x4b1c("0x191")]=!1,this.sprite_[_0x4b1c("0x201")][_0x4b1c("0xdb")](this.w_,this.h_,1),this[_0x4b1c("0x528")][_0x4b1c("0xdd")](this.sprite_);var _=this.options_.container,e=_[_0x4b1c("0x530")]-_.offsetLeft,t=_[_0x4b1c("0x4f2")]+_[_0x4b1c("0x531")];this.updateHUD(e,t),this[_0x4b1c("0x526")][_0x4b1c("0x532")]=!0}}},{key:_0x4b1c("0x533"),value:function(){var x=1&esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x7e")][_0x4b1c("0x534")];if(window[s]&&window[o]&&x){var c=document[_0x4b1c("0x21")]("img"),b=window[o][_0x4b1c("0x2c")](","),e=this.sl(b[2]),t=b[0];if(1==t)if(esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](t+e+window[s]+"esmap")!=b[1])return;c[_0x4b1c("0x4d7")]=l+b[2];var i=new THREE.Texture(c),a=esmap[_0x4b1c("0x87")][_0x4b1c("0x338")]()[_0x4b1c("0x339")],n={w_:this.w_,h_:this.h_,x:0,y:0};window[f]&&(0,_[_0x4b1c("0xc")])(n,window[f]),window[f]&&(n.w_=a?n.w_:.7*n.w_,n.h_=a?n.h_:.7*n.h_,n.x=a?n.x:.7*n.x,n.y=a?n.y:.7*n.y),i[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x35f")],i[_0x4b1c("0x188")]=!0,this[_0x4b1c("0x52d")]=new(THREE[_0x4b1c("0x27d")])(new(THREE[_0x4b1c("0x52f")])({map:i})),this[_0x4b1c("0x52d")][_0x4b1c("0x201")][_0x4b1c("0xdb")](n.w_,n.h_,1),this[_0x4b1c("0x528")][_0x4b1c("0xdd")](this.sprite_2);var r=this[_0x4b1c("0x535")][_0x4b1c("0x536")],d=r.clientWidth,u=r[_0x4b1c("0x4f2")]+20;this[_0x4b1c("0x52c")](a?d-180:d-120,u-25,n.x,n.y)}}},{key:_0x4b1c("0x537"),value:function(){}},{key:"visible",set:function(x){x!=this[_0x4b1c("0x527")]&&(this[_0x4b1c("0x527")]=x,x?(this[_0x4b1c("0x39")](),this[_0x4b1c("0x526")][_0x4b1c("0x191")]=!0):null!=this[_0x4b1c("0x526")]&&(this[_0x4b1c("0x526")][_0x4b1c("0x191")]=!1))},get:function(){return this.visible_}}]),x}();c[_0x4b1c("0xc")]=d},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=_0x4b1c("0x538");c[_0x4b1c("0xc")]=_},,function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=i(b(60)),e=i(b(0)),t=i(b(1));function i(x){return x&&x.__esModule?x:{default:x}}function a(x){if(x){if(x[_0x4b1c("0xef")]&&x.datas_[_0x4b1c("0xf0")]&&(x[_0x4b1c("0xef")].o3d_=void 0,x[_0x4b1c("0xef")]=void 0),x.children)for(var c=0;c<x[_0x4b1c("0xf1")][_0x4b1c("0x0")];c++)a(x.children[c]);x.geometry&&x[_0x4b1c("0xf2")][_0x4b1c("0xf3")](),x[_0x4b1c("0xf4")]&&(x.material instanceof Array?x[_0x4b1c("0xf4")].forEach((function(x){x&&x[_0x4b1c("0xf3")]()})):x[_0x4b1c("0xf4")][_0x4b1c("0xf3")]())}}var n=function(){function x(c,b,t,i){(0,e.default)(this,x),t[_0x4b1c("0xef")]=this,t[_0x4b1c("0x3de")]=b,(0,_[_0x4b1c("0xc")])(this,{nodeType:{enumerable:!0,get:function(){return c}},mapScene:{get:function(){return esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x1e1")]},set:function(x){}},o3d_:{get:function(){return t},set:function(x){t=x},configurable:!0,enumerable:!1}}),window[_0x4b1c("0x1b6")]._editmode_&&(0,_.default)(this,{data_:{enumerable:!0,get:function(){return b}}})}return(0,t.default)(x,[{key:"x",get:function(){var x=0;return x=0===this.o3d_[_0x4b1c("0x105")].x&&0===this[_0x4b1c("0xf0")].position.y&&0===this[_0x4b1c("0xf0")].position.z&&this[_0x4b1c("0x539")]?this.opts_.x:-this.o3d_[_0x4b1c("0x105")].x-this[_0x4b1c("0x1e1")][_0x4b1c("0x2de")],this.mapScene?x:0},set:function(x){this[_0x4b1c("0x1e1")]?this[_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0x53a")](-x-this[_0x4b1c("0x1e1")][_0x4b1c("0x2de")]):(this[_0x4b1c("0x539")]=this[_0x4b1c("0x539")]||{},this[_0x4b1c("0x539")].x=x)}},{key:"y",get:function(){var x=0;return x=0===this[_0x4b1c("0xf0")][_0x4b1c("0x105")].x&&0===this[_0x4b1c("0xf0")][_0x4b1c("0x105")].y&&0===this[_0x4b1c("0xf0")].position.z&&this[_0x4b1c("0x539")]?this[_0x4b1c("0x539")].y:this[_0x4b1c("0xf0")].position.z+this[_0x4b1c("0x1e1")][_0x4b1c("0x2df")],this[_0x4b1c("0x1e1")]?x:0},set:function(x){this.mapScene?this[_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0x53b")](x-this[_0x4b1c("0x1e1")][_0x4b1c("0x2df")]):(this.opts_=this[_0x4b1c("0x539")]||{},this[_0x4b1c("0x539")].y=x)}},{key:"z",get:function(){var x=0;return x=0===this.o3d_[_0x4b1c("0x105")].x&&0===this[_0x4b1c("0xf0")][_0x4b1c("0x105")].y&&0===this[_0x4b1c("0xf0")][_0x4b1c("0x105")].z&&this[_0x4b1c("0x539")]?this[_0x4b1c("0x539")][_0x4b1c("0x1a3")]||0:this.o3d_.position.y,this[_0x4b1c("0x1e1")]?x:0},set:function(x){}},{key:_0x4b1c("0x21d"),get:function(){var x=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],c=new(esmap[_0x4b1c("0x53c")])(this.x,this.y,this.z),b=x[_0x4b1c("0x1b5")]({from:x[_0x4b1c("0x2d4")],to:x.options[_0x4b1c("0x1b7")],coord:{x:c.x,y:c.y}});return b.z=this.z,b}},{key:_0x4b1c("0x108"),get:function(){return this.o3d_[_0x4b1c("0x108")]?this.o3d_[_0x4b1c("0x108")][_0x4b1c("0xef")]:null}},{key:_0x4b1c("0x191"),set:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=x},get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x191")]}},{key:"floor",get:function(){if(this instanceof esmap[_0x4b1c("0x53d")])return this;var x=this[_0x4b1c("0x108")];if(x){if(x instanceof esmap[_0x4b1c("0x53d")])return x;var c=x.parent;if(c&&c instanceof esmap[_0x4b1c("0x53d")])return c}return null}},{key:_0x4b1c("0x210"),get:function(){return this[_0x4b1c("0x20f")]?this[_0x4b1c("0x20f")][_0x4b1c("0x210")]:null}}]),(0,t[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0xf3"),value:function(){if(this[_0x4b1c("0xf0")]){this.o3d_[_0x4b1c("0x191")]=!1,this[_0x4b1c("0xf0")].stopMoveTo&&this[_0x4b1c("0xf0")][_0x4b1c("0x53e")]();var x=this.o3d_[_0x4b1c("0x108")],c=this[_0x4b1c("0x1e1")][_0x4b1c("0x3e")].mapPicker[_0x4b1c("0x3ed")];for(var b in c){var _=c[b],e=_[_0x4b1c("0x114")](this[_0x4b1c("0xf0")]);if(e>-1){_[_0x4b1c("0x5")](e,1);break}}var t=this[_0x4b1c("0x1e1")].map[_0x4b1c("0x53f")].indexOf(this.o3d_);return t>-1&&this[_0x4b1c("0x1e1")][_0x4b1c("0x3e")][_0x4b1c("0x53f")].splice(t,1),x?(x[_0x4b1c("0x2ea")](this[_0x4b1c("0xf0")]),a(this[_0x4b1c("0xf0")]),!0):void 0}}}]),x}();c.default=n},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0x540")]=void 0;var _=s(b(38)),e=s(b(5)),t=s(b(0)),i=s(b(1)),a=s(b(10)),n=s(b(11)),r=b(32);function s(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var o=function(x){function c(){(0,t.default)(this,c);var x=(0,a[_0x4b1c("0xc")])(this,(c.__proto__||(0,e[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this));return x[_0x4b1c("0x469")]=[],x[_0x4b1c("0x43c")](_0x4b1c("0x105"),new(THREE[_0x4b1c("0x43b")])(new Float32Array([]),3)),x[_0x4b1c("0x43c")](_0x4b1c("0x140"),new(THREE[_0x4b1c("0x43b")])(new Float32Array([]),3)),x[_0x4b1c("0x43c")]("uv",new(THREE[_0x4b1c("0x43b")])(new Float32Array([]),2)),x.addAttribute(_0x4b1c("0x541"),new(THREE[_0x4b1c("0x43b")])(new Float32Array([]),2)),x[_0x4b1c("0x542")]={},x}return(0,n[_0x4b1c("0xc")])(c,x),(0,i[_0x4b1c("0xc")])(c,[{key:"showChild",value:function(x){var c=this.findChildById(x)[_0x4b1c("0x543")],b=3*c[0],_=3*c[1],e=this[_0x4b1c("0x104")][_0x4b1c("0x105")].array;if(this[_0x4b1c("0x542")][x]){for(var t=0;t<e.length;t++)t>=b&&t<_&&(e[t]=this.hiddenChilds[x][t]);this[_0x4b1c("0x542")][x]=null,this[_0x4b1c("0x435")]("position")[_0x4b1c("0x188")]=!0}}},{key:"hideChild",value:function(x){var c=this[_0x4b1c("0x544")](x)[_0x4b1c("0x543")],b=3*c[0],_=3*c[1],e=this[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x439")];if(!this[_0x4b1c("0x542")][x]){this[_0x4b1c("0x542")][x]=[];for(var t=0;t<e[_0x4b1c("0x0")];t++)if(t>=b&&t<_){var i=e[t];this[_0x4b1c("0x542")][x][t]=i,e[t]=.01}this[_0x4b1c("0x435")](_0x4b1c("0x105"))[_0x4b1c("0x188")]=!0}}},{key:_0x4b1c("0x545"),value:function(){this[_0x4b1c("0x469")]=[],this[_0x4b1c("0xf3")](),this[_0x4b1c("0x43c")]("position",new(THREE[_0x4b1c("0x43b")])(new Float32Array([]),3)),this[_0x4b1c("0x43c")]("normal",new(THREE[_0x4b1c("0x43b")])(new Float32Array([]),3)),this[_0x4b1c("0x43c")]("uv",new(THREE[_0x4b1c("0x43b")])(new Float32Array([]),2)),this[_0x4b1c("0x17f")](),this[_0x4b1c("0x180")](0,0,0)}},{key:_0x4b1c("0x544"),value:function(x){return this[_0x4b1c("0x469")][_0x4b1c("0x2db")]((function(c){return c.ID==x}))[0]}},{key:"getChildIndex",value:function(x){for(var c=0;c<this[_0x4b1c("0x469")].length;c++)if(this.brothers[c].ID==x)return c}},{key:_0x4b1c("0x546"),value:function(x,c){var b=x.ID,_=x[_0x4b1c("0x1a3")],e=x.offsetZ,t=x[_0x4b1c("0x12c")],i=x[_0x4b1c("0x547")],a=this.findChildById(b)[_0x4b1c("0x543")],n=a[0],r=a[1],s=a[1]-a[0],o=this[_0x4b1c("0x548")](b),f=this[_0x4b1c("0x549")](t,i,_,e,c),l=f[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x439")],d=f.attributes.normal.array,u=f.attributes.uv[_0x4b1c("0x439")],h=f[_0x4b1c("0x104")].position[_0x4b1c("0x106")],g=this[_0x4b1c("0x104")].position[_0x4b1c("0x439")],v=this[_0x4b1c("0x104")][_0x4b1c("0x140")][_0x4b1c("0x439")],p=this[_0x4b1c("0x104")].uv.array,m=this.attributes[_0x4b1c("0x105")][_0x4b1c("0x106")],A=m-s+h,y=g[_0x4b1c("0x54a")](0,3*n),C=g.subarray(3*r,3*m),I=new Float32Array(y[_0x4b1c("0x0")]+C[_0x4b1c("0x0")]+l[_0x4b1c("0x0")]);I[_0x4b1c("0xdb")](y),I.set(l,y.length),I.set(C,y[_0x4b1c("0x0")]+l.lenth),this[_0x4b1c("0x104")].position[_0x4b1c("0x439")]=I,this.attributes[_0x4b1c("0x105")].count=A;var E=v[_0x4b1c("0x54a")](0,2*n),w=v[_0x4b1c("0x54a")](2*r,2*m),T=new Float32Array(E[_0x4b1c("0x0")]+d[_0x4b1c("0x0")]+w.length);T[_0x4b1c("0xdb")](E),T[_0x4b1c("0xdb")](d,E.length),T[_0x4b1c("0xdb")](w,E.length+d[_0x4b1c("0x0")]),this[_0x4b1c("0x104")].normal[_0x4b1c("0x439")]=T,this.attributes[_0x4b1c("0x140")].count=A;var k=p[_0x4b1c("0x54a")](0,2*n),S=p[_0x4b1c("0x54a")](2*r,2*m),M=new Float32Array(k[_0x4b1c("0x0")]+u.length+S.length);M[_0x4b1c("0xdb")](k),M[_0x4b1c("0xdb")](u,k[_0x4b1c("0x0")]),M[_0x4b1c("0xdb")](S,k[_0x4b1c("0x0")]+u.length),this[_0x4b1c("0x104")].uv[_0x4b1c("0x439")]=M,this[_0x4b1c("0x104")].uv[_0x4b1c("0x106")]=A;var R=h-s;this[_0x4b1c("0x469")][o][_0x4b1c("0x543")][1]+=R;for(var L=0;L<this[_0x4b1c("0x469")][_0x4b1c("0x0")];L++)L>o&&(this.brothers[L][_0x4b1c("0x543")][0]+=R,this.brothers[L][_0x4b1c("0x543")][1]+=R);this[_0x4b1c("0x435")](_0x4b1c("0x105"))[_0x4b1c("0x188")]=!0,this.getAttribute(_0x4b1c("0x140"))[_0x4b1c("0x188")]=!0,this[_0x4b1c("0x435")]("uv")[_0x4b1c("0x188")]=!0}},{key:_0x4b1c("0x54b"),value:function(x){for(var c=!1,b=void 0,_=0;_<this[_0x4b1c("0x469")].length;_++)if(this[_0x4b1c("0x469")][_].ID==x){c=!0;var e=this.brothers[_].range;b=e[1]-e[0];var t=this.attributes[_0x4b1c("0x105")].array.subarray(0,3*e[0]),i=this.attributes[_0x4b1c("0x105")][_0x4b1c("0x439")][_0x4b1c("0x54a")](3*e[1],3*this[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")]),a=new Float32Array(t[_0x4b1c("0x0")]+i[_0x4b1c("0x0")]);a[_0x4b1c("0xdb")](t),a.set(i,t[_0x4b1c("0x0")]),this.attributes[_0x4b1c("0x105")][_0x4b1c("0x439")]=a,this[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")]-=b;var n=this[_0x4b1c("0x104")].normal.array.subarray(0,3*e[0]),r=this[_0x4b1c("0x104")][_0x4b1c("0x140")][_0x4b1c("0x439")][_0x4b1c("0x54a")](3*e[1],3*this[_0x4b1c("0x104")][_0x4b1c("0x140")][_0x4b1c("0x106")]),s=new Float32Array(n.length+r[_0x4b1c("0x0")]);s[_0x4b1c("0xdb")](n),s[_0x4b1c("0xdb")](r,n.length),this.attributes[_0x4b1c("0x140")].array=s,this[_0x4b1c("0x104")][_0x4b1c("0x140")][_0x4b1c("0x106")]-=b;var o=this[_0x4b1c("0x104")].uv.array[_0x4b1c("0x54a")](0,2*e[0]),f=this[_0x4b1c("0x104")].uv[_0x4b1c("0x439")].subarray(2*e[1],2*this.attributes.uv[_0x4b1c("0x106")]),l=new Float32Array(o[_0x4b1c("0x0")]+f[_0x4b1c("0x0")]);l[_0x4b1c("0xdb")](o),l[_0x4b1c("0xdb")](f,o[_0x4b1c("0x0")]),this[_0x4b1c("0x104")].uv[_0x4b1c("0x439")]=l,this[_0x4b1c("0x104")].uv[_0x4b1c("0x106")]-=b,this.brothers[_0x4b1c("0x5")](_,1),_--}else c&&(this.brothers[_].range[0]-=b,this[_0x4b1c("0x469")][_].range[1]-=b,this[_0x4b1c("0x469")][_][_0x4b1c("0x46a")][0]-=b,this.brothers[_][_0x4b1c("0x46a")][1]-=b,this[_0x4b1c("0x469")][_][_0x4b1c("0x2c")]-=b);this[_0x4b1c("0x435")](_0x4b1c("0x105")).needsUpdate=!0,this.getAttribute(_0x4b1c("0x140")).needsUpdate=!0,this[_0x4b1c("0x435")]("uv")[_0x4b1c("0x188")]=!0}},{key:"getDis",value:function(x,c){return Math[_0x4b1c("0x23d")](Math[_0x4b1c("0x120")](Math.pow(x.x-c.x,2)+Math.pow(x.y-c.y,2)))}},{key:_0x4b1c("0x549"),value:function(x,c,b,e,t){for(var i=this,a=esmap.ESMap[_0x4b1c("0x3a")],n=a[_0x4b1c("0x1e1")].sceneX_,r=a[_0x4b1c("0x1e1")].sceneZ_,s=new(THREE[_0x4b1c("0x54c")]),o=b+e,f=t.normalizeSide,l=t[_0x4b1c("0x54d")],d=0;d<x[_0x4b1c("0x0")];d++){var u=x[d];0==d?s[_0x4b1c("0x325")](u.x-n,u.y-r):s.lineTo(u.x-n,u.y-r)}for(var h in c){var g=c[h],v=new THREE.Path;for(var p in g){var m=g[p];0==p?v[_0x4b1c("0x325")](m.x,m.y):v[_0x4b1c("0x54e")](m.x,m.y)}s[_0x4b1c("0x547")][_0x4b1c("0x12")](v)}var A=new(THREE[_0x4b1c("0x54f")])(s,{depth:b,bevelEnabled:!1,material:0,extrudeMaterial:0}),y=A[_0x4b1c("0x435")](_0x4b1c("0x105")).count,C=A.getAttribute("position")[_0x4b1c("0x439")],I=[],E=[],w=[],T=A[_0x4b1c("0x435")]("normal").array,k=A[_0x4b1c("0x435")]("uv")[_0x4b1c("0x439")],S=(0,_[_0x4b1c("0xc")])(k);A[_0x4b1c("0x550")]();var M=A.boundingBox[_0x4b1c("0x2f5")],R=A[_0x4b1c("0x551")][_0x4b1c("0x2f6")],L=new THREE.Vector2(0-R.x,0-R.y),H=new(THREE[_0x4b1c("0x552")])(M.x-R.x,M.y-R.y),D=H.x/1,O=H.y/1,P=1,N=1;l&&(P=D,N=O);for(var F=A.groups[0].count/3,B=0;B<F;B++)k[6*B]=(C[9*B]+L.x)/P,k[6*B+1]=(C[9*B+1]+L.y)/N,k[6*B+2]=(C[9*B+3]+L.x)/P,k[6*B+3]=(C[9*B+4]+L.y)/N,k[6*B+4]=(C[9*B+6]+L.x)/P,k[6*B+5]=(C[9*B+7]+L.y)/N,S[6*B]=(C[9*B]+L.x)/D,S[6*B+1]=(C[9*B+1]+L.y)/O,S[6*B+2]=(C[9*B+3]+L.x)/D,S[6*B+3]=(C[9*B+4]+L.y)/O,S[6*B+4]=(C[9*B+6]+L.x)/D,S[6*B+5]=(C[9*B+7]+L.y)/O;for(var z,U,V,j,Z=A[_0x4b1c("0x446")][1].count/6,Y=F/2,W=0;W<Z;W++,Y++){var G=(U=void 0,V=void 0,j=void 0,U={x:C[9*(z=2*Y)],y:C[9*z+1]},V={x:C[9*z+3],y:C[9*z+4]},j={x:C[9*z+6],y:C[9*z+7]},T[9*z+2]==T[9*z+5]?i.getDis(U,V):T[9*z+2]==T[9*z+8]?i[_0x4b1c("0x553")](U,j):T[9*z+5]==T[9*z+8]?i.getDis(V,j):void console[_0x4b1c("0x226")]("error face"));G<1&&(G=1),f?(k[12*Y]=1,k[12*Y+1]=1,k[12*Y+2]=0,k[12*Y+3]=1,k[12*Y+4]=1,k[12*Y+5]=0,k[12*Y+6]=0,k[12*Y+7]=1,k[12*Y+8]=0,k[12*Y+9]=0,k[12*Y+10]=1,k[12*Y+11]=0):(k[12*Y]=G,k[12*Y+1]=b,k[12*Y+2]=0,k[12*Y+3]=b,k[12*Y+4]=G,k[12*Y+5]=0,k[12*Y+6]=0,k[12*Y+7]=b,k[12*Y+8]=0,k[12*Y+9]=0,k[12*Y+10]=G,k[12*Y+11]=0),S[12*Y]=1,S[12*Y+1]=1,S[12*Y+2]=0,S[12*Y+3]=1,S[12*Y+4]=1,S[12*Y+5]=0,S[12*Y+6]=0,S[12*Y+7]=1,S[12*Y+8]=0,S[12*Y+9]=0,S[12*Y+10]=1,S[12*Y+11]=0}for(var X=C[2],Q=S,J=[],K=0,q=0;q<y;q++)C[3*q+2]==X||0!=K&&q>K?(E.push(C[3*q],C[3*q+1],C[3*q+2]-o),I.push(T[3*q],T[3*q+1],T[3*q+2]),w[_0x4b1c("0x12")](k[2*q],k[2*q+1]),J[_0x4b1c("0x12")](Q[2*q],Q[2*q+1])):0==K&&(K=2*q);return A.addAttribute(_0x4b1c("0x105"),new THREE.BufferAttribute(new Float32Array(E),3)),A[_0x4b1c("0x43c")]("normal",new THREE.BufferAttribute(new Float32Array(I),3)),A.addAttribute("uv",new(THREE[_0x4b1c("0x43b")])(new Float32Array(w),2)),A[_0x4b1c("0x43c")](_0x4b1c("0x541"),new(THREE[_0x4b1c("0x43b")])(new Float32Array(J),2)),A[_0x4b1c("0x446")][0][_0x4b1c("0x106")]-=K/2,A[_0x4b1c("0x446")][1][_0x4b1c("0x1af")]-=K/2,A}},{key:_0x4b1c("0x554"),value:function(x){for(var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],_=[],e=[],t=0;t<x[_0x4b1c("0x0")];t++){var i=x[t];i[_0x4b1c("0x12c")]=b[_0x4b1c("0x555")]({from:b.DEFAULT_COORDSYSTEM,to:b.coordSystem,coords:i.points,flipX:!0});var a=i[_0x4b1c("0x547")];a[_0x4b1c("0x0")]>0&&(a[0]instanceof Array&&(a=a[0]),a=b[_0x4b1c("0x555")]({from:b[_0x4b1c("0x3e1")],to:b[_0x4b1c("0x2d4")],coords:a,flipX:!0}));var n=this[_0x4b1c("0x549")](i[_0x4b1c("0x12c")],a,i[_0x4b1c("0x1a3")],i.offsetZ,c);_[_0x4b1c("0x12")](n),e[_0x4b1c("0x12")](n.groups)}var s=this[_0x4b1c("0x469")][_0x4b1c("0x0")],o=this[_0x4b1c("0x104")].position[_0x4b1c("0x106")],f=r[_0x4b1c("0x43a")][_0x4b1c("0x556")](_,!0),l=f.groups,d=f[_0x4b1c("0x104")].position[_0x4b1c("0x439")],u=f[_0x4b1c("0x104")].normal[_0x4b1c("0x439")],h=f[_0x4b1c("0x104")].uv[_0x4b1c("0x439")],g=f[_0x4b1c("0x104")][_0x4b1c("0x541")][_0x4b1c("0x439")],v=this[_0x4b1c("0x104")].position.array[_0x4b1c("0x0")],p=new Float32Array(v+d[_0x4b1c("0x0")]);p[_0x4b1c("0xdb")](this[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x439")]),p.set(d,v),this.attributes[_0x4b1c("0x105")].count+=f[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")],this[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x439")]=p;var m=this[_0x4b1c("0x104")][_0x4b1c("0x140")].array.length,A=new Float32Array(m+u.length);A[_0x4b1c("0xdb")](this[_0x4b1c("0x104")][_0x4b1c("0x140")][_0x4b1c("0x439")]),A[_0x4b1c("0xdb")](u,m),this[_0x4b1c("0x104")][_0x4b1c("0x140")][_0x4b1c("0x106")]+=f.attributes[_0x4b1c("0x140")][_0x4b1c("0x106")],this.attributes[_0x4b1c("0x140")][_0x4b1c("0x439")]=A;var y=this[_0x4b1c("0x104")].uv[_0x4b1c("0x439")][_0x4b1c("0x0")],C=new Float32Array(y+h.length);C[_0x4b1c("0xdb")](this[_0x4b1c("0x104")].uv[_0x4b1c("0x439")]),C[_0x4b1c("0xdb")](h,y),this[_0x4b1c("0x104")].uv[_0x4b1c("0x106")]+=f[_0x4b1c("0x104")].uv.count,this[_0x4b1c("0x104")].uv[_0x4b1c("0x439")]=C;var I=new Float32Array(y+h[_0x4b1c("0x0")]);I[_0x4b1c("0xdb")](this.attributes[_0x4b1c("0x541")][_0x4b1c("0x439")]),I[_0x4b1c("0xdb")](g,y),this[_0x4b1c("0x104")][_0x4b1c("0x541")][_0x4b1c("0x106")]+=f[_0x4b1c("0x104")][_0x4b1c("0x541")][_0x4b1c("0x106")],this.attributes[_0x4b1c("0x541")].array=I,this[_0x4b1c("0x435")](_0x4b1c("0x105"))[_0x4b1c("0x188")]=!0,this[_0x4b1c("0x435")](_0x4b1c("0x140"))[_0x4b1c("0x188")]=!0,this[_0x4b1c("0x435")]("uv")[_0x4b1c("0x188")]=!0,this[_0x4b1c("0x435")](_0x4b1c("0x541"))[_0x4b1c("0x188")]=!0;for(var E=0;E<l[_0x4b1c("0x0")];E++){var w=x[E].ID,T=[l[E][_0x4b1c("0x1af")]+o,l[E].start+o+l[E][_0x4b1c("0x106")]],k=[T[0]+e[E][1].start,T[0]+l[E][_0x4b1c("0x106")]];this[_0x4b1c("0x469")][_0x4b1c("0x12")]({ID:w,range:T,sideRange:k})}return this[_0x4b1c("0x17f")](),this.addGroup(0,this[_0x4b1c("0x104")].position[_0x4b1c("0x106")],0),this[_0x4b1c("0x469")][_0x4b1c("0x1e5")](s)}},{key:"addChild",value:function(x){var c=arguments[_0x4b1c("0x0")]>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},b=esmap.ESMap.instance,_=x.ID,e=x.height,t=x.offsetZ||0,i=x[_0x4b1c("0x12c")],a=x[_0x4b1c("0x547")]||[];i=b.transformCoordArray({from:b.DEFAULT_COORDSYSTEM,to:b[_0x4b1c("0x2d4")],coords:i,flipX:!0}),a[_0x4b1c("0x0")]>0&&(a=b[_0x4b1c("0x555")]({from:b.DEFAULT_COORDSYSTEM,to:b[_0x4b1c("0x2d4")],coords:a,flipX:!0}));var n=this[_0x4b1c("0x549")](i,a,e,t,c),r=n[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x439")],s=r[_0x4b1c("0x0")]/3,o=n[_0x4b1c("0x104")][_0x4b1c("0x140")].array,f=n[_0x4b1c("0x104")].uv.array,l=n[_0x4b1c("0x104")][_0x4b1c("0x541")].array,d=this[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")],u=this[_0x4b1c("0x104")][_0x4b1c("0x105")].array[_0x4b1c("0x0")],h=new Float32Array(u+r[_0x4b1c("0x0")]);h[_0x4b1c("0xdb")](this[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x439")]),h[_0x4b1c("0xdb")](r,u),this.attributes[_0x4b1c("0x105")][_0x4b1c("0x439")]=h,this.attributes[_0x4b1c("0x105")][_0x4b1c("0x106")]+=s;var g=this.attributes.normal[_0x4b1c("0x439")][_0x4b1c("0x0")],v=new Float32Array(g+o[_0x4b1c("0x0")]);v[_0x4b1c("0xdb")](this[_0x4b1c("0x104")].normal.array),v[_0x4b1c("0xdb")](o,g),this[_0x4b1c("0x104")].normal.array=v,this[_0x4b1c("0x104")][_0x4b1c("0x140")][_0x4b1c("0x106")]+=s;var p=this[_0x4b1c("0x104")].uv[_0x4b1c("0x439")].length,m=new Float32Array(p+f[_0x4b1c("0x0")]);m[_0x4b1c("0xdb")](this.attributes.uv.array),m[_0x4b1c("0xdb")](f,p),this[_0x4b1c("0x104")].uv[_0x4b1c("0x439")]=m,this[_0x4b1c("0x104")].uv[_0x4b1c("0x106")]+=s;var A=this[_0x4b1c("0x104")][_0x4b1c("0x541")][_0x4b1c("0x439")][_0x4b1c("0x0")],y=new Float32Array(A+l[_0x4b1c("0x0")]);y.set(this[_0x4b1c("0x104")][_0x4b1c("0x541")].array),y[_0x4b1c("0xdb")](l,A),this[_0x4b1c("0x104")][_0x4b1c("0x541")][_0x4b1c("0x439")]=y,this[_0x4b1c("0x104")][_0x4b1c("0x541")].count+=s,this[_0x4b1c("0x435")](_0x4b1c("0x105"))[_0x4b1c("0x188")]=!0,this[_0x4b1c("0x435")](_0x4b1c("0x140"))[_0x4b1c("0x188")]=!0,this.getAttribute("uv")[_0x4b1c("0x188")]=!0,this[_0x4b1c("0x435")](_0x4b1c("0x541"))[_0x4b1c("0x188")]=!0;var C=[d,d+s],I=[d+n[_0x4b1c("0x446")][1][_0x4b1c("0x1af")],d+s];return this[_0x4b1c("0x469")][_0x4b1c("0x12")]({ID:_,range:C,sideRange:I}),this[_0x4b1c("0x17f")](),this[_0x4b1c("0x180")](0,this.attributes.position.count,0),{ID:_,range:C,sideRange:I}}},{key:_0x4b1c("0x557"),value:function(){}},{key:_0x4b1c("0x558"),value:function(){}},{key:"getChildsData",value:function(){}}]),c}(THREE.BufferGeometry);c.dynamicBufferGeometry=o},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(35));function i(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var a=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x559")]=c,this.context=c[_0x4b1c("0x54")]||c[_0x4b1c("0x55a")],this[_0x4b1c("0x102")]=c.scene,this.tasks={}}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x55b"),value:function(x,c){var b=this[_0x4b1c("0x102")],_=x[_0x4b1c("0x12e")],e=this[_0x4b1c("0x36d")],i=this.tasks[c],a=i[_0x4b1c("0x452")],n=2===i[_0x4b1c("0x3e0")],r=a[_0x4b1c("0xf4")],s=b[_0x4b1c("0x3e")][_0x4b1c("0x47")].editMode,o=b[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x364")][_0x4b1c("0x55c")][x[_0x4b1c("0x55d")]];b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x55e")]&&(o=this[_0x4b1c("0x156")](o[_0x4b1c("0x316")][_0x4b1c("0x1c9")],o[_0x4b1c("0x316")][_0x4b1c("0x1a3")]));var f=t[_0x4b1c("0xc")][_0x4b1c("0xde")](e.id),l=b[_0x4b1c("0x3e")][_0x4b1c("0x7e")];b.map.options[_0x4b1c("0x55f")]&&(THREE[_0x4b1c("0x215")][_0x4b1c("0x560")](o.image[_0x4b1c("0x1c9")])&&THREE.Math.isPowerOfTwo(o[_0x4b1c("0x316")].height)||(o[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x561")],o[_0x4b1c("0x363")]=!1,o[_0x4b1c("0x562")][_0x4b1c("0x0")]=0,o[_0x4b1c("0x188")]=!0));var d=x[_0x4b1c("0x563")],u=b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x564")];e.options.mergeModels||(a[_0x4b1c("0xef")][_0x4b1c("0x21d")]={x:x[_0x4b1c("0x565")].x,y:x[_0x4b1c("0x565")].y});var h=b[_0x4b1c("0x3e")][_0x4b1c("0x566")](),g=!0;if(h[_0x4b1c("0x567")]&&h[_0x4b1c("0x567")].data[_0x4b1c("0x568")]&&h[_0x4b1c("0x567")][_0x4b1c("0x569")][_0x4b1c("0x568")][_0x4b1c("0x0")]>0){var v=h[_0x4b1c("0x567")].data.roomImageStyle[_0x4b1c("0x2db")]((function(c){return c[_0x4b1c("0x316")]==x[_0x4b1c("0x55d")]}));v[_0x4b1c("0x0")]>0&&(g=!v[0].noDepth)}if(h[_0x4b1c("0x567")]&&h[_0x4b1c("0x567")][_0x4b1c("0x569")][_0x4b1c("0x56a")]){var p=h[_0x4b1c("0x567")][_0x4b1c("0x569")][_0x4b1c("0x56a")][_0x4b1c("0x2db")]((function(c){return c[_0x4b1c("0x56b")]==x[_0x4b1c("0x56c")]}));p[_0x4b1c("0x0")]>0&&p[0].logoRenderOrder&&(a[_0x4b1c("0x172")]=1*p[0][_0x4b1c("0x56d")])}if(!r[d]){var m=new(THREE[_0x4b1c("0x144")])({transparent:!0,side:THREE[_0x4b1c("0x15c")],depthWrite:g,map:o});m[_0x4b1c("0x471")]=function(x){x[_0x4b1c("0x14a")]=x[_0x4b1c("0x14a")][_0x4b1c("0x14c")](_0x4b1c("0x477"),"\n                   #include <uv_pars_vertex>\n   \n                   attribute float isHideFlags;\n   \n                   varying float hideFlag;\n                   "),x[_0x4b1c("0x14a")]=x[_0x4b1c("0x14a")].replace(_0x4b1c("0x14d"),_0x4b1c("0x56e")),x[_0x4b1c("0x150")]=x[_0x4b1c("0x150")].replace(_0x4b1c("0x14e"),_0x4b1c("0x56f")),x[_0x4b1c("0x150")]=x.fragmentShader[_0x4b1c("0x14c")]("gl_FragColor = vec4( outgoingLight, diffuseColor.a );",_0x4b1c("0x570"))},m[_0x4b1c("0x1f7")]=x[_0x4b1c("0x55d")],x[_0x4b1c("0x571")]={width:o[_0x4b1c("0x316")].width,height:o[_0x4b1c("0x316")][_0x4b1c("0x1a3")]},m[_0x4b1c("0x165")][_0x4b1c("0x572")]=x,m[_0x4b1c("0x1f7")][_0x4b1c("0x114")](_0x4b1c("0x573"))>0?m.transparent=!1:m[_0x4b1c("0x574")]=u,n&&e[_0x4b1c("0x575")]!=_&&e.options[_0x4b1c("0x576")]&&(m[_0x4b1c("0x165")][_0x4b1c("0x271")]=m[_0x4b1c("0x145")],m.userData[_0x4b1c("0x129")]=m[_0x4b1c("0x129")],m[_0x4b1c("0x129")]=e[_0x4b1c("0x47")].focusAlpha),e.options[_0x4b1c("0x384")]&&!s?r[d]=m:(r[_0x4b1c("0x12")](m),a.datas_[_0x4b1c("0x577")]=x.id,a.datas_[_0x4b1c("0x55d")]=x[_0x4b1c("0x55d")],l[_0x4b1c("0x578")][x.id]=a,a.geometry.groups[_0x4b1c("0x0")]>1&&(r[d]=m)),f[_0x4b1c("0xe2")](x.id)}this.scene.map[_0x4b1c("0x47")][_0x4b1c("0x1f6")]&&!a.userData[_0x4b1c("0x579")]&&(a.userData[_0x4b1c("0x579")]=!0,this[_0x4b1c("0x102")].map[_0x4b1c("0x232")][_0x4b1c("0x3ec")](a,this[_0x4b1c("0x36d")].id))}},{key:_0x4b1c("0x57a"),value:function(x){return this[_0x4b1c("0x57b")][x]||(this.tasks[x]={datas:{},geometry:null,mesh:null,parent:null,bid:null,bType:null}),this[_0x4b1c("0x57b")][x]}},{key:_0x4b1c("0x57c"),value:function(x,c,b){var _=this[_0x4b1c("0x57a")](x);_[_0x4b1c("0x108")]=c,_[_0x4b1c("0x12b")]=b[_0x4b1c("0x12b")],_[_0x4b1c("0x3e0")]=b[_0x4b1c("0x3e0")]}},{key:_0x4b1c("0x57d"),value:function(x,c){this.getTask(x)[_0x4b1c("0x57e")]=c}},{key:"setGeoData",value:function(x,c){var b=this[_0x4b1c("0x57a")](x),_=c[_0x4b1c("0x2cd")],e=c[_0x4b1c("0x434")],t=c.uv,i=c.nor,a=c[_0x4b1c("0x446")],n=c[_0x4b1c("0x57f")],r=c[_0x4b1c("0x580")],s=new(THREE[_0x4b1c("0x581")]);s.addAttribute("position",new(THREE[_0x4b1c("0x43b")])(e,3)),s[_0x4b1c("0x43c")](_0x4b1c("0x140"),new(THREE[_0x4b1c("0x43b")])(i,3)),s[_0x4b1c("0x43c")]("uv",new(THREE[_0x4b1c("0x43b")])(t,2)),r&&s.addAttribute(_0x4b1c("0x582"),new(THREE[_0x4b1c("0x43b")])(r,1)),s[_0x4b1c("0x43e")](new THREE.BufferAttribute(_,1)),s[_0x4b1c("0x165")][_0x4b1c("0x583")]=n,a[_0x4b1c("0x0")]>0?a[_0x4b1c("0x1c")]((function(x){s[_0x4b1c("0x180")](x[_0x4b1c("0x1af")],x[_0x4b1c("0x106")],x[_0x4b1c("0x448")])})):s[_0x4b1c("0x180")](0,_[_0x4b1c("0x0")],0),b[_0x4b1c("0xf2")]=s;var o=new(THREE[_0x4b1c("0x197")])(s,[]);o.datas_={nodeType:esmap.ESNodeType.MODEL_IMAGE,o3d_:o,bid:b[_0x4b1c("0x12b")],bType:b[_0x4b1c("0x3e0")]},c[_0x4b1c("0x12e")]&&(o[_0x4b1c("0xef")][_0x4b1c("0x210")]=c[_0x4b1c("0x12e")]),o[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x584")],o.rotation[_0x4b1c("0xdb")](-Math.PI/2,Math.PI,Math.PI-0*THREE[_0x4b1c("0x215")].DEG2RAD,_0x4b1c("0x585")),b[_0x4b1c("0x452")]=o,b[_0x4b1c("0x108")][_0x4b1c("0xdd")](o)}},{key:_0x4b1c("0x586"),value:function(){for(var x in this.tasks){0===this[_0x4b1c("0x57b")][x][_0x4b1c("0x57e")][_0x4b1c("0x0")]?delete this[_0x4b1c("0x57b")][x]:this.handleTask(x)}}},{key:_0x4b1c("0x587"),value:function(x){for(var c=this[_0x4b1c("0x57a")](x)[_0x4b1c("0x57e")],b=this[_0x4b1c("0x102")].map[_0x4b1c("0x7e")].ResourcePool[_0x4b1c("0x55c")],_=0;_<c[_0x4b1c("0x0")];_++){var e=c[_];b[e[_0x4b1c("0x55d")]]?(this[_0x4b1c("0x55b")](e,x),c[_0x4b1c("0x5")](_,1),_--):null===b[e[_0x4b1c("0x55d")]]&&(c[_0x4b1c("0x5")](_,1),_--)}}},{key:_0x4b1c("0x156"),value:function(x,c){var b=document[_0x4b1c("0x21")](_0x4b1c("0x588"));return b[_0x4b1c("0x1c9")]=x,b[_0x4b1c("0x1a3")]=c,new(THREE[_0x4b1c("0x35e")])(b)}}]),x}();c.default=a},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x589")],this[_0x4b1c("0x58a")]}return(0,e[_0x4b1c("0xc")])(x,[{key:"parseBoundary",value:function(x){if(this[_0x4b1c("0x589")]=[],this[_0x4b1c("0x58a")]=[],x[_0x4b1c("0x114")]("((")>=0)for(var c=x[_0x4b1c("0x2a1")](2,x[_0x4b1c("0x0")]-2).split(/\)\)&&\(\(/),b=0;b<c.length;b++){for(var _=c[b][_0x4b1c("0x2c")](/,/),e=[],t={},i=0;i<_.length;i++){var a=_[i][_0x4b1c("0x2c")](" "),n={x:-parseFloat(a[0]),y:parseFloat(a[1])};0==i&&(t=n),i>0&&(n.x=t.x+n.x,n.y=t.y+n.y),e[_0x4b1c("0x12")](n)}this[_0x4b1c("0x589")][_0x4b1c("0x12")](e)}return this}},{key:"parse",value:function(x){if(this[_0x4b1c("0x589")]=[],this[_0x4b1c("0x58a")]=[],x.indexOf("((")>=0)for(var c=x[_0x4b1c("0x2a1")](2,x[_0x4b1c("0x0")]-2).split(/\),\(/),b=0;b<c.length;b++){for(var _=c[b][_0x4b1c("0x2c")](/,/),e=[],t={},i=0;i<_[_0x4b1c("0x0")];i++){var a=_[i][_0x4b1c("0x2c")](" "),n={x:-parseFloat(a[0]),y:parseFloat(a[1])};0==i&&(t=n),i>0&&(n.x=t.x+n.x,n.y=t.y+n.y),e[_0x4b1c("0x12")](n)}0==b?this.points_[_0x4b1c("0x12")](e):this.holes_.push(e)}return this}},{key:_0x4b1c("0x58b"),value:function(x,c,b){if(this[_0x4b1c("0x589")]=[],this[_0x4b1c("0x58a")]=[],x[_0x4b1c("0x114")](_0x4b1c("0x58c"))>=0)for(var _=x[_0x4b1c("0x2a1")](a[_0x4b1c("0x58d")],x[_0x4b1c("0x0")]-3).split(/\),\(/),e=0;e<_[_0x4b1c("0x0")];e++){var t=_[e][_0x4b1c("0x2c")](/,/);if(0==e)for(var i=0;i<t[_0x4b1c("0x0")];i++){var n=t[i][_0x4b1c("0x2c")](" "),r={x:-parseFloat(n[0])-c,y:parseFloat(n[1])+b};this[_0x4b1c("0x589")][_0x4b1c("0x12")](r)}else{var s=[];for(i=0;i<t.length;i++){n=t[i][_0x4b1c("0x2c")](" "),r={x:-parseFloat(n[0])-c,y:parseFloat(n[1])+b};s[_0x4b1c("0x12")](r)}this[_0x4b1c("0x58a")][_0x4b1c("0x12")](s)}}else if(x[_0x4b1c("0x114")](_0x4b1c("0x58e"))>=0)for(_=x[_0x4b1c("0x2a1")](a[_0x4b1c("0x58f")],x.length-3).split(/\),\(/),e=0;e<_.length;e++){t=_[e][_0x4b1c("0x2c")](/,/);if(0==e)for(i=0;i<t[_0x4b1c("0x0")];i++){n=t[i][_0x4b1c("0x2c")](" "),r={x:-parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])};this[_0x4b1c("0x589")][_0x4b1c("0x12")](r)}else{for(s=[],i=0;i<t.length;i++){n=t[i].split(" "),r={x:-parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])};s.push(r)}this.holes_[_0x4b1c("0x12")](s)}}return this}},{key:_0x4b1c("0x590"),value:function(){return null!=this[_0x4b1c("0x58a")]&&this[_0x4b1c("0x58a")][_0x4b1c("0x0")]>0}}]),x}(),a=function x(){(0,_[_0x4b1c("0xc")])(this,x)};a[_0x4b1c("0x58d")]=_0x4b1c("0x58c")[_0x4b1c("0x0")],a[_0x4b1c("0x58f")]=_0x4b1c("0x58e")[_0x4b1c("0x0")],a[_0x4b1c("0x591")]=i,c[_0x4b1c("0xc")]=a},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0x592")]=void 0;var _=b(34);c[_0x4b1c("0x592")]=function(x,c){if(!x.vkeys){x[_0x4b1c("0x593")]=c;var b=x[_0x4b1c("0x4b")][_0x4b1c("0xe")](x);x[_0x4b1c("0x4b")]=function(){var x=this;this[_0x4b1c("0x594")]="";var c=b.apply(void 0,arguments);return this.vkeys&&this[_0x4b1c("0x593")][_0x4b1c("0x1c")]((function(b){x[_0x4b1c("0x594")]+=c[_.Base64[_0x4b1c("0x4b")](b)]})),this.$v=c,c},x[_0x4b1c("0x595")]=function(x){return this.$v[x]},x[_0x4b1c("0x596")]=function(){var x=this,c="";return this[_0x4b1c("0x593")][_0x4b1c("0x1c")]((function(b){c+=x.$v[_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](b)]})),c===this[_0x4b1c("0x594")]},x._gd=function(x){return this.$v[_[_0x4b1c("0x4a")][_0x4b1c("0x4b")](x)]}}}},function(x,c,b){"use strict";var _=t(b(6)),e=t(b(14));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=b(75),a=i[_0x4b1c("0x597")],n=i[_0x4b1c("0x598")],r=i[_0x4b1c("0x599")],s=i[_0x4b1c("0x59a")][_0x4b1c("0xc")]||(i[_0x4b1c("0x59a")][_0x4b1c("0xc")]={});s[_0x4b1c("0x59b")]=function(){var x=null,c=null;function b(x){if(x)for(var c=(0,e.default)(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return b.prototype.v=0,b[_0x4b1c("0xf")][_0x4b1c("0x59c")]=0,b[_0x4b1c("0xf")][_0x4b1c("0x59d")]="",b[_0x4b1c("0xf")][_0x4b1c("0x59e")]="",b[_0x4b1c("0xf")][_0x4b1c("0x3d8")]=0,b[_0x4b1c("0xf")][_0x4b1c("0x99")]=0,b[_0x4b1c("0xf")].name="",b[_0x4b1c("0xf")].nameEn="",b[_0x4b1c("0xf")][_0x4b1c("0x59f")]="",b[_0x4b1c("0xf")].AS=0,b.prototype[_0x4b1c("0x5a0")]=0,b[_0x4b1c("0xf")][_0x4b1c("0x5a1")]=0,b[_0x4b1c("0xf")][_0x4b1c("0x5a2")]=0,b.prototype.x=0,b.prototype.y=0,b[_0x4b1c("0xf")].z=0,b[_0x4b1c("0xf")][_0x4b1c("0x5a3")]=r[_0x4b1c("0x5a4")]?r[_0x4b1c("0x5a4")][_0x4b1c("0x5a5")](0,0,!1):0,b[_0x4b1c("0xf")][_0x4b1c("0x5a6")]=r[_0x4b1c("0x5a4")]?r[_0x4b1c("0x5a4")].fromBits(0,0,!1):0,b[_0x4b1c("0xf")][_0x4b1c("0x5a7")]=r[_0x4b1c("0x5a4")]?r[_0x4b1c("0x5a4")][_0x4b1c("0x5a5")](0,0,!1):0,b[_0x4b1c("0xf")].maxY=r.Long?r[_0x4b1c("0x5a4")][_0x4b1c("0x5a5")](0,0,!1):0,b[_0x4b1c("0xf")][_0x4b1c("0x5a8")]="",b[_0x4b1c("0xf")].offsetroad="",b[_0x4b1c("0xf")][_0x4b1c("0x5a9")]="",b.prototype.bidnums=0,b[_0x4b1c("0xf")][_0x4b1c("0x5aa")]=0,b[_0x4b1c("0xf")][_0x4b1c("0x5ab")]="",b[_0x4b1c("0xf")][_0x4b1c("0x5ac")]="",b[_0x4b1c("0xf")][_0x4b1c("0x89")]="",b[_0x4b1c("0xf")][_0x4b1c("0x5ad")]="",b[_0x4b1c("0xf")][_0x4b1c("0x5ae")]="",b[_0x4b1c("0xf")][_0x4b1c("0x5af")]="",b[_0x4b1c("0xf")].o1=0,b[_0x4b1c("0xf")].o2=0,b[_0x4b1c("0xf")].ul=0,b[_0x4b1c("0xf")][_0x4b1c("0x3d6")]="",b[_0x4b1c("0xf")][_0x4b1c("0x5b0")]="",b[_0x4b1c("0xf")].l1=0,b[_0x4b1c("0xf")].l2=0,b[_0x4b1c("0xf")].l3=0,b[_0x4b1c("0xf")].l4=0,b.prototype[_0x4b1c("0x5b1")]="",b[_0x4b1c("0xf")][_0x4b1c("0x5b2")]="",b[_0x4b1c("0xf")].bidlist="",b[_0x4b1c("0xf")].fs=0,b[_0x4b1c("0x5b3")]=function(x){return new b(x)},b[_0x4b1c("0x5b4")]=function(x,c){return c||(c=n.create()),null!=x.v&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,"v")&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x.v),null!=x.mtime&&Object.hasOwnProperty[_0x4b1c("0x2")](x,_0x4b1c("0x59c"))&&c[_0x4b1c("0x5b5")](16).int32(x[_0x4b1c("0x59c")]),null!=x[_0x4b1c("0x59d")]&&Object[_0x4b1c("0x1")].call(x,"ltime")&&c.uint32(26).string(x[_0x4b1c("0x59d")]),null!=x[_0x4b1c("0x59e")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,"Hash")&&c[_0x4b1c("0x5b5")](34)[_0x4b1c("0xd")](x[_0x4b1c("0x59e")]),null!=x[_0x4b1c("0x3d8")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x3d8"))&&c[_0x4b1c("0x5b5")](40).int32(x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x99")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x99"))&&c.uint32(48)[_0x4b1c("0x5b6")](x[_0x4b1c("0x99")]),null!=x[_0x4b1c("0x1f7")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x1f7"))&&c[_0x4b1c("0x5b5")](58)[_0x4b1c("0xd")](x.name),null!=x[_0x4b1c("0x5b7")]&&Object[_0x4b1c("0x1")].call(x,"nameEn")&&c.uint32(66)[_0x4b1c("0xd")](x[_0x4b1c("0x5b7")]),null!=x[_0x4b1c("0x59f")]&&Object.hasOwnProperty[_0x4b1c("0x2")](x,_0x4b1c("0x59f"))&&c[_0x4b1c("0x5b5")](74)[_0x4b1c("0xd")](x[_0x4b1c("0x59f")]),null!=x.AS&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,"AS")&&c[_0x4b1c("0x5b5")](81)[_0x4b1c("0x5b8")](x.AS),null!=x[_0x4b1c("0x5a0")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5a0"))&&c[_0x4b1c("0x5b5")](89)[_0x4b1c("0x5b8")](x[_0x4b1c("0x5a0")]),null!=x[_0x4b1c("0x5a1")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5a1"))&&c[_0x4b1c("0x5b5")](97).double(x.AngleY),null!=x[_0x4b1c("0x5a2")]&&Object[_0x4b1c("0x1")].call(x,_0x4b1c("0x5a2"))&&c.uint32(105).double(x.AngleZ),null!=x.x&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,"x")&&c[_0x4b1c("0x5b5")](113)[_0x4b1c("0x5b8")](x.x),null!=x.y&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,"y")&&c[_0x4b1c("0x5b5")](121).double(x.y),null!=x.z&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,"z")&&c[_0x4b1c("0x5b5")](129).double(x.z),null!=x[_0x4b1c("0x5a3")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5a3"))&&c.uint32(136).int64(x[_0x4b1c("0x5a3")]),null!=x[_0x4b1c("0x5a6")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5a6"))&&c[_0x4b1c("0x5b5")](144)[_0x4b1c("0x5b9")](x[_0x4b1c("0x5a6")]),null!=x[_0x4b1c("0x5a7")]&&Object.hasOwnProperty[_0x4b1c("0x2")](x,_0x4b1c("0x5a7"))&&c[_0x4b1c("0x5b5")](152).int64(x.maxX),null!=x[_0x4b1c("0x5ba")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5ba"))&&c[_0x4b1c("0x5b5")](160)[_0x4b1c("0x5b9")](x[_0x4b1c("0x5ba")]),null!=x[_0x4b1c("0x5a8")]&&Object[_0x4b1c("0x1")].call(x,_0x4b1c("0x5a8"))&&c.uint32(170).string(x[_0x4b1c("0x5a8")]),null!=x.offsetroad&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5bb"))&&c[_0x4b1c("0x5b5")](178)[_0x4b1c("0xd")](x[_0x4b1c("0x5bb")]),null!=x[_0x4b1c("0x5a9")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5a9"))&&c[_0x4b1c("0x5b5")](186)[_0x4b1c("0xd")](x[_0x4b1c("0x5a9")]),null!=x[_0x4b1c("0x5bc")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5bc"))&&c[_0x4b1c("0x5b5")](192)[_0x4b1c("0x5b6")](x[_0x4b1c("0x5bc")]),null!=x[_0x4b1c("0x5aa")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5aa"))&&c[_0x4b1c("0x5b5")](200).int32(x[_0x4b1c("0x5aa")]),null!=x.Remark&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,"Remark")&&c.uint32(210)[_0x4b1c("0xd")](x[_0x4b1c("0x5ab")]),null!=x[_0x4b1c("0x5ac")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5ac"))&&c.uint32(218)[_0x4b1c("0xd")](x[_0x4b1c("0x5ac")]),null!=x[_0x4b1c("0x89")]&&Object[_0x4b1c("0x1")].call(x,_0x4b1c("0x89"))&&c[_0x4b1c("0x5b5")](226)[_0x4b1c("0xd")](x[_0x4b1c("0x89")]),null!=x[_0x4b1c("0x5ad")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5ad"))&&c[_0x4b1c("0x5b5")](234).string(x[_0x4b1c("0x5ad")]),null!=x[_0x4b1c("0x5ae")]&&Object.hasOwnProperty[_0x4b1c("0x2")](x,_0x4b1c("0x5ae"))&&c.uint32(242)[_0x4b1c("0xd")](x.logotoken),null!=x.tiletoken&&Object[_0x4b1c("0x1")].call(x,_0x4b1c("0x5af"))&&c.uint32(250)[_0x4b1c("0xd")](x.tiletoken),null!=x.o1&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,"o1")&&c.uint32(256)[_0x4b1c("0x5b6")](x.o1),null!=x.o2&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,"o2")&&c[_0x4b1c("0x5b5")](264)[_0x4b1c("0x5b6")](x.o2),null!=x.ul&&Object[_0x4b1c("0x1")].call(x,"ul")&&c[_0x4b1c("0x5b5")](272)[_0x4b1c("0x5b6")](x.ul),null!=x.other1&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x3d6"))&&c[_0x4b1c("0x5b5")](282)[_0x4b1c("0xd")](x[_0x4b1c("0x3d6")]),null!=x.other2&&Object[_0x4b1c("0x1")].call(x,_0x4b1c("0x5b0"))&&c.uint32(290).string(x[_0x4b1c("0x5b0")]),null!=x.l1&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,"l1")&&c[_0x4b1c("0x5b5")](296).int32(x.l1),null!=x.l2&&Object[_0x4b1c("0x1")].call(x,"l2")&&c[_0x4b1c("0x5b5")](304)[_0x4b1c("0x5b6")](x.l2),null!=x.l3&&Object[_0x4b1c("0x1")].call(x,"l3")&&c.uint32(312)[_0x4b1c("0x5b6")](x.l3),null!=x.l4&&Object[_0x4b1c("0x1")].call(x,"l4")&&c[_0x4b1c("0x5b5")](320).int32(x.l4),null!=x[_0x4b1c("0x5b1")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5b1"))&&c[_0x4b1c("0x5b5")](330)[_0x4b1c("0xd")](x.alist),null!=x[_0x4b1c("0x5b2")]&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5b2"))&&c[_0x4b1c("0x5b5")](338)[_0x4b1c("0xd")](x.eid),null!=x.bidlist&&Object[_0x4b1c("0x1")][_0x4b1c("0x2")](x,_0x4b1c("0x5bd"))&&c[_0x4b1c("0x5b5")](346)[_0x4b1c("0xd")](x[_0x4b1c("0x5bd")]),null!=x.fs&&Object.hasOwnProperty[_0x4b1c("0x2")](x,"fs")&&c[_0x4b1c("0x5b5")](352)[_0x4b1c("0x5b6")](x.fs),c},b[_0x4b1c("0x5be")]=function(x,c){return this[_0x4b1c("0x5b4")](x,c).ldelim()},b[_0x4b1c("0x4b")]=function(b,_){b instanceof a||(b=a[_0x4b1c("0x5b3")](b));for(var e=void 0===_?b[_0x4b1c("0x5bf")]:b.pos+_,t=new s.ESCityLicSet;b.pos<e;){var i=b[_0x4b1c("0x5b5")]();switch(i>>>3){case 1:t.v=b[_0x4b1c("0x5b6")]();break;case 2:t.mtime=b[_0x4b1c("0x5b6")]();break;case 3:t.ltime=b.string();break;case 4:t.Hash=b[_0x4b1c("0xd")]();break;case 5:t[_0x4b1c("0x3d8")]=b[_0x4b1c("0x5b6")]();break;case 6:t[_0x4b1c("0x99")]=b.int32();break;case 7:t[_0x4b1c("0x1f7")]=b.string();break;case 8:t[_0x4b1c("0x5b7")]=b[_0x4b1c("0xd")]();break;case 9:t[_0x4b1c("0x59f")]=b[_0x4b1c("0xd")]();break;case 10:t.AS=b.double();break;case 11:t[_0x4b1c("0x5a0")]=b.double();break;case 12:t[_0x4b1c("0x5a1")]=b.double();break;case 13:t[_0x4b1c("0x5a2")]=b.double();break;case 14:t.x=b[_0x4b1c("0x5b8")]();break;case 15:t.y=b[_0x4b1c("0x5b8")]();break;case 16:t.z=b[_0x4b1c("0x5b8")]();break;case 17:t[_0x4b1c("0x5a3")]=b[_0x4b1c("0x5b9")]();break;case 18:t.minY=b[_0x4b1c("0x5b9")]();break;case 19:t[_0x4b1c("0x5a7")]=b[_0x4b1c("0x5b9")]();break;case 20:t[_0x4b1c("0x5ba")]=b[_0x4b1c("0x5b9")]();break;case 21:t[_0x4b1c("0x5a8")]=b.string();break;case 22:t.offsetroad=b.string();break;case 23:t[_0x4b1c("0x5a9")]=b.string();break;case 24:t.bidnums=b[_0x4b1c("0x5b6")]();break;case 25:t[_0x4b1c("0x5aa")]=b[_0x4b1c("0x5b6")]();break;case 26:t[_0x4b1c("0x5ab")]=b.string();break;case 27:t[_0x4b1c("0x5ac")]=b.string();break;case 28:t[_0x4b1c("0x89")]=b[_0x4b1c("0xd")]();break;case 29:t.cids=b[_0x4b1c("0xd")]();break;case 30:t[_0x4b1c("0x5ae")]=b[_0x4b1c("0xd")]();break;case 31:t[_0x4b1c("0x5af")]=b[_0x4b1c("0xd")]();break;case 32:t.o1=b.int32();break;case 33:t.o2=b[_0x4b1c("0x5b6")]();break;case 34:t.ul=b.int32();break;case 35:t[_0x4b1c("0x3d6")]=b[_0x4b1c("0xd")]();break;case 36:t.other2=b[_0x4b1c("0xd")]();break;case 37:t.l1=b.int32();break;case 38:t.l2=b[_0x4b1c("0x5b6")]();break;case 39:t.l3=b[_0x4b1c("0x5b6")]();break;case 40:t.l4=b.int32();break;case 41:t[_0x4b1c("0x5b1")]=b.string();break;case 42:t[_0x4b1c("0x5b2")]=b.string();break;case 43:t[_0x4b1c("0x5bd")]=b[_0x4b1c("0xd")]();break;case 44:t.fs=b[_0x4b1c("0x5b6")]();break;default:b[_0x4b1c("0x5c0")](7&i)}}return c=t[_0x4b1c("0x59c")]+t[_0x4b1c("0x59e")]+t[_0x4b1c("0x89")]+t[_0x4b1c("0x5ae")]+t.ul+t.o1+t.o2+t[_0x4b1c("0x5af")],x=t,t},b[_0x4b1c("0x5c1")]=function(){var b=x[_0x4b1c("0x59c")]+x[_0x4b1c("0x59e")]+x[_0x4b1c("0x89")]+x[_0x4b1c("0x5ae")]+x.ul+x.o1+x.o2+x[_0x4b1c("0x5af")];return c===b},b[_0x4b1c("0x5c2")]=function(x){return x instanceof a||(x=new a(x)),this.decode(x,x.uint32())},b[_0x4b1c("0x5c3")]=function(x){return(typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))!==_0x4b1c("0x1d")||null===x?_0x4b1c("0x5c4"):null!=x.v&&x.hasOwnProperty("v")&&!r.isInteger(x.v)?"v: integer expected":null!=x[_0x4b1c("0x59c")]&&x[_0x4b1c("0x1")]("mtime")&&!r[_0x4b1c("0x5c5")](x[_0x4b1c("0x59c")])?"mtime: integer expected":null!=x.ltime&&x[_0x4b1c("0x1")](_0x4b1c("0x59d"))&&!r.isString(x.ltime)?_0x4b1c("0x5c6"):null!=x[_0x4b1c("0x59e")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59e"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x59e")])?_0x4b1c("0x5c7"):null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty(_0x4b1c("0x3d8"))&&!r.isInteger(x[_0x4b1c("0x3d8")])?_0x4b1c("0x5c8"):null!=x.tid&&x.hasOwnProperty(_0x4b1c("0x99"))&&!r[_0x4b1c("0x5c5")](x[_0x4b1c("0x99")])?_0x4b1c("0x5c9"):null!=x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x1f7"))&&!r.isString(x[_0x4b1c("0x1f7")])?_0x4b1c("0x5ca"):null!=x[_0x4b1c("0x5b7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b7"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x5b7")])?_0x4b1c("0x5cb"):null!=x[_0x4b1c("0x59f")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59f"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x59f")])?_0x4b1c("0x5cc"):null!=x.AS&&x[_0x4b1c("0x1")]("AS")&&"number"!=typeof x.AS?_0x4b1c("0x5cd"):null!=x.AngleX&&x.hasOwnProperty(_0x4b1c("0x5a0"))&&typeof x[_0x4b1c("0x5a0")]!==_0x4b1c("0x18f")?_0x4b1c("0x5ce"):null!=x[_0x4b1c("0x5a1")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a1"))&&typeof x[_0x4b1c("0x5a1")]!==_0x4b1c("0x18f")?_0x4b1c("0x5cf"):null!=x[_0x4b1c("0x5a2")]&&x.hasOwnProperty(_0x4b1c("0x5a2"))&&typeof x[_0x4b1c("0x5a2")]!==_0x4b1c("0x18f")?_0x4b1c("0x5d0"):null!=x.x&&x[_0x4b1c("0x1")]("x")&&"number"!=typeof x.x?_0x4b1c("0x5d1"):null!=x.y&&x[_0x4b1c("0x1")]("y")&&typeof x.y!==_0x4b1c("0x18f")?_0x4b1c("0x5d2"):null!=x.z&&x[_0x4b1c("0x1")]("z")&&typeof x.z!==_0x4b1c("0x18f")?"z: number expected":null!=x[_0x4b1c("0x5a3")]&&x[_0x4b1c("0x1")]("minX")&&!(r[_0x4b1c("0x5c5")](x[_0x4b1c("0x5a3")])||x[_0x4b1c("0x5a3")]&&r[_0x4b1c("0x5c5")](x.minX[_0x4b1c("0x5d3")])&&r.isInteger(x[_0x4b1c("0x5a3")].high))?_0x4b1c("0x5d4"):null!=x.minY&&x[_0x4b1c("0x1")](_0x4b1c("0x5a6"))&&!(r.isInteger(x[_0x4b1c("0x5a6")])||x[_0x4b1c("0x5a6")]&&r[_0x4b1c("0x5c5")](x[_0x4b1c("0x5a6")].low)&&r[_0x4b1c("0x5c5")](x[_0x4b1c("0x5a6")][_0x4b1c("0x5d5")]))?"minY: integer|Long expected":null!=x.maxX&&x[_0x4b1c("0x1")](_0x4b1c("0x5a7"))&&!(r.isInteger(x[_0x4b1c("0x5a7")])||x[_0x4b1c("0x5a7")]&&r.isInteger(x[_0x4b1c("0x5a7")].low)&&r[_0x4b1c("0x5c5")](x.maxX[_0x4b1c("0x5d5")]))?_0x4b1c("0x5d6"):null!=x[_0x4b1c("0x5ba")]&&x.hasOwnProperty(_0x4b1c("0x5ba"))&&!(r[_0x4b1c("0x5c5")](x[_0x4b1c("0x5ba")])||x[_0x4b1c("0x5ba")]&&r[_0x4b1c("0x5c5")](x[_0x4b1c("0x5ba")][_0x4b1c("0x5d3")])&&r[_0x4b1c("0x5c5")](x[_0x4b1c("0x5ba")][_0x4b1c("0x5d5")]))?"maxY: integer|Long expected":null!=x[_0x4b1c("0x5a8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a8"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x5a8")])?_0x4b1c("0x5d7"):null!=x[_0x4b1c("0x5bb")]&&x.hasOwnProperty(_0x4b1c("0x5bb"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x5bb")])?_0x4b1c("0x5d8"):null!=x.tileurl&&x.hasOwnProperty(_0x4b1c("0x5a9"))&&!r.isString(x[_0x4b1c("0x5a9")])?_0x4b1c("0x5d9"):null!=x[_0x4b1c("0x5bc")]&&x[_0x4b1c("0x1")]("bidnums")&&!r[_0x4b1c("0x5c5")](x.bidnums)?_0x4b1c("0x5da"):null!=x[_0x4b1c("0x5aa")]&&x[_0x4b1c("0x1")]("modnums")&&!r[_0x4b1c("0x5c5")](x[_0x4b1c("0x5aa")])?_0x4b1c("0x5db"):null!=x[_0x4b1c("0x5ab")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ab"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x5ab")])?_0x4b1c("0x5dc"):null!=x[_0x4b1c("0x5ac")]&&x.hasOwnProperty(_0x4b1c("0x5ac"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x5ac")])?_0x4b1c("0x5dd"):null!=x[_0x4b1c("0x89")]&&x.hasOwnProperty(_0x4b1c("0x89"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x89")])?_0x4b1c("0x5de"):null!=x[_0x4b1c("0x5ad")]&&x.hasOwnProperty(_0x4b1c("0x5ad"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x5ad")])?"cids: string expected":null!=x[_0x4b1c("0x5ae")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ae"))&&!r[_0x4b1c("0x367")](x.logotoken)?_0x4b1c("0x5df"):null!=x.tiletoken&&x[_0x4b1c("0x1")](_0x4b1c("0x5af"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x5af")])?"tiletoken: string expected":null!=x.o1&&x[_0x4b1c("0x1")]("o1")&&!r[_0x4b1c("0x5c5")](x.o1)?_0x4b1c("0x5e0"):null!=x.o2&&x[_0x4b1c("0x1")]("o2")&&!r[_0x4b1c("0x5c5")](x.o2)?_0x4b1c("0x5e1"):null!=x.ul&&x.hasOwnProperty("ul")&&!r[_0x4b1c("0x5c5")](x.ul)?"ul: integer expected":null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")]("other1")&&!r[_0x4b1c("0x367")](x.other1)?_0x4b1c("0x5e2"):null!=x[_0x4b1c("0x5b0")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b0"))&&!r[_0x4b1c("0x367")](x[_0x4b1c("0x5b0")])?"other2: string expected":null!=x.l1&&x.hasOwnProperty("l1")&&!r[_0x4b1c("0x5c5")](x.l1)?"l1: integer expected":null!=x.l2&&x.hasOwnProperty("l2")&&!r.isInteger(x.l2)?_0x4b1c("0x5e3"):null!=x.l3&&x.hasOwnProperty("l3")&&!r[_0x4b1c("0x5c5")](x.l3)?_0x4b1c("0x5e4"):null!=x.l4&&x.hasOwnProperty("l4")&&!r[_0x4b1c("0x5c5")](x.l4)?"l4: integer expected":null!=x[_0x4b1c("0x5b1")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b1"))&&!r.isString(x[_0x4b1c("0x5b1")])?"alist: string expected":null!=x[_0x4b1c("0x5b2")]&&x.hasOwnProperty("eid")&&!r.isString(x.eid)?_0x4b1c("0x5e5"):null!=x[_0x4b1c("0x5bd")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5bd"))&&!r.isString(x[_0x4b1c("0x5bd")])?_0x4b1c("0x5e6"):null!=x.fs&&x[_0x4b1c("0x1")]("fs")&&!r[_0x4b1c("0x5c5")](x.fs)?_0x4b1c("0x5e7"):null},b.fromObject=function(x){if(x instanceof s[_0x4b1c("0x59b")])return x;var c=new(s[_0x4b1c("0x59b")]);return null!=x.v&&(c.v=0|x.v),null!=x[_0x4b1c("0x59c")]&&(c.mtime=0|x[_0x4b1c("0x59c")]),null!=x[_0x4b1c("0x59d")]&&(c.ltime=String(x[_0x4b1c("0x59d")])),null!=x[_0x4b1c("0x59e")]&&(c[_0x4b1c("0x59e")]=String(x[_0x4b1c("0x59e")])),null!=x._id&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x99")]&&(c[_0x4b1c("0x99")]=0|x[_0x4b1c("0x99")]),null!=x[_0x4b1c("0x1f7")]&&(c[_0x4b1c("0x1f7")]=String(x[_0x4b1c("0x1f7")])),null!=x[_0x4b1c("0x5b7")]&&(c[_0x4b1c("0x5b7")]=String(x[_0x4b1c("0x5b7")])),null!=x[_0x4b1c("0x59f")]&&(c[_0x4b1c("0x59f")]=String(x[_0x4b1c("0x59f")])),null!=x.AS&&(c.AS=Number(x.AS)),null!=x.AngleX&&(c.AngleX=Number(x[_0x4b1c("0x5a0")])),null!=x[_0x4b1c("0x5a1")]&&(c.AngleY=Number(x[_0x4b1c("0x5a1")])),null!=x[_0x4b1c("0x5a2")]&&(c.AngleZ=Number(x[_0x4b1c("0x5a2")])),null!=x.x&&(c.x=Number(x.x)),null!=x.y&&(c.y=Number(x.y)),null!=x.z&&(c.z=Number(x.z)),null!=x.minX&&(r.Long?(c[_0x4b1c("0x5a3")]=r[_0x4b1c("0x5a4")].fromValue(x.minX)).unsigned=!1:typeof x[_0x4b1c("0x5a3")]===_0x4b1c("0xd")?c[_0x4b1c("0x5a3")]=parseInt(x[_0x4b1c("0x5a3")],10):typeof x[_0x4b1c("0x5a3")]===_0x4b1c("0x18f")?c[_0x4b1c("0x5a3")]=x.minX:(0,_.default)(x[_0x4b1c("0x5a3")])===_0x4b1c("0x1d")&&(c[_0x4b1c("0x5a3")]=new r.LongBits(x.minX[_0x4b1c("0x5d3")]>>>0,x.minX.high>>>0).toNumber())),null!=x[_0x4b1c("0x5a6")]&&(r.Long?(c[_0x4b1c("0x5a6")]=r[_0x4b1c("0x5a4")].fromValue(x[_0x4b1c("0x5a6")]))[_0x4b1c("0x5e8")]=!1:typeof x[_0x4b1c("0x5a6")]===_0x4b1c("0xd")?c[_0x4b1c("0x5a6")]=parseInt(x[_0x4b1c("0x5a6")],10):typeof x[_0x4b1c("0x5a6")]===_0x4b1c("0x18f")?c.minY=x[_0x4b1c("0x5a6")]:"object"===(0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x5a6")])&&(c[_0x4b1c("0x5a6")]=new(r[_0x4b1c("0x5e9")])(x[_0x4b1c("0x5a6")][_0x4b1c("0x5d3")]>>>0,x[_0x4b1c("0x5a6")][_0x4b1c("0x5d5")]>>>0)[_0x4b1c("0x5ea")]())),null!=x.maxX&&(r.Long?(c[_0x4b1c("0x5a7")]=r.Long[_0x4b1c("0x5eb")](x.maxX))[_0x4b1c("0x5e8")]=!1:typeof x[_0x4b1c("0x5a7")]===_0x4b1c("0xd")?c[_0x4b1c("0x5a7")]=parseInt(x.maxX,10):typeof x.maxX===_0x4b1c("0x18f")?c[_0x4b1c("0x5a7")]=x[_0x4b1c("0x5a7")]:(0,_.default)(x[_0x4b1c("0x5a7")])===_0x4b1c("0x1d")&&(c.maxX=new(r[_0x4b1c("0x5e9")])(x[_0x4b1c("0x5a7")].low>>>0,x.maxX[_0x4b1c("0x5d5")]>>>0)[_0x4b1c("0x5ea")]())),null!=x[_0x4b1c("0x5ba")]&&(r[_0x4b1c("0x5a4")]?(c[_0x4b1c("0x5ba")]=r[_0x4b1c("0x5a4")][_0x4b1c("0x5eb")](x[_0x4b1c("0x5ba")]))[_0x4b1c("0x5e8")]=!1:"string"==typeof x[_0x4b1c("0x5ba")]?c[_0x4b1c("0x5ba")]=parseInt(x[_0x4b1c("0x5ba")],10):typeof x.maxY===_0x4b1c("0x18f")?c[_0x4b1c("0x5ba")]=x.maxY:(0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x5ba")])===_0x4b1c("0x1d")&&(c[_0x4b1c("0x5ba")]=new(r[_0x4b1c("0x5e9")])(x.maxY[_0x4b1c("0x5d3")]>>>0,x[_0x4b1c("0x5ba")].high>>>0)[_0x4b1c("0x5ea")]())),null!=x[_0x4b1c("0x5a8")]&&(c[_0x4b1c("0x5a8")]=String(x[_0x4b1c("0x5a8")])),null!=x[_0x4b1c("0x5bb")]&&(c[_0x4b1c("0x5bb")]=String(x.offsetroad)),null!=x[_0x4b1c("0x5a9")]&&(c[_0x4b1c("0x5a9")]=String(x.tileurl)),null!=x[_0x4b1c("0x5bc")]&&(c.bidnums=0|x.bidnums),null!=x[_0x4b1c("0x5aa")]&&(c[_0x4b1c("0x5aa")]=0|x[_0x4b1c("0x5aa")]),null!=x.Remark&&(c.Remark=String(x[_0x4b1c("0x5ab")])),null!=x[_0x4b1c("0x5ac")]&&(c.styleid=String(x.styleid)),null!=x[_0x4b1c("0x89")]&&(c.token=String(x.token)),null!=x.cids&&(c[_0x4b1c("0x5ad")]=String(x[_0x4b1c("0x5ad")])),null!=x[_0x4b1c("0x5ae")]&&(c[_0x4b1c("0x5ae")]=String(x[_0x4b1c("0x5ae")])),null!=x[_0x4b1c("0x5af")]&&(c.tiletoken=String(x[_0x4b1c("0x5af")])),null!=x.o1&&(c.o1=0|x.o1),null!=x.o2&&(c.o2=0|x.o2),null!=x.ul&&(c.ul=0|x.ul),null!=x[_0x4b1c("0x3d6")]&&(c[_0x4b1c("0x3d6")]=String(x[_0x4b1c("0x3d6")])),null!=x[_0x4b1c("0x5b0")]&&(c[_0x4b1c("0x5b0")]=String(x[_0x4b1c("0x5b0")])),null!=x.l1&&(c.l1=0|x.l1),null!=x.l2&&(c.l2=0|x.l2),null!=x.l3&&(c.l3=0|x.l3),null!=x.l4&&(c.l4=0|x.l4),null!=x.alist&&(c.alist=String(x[_0x4b1c("0x5b1")])),null!=x[_0x4b1c("0x5b2")]&&(c[_0x4b1c("0x5b2")]=String(x.eid)),null!=x.bidlist&&(c[_0x4b1c("0x5bd")]=String(x.bidlist)),null!=x.fs&&(c.fs=0|x.fs),c},b[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};if(c[_0x4b1c("0x5ed")]){if(b.v=0,b[_0x4b1c("0x59c")]=0,b[_0x4b1c("0x59d")]="",b.Hash="",b._id=0,b[_0x4b1c("0x99")]=0,b.name="",b[_0x4b1c("0x5b7")]="",b[_0x4b1c("0x59f")]="",b.AS=0,b.AngleX=0,b[_0x4b1c("0x5a1")]=0,b[_0x4b1c("0x5a2")]=0,b.x=0,b.y=0,b.z=0,r[_0x4b1c("0x5a4")]){var _=new(r[_0x4b1c("0x5a4")])(0,0,!1);b[_0x4b1c("0x5a3")]=c.longs===String?_[_0x4b1c("0x2f")]():c[_0x4b1c("0x5ee")]===Number?_.toNumber():_}else b.minX=c[_0x4b1c("0x5ee")]===String?"0":0;if(r[_0x4b1c("0x5a4")]){_=new r.Long(0,0,!1);b[_0x4b1c("0x5a6")]=c[_0x4b1c("0x5ee")]===String?_[_0x4b1c("0x2f")]():c[_0x4b1c("0x5ee")]===Number?_[_0x4b1c("0x5ea")]():_}else b[_0x4b1c("0x5a6")]=c[_0x4b1c("0x5ee")]===String?"0":0;if(r[_0x4b1c("0x5a4")]){_=new(r[_0x4b1c("0x5a4")])(0,0,!1);b[_0x4b1c("0x5a7")]=c[_0x4b1c("0x5ee")]===String?_[_0x4b1c("0x2f")]():c.longs===Number?_.toNumber():_}else b[_0x4b1c("0x5a7")]=c[_0x4b1c("0x5ee")]===String?"0":0;if(r[_0x4b1c("0x5a4")]){_=new(r[_0x4b1c("0x5a4")])(0,0,!1);b.maxY=c.longs===String?_[_0x4b1c("0x2f")]():c.longs===Number?_.toNumber():_}else b[_0x4b1c("0x5ba")]=c[_0x4b1c("0x5ee")]===String?"0":0;b.offsetbid="",b[_0x4b1c("0x5bb")]="",b[_0x4b1c("0x5a9")]="",b.bidnums=0,b[_0x4b1c("0x5aa")]=0,b[_0x4b1c("0x5ab")]="",b[_0x4b1c("0x5ac")]="",b[_0x4b1c("0x89")]="",b.cids="",b[_0x4b1c("0x5ae")]="",b[_0x4b1c("0x5af")]="",b.o1=0,b.o2=0,b.ul=0,b[_0x4b1c("0x3d6")]="",b.other2="",b.l1=0,b.l2=0,b.l3=0,b.l4=0,b.alist="",b[_0x4b1c("0x5b2")]="",b.bidlist="",b.fs=0}return null!=x.v&&x[_0x4b1c("0x1")]("v")&&(b.v=x.v),null!=x[_0x4b1c("0x59c")]&&x.hasOwnProperty(_0x4b1c("0x59c"))&&(b[_0x4b1c("0x59c")]=x[_0x4b1c("0x59c")]),null!=x[_0x4b1c("0x59d")]&&x.hasOwnProperty(_0x4b1c("0x59d"))&&(b[_0x4b1c("0x59d")]=x[_0x4b1c("0x59d")]),null!=x[_0x4b1c("0x59e")]&&x.hasOwnProperty("Hash")&&(b[_0x4b1c("0x59e")]=x[_0x4b1c("0x59e")]),null!=x._id&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&(b._id=x._id),null!=x.tid&&x[_0x4b1c("0x1")](_0x4b1c("0x99"))&&(b.tid=x[_0x4b1c("0x99")]),null!=x.name&&x.hasOwnProperty(_0x4b1c("0x1f7"))&&(b[_0x4b1c("0x1f7")]=x[_0x4b1c("0x1f7")]),null!=x[_0x4b1c("0x5b7")]&&x[_0x4b1c("0x1")]("nameEn")&&(b.nameEn=x[_0x4b1c("0x5b7")]),null!=x[_0x4b1c("0x59f")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59f"))&&(b[_0x4b1c("0x59f")]=x[_0x4b1c("0x59f")]),null!=x.AS&&x.hasOwnProperty("AS")&&(b.AS=c[_0x4b1c("0xff")]&&!isFinite(x.AS)?String(x.AS):x.AS),null!=x[_0x4b1c("0x5a0")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a0"))&&(b[_0x4b1c("0x5a0")]=c.json&&!isFinite(x[_0x4b1c("0x5a0")])?String(x[_0x4b1c("0x5a0")]):x.AngleX),null!=x[_0x4b1c("0x5a1")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a1"))&&(b[_0x4b1c("0x5a1")]=c.json&&!isFinite(x.AngleY)?String(x.AngleY):x.AngleY),null!=x[_0x4b1c("0x5a2")]&&x[_0x4b1c("0x1")]("AngleZ")&&(b.AngleZ=c[_0x4b1c("0xff")]&&!isFinite(x[_0x4b1c("0x5a2")])?String(x[_0x4b1c("0x5a2")]):x.AngleZ),null!=x.x&&x.hasOwnProperty("x")&&(b.x=c[_0x4b1c("0xff")]&&!isFinite(x.x)?String(x.x):x.x),null!=x.y&&x[_0x4b1c("0x1")]("y")&&(b.y=c.json&&!isFinite(x.y)?String(x.y):x.y),null!=x.z&&x[_0x4b1c("0x1")]("z")&&(b.z=c.json&&!isFinite(x.z)?String(x.z):x.z),null!=x.minX&&x.hasOwnProperty(_0x4b1c("0x5a3"))&&(typeof x[_0x4b1c("0x5a3")]===_0x4b1c("0x18f")?b[_0x4b1c("0x5a3")]=c[_0x4b1c("0x5ee")]===String?String(x[_0x4b1c("0x5a3")]):x[_0x4b1c("0x5a3")]:b[_0x4b1c("0x5a3")]=c.longs===String?r[_0x4b1c("0x5a4")][_0x4b1c("0xf")][_0x4b1c("0x2f")][_0x4b1c("0x2")](x.minX):c[_0x4b1c("0x5ee")]===Number?new(r[_0x4b1c("0x5e9")])(x[_0x4b1c("0x5a3")][_0x4b1c("0x5d3")]>>>0,x[_0x4b1c("0x5a3")][_0x4b1c("0x5d5")]>>>0).toNumber():x[_0x4b1c("0x5a3")]),null!=x[_0x4b1c("0x5a6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a6"))&&(typeof x[_0x4b1c("0x5a6")]===_0x4b1c("0x18f")?b.minY=c[_0x4b1c("0x5ee")]===String?String(x[_0x4b1c("0x5a6")]):x[_0x4b1c("0x5a6")]:b[_0x4b1c("0x5a6")]=c[_0x4b1c("0x5ee")]===String?r[_0x4b1c("0x5a4")][_0x4b1c("0xf")][_0x4b1c("0x2f")][_0x4b1c("0x2")](x[_0x4b1c("0x5a6")]):c[_0x4b1c("0x5ee")]===Number?new(r[_0x4b1c("0x5e9")])(x[_0x4b1c("0x5a6")][_0x4b1c("0x5d3")]>>>0,x[_0x4b1c("0x5a6")][_0x4b1c("0x5d5")]>>>0)[_0x4b1c("0x5ea")]():x[_0x4b1c("0x5a6")]),null!=x[_0x4b1c("0x5a7")]&&x[_0x4b1c("0x1")]("maxX")&&("number"==typeof x[_0x4b1c("0x5a7")]?b[_0x4b1c("0x5a7")]=c[_0x4b1c("0x5ee")]===String?String(x[_0x4b1c("0x5a7")]):x[_0x4b1c("0x5a7")]:b.maxX=c[_0x4b1c("0x5ee")]===String?r[_0x4b1c("0x5a4")][_0x4b1c("0xf")][_0x4b1c("0x2f")][_0x4b1c("0x2")](x[_0x4b1c("0x5a7")]):c[_0x4b1c("0x5ee")]===Number?new(r[_0x4b1c("0x5e9")])(x[_0x4b1c("0x5a7")].low>>>0,x[_0x4b1c("0x5a7")][_0x4b1c("0x5d5")]>>>0)[_0x4b1c("0x5ea")]():x[_0x4b1c("0x5a7")]),null!=x[_0x4b1c("0x5ba")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ba"))&&(typeof x.maxY===_0x4b1c("0x18f")?b[_0x4b1c("0x5ba")]=c.longs===String?String(x.maxY):x[_0x4b1c("0x5ba")]:b[_0x4b1c("0x5ba")]=c[_0x4b1c("0x5ee")]===String?r[_0x4b1c("0x5a4")][_0x4b1c("0xf")].toString[_0x4b1c("0x2")](x[_0x4b1c("0x5ba")]):c[_0x4b1c("0x5ee")]===Number?new(r[_0x4b1c("0x5e9")])(x.maxY[_0x4b1c("0x5d3")]>>>0,x[_0x4b1c("0x5ba")][_0x4b1c("0x5d5")]>>>0)[_0x4b1c("0x5ea")]():x[_0x4b1c("0x5ba")]),null!=x[_0x4b1c("0x5a8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a8"))&&(b.offsetbid=x[_0x4b1c("0x5a8")]),null!=x.offsetroad&&x[_0x4b1c("0x1")](_0x4b1c("0x5bb"))&&(b[_0x4b1c("0x5bb")]=x[_0x4b1c("0x5bb")]),null!=x[_0x4b1c("0x5a9")]&&x.hasOwnProperty(_0x4b1c("0x5a9"))&&(b[_0x4b1c("0x5a9")]=x[_0x4b1c("0x5a9")]),null!=x[_0x4b1c("0x5bc")]&&x[_0x4b1c("0x1")]("bidnums")&&(b.bidnums=x[_0x4b1c("0x5bc")]),null!=x[_0x4b1c("0x5aa")]&&x.hasOwnProperty(_0x4b1c("0x5aa"))&&(b[_0x4b1c("0x5aa")]=x.modnums),null!=x[_0x4b1c("0x5ab")]&&x[_0x4b1c("0x1")]("Remark")&&(b.Remark=x[_0x4b1c("0x5ab")]),null!=x[_0x4b1c("0x5ac")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ac"))&&(b[_0x4b1c("0x5ac")]=x[_0x4b1c("0x5ac")]),null!=x[_0x4b1c("0x89")]&&x[_0x4b1c("0x1")]("token")&&(b[_0x4b1c("0x89")]=x[_0x4b1c("0x89")]),null!=x[_0x4b1c("0x5ad")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ad"))&&(b[_0x4b1c("0x5ad")]=x[_0x4b1c("0x5ad")]),null!=x[_0x4b1c("0x5ae")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ae"))&&(b[_0x4b1c("0x5ae")]=x[_0x4b1c("0x5ae")]),null!=x[_0x4b1c("0x5af")]&&x.hasOwnProperty(_0x4b1c("0x5af"))&&(b[_0x4b1c("0x5af")]=x[_0x4b1c("0x5af")]),null!=x.o1&&x.hasOwnProperty("o1")&&(b.o1=x.o1),null!=x.o2&&x[_0x4b1c("0x1")]("o2")&&(b.o2=x.o2),null!=x.ul&&x.hasOwnProperty("ul")&&(b.ul=x.ul),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&(b[_0x4b1c("0x3d6")]=x[_0x4b1c("0x3d6")]),null!=x[_0x4b1c("0x5b0")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b0"))&&(b.other2=x.other2),null!=x.l1&&x[_0x4b1c("0x1")]("l1")&&(b.l1=x.l1),null!=x.l2&&x[_0x4b1c("0x1")]("l2")&&(b.l2=x.l2),null!=x.l3&&x[_0x4b1c("0x1")]("l3")&&(b.l3=x.l3),null!=x.l4&&x[_0x4b1c("0x1")]("l4")&&(b.l4=x.l4),null!=x.alist&&x.hasOwnProperty("alist")&&(b[_0x4b1c("0x5b1")]=x[_0x4b1c("0x5b1")]),null!=x[_0x4b1c("0x5b2")]&&x.hasOwnProperty("eid")&&(b[_0x4b1c("0x5b2")]=x[_0x4b1c("0x5b2")]),null!=x[_0x4b1c("0x5bd")]&&x.hasOwnProperty(_0x4b1c("0x5bd"))&&(b.bidlist=x[_0x4b1c("0x5bd")]),null!=x.fs&&x.hasOwnProperty("fs")&&(b.fs=x.fs),b},b.prototype[_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,i[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},b[_0x4b1c("0x5f2")]=function(x){return void 0===x&&(x="type.googleapis.com"),x+_0x4b1c("0x5f3")},b}(),x[_0x4b1c("0x6")]=s},,,,function(x,c,b){"use strict";var _=s(b(115)),e=function(x){if(x&&x.__esModule)return x;var c={};if(null!=x)for(var b in x)Object[_0x4b1c("0xf")].hasOwnProperty[_0x4b1c("0x2")](x,b)&&(c[b]=x[b]);return c[_0x4b1c("0xc")]=x,c}(b(166)),t=s(b(257)),i=b(76),a=b(23),n=s(b(141)),r=s(b(263));function s(x){return x&&x.__esModule?x:{default:x}}var o=e.THREE_;window.THREE=o;var f=window.em=o;window[_0x4b1c("0x5f4")]=e[_0x4b1c("0x5f4")];var l=window.esmap={version:"1.0.2",minV:1,maxV:2};l[_0x4b1c("0x5f5")]=!1,l[_0x4b1c("0x1a6")]=r[_0x4b1c("0xc")],window.esmap[_0x4b1c("0x5f6")]=n[_0x4b1c("0xc")],l[_0x4b1c("0x87")]=t[_0x4b1c("0xc")],l[_0x4b1c("0x1c1")]=i.MapError,l[_0x4b1c("0x30")]=a[_0x4b1c("0x30")],b(264),b(265),b(266),b(267),b(268),b(269),b(270),b(271),b(273),b(274),b(275),b(276),o[_0x4b1c("0x5f7")]=function(){this[_0x4b1c("0x5f8")]=[]},o[_0x4b1c("0x5f7")].delay=function(x){var c=new(o[_0x4b1c("0x5f7")]);return setTimeout((function(){c[_0x4b1c("0xdf")]()}),x),c},o[_0x4b1c("0x5f7")][_0x4b1c("0xf")]={constructor:o[_0x4b1c("0x5f7")],then:function(x){return this[_0x4b1c("0x5f8")].push(x),this},resolve:function(x){var c=this;setTimeout((function(){for(var x=0;x<c.callbacks.length;x++){var b=c[_0x4b1c("0x5f8")][x]();if(b instanceof o[_0x4b1c("0x5f7")])for(x++;x<c.callbacks[_0x4b1c("0x0")];x++)b.then(c[_0x4b1c("0x5f8")][x])}}),0)}},l[_0x4b1c("0x5f9")]={EXTENT_EPSILON_Y:-.01,SCENE_AXIS:!1},l[_0x4b1c("0x5fa")]={create:function(x,c){return new d(x,c)}},l[_0x4b1c("0x5fb")]={setUrl:function(x){this[_0x4b1c("0xf4")][_0x4b1c("0x3e")]&&this.material[_0x4b1c("0x3e")][_0x4b1c("0xf3")](),this[_0x4b1c("0xf4")][_0x4b1c("0x3e")]=l[_0x4b1c("0x87")].loadTexture(x),this[_0x4b1c("0xf4")][_0x4b1c("0x3e")].needsUpdate=!0}},l[_0x4b1c("0x5fc")]={NORTH:"n",SOUTH:"s",WEST:"w",EAST:"e",NORTH_EAST:"ne",NORTH_WEST:"nw",SOUTH_EAST:"se",SOUTH_WEST:"sw"},l.ESLayerType={NONE:"none",FLOOR_BASE:_0x4b1c("0x5fd"),MODEL:_0x4b1c("0x1e6"),MODEL_POI:_0x4b1c("0x5fe"),MODEL_LABEL:"label",MODEL_LINE:_0x4b1c("0x5ff"),MODEL_IMAGE:_0x4b1c("0x584"),MODEL_BASE:_0x4b1c("0x600"),MODEL3D:_0x4b1c("0x1e7"),EXTERANL_MODEL:_0x4b1c("0x601"),POLYGON_MARKER:_0x4b1c("0x602"),LOCATION_MARKER:_0x4b1c("0x603"),LINE_MARKER:_0x4b1c("0x604"),IMAGE_MARKER:_0x4b1c("0x605"),TEXT_MARKER:_0x4b1c("0x606"),CARD_MARKER:"cardMarker",BOARD_MARKER:_0x4b1c("0x607"),MAP_ROAD:_0x4b1c("0x608")},l.ESNaviMode={MAN:1,CAR:2},l[_0x4b1c("0x41")]={Building:(0,_.default)(1),City:(0,_.default)(2)},l.ShowBuildingMode={NONE:(0,_.default)(0),SINGLE:(0,_[_0x4b1c("0xc")])(1),PLANISH:(0,_[_0x4b1c("0xc")])(2)},l.ESCameraMode={NORMAL:_0x4b1c("0x140"),NEAR:_0x4b1c("0x609")},l[_0x4b1c("0x60a")]={NONE:_0x4b1c("0x60b"),MODEL:_0x4b1c("0x1e6"),MODEL_POI:_0x4b1c("0x60c"),MODEL_LABEL:"label",MODEL_IMAGE:_0x4b1c("0x584"),MODEL_BASE:_0x4b1c("0x600"),MODEL3D:_0x4b1c("0x1e7"),EXTERANL_MODEL:_0x4b1c("0x601"),POLYGON_MARKER:"polygonMarker"},l[_0x4b1c("0x1fd")]={floorBase:10,model:76,polygonMarker:76,externalModel:20,label:77,facility:77,textMarker:77,imageMarker:77,locationMarker:78,cardMarker:77,transparentLine:76,lineObject:76,model3D:76,modelImage:76,tileRouteLine:76},l[_0x4b1c("0x288")]={EXPIRED:_0x4b1c("0x60d"),TOKEN_MISS:"Please provide the corresponding token!",TOKEN_ERR:_0x4b1c("0x60e"),VERS_ERR:"Error version",ES3DMARKERNUM_ERR:"Maximum es3dMarker limited",AUDIO_TOKEN:_0x4b1c("0x60f"),ARRAY_REQUIRED:"Data type must be an array",VIEW_MODE2D_ALLFNUM:_0x4b1c("0x610"),TOO_FAST:_0x4b1c("0x611"),INVALID_TYPE:_0x4b1c("0x612"),AUTH_EXPIRED:_0x4b1c("0x613"),AUTH_FAILED:_0x4b1c("0x614"),INVALID_OFFLICENSE:"current is online licensce , please contact esmap to get offline license",AUTHO_REQUIRED:"This feature is not authorized",WEBGL_CONTEXT_LOST:"Webgl Context Lost",WEBGL_CONTEXT_RESTORED:_0x4b1c("0x615"),MAP_INSTANCE_REPEAT:_0x4b1c("0x616")},l[_0x4b1c("0x131")]={NONE:0,FLOOR:4,MODEL:5,MODEL3D:6,MODEL_IMAGE:7,FACILITY:11,LABEL:12,LINE:21,IMAGE_MARKER:31,LINE_MARKER:35,TEXT_MARKER:32,LOCATION_MARKER:33,CARD_MARKER:34,POLYGON_MARKER:100,EFFECT_MARKER:200,ALL:65535,ELEMENT:100},l.ESLineMode={PLANE:_0x4b1c("0x181"),CIRCLE:_0x4b1c("0x17e")},l.ESLineType={FULL:"full",DOTTED:_0x4b1c("0x617"),DOT_DASH:_0x4b1c("0x618"),CENTER:_0x4b1c("0x12d"),DASH:"dash",DOUBLE_DOT_DASH:_0x4b1c("0x619"),TRI_DOT_DASH:"triDotDash",NORMAL:_0x4b1c("0x140"),ARROW:_0x4b1c("0x16a"),RAW:_0x4b1c("0x61a"),ESARROW:_0x4b1c("0x61b"),TEXTURE:_0x4b1c("0x61c")},l[_0x4b1c("0x61d")]={MODE_3D:"3D",MODE_2D:"2D"},l[_0x4b1c("0x61e")]={Map_CONTROL_SMALL:_0x4b1c("0x61f"),Map_CONTROL_NORMAL:_0x4b1c("0x140")},l[_0x4b1c("0x620")]={LEFT_TOP:1,LEFT_BOTTOM:2,RIGHT_TOP:3,RIGHT_BOTTOM:4},l[_0x4b1c("0x621")]={TILE:1,BUILDING:2,BASE:3},l[_0x4b1c("0x622")]={SINGLE_FLOOR:1,MULTI_FLOOR:2},window[_0x4b1c("0x623")]=function(x){l[_0x4b1c("0x32")]=function(x){var c;c=x&&x.container?x.container:document[_0x4b1c("0x26")],(new l.ESMapError)[_0x4b1c("0x624")](c)},window.onerror=null};var d=b(277)[_0x4b1c("0xc")],u=b(278)[_0x4b1c("0xc")];l.ESMapError=b(76)[_0x4b1c("0xc")],f[_0x4b1c("0x1e0")]=b(327)[_0x4b1c("0xc")],l[_0x4b1c("0x625")]=b(328).default,l.ESMapTheme=b(329)[_0x4b1c("0xc")],l[_0x4b1c("0x3d0")]=b(335)[_0x4b1c("0xc")],l[_0x4b1c("0x277")]=b(336).default,l[_0x4b1c("0x540")]=b(151).dynamicBufferGeometry,l[_0x4b1c("0x43a")]=b(32)[_0x4b1c("0x43a")],l[_0x4b1c("0x626")]=b(337)[_0x4b1c("0xc")],l.ESMapSceneUtil=b(340).default,l[_0x4b1c("0x53c")]=b(341)[_0x4b1c("0xc")],l[_0x4b1c("0x627")]=b(342)[_0x4b1c("0xc")],l[_0x4b1c("0x628")]=b(343)[_0x4b1c("0xc")],l[_0x4b1c("0x330")]=b(150)[_0x4b1c("0xc")],l[_0x4b1c("0x629")]=b(344)[_0x4b1c("0xc")],l[_0x4b1c("0x3e8")]=b(345).default,l[_0x4b1c("0x62a")]=b(348)[_0x4b1c("0xc")],l[_0x4b1c("0x62b")]=b(349)[_0x4b1c("0xc")],l[_0x4b1c("0x62c")]=b(351)[_0x4b1c("0xc")],l[_0x4b1c("0x62d")]=b(353).default,l[_0x4b1c("0x62e")]=b(354).default,l[_0x4b1c("0x62f")]=b(355)[_0x4b1c("0xc")],l[_0x4b1c("0x53d")]=b(356)[_0x4b1c("0xc")],l[_0x4b1c("0x630")]=b(357)[_0x4b1c("0xc")],l.ESLayerManager=b(358)[_0x4b1c("0xc")],l[_0x4b1c("0x3d1")]=b(359).default,l[_0x4b1c("0x631")]=b(360)[_0x4b1c("0xc")],l.ESControlOffset=b(361)[_0x4b1c("0xc")],l.ESScrollFloorsControl=b(362).default,l.ESZoomControl=b(363)[_0x4b1c("0xc")],l.ESNavigation=b(364).default,l[_0x4b1c("0x632")]=b(369)[_0x4b1c("0xc")],l[_0x4b1c("0x633")]=b(370)[_0x4b1c("0xc")],l[_0x4b1c("0x634")]=b(371)[_0x4b1c("0xc")],l.ESMapScaler=b(372)[_0x4b1c("0xc")],l.ESPopMarker=b(373)[_0x4b1c("0xc")],l[_0x4b1c("0x635")]=b(374)[_0x4b1c("0xc")],l[_0x4b1c("0x636")]=b(114).default,l.ESWebViewMarker=function(){},l.ESTextureLine=b(63).default,l[_0x4b1c("0x637")]=b(378)[_0x4b1c("0xc")],l[_0x4b1c("0x638")]=b(379)[_0x4b1c("0xc")],l[_0x4b1c("0x639")]=b(380).default,l.ESMapNavLineGeometry=b(381)[_0x4b1c("0xc")],l[_0x4b1c("0x63a")]=b(110)[_0x4b1c("0xc")],l[_0x4b1c("0x63b")]=b(382)[_0x4b1c("0xc")],l[_0x4b1c("0x63c")]=b(111)[_0x4b1c("0xc")],l[_0x4b1c("0x63d")]=b(385).default,l[_0x4b1c("0x63e")]=b(386)[_0x4b1c("0xc")],l.ThirdPersonControls=b(388)[_0x4b1c("0xc")],l.FirstPersonControls_2=b(389)[_0x4b1c("0xc")],l[_0x4b1c("0x63f")]=b(390)[_0x4b1c("0xc")],b(391),l[_0x4b1c("0x32")]=u,window.onerror=null},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=A(b(60)),e=A(b(47)),t=A(b(7)),i=A(b(8)),n=A(b(9)),r=A(b(22)),s=A(b(15)),o=A(b(61)),f=A(b(0)),l=A(b(1)),d=A(b(106)),u=A(b(260)),h=(b(4),b(261)),g=b(42),v=b(51),m=A(b(26));function A(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var y=1e-5,C=null,I=function(){function x(){(0,f[_0x4b1c("0xc")])(this,x)}var c;return(0,l[_0x4b1c("0xc")])(x,null,[{key:"toColor",value:function(x){var c=x[_0x4b1c("0x2c")](",");if(c[_0x4b1c("0x0")]<3&&(c=esmap[_0x4b1c("0x87")][_0x4b1c("0x640")](x)[_0x4b1c("0x2c")](",")).length<3)return console[_0x4b1c("0xe3")](_0x4b1c("0x641"),x),0;return parseInt(c[0])<<16|parseInt(c[1])<<8|parseInt(c[2])}},{key:"checkFunLevel",value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:0,c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];return c.mode==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?c[_0x4b1c("0x7e")].getState("o2")/Math[_0x4b1c("0xf5")](10,x)%10:c[_0x4b1c("0x7e")].getState("l"+x)}},{key:"colorRGB2Hex",value:function(x){var c=x[_0x4b1c("0x2c")](",");return"#"+((1<<24)+(parseInt(c[0])<<16)+(parseInt(c[1])<<8)+parseInt(c[2])).toString(16)[_0x4b1c("0x1e5")](1)}},{key:_0x4b1c("0x640"),value:function(x){var c=x[_0x4b1c("0x34f")]();if(c&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(c)){if(4===c[_0x4b1c("0x0")]){for(var b="#",_=1;_<4;_+=1)b+=c[_0x4b1c("0x1e5")](_,_+1)[_0x4b1c("0x377")](c[_0x4b1c("0x1e5")](_,_+1));c=b}var e=[];for(_=1;_<7;_+=2)e[_0x4b1c("0x12")](parseInt("0x"+c[_0x4b1c("0x1e5")](_,_+2)));return e[_0x4b1c("0x4f1")](",")}return c}},{key:"intersectPolygons",value:function(x,c){return(0,h[_0x4b1c("0x642")])(x,c)}},{key:_0x4b1c("0x643"),value:function(x,c){return(0,h[_0x4b1c("0x644")])(x,c)}},{key:_0x4b1c("0x645"),value:function(x){var c=x[_0x4b1c("0x2c")](",");return c.length>=3?_0x4b1c("0x646")+parseInt(c[0])+","+parseInt(c[1])+","+parseInt(c[2])+_0x4b1c("0x647"):(console[_0x4b1c("0xe3")](_0x4b1c("0x641"),x),0)}},{key:_0x4b1c("0x648"),value:function(x){return x&&x instanceof esmap[_0x4b1c("0x53d")]?x[_0x4b1c("0x1e1")]:x.o3d_&&x[_0x4b1c("0xf0")][_0x4b1c("0x108")]?esmap[_0x4b1c("0x87")].getMapScene(x.o3d_[_0x4b1c("0x108")].datas_):null}},{key:_0x4b1c("0x649"),value:function(x){return x[_0x4b1c("0x64a")]||null}},{key:_0x4b1c("0x64b"),value:function(x){var c=esmap[_0x4b1c("0x32")].instance.controls;return x&&(c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x64c")]),{target:c.target.x[_0x4b1c("0x64d")](3)+","+c.target.y[_0x4b1c("0x64d")](3)+","+c[_0x4b1c("0x2c7")].z.toFixed(3),position:c.object[_0x4b1c("0x105")].x[_0x4b1c("0x64d")](3)+","+c.object[_0x4b1c("0x105")].y[_0x4b1c("0x64d")](3)+","+c.object[_0x4b1c("0x105")].z[_0x4b1c("0x64d")](3)}}},{key:_0x4b1c("0x64e"),value:function(x,c){var b=c-x;return Math[_0x4b1c("0x23d")](b)>180&&(b=-1*(0,o[_0x4b1c("0xc")])(b)*360+b),b}},{key:_0x4b1c("0x64f"),value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].controls,b=x.target[_0x4b1c("0x2c")](","),_=x[_0x4b1c("0x105")][_0x4b1c("0x2c")](","),e=new THREE.Vector3(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2])),t=new(THREE[_0x4b1c("0x128")])(parseFloat(_[0]),parseFloat(_[1]),parseFloat(_[2]));c[_0x4b1c("0x2c7")][_0x4b1c("0x20b")](e),c[_0x4b1c("0x1d")][_0x4b1c("0x105")][_0x4b1c("0x20b")](t),c[_0x4b1c("0x164")]()}},{key:_0x4b1c("0x338"),value:function(){for(var x=navigator.userAgent,c=new Array(_0x4b1c("0x650"),_0x4b1c("0x651"),"SymbianOS",_0x4b1c("0x652"),_0x4b1c("0x653"),_0x4b1c("0x654")),b=!0,_="PC",e=!1,t=0;t<c[_0x4b1c("0x0")];t++)if(x[_0x4b1c("0x114")](c[t])>0){b=!1,_=c[t],x.indexOf(_0x4b1c("0x655"))>0&&(e=!0);break}return{isPC:b,isWX:e,platform:_}}},{key:_0x4b1c("0x656"),value:function(x){for(var c=esmap[_0x4b1c("0x87")][_0x4b1c("0x657")](x),b=(0,g[_0x4b1c("0x1b2")])(c.maxX,c[_0x4b1c("0x5ba")],15),_=(0,g[_0x4b1c("0x1b2")])(c[_0x4b1c("0x5a3")],c.minY,15),e=_.x,t=b.x,i=_.y,a=b.y,n=[],r=e;r<=t;r++)for(var s=i;s<=a;s++){var o=r+"_"+s;n.push(o)}return n}},{key:_0x4b1c("0x162"),value:function(x,c){var b=null,_=100;if("3D"==x[_0x4b1c("0x388")]){if(_0x4b1c("0x18f")==typeof c)_=c;else{var e=null!=c?c[_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")])):x[_0x4b1c("0x266")][_0x4b1c("0x2c7")];_=x[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x105")][_0x4b1c("0x124")](e)}b=2*esmap[_0x4b1c("0x87")][_0x4b1c("0x659")](x[_0x4b1c("0x1c3")][_0x4b1c("0x658")],x[_0x4b1c("0x266")],_).top/x[_0x4b1c("0x1a3")]}else"2D"==x.viewMode&&(b=2*x[_0x4b1c("0x266")][_0x4b1c("0x1d")].top/x[_0x4b1c("0x266")][_0x4b1c("0x1d")][_0x4b1c("0x65a")]/x[_0x4b1c("0x1a3")]);return b}},{key:_0x4b1c("0x32f"),value:function(x){return Object[_0x4b1c("0xf")].toString[_0x4b1c("0x2")](x)==_0x4b1c("0x65b")}},{key:_0x4b1c("0x65c"),value:function(x){var c={x:(x.maxX-x[_0x4b1c("0x5a3")])/2+x[_0x4b1c("0x5a3")],y:(x[_0x4b1c("0x5ba")]-x[_0x4b1c("0x5a6")])/2+x[_0x4b1c("0x5a6")]},b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];return{target:c,radius:Math[_0x4b1c("0x2f5")]((x[_0x4b1c("0x5a7")]-x[_0x4b1c("0x5a3")])/2,(x[_0x4b1c("0x5ba")]-x[_0x4b1c("0x5a6")])/2)/Math[_0x4b1c("0x65d")](b[_0x4b1c("0x26a")].fov*(Math.PI/180)/2)}}},{key:_0x4b1c("0x659"),value:function(x,c,b){x instanceof esmap[_0x4b1c("0x32")]&&(b=c,c=x.controls,x=x[_0x4b1c("0x1c3")][_0x4b1c("0x658")]);var _=x[_0x4b1c("0x65e")],e=x[_0x4b1c("0x65f")],t=null!=b?b:c[_0x4b1c("0x2c7")][_0x4b1c("0x124")](x[_0x4b1c("0x105")]),i=Math.tan(_*THREE[_0x4b1c("0x215")][_0x4b1c("0x660")]/2)*t;return{top:i||1,right:2*i*e/2}}},{key:_0x4b1c("0x661"),value:function(x,c,b,_,e){function t(x,c){if(_&&_(x)&&(c&&(x.o3d_=c),a.push(x)),e)return e==a[_0x4b1c("0x0")]}var i,a=[];i=1==x[_0x4b1c("0x21a")]?x[_0x4b1c("0x3f6")]:x[_0x4b1c("0x662")]?x[_0x4b1c("0x662")](c):x;var n=x[_0x4b1c("0x3c3")];if(n)for(var r in n)if(n[r]){var s=n[r].modelbaselayer[0][_0x4b1c("0x663")],o=n[r][_0x4b1c("0x664")][0][_0x4b1c("0x665")],f=s[_0x4b1c("0x377")](o);for(var l in f){var d=f[l],u={ID:d[_0x4b1c("0x666")],name:d.name,mapCoord:{x:d[_0x4b1c("0x667")],y:d.OCenY},dataID:d.FC,typeID:d[_0x4b1c("0x56b")],RoomHigh:d[_0x4b1c("0x668")],RoomStyle:d.RoomStyle,buildingFnums:d[_0x4b1c("0x669")],mapId:d.bids,nodeType:esmap[_0x4b1c("0x131")].MODEL,pending:!0};if(t(u,null))return a}}return i&&i.getLayersByTypes(b,(function(x){if(null!=_)for(var c=x[_0x4b1c("0xf0")].children.length,b=0;b<c;b++){var e=x[_0x4b1c("0xf0")].children[b][_0x4b1c("0xef")];if(e){var i=e.brothers,n=x[_0x4b1c("0xf0")][_0x4b1c("0xf1")][b];if(i){for(var r=i.length,s=0;s<r;s++)if(t(i[s],n))return i[s][_0x4b1c("0xf0")]=n,a;if(x[_0x4b1c("0xf0")][_0x4b1c("0xf1")][b][_0x4b1c("0x165")][_0x4b1c("0x42c")])for(var o=x[_0x4b1c("0xf0")][_0x4b1c("0xf1")][b][_0x4b1c("0xf1")],f=o[_0x4b1c("0x0")],l=0;l<f;l++)if(o[l][_0x4b1c("0xef")]&&t(o[l][_0x4b1c("0xef")],o[l][_0x4b1c("0xef")].o3d_))return a}else if(e[_0x4b1c("0x42c")])n[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xef")]&&t(x[_0x4b1c("0xef")],x[_0x4b1c("0xf0")]))return x[_0x4b1c("0xef")]}));else if(t(e))return e[_0x4b1c("0xf0")]=n,a}}else a=x[_0x4b1c("0xf0")].children[_0x4b1c("0x121")]((function(x,c){return x[_0x4b1c("0x12")][_0x4b1c("0x4")](x,null!=c.datas_[_0x4b1c("0x469")]?c[_0x4b1c("0xef")][_0x4b1c("0x469")]:[c[_0x4b1c("0xef")]]),x}),[])})),a}},{key:_0x4b1c("0x66a"),value:function(x){var c=x[_0x4b1c("0x12e")],b=x[_0x4b1c("0x273")],_=x[_0x4b1c("0x12b")],e=x[_0x4b1c("0x1a5")],t=x.callback,i=x.isCloneMat,a=x[_0x4b1c("0x66b")];null==e&&(e=1);var n=[][_0x4b1c("0x377")](c);_||(_=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].id);var r=esmap.ESMap[_0x4b1c("0x3a")][_0x4b1c("0x136")](_);if(r){if(esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&1===r[_0x4b1c("0x21a")]){var o=!0,f=!1,l=void 0;try{for(var d,u=function(){var c=d[_0x4b1c("0x13a")],_=c[_0x4b1c("0xf0")];esmap.ESMapUtil[_0x4b1c("0x272")]({target:_,alpha:b,clonemat:i,noOcclusion:a,hideOnComplete:x[_0x4b1c("0x66c")],onUpdate:function(x){c[_0x4b1c("0xf0")][_0x4b1c("0x66d")]||(c[_0x4b1c("0xf0")].lastAlpha={}),c.o3d_[_0x4b1c("0x66d")].hasOwnProperty(x[_0x4b1c("0x195")])||(c[_0x4b1c("0xf0")][_0x4b1c("0x66d")][x.uuid]=x[_0x4b1c("0x129")])},time:e})},h=(0,s[_0x4b1c("0xc")])(esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].tileList);!(o=(d=h.next())[_0x4b1c("0x40f")]);o=!0)u()}catch(x){f=!0,l=x}finally{try{!o&&h[_0x4b1c("0x28a")]&&h.return()}finally{if(f)throw l}}}else{var g=function(c){var _=n[c],t=r[_0x4b1c("0x662")](_);if(t){var s=t.o3d_;esmap[_0x4b1c("0x87")][_0x4b1c("0x272")]({target:s,alpha:b,clonemat:i,noOcclusion:a,hideOnComplete:x.hideOnComplete,onUpdate:function(x){t[_0x4b1c("0xf0")][_0x4b1c("0x66d")]||(t[_0x4b1c("0xf0")].lastAlpha={}),t.o3d_[_0x4b1c("0x66d")].hasOwnProperty(x[_0x4b1c("0x195")])||(t[_0x4b1c("0xf0")][_0x4b1c("0x66d")][x[_0x4b1c("0x195")]]=x[_0x4b1c("0x129")])},time:e})}};for(var v in n)g(v)}setTimeout((function(){t&&t()}),1e3*e)}}},{key:_0x4b1c("0x66e"),value:function(x){var c=x.fnum,b=x[_0x4b1c("0x12b")],_=x[_0x4b1c("0x1a5")],e=x[_0x4b1c("0x1b0")],t=x[_0x4b1c("0x66f")],i=esmap.ESMap.instance;b||(b=i.id);var a=i[_0x4b1c("0x136")](b),n=(a.o3dFloors_[c],[][_0x4b1c("0x377")](c));null==_&&(_=1);var r=function(c){var b=n[c],e=a[_0x4b1c("0x662")](b);if(e){var i=e.o3d_;esmap[_0x4b1c("0x87")][_0x4b1c("0x272")]({target:i,alpha:!1,clonemat:t,hideOnComplete:x[_0x4b1c("0x66c")],onUpdate:function(x){e[_0x4b1c("0xf0")][_0x4b1c("0x66d")]||(e[_0x4b1c("0xf0")].lastAlpha={}),e[_0x4b1c("0xf0")][_0x4b1c("0x66d")][_0x4b1c("0x1")](x.uuid)||(e.o3d_[_0x4b1c("0x66d")][x[_0x4b1c("0x195")]]=x[_0x4b1c("0x129")])},time:_})}};for(var s in n)r(s);setTimeout((function(){e&&e()}),1e3*_)}},{key:_0x4b1c("0x670"),value:function(){var x=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];if(x[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")])return x.getBuilding().modelLoadManager.modelStatic[_0x4b1c("0x671")];var c=0,b=!0,_=!1,e=void 0;try{for(var t,i=(0,s[_0x4b1c("0xc")])(x[_0x4b1c("0x672")]);!(b=(t=i[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);b=!0){c+=t[_0x4b1c("0x13a")][_0x4b1c("0x26b")][_0x4b1c("0x3c7")].modelTypesCount}}catch(x){_=!0,e=x}finally{try{!b&&i.return&&i[_0x4b1c("0x28a")]()}finally{if(_)throw e}}return c}},{key:_0x4b1c("0x673"),value:function(){var x=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];return x.mode==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?x[_0x4b1c("0x566")]()[_0x4b1c("0x26b")].modelStatic[_0x4b1c("0x3c8")]:x[_0x4b1c("0x7e")][_0x4b1c("0x674")]}},{key:_0x4b1c("0x675"),value:function(){return _0x4b1c("0x676")}},{key:_0x4b1c("0x677"),value:function(x,c){var b,_=[],e=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],t=(_.length,x[_0x4b1c("0x678")]||"ID"),i=[][_0x4b1c("0x377")](x[_0x4b1c("0x569")]),a=i[_0x4b1c("0x0")];return e.buildingList.forEach((function(c){b=[][_0x4b1c("0x377")]((0,r.default)(x.fnum?[x[_0x4b1c("0x12e")]]:c[_0x4b1c("0x679")]));var e=!0,n=!1,o=void 0;try{for(var f,l=(0,s[_0x4b1c("0xc")])(b);!(e=(f=l[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);e=!0){var d=f[_0x4b1c("0x13a")];_[_0x4b1c("0x12")][_0x4b1c("0x4")](_,esmap[_0x4b1c("0x87")].getDatasByAlias(c,d,[_0x4b1c("0x1e6")],(function(x){return i[_0x4b1c("0x63")](x[t])}),t==_0x4b1c("0x1f7")?void 0:a))}}catch(x){n=!0,o=x}finally{try{!e&&l[_0x4b1c("0x28a")]&&l.return()}finally{if(n)throw o}}})),c&&c(_),_}},{key:"m",value:function(x){return x>y}},{key:"n",value:function(x){return x<-1e-5}},{key:"l",value:function(x){return x<y&&x>-1e-5}},{key:"o",value:function(x,c,b,_){var e=c.x,t=c.y,i=b.x,a=b.y,n=x.x,r=x.y,s=i-e,o=a-t,f=Math[_0x4b1c("0x120")](s*s+o*o),l=n-e,d=r-t,u=Math[_0x4b1c("0x120")](l*l+d*d);if(esmap[_0x4b1c("0x87")].l(f))return esmap.ESMapUtil.l(u)?(_.x=c.x,_.y=c.y,0):(_.x=c.x,_.y=c.y,u);var h=s/f,g=o/f,v=h*l+g*d;if(!esmap[_0x4b1c("0x87")].m(v))return _.x=c.x,_.y=c.y,u;if(!esmap[_0x4b1c("0x87")].n(v-f)){var p=n-i,m=r-a,A=Math[_0x4b1c("0x120")](p*p+m*m);return _.x=b.x,_.y=b.y,A}var y=e+v*h,C=t+v*g,I=n-y,E=r-C,w=Math[_0x4b1c("0x120")](I*I+E*E);return _.x=y,_.y=C,w}},{key:_0x4b1c("0x272"),value:function(x){var c,b,_,e=x[_0x4b1c("0x174")];return new(n[_0x4b1c("0xc")])((function(t){if(x[_0x4b1c("0x2c7")].userData.islocked)t();else{x[_0x4b1c("0x2c7")][_0x4b1c("0x103")]((function(x){if(x.material&&!x.material._ignoreAlpha)if(x[_0x4b1c("0xf4")]instanceof Array)for(var c in x[_0x4b1c("0xf4")]){var b=x.material[c];b[_0x4b1c("0x165")]&&(b[_0x4b1c("0x165")][_0x4b1c("0x444")]&&(b.userData[_0x4b1c("0x444")]=!1))}else x[_0x4b1c("0xf4")][_0x4b1c("0x165")]._settedAlpha&&(x.material[_0x4b1c("0x165")][_0x4b1c("0x444")]=!1)})),x[_0x4b1c("0x2c7")][_0x4b1c("0x165")].islocked=!0,typeof x==_0x4b1c("0x18f")?(c=x,b=1,_=!1):(c=x[_0x4b1c("0x273")],b=null==x[_0x4b1c("0x1a5")]?1:x[_0x4b1c("0x1a5")],_=null!=x.clonemat&&x[_0x4b1c("0x274")]),x[_0x4b1c("0x191")]&&(x.target[_0x4b1c("0x191")]=x[_0x4b1c("0x191")]);var i=x[_0x4b1c("0x66c")],a=[],n=function(_){if(!_[_0x4b1c("0x67a")])if(_.userData._settedAlpha)i&&x[_0x4b1c("0x2c7")].visible&&(x[_0x4b1c("0x2c7")].visible=!1);else{var t=c;!1===c?(t=_[_0x4b1c("0x165")][_0x4b1c("0x129")],_.userData[_0x4b1c("0x1")](_0x4b1c("0x271"))&&(_.transparent=_.userData[_0x4b1c("0x271")],_._noOcclusion&&(_.depthWrite=!0))):(_[_0x4b1c("0x165")].hasOwnProperty(_0x4b1c("0x271"))||(_[_0x4b1c("0x165")][_0x4b1c("0x271")]=_[_0x4b1c("0x145")],_[_0x4b1c("0x165")][_0x4b1c("0x129")]=_.opacity,x[_0x4b1c("0x16c")]&&(_.depthTest=!1)),_[_0x4b1c("0x145")]=1!==c,x.noOcclusion&&(_[_0x4b1c("0x16f")]=!1,_[_0x4b1c("0x67b")]=!0)),_[_0x4b1c("0x165")]._settedAlpha=!0,a.push(_),e&&e(_),new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(_).to({opacity:t},1e3*b)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")][_0x4b1c("0x246")])[_0x4b1c("0x1ac")]((function(){}))[_0x4b1c("0x1af")]()}};if(x.id&&x[_0x4b1c("0x2c7")][_0x4b1c("0xef")]&&6==x[_0x4b1c("0x2c7")][_0x4b1c("0xef")][_0x4b1c("0x123")]&&x[_0x4b1c("0x2c7")].datas_.brothers){var r=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];r[_0x4b1c("0x136")](r.id)[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0x443")](x.id,x.target,c,b,i)}else{x[_0x4b1c("0x2c7")][_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xf4")]&&!x[_0x4b1c("0xf4")][_0x4b1c("0x67a")])if(x[_0x4b1c("0xf4")]instanceof Array)for(var c in x[_0x4b1c("0xf4")]){var b=x[_0x4b1c("0xf4")][c],e=b.type==_0x4b1c("0x52f");b[_0x4b1c("0x165")]&&(_&&!e&&(x[_0x4b1c("0xf4")][c]=b[_0x4b1c("0x13e")](),b=x[_0x4b1c("0xf4")][c]),n(b))}else{var t=x[_0x4b1c("0xf4")].type==_0x4b1c("0x52f");_&&!t&&x[_0x4b1c("0xf4")]&&(x[_0x4b1c("0xf4")][_0x4b1c("0x1f7")]&&x[_0x4b1c("0xf4")].name==_0x4b1c("0x67d")||(x.material=x.material[_0x4b1c("0x13e")]())),n(x[_0x4b1c("0xf4")])}}));setTimeout((function(){for(var c in i&&(x.target[_0x4b1c("0x191")]=!1),a){a[c][_0x4b1c("0x165")][_0x4b1c("0x444")]=!1}x[_0x4b1c("0x2c7")].userData[_0x4b1c("0x449")]=!1,t()}),1e3*b+50)}}}))}},{key:_0x4b1c("0x67e"),value:function(x){x&&x[_0x4b1c("0xf0")]&&x[_0x4b1c("0xf0")].traverse?x.o3d_[_0x4b1c("0x103")]((function(x){Array[_0x4b1c("0x32f")](x[_0x4b1c("0xf4")])?x[_0x4b1c("0xf4")][0][_0x4b1c("0x67a")]=!0:x[_0x4b1c("0xf4")]&&(x.material[_0x4b1c("0x67a")]=!0)})):console[_0x4b1c("0xe3")](x,_0x4b1c("0x67f"))}},{key:_0x4b1c("0x55"),value:(c=(0,i[_0x4b1c("0xc")])(t[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b,_,i,a,n,r,s,o,f,l,d,h,g,v=this;return t[_0x4b1c("0xc")].wrap((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:if(b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],_=b.id,C){x[_0x4b1c("0x286")]=19;break}for(a in(i=[]).push(m[_0x4b1c("0xc")][_0x4b1c("0x680")]("searchJson")),b.tileService.bidList)i.push({path:m[_0x4b1c("0xc")][_0x4b1c("0x680")]("buildingSearchJson",{buildingId:a}),bid:a});n=[],r=t[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var e,a,r,s,o,f,l,d;return t.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return e="",a=null,typeof i[c]==_0x4b1c("0xd")?(e=i[c],a=_):(e=i[c].path,a=i[c][_0x4b1c("0x12b")]),x[_0x4b1c("0x286")]=5,fetch(e);case 5:return r=x.sent,x.next=8,r[_0x4b1c("0xff")]();case 8:(s=x.sent).datas&&(o={x:0,y:0},f=s[_0x4b1c("0x669")]||{},s[_0x4b1c("0x54")]&&(l=b.tileService.bidList[s.building[_0x4b1c("0x681")]])&&(o.x=l.x-s.building[_0x4b1c("0x682")],o.y=l.y-s[_0x4b1c("0x54")][_0x4b1c("0x683")]),d=s[_0x4b1c("0x57e")][_0x4b1c("0x3e")]((function(x){var c=null;return 1==x.t?c=5:2==x.t&&(c=11),{name:x.n,bid:a,mapCoord:{x:1*x.x+o.x,y:1*x.y+o.y},FloorNum:x.f||1,FloorName:f[x.f]||"F"+x.f,Height:1*x.h||0,ID:1*x.i,typeID:1*x.c,nodeType:c,angle:x.a||0,dataID:x.d}})),n=n[_0x4b1c("0x377")](d));case 10:case"end":return x[_0x4b1c("0x19b")]()}}),x,v)})),x.t0=t.default[_0x4b1c("0x684")](i);case 10:if((x.t1=x.t0()).done){x[_0x4b1c("0x286")]=15;break}return s=x.t1[_0x4b1c("0x13a")],x.delegateYield(r(s),"t2",13);case 13:x[_0x4b1c("0x286")]=10;break;case 15:o={isCaseSensitive:!1,useExtendedSearch:!0,keys:["ID",_0x4b1c("0x1f7"),_0x4b1c("0x210"),_0x4b1c("0x2f2"),_0x4b1c("0x12b"),"nodeType",_0x4b1c("0x219")]},f=["ID",_0x4b1c("0x1f7"),_0x4b1c("0x210"),_0x4b1c("0x2f2"),_0x4b1c("0x12b"),_0x4b1c("0x123"),_0x4b1c("0x219")],l=u[_0x4b1c("0xc")][_0x4b1c("0x685")](f,n),C=new(u[_0x4b1c("0xc")])(n,o,l);case 19:d=[],h=[],x.t3=t[_0x4b1c("0xc")][_0x4b1c("0x684")](c);case 22:if((x.t4=x.t3()).done){x.next=35;break}if((g=x.t4[_0x4b1c("0x13a")])!=_0x4b1c("0x1ac")){x[_0x4b1c("0x286")]=26;break}return x.abrupt(_0x4b1c("0x686"),22);case 26:if("keyword"!=g){x[_0x4b1c("0x286")]=29;break}return h[_0x4b1c("0x12")]({name:""+c[g]}),x[_0x4b1c("0x293")]("continue",22);case 29:if(g!=_0x4b1c("0x12e")){x[_0x4b1c("0x286")]=32;break}return h[_0x4b1c("0x12")]({FloorNum:""+c[g]}),x[_0x4b1c("0x293")](_0x4b1c("0x686"),22);case 32:h[_0x4b1c("0x12")]((0,e[_0x4b1c("0xc")])({},g,"="+c[g])),x[_0x4b1c("0x286")]=22;break;case 35:return d=(d=C[_0x4b1c("0x4f5")]({$and:h}))[_0x4b1c("0x3e")]((function(x){return x[_0x4b1c("0x687")]})),c[_0x4b1c("0x1ac")]&&c[_0x4b1c("0x1ac")](d),x[_0x4b1c("0x293")](_0x4b1c("0x28a"),d);case 39:case _0x4b1c("0x2a0"):return x.stop()}}),x,this)}))),function(x){return c.apply(this,arguments)})},{key:_0x4b1c("0x4f5"),value:function(x,c,b,_){var e,t=[],i=null,n=null,r=[],s=b.types||[_0x4b1c("0x1e6"),"modelBase",_0x4b1c("0x688"),_0x4b1c("0x5fe"),_0x4b1c("0x605"),"textMarker",_0x4b1c("0x603"),"model3d",_0x4b1c("0x602"),"cardMarker"],o=[][_0x4b1c("0x377")](c);if(b.ID&&(b.ID=[][_0x4b1c("0x377")](b.ID)),b.classID&&(b[_0x4b1c("0x689")]=[].concat(b.classID)),x[_0x4b1c("0x3b")]==esmap.MapMode[_0x4b1c("0x1e2")]){var f=x[_0x4b1c("0x566")]();1==o.length&&o[0]==_0x4b1c("0x68a")?o=[{bid:x.id,fnum:f[_0x4b1c("0x679")]}]:typeof o[0]==_0x4b1c("0x18f")&&(o=[{bid:x.id,fnum:o}])}else if(1==o.length&&o[0]==_0x4b1c("0x68a")){o=x[_0x4b1c("0x672")][_0x4b1c("0x3e")]((function(x){return x.id}));var l=x[_0x4b1c("0x68b")][_0x4b1c("0x3e")]((function(x){return x.id}));(o=o[_0x4b1c("0x377")](l))[_0x4b1c("0x12")](0)}return b[_0x4b1c("0x68c")]&&(b[_0x4b1c("0x68d")]||(o=esmap[_0x4b1c("0x87")].getTileNumsByPolygon(b.polygon))),o.forEach((function(c){var _;if(c instanceof Object?(c[_0x4b1c("0x12b")]&&(_=x.getBuildingById(c.bid)),c[_0x4b1c("0x12e")]&&(e=[].concat(c[_0x4b1c("0x12e")]))):(_=x.getBuildingById(c))?e=_[_0x4b1c("0x679")]:(_=x.getTileById(c),e=[1]),_){e=e||_[_0x4b1c("0x679")];for(var o=0;o<e[_0x4b1c("0x0")];o++){var f=e[o],l=b.ID?b.ID.length:void 0,d=esmap[_0x4b1c("0x87")][_0x4b1c("0x661")](_,f,s,(function(c){if(b[_0x4b1c("0x123")]&&b[_0x4b1c("0x123")]!=esmap[_0x4b1c("0x131")].ALL)if(Array[_0x4b1c("0x32f")](b[_0x4b1c("0x123")])){if(b[_0x4b1c("0x123")].indexOf(c.nodeType)<0)return!1}else if(b[_0x4b1c("0x123")]!=c.nodeType)return!1;if(b[_0x4b1c("0x1f7")]){if(!c.name)return!1;if(b.name instanceof Array){if(b.name[_0x4b1c("0x114")](c.name)<0)return!1}else if(b[_0x4b1c("0x1f7")]!=c[_0x4b1c("0x1f7")])return!1}if(b.keyword){if(!c[_0x4b1c("0x1f7")])return!1;for(var _=String(b[_0x4b1c("0x68e")])[_0x4b1c("0x2c")](" "),e=c[_0x4b1c("0x1f7")][_0x4b1c("0x34f")](),t=!1,s=0;s<_[_0x4b1c("0x0")];s++){var o=_[s][_0x4b1c("0x34f")]();if(e[_0x4b1c("0x114")](o)>=0){t=!0;break}}if(!t)return!1}if(b.ID&&b.ID[_0x4b1c("0x114")](c.ID)<0)return!1;if(b[_0x4b1c("0x1")](_0x4b1c("0x219"))&&b[_0x4b1c("0x219")]!=c.dataID)return!1;if(b[_0x4b1c("0x689")]&&b.classID[_0x4b1c("0x114")](c.classID)<0)return!1;if(b[_0x4b1c("0x210")]&&b[_0x4b1c("0x210")]!=c[_0x4b1c("0x210")])return!1;if(b[_0x4b1c("0x2f2")]&&b.typeID!=c[_0x4b1c("0x2f2")])return!1;if(b[_0x4b1c("0x21d")]&&b[_0x4b1c("0x68f")]){if(c[_0x4b1c("0x123")]==esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")]){if((0,v[_0x4b1c("0x11d")])(b[_0x4b1c("0x21d")],c[_0x4b1c("0x21d")])>b[_0x4b1c("0x68f")])return;r[_0x4b1c("0x12")]({node:c,distance:i})}if(c.nodeType==esmap[_0x4b1c("0x131")][_0x4b1c("0x690")]){var f=x[_0x4b1c("0x7e")].buildingBounds[c.ID][0],l=[];i=null;for(var d=0;d<f.length;d+=2)l[_0x4b1c("0x12")](new(esmap[_0x4b1c("0x53c")])(-f[d].x,f[d].y,0));if(l.length<2)i=p(b[_0x4b1c("0x21d")],l[0]);else{var u=new(esmap[_0x4b1c("0x53c")]);for(d=0;d<l[_0x4b1c("0x0")]-1;d++)n=esmap[_0x4b1c("0x87")].o(b[_0x4b1c("0x21d")],l[d],l[d+1],u),(!i||n<i)&&(i=n)}if(i>b[_0x4b1c("0x68f")])return;r[_0x4b1c("0x12")]({node:c,distance:i})}if(c[_0x4b1c("0x123")]==esmap.ESNodeType[_0x4b1c("0x691")]){if((i=esmap[_0x4b1c("0x692")][_0x4b1c("0x693")](a,b[_0x4b1c("0x21d")],c[_0x4b1c("0x21d")]))>b[_0x4b1c("0x68f")])return;r[_0x4b1c("0x12")]({node:c,distance:i})}}return!(b.polygon&&!esmap[_0x4b1c("0x87")][_0x4b1c("0x3d3")](c.mapCoord,b[_0x4b1c("0x68c")]))}),l);d&&(t=t[_0x4b1c("0x377")](d))}}})),r[_0x4b1c("0x0")]>0&&(r[_0x4b1c("0x42b")]((function(x,c){return x.distance-c[_0x4b1c("0x23c")]})),t=r[_0x4b1c("0x3e")]((function(x){return x.node}))),_&&_(t),t}},{key:_0x4b1c("0x694"),value:function(x){for(var c=x[_0x4b1c("0x12c")][_0x4b1c("0x3e")]((function(x){return{x:-x.x,y:x.y}})),b={dis:0,pa:null,pb:null},_=0;_<c[_0x4b1c("0x0")]-1;_++){var e=c[_],t=c[_+1],i=(0,v[_0x4b1c("0x11d")])(e,t);i>b[_0x4b1c("0x695")]&&(b.dis=i,b.pa=e,b.pb=t)}return b.pa=new(THREE[_0x4b1c("0x552")])(b.pa.x,b.pa.y),b.pb=new THREE.Vector2(b.pb.x,b.pb.y),esmap[_0x4b1c("0x87")][_0x4b1c("0x239")](b.pa,b.pb)}},{key:_0x4b1c("0x696"),value:function(x,c,b,_){return esmap[_0x4b1c("0x32")].instance[_0x4b1c("0x697")][_0x4b1c("0x187")](x,c,b,_)}},{key:"_setGeneralProperties",value:function(x,c,b,e){c=c||_0x4b1c("0x105"),b=b||_0x4b1c("0x19c"),(0,_.default)(x,{x:{get:function(){return esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x12d")].x-this[c].x},set:function(x){var b=esmap.ESMap[_0x4b1c("0x3a")][_0x4b1c("0x12d")].x;this[c].x=b-x}},y:{get:function(){var x=esmap[_0x4b1c("0x32")].instance[_0x4b1c("0x12d")].y;return this[c].z+x},set:function(x){var b=esmap.ESMap[_0x4b1c("0x3a")][_0x4b1c("0x12d")].y;this[c].z=x-b}},height:e||{get:function(){return this[b]},set:function(x){this[b]=x}}})}},{key:_0x4b1c("0x3d3"),value:function(x,c){for(var b=!1,_=-1,e=c[_0x4b1c("0x0")],t=e-1;++_<e;t=_)(c[_].y<=x.y&&x.y<c[t].y||c[t].y<=x.y&&x.y<c[_].y)&&x.x<(Math.abs(c[t].x)-Math[_0x4b1c("0x23d")](c[_].x))*(x.y-c[_].y)/(c[t].y-c[_].y)+Math.abs(c[_].x)&&(b=!b);return b}},{key:_0x4b1c("0x698"),value:function(x){return(0,h[_0x4b1c("0x699")])(x)}},{key:"getCenterByExtent",value:function(x){return{x:(x.maxX+x[_0x4b1c("0x5a3")])/2,y:(x.maxY+x[_0x4b1c("0x5a6")])/2}}},{key:_0x4b1c("0x88"),value:function(x){var c,b,_,e,t,i=_0x4b1c("0x460")+_0x4b1c("0x461")+_0x4b1c("0x69a")+_0x4b1c("0x462")+"=",a="",n="",r="",s=0;do{_=(c=x.charCodeAt(s++))>>4,e=(3&c)<<4|(b=x[_0x4b1c("0x2d")](s++))>>4,t=(15&b)<<2|(n=x[_0x4b1c("0x2d")](s++))>>6,r=63&n,isNaN(b)?t=r=64:isNaN(n)&&(r=64),a=a+i[_0x4b1c("0x463")](_)+i[_0x4b1c("0x463")](e)+i[_0x4b1c("0x463")](t)+i.charAt(r),c=b=n="",_=e=t=r=""}while(s<x[_0x4b1c("0x0")]);return a}},{key:_0x4b1c("0x69b"),value:function(x){var c=x[_0x4b1c("0x12c")],b=void 0===c?[]:c,_=x[_0x4b1c("0x69c")],e=void 0===_?20:_;if(!(b[_0x4b1c("0x0")]<3)){var t=new(THREE[_0x4b1c("0x69d")])(new(THREE[_0x4b1c("0x128")])(b[0].x,b[0][_0x4b1c("0x158")],b[0].y),new(THREE[_0x4b1c("0x128")])(b[1].x,b[1][_0x4b1c("0x158")],b[1].y),new(THREE[_0x4b1c("0x128")])(b[2].x,b[2][_0x4b1c("0x158")],b[2].y))[_0x4b1c("0x69e")](e),i=[],a=!0,n=!1,r=void 0;try{for(var o,f=(0,s[_0x4b1c("0xc")])(t);!(a=(o=f[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);a=!0){var l=o[_0x4b1c("0x13a")];i[_0x4b1c("0x12")]({x:l.x,y:l.z,offset:l.y})}}catch(x){n=!0,r=x}finally{try{!a&&f[_0x4b1c("0x28a")]&&f[_0x4b1c("0x28a")]()}finally{if(n)throw r}}return i}}},{key:_0x4b1c("0x69f"),value:function(x){for(var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],b=0;b<x.length;b++){var _=x[b-1],e=x[b+1],t=x[b];if(e&&t){if(t.x==e.x&&t.z==e.z&&t.y==e.y){x[_0x4b1c("0x5")](b+1,1),b--;continue}if(c&&e.distanceTo(t)<=.1){x[_0x4b1c("0x5")](b+1,1),b--;continue}}if(_&&e&&_.y==e.y&&_.y==t.y){var i=new(THREE[_0x4b1c("0x128")])(t.x,0,t.z),a=new(THREE[_0x4b1c("0x128")])(_.x,0,_.z),n=new(THREE[_0x4b1c("0x128")])(e.x,0,e.z),r=a[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](i[_0x4b1c("0x13e")]())[_0x4b1c("0x301")](),s=n[_0x4b1c("0x13e")]().sub(i[_0x4b1c("0x13e")]())[_0x4b1c("0x301")](),o=r.equals(s),f=Math.abs(r[_0x4b1c("0x231")](s))<Math.PI/6;if(o||f){var l=t[_0x4b1c("0x13e")]();l.y+=.01,l[_0x4b1c("0x12e")]=t[_0x4b1c("0x12e")],x[_0x4b1c("0x5")](b,0,l),b+=1;continue}}}}},{key:_0x4b1c("0x6a1"),value:function(x){var c=x[_0x4b1c("0x12c")],b=void 0===c?[]:c,_=x[_0x4b1c("0x68f")],e=void 0===_?.3:_,t=x[_0x4b1c("0x69c")],i=void 0===t?8:t,a=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],n=b[_0x4b1c("0x3e")]((function(x){var c=x.z||x.offset||0,b={x:x.x,y:x.y},_=a.coordMapToThree(b);return _.y=c,_.fnum=x.fnum||1,_})),r=esmap[_0x4b1c("0x6a2")][_0x4b1c("0x6a1")](n,i,e);return r=r.map((function(x){var c=a[_0x4b1c("0x20d")](x);return{x:c.x,y:c.y,offset:x.y,fnum:x[_0x4b1c("0x12e")]}}))}},{key:_0x4b1c("0x239"),value:function(x,c){var b=new(THREE[_0x4b1c("0x128")])(0,0,1),_=new THREE.Vector3(x.x,0,x.y),e=new THREE.Vector3(c.x,0,c.y)[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](_)[_0x4b1c("0x301")](),t=e[_0x4b1c("0x231")](b)*THREE[_0x4b1c("0x215")].RAD2DEG;return isNaN(t)&&(t=0),e[_0x4b1c("0x13e")]()[_0x4b1c("0x230")](b).y>0?360-t:t}},{key:_0x4b1c("0x6a3"),value:function(){var x=new Array;if(null!=window.screen.deviceXDPI)x[0]=window[_0x4b1c("0x1f")].deviceXDPI,x[1]=window[_0x4b1c("0x1f")][_0x4b1c("0x6a4")];else{var c=document[_0x4b1c("0x21")](_0x4b1c("0x22"));c[_0x4b1c("0x23")][_0x4b1c("0x24")]=_0x4b1c("0x25"),document[_0x4b1c("0x26")][_0x4b1c("0x1d7")](c),x[0]=parseInt(c.offsetWidth),x[1]=parseInt(c[_0x4b1c("0x28")]),c.parentNode[_0x4b1c("0x29")](c)}return x}},{key:"WGS84ToGCJ02",value:function(x){return d[_0x4b1c("0xc")][_0x4b1c("0x4c5")]([x[0],x[1]],d[_0x4b1c("0xc")][_0x4b1c("0x383")],d[_0x4b1c("0xc")][_0x4b1c("0x6a5")])}},{key:"GCJ02ToWGS84",value:function(x){return d[_0x4b1c("0xc")][_0x4b1c("0x4c5")]([x[0],x[1]],d[_0x4b1c("0xc")][_0x4b1c("0x6a5")],d[_0x4b1c("0xc")][_0x4b1c("0x383")])}},{key:_0x4b1c("0x6a6"),value:function(x){if(window[_0x4b1c("0x6a7")]){Math[_0x4b1c("0xfd")](x[0]/3);var c=_0x4b1c("0x6a8"),b=_0x4b1c("0x6a9");return window[_0x4b1c("0x6a7")][_0x4b1c("0x6aa")](b,c,x)}}},{key:_0x4b1c("0xf6"),value:function(x,c){var b=[],_=x/20037508.342789*180,e=c/20037508.342789*180;return e=180/Math.PI*(2*Math[_0x4b1c("0x6ab")](Math[_0x4b1c("0x6ac")](e*Math.PI/180))-Math.PI/2),b[_0x4b1c("0x12")](_),b[_0x4b1c("0x12")](e),b}},{key:_0x4b1c("0xfa"),value:function(x,c,b){var _=[],e=20037508.342789*x/180,t=Math.log(Math[_0x4b1c("0x2f9")]((90+c)*Math.PI/360))/(Math.PI/180);(t=20037508.34789*t/180,esmap[_0x4b1c("0x6ad")]&&!b)&&(t=20037508.342789244*esmap[_0x4b1c("0x6ae")]/180*(90+c));return _[_0x4b1c("0x12")](e),_.push(t),_}},{key:_0x4b1c("0x6af"),value:function(x,c){var b=esmap[_0x4b1c("0x87")].Mercator2lonLat(x,c),_=20037508.342789244*esmap[_0x4b1c("0x6ae")];return b[1]=180*c/_-90,esmap[_0x4b1c("0x87")][_0x4b1c("0xfa")](b[0],b[1],!0)}},{key:"checkMcIs4490",value:function(x){return x.y>12e6}},{key:_0x4b1c("0x6b0"),value:function(x){var c=1e4,b=esmap[_0x4b1c("0x87")][_0x4b1c("0xf6")](x.x,x.y+5e3),_=esmap[_0x4b1c("0x87")].Mercator2lonLat(x.x,x.y-5e3),e=esmap[_0x4b1c("0x87")].lonLat2Mercator(b[0],b[1]),t=esmap[_0x4b1c("0x87")].lonLat2Mercator(_[0],_[1]);return(e[1]-t[1])/c}},{key:"transformWGS84ToMap",value:function(x){var c=x,b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];if(!b){var _=esmap[_0x4b1c("0x87")][_0x4b1c("0xfa")](x[0],x[1]);return{x:_[0],y:_[1]}}if(Array[_0x4b1c("0x32f")](x)){var e=esmap[_0x4b1c("0x87")][_0x4b1c("0xfa")](x[0],x[1]);c={x:e[0],y:e[1]}}return b[_0x4b1c("0x1b5")]({from:_0x4b1c("0x383"),to:b[_0x4b1c("0x3e1")],coord:c})}},{key:_0x4b1c("0x6b1"),value:function(x){if(window[_0x4b1c("0x6a7")]){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=x;if(Array[_0x4b1c("0x32f")](x)){var _=esmap[_0x4b1c("0x87")][_0x4b1c("0x6a6")](x),e=esmap[_0x4b1c("0x87")][_0x4b1c("0xfa")](_[0],_[1]);b={x:e[0],y:e[1]}}return c.transformCoord({from:"WGS84",to:c.DEFAULT_COORDSYSTEM,coord:b})}console[_0x4b1c("0xe3")](_0x4b1c("0x6b2"))}},{key:_0x4b1c("0x6b3"),value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=x;if(Array[_0x4b1c("0x32f")](x)){var _=esmap.ESMapUtil[_0x4b1c("0xfa")](x[0],x[1]);b={x:_[0],y:_[1]}}return c[_0x4b1c("0x1b5")]({from:_0x4b1c("0x6b4"),to:c[_0x4b1c("0x3e1")],coord:b})}},{key:_0x4b1c("0x6b5"),value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=x;if(Array[_0x4b1c("0x32f")](x)){var _=esmap[_0x4b1c("0x87")][_0x4b1c("0xfa")](x[0],x[1]);b={x:_[0],y:_[1]}}return c[_0x4b1c("0x1b5")]({from:_0x4b1c("0x6a5"),to:c[_0x4b1c("0x3e1")],coord:b})}},{key:_0x4b1c("0x6b6"),value:function(x){return esmap[_0x4b1c("0x87")].Mercator2lonLat(x.x,x.y)}},{key:_0x4b1c("0x6b7"),value:function(x,c){function b(x){return x*Math.PI/180}var _=0;if(esmap[_0x4b1c("0x32")].instance[_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]){var e=esmap.ESMapUtil[_0x4b1c("0xf6")](x.x,x.y),t=esmap[_0x4b1c("0x87")].Mercator2lonLat(c.x,c.y),i=b(e[1]),a=b(t[1]),n=i-a,r=b(e[0])-b(t[0]);_=6371*(_=2*Math[_0x4b1c("0x6b8")](Math.sqrt(Math[_0x4b1c("0xf5")](Math[_0x4b1c("0x65d")](n/2),2)+Math[_0x4b1c("0x6b9")](i)*Math.cos(a)*Math[_0x4b1c("0xf5")](Math[_0x4b1c("0x65d")](r/2),2))))*1e3}else _=(0,v[_0x4b1c("0x11d")])(x,c);return _}},{key:_0x4b1c("0x6ba"),value:function(x){x=x||null;var c=new Date(x);return c.getFullYear()+"-"+((c[_0x4b1c("0x6bb")]()+1<10?"0"+(c[_0x4b1c("0x6bb")]()+1):c.getMonth()+1)+"-")+((c.getDate()<10?"0"+c[_0x4b1c("0x6bc")]():c[_0x4b1c("0x6bc")]())+" ")+((c[_0x4b1c("0x6bd")]()<10?"0"+c[_0x4b1c("0x6bd")]():c[_0x4b1c("0x6bd")]())+":")+((c[_0x4b1c("0x6be")]()<10?"0"+c[_0x4b1c("0x6be")]():c[_0x4b1c("0x6be")]())+":")+(c.getSeconds()<10?"0"+c.getSeconds():c[_0x4b1c("0x6bf")]())}},{key:"getPolygonBounds",value:function(x){for(var c={maxX:0,minX:1/0,maxY:0,minY:1/0},b=0;b<x.length;b++){var _=x[b];_.y<c[_0x4b1c("0x5a6")]&&(c[_0x4b1c("0x5a6")]=_.y),_.y>c.maxY&&(c[_0x4b1c("0x5ba")]=_.y),_.x<c[_0x4b1c("0x5a3")]&&(c[_0x4b1c("0x5a3")]=_.x),_.x>c[_0x4b1c("0x5a7")]&&(c.maxX=_.x)}return c}}]),x}();c[_0x4b1c("0xc")]=I},,,,function(x,c,b){"use strict";function _(x,c){for(var b=x.x,_=x.y,e=0,t=0;t<c.length;t++){var i=c[t],a=i.y1<i.y2?i.y2:i.y1;if(_>(i.y1<i.y2?i.y1:i.y2)&&_<a)b<=(i.x1*i.y2-i.x2*i.y1-(i.x1-i.x2)*_)/(i.y2-i.y1)&&e++}return e%2!=0}Object[_0x4b1c("0x7")](c,"__esModule",{value:!0}),c[_0x4b1c("0x642")]=function(x,c){var b,e=x,t=c;if(0==(b=function(x,c){for(var b,_,e,t,i,a,n,r,s=0;s<x[_0x4b1c("0x0")];s++){var o=x[s];b=b>o.x?b:o.x,e=e<o.x?e:o.x,_=_>o.y?_:o.y,t=t<o.y?t:o.y}for(s=0;s<c[_0x4b1c("0x0")];s++){var f=c[s];i=i>f.x?i:f.x,n=n<f.x?n:f.x,a=a>f.y?a:f.y,r=r<f.y?r:f.y}return!(b<=n||i<=e||t>=a||r>=_)}(e,t)))return b;var i=s(e),a=s(t);if(b=function(x,c){for(var b=function(x,c){this.x=x,this.y=c},_=0;_<x[_0x4b1c("0x0")];_++)for(var e=x[_],t=0;t<c.length;t++){var i=c[t],a=new b(i.x2-i.x1,i.y2-i.y1),n=new b(e.x1-i.x1,e.y1-i.y1),r=new b(e.x2-i.x1,e.y2-i.y1),s=n.x*a.y-a.x*n.y,o=r.x*a.y-a.x*r.y,f=new b(e.x2-e.x1,e.y2-e.y1),l=new b(i.x1-e.x1,i.y1-e.y1),d=new b(i.x2-e.x1,i.y2-e.y1),u=l.x*f.y-f.x*l.y,h=d.x*f.y-f.x*d.y;if(s*o<0&&u*h<0)return!0}return!1;function b(x,c){this.x=x,this.y=c}}(i,a))return b;for(var n=0,r=0;r<e[_0x4b1c("0x0")]-1;r++){_(e[r],a)&&n++}return b=n==e[_0x4b1c("0x0")]-1;function s(x){for(var c=[],b=0;b<x[_0x4b1c("0x0")]-1;b++){var _=x[b],e=x[b+1];c.push({x1:_.x,y1:_.y,x2:e.x,y2:e.y})}return c}},c[_0x4b1c("0x699")]=function(x){for(var c,b,_,e,t=0;t<x[_0x4b1c("0x0")];t++){var i=x[t];c=c>i.x?c:i.x,_=_<i.x?_:i.x,b=b>i.y?b:i.y,e=e<i.y?e:i.y}return{maxX:c,minX:_,maxY:b,minY:e}},c.containPolygon=function(x,c){for(var b,_,e,t,i,a,n,r,s=0;s<x[_0x4b1c("0x0")];s++){var o=x[s];b=b>o.x?b:o.x,e=e<o.x?e:o.x,_=_>o.y?_:o.y,t=t<o.y?t:o.y}for(s=0;s<c[_0x4b1c("0x0")];s++){var f=c[s];i=i>f.x?i:f.x,n=n<f.x?n:f.x,a=a>f.y?a:f.y,r=r<f.y?r:f.y}var l=e<=n,d=_>=a,u=t<=r;return b>=i&&l&&d&&u}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _={1e3:_0x4b1c("0x6c0"),2e3:"版本错误",2001:_0x4b1c("0x6c1"),2002:"三维场景${1} 未曾购买当前域名:${2}，请联系易景商务或者易景官网购买！#${3}",2003:_0x4b1c("0x6c2"),2004:_0x4b1c("0x6c3"),2005:_0x4b1c("0x6c4"),2006:"三维场景 ${1} Liscense 文件错误, 或者三维场景类型 mode 是否配置错误。请检查参数或者联系ESMap商务! #${2}",2007:_0x4b1c("0x6c5"),2008:_0x4b1c("0x6c6"),2009:_0x4b1c("0x6c7"),2010:_0x4b1c("0x6c8"),2011:"免费场景 ${1} 打开次数超过限制，请联系易景商务或者易景官网!",2012:_0x4b1c("0x6c9")};c[_0x4b1c("0x1c5")]=_},function(x,c,b){"use strict";(function(x){Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=t(b(21)),e=t(b(14));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){this[_0x4b1c("0x6ca")]={},this[_0x4b1c("0x6cb")]={}};i[_0x4b1c("0xf")]={getAll:function(){return(0,e[_0x4b1c("0xc")])(this[_0x4b1c("0x6ca")]).map(function(x){return this[_0x4b1c("0x6ca")][x]}[_0x4b1c("0xe")](this))},removeAll:function(){this[_0x4b1c("0x6ca")]={}},add:function(x){this[_0x4b1c("0x6ca")][x[_0x4b1c("0x6cc")]()]=x,this[_0x4b1c("0x6cb")][x[_0x4b1c("0x6cc")]()]=x},remove:function(x){delete this[_0x4b1c("0x6ca")][x[_0x4b1c("0x6cc")]()],delete this._tweensAddedDuringUpdate[x.getId()]},update:function(x,c){var b=(0,e[_0x4b1c("0xc")])(this[_0x4b1c("0x6ca")]);if(0===b.length)return!1;for(x=void 0!==x?x:n[_0x4b1c("0x6cd")]();b.length>0;){this[_0x4b1c("0x6cb")]={};for(var _=0;_<b[_0x4b1c("0x0")];_++){var t=this[_0x4b1c("0x6ca")][b[_]];t&&!1===t[_0x4b1c("0x164")](x)&&(t._isPlaying=!1,c||delete this[_0x4b1c("0x6ca")][b[_]])}b=(0,e.default)(this._tweensAddedDuringUpdate)}return!0}};var a,n=new i;n[_0x4b1c("0x1dd")]=i,n._nextId=0,n.nextId=function(){return n[_0x4b1c("0x6ce")]++},n[_0x4b1c("0x6cf")]=function(x,c,b,_){return new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])({value:0}).to({value:1},1e3*x)[_0x4b1c("0x1a8")](esmap.TWEEN.Easing[_0x4b1c("0x245")][_0x4b1c("0x246")]).onUpdate(c)[_0x4b1c("0x1ac")](_)[_0x4b1c("0x1af")]()},typeof self===_0x4b1c("0x8")&&typeof x!==_0x4b1c("0x8")&&x[_0x4b1c("0x6d0")]?n[_0x4b1c("0x6cd")]=function(){var c=x[_0x4b1c("0x6d0")]();return 1e3*c[0]+c[1]/1e6}:typeof self!==_0x4b1c("0x8")&&void 0!==self[_0x4b1c("0x6d1")]&&void 0!==self[_0x4b1c("0x6d1")][_0x4b1c("0x6cd")]?n[_0x4b1c("0x6cd")]=self[_0x4b1c("0x6d1")][_0x4b1c("0x6cd")][_0x4b1c("0xe")](self[_0x4b1c("0x6d1")]):void 0!==Date[_0x4b1c("0x6cd")]?n[_0x4b1c("0x6cd")]=Date[_0x4b1c("0x6cd")]:n[_0x4b1c("0x6cd")]=function(){return(new Date)[_0x4b1c("0x86")]()},n[_0x4b1c("0x1a7")]=function(x,c){this._isPaused=!1,this[_0x4b1c("0x6d2")]=null,this[_0x4b1c("0x6d3")]=x,this[_0x4b1c("0x6d4")]={},this._valuesEnd={},this._valuesStartRepeat={},this[_0x4b1c("0x6d5")]=1e3,this._repeat=0,this[_0x4b1c("0x6d6")]=void 0,this[_0x4b1c("0x6d7")]=!1,this[_0x4b1c("0x6d8")]=!1,this._reversed=!1,this[_0x4b1c("0x6d9")]=0,this[_0x4b1c("0x6da")]=null,this[_0x4b1c("0x6db")]=n.Easing.Linear.None,this._interpolationFunction=n.Interpolation.Linear,this[_0x4b1c("0x6dc")]=[],this[_0x4b1c("0x6dd")]=null,this[_0x4b1c("0x6de")]=!1,this[_0x4b1c("0x6df")]=null,this[_0x4b1c("0x6e0")]=null,this[_0x4b1c("0x6e1")]=null,this[_0x4b1c("0x6e2")]=null,this[_0x4b1c("0x6e3")]=c||n,this._id=n[_0x4b1c("0x6e4")]()},n.Tween[_0x4b1c("0xf")]={getId:function(){return this[_0x4b1c("0x3d8")]},isPlaying:function(){return this[_0x4b1c("0x6d8")]},isPaused:function(){return this[_0x4b1c("0x6e5")]},to:function(x,c){return this[_0x4b1c("0x6e6")]=(0,_[_0x4b1c("0xc")])(x),void 0!==c&&(this[_0x4b1c("0x6d5")]=c),this},duration:function(x){return this._duration=x,this},start:function(x){for(var c in this[_0x4b1c("0x6e3")].add(this),this._isPlaying=!0,this[_0x4b1c("0x6e5")]=!1,this[_0x4b1c("0x6de")]=!1,this[_0x4b1c("0x6da")]=void 0!==x?"string"==typeof x?n.now()+parseFloat(x):x:n[_0x4b1c("0x6cd")](),this[_0x4b1c("0x6da")]+=this[_0x4b1c("0x6d9")],this[_0x4b1c("0x6e6")]){if(this[_0x4b1c("0x6e6")][c]instanceof Array){if(0===this[_0x4b1c("0x6e6")][c][_0x4b1c("0x0")])continue;this[_0x4b1c("0x6e6")][c]=[this._object[c]][_0x4b1c("0x377")](this[_0x4b1c("0x6e6")][c])}void 0!==this[_0x4b1c("0x6d3")][c]&&(void 0===this[_0x4b1c("0x6d4")][c]&&(this[_0x4b1c("0x6d4")][c]=this[_0x4b1c("0x6d3")][c]),this[_0x4b1c("0x6d4")][c]instanceof Array==!1&&(this._valuesStart[c]*=1),this._valuesStartRepeat[c]=this[_0x4b1c("0x6d4")][c]||0)}return this},stop:function(){return this[_0x4b1c("0x6d8")]?(this[_0x4b1c("0x6e3")][_0x4b1c("0x2ea")](this),this._isPlaying=!1,this[_0x4b1c("0x6e5")]=!1,null!==this[_0x4b1c("0x6e2")]&&this[_0x4b1c("0x6e2")](this._object),this[_0x4b1c("0x6e7")](),this):this},end:function(){return this[_0x4b1c("0x164")](1/0),this},pause:function(x){return this[_0x4b1c("0x6e5")]||!this._isPlaying||(this[_0x4b1c("0x6e5")]=!0,this._pauseStart=void 0===x?n.now():x,this[_0x4b1c("0x6e3")][_0x4b1c("0x2ea")](this)),this},resume:function(x){return this._isPaused&&this[_0x4b1c("0x6d8")]?(this[_0x4b1c("0x6e5")]=!1,this._startTime+=(void 0===x?n[_0x4b1c("0x6cd")]():x)-this._pauseStart,this[_0x4b1c("0x6d2")]=0,this[_0x4b1c("0x6e3")][_0x4b1c("0xdd")](this),this):this},stopChainedTweens:function(){for(var x=0,c=this[_0x4b1c("0x6dc")][_0x4b1c("0x0")];x<c;x++)this[_0x4b1c("0x6dc")][x].stop()},group:function(x){return this._group=x,this},delay:function(x){return this._delayTime=x,this},repeat:function(x){return this._repeat=x,this},repeatDelay:function(x){return this[_0x4b1c("0x6d6")]=x,this},yoyo:function(x){return this[_0x4b1c("0x6d7")]=x,this},easing:function(x){return this[_0x4b1c("0x6db")]=x,this},interpolation:function(x){return this[_0x4b1c("0x6e8")]=x,this},chain:function(){return this[_0x4b1c("0x6dc")]=arguments,this},onStart:function(x){return this[_0x4b1c("0x6dd")]=x,this},onUpdate:function(x){return this[_0x4b1c("0x6df")]=x,this},onRepeat:function(x){return this[_0x4b1c("0x6e0")]=x,this},onComplete:function(x){return this._onCompleteCallback=x,this},onStop:function(x){return this[_0x4b1c("0x6e2")]=x,this},update:function(x){var c,b,_;if(n[_0x4b1c("0x3e")][_0x4b1c("0x6e9")]=0,x<this[_0x4b1c("0x6da")])return!0;for(c in!1===this[_0x4b1c("0x6de")]&&(null!==this[_0x4b1c("0x6dd")]&&this[_0x4b1c("0x6dd")](this[_0x4b1c("0x6d3")]),this[_0x4b1c("0x6de")]=!0),b=(x-this[_0x4b1c("0x6da")])/this[_0x4b1c("0x6d5")],b=0===this[_0x4b1c("0x6d5")]||b>1?1:b,_=this._easingFunction(b),this[_0x4b1c("0x6e6")])if(void 0!==this[_0x4b1c("0x6d4")][c]){var e=this._valuesStart[c]||0,t=this[_0x4b1c("0x6e6")][c];t instanceof Array?this[_0x4b1c("0x6d3")][c]=this[_0x4b1c("0x6e8")](t,_):(typeof t===_0x4b1c("0xd")&&(t="+"===t.charAt(0)||"-"===t[_0x4b1c("0x463")](0)?e+parseFloat(t):parseFloat(t)),"number"==typeof t&&(this[_0x4b1c("0x6d3")][c]=e+(t-e)*_))}if(null!==this[_0x4b1c("0x6df")]&&this[_0x4b1c("0x6df")](this[_0x4b1c("0x6d3")],b),1===b){if(this[_0x4b1c("0x6ea")]>0){for(c in isFinite(this._repeat)&&this[_0x4b1c("0x6ea")]--,this[_0x4b1c("0x6eb")]){if(typeof this[_0x4b1c("0x6e6")][c]===_0x4b1c("0xd")&&(this[_0x4b1c("0x6eb")][c]=this._valuesStartRepeat[c]+parseFloat(this[_0x4b1c("0x6e6")][c])),this._yoyo){var i=this._valuesStartRepeat[c];this[_0x4b1c("0x6eb")][c]=this[_0x4b1c("0x6e6")][c],this[_0x4b1c("0x6e6")][c]=i}this._valuesStart[c]=this[_0x4b1c("0x6eb")][c]}return this[_0x4b1c("0x6d7")]&&(this[_0x4b1c("0x6ec")]=!this._reversed),void 0!==this[_0x4b1c("0x6d6")]?this[_0x4b1c("0x6da")]=x+this[_0x4b1c("0x6d6")]:this[_0x4b1c("0x6da")]=x+this[_0x4b1c("0x6d9")],null!==this._onRepeatCallback&&this[_0x4b1c("0x6e0")](this[_0x4b1c("0x6d3")]),!0}null!==this[_0x4b1c("0x6e1")]&&this[_0x4b1c("0x6e1")](this._object);for(var a=0,r=this[_0x4b1c("0x6dc")][_0x4b1c("0x0")];a<r;a++)this[_0x4b1c("0x6dc")][a][_0x4b1c("0x1af")](this[_0x4b1c("0x6da")]+this[_0x4b1c("0x6d5")]);return!1}return!0}},n[_0x4b1c("0x1a9")]={Linear:{None:function(x){return x}},Quadratic:{In:function(x){return x*x},Out:function(x){return x*(2-x)},InOut:function(x){return(x*=2)<1?.5*x*x:-.5*(--x*(x-2)-1)}},Cubic:{In:function(x){return x*x*x},Out:function(x){return--x*x*x+1},InOut:function(x){return(x*=2)<1?.5*x*x*x:.5*((x-=2)*x*x+2)}},Quartic:{In:function(x){return x*x*x*x},Out:function(x){return 1- --x*x*x*x},InOut:function(x){return(x*=2)<1?.5*x*x*x*x:-.5*((x-=2)*x*x*x-2)}},Quintic:{In:function(x){return x*x*x*x*x},Out:function(x){return--x*x*x*x*x+1},InOut:function(x){return(x*=2)<1?.5*x*x*x*x*x:.5*((x-=2)*x*x*x*x+2)}},Sinusoidal:{In:function(x){return 1-Math[_0x4b1c("0x6b9")](x*Math.PI/2)},Out:function(x){return Math[_0x4b1c("0x65d")](x*Math.PI/2)},InOut:function(x){return.5*(1-Math[_0x4b1c("0x6b9")](Math.PI*x))}},Exponential:{In:function(x){return 0===x?0:Math[_0x4b1c("0xf5")](1024,x-1)},Out:function(x){return 1===x?1:1-Math[_0x4b1c("0xf5")](2,-10*x)},InOut:function(x){return 0===x?0:1===x?1:(x*=2)<1?.5*Math[_0x4b1c("0xf5")](1024,x-1):.5*(2-Math[_0x4b1c("0xf5")](2,-10*(x-1)))}},Circular:{In:function(x){return 1-Math[_0x4b1c("0x120")](1-x*x)},Out:function(x){return Math[_0x4b1c("0x120")](1- --x*x)},InOut:function(x){return(x*=2)<1?-.5*(Math.sqrt(1-x*x)-1):.5*(Math.sqrt(1-(x-=2)*x)+1)}},Elastic:{In:function(x){return 0===x?0:1===x?1:-Math[_0x4b1c("0xf5")](2,10*(x-1))*Math[_0x4b1c("0x65d")](5*(x-1.1)*Math.PI)},Out:function(x){return 0===x?0:1===x?1:Math[_0x4b1c("0xf5")](2,-10*x)*Math.sin(5*(x-.1)*Math.PI)+1},InOut:function(x){return 0===x?0:1===x?1:(x*=2)<1?-.5*Math[_0x4b1c("0xf5")](2,10*(x-1))*Math[_0x4b1c("0x65d")](5*(x-1.1)*Math.PI):.5*Math[_0x4b1c("0xf5")](2,-10*(x-1))*Math[_0x4b1c("0x65d")](5*(x-1.1)*Math.PI)+1}},Back:{In:function(x){var c=1.70158;return x*x*(2.70158*x-c)},Out:function(x){var c=1.70158;return--x*x*(2.70158*x+c)+1},InOut:function(x){var c=2.5949095;return(x*=2)<1?x*x*(3.5949095*x-c)*.5:.5*((x-=2)*x*(3.5949095*x+c)+2)}},Bounce:{In:function(x){return 1-n[_0x4b1c("0x1a9")][_0x4b1c("0x1ad")][_0x4b1c("0x1ae")](1-x)},Out:function(x){return x<1/2.75?7.5625*x*x:x<2/2.75?7.5625*(x-=1.5/2.75)*x+.75:x<2.5/2.75?7.5625*(x-=2.25/2.75)*x+.9375:7.5625*(x-=2.625/2.75)*x+.984375},InOut:function(x){return x<.5?.5*n[_0x4b1c("0x1a9")].Bounce.In(2*x):.5*n[_0x4b1c("0x1a9")][_0x4b1c("0x1ad")][_0x4b1c("0x1ae")](2*x-1)+.5}}},n[_0x4b1c("0x6ed")]={Linear:function(x,c){var b=x[_0x4b1c("0x0")]-1,_=b*c,e=Math[_0x4b1c("0x20f")](_),t=n.Interpolation[_0x4b1c("0x6ee")][_0x4b1c("0x245")];return c<0?t(x[0],x[1],_):c>1?t(x[b],x[b-1],b-_):t(x[e],x[e+1>b?b:e+1],_-e)},Bezier:function(x,c){for(var b=0,_=x[_0x4b1c("0x0")]-1,e=Math[_0x4b1c("0xf5")],t=n.Interpolation[_0x4b1c("0x6ee")][_0x4b1c("0x6ef")],i=0;i<=_;i++)b+=e(1-c,_-i)*e(c,i)*x[i]*t(_,i);return b},CatmullRom:function(x,c){var b=x.length-1,_=b*c,e=Math.floor(_),t=n[_0x4b1c("0x6ed")][_0x4b1c("0x6ee")][_0x4b1c("0x6f0")];return x[0]===x[b]?(c<0&&(e=Math[_0x4b1c("0x20f")](_=b*(1+c))),t(x[(e-1+b)%b],x[e],x[(e+1)%b],x[(e+2)%b],_-e)):c<0?x[0]-(t(x[0],x[0],x[1],x[1],-_)-x[0]):c>1?x[b]-(t(x[b],x[b],x[b-1],x[b-1],_-b)-x[b]):t(x[e?e-1:0],x[e],x[b<e+1?b:e+1],x[b<e+2?b:e+2],_-e)},Utils:{Linear:function(x,c,b){return(c-x)*b+x},Bernstein:function(x,c){var b=n.Interpolation[_0x4b1c("0x6ee")][_0x4b1c("0x6f1")];return b(x)/b(c)/b(x-c)},Factorial:(a=[1],function(x){var c=1;if(a[x])return a[x];for(var b=x;b>1;b--)c*=b;return a[x]=c,c}),CatmullRom:function(x,c,b,_,e){var t=.5*(b-x),i=.5*(_-c),a=e*e;return(2*c-2*b+t+i)*(e*a)+(-3*c+3*b-2*t-i)*a+t*e+c}}},c[_0x4b1c("0xc")]=n})[_0x4b1c("0x2")](this,b(62))},function(x,c,b){"use strict";THREE[_0x4b1c("0x6f2")]={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:[_0x4b1c("0x6f3"),"void main() {",_0x4b1c("0x6f4"),_0x4b1c("0x6f5"),"}"][_0x4b1c("0x4f1")]("\n"),fragmentShader:[_0x4b1c("0x14e"),_0x4b1c("0x6f6"),_0x4b1c("0x6f3"),_0x4b1c("0x6f7"),"vec4 texel = texture2D( tDiffuse, vUv );",_0x4b1c("0x6f8"),"}"][_0x4b1c("0x4f1")]("\n")}},function(x,c,b){"use strict";var _,e,t,i,a=b(2),n=(_=a)&&_.__esModule?_:{default:_};THREE[_0x4b1c("0x6f9")]=function(x,c){if(this[_0x4b1c("0x360")]=x,void 0===c){var b={minFilter:THREE.LinearFilter,magFilter:THREE[_0x4b1c("0x35f")],format:THREE[_0x4b1c("0x6fa")],stencilBuffer:!1},_=x.getSize(new(THREE[_0x4b1c("0x552")]));this._pixelRatio=x.getPixelRatio(),this._width=_.width,this[_0x4b1c("0x6fb")]=_.height,(c=new(THREE[_0x4b1c("0x6fc")])(this._width*this[_0x4b1c("0x6fd")],this[_0x4b1c("0x6fb")]*this[_0x4b1c("0x6fd")],b))[_0x4b1c("0x61c")].name="EffectComposer.rt1"}else this[_0x4b1c("0x6fd")]=1,this[_0x4b1c("0x6fe")]=c[_0x4b1c("0x1c9")],this[_0x4b1c("0x6fb")]=c[_0x4b1c("0x1a3")];this[_0x4b1c("0x6ff")]=c,this.renderTarget2=c[_0x4b1c("0x13e")](),this[_0x4b1c("0x700")][_0x4b1c("0x61c")].name=_0x4b1c("0x701"),this[_0x4b1c("0x702")]=this[_0x4b1c("0x6ff")],this.readBuffer=this[_0x4b1c("0x700")],this.renderToScreen=!0,this.passes=[],void 0===THREE[_0x4b1c("0x6f2")]&&console[_0x4b1c("0xe3")](_0x4b1c("0x703")),void 0===THREE[_0x4b1c("0x704")]&&_0x4b1c("0x705"),this[_0x4b1c("0x706")]=new THREE.ShaderPass(THREE[_0x4b1c("0x6f2")]),this[_0x4b1c("0x2b9")]=new(THREE[_0x4b1c("0x1eb")])},(0,n.default)(THREE[_0x4b1c("0x6f9")].prototype,{swapBuffers:function(){var x=this[_0x4b1c("0x707")];this[_0x4b1c("0x707")]=this[_0x4b1c("0x702")],this[_0x4b1c("0x702")]=x},addPass:function(x){this[_0x4b1c("0x708")][_0x4b1c("0x12")](x);var c=this.renderer[_0x4b1c("0x709")](new(THREE[_0x4b1c("0x552")]));x[_0x4b1c("0x30c")](c[_0x4b1c("0x1c9")],c[_0x4b1c("0x1a3")])},insertPass:function(x,c){this.passes[_0x4b1c("0x5")](c,0,x)},isLastEnabledPass:function(x){for(var c=x+1;c<this[_0x4b1c("0x708")][_0x4b1c("0x0")];c++)if(this[_0x4b1c("0x708")][c].enabled)return!1;return!0},render:function(x){void 0===x&&(x=this[_0x4b1c("0x2b9")][_0x4b1c("0x2a7")]());var c,b,_=this[_0x4b1c("0x360")][_0x4b1c("0x70a")](),e=!1,t=this.passes[_0x4b1c("0x0")];for(b=0;b<t;b++)if(!1!==(c=this[_0x4b1c("0x708")][b])[_0x4b1c("0x70b")]){if(c.renderToScreen=this[_0x4b1c("0x70c")]&&this[_0x4b1c("0x70d")](b),c[_0x4b1c("0x70e")](this[_0x4b1c("0x360")],this[_0x4b1c("0x702")],this.readBuffer,x,e),c[_0x4b1c("0x70f")]){if(e){var i=this[_0x4b1c("0x360")][_0x4b1c("0x36d")];i[_0x4b1c("0x710")](i[_0x4b1c("0x711")],1,4294967295),this[_0x4b1c("0x706")][_0x4b1c("0x70e")](this.renderer,this[_0x4b1c("0x702")],this.readBuffer,x),i[_0x4b1c("0x710")](i[_0x4b1c("0x712")],1,4294967295)}this[_0x4b1c("0x713")]()}void 0!==THREE[_0x4b1c("0x714")]&&(c instanceof THREE[_0x4b1c("0x714")]?e=!0:c instanceof THREE.ClearMaskPass&&(e=!1))}this[_0x4b1c("0x360")][_0x4b1c("0x715")](_)},reset:function(x){if(void 0===x){var c=this[_0x4b1c("0x360")][_0x4b1c("0x716")](new(THREE[_0x4b1c("0x552")]));this._pixelRatio=this[_0x4b1c("0x360")][_0x4b1c("0x717")](),this._width=c[_0x4b1c("0x1c9")],this[_0x4b1c("0x6fb")]=c[_0x4b1c("0x1a3")],(x=this[_0x4b1c("0x6ff")][_0x4b1c("0x13e")]())[_0x4b1c("0x30c")](this._width*this[_0x4b1c("0x6fd")],this[_0x4b1c("0x6fb")]*this[_0x4b1c("0x6fd")])}this[_0x4b1c("0x6ff")][_0x4b1c("0xf3")](),this[_0x4b1c("0x700")].dispose(),this[_0x4b1c("0x6ff")]=x,this[_0x4b1c("0x700")]=x.clone(),this.writeBuffer=this.renderTarget1,this[_0x4b1c("0x707")]=this[_0x4b1c("0x700")]},setSize:function(x,c){this[_0x4b1c("0x6fe")]=x,this[_0x4b1c("0x6fb")]=c;var b=this._width*this._pixelRatio,_=this[_0x4b1c("0x6fb")]*this[_0x4b1c("0x6fd")];this[_0x4b1c("0x6ff")][_0x4b1c("0x30c")](b,_),this[_0x4b1c("0x700")].setSize(b,_);for(var e=0;e<this[_0x4b1c("0x708")][_0x4b1c("0x0")];e++)this[_0x4b1c("0x708")][e][_0x4b1c("0x30c")](b,_)},setPixelRatio:function(x){this[_0x4b1c("0x6fd")]=x,this[_0x4b1c("0x30c")](this._width,this[_0x4b1c("0x6fb")])}}),THREE[_0x4b1c("0x718")]=function(){this[_0x4b1c("0x70b")]=!0,this.needsSwap=!0,this[_0x4b1c("0x719")]=!1,this[_0x4b1c("0x70c")]=!1},(0,n.default)(THREE[_0x4b1c("0x718")].prototype,{setSize:function(){},render:function(){console[_0x4b1c("0xe3")](_0x4b1c("0x71a"))}}),THREE[_0x4b1c("0x718")][_0x4b1c("0x71b")]=(e=new THREE.OrthographicCamera(-1,1,1,-1,0,1),t=new(THREE[_0x4b1c("0x71c")])(2,2),i=function(x){this._mesh=new(THREE[_0x4b1c("0x197")])(t,x)},Object[_0x4b1c("0x7")](i[_0x4b1c("0xf")],_0x4b1c("0xf4"),{get:function(){return this[_0x4b1c("0x71d")].material},set:function(x){this[_0x4b1c("0x71d")][_0x4b1c("0xf4")]=x}}),(0,n[_0x4b1c("0xc")])(i[_0x4b1c("0xf")],{render:function(x){x[_0x4b1c("0x70e")](this._mesh,e)}}),i)},function(x,c,b){"use strict";var _=t(b(21)),e=t(b(2));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}THREE[_0x4b1c("0x714")]=function(x,c){THREE[_0x4b1c("0x718")][_0x4b1c("0x2")](this),this[_0x4b1c("0x102")]=x,this.camera=c,this[_0x4b1c("0x719")]=!0,this[_0x4b1c("0x70f")]=!1,this[_0x4b1c("0x520")]=!1},THREE[_0x4b1c("0x714")][_0x4b1c("0xf")]=(0,e[_0x4b1c("0xc")])((0,_[_0x4b1c("0xc")])(THREE[_0x4b1c("0x718")][_0x4b1c("0xf")]),{constructor:THREE[_0x4b1c("0x714")],render:function(x,c,b){var _,e,t=x[_0x4b1c("0x36d")],i=x[_0x4b1c("0x71e")];i[_0x4b1c("0x418")][_0x4b1c("0x147")].setMask(!1),i[_0x4b1c("0x418")][_0x4b1c("0x2f1")].setMask(!1),i[_0x4b1c("0x418")][_0x4b1c("0x147")].setLocked(!0),i[_0x4b1c("0x418")][_0x4b1c("0x2f1")][_0x4b1c("0x71f")](!0),this[_0x4b1c("0x520")]?(_=0,e=1):(_=1,e=0),i.buffers[_0x4b1c("0x720")][_0x4b1c("0x721")](!0),i[_0x4b1c("0x418")][_0x4b1c("0x720")][_0x4b1c("0x722")](t[_0x4b1c("0x723")],t[_0x4b1c("0x723")],t[_0x4b1c("0x723")]),i[_0x4b1c("0x418")][_0x4b1c("0x720")][_0x4b1c("0x724")](t[_0x4b1c("0x725")],_,4294967295),i.buffers[_0x4b1c("0x720")][_0x4b1c("0x726")](e),x.setRenderTarget(b),this.clear&&x[_0x4b1c("0x719")](),x[_0x4b1c("0x70e")](this[_0x4b1c("0x102")],this[_0x4b1c("0x658")]),x[_0x4b1c("0x715")](c),this[_0x4b1c("0x719")]&&x[_0x4b1c("0x719")](),x[_0x4b1c("0x70e")](this.scene,this[_0x4b1c("0x658")]),i[_0x4b1c("0x418")][_0x4b1c("0x147")][_0x4b1c("0x71f")](!1),i[_0x4b1c("0x418")][_0x4b1c("0x2f1")][_0x4b1c("0x71f")](!1),i[_0x4b1c("0x418")][_0x4b1c("0x720")].setFunc(t[_0x4b1c("0x712")],1,4294967295),i.buffers[_0x4b1c("0x720")][_0x4b1c("0x722")](t[_0x4b1c("0x727")],t.KEEP,t[_0x4b1c("0x727")])}}),THREE[_0x4b1c("0x728")]=function(){THREE[_0x4b1c("0x718")][_0x4b1c("0x2")](this),this[_0x4b1c("0x70f")]=!1},THREE[_0x4b1c("0x728")][_0x4b1c("0xf")]=(0,_[_0x4b1c("0xc")])(THREE[_0x4b1c("0x718")][_0x4b1c("0xf")]),(0,e[_0x4b1c("0xc")])(THREE[_0x4b1c("0x728")].prototype,{render:function(x){x[_0x4b1c("0x71e")][_0x4b1c("0x418")].stencil[_0x4b1c("0x721")](!1)}})},function(x,c,b){"use strict";var _=t(b(21)),e=t(b(2));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}THREE.RenderPass=function(x,c,b,_,e){THREE[_0x4b1c("0x718")][_0x4b1c("0x2")](this),this[_0x4b1c("0x102")]=x,this[_0x4b1c("0x658")]=c,this[_0x4b1c("0x729")]=b,this[_0x4b1c("0x72a")]=_,this.clearAlpha=void 0!==e?e:0,this[_0x4b1c("0x719")]=!0,this.clearDepth=!1,this[_0x4b1c("0x70f")]=!1},THREE.RenderPass[_0x4b1c("0xf")]=(0,e.default)((0,_[_0x4b1c("0xc")])(THREE[_0x4b1c("0x718")][_0x4b1c("0xf")]),{constructor:THREE[_0x4b1c("0x72b")],render:function(x,c,b){var _,e,t=x[_0x4b1c("0x72c")];x.autoClear=!1,this.scene[_0x4b1c("0x729")]=this[_0x4b1c("0x729")],this[_0x4b1c("0x72a")]&&(_=x[_0x4b1c("0x72d")]()[_0x4b1c("0x72e")](),e=x[_0x4b1c("0x72f")](),x[_0x4b1c("0x730")](this[_0x4b1c("0x72a")],this[_0x4b1c("0x731")])),this[_0x4b1c("0x732")]&&x[_0x4b1c("0x732")](),x[_0x4b1c("0x715")](this[_0x4b1c("0x70c")]?null:b),this[_0x4b1c("0x719")]&&x[_0x4b1c("0x719")](x[_0x4b1c("0x733")],x[_0x4b1c("0x734")],x[_0x4b1c("0x735")]),x[_0x4b1c("0x70e")](this.scene,this[_0x4b1c("0x658")]),this[_0x4b1c("0x72a")]&&x[_0x4b1c("0x730")](_,e),this[_0x4b1c("0x102")][_0x4b1c("0x729")]=null,x[_0x4b1c("0x72c")]=t}})},function(x,c,b){"use strict";var _=t(b(21)),e=t(b(2));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}THREE[_0x4b1c("0x704")]=function(x,c){THREE[_0x4b1c("0x718")].call(this),this.textureID=void 0!==c?c:_0x4b1c("0x736"),x instanceof THREE[_0x4b1c("0x737")]?(this.uniforms=x.uniforms,this[_0x4b1c("0xf4")]=x):x&&(this.uniforms=THREE[_0x4b1c("0x738")].clone(x[_0x4b1c("0x148")]),this[_0x4b1c("0xf4")]=new(THREE[_0x4b1c("0x737")])({defines:(0,e.default)({},x[_0x4b1c("0x739")]),uniforms:this[_0x4b1c("0x148")],vertexShader:x[_0x4b1c("0x14a")],fragmentShader:x.fragmentShader})),this[_0x4b1c("0x73a")]=new(THREE[_0x4b1c("0x718")][_0x4b1c("0x71b")])(this[_0x4b1c("0xf4")])},THREE[_0x4b1c("0x704")][_0x4b1c("0xf")]=(0,e.default)((0,_[_0x4b1c("0xc")])(THREE[_0x4b1c("0x718")][_0x4b1c("0xf")]),{constructor:THREE[_0x4b1c("0x704")],render:function(x,c,b){this[_0x4b1c("0x148")][this[_0x4b1c("0x73b")]]&&(this[_0x4b1c("0x148")][this[_0x4b1c("0x73b")]][_0x4b1c("0x13a")]=b[_0x4b1c("0x61c")]),this[_0x4b1c("0x73a")][_0x4b1c("0xf4")]=this[_0x4b1c("0xf4")],this[_0x4b1c("0x70c")]?(x[_0x4b1c("0x715")](null),this[_0x4b1c("0x73a")][_0x4b1c("0x70e")](x)):(x.setRenderTarget(c),this[_0x4b1c("0x719")]&&x[_0x4b1c("0x719")](x[_0x4b1c("0x733")],x.autoClearDepth,x[_0x4b1c("0x735")]),this[_0x4b1c("0x73a")][_0x4b1c("0x70e")](x))}})},function(x,c,b){"use strict";var _=t(b(72)),e=t(b(21));function t(x){return x&&x.__esModule?x:{default:x}}THREE[_0x4b1c("0x73c")]=function(x){THREE[_0x4b1c("0x214")][_0x4b1c("0x2")](this),this.element=x,this[_0x4b1c("0x45e")][_0x4b1c("0x23")].position=_0x4b1c("0x73d"),this[_0x4b1c("0x37")](_0x4b1c("0x228"),(function(x){null!==this[_0x4b1c("0x45e")][_0x4b1c("0x4d3")]&&this[_0x4b1c("0x45e")].parentNode[_0x4b1c("0x29")](this.element)}))},THREE[_0x4b1c("0x73c")][_0x4b1c("0xf")]=(0,e[_0x4b1c("0xc")])(THREE[_0x4b1c("0x214")][_0x4b1c("0xf")]),THREE[_0x4b1c("0x73c")].prototype[_0x4b1c("0x5f0")]=THREE.CSS2DObject,THREE.CSS2DRenderer=function(){var x,c,b,e,t=new(THREE[_0x4b1c("0x128")]),i=new THREE.Matrix4,a=new(THREE[_0x4b1c("0x240")]),n={objects:new(_[_0x4b1c("0xc")])},r=document.createElement(_0x4b1c("0x1c8"));r[_0x4b1c("0x23")][_0x4b1c("0x73e")]="hidden",r[_0x4b1c("0x23")].position="relative",this[_0x4b1c("0x73f")]=r,this.getSize=function(){return{width:x,height:c}},this[_0x4b1c("0x30c")]=function(_,t){b=(x=_)/2,e=(c=t)/2,r[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_+"px",r[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=t+"px"};var s,o,f=function x(c,_){if(c instanceof THREE[_0x4b1c("0x73c")]){t[_0x4b1c("0x740")](c[_0x4b1c("0x3eb")]),t[_0x4b1c("0x22f")](a);var i=t.x*b+b,s=-t.y*e+e,o=_0x4b1c("0x741"),f=_0x4b1c("0x742"),d=c[_0x4b1c("0x45e")];if(c.userData[_0x4b1c("0x743")]){var u=d[_0x4b1c("0x4df")]();o=s>u.height?"-100%":0,i<u[_0x4b1c("0x1c9")]/2?f="0":2*b-i<u[_0x4b1c("0x1c9")]/2&&(f=_0x4b1c("0x741"))}var h=c[_0x4b1c("0x165")][_0x4b1c("0x744")],g=_0x4b1c("0x4ef")+f+", "+o+_0x4b1c("0x745")+i+_0x4b1c("0x4ed")+s+"px) scale("+h+")";c[_0x4b1c("0x746")]=i,c[_0x4b1c("0x747")]=s,d[_0x4b1c("0x23")].WebkitTransform=g,d[_0x4b1c("0x23")][_0x4b1c("0x748")]=g,d[_0x4b1c("0x23")][_0x4b1c("0x749")]=g,d.style[_0x4b1c("0x4c5")]=g;var v=c[_0x4b1c("0x191")]&&t.z>=-1&&t.z<=1?"":"none";d[_0x4b1c("0x23")].display=v,c[_0x4b1c("0x1d9")]({type:"update",message:{x:i,y:s,display:v}});var p={distanceToCameraSquared:l(_,c)};if(n[_0x4b1c("0x74a")][_0x4b1c("0xdb")](c,p),d[_0x4b1c("0x4d3")]!==r){var m=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x1c3")][_0x4b1c("0x588")];r[_0x4b1c("0x4e6")](m)?r[_0x4b1c("0x74b")](d,m):r[_0x4b1c("0x1d7")](d);var A=document[_0x4b1c("0x74c")]("HTMLEvents");A[_0x4b1c("0x74d")]("popMakerCreated",!1,!0),A[_0x4b1c("0x74e")]=d,document[_0x4b1c("0x1d9")](A,{dom:d})}}for(var y=0,C=c[_0x4b1c("0xf1")][_0x4b1c("0x0")];y<C;y++)x(c[_0x4b1c("0xf1")][y],_)},l=(s=new THREE.Vector3,o=new(THREE[_0x4b1c("0x128")]),function(x,c){return s[_0x4b1c("0x740")](x[_0x4b1c("0x3eb")]),o[_0x4b1c("0x740")](c.matrixWorld),s[_0x4b1c("0x74f")](o)}),d=function(x){for(var c,b,_=(c=x,b=[],c[_0x4b1c("0x103")]((function(x){x instanceof THREE[_0x4b1c("0x73c")]&&b[_0x4b1c("0x12")](x)})),b).sort((function(x,c){return n[_0x4b1c("0x74a")][_0x4b1c("0xde")](x)[_0x4b1c("0x750")]-n[_0x4b1c("0x74a")][_0x4b1c("0xde")](c)[_0x4b1c("0x750")]})),e=_.length,t=0,i=_[_0x4b1c("0x0")];t<i;t++)_[t][_0x4b1c("0x45e")][_0x4b1c("0x23")][_0x4b1c("0x751")]=e-t};this[_0x4b1c("0x70e")]=function(x,c){x[_0x4b1c("0x752")](),null===c[_0x4b1c("0x108")]&&c.updateMatrixWorld(),i[_0x4b1c("0x20b")](c[_0x4b1c("0x3e3")]),a.multiplyMatrices(c[_0x4b1c("0x753")],i),f(x,c),d(x)}}},function(x,c,b){"use strict";var _=t(b(6)),e=t(b(9));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}THREE[_0x4b1c("0x754")]=function(x){this[_0x4b1c("0x755")]=0,this[_0x4b1c("0x756")]=x||THREE.DefaultLoadingManager,this[_0x4b1c("0x100")]=null,this[_0x4b1c("0x757")]=0,this[_0x4b1c("0x758")]={},this[_0x4b1c("0x759")]=THREE[_0x4b1c("0x75a")],this[_0x4b1c("0x75b")]={position:"POSITION",normal:_0x4b1c("0x38f"),color:_0x4b1c("0x75c"),uv:_0x4b1c("0x75d")}},THREE[_0x4b1c("0x754")][_0x4b1c("0xf")]={constructor:THREE[_0x4b1c("0x754")],load:function(x,c,b,_){var e=this,t=new(THREE[_0x4b1c("0x75e")])(e[_0x4b1c("0x756")]);t[_0x4b1c("0x4d")](this.path),t[_0x4b1c("0x75f")]("arraybuffer"),t.load(x,(function(x){e[_0x4b1c("0x760")](x,c)}),b,_)},setPath:function(x){return this.path=x,this},setVerbosity:function(x){return this.verbosity=x,this},setDrawMode:function(x){return this[_0x4b1c("0x759")]=x,this},setSkipDequantization:function(x,c){var b=!0;return typeof c!==_0x4b1c("0x8")&&(b=c),this[_0x4b1c("0x761")](x)[_0x4b1c("0x762")]=b,this},decodeDracoFile:function(x,c,b,_){var e=this;THREE[_0x4b1c("0x754")].getDecoderModule()[_0x4b1c("0x323")]((function(t){e.decodeDracoFileInternal(x,t[_0x4b1c("0x763")],c,b,_)}))},decodeDracoFileInternal:function(x,c,b,_,e){var t=new(c[_0x4b1c("0x764")]);t.Init(new Int8Array(x),x[_0x4b1c("0x765")]);var i=new(c[_0x4b1c("0x766")]),a=i[_0x4b1c("0x767")](t);if(a==c[_0x4b1c("0x768")])this[_0x4b1c("0x757")]>0&&console[_0x4b1c("0x226")](_0x4b1c("0x769"));else{if(a!=c[_0x4b1c("0x76a")]){var n=_0x4b1c("0x76b");throw console[_0x4b1c("0xe3")](n),new Error(n)}this[_0x4b1c("0x757")]>0&&console[_0x4b1c("0x226")]("Loaded a point cloud.")}b(this[_0x4b1c("0x76c")](c,i,a,t,_,e))},addAttributeToGeometry:function(x,c,b,_,e,t,i,a){if(0===t[_0x4b1c("0x76d")]){var n=_0x4b1c("0x76e")+_;throw new Error(n)}var r,s,o=t[_0x4b1c("0x76f")](),f=b.num_points()*o;switch(e){case Float32Array:r=new(x[_0x4b1c("0x770")]),c[_0x4b1c("0x771")](b,t,r),a[_]=new Float32Array(f),s=THREE[_0x4b1c("0x772")];break;case Int8Array:r=new x.DracoInt8Array,c[_0x4b1c("0x773")](b,t,r),a[_]=new Int8Array(f),s=THREE.Int8BufferAttribute;break;case Int16Array:r=new(x[_0x4b1c("0x774")]),c.GetAttributeInt16ForAllPoints(b,t,r),a[_]=new Int16Array(f),s=THREE.Int16BufferAttribute;break;case Int32Array:r=new(x[_0x4b1c("0x775")]),c[_0x4b1c("0x776")](b,t,r),a[_]=new Int32Array(f),s=THREE[_0x4b1c("0x777")];break;case Uint8Array:r=new(x[_0x4b1c("0x778")]),c[_0x4b1c("0x779")](b,t,r),a[_]=new Uint8Array(f),s=THREE[_0x4b1c("0x77a")];break;case Uint16Array:r=new x.DracoUInt16Array,c[_0x4b1c("0x77b")](b,t,r),a[_]=new Uint16Array(f),s=THREE.Uint16BufferAttribute;break;case Uint32Array:r=new(x[_0x4b1c("0x77c")]),c[_0x4b1c("0x77d")](b,t,r),a[_]=new Uint32Array(f),s=THREE[_0x4b1c("0x77e")];break;default:n=_0x4b1c("0x77f");throw console[_0x4b1c("0xe3")](n),new Error(n)}for(var l=0;l<f;l++)a[_][l]=r.GetValue(l);i[_0x4b1c("0x43c")](_,new s(a[_],o)),x[_0x4b1c("0x780")](r)},convertDracoGeometryTo3JS:function(x,c,b,_,e,t){var i,a;!0===this[_0x4b1c("0x761")]("position")[_0x4b1c("0x762")]&&c.SkipAttributeTransform(x[_0x4b1c("0x781")]);var n=performance[_0x4b1c("0x6cd")]();if(b===x[_0x4b1c("0x768")]?(i=new(x[_0x4b1c("0x197")]),a=c[_0x4b1c("0x782")](_,i)):(i=new(x[_0x4b1c("0x783")]),a=c[_0x4b1c("0x784")](_,i)),!a.ok()||0==i[_0x4b1c("0x76d")]){var r=_0x4b1c("0x785");throw r+=a.error_msg(),console[_0x4b1c("0xe3")](r),x[_0x4b1c("0x780")](c),x.destroy(i),new Error(r)}var s,o=performance[_0x4b1c("0x6cd")]();x[_0x4b1c("0x780")](_),b==x[_0x4b1c("0x768")]?(s=i[_0x4b1c("0x786")](),this[_0x4b1c("0x757")]>0&&console[_0x4b1c("0x226")](_0x4b1c("0x787")+s[_0x4b1c("0x2f")]())):s=0;var f=i[_0x4b1c("0x788")](),l=i[_0x4b1c("0x789")]();this[_0x4b1c("0x757")]>0&&(console[_0x4b1c("0x226")](_0x4b1c("0x78a")+f[_0x4b1c("0x2f")]()),console[_0x4b1c("0x226")](_0x4b1c("0x78b")+l[_0x4b1c("0x2f")]()));var d=c[_0x4b1c("0x78c")](i,x[_0x4b1c("0x781")]);if(-1==d){r="THREE.DRACOLoader: No position attribute found.";throw console[_0x4b1c("0xe3")](r),x[_0x4b1c("0x780")](c),x[_0x4b1c("0x780")](i),new Error(r)}var u=c[_0x4b1c("0x78d")](i,d),h={},g=new(THREE[_0x4b1c("0x581")]);if(e)for(var v in e){var p=t[v],m=e[v],A=c[_0x4b1c("0x78e")](i,m);this[_0x4b1c("0x78f")](x,c,i,v,p,A,g,h)}else for(var v in this[_0x4b1c("0x75b")]){var y=c[_0x4b1c("0x78c")](i,x[this[_0x4b1c("0x75b")][v]]);if(-1!==y){this[_0x4b1c("0x757")]>0&&console[_0x4b1c("0x226")](_0x4b1c("0x790")+v+_0x4b1c("0x791"));A=c[_0x4b1c("0x78d")](i,y);this.addAttributeToGeometry(x,c,i,v,Float32Array,A,g,h)}}if(b==x[_0x4b1c("0x768")])if(this[_0x4b1c("0x759")]===THREE[_0x4b1c("0x792")]){var C=new(x[_0x4b1c("0x775")]);c.GetTriangleStripsFromMesh(i,C);h[_0x4b1c("0x793")]=new Uint32Array(C[_0x4b1c("0xe0")]());for(var I=0;I<C[_0x4b1c("0xe0")]();++I)h[_0x4b1c("0x793")][I]=C[_0x4b1c("0x794")](I);x[_0x4b1c("0x780")](C)}else{var E=3*s;h[_0x4b1c("0x793")]=new Uint32Array(E);var w=new x.DracoInt32Array;for(I=0;I<s;++I){c[_0x4b1c("0x795")](i,I,w);var T=3*I;h[_0x4b1c("0x793")][T]=w[_0x4b1c("0x794")](0),h.indices[T+1]=w.GetValue(1),h[_0x4b1c("0x793")][T+2]=w[_0x4b1c("0x794")](2)}x[_0x4b1c("0x780")](w)}g[_0x4b1c("0x759")]=this[_0x4b1c("0x759")],b==x[_0x4b1c("0x768")]&&g[_0x4b1c("0x43e")](new(h[_0x4b1c("0x793")].length>65535?THREE[_0x4b1c("0x77e")]:THREE[_0x4b1c("0x796")])(h[_0x4b1c("0x793")],1));var k=new(x[_0x4b1c("0x797")]);if(k[_0x4b1c("0x798")](u)){g[_0x4b1c("0x104")].position[_0x4b1c("0x799")]=!0,g.attributes.position[_0x4b1c("0x79a")]=k[_0x4b1c("0x543")](),g[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x79b")]=k[_0x4b1c("0x79c")](),g[_0x4b1c("0x104")].position[_0x4b1c("0x79d")]=new Float32Array(3);for(I=0;I<3;++I)g.attributes[_0x4b1c("0x105")][_0x4b1c("0x79d")][I]=k.min_value(I)}return x[_0x4b1c("0x780")](k),x[_0x4b1c("0x780")](c),x.destroy(i),this[_0x4b1c("0x79e")]=o-n,this.import_time=performance[_0x4b1c("0x6cd")]()-o,this[_0x4b1c("0x757")]>0&&(console[_0x4b1c("0x226")](_0x4b1c("0x79f")+this[_0x4b1c("0x79e")]),_0x4b1c("0x7a0"),this.import_time),g},isVersionSupported:function(x,c){THREE.DRACOLoader[_0x4b1c("0x7a1")]()[_0x4b1c("0x323")]((function(b){c(b[_0x4b1c("0x763")][_0x4b1c("0x7a2")](x))}))},getAttributeOptions:function(x){return typeof this[_0x4b1c("0x758")][x]===_0x4b1c("0x8")&&(this.attributeOptions[x]={}),this[_0x4b1c("0x758")][x]}},THREE.DRACOLoader[_0x4b1c("0x7a3")]="./",THREE[_0x4b1c("0x754")][_0x4b1c("0x7a4")]={},THREE.DRACOLoader[_0x4b1c("0x7a5")]=null,THREE.DRACOLoader.setDecoderPath=function(x){THREE[_0x4b1c("0x754")][_0x4b1c("0x7a3")]=x},THREE[_0x4b1c("0x754")][_0x4b1c("0x7a6")]=function(x){var c=THREE[_0x4b1c("0x754")][_0x4b1c("0x7a4")][_0x4b1c("0x7a7")];THREE[_0x4b1c("0x754")][_0x4b1c("0x7a4")]=x||{},THREE[_0x4b1c("0x754")][_0x4b1c("0x7a8")](),c&&(THREE.DRACOLoader.decoderConfig[_0x4b1c("0x7a7")]=c)},THREE[_0x4b1c("0x754")][_0x4b1c("0x7a8")]=function(){THREE.DRACOLoader[_0x4b1c("0x7a5")]=null},THREE[_0x4b1c("0x754")][_0x4b1c("0x7a1")]=function(){var x=this,c=THREE[_0x4b1c("0x754")][_0x4b1c("0x7a3")],b=THREE[_0x4b1c("0x754")][_0x4b1c("0x7a4")],t=THREE[_0x4b1c("0x754")][_0x4b1c("0x7a5")];return t||(typeof DracoDecoderModule!==_0x4b1c("0x8")?t=e[_0x4b1c("0xc")].resolve():(typeof WebAssembly===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(WebAssembly))!==_0x4b1c("0x1d")||"js"===b.type?t=THREE[_0x4b1c("0x754")][_0x4b1c("0x7a9")](c+_0x4b1c("0x7aa")):(b[_0x4b1c("0x7ab")]=c+"esmap_decoder.wasm",t=THREE[_0x4b1c("0x754")]._loadScript(c+"esmap_wasm.js")[_0x4b1c("0x323")]((function(){return THREE[_0x4b1c("0x754")]._loadArrayBuffer(b[_0x4b1c("0x7ab")])})).then((function(x){b[_0x4b1c("0x7a7")]=x}))),t=t[_0x4b1c("0x323")]((function(){return new(e[_0x4b1c("0xc")])((function(c){b[_0x4b1c("0x7ac")]=function(b){x[_0x4b1c("0x755")]=performance.now(),c({decoder:b})},DracoDecoderModule(b)}))})),THREE[_0x4b1c("0x754")][_0x4b1c("0x7a5")]=t,t)},THREE[_0x4b1c("0x754")][_0x4b1c("0x7a9")]=function(x){var c=document[_0x4b1c("0x7ad")](_0x4b1c("0x7ae"));null!==c&&c.parentNode.removeChild(c);var b=document[_0x4b1c("0x7af")]("head")[0],_=document[_0x4b1c("0x21")]("script");return _.id=_0x4b1c("0x7ae"),_[_0x4b1c("0x78")]="text/javascript",_[_0x4b1c("0x4d7")]=x,new e.default((function(x){_[_0x4b1c("0x7b0")]=x,b.appendChild(_)}))},THREE[_0x4b1c("0x754")]._loadArrayBuffer=function(x){var c=new(THREE[_0x4b1c("0x75e")]);return c[_0x4b1c("0x75f")]("arraybuffer"),new(e[_0x4b1c("0xc")])((function(b,_){c[_0x4b1c("0x187")](x,b,void 0,_)}))}},function(x,c,b){"use strict";var _=r(b(14)),e=r(b(6)),t=r(b(21)),i=r(b(9)),a=b(272),n=b(34);function r(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var s=null,o=null,f=null;THREE.ESGLTFLoader=function(){function x(x){this[_0x4b1c("0x756")]=void 0!==x?x:THREE[_0x4b1c("0x7b1")],this[_0x4b1c("0x7b2")]=null,f=new c}function c(){var x={};return{get:function(c){return x[c]},add:function(c,b){x[c]=b},remove:function(c){delete x[c]},removeAll:function(){x={}}}}x[_0x4b1c("0xf")]={constructor:x,crossOrigin:_0x4b1c("0x7b3"),clearREG:function(){f[_0x4b1c("0x7b4")]()},load:function(x,c,b,_,e){var t,i=this;e||(e=""),t=void 0!==this[_0x4b1c("0x7b5")]?this[_0x4b1c("0x7b5")]:void 0!==this.path?this.path:THREE[_0x4b1c("0x7b6")][_0x4b1c("0x7b7")](x),i[_0x4b1c("0x756")][_0x4b1c("0x7b8")](x);var a=function(c){_?_(c):console[_0x4b1c("0x424")](c),i[_0x4b1c("0x756")][_0x4b1c("0x7b9")](x),i.manager[_0x4b1c("0x7ba")](x)},n=new(THREE[_0x4b1c("0x75e")])(i[_0x4b1c("0x756")]);n[_0x4b1c("0x4d")](this.path),n[_0x4b1c("0x75f")](_0x4b1c("0x492")),n.load(x,(function(b){try{i[_0x4b1c("0x71")](b,t,(function(b){c(b),i.manager.itemEnd(x)}),a,x,e)||_&&_()}catch(x){a(x)}}),b,a)},setCrossOrigin:function(x){return this[_0x4b1c("0x7bb")]=x,this},setPath:function(x){return this.path=x,this},setResourcePath:function(x){return this[_0x4b1c("0x7b5")]=x,this},setDRACOLoader:function(x){return this[_0x4b1c("0x7b2")]=x,this},parse:function(x,c,_,e,t,i){var h,g,y={};if(typeof x===_0x4b1c("0xd"))h=x;else if(THREE[_0x4b1c("0x7b6")][_0x4b1c("0x7bc")](new Uint8Array(x,0,4))===u){try{y[b[_0x4b1c("0x7bd")]]=new v(x)}catch(x){return void(e&&e(x))}h=y[b[_0x4b1c("0x7bd")]][_0x4b1c("0x7be")]}else h=THREE[_0x4b1c("0x7b6")][_0x4b1c("0x7bc")](new Uint8Array(x));g=JSON.parse(h[_0x4b1c("0x7bf")]());esmap.ESMap[_0x4b1c("0x3a")];if(g.version||t[_0x4b1c("0x114")](".action")>-1){var C=g[_0x4b1c("0x84")][_0x4b1c("0x2c")](".");if(C[0]>1)return;var I=n[_0x4b1c("0x4a")][_0x4b1c("0x4b")](g[_0x4b1c("0x569")]);I=I[_0x4b1c("0x2a1")](0,I.length-10),g[_0x4b1c("0x7c0")]=JSON.parse((0,a[_0x4b1c("0x4b")])(I,"ESMAPEDITOR",C[1]))}if(g.asset[_0x4b1c("0x84")]<2.1)console[_0x4b1c("0x424")]("gltf version>=2.1 supported!");else if(g.asset&&g[_0x4b1c("0x7c0")][_0x4b1c("0x7c1")]&&g.asset[_0x4b1c("0x569")]){var E=g[_0x4b1c("0x7c0")][_0x4b1c("0x7c1")];2.2==g[_0x4b1c("0x7c0")].version&&(g[_0x4b1c("0x7c0")].data=n.Base64[_0x4b1c("0x4b")](g[_0x4b1c("0x7c0")].data));var w=(0,a[_0x4b1c("0x4b")])(g.asset[_0x4b1c("0x569")],"ESMAPOK","GLTF");if(w[_0x4b1c("0x14c")]('\\"','"'),w=w.split(",").map((function(x){return 1*x})),g[_0x4b1c("0x7c2")][0][_0x4b1c("0x408")]=w,s=g[_0x4b1c("0x7c2")][0][_0x4b1c("0x408")][0],o=g[_0x4b1c("0x7c2")][0].nodes[1]){g[_0x4b1c("0x408")]||(g[_0x4b1c("0x408")]=[]),g.meshes||(g[_0x4b1c("0x101")]=[]),g[_0x4b1c("0x7c3")]||(g[_0x4b1c("0x7c3")]=[]),g[_0x4b1c("0x7c4")]||(g[_0x4b1c("0x7c4")]=[]),g[_0x4b1c("0x418")]||(g.buffers=[]),g.materials||(g.materials=[]),g.textures||(g.textures=[]),g.images||(g[_0x4b1c("0x7c5")]=[]),g[_0x4b1c("0x7c6")]||(g[_0x4b1c("0x7c6")]=[]);var T=(g[_0x4b1c("0x408")][_0x4b1c("0x0")]+1)*(g[_0x4b1c("0x101")].length+1)*(g[_0x4b1c("0x7c3")][_0x4b1c("0x0")]+1)*(g[_0x4b1c("0x7c4")][_0x4b1c("0x0")]+1)*(g[_0x4b1c("0x418")].length+1)*(g.materials.length+1)*(g.textures[_0x4b1c("0x0")]+1)*(g[_0x4b1c("0x7c5")][_0x4b1c("0x0")]+1)*(g[_0x4b1c("0x7c6")][_0x4b1c("0x0")]+1);if((T%=1e7)==s){var k=esmap.ESMapUtil[_0x4b1c("0x88")](o+esmap[_0x4b1c("0x87")].encode64(s+"ESMAP"));if(g[_0x4b1c("0x7c0")][_0x4b1c("0x1")]("b")){var S=g.asset.b,M=g[_0x4b1c("0x7c0")].mt||"";if(esmap[_0x4b1c("0x87")][_0x4b1c("0x88")]("ESMAPBID"+i)!=S)throw t+_0x4b1c("0x7c7")+g[_0x4b1c("0x7c0")].m+",请不要修改为其他mapId: "+i+_0x4b1c("0x7c8")+M;k=esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](k+S)}var R=k==E;if(k==E){if(g[_0x4b1c("0x7c0")][_0x4b1c("0x7c9")]=t,g[_0x4b1c("0x7ca")])for(var L=0;L<g[_0x4b1c("0x7ca")].length&&R;++L){var H=g[_0x4b1c("0x7ca")][L],O=g.extensionsRequired||[];switch(H){case b[_0x4b1c("0x7cb")]:y[H]=new l(g);break;case b[_0x4b1c("0x7cc")]:y[H]=new d(g);break;case b[_0x4b1c("0x7cd")]:y[H]=new A(g);break;case b[_0x4b1c("0x7ce")]:y[H]=new p(g,this[_0x4b1c("0x7b2")]);break;case b.MSFT_TEXTURE_DDS:y[b[_0x4b1c("0x7cf")]]=new r(g);break;case b[_0x4b1c("0x7d0")]:y[b.KHR_TEXTURE_TRANSFORM]=new m(g);break;default:O[_0x4b1c("0x114")](H)>=0&&_0x4b1c("0x7d1")}}if(R&&g[_0x4b1c("0x7c2")][0][_0x4b1c("0x408")][_0x4b1c("0x5")](0,2),2.2==g[_0x4b1c("0x7c0")][_0x4b1c("0x84")]){var P=o%100,N=o%50;f[_0x4b1c("0xdd")](g[_0x4b1c("0x7c0")].URL,[P,N])}var F=new U(g,y,{path:c||this[_0x4b1c("0x7b5")]||"",crossOrigin:this[_0x4b1c("0x7bb")],manager:this[_0x4b1c("0x756")]});if(g.ms&&g.ms[_0x4b1c("0x7c5")])for(var B=0;B<g.ms[_0x4b1c("0x7c5")][_0x4b1c("0x0")];B++){var z=g.ms.images[B];THREE.ESCache[_0x4b1c("0x7d2")][_0x4b1c("0xdb")](z.uri,z.t||0)}return F.parse((function(x,c,b,e,t){var i={scene:x,scenes:c,cameras:b,animations:e,asset:t[_0x4b1c("0x7c0")],parser:F,userData:{}};D(y,i,t),_(i)}),e),!0}}}}else esmap[_0x4b1c("0x288")].MODEL3D_ERROR}};var b={KHR_BINARY_GLTF:_0x4b1c("0x7d3"),KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:_0x4b1c("0x7d4"),KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:_0x4b1c("0x7d5")};function r(){if(!THREE[_0x4b1c("0x7d6")])throw new Error("GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this[_0x4b1c("0x1f7")]=b[_0x4b1c("0x7cf")],this[_0x4b1c("0x7d7")]=new THREE.DDSLoader}function l(x){this.name=b[_0x4b1c("0x7cb")];var c=x.extensions&&x[_0x4b1c("0x7d8")][b[_0x4b1c("0x7cb")]]||{};this[_0x4b1c("0x7d9")]=c[_0x4b1c("0x7da")]||[]}function d(x){this[_0x4b1c("0x1f7")]=b[_0x4b1c("0x7cc")]}l[_0x4b1c("0xf")][_0x4b1c("0x7db")]=function(x){var c,b=this[_0x4b1c("0x7d9")][x],_=new(THREE[_0x4b1c("0x146")])(16777215);void 0!==b[_0x4b1c("0x147")]&&_[_0x4b1c("0x40b")](b.color);var e=void 0!==b[_0x4b1c("0x543")]?b[_0x4b1c("0x543")]:0;switch(b[_0x4b1c("0x78")]){case _0x4b1c("0x7dc"):(c=new(THREE[_0x4b1c("0x7dd")])(_))[_0x4b1c("0x2c7")][_0x4b1c("0x105")][_0x4b1c("0xdb")](0,0,-1),c[_0x4b1c("0xdd")](c.target);break;case"point":(c=new THREE.PointLight(_))[_0x4b1c("0x23c")]=e;break;case _0x4b1c("0x7de"):(c=new THREE.SpotLight(_))[_0x4b1c("0x23c")]=e,b[_0x4b1c("0x7de")]=b[_0x4b1c("0x7de")]||{},b[_0x4b1c("0x7de")].innerConeAngle=void 0!==b[_0x4b1c("0x7de")].innerConeAngle?b[_0x4b1c("0x7de")].innerConeAngle:0,b[_0x4b1c("0x7de")][_0x4b1c("0x7df")]=void 0!==b[_0x4b1c("0x7de")][_0x4b1c("0x7df")]?b.spot.outerConeAngle:Math.PI/4,c.angle=b.spot[_0x4b1c("0x7df")],c[_0x4b1c("0x7e0")]=1-b.spot[_0x4b1c("0x7e1")]/b[_0x4b1c("0x7de")][_0x4b1c("0x7df")],c[_0x4b1c("0x2c7")].position.set(0,0,-1),c[_0x4b1c("0xdd")](c[_0x4b1c("0x2c7")]);break;default:throw new Error(_0x4b1c("0x7e2")+b.type+'".')}return c[_0x4b1c("0x7e3")]=2,void 0!==b.intensity&&(c[_0x4b1c("0x422")]=b[_0x4b1c("0x422")]),c.name=b[_0x4b1c("0x1f7")]||"light_"+x,i.default[_0x4b1c("0xdf")](c)},d[_0x4b1c("0xf")][_0x4b1c("0x7e4")]=function(x){return THREE[_0x4b1c("0x144")]},d[_0x4b1c("0xf")].extendParams=function(x,c,b){var _=[];x[_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(1,1,1),x.opacity=1;var e=c[_0x4b1c("0x7e5")];if(e){if(Array[_0x4b1c("0x32f")](e[_0x4b1c("0x7e6")])){var t=e.baseColorFactor;x[_0x4b1c("0x147")][_0x4b1c("0x40b")](t),x[_0x4b1c("0x129")]=t[3]}void 0!==e.baseColorTexture&&_[_0x4b1c("0x12")](b[_0x4b1c("0x7e7")](x,_0x4b1c("0x3e"),e[_0x4b1c("0x7e8")]))}return i[_0x4b1c("0xc")].all(_)};var u=_0x4b1c("0x7e9"),h=12,g={JSON:1313821514,BIN:5130562};function v(x){this[_0x4b1c("0x1f7")]=b[_0x4b1c("0x7bd")],this.content=null,this.body=null;var c=new DataView(x,0,h);if(this[_0x4b1c("0x7ea")]={magic:THREE[_0x4b1c("0x7b6")][_0x4b1c("0x7bc")](new Uint8Array(x.slice(0,4))),version:c[_0x4b1c("0x7eb")](4,!0),length:c[_0x4b1c("0x7eb")](8,!0)},this[_0x4b1c("0x7ea")][_0x4b1c("0x7ec")]!==u)throw new Error("GLTFLoader: Unsupported glTF-Binary header.");if(this[_0x4b1c("0x7ea")][_0x4b1c("0x84")]<2)throw new Error(_0x4b1c("0x7ed"));for(var _=new DataView(x,h),e=0;e<_.byteLength;){var t=_[_0x4b1c("0x7eb")](e,!0);e+=4;var i=_[_0x4b1c("0x7eb")](e,!0);if(e+=4,i===g.JSON){var a=new Uint8Array(x,h+e,t);this.content=THREE[_0x4b1c("0x7b6")][_0x4b1c("0x7bc")](a)}else if(i===g[_0x4b1c("0x7ee")]){var n=h+e;this[_0x4b1c("0x26")]=x[_0x4b1c("0x1e5")](n,n+t)}e+=t}if(null===this[_0x4b1c("0x7be")])throw new Error("GLTFLoader: JSON content not found.")}function p(x,c){if(!c)throw new Error(_0x4b1c("0x7ef"));this[_0x4b1c("0x1f7")]=b.KHR_DRACO_MESH_COMPRESSION,this[_0x4b1c("0xff")]=x,this.dracoLoader=c,THREE[_0x4b1c("0x754")][_0x4b1c("0x7a1")]()}function m(x){this[_0x4b1c("0x1f7")]=b[_0x4b1c("0x7d0")]}function A(){return{name:b[_0x4b1c("0x7cd")],specularGlossinessParams:[_0x4b1c("0x147"),"map",_0x4b1c("0x7f9"),_0x4b1c("0x7fa"),_0x4b1c("0x7fb"),_0x4b1c("0x7fc"),_0x4b1c("0x420"),_0x4b1c("0x421"),_0x4b1c("0x7fd"),_0x4b1c("0x7fe"),_0x4b1c("0x7ff"),"normalMap","displacementMap","displacementScale",_0x4b1c("0x800"),_0x4b1c("0x801"),_0x4b1c("0x802"),_0x4b1c("0x803"),"glossiness","alphaMap","envMap",_0x4b1c("0x804"),_0x4b1c("0x805")],getMaterialType:function(){return THREE[_0x4b1c("0x737")]},extendParams:function(x,c,b){var _=c[_0x4b1c("0x7d8")][this[_0x4b1c("0x1f7")]],e=THREE.ShaderLib[_0x4b1c("0x806")],t=THREE[_0x4b1c("0x738")][_0x4b1c("0x13e")](e[_0x4b1c("0x148")]),a=[_0x4b1c("0x807"),_0x4b1c("0x808"),"#endif"][_0x4b1c("0x4f1")]("\n"),n=[_0x4b1c("0x809"),"\tuniform sampler2D glossinessMap;",_0x4b1c("0x80a")][_0x4b1c("0x4f1")]("\n"),r=["vec3 specularFactor = specular;",_0x4b1c("0x807"),_0x4b1c("0x80b"),_0x4b1c("0x80c"),_0x4b1c("0x80d"),_0x4b1c("0x80e"),_0x4b1c("0x80a")][_0x4b1c("0x4f1")]("\n"),s=[_0x4b1c("0x80f"),_0x4b1c("0x809"),_0x4b1c("0x810"),"\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture",_0x4b1c("0x811"),_0x4b1c("0x80a")].join("\n"),o=[_0x4b1c("0x812"),_0x4b1c("0x813"),"material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"][_0x4b1c("0x4f1")]("\n"),f=e[_0x4b1c("0x150")][_0x4b1c("0x14c")](_0x4b1c("0x814"),_0x4b1c("0x815"))[_0x4b1c("0x14c")](_0x4b1c("0x816"),"uniform float glossiness;")[_0x4b1c("0x14c")](_0x4b1c("0x817"),a)[_0x4b1c("0x14c")](_0x4b1c("0x818"),n)[_0x4b1c("0x14c")](_0x4b1c("0x819"),r).replace(_0x4b1c("0x81a"),s)[_0x4b1c("0x14c")](_0x4b1c("0x81b"),o);delete t[_0x4b1c("0x143")],delete t.metalness,delete t[_0x4b1c("0x81c")],delete t.metalnessMap,t[_0x4b1c("0x802")]={value:(new(THREE[_0x4b1c("0x146")]))[_0x4b1c("0x81d")](1118481)},t[_0x4b1c("0x81e")]={value:.5},t[_0x4b1c("0x801")]={value:null},t[_0x4b1c("0x803")]={value:null},x[_0x4b1c("0x14a")]=e.vertexShader,x[_0x4b1c("0x150")]=f,x[_0x4b1c("0x148")]=t,x[_0x4b1c("0x739")]={STANDARD:""},x[_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(1,1,1),x[_0x4b1c("0x129")]=1;var l=[];if(Array[_0x4b1c("0x32f")](_.diffuseFactor)){var d=_[_0x4b1c("0x81f")];x.color.fromArray(d),x[_0x4b1c("0x129")]=d[3]}if(void 0!==_[_0x4b1c("0x820")]&&l[_0x4b1c("0x12")](b[_0x4b1c("0x7e7")](x,_0x4b1c("0x3e"),_[_0x4b1c("0x820")])),x[_0x4b1c("0x420")]=new(THREE[_0x4b1c("0x146")])(0,0,0),x[_0x4b1c("0x81e")]=void 0!==_.glossinessFactor?_.glossinessFactor:1,x.specular=new THREE.Color(1,1,1),Array[_0x4b1c("0x32f")](_.specularFactor)&&x[_0x4b1c("0x802")][_0x4b1c("0x40b")](_[_0x4b1c("0x821")]),void 0!==_[_0x4b1c("0x822")]){var u=_[_0x4b1c("0x822")];l.push(b[_0x4b1c("0x7e7")](x,"glossinessMap",u)),l[_0x4b1c("0x12")](b[_0x4b1c("0x7e7")](x,_0x4b1c("0x801"),u))}return i[_0x4b1c("0xc")][_0x4b1c("0x68a")](l)},createMaterial:function(x){var c=new(THREE[_0x4b1c("0x737")])({defines:x.defines,vertexShader:x[_0x4b1c("0x14a")],fragmentShader:x[_0x4b1c("0x150")],uniforms:x[_0x4b1c("0x148")],fog:!0,lights:!0,opacity:x[_0x4b1c("0x129")],transparent:x[_0x4b1c("0x145")]});return c.isGLTFSpecularGlossinessMaterial=!0,c.color=x[_0x4b1c("0x147")],c[_0x4b1c("0x3e")]=void 0===x[_0x4b1c("0x3e")]?null:x[_0x4b1c("0x3e")],c[_0x4b1c("0x7f9")]=null,c[_0x4b1c("0x7fa")]=1,c[_0x4b1c("0x7fb")]=void 0===x.aoMap?null:x[_0x4b1c("0x7fb")],c[_0x4b1c("0x7fc")]=1,c.emissive=x.emissive,c[_0x4b1c("0x421")]=1,c[_0x4b1c("0x7fd")]=void 0===x[_0x4b1c("0x7fd")]?null:x[_0x4b1c("0x7fd")],c[_0x4b1c("0x7fe")]=void 0===x[_0x4b1c("0x7fe")]?null:x[_0x4b1c("0x7fe")],c.bumpScale=1,c[_0x4b1c("0x823")]=void 0===x[_0x4b1c("0x823")]?null:x[_0x4b1c("0x823")],x[_0x4b1c("0x824")]&&(c[_0x4b1c("0x824")]=x[_0x4b1c("0x824")]),c.displacementMap=null,c[_0x4b1c("0x825")]=1,c.displacementBias=0,c[_0x4b1c("0x801")]=void 0===x[_0x4b1c("0x801")]?null:x[_0x4b1c("0x801")],c[_0x4b1c("0x802")]=x[_0x4b1c("0x802")],c[_0x4b1c("0x803")]=void 0===x.glossinessMap?null:x[_0x4b1c("0x803")],c[_0x4b1c("0x81e")]=x[_0x4b1c("0x81e")],c[_0x4b1c("0x826")]=null,c[_0x4b1c("0x827")]=void 0===x[_0x4b1c("0x827")]?null:x[_0x4b1c("0x827")],c[_0x4b1c("0x804")]=1,c[_0x4b1c("0x805")]=.98,c[_0x4b1c("0x7d8")][_0x4b1c("0x828")]=!0,c},cloneMaterial:function(x){var c=x.clone();c.isGLTFSpecularGlossinessMaterial=!0;for(var b=this[_0x4b1c("0x829")],_=0,e=b.length;_<e;_++)c[b[_]]=x[b[_]];return c},refreshUniforms:function(x,c,b,_,e,t){if(!0===e[_0x4b1c("0x82a")]){var i,a=e[_0x4b1c("0x148")],n=e[_0x4b1c("0x739")];a[_0x4b1c("0x129")][_0x4b1c("0x13a")]=e.opacity,a[_0x4b1c("0x82b")].value.copy(e[_0x4b1c("0x147")]),a[_0x4b1c("0x420")][_0x4b1c("0x13a")][_0x4b1c("0x20b")](e.emissive)[_0x4b1c("0x253")](e[_0x4b1c("0x421")]),a[_0x4b1c("0x3e")].value=e[_0x4b1c("0x3e")],a[_0x4b1c("0x801")][_0x4b1c("0x13a")]=e.specularMap,a[_0x4b1c("0x826")][_0x4b1c("0x13a")]=e[_0x4b1c("0x826")],a[_0x4b1c("0x7f9")].value=e[_0x4b1c("0x7f9")],a[_0x4b1c("0x7fa")][_0x4b1c("0x13a")]=e[_0x4b1c("0x7fa")],a.aoMap[_0x4b1c("0x13a")]=e[_0x4b1c("0x7fb")],a.aoMapIntensity.value=e[_0x4b1c("0x7fc")],e[_0x4b1c("0x3e")]?i=e[_0x4b1c("0x3e")]:e[_0x4b1c("0x801")]?i=e[_0x4b1c("0x801")]:e[_0x4b1c("0x82c")]?i=e.displacementMap:e[_0x4b1c("0x823")]?i=e[_0x4b1c("0x823")]:e[_0x4b1c("0x7fe")]?i=e[_0x4b1c("0x7fe")]:e.glossinessMap?i=e[_0x4b1c("0x803")]:e[_0x4b1c("0x826")]?i=e[_0x4b1c("0x826")]:e[_0x4b1c("0x7fd")]&&(i=e[_0x4b1c("0x7fd")]),void 0!==i&&(i[_0x4b1c("0x82d")]&&(i=i[_0x4b1c("0x61c")]),!0===i[_0x4b1c("0x82e")]&&i[_0x4b1c("0x40c")](),a.uvTransform[_0x4b1c("0x13a")][_0x4b1c("0x20b")](i[_0x4b1c("0x22d")])),e[_0x4b1c("0x827")]&&(a[_0x4b1c("0x827")][_0x4b1c("0x13a")]=e.envMap,a[_0x4b1c("0x804")][_0x4b1c("0x13a")]=e[_0x4b1c("0x804")],a[_0x4b1c("0x82f")][_0x4b1c("0x13a")]=e[_0x4b1c("0x827")][_0x4b1c("0x830")]?-1:1,a[_0x4b1c("0x831")][_0x4b1c("0x13a")]=e.reflectivity,a[_0x4b1c("0x805")][_0x4b1c("0x13a")]=e[_0x4b1c("0x805")],a[_0x4b1c("0x832")].value=x.properties[_0x4b1c("0xde")](e[_0x4b1c("0x827")])[_0x4b1c("0x833")]),a[_0x4b1c("0x802")][_0x4b1c("0x13a")][_0x4b1c("0x20b")](e[_0x4b1c("0x802")]),a.glossiness[_0x4b1c("0x13a")]=e[_0x4b1c("0x81e")],a[_0x4b1c("0x803")][_0x4b1c("0x13a")]=e.glossinessMap,a.emissiveMap[_0x4b1c("0x13a")]=e[_0x4b1c("0x7fd")],a[_0x4b1c("0x7fe")][_0x4b1c("0x13a")]=e.bumpMap,a[_0x4b1c("0x823")][_0x4b1c("0x13a")]=e[_0x4b1c("0x823")],a[_0x4b1c("0x82c")][_0x4b1c("0x13a")]=e.displacementMap,a[_0x4b1c("0x825")][_0x4b1c("0x13a")]=e[_0x4b1c("0x825")],a[_0x4b1c("0x800")][_0x4b1c("0x13a")]=e.displacementBias,null!==a[_0x4b1c("0x803")][_0x4b1c("0x13a")]&&void 0===n.USE_GLOSSINESSMAP&&(n[_0x4b1c("0x834")]="",n[_0x4b1c("0x835")]=""),null===a[_0x4b1c("0x803")].value&&void 0!==n[_0x4b1c("0x834")]&&(delete n[_0x4b1c("0x834")],delete n.USE_ROUGHNESSMAP)}}}}function y(x,c,b,_){THREE.Interpolant[_0x4b1c("0x2")](this,x,c,b,_)}p[_0x4b1c("0xf")][_0x4b1c("0x7f0")]=function(x,c){var b=this.json,_=this[_0x4b1c("0x7b2")],e=x[_0x4b1c("0x7d8")][this[_0x4b1c("0x1f7")]].bufferView,t=x[_0x4b1c("0x7d8")][this.name][_0x4b1c("0x104")],a={},n={},r={};for(var s in t)s in k&&(a[k[s]]=t[s]);for(s in x[_0x4b1c("0x104")])if(void 0!==k[s]&&void 0!==t[s]){var o=b[_0x4b1c("0x7c3")][x.attributes[s]],f=I[o[_0x4b1c("0x7f1")]];r[k[s]]=f,n[k[s]]=!0===o[_0x4b1c("0x7f2")]}return c[_0x4b1c("0x7f3")](_0x4b1c("0x7f4"),e)[_0x4b1c("0x323")]((function(x){return new(i[_0x4b1c("0xc")])((function(c){_[_0x4b1c("0x760")](x,(function(x){for(var b in x[_0x4b1c("0x104")]){var _=x.attributes[b],e=n[b];void 0!==e&&(_[_0x4b1c("0x7f2")]=e)}c(x)}),a,r)}))}))},m[_0x4b1c("0xf")][_0x4b1c("0x7f5")]=function(x,c){return x=x[_0x4b1c("0x13e")](),void 0!==c[_0x4b1c("0x158")]&&x[_0x4b1c("0x158")][_0x4b1c("0x40b")](c[_0x4b1c("0x158")]),void 0!==c[_0x4b1c("0x202")]&&(x.rotation=c[_0x4b1c("0x202")]),void 0!==c.scale&&x[_0x4b1c("0x157")][_0x4b1c("0x40b")](c[_0x4b1c("0x201")]),void 0!==c[_0x4b1c("0x7f6")]&&(_0x4b1c("0x7f7"),this[_0x4b1c("0x1f7")],_0x4b1c("0x7f8")),x[_0x4b1c("0x188")]=!0,x},y.prototype=(0,t[_0x4b1c("0xc")])(THREE[_0x4b1c("0x836")][_0x4b1c("0xf")]),y[_0x4b1c("0xf")][_0x4b1c("0x5f0")]=y,y[_0x4b1c("0xf")][_0x4b1c("0x837")]=function(x){for(var c=this[_0x4b1c("0x838")],b=this[_0x4b1c("0x839")],_=this[_0x4b1c("0x83a")],e=x*_*3+_,t=0;t!==_;t++)c[t]=b[e+t];return c},y[_0x4b1c("0xf")].beforeStart_=y[_0x4b1c("0xf")].copySampleValue_,y.prototype.afterEnd_=y[_0x4b1c("0xf")][_0x4b1c("0x837")],y.prototype[_0x4b1c("0x83b")]=function(x,c,b,_){for(var e=this.resultBuffer,t=this[_0x4b1c("0x839")],i=this[_0x4b1c("0x83a")],a=2*i,n=3*i,r=_-c,s=(b-c)/r,o=s*s,f=o*s,l=x*n,d=l-n,u=-2*f+3*o,h=f-o,g=1-u,v=h-o+s,p=0;p!==i;p++){var m=t[d+p+i],A=t[d+p+a]*r,y=t[l+p+i],C=t[l+p]*r;e[p]=g*m+v*A+u*y+h*C}return e};var C={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},I=(THREE[_0x4b1c("0x83c")],THREE[_0x4b1c("0x240")],THREE.Vector2,THREE[_0x4b1c("0x128")],THREE[_0x4b1c("0x83d")],THREE[_0x4b1c("0x35e")],{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),E={9728:THREE[_0x4b1c("0x561")],9729:THREE[_0x4b1c("0x35f")],9984:THREE[_0x4b1c("0x83e")],9985:THREE[_0x4b1c("0x83f")],9986:THREE[_0x4b1c("0x840")],9987:THREE.LinearMipMapLinearFilter},w={33071:THREE[_0x4b1c("0x841")],33648:THREE[_0x4b1c("0x842")],10497:THREE.RepeatWrapping},T=(THREE[_0x4b1c("0x843")],THREE[_0x4b1c("0x844")],THREE.NeverDepth,THREE[_0x4b1c("0x845")],THREE[_0x4b1c("0x846")],THREE[_0x4b1c("0x847")],THREE.GreaterEqualDepth,THREE.NotEqualDepth,THREE[_0x4b1c("0x848")],THREE[_0x4b1c("0x849")],THREE[_0x4b1c("0x84a")],THREE[_0x4b1c("0x84b")],THREE[_0x4b1c("0x84c")],THREE[_0x4b1c("0x84d")],THREE[_0x4b1c("0x84e")],THREE[_0x4b1c("0x84f")],THREE[_0x4b1c("0x850")],THREE.SrcAlphaFactor,THREE[_0x4b1c("0x851")],THREE[_0x4b1c("0x852")],THREE[_0x4b1c("0x853")],THREE.DstColorFactor,THREE[_0x4b1c("0x854")],THREE[_0x4b1c("0x855")],{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),k={POSITION:_0x4b1c("0x105"),NORMAL:_0x4b1c("0x140"),TEXCOORD_0:"uv",TEXCOORD_1:_0x4b1c("0x43d"),COLOR_0:_0x4b1c("0x147"),WEIGHTS_0:"skinWeight",JOINTS_0:_0x4b1c("0x856")},S={scale:"scale",translation:_0x4b1c("0x105"),rotation:_0x4b1c("0x20a"),weights:"morphTargetInfluences"},M={CUBICSPLINE:THREE.InterpolateSmooth,LINEAR:THREE[_0x4b1c("0x857")],STEP:THREE[_0x4b1c("0x858")]},R=(_0x4b1c("0x859"),_0x4b1c("0x85a"),_0x4b1c("0x85b"),{OPAQUE:_0x4b1c("0x41d"),MASK:"MASK",BLEND:_0x4b1c("0x859")}),L={"image/png":THREE[_0x4b1c("0x6fa")],"image/jpeg":THREE[_0x4b1c("0x85c")]};function H(x,c){return typeof x!==_0x4b1c("0xd")||""===x?"":/^(https?:)?\/\//i.test(x)||/^data:.*,.*$/i[_0x4b1c("0x2a")](x)||/^blob:.*$/i[_0x4b1c("0x2a")](x)?x:c+x}function D(x,c,b){for(var _ in b[_0x4b1c("0x7d8")])void 0===x[_]&&(c[_0x4b1c("0x165")][_0x4b1c("0x85d")]=c[_0x4b1c("0x165")][_0x4b1c("0x85d")]||{},c[_0x4b1c("0x165")].gltfExtensions[_]=b[_0x4b1c("0x7d8")][_])}function O(x,c){void 0!==c[_0x4b1c("0x85e")]&&((0,e[_0x4b1c("0xc")])(c[_0x4b1c("0x85e")])===_0x4b1c("0x1d")?x[_0x4b1c("0x165")]=c[_0x4b1c("0x85e")]:console[_0x4b1c("0x424")](_0x4b1c("0x85f")+c.extras))}function P(x,c){if(x[_0x4b1c("0x866")](),void 0!==c.weights)for(var b=0,_=c[_0x4b1c("0x867")][_0x4b1c("0x0")];b<_;b++)x[_0x4b1c("0x868")][b]=c[_0x4b1c("0x867")][b];if(c[_0x4b1c("0x85e")]&&Array[_0x4b1c("0x32f")](c[_0x4b1c("0x85e")].targetNames)){var e=c[_0x4b1c("0x85e")][_0x4b1c("0x869")];if(x[_0x4b1c("0x868")][_0x4b1c("0x0")]===e[_0x4b1c("0x0")]){x.morphTargetDictionary={};for(b=0,_=e[_0x4b1c("0x0")];b<_;b++)x[_0x4b1c("0x86a")][e[b]]=b}else _0x4b1c("0x86b")}}function N(x,c){if((0,_[_0x4b1c("0xc")])(x)[_0x4b1c("0x0")]!==(0,_.default)(c)[_0x4b1c("0x0")])return!1;for(var b in x)if(x[b]!==c[b])return!1;return!0}function F(x,c){if(x[_0x4b1c("0x0")]!==c[_0x4b1c("0x0")])return!1;for(var b=0,_=x[_0x4b1c("0x0")];b<_;b++)if(x[b]!==c[b])return!1;return!0}function B(x,c){for(var _=0,e=x.length;_<e;_++){var t=x[_];if(i=t[_0x4b1c("0x86c")],a=c,n=void 0,r=void 0,n=i.extensions?i[_0x4b1c("0x7d8")][b[_0x4b1c("0x7ce")]]:void 0,r=a[_0x4b1c("0x7d8")]?a[_0x4b1c("0x7d8")][b.KHR_DRACO_MESH_COMPRESSION]:void 0,n&&r?n[_0x4b1c("0x7f4")]===r[_0x4b1c("0x7f4")]&&N(n.attributes,r[_0x4b1c("0x104")]):i[_0x4b1c("0x793")]===a[_0x4b1c("0x793")]&&N(i.attributes,a[_0x4b1c("0x104")]))return t[_0x4b1c("0x86d")]}var i,a,n,r;return null}function z(x){if(x[_0x4b1c("0x870")]){for(var c=x.count,b=x.itemSize,_=x[_0x4b1c("0x439")][_0x4b1c("0x1e5")](0,c*b),e=0,t=0;e<c;++e)_[t++]=x[_0x4b1c("0x436")](e),b>=2&&(_[t++]=x[_0x4b1c("0x863")](e)),b>=3&&(_[t++]=x[_0x4b1c("0x864")](e)),b>=4&&(_[t++]=x[_0x4b1c("0x871")](e));return new THREE.BufferAttribute(_,b,x[_0x4b1c("0x7f2")])}return x[_0x4b1c("0x13e")]()}function U(x,b,_){this[_0x4b1c("0xff")]=x||{},this.extensions=b||{},this[_0x4b1c("0x47")]=_||{},this[_0x4b1c("0x873")]=new c,this[_0x4b1c("0x874")]=[],this[_0x4b1c("0x875")]=[],this[_0x4b1c("0x876")]=[],this[_0x4b1c("0x877")]=new THREE.TextureLoader(this[_0x4b1c("0x47")][_0x4b1c("0x756")]),this.textureLoader.setCrossOrigin(this[_0x4b1c("0x47")][_0x4b1c("0x7bb")]),this[_0x4b1c("0x878")]=new THREE.FileLoader(this[_0x4b1c("0x47")].manager),this.fileLoader[_0x4b1c("0x75f")]("arraybuffer")}function V(x,c,b){var _=c[_0x4b1c("0x104")],e=[];function t(c,_){return b[_0x4b1c("0x7f3")](_0x4b1c("0x860"),c).then((function(c){x.addAttribute(_,c)}))}for(var a in _){var n=k[a];n&&(n in x.attributes||e[_0x4b1c("0x12")](t(_[a],n)))}if(void 0!==c[_0x4b1c("0x793")]&&!x.index){var r=b[_0x4b1c("0x7f3")](_0x4b1c("0x860"),c[_0x4b1c("0x793")])[_0x4b1c("0x323")]((function(c){x[_0x4b1c("0x43e")](c)}));e[_0x4b1c("0x12")](r)}return O(x,c),i[_0x4b1c("0xc")][_0x4b1c("0x68a")](e)[_0x4b1c("0x323")]((function(){return void 0!==c[_0x4b1c("0x872")]?function(x,c,b){for(var _=!1,e=!1,t=0,a=c.length;t<a&&(void 0!==(s=c[t])[_0x4b1c("0x781")]&&(_=!0),void 0!==s[_0x4b1c("0x38f")]&&(e=!0),!_||!e);t++);if(!_&&!e)return i[_0x4b1c("0xc")][_0x4b1c("0xdf")](x);var n=[],r=[];for(t=0,a=c[_0x4b1c("0x0")];t<a;t++){var s=c[t];if(_){var o=void 0!==s[_0x4b1c("0x781")]?b[_0x4b1c("0x7f3")](_0x4b1c("0x860"),s.POSITION)[_0x4b1c("0x323")]((function(x){return z(x)})):x.attributes[_0x4b1c("0x105")];n[_0x4b1c("0x12")](o)}e&&(o=void 0!==s[_0x4b1c("0x38f")]?b.getDependency("accessor",s[_0x4b1c("0x38f")])[_0x4b1c("0x323")]((function(x){return z(x)})):x[_0x4b1c("0x104")][_0x4b1c("0x140")],r.push(o))}return i[_0x4b1c("0xc")][_0x4b1c("0x68a")]([i[_0x4b1c("0xc")].all(n),i.default.all(r)])[_0x4b1c("0x323")]((function(b){for(var t=b[0],i=b[1],a=0,n=c[_0x4b1c("0x0")];a<n;a++){var r=c[a],s=_0x4b1c("0x861")+a;if(_&&void 0!==r[_0x4b1c("0x781")]){var o=t[a];o[_0x4b1c("0x1f7")]=s;for(var f=x[_0x4b1c("0x104")].position,l=0,d=o[_0x4b1c("0x106")];l<d;l++)o[_0x4b1c("0x862")](l,o.getX(l)+f.getX(l),o[_0x4b1c("0x863")](l)+f.getY(l),o[_0x4b1c("0x864")](l)+f.getZ(l))}if(e&&void 0!==r[_0x4b1c("0x38f")]){var u=i[a];u[_0x4b1c("0x1f7")]=s;var h=x.attributes.normal;for(l=0,d=u[_0x4b1c("0x106")];l<d;l++)u[_0x4b1c("0x862")](l,u.getX(l)+h[_0x4b1c("0x436")](l),u[_0x4b1c("0x863")](l)+h.getY(l),u.getZ(l)+h[_0x4b1c("0x864")](l))}}return _&&(x.morphAttributes[_0x4b1c("0x105")]=t),e&&(x[_0x4b1c("0x865")][_0x4b1c("0x140")]=i),x}))}(x,c[_0x4b1c("0x872")],b):x}))}return U[_0x4b1c("0xf")].parse=function(x,c){var b=this[_0x4b1c("0xff")];this.cache[_0x4b1c("0x7b4")](),this.markDefs(),this[_0x4b1c("0x879")]([_0x4b1c("0x102"),_0x4b1c("0x87a"),_0x4b1c("0x658")])[_0x4b1c("0x323")]((function(c){var _=c[_0x4b1c("0x7c2")]||[],e=_[b[_0x4b1c("0x102")]||0],t=c.animations||[],i=c[_0x4b1c("0x87b")]||[];x(e,_,i,t,b)}))[_0x4b1c("0x87c")](c)},U[_0x4b1c("0xf")][_0x4b1c("0x87d")]=function(){for(var x=this[_0x4b1c("0xff")][_0x4b1c("0x408")]||[],c=this.json[_0x4b1c("0x87e")]||[],b=this[_0x4b1c("0xff")].meshes||[],_={},e={},t=0,i=c[_0x4b1c("0x0")];t<i;t++)for(var a=c[t][_0x4b1c("0x87f")],n=0,r=a.length;n<r;n++)x[a[n]][_0x4b1c("0x880")]=!0;for(var s=0,o=x[_0x4b1c("0x0")];s<o;s++){var f=x[s];void 0!==f.mesh&&(void 0===_[f.mesh]&&(_[f[_0x4b1c("0x452")]]=e[f[_0x4b1c("0x452")]]=0),_[f[_0x4b1c("0x452")]]++,void 0!==f[_0x4b1c("0x881")]&&(b[f[_0x4b1c("0x452")]][_0x4b1c("0x882")]=!0))}this[_0x4b1c("0xff")][_0x4b1c("0x883")]=_,this[_0x4b1c("0xff")][_0x4b1c("0x884")]=e},U.prototype[_0x4b1c("0x7f3")]=function(x,c,_,e){var t=x+":"+c,i=this[_0x4b1c("0x873")][_0x4b1c("0xde")](t);if(!i){switch(x){case _0x4b1c("0x102"):i=this[_0x4b1c("0x885")](c);break;case _0x4b1c("0x886"):i=this[_0x4b1c("0x887")](c);break;case"mesh":i=this[_0x4b1c("0x888")](c);break;case _0x4b1c("0x860"):i=this[_0x4b1c("0x889")](c);break;case _0x4b1c("0x7f4"):i=this[_0x4b1c("0x88a")](c);break;case"buffer":i=this[_0x4b1c("0x88b")](c);break;case _0x4b1c("0xf4"):i=this[_0x4b1c("0x88c")](c);break;case _0x4b1c("0x61c"):i=this.loadTexture(c);break;case _0x4b1c("0x881"):i=this.loadSkin(c);break;case"animation":i=this.loadAnimation(c);break;case _0x4b1c("0x658"):i=this[_0x4b1c("0x88d")](c);break;case"light":i=this[_0x4b1c("0x7d8")][b[_0x4b1c("0x7cb")]][_0x4b1c("0x7db")](c);break;default:throw new Error(_0x4b1c("0x88e")+x)}this.cache[_0x4b1c("0xdd")](t,i)}return i},U[_0x4b1c("0xf")].getDependencies=function(x){var c=this[_0x4b1c("0x873")][_0x4b1c("0xde")](x);if(!c){var b=this,_=this.json[x+(x===_0x4b1c("0x452")?"es":"s")]||[];c=i.default[_0x4b1c("0x68a")](_[_0x4b1c("0x3e")]((function(c,_){return b[_0x4b1c("0x7f3")](x,_)}))),this[_0x4b1c("0x873")][_0x4b1c("0xdd")](x,c)}return c},U[_0x4b1c("0xf")][_0x4b1c("0x879")]=function(x){for(var c={},b=[],_=0,e=x.length;_<e;_++){var t=x[_],a=this.getDependencies(t);a=a.then(function(x,b){c[x]=b}[_0x4b1c("0xe")](this,t+(t===_0x4b1c("0x452")?"es":"s"))),b[_0x4b1c("0x12")](a)}return i[_0x4b1c("0xc")][_0x4b1c("0x68a")](b)[_0x4b1c("0x323")]((function(){return c}))},U[_0x4b1c("0xf")].loadBuffer=function(x){var c=this.json[_0x4b1c("0x418")][x],_=H(c.uri,this[_0x4b1c("0x47")][_0x4b1c("0x2c2")]);THREE[_0x4b1c("0x88f")][_0x4b1c("0x7d2")][_0x4b1c("0xdb")](_,c.t||0);var e=this[_0x4b1c("0x878")];if(c[_0x4b1c("0x78")]&&c[_0x4b1c("0x78")]!==_0x4b1c("0x492"))throw new Error("GLTFLoader: "+c[_0x4b1c("0x78")]+_0x4b1c("0x890"));return void 0===c[_0x4b1c("0x419")]&&0===x?i[_0x4b1c("0xc")][_0x4b1c("0xdf")](this[_0x4b1c("0x7d8")][b[_0x4b1c("0x7bd")]].body):new(i[_0x4b1c("0xc")])((function(x,b){e.load(_,x,void 0,(function(){b(new Error(_0x4b1c("0x891")+c[_0x4b1c("0x419")]+'".'))}))}))},U[_0x4b1c("0xf")][_0x4b1c("0x88a")]=function(x){var c=this[_0x4b1c("0xff")].bufferViews[x],b=this;return this[_0x4b1c("0x7f3")]("buffer",c.buffer)[_0x4b1c("0x323")]((function(_){b[_0x4b1c("0xff")][_0x4b1c("0x7c0")][_0x4b1c("0x7c1")];var e=f[_0x4b1c("0xde")](b[_0x4b1c("0xff")][_0x4b1c("0x7c0")][_0x4b1c("0x7c9")]);if(e)var t=(c[_0x4b1c("0x765")]-x-1)/(e[1]+1)||0,i=(c[_0x4b1c("0x892")]-x)/(e[0]+1)||0;else t=c.byteLength||0,i=c[_0x4b1c("0x892")]||0;return _[_0x4b1c("0x1e5")](i,i+t)}))},U.prototype[_0x4b1c("0x889")]=function(x){var c=this,b=this[_0x4b1c("0xff")],_=this.json[_0x4b1c("0x7c3")][x];if(void 0===_[_0x4b1c("0x7f4")]&&void 0===_[_0x4b1c("0x893")])return i.default[_0x4b1c("0xdf")](null);var e=[];return void 0!==_[_0x4b1c("0x7f4")]?e[_0x4b1c("0x12")](this.getDependency("bufferView",_[_0x4b1c("0x7f4")])):e[_0x4b1c("0x12")](null),void 0!==_.sparse&&(e.push(this.getDependency(_0x4b1c("0x7f4"),_.sparse.indices[_0x4b1c("0x7f4")])),e[_0x4b1c("0x12")](this[_0x4b1c("0x7f3")]("bufferView",_[_0x4b1c("0x893")].values[_0x4b1c("0x7f4")]))),i[_0x4b1c("0xc")][_0x4b1c("0x68a")](e)[_0x4b1c("0x323")]((function(x){try{var e,t,i=x[0],a=T[_.type],n=I[_[_0x4b1c("0x7f1")]],r=n[_0x4b1c("0x894")],s=r*a,o=_.byteOffset||0,f=void 0!==_[_0x4b1c("0x7f4")]?b.bufferViews[_[_0x4b1c("0x7f4")]].byteStride:void 0,l=!0===_.normalized;if(f&&f!==s){var d=_0x4b1c("0x895")+_[_0x4b1c("0x7f4")]+":"+_[_0x4b1c("0x7f1")],u=c[_0x4b1c("0x873")].get(d);u||(e=new n(i),u=new(THREE[_0x4b1c("0x896")])(e,f/r),c[_0x4b1c("0x873")][_0x4b1c("0xdd")](d,u)),t=new THREE.InterleavedBufferAttribute(u,a,o/r,l)}else e=null===i?new n(_[_0x4b1c("0x106")]*a):new n(i,o,_[_0x4b1c("0x106")]*a),t=new(THREE[_0x4b1c("0x43b")])(e,a,l);if(void 0!==_.sparse){var h=T[_0x4b1c("0x897")],g=I[_[_0x4b1c("0x893")].indices[_0x4b1c("0x7f1")]],v=_[_0x4b1c("0x893")][_0x4b1c("0x793")][_0x4b1c("0x892")]||0,p=_[_0x4b1c("0x893")][_0x4b1c("0xe6")][_0x4b1c("0x892")]||0,m=new g(x[1],v,_[_0x4b1c("0x893")][_0x4b1c("0x106")]*h),A=new n(x[2],p,_[_0x4b1c("0x893")][_0x4b1c("0x106")]*a);null!==i&&t[_0x4b1c("0x898")](t.array[_0x4b1c("0x1e5")]());for(var y=0,C=m[_0x4b1c("0x0")];y<C;y++){var E=m[y];if(t[_0x4b1c("0x53a")](E,A[y*a]),a>=2&&t[_0x4b1c("0x899")](E,A[y*a+1]),a>=3&&t.setZ(E,A[y*a+2]),a>=4&&t[_0x4b1c("0x89a")](E,A[y*a+3]),a>=5)throw new Error(_0x4b1c("0x89b"))}}return t}catch(x){throw _0x4b1c("0x89c")}}))},U[_0x4b1c("0xf")][_0x4b1c("0x696")]=function(x){var c,_=this,e=this[_0x4b1c("0xff")],t=this[_0x4b1c("0x877")],a=window[_0x4b1c("0x7c9")]||window.webkitURL,n=e.textures[x],r=e[_0x4b1c("0x7c5")][x],s=n[_0x4b1c("0x7d8")]||{},o=(c=s[b[_0x4b1c("0x7cf")]]?e[_0x4b1c("0x7c5")][s[b[_0x4b1c("0x7cf")]].source]:e.images[n[_0x4b1c("0x89d")]]).uri,f=!1,l=H(o,this[_0x4b1c("0x47")][_0x4b1c("0x2c2")]);return r&&THREE[_0x4b1c("0x88f")][_0x4b1c("0x7d2")][_0x4b1c("0xdb")](l,r.t||0),void 0!==c.bufferView&&(o=_[_0x4b1c("0x7f3")](_0x4b1c("0x7f4"),c[_0x4b1c("0x7f4")]).then((function(x){f=!0;var b=new Blob([x],{type:c.mimeType});return o=a[_0x4b1c("0x89e")](b)}))),i[_0x4b1c("0xc")][_0x4b1c("0xdf")](o)[_0x4b1c("0x323")]((function(x){var c=THREE[_0x4b1c("0x89f")][_0x4b1c("0x8a0")][_0x4b1c("0xde")](x);return c||(c=s[b.MSFT_TEXTURE_DDS]?_[_0x4b1c("0x7d8")][b[_0x4b1c("0x7cf")]][_0x4b1c("0x7d7")]:t),new i.default((function(x,b){c[_0x4b1c("0x187")](l,x,void 0,b)}))}))[_0x4b1c("0x323")]((function(x){!0===f&&a[_0x4b1c("0x8a1")](o),x[_0x4b1c("0x8a2")]=!1,void 0!==n.name&&(x[_0x4b1c("0x1f7")]=n[_0x4b1c("0x1f7")]),c[_0x4b1c("0x8a3")]in L&&(x[_0x4b1c("0x8a4")]=L[c[_0x4b1c("0x8a3")]]);var b=(e.samplers||{})[n[_0x4b1c("0x8a5")]]||{};return x[_0x4b1c("0x8a6")]=E[b[_0x4b1c("0x8a6")]]||THREE.LinearFilter,x[_0x4b1c("0x18a")]=E[b[_0x4b1c("0x18a")]]||THREE[_0x4b1c("0x18b")],x[_0x4b1c("0x8a7")]=w[b[_0x4b1c("0x8a7")]]||THREE[_0x4b1c("0x18d")],x.wrapT=w[b[_0x4b1c("0x18c")]]||THREE[_0x4b1c("0x18d")],x}))},U[_0x4b1c("0xf")][_0x4b1c("0x7e7")]=function(x,c,_){var e=this;return this[_0x4b1c("0x7f3")]("texture",_[_0x4b1c("0x2cd")])[_0x4b1c("0x323")]((function(t){if(e[_0x4b1c("0x7d8")][b[_0x4b1c("0x7d0")]]){var i=void 0!==_[_0x4b1c("0x7d8")]?_[_0x4b1c("0x7d8")][b[_0x4b1c("0x7d0")]]:void 0;i&&(t=e[_0x4b1c("0x7d8")][b[_0x4b1c("0x7d0")]][_0x4b1c("0x7f5")](t,i))}x[c]=t}))},U[_0x4b1c("0xf")][_0x4b1c("0x88c")]=function(x){var c,_=this,e=this.json,t=this[_0x4b1c("0x7d8")],a=e[_0x4b1c("0x100")][x],n={},r=a[_0x4b1c("0x7d8")]||{},s=[];if(r[b[_0x4b1c("0x7cd")]]){var o=t[b[_0x4b1c("0x7cd")]];c=o[_0x4b1c("0x7e4")](a),s[_0x4b1c("0x12")](o[_0x4b1c("0x8a8")](n,a,_))}else if(r[b[_0x4b1c("0x7cc")]]){var f=t[b.KHR_MATERIALS_UNLIT];c=f[_0x4b1c("0x7e4")](a),s.push(f[_0x4b1c("0x8a8")](n,a,_))}else{c=THREE[_0x4b1c("0x141")];var l=a[_0x4b1c("0x7e5")]||{};if(n[_0x4b1c("0x147")]=new THREE.Color(1,1,1),n[_0x4b1c("0x129")]=1,Array.isArray(l[_0x4b1c("0x7e6")])){var d=l[_0x4b1c("0x7e6")];n[_0x4b1c("0x147")][_0x4b1c("0x40b")](d),n.opacity=d[3]}void 0!==l[_0x4b1c("0x7e8")]&&s.push(_[_0x4b1c("0x7e7")](n,"map",l.baseColorTexture)),n[_0x4b1c("0x142")]=void 0!==l[_0x4b1c("0x8a9")]?l[_0x4b1c("0x8a9")]:1,n.roughness=void 0!==l[_0x4b1c("0x8aa")]?l[_0x4b1c("0x8aa")]:1,void 0!==l[_0x4b1c("0x8ab")]&&(s[_0x4b1c("0x12")](_[_0x4b1c("0x7e7")](n,_0x4b1c("0x8ac"),l[_0x4b1c("0x8ab")])),s[_0x4b1c("0x12")](_[_0x4b1c("0x7e7")](n,_0x4b1c("0x81c"),l[_0x4b1c("0x8ab")])))}!0===a[_0x4b1c("0x8ad")]&&(n.side=THREE[_0x4b1c("0x15c")]);var u=a[_0x4b1c("0x41c")]||R.OPAQUE;return u===R[_0x4b1c("0x859")]?n.transparent=!0:(n[_0x4b1c("0x145")]=!1,u===R[_0x4b1c("0x8ae")]&&(n[_0x4b1c("0x574")]=void 0!==a.alphaCutoff?a[_0x4b1c("0x8af")]:.5)),void 0!==a.normalTexture&&c!==THREE.MeshBasicMaterial&&(s[_0x4b1c("0x12")](_.assignTexture(n,_0x4b1c("0x823"),a.normalTexture)),n[_0x4b1c("0x824")]=new(THREE[_0x4b1c("0x552")])(1,1),void 0!==a.normalTexture[_0x4b1c("0x201")]&&n.normalScale[_0x4b1c("0xdb")](a[_0x4b1c("0x8b0")][_0x4b1c("0x201")],a.normalTexture[_0x4b1c("0x201")])),void 0!==a[_0x4b1c("0x8b1")]&&c!==THREE[_0x4b1c("0x144")]&&(s[_0x4b1c("0x12")](_[_0x4b1c("0x7e7")](n,_0x4b1c("0x7fb"),a.occlusionTexture)),void 0!==a[_0x4b1c("0x8b1")].strength&&(n[_0x4b1c("0x7fc")]=a[_0x4b1c("0x8b1")][_0x4b1c("0x8b2")])),void 0!==a[_0x4b1c("0x8b3")]&&c!==THREE[_0x4b1c("0x144")]&&(n[_0x4b1c("0x420")]=(new(THREE[_0x4b1c("0x146")])).fromArray(a[_0x4b1c("0x8b3")])),void 0!==a[_0x4b1c("0x8b4")]&&c!==THREE[_0x4b1c("0x144")]&&s[_0x4b1c("0x12")](_[_0x4b1c("0x7e7")](n,_0x4b1c("0x7fd"),a.emissiveTexture)),i[_0x4b1c("0xc")][_0x4b1c("0x68a")](s)[_0x4b1c("0x323")]((function(){var x;return x=c===THREE[_0x4b1c("0x737")]?t[b[_0x4b1c("0x7cd")]][_0x4b1c("0x46d")](n):new c(n),void 0!==a[_0x4b1c("0x1f7")]&&(x[_0x4b1c("0x1f7")]=a[_0x4b1c("0x1f7")]),x[_0x4b1c("0x824")]&&(x.normalScale.y=-x[_0x4b1c("0x824")].y),x.map&&(x.map[_0x4b1c("0x8b5")]=THREE.sRGBEncoding),x[_0x4b1c("0x7fd")]&&(x.emissiveMap[_0x4b1c("0x8b5")]=THREE.sRGBEncoding),x.specularMap&&(x[_0x4b1c("0x801")][_0x4b1c("0x8b5")]=THREE[_0x4b1c("0x8b6")]),O(x,a),a.extensions&&D(t,x,a),x}))},U[_0x4b1c("0xf")][_0x4b1c("0x8b7")]=function(x){var c,_=this,e=this[_0x4b1c("0x7d8")],t=this[_0x4b1c("0x874")],a=function(x){if(x[_0x4b1c("0x0")]<2)return!1;var c=x[0],_=c[_0x4b1c("0x872")]||[];if(void 0===c[_0x4b1c("0x793")])return!1;for(var e=1,t=x[_0x4b1c("0x0")];e<t;e++){var i=x[e];if(c[_0x4b1c("0x3b")]!==i[_0x4b1c("0x3b")])return!1;if(void 0===i[_0x4b1c("0x793")])return!1;if(i[_0x4b1c("0x7d8")]&&i[_0x4b1c("0x7d8")][b[_0x4b1c("0x7ce")]])return!1;if(!N(c[_0x4b1c("0x104")],i[_0x4b1c("0x104")]))return!1;var a=i.targets||[];if(_[_0x4b1c("0x0")]!==a[_0x4b1c("0x0")])return!1;for(var n=0,r=_.length;n<r;n++)if(!N(_[n],a[n]))return!1}return!0}(x);function n(x){return e[b[_0x4b1c("0x7ce")]][_0x4b1c("0x7f0")](x,_)[_0x4b1c("0x323")]((function(c){return V(c,x,_)}))}a&&(c=x,x=[x[0]]);for(var r=[],s=0,o=x.length;s<o;s++){var f,l=x[s],d=B(t,l);if(d)r[_0x4b1c("0x12")](d);else f=l.extensions&&l.extensions[b[_0x4b1c("0x7ce")]]?n(l):V(new(THREE[_0x4b1c("0x581")]),l,_),t[_0x4b1c("0x12")]({primitive:l,promise:f}),r.push(f)}return i[_0x4b1c("0xc")][_0x4b1c("0x68a")](r)[_0x4b1c("0x323")]((function(b){if(a){var e=b[0];if(null!==(l=function(x,c,b){for(var _=0,e=x.length;_<e;_++){var t=x[_];if(c===t.baseGeometry&&F(b,t[_0x4b1c("0x86f")]))return t[_0x4b1c("0xf2")]}return null}(f=_[_0x4b1c("0x876")],e,c)))return[l[_0x4b1c("0xf2")]];var t=new THREE.BufferGeometry;for(var n in t.name=e[_0x4b1c("0x1f7")],t[_0x4b1c("0x165")]=e[_0x4b1c("0x165")],e.attributes)t[_0x4b1c("0x43c")](n,e.attributes[n]);for(var n in e[_0x4b1c("0x865")])t[_0x4b1c("0x865")][n]=e[_0x4b1c("0x865")][n];for(var r=[],s=0,o=c.length;s<o;s++)r[_0x4b1c("0x12")](_[_0x4b1c("0x7f3")](_0x4b1c("0x860"),c[s].indices));return i.default[_0x4b1c("0x68a")](r).then((function(x){for(var b=[],_=0,i=0,a=c[_0x4b1c("0x0")];i<a;i++){for(var n=x[i],r=0,s=n[_0x4b1c("0x106")];r<s;r++)b[_0x4b1c("0x12")](n[_0x4b1c("0x439")][r]);t[_0x4b1c("0x180")](_,n.count,i),_+=n[_0x4b1c("0x106")]}return t[_0x4b1c("0x43e")](b),f[_0x4b1c("0x12")]({geometry:t,baseGeometry:e,primitives:c}),[t]}))}if(b[_0x4b1c("0x0")]>1&&void 0!==THREE[_0x4b1c("0x43a")]){for(s=1,o=x[_0x4b1c("0x0")];s<o;s++)if(x[0][_0x4b1c("0x3b")]!==x[s][_0x4b1c("0x3b")])return b;var f,l;if(l=function(x,c){for(var b=0,_=x[_0x4b1c("0x0")];b<_;b++){var e=x[b];if(F(c,e[_0x4b1c("0x86e")]))return e.geometry}return null}(f=_[_0x4b1c("0x875")],b)){if(null!==l[_0x4b1c("0xf2")])return[l[_0x4b1c("0xf2")]]}else{t=THREE[_0x4b1c("0x43a")].mergeBufferGeometries(b,!0);if(f[_0x4b1c("0x12")]({geometry:t,baseGeometries:b}),null!==t)return[t]}}return b}))},U[_0x4b1c("0xf")][_0x4b1c("0x888")]=function(x){for(var c=this,e=this[_0x4b1c("0xff")],t=this.extensions,a=e.meshes[x],n=a[_0x4b1c("0x86f")],r=[],s=0,o=n[_0x4b1c("0x0")];s<o;s++){var f=void 0===n[s].material?new(THREE[_0x4b1c("0x141")])({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE[_0x4b1c("0x844")]}):this.getDependency("material",n[s][_0x4b1c("0xf4")]);r[_0x4b1c("0x12")](f)}return i[_0x4b1c("0xc")].all(r)[_0x4b1c("0x323")]((function(e){return c.loadGeometries(n)[_0x4b1c("0x323")]((function(i){for(var r=1===i.length&&i[0][_0x4b1c("0x446")].length>0,s=[],o=0,f=i[_0x4b1c("0x0")];o<f;o++){var l,d=i[o],u=n[o],h=r?e:e[o];if(u[_0x4b1c("0x3b")]===C[_0x4b1c("0x8b8")]||u[_0x4b1c("0x3b")]===C[_0x4b1c("0x8b9")]||u[_0x4b1c("0x3b")]===C[_0x4b1c("0x8ba")]||void 0===u[_0x4b1c("0x3b")])!0===(l=!0===a[_0x4b1c("0x882")]?new(THREE[_0x4b1c("0x8bb")])(d,h):new(THREE[_0x4b1c("0x197")])(d,h))[_0x4b1c("0x882")]&&l[_0x4b1c("0x8bc")](),u.mode===C[_0x4b1c("0x8b9")]?l[_0x4b1c("0x759")]=THREE.TriangleStripDrawMode:u[_0x4b1c("0x3b")]===C.TRIANGLE_FAN&&(l.drawMode=THREE[_0x4b1c("0x8bd")]);else if(u.mode===C[_0x4b1c("0x8be")])l=new THREE.LineSegments(d,h);else if(u[_0x4b1c("0x3b")]===C[_0x4b1c("0x8bf")])l=new THREE.Line(d,h);else if(u[_0x4b1c("0x3b")]===C.LINE_LOOP)l=new(THREE[_0x4b1c("0x8c0")])(d,h);else{if(u[_0x4b1c("0x3b")]!==C[_0x4b1c("0x8c1")])throw new Error(_0x4b1c("0x8c3")+u[_0x4b1c("0x3b")]);l=new(THREE[_0x4b1c("0x8c2")])(d,h)}(0,_[_0x4b1c("0xc")])(l[_0x4b1c("0xf2")].morphAttributes)[_0x4b1c("0x0")]>0&&P(l,a),l.name=a[_0x4b1c("0x1f7")]||_0x4b1c("0x8c4")+x,i.length>1&&(l[_0x4b1c("0x1f7")]+="_"+o),O(l,a),s.push(l);for(var g=r?l[_0x4b1c("0xf4")]:[l.material],v=void 0!==d[_0x4b1c("0x104")][_0x4b1c("0x147")],p=void 0===d[_0x4b1c("0x104")][_0x4b1c("0x140")],m=!0===l.isSkinnedMesh,A=(0,_[_0x4b1c("0xc")])(d[_0x4b1c("0x865")])[_0x4b1c("0x0")]>0,y=A&&void 0!==d.morphAttributes[_0x4b1c("0x140")],I=0,E=g.length;I<E;I++){h=g[I];if(l[_0x4b1c("0x8c5")]){var w=_0x4b1c("0x8c6")+h.uuid,T=c[_0x4b1c("0x873")].get(w);T||(T=new(THREE[_0x4b1c("0x8c7")]),THREE.Material[_0x4b1c("0xf")][_0x4b1c("0x20b")][_0x4b1c("0x2")](T,h),T[_0x4b1c("0x147")].copy(h[_0x4b1c("0x147")]),T[_0x4b1c("0x3e")]=h[_0x4b1c("0x3e")],T[_0x4b1c("0x7da")]=!1,c.cache[_0x4b1c("0xdd")](w,T)),h=T}else if(l[_0x4b1c("0x8c8")]){w=_0x4b1c("0x8c9")+h[_0x4b1c("0x195")];var k=c[_0x4b1c("0x873")][_0x4b1c("0xde")](w);k||(k=new THREE.LineBasicMaterial,THREE[_0x4b1c("0x8ca")].prototype[_0x4b1c("0x20b")][_0x4b1c("0x2")](k,h),k[_0x4b1c("0x147")][_0x4b1c("0x20b")](h[_0x4b1c("0x147")]),k.lights=!1,c[_0x4b1c("0x873")].add(w,k)),h=k}if(v||p||m||A){w=_0x4b1c("0x8cb")+h.uuid+":";h[_0x4b1c("0x82a")]&&(w+=_0x4b1c("0x8cc")),m&&(w+=_0x4b1c("0x8cd")),v&&(w+=_0x4b1c("0x8ce")),p&&(w+=_0x4b1c("0x8cf")),A&&(w+=_0x4b1c("0x8d0")),y&&(w+=_0x4b1c("0x8d1"));var S=c.cache[_0x4b1c("0xde")](w);S||(S=h[_0x4b1c("0x82a")]?t[b[_0x4b1c("0x7cd")]].cloneMaterial(h):h.clone(),m&&(S.skinning=!0),v&&(S.vertexColors=THREE[_0x4b1c("0x8d2")]),p&&(S[_0x4b1c("0x8d3")]=!0),A&&(S[_0x4b1c("0x8d4")]=!0),y&&(S.morphNormals=!0),c[_0x4b1c("0x873")][_0x4b1c("0xdd")](w,S)),h=S}g[I]=h,h.aoMap&&void 0===d[_0x4b1c("0x104")][_0x4b1c("0x43d")]&&void 0!==d[_0x4b1c("0x104")].uv&&d.addAttribute("uv2",new(THREE[_0x4b1c("0x43b")])(d[_0x4b1c("0x104")].uv[_0x4b1c("0x439")],2)),h.isGLTFSpecularGlossinessMaterial&&(l.onBeforeRender=t[b[_0x4b1c("0x7cd")]][_0x4b1c("0x8d5")])}l.material=r?g:g[0]}if(1===s.length)return s[0];var M=new THREE.Group;for(o=0,f=s.length;o<f;o++)M[_0x4b1c("0xdd")](s[o]);return M}))}))},U[_0x4b1c("0xf")][_0x4b1c("0x88d")]=function(x){var c,b=this[_0x4b1c("0xff")][_0x4b1c("0x87b")][x],_=b[b[_0x4b1c("0x78")]];if(_)return b.type===_0x4b1c("0x395")?c=new(THREE[_0x4b1c("0x8d7")])(THREE[_0x4b1c("0x215")][_0x4b1c("0x216")](_[_0x4b1c("0x8d8")]),_[_0x4b1c("0x8d9")]||1,_[_0x4b1c("0x8da")]||1,_[_0x4b1c("0x8db")]||2e6):b.type===_0x4b1c("0x8dc")&&(c=new(THREE[_0x4b1c("0x8dd")])(_[_0x4b1c("0x8de")]/-2,_.xmag/2,_[_0x4b1c("0x8df")]/2,_[_0x4b1c("0x8df")]/-2,_.znear,_.zfar)),void 0!==b[_0x4b1c("0x1f7")]&&(c[_0x4b1c("0x1f7")]=b.name),O(c,b),i.default[_0x4b1c("0xdf")](c);console[_0x4b1c("0x424")](_0x4b1c("0x8d6"))},U[_0x4b1c("0xf")][_0x4b1c("0x8e0")]=function(x){var c=this[_0x4b1c("0xff")][_0x4b1c("0x87e")][x],b={joints:c.joints};return void 0===c[_0x4b1c("0x8e1")]?i[_0x4b1c("0xc")][_0x4b1c("0xdf")](b):this[_0x4b1c("0x7f3")](_0x4b1c("0x860"),c[_0x4b1c("0x8e1")])[_0x4b1c("0x323")]((function(x){return b[_0x4b1c("0x8e1")]=x,b}))},U[_0x4b1c("0xf")][_0x4b1c("0x8e2")]=function(x){for(var c=this.json.animations[x],b=[],_=[],e=[],t=[],a=[],n=0,r=c[_0x4b1c("0x8e3")].length;n<r;n++){var s=c[_0x4b1c("0x8e3")][n],o=c[_0x4b1c("0x7c6")][s[_0x4b1c("0x8a5")]],f=s[_0x4b1c("0x2c7")],l=void 0!==f[_0x4b1c("0x886")]?f.node:f.id,d=void 0!==c[_0x4b1c("0x8e4")]?c[_0x4b1c("0x8e4")][o.input]:o[_0x4b1c("0x8e5")],u=void 0!==c[_0x4b1c("0x8e4")]?c[_0x4b1c("0x8e4")][o.output]:o[_0x4b1c("0x8e6")];b[_0x4b1c("0x12")](this.getDependency(_0x4b1c("0x886"),l)),_[_0x4b1c("0x12")](this.getDependency(_0x4b1c("0x860"),d)),e[_0x4b1c("0x12")](this[_0x4b1c("0x7f3")](_0x4b1c("0x860"),u)),t.push(o),a.push(f)}return i.default[_0x4b1c("0x68a")]([i[_0x4b1c("0xc")][_0x4b1c("0x68a")](b),i[_0x4b1c("0xc")].all(_),i[_0x4b1c("0xc")][_0x4b1c("0x68a")](e),i[_0x4b1c("0xc")][_0x4b1c("0x68a")](t),i.default[_0x4b1c("0x68a")](a)])[_0x4b1c("0x323")]((function(b){for(var _=b[0],e=b[1],t=b[2],i=b[3],a=b[4],n=[],r=0,s=_[_0x4b1c("0x0")];r<s;r++){var o=_[r],f=e[r],l=t[r],d=i[r],u=a[r];if(void 0!==o){var h;switch(o.updateMatrix(),o[_0x4b1c("0x82e")]=!0,S[u.path]){case S.weights:h=THREE.NumberKeyframeTrack;break;case S[_0x4b1c("0x202")]:h=THREE[_0x4b1c("0x8e7")];break;case S[_0x4b1c("0x105")]:default:h=THREE[_0x4b1c("0x8e8")]}var g=o[_0x4b1c("0x1f7")]?o[_0x4b1c("0x1f7")]:o[_0x4b1c("0x195")],v=void 0!==d[_0x4b1c("0x8e9")]?M[d.interpolation]:THREE[_0x4b1c("0x857")],p=[];S[u[_0x4b1c("0x2c2")]]===S[_0x4b1c("0x867")]?o[_0x4b1c("0x103")]((function(x){!0===x[_0x4b1c("0x8ea")]&&x[_0x4b1c("0x868")]&&p[_0x4b1c("0x12")](x[_0x4b1c("0x1f7")]?x[_0x4b1c("0x1f7")]:x.uuid)})):p.push(g);for(var m=0,A=p.length;m<A;m++){var C=new h(p[m]+"."+S[u.path],THREE[_0x4b1c("0x8eb")][_0x4b1c("0x8ec")](f.array,0),THREE[_0x4b1c("0x8eb")][_0x4b1c("0x8ec")](l.array,0),v);"CUBICSPLINE"===d[_0x4b1c("0x8e9")]&&(C.createInterpolant=function(x){return new y(this[_0x4b1c("0x19f")],this[_0x4b1c("0xe6")],this.getValueSize()/3,x)},C[_0x4b1c("0x8ed")].isInterpolantFactoryMethodGLTFCubicSpline=!0),n[_0x4b1c("0x12")](C)}}}var I=void 0!==c[_0x4b1c("0x1f7")]?c[_0x4b1c("0x1f7")]:"animation_"+x;return new(THREE[_0x4b1c("0x8ee")])(I,void 0,n)}))},U[_0x4b1c("0xf")].loadNode=function(x){var c=this[_0x4b1c("0xff")],_=this[_0x4b1c("0x7d8")],e=this,t=c[_0x4b1c("0x883")],a=c[_0x4b1c("0x884")],n=c.nodes[x];return(!0===n[_0x4b1c("0x880")]?i.default[_0x4b1c("0xdf")](new(THREE[_0x4b1c("0x8ef")])):void 0!==n[_0x4b1c("0x452")]?e[_0x4b1c("0x7f3")](_0x4b1c("0x452"),n.mesh)[_0x4b1c("0x323")]((function(x){var c;if(t[n[_0x4b1c("0x452")]]>1){var b=a[n.mesh]++;(c=x[_0x4b1c("0x13e")]())[_0x4b1c("0x1f7")]+="_instance_"+b,c.onBeforeRender=x.onBeforeRender;for(var _=0,e=c[_0x4b1c("0xf1")][_0x4b1c("0x0")];_<e;_++)c[_0x4b1c("0xf1")][_][_0x4b1c("0x1f7")]+="_instance_"+b,c.children[_][_0x4b1c("0x8f0")]=x[_0x4b1c("0xf1")][_].onBeforeRender}else c=x;return void 0!==n[_0x4b1c("0x867")]&&c[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0x8ea")])for(var c=0,b=n[_0x4b1c("0x867")][_0x4b1c("0x0")];c<b;c++)x[_0x4b1c("0x868")][c]=n[_0x4b1c("0x867")][c]})),c})):void 0!==n.camera?e[_0x4b1c("0x7f3")]("camera",n[_0x4b1c("0x658")]):n[_0x4b1c("0x7d8")]&&n[_0x4b1c("0x7d8")][b[_0x4b1c("0x7cb")]]&&void 0!==n[_0x4b1c("0x7d8")][b[_0x4b1c("0x7cb")]].light?e[_0x4b1c("0x7f3")](_0x4b1c("0x8f1"),n[_0x4b1c("0x7d8")][b[_0x4b1c("0x7cb")]][_0x4b1c("0x8f1")]):i[_0x4b1c("0xc")].resolve(new(THREE[_0x4b1c("0x214")])))[_0x4b1c("0x323")]((function(x){if(void 0!==n[_0x4b1c("0x1f7")]&&(x.name=THREE[_0x4b1c("0x8f2")][_0x4b1c("0x428")](n.name)),O(x,n),n[_0x4b1c("0x7d8")]&&D(_,x,n),void 0!==n[_0x4b1c("0x22d")]){var c=new THREE.Matrix4;c.fromArray(n.matrix),x[_0x4b1c("0x414")](c)}else void 0!==n[_0x4b1c("0x413")]&&x[_0x4b1c("0x105")][_0x4b1c("0x40b")](n[_0x4b1c("0x413")]),void 0!==n[_0x4b1c("0x202")]&&x[_0x4b1c("0x20a")][_0x4b1c("0x40b")](n[_0x4b1c("0x202")]),void 0!==n[_0x4b1c("0x201")]&&x[_0x4b1c("0x201")][_0x4b1c("0x40b")](n.scale);return x}))},U[_0x4b1c("0xf")][_0x4b1c("0x885")]=function(){function x(c,b,_,e){var t=_.nodes[c];return e[_0x4b1c("0x7f3")]("node",c)[_0x4b1c("0x323")]((function(x){return void 0===t.skin?x:e[_0x4b1c("0x7f3")](_0x4b1c("0x881"),t[_0x4b1c("0x881")])[_0x4b1c("0x323")]((function(x){for(var b=[],_=0,t=(c=x).joints.length;_<t;_++)b[_0x4b1c("0x12")](e.getDependency(_0x4b1c("0x886"),c[_0x4b1c("0x87f")][_]));return i[_0x4b1c("0xc")].all(b)})).then((function(b){for(var _=!0===x.isGroup?x[_0x4b1c("0xf1")]:[x],e=0,t=_[_0x4b1c("0x0")];e<t;e++){for(var i=_[e],a=[],n=[],r=0,s=b[_0x4b1c("0x0")];r<s;r++){var o=b[r];if(o){a[_0x4b1c("0x12")](o);var f=new(THREE[_0x4b1c("0x240")]);void 0!==c[_0x4b1c("0x8e1")]&&f[_0x4b1c("0x40b")](c[_0x4b1c("0x8e1")].array,16*r),n[_0x4b1c("0x12")](f)}else _0x4b1c("0x8f3"),c[_0x4b1c("0x87f")][r]}i[_0x4b1c("0xe")](new THREE.Skeleton(a,n),i.matrixWorld)}return x}));var c}))[_0x4b1c("0x323")]((function(c){b[_0x4b1c("0xdd")](c);var a=[];if(t[_0x4b1c("0xf1")])for(var n=t.children,r=0,s=n[_0x4b1c("0x0")];r<s;r++){var o=n[r];a[_0x4b1c("0x12")](x(o,c,_,e))}return i.default[_0x4b1c("0x68a")](a)}))}return function(c){var b=this[_0x4b1c("0xff")],_=this[_0x4b1c("0x7d8")],e=this[_0x4b1c("0xff")].scenes[c],t=new(THREE[_0x4b1c("0x40e")]);void 0!==e[_0x4b1c("0x1f7")]&&(t[_0x4b1c("0x1f7")]=e.name),O(t,e),e.extensions&&D(_,t,e);for(var a=e[_0x4b1c("0x408")]||[],n=[],r=0,s=a[_0x4b1c("0x0")];r<s;r++)n[_0x4b1c("0x12")](x(a[r],t,b,this));return i[_0x4b1c("0xc")][_0x4b1c("0x68a")](n)[_0x4b1c("0x323")]((function(){return t}))}}(),x}()},function(x,c,b){"use strict";function _(x){for(var c=[],b=0;b<x[_0x4b1c("0x0")];b++)c[b]=x[_0x4b1c("0x2d")](b);return c}Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0x4b")]=function(x,c,b){for(var e="",t=_(c+b),i=_(x),a=0;a<i.length;a++){for(var n=0;n<t[_0x4b1c("0x0")];n++)i[a]=i[a]^t[n];e+=String[_0x4b1c("0x10f")](i[a])}return e}},function(x,c,b){"use strict";var _=i(b(21)),e=i(b(2)),t=i(b(104));function i(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var a=function(){this[_0x4b1c("0x434")]=new(THREE[_0x4b1c("0x128")]),this[_0x4b1c("0x401")]=new(THREE[_0x4b1c("0x128")]),this[_0x4b1c("0x35a")]=new THREE.Vector3,this.up=new THREE.Vector3,this[_0x4b1c("0x8f4")]=0,this[_0x4b1c("0x8f5")]=1};a[_0x4b1c("0xf")][_0x4b1c("0x8f6")]=function(x,c,b){this[_0x4b1c("0x434")][_0x4b1c("0x8f7")](x[_0x4b1c("0x434")],c.pos,b),this.dir[_0x4b1c("0x8f7")](x[_0x4b1c("0x401")],c[_0x4b1c("0x401")],b),this.up[_0x4b1c("0x8f7")](x.up,c.up,b),this[_0x4b1c("0x35a")][_0x4b1c("0x8f7")](x[_0x4b1c("0x35a")],c[_0x4b1c("0x35a")],b),this[_0x4b1c("0x8f4")]=(c[_0x4b1c("0x8f4")]-x[_0x4b1c("0x8f4")])*b+x[_0x4b1c("0x8f4")],this[_0x4b1c("0x8f5")]=(c[_0x4b1c("0x8f5")]-x.widthScale)*b+x[_0x4b1c("0x8f5")]},a[_0x4b1c("0xf")].copy=function(x){this[_0x4b1c("0x434")][_0x4b1c("0x20b")](x[_0x4b1c("0x434")]),this[_0x4b1c("0x401")][_0x4b1c("0x20b")](x.dir),this.up[_0x4b1c("0x20b")](x.up),this.right.copy(x.right),this[_0x4b1c("0x8f4")]=x[_0x4b1c("0x8f4")],this[_0x4b1c("0x8f5")]=x[_0x4b1c("0x8f5")]};var n=function(){this[_0x4b1c("0x439")]=[],this[_0x4b1c("0x106")]=0};n[_0x4b1c("0xf")].set=function(x,c,b,_,e){if((x=x[_0x4b1c("0x1e5")](0))[_0x4b1c("0x0")]<2)return this[_0x4b1c("0x106")]=0,void console[_0x4b1c("0x424")](_0x4b1c("0x8f8"));c=void 0!==c?c:.1,b=void 0!==b?b:10,(e=void 0!==e&&e)&&!x[0][_0x4b1c("0x8f9")](x[x[_0x4b1c("0x0")]-1])&&x[_0x4b1c("0x12")]((new(THREE[_0x4b1c("0x128")]))[_0x4b1c("0x20b")](x[0]));for(var t=0,i=x.length;t<i;t++)if(0===t)this[_0x4b1c("0x8fa")](x[t],x[t+1],_);else if(t===i-1)if(e){this._corner(x[t],x[1],c,b,_);var a=this[_0x4b1c("0x439")][0][_0x4b1c("0x8f4")];this[_0x4b1c("0x439")][0].copy(this[_0x4b1c("0x439")][this[_0x4b1c("0x106")]-1]),this.array[0].dist=a}else this[_0x4b1c("0x8fb")](x[t]);else this[_0x4b1c("0x8fc")](x[t],x[t+1],c,b,_)},n[_0x4b1c("0xf")][_0x4b1c("0x23c")]=function(){return 0==this[_0x4b1c("0x106")]?0:this[_0x4b1c("0x439")][this[_0x4b1c("0x106")]-1].dist},n[_0x4b1c("0xf")]._start=function(x,c,b){this[_0x4b1c("0x106")]=0;var _=this[_0x4b1c("0x8fd")](this[_0x4b1c("0x106")]);if(_[_0x4b1c("0x434")][_0x4b1c("0x20b")](x),_[_0x4b1c("0x401")][_0x4b1c("0x8fe")](c,x),b)_.up[_0x4b1c("0x20b")](b);else{var e=Number.MAX_VALUE,t=Math[_0x4b1c("0x23d")](_[_0x4b1c("0x401")].x),i=Math[_0x4b1c("0x23d")](_[_0x4b1c("0x401")].y),a=Math[_0x4b1c("0x23d")](_[_0x4b1c("0x401")].z);t<e&&(e=t,_.up[_0x4b1c("0xdb")](1,0,0)),i<e&&(e=i,_.up[_0x4b1c("0xdb")](0,1,0)),a<e&&_.up[_0x4b1c("0xdb")](0,0,1)}_[_0x4b1c("0x35a")].crossVectors(_[_0x4b1c("0x401")],_.up)[_0x4b1c("0x301")](),_.up[_0x4b1c("0x8ff")](_.right,_[_0x4b1c("0x401")])[_0x4b1c("0x301")](),_[_0x4b1c("0x8f4")]=0,_[_0x4b1c("0x8f5")]=1,_[_0x4b1c("0x401")][_0x4b1c("0x301")](),this[_0x4b1c("0x106")]++};var r=new THREE.Vector3,s=new(THREE[_0x4b1c("0x128")]),o=new(THREE[_0x4b1c("0x128")]),f=new(THREE[_0x4b1c("0x240")]),l=new THREE.QuadraticBezierCurve3;n[_0x4b1c("0xf")][_0x4b1c("0x8fc")]=function(x,c,b,_,e){if(b>0&&_>0){for(var t=this[_0x4b1c("0x439")][this[_0x4b1c("0x106")]-1],i=this[_0x4b1c("0x900")](t[_0x4b1c("0x434")],x,c,b,l).getPoints(_),a=0;a<_;a+=1)this[_0x4b1c("0x901")](i[a],i[a+1],e);i[_][_0x4b1c("0x8f9")](c)||this._hardCorner(i[_],c,e)}else this[_0x4b1c("0x901")](x,c,e)},n[_0x4b1c("0xf")][_0x4b1c("0x901")]=function(x,c,b){var _=this[_0x4b1c("0x439")][this[_0x4b1c("0x106")]-1],e=this[_0x4b1c("0x8fd")](this[_0x4b1c("0x106")]),i=r[_0x4b1c("0x8fe")](x,_.pos),a=s.subVectors(c,x),n=i[_0x4b1c("0x0")]();if(i[_0x4b1c("0x301")](),a[_0x4b1c("0x301")](),e.pos[_0x4b1c("0x20b")](x),e.dir.addVectors(i,a),e.dir.normalize(),b)1===e[_0x4b1c("0x401")][_0x4b1c("0x902")](b)?e.right.crossVectors(a,b).normalize():e[_0x4b1c("0x35a")][_0x4b1c("0x8ff")](e[_0x4b1c("0x401")],b)[_0x4b1c("0x301")](),e.up[_0x4b1c("0x8ff")](e[_0x4b1c("0x35a")],e[_0x4b1c("0x401")])[_0x4b1c("0x301")]();else{e.up[_0x4b1c("0x20b")](_.up);var l=o[_0x4b1c("0x8ff")](_[_0x4b1c("0x401")],e[_0x4b1c("0x401")]);if(l[_0x4b1c("0x0")]()>t[_0x4b1c("0xc")]){l[_0x4b1c("0x301")]();var d=Math[_0x4b1c("0x903")](Math[_0x4b1c("0x2f6")](Math[_0x4b1c("0x2f5")](_.dir.dot(e[_0x4b1c("0x401")]),-1),1));e.up[_0x4b1c("0x22f")](f.makeRotationAxis(l,d))}e[_0x4b1c("0x35a")][_0x4b1c("0x8ff")](e[_0x4b1c("0x401")],e.up)[_0x4b1c("0x301")]()}e[_0x4b1c("0x8f4")]=_[_0x4b1c("0x8f4")]+n;var u=i.dot(a);e.widthScale=Math[_0x4b1c("0x2f6")](1/Math[_0x4b1c("0x120")]((1+u)/2),1.414213562373)||1,this.count++},n.prototype[_0x4b1c("0x8fb")]=function(x){var c=this[_0x4b1c("0x439")][this.count-1],b=this[_0x4b1c("0x8fd")](this.count);b[_0x4b1c("0x434")][_0x4b1c("0x20b")](x),b[_0x4b1c("0x401")][_0x4b1c("0x8fe")](x,c[_0x4b1c("0x434")]);var _=b[_0x4b1c("0x401")][_0x4b1c("0x0")]();b.dir[_0x4b1c("0x301")](),b.up[_0x4b1c("0x20b")](c.up);var e=r.crossVectors(c[_0x4b1c("0x401")],b[_0x4b1c("0x401")]);if(e[_0x4b1c("0x0")]()>t[_0x4b1c("0xc")]){e[_0x4b1c("0x301")]();var i=Math[_0x4b1c("0x903")](Math[_0x4b1c("0x2f6")](Math[_0x4b1c("0x2f5")](c[_0x4b1c("0x401")][_0x4b1c("0x902")](b[_0x4b1c("0x401")]),-1),1));b.up[_0x4b1c("0x22f")](f.makeRotationAxis(e,i))}b[_0x4b1c("0x35a")][_0x4b1c("0x8ff")](b.dir,b.up)[_0x4b1c("0x301")](),b[_0x4b1c("0x8f4")]=c[_0x4b1c("0x8f4")]+_,b.widthScale=1,this[_0x4b1c("0x106")]++},n.prototype._getByIndex=function(x){return this[_0x4b1c("0x439")][x]||(this[_0x4b1c("0x439")][x]=new a),this[_0x4b1c("0x439")][x]},n[_0x4b1c("0xf")][_0x4b1c("0x900")]=function(x,c,b,_,e){var t=r.subVectors(c,x),i=s[_0x4b1c("0x8fe")](b,c),a=t.length(),n=i[_0x4b1c("0x0")]();return t[_0x4b1c("0x301")](),i[_0x4b1c("0x301")](),a>_?e.v0[_0x4b1c("0x20b")](c).sub(t.multiplyScalar(_)):e.v0[_0x4b1c("0x20b")](x),e.v1.copy(c),n>_?e.v2[_0x4b1c("0x20b")](c)[_0x4b1c("0xdd")](i[_0x4b1c("0x253")](_)):e.v2[_0x4b1c("0x20b")](b),e};var d=function(){this[_0x4b1c("0x904")]=!1,this._includeDrawingPoint=!1,this[_0x4b1c("0x905")]=[],this[_0x4b1c("0x906")]=new(THREE[_0x4b1c("0x128")]),this[_0x4b1c("0x907")]=new(THREE[_0x4b1c("0x128")]),this[_0x4b1c("0x908")]=.5,this.height=.1,this[_0x4b1c("0x909")]=.2,this[_0x4b1c("0x90a")]=10,this[_0x4b1c("0x90b")]=new n,this[_0x4b1c("0x90c")]=!0,this.up=new(THREE[_0x4b1c("0x128")])(0,1,0)};Object.defineProperty(d.prototype,"cornerRadius",{set:function(x){this[_0x4b1c("0x909")]=x,this[_0x4b1c("0x90c")]=!0},get:function(){return this[_0x4b1c("0x909")]}}),Object[_0x4b1c("0x7")](d[_0x4b1c("0xf")],"cornerSplit",{set:function(x){this[_0x4b1c("0x90a")]=x,this[_0x4b1c("0x90c")]=!0},get:function(){return this[_0x4b1c("0x90a")]}}),d[_0x4b1c("0xf")].getPoints=function(){if(this[_0x4b1c("0x90d")]&&(this[_0x4b1c("0x905")][_0x4b1c("0xe2")](),this._includeDrawingPoint=!1),this[_0x4b1c("0x904")]&&this[_0x4b1c("0x905")][_0x4b1c("0x0")]>0){var x=this[_0x4b1c("0x90e")]();x&&(this[_0x4b1c("0x905")].push(x),this[_0x4b1c("0x90d")]=!0)}return this[_0x4b1c("0x905")]},d[_0x4b1c("0xf")][_0x4b1c("0x90f")]=function(){return(this[_0x4b1c("0x904")]||this[_0x4b1c("0x90c")])&&(this[_0x4b1c("0x90b")].set(this[_0x4b1c("0x69e")](),this[_0x4b1c("0x909")],this[_0x4b1c("0x90a")],this.up),this._dirty=!1),this[_0x4b1c("0x90b")]},d[_0x4b1c("0xf")][_0x4b1c("0x164")]=function(x){this[_0x4b1c("0x906")][_0x4b1c("0x20b")](x),this[_0x4b1c("0x906")].y+=this[_0x4b1c("0x1a3")]},d[_0x4b1c("0xf")].confirm=function(){this[_0x4b1c("0x904")]=!0;var x=this[_0x4b1c("0x90e")]();x&&(this[_0x4b1c("0x90d")]&&(this._points.pop(),this._includeDrawingPoint=!1),this[_0x4b1c("0x905")][_0x4b1c("0x12")](x[_0x4b1c("0x13e")]())),this[_0x4b1c("0x90c")]=!0},d[_0x4b1c("0xf")].start=function(){this[_0x4b1c("0x904")]=!0,this[_0x4b1c("0x90c")]=!0},d.prototype.stop=function(){this[_0x4b1c("0x904")]=!1,this[_0x4b1c("0x90c")]=!0},d[_0x4b1c("0xf")][_0x4b1c("0x719")]=function(){this._drawing=!1,this[_0x4b1c("0x90d")]=!1,this._points=[],this._dirty=!0};var u=new(THREE[_0x4b1c("0x128")]),h=new(THREE[_0x4b1c("0x128")]),g=new(THREE[_0x4b1c("0x128")]);d[_0x4b1c("0xf")][_0x4b1c("0x90e")]=function(){if(this[_0x4b1c("0x907")][_0x4b1c("0x20b")](this[_0x4b1c("0x906")]),this._points[_0x4b1c("0x0")]>0){var x=this[_0x4b1c("0x90d")]?this[_0x4b1c("0x905")][this[_0x4b1c("0x905")][_0x4b1c("0x0")]-2]:this[_0x4b1c("0x905")][this._points[_0x4b1c("0x0")]-1];if(function(x,c){return u[_0x4b1c("0x20b")](c)[_0x4b1c("0x6a0")](x)[_0x4b1c("0x0")]()}(x,this._lastFixedPoint)<this[_0x4b1c("0x908")]&&(u[_0x4b1c("0x301")]()[_0x4b1c("0x253")](this[_0x4b1c("0x908")]),this[_0x4b1c("0x907")].copy(x)[_0x4b1c("0xdd")](u)),this[_0x4b1c("0x90d")]?this[_0x4b1c("0x905")].length>2:this[_0x4b1c("0x905")][_0x4b1c("0x0")]>1){var c=this[_0x4b1c("0x90d")]?this._points[this[_0x4b1c("0x905")].length-3]:this[_0x4b1c("0x905")][this[_0x4b1c("0x905")][_0x4b1c("0x0")]-2];if(h[_0x4b1c("0x8fe")](x,c),g[_0x4b1c("0x8fe")](this[_0x4b1c("0x907")],x),h[_0x4b1c("0x301")](),g.normalize(),h[_0x4b1c("0x253")](-1)[_0x4b1c("0x902")](g)>.99)return null}}return this._lastFixedPoint};var v=function(x){THREE.BufferGeometry[_0x4b1c("0x2")](this),x=x||3e3,this[_0x4b1c("0x1d4")]?(this.setAttribute(_0x4b1c("0x105"),new(THREE[_0x4b1c("0x43b")])(new Float32Array(3*x),3).setUsage(THREE.DynamicDrawUsage)),this[_0x4b1c("0x1d4")](_0x4b1c("0x140"),new THREE.BufferAttribute(new Float32Array(3*x),3)[_0x4b1c("0x910")](THREE[_0x4b1c("0x911")])),this[_0x4b1c("0x1d4")]("uv",new THREE.BufferAttribute(new Float32Array(2*x),2)[_0x4b1c("0x910")](THREE[_0x4b1c("0x911")]))):(this[_0x4b1c("0x43c")]("position",new(THREE[_0x4b1c("0x43b")])(new Float32Array(3*x),3)[_0x4b1c("0x912")](!0)),this[_0x4b1c("0x43c")]("normal",new(THREE[_0x4b1c("0x43b")])(new Float32Array(3*x),3)[_0x4b1c("0x912")](!0)),this.addAttribute("uv",new(THREE[_0x4b1c("0x43b")])(new Float32Array(2*x),2)[_0x4b1c("0x912")](!0))),this[_0x4b1c("0x913")][_0x4b1c("0x1af")]=0,this[_0x4b1c("0x913")][_0x4b1c("0x106")]=0};v.prototype=(0,e[_0x4b1c("0xc")])((0,_[_0x4b1c("0xc")])(THREE[_0x4b1c("0x581")][_0x4b1c("0xf")]),{constructor:v,update:function(x,c){c=c||{};var b=this._updateAttributes(x,c);this[_0x4b1c("0x913")][_0x4b1c("0x106")]=b},_resizeAttribute:function(x,c,b){for(;c[_0x4b1c("0x439")][_0x4b1c("0x0")]<b;){var _=c[_0x4b1c("0x439")][_0x4b1c("0x0")],e=new(THREE[_0x4b1c("0x43b")])(new Float32Array(2*_),c[_0x4b1c("0x914")],c[_0x4b1c("0x7f2")]);e[_0x4b1c("0x1f7")]=c[_0x4b1c("0x1f7")],e.usage=c.usage,this.addAttribute,this[_0x4b1c("0x43c")](x,e),c=e}},_updateAttributes:function(x,c){var b=c[_0x4b1c("0x1c9")]||.1,_=void 0!==c[_0x4b1c("0xe5")]?c[_0x4b1c("0xe5")]:1,e=void 0===c.arrow||c[_0x4b1c("0x16a")],t=void 0!==c[_0x4b1c("0x15b")]?c[_0x4b1c("0x15b")]:"both",i=0,n=[],r=[],s=[],o=new THREE.Vector3,f=new(THREE[_0x4b1c("0x128")]);function l(x,c,b){x[_0x4b1c("0x401")];var _=x.up,e=x[_0x4b1c("0x35a")];_0x4b1c("0x359")!==t?o[_0x4b1c("0x20b")](e)[_0x4b1c("0x253")](c*x[_0x4b1c("0x8f5")]):o[_0x4b1c("0xdb")](0,0,0),"right"!==t?f[_0x4b1c("0x20b")](e)[_0x4b1c("0x253")](-c*x[_0x4b1c("0x8f5")]):f[_0x4b1c("0xdb")](0,0,0),o[_0x4b1c("0xdd")](x[_0x4b1c("0x434")]),f[_0x4b1c("0xdd")](x.pos),n[_0x4b1c("0x12")](f.x,f.y,f.z,o.x,o.y,o.z),r.push(_.x,_.y,_.z,_.x,_.y,_.z),s[_0x4b1c("0x12")](b,0,b,1),i+=2}var d=new(THREE[_0x4b1c("0x128")]),u=x.distance();if(0==u)return 0;var h,g=_*u;if(g>0)for(var v=0;v<x.count;v++){var p=x.array[v];if(p[_0x4b1c("0x8f4")]>g){var m=x[_0x4b1c("0x439")][v-1];h=new a;var A=(g-m.dist)/(p[_0x4b1c("0x8f4")]-m[_0x4b1c("0x8f4")]);h[_0x4b1c("0x8f6")](m,p,A),l(h,b/2,h.dist/(_0x4b1c("0x169")!==t?b/2:b));break}l(p,b/2,p.dist/(_0x4b1c("0x169")!==t?b/2:b))}else h=x[_0x4b1c("0x439")][0];e&&function(x,c,b){var _=x.dir,e=x.up,a=x[_0x4b1c("0x35a")];"left"!==t?o[_0x4b1c("0x20b")](a)[_0x4b1c("0x253")](2*c):o.set(0,0,0),_0x4b1c("0x35a")!==t?f.copy(a)[_0x4b1c("0x253")](2*-c):f[_0x4b1c("0xdb")](0,0,0),d[_0x4b1c("0x20b")](_).setLength(3*c),o[_0x4b1c("0xdd")](x[_0x4b1c("0x434")]),f[_0x4b1c("0xdd")](x[_0x4b1c("0x434")]),d.add(x[_0x4b1c("0x434")]),n[_0x4b1c("0x12")](f.x,f.y,f.z,o.x,o.y,o.z,d.x,d.y,d.z),r.push(e.x,e.y,e.z,e.x,e.y,e.z,e.x,e.y,e.z),s[_0x4b1c("0x12")](b,_0x4b1c("0x169")!==t?_0x4b1c("0x35a")!==t?-2:0:-.5,b,_0x4b1c("0x169")!==t?"left"!==t?2:0:1.5,b+3*c/(_0x4b1c("0x169")!==t?c:2*c),"both"!==t?0:.5),i+=3}(h=h||x[_0x4b1c("0x439")][x.count-1],b/2,h.dist/("both"!==t?b/2:b));var y=this[_0x4b1c("0x435")](_0x4b1c("0x105")),C=this.getAttribute(_0x4b1c("0x140")),I=this.getAttribute("uv");return this._resizeAttribute(_0x4b1c("0x105"),y,n[_0x4b1c("0x0")]),this[_0x4b1c("0x915")](_0x4b1c("0x140"),C,r[_0x4b1c("0x0")]),this[_0x4b1c("0x915")]("uv",I,s[_0x4b1c("0x0")]),y=this[_0x4b1c("0x435")](_0x4b1c("0x105")),C=this.getAttribute(_0x4b1c("0x140")),I=this[_0x4b1c("0x435")]("uv"),y.array[_0x4b1c("0xdb")](n,0),C.array[_0x4b1c("0xdb")](r,0),I.array[_0x4b1c("0xdb")](s,0),y[_0x4b1c("0x916")].count=n[_0x4b1c("0x0")],C[_0x4b1c("0x916")][_0x4b1c("0x106")]=r.length,I[_0x4b1c("0x916")][_0x4b1c("0x106")]=s[_0x4b1c("0x0")],y.needsUpdate=!0,C[_0x4b1c("0x188")]=!0,I[_0x4b1c("0x188")]=!0,i}});var p=function(x){v.call(this,x||1e3),this.setIndex(new Array(2*(x||1e3))),this[_0x4b1c("0x149")]=0};p[_0x4b1c("0xf")]=(0,e[_0x4b1c("0xc")])((0,_[_0x4b1c("0xc")])(v.prototype),{constructor:p,_resizeIndex:function(x,c){for(;x[_0x4b1c("0x439")][_0x4b1c("0x0")]<c;){var b=x[_0x4b1c("0x439")][_0x4b1c("0x0")],_=new THREE.BufferAttribute(2*b>65535?new Uint32Array(2*b):new Uint16Array(2*b),1);_[_0x4b1c("0x1f7")]=x[_0x4b1c("0x1f7")],_[_0x4b1c("0x917")]=x[_0x4b1c("0x917")],this.setIndex(_),x=_}},_updateAttributes:function(x,c){var b=this,_=c[_0x4b1c("0x68f")]||.1,e=c[_0x4b1c("0x918")]||8;e=Math[_0x4b1c("0x2f5")](2,e);var t=c[_0x4b1c("0x919")]||0,i=void 0!==c[_0x4b1c("0xe5")]?c[_0x4b1c("0xe5")]:1,n=0,r=[],s=[],o=[],f=[],l=0,d=new(THREE[_0x4b1c("0x128")]);function u(x,c,_,e){for(var i=0===r[_0x4b1c("0x0")],a=0;a<=_;a++){var u=a;u==_&&(u=0);var h=a/_,g=Math[_0x4b1c("0x2f5")](e,h);g>b[_0x4b1c("0x149")]&&(b[_0x4b1c("0x149")]=g),d.copy(x.up)[_0x4b1c("0x91a")](x[_0x4b1c("0x401")],t+2*Math.PI*u/_)[_0x4b1c("0x301")](),r[_0x4b1c("0x12")](x[_0x4b1c("0x434")].x+d.x*c*x.widthScale,x[_0x4b1c("0x434")].y+d.y*c*x.widthScale,x[_0x4b1c("0x434")].z+d.z*c*x[_0x4b1c("0x8f5")]),s[_0x4b1c("0x12")](d.x,d.y,d.z),o[_0x4b1c("0x12")](e,h),l++}if(!i)for(var v=l-2*(_+1),p=l-(_+1),m=0;m<_;m++)f.push(p+m,v+m,v+m+1,p+m,v+m+1,p+m+1),n+=6}var h=i*x[_0x4b1c("0x23c")]();if(0==h)return 0;if(h>0)for(var g=0;g<x[_0x4b1c("0x106")];g++){var v=x[_0x4b1c("0x439")][g];if(v.dist>h){var p=x.array[g-1],m=new a,A=(h-p[_0x4b1c("0x8f4")])/(v[_0x4b1c("0x8f4")]-p[_0x4b1c("0x8f4")]);m[_0x4b1c("0x8f6")](p,v,A),u(m,_,e,m[_0x4b1c("0x8f4")]/(2*_*Math.PI));break}u(v,_,e,v[_0x4b1c("0x8f4")]/(2*_*Math.PI))}var y=this[_0x4b1c("0x435")](_0x4b1c("0x105")),C=this.getAttribute(_0x4b1c("0x140")),I=this[_0x4b1c("0x435")]("uv"),E=this[_0x4b1c("0x91b")]();return this[_0x4b1c("0x915")](_0x4b1c("0x105"),y,r.length),this[_0x4b1c("0x915")](_0x4b1c("0x140"),C,s[_0x4b1c("0x0")]),this[_0x4b1c("0x915")]("uv",I,o[_0x4b1c("0x0")]),this[_0x4b1c("0x91c")](E,f[_0x4b1c("0x0")]),y=this[_0x4b1c("0x435")](_0x4b1c("0x105")),C=this.getAttribute(_0x4b1c("0x140")),I=this[_0x4b1c("0x435")]("uv"),E=this[_0x4b1c("0x91b")](),y[_0x4b1c("0x439")].set(r,0),C.array.set(s,0),I[_0x4b1c("0x439")].set(o,0),E[_0x4b1c("0xdb")](f,0),y[_0x4b1c("0x916")][_0x4b1c("0x106")]=r[_0x4b1c("0x0")],C[_0x4b1c("0x916")][_0x4b1c("0x106")]=s[_0x4b1c("0x0")],I.updateRange[_0x4b1c("0x106")]=o.length,E[_0x4b1c("0x916")][_0x4b1c("0x106")]=f[_0x4b1c("0x0")],y[_0x4b1c("0x188")]=!0,C[_0x4b1c("0x188")]=!0,I.needsUpdate=!0,E[_0x4b1c("0x188")]=!0,n}}),THREE[_0x4b1c("0x167")]=v,THREE[_0x4b1c("0x161")]=p,THREE.PathPointList=n,THREE.Path3D=d},function(x,c,b){"use strict";THREE[_0x4b1c("0x91d")]=function(){var x=new THREE.Frustum;new(THREE[_0x4b1c("0x128")]);function c(x,c,b){this[_0x4b1c("0x658")]=x,this.scene=c,this[_0x4b1c("0x91e")]=new(THREE[_0x4b1c("0x128")]),this[_0x4b1c("0x91f")]=new(THREE[_0x4b1c("0x128")]),this[_0x4b1c("0x920")]=[],this[_0x4b1c("0x921")]=b||Number[_0x4b1c("0x1a0")],this[_0x4b1c("0x922")]=null,this.focusTileId=""}return c[_0x4b1c("0xf")][_0x4b1c("0x923")]=function(c,b){return this[_0x4b1c("0x91e")]=c||this[_0x4b1c("0x91e")],this[_0x4b1c("0x91f")]=b||this.endPoint,this[_0x4b1c("0x920")]=[],this.updateFrustum(this[_0x4b1c("0x91e")],this[_0x4b1c("0x91f")]),this[_0x4b1c("0x924")](x),this[_0x4b1c("0x920")]},c[_0x4b1c("0xf")].updateFrustum=function(c,b){c=c||this[_0x4b1c("0x91e")],b=b||this[_0x4b1c("0x91f")];var _=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];if(this[_0x4b1c("0x658")]=_[_0x4b1c("0x26a")],this[_0x4b1c("0x658")][_0x4b1c("0x925")](),this[_0x4b1c("0x658")][_0x4b1c("0x752")](),this.camera[_0x4b1c("0x926")]){var e=c.clone();e.x=Math[_0x4b1c("0x2f6")](c.x,b.x),e.y=Math.max(c.y,b.y),b.x=Math[_0x4b1c("0x2f5")](c.x,b.x),b.y=Math[_0x4b1c("0x2f6")](c.y,b.y);var t=this.camera[_0x4b1c("0x105")][_0x4b1c("0x13e")](),i=e[_0x4b1c("0x13e")](),a=new(THREE[_0x4b1c("0x128")])(b.x,e.y,0),n=b[_0x4b1c("0x13e")](),r=new THREE.Vector3(e.x,b.y,0);i[_0x4b1c("0x927")](this.camera),a[_0x4b1c("0x927")](this[_0x4b1c("0x658")]),n[_0x4b1c("0x927")](this.camera),r.unproject(this[_0x4b1c("0x658")]);var s=i[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](t),o=a[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](t),f=n[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](t);s.normalize(),o[_0x4b1c("0x301")](),f[_0x4b1c("0x301")](),s[_0x4b1c("0x253")](this[_0x4b1c("0x921")]),o[_0x4b1c("0x253")](this[_0x4b1c("0x921")]),f[_0x4b1c("0x253")](this[_0x4b1c("0x921")]),s[_0x4b1c("0xdd")](t),o[_0x4b1c("0xdd")](t),f[_0x4b1c("0xdd")](t),(g=x[_0x4b1c("0x928")])[0].setFromCoplanarPoints(t,i,a),g[1][_0x4b1c("0x929")](t,a,n),g[2][_0x4b1c("0x929")](n,r,t),g[3][_0x4b1c("0x929")](r,i,t),g[4][_0x4b1c("0x929")](a,n,r),g[5][_0x4b1c("0x929")](f,o,s),g[5][_0x4b1c("0x140")][_0x4b1c("0x253")](-1)}else{if(!this[_0x4b1c("0x658")][_0x4b1c("0x92a")])return!1;var l=Math.min(c.x,b.x),d=Math[_0x4b1c("0x2f5")](c.y,b.y),u=Math.max(c.x,b.x),h=Math[_0x4b1c("0x2f6")](c.y,b.y);if(l===u||d===h)return!1;i=new THREE.Vector3(l,d,-1),a=new(THREE[_0x4b1c("0x128")])(u,d,-1),n=new(THREE[_0x4b1c("0x128")])(u,h,-1),r=new THREE.Vector3(l,h,-1);var g,v=new THREE.Vector3(l,d,1),p=new THREE.Vector3(u,d,1),m=new THREE.Vector3(u,h,1),A=new THREE.Vector3(l,h,1);i[_0x4b1c("0x927")](this[_0x4b1c("0x658")]),a[_0x4b1c("0x927")](this[_0x4b1c("0x658")]),n[_0x4b1c("0x927")](this[_0x4b1c("0x658")]),r[_0x4b1c("0x927")](this[_0x4b1c("0x658")]),v[_0x4b1c("0x927")](this[_0x4b1c("0x658")]),p[_0x4b1c("0x927")](this[_0x4b1c("0x658")]),m[_0x4b1c("0x927")](this.camera),A[_0x4b1c("0x927")](this.camera),(g=x[_0x4b1c("0x928")])[0][_0x4b1c("0x929")](i,v,p),g[1][_0x4b1c("0x929")](a,p,m),g[2][_0x4b1c("0x929")](m,A,r),g[3][_0x4b1c("0x929")](A,v,i),g[4].setFromCoplanarPoints(a,n,r),g[5][_0x4b1c("0x929")](m,p,v),g[5].normal[_0x4b1c("0x253")](-1)}return!0},c[_0x4b1c("0xf")][_0x4b1c("0x924")]=function(x){var c=this.watchlist,b=new(THREE[_0x4b1c("0x128")]),_=esmap.ESMap[_0x4b1c("0x3a")],e=_[_0x4b1c("0x47")][_0x4b1c("0x1f6")];if(this[_0x4b1c("0x92b")])for(var t=0;t<this[_0x4b1c("0x92b")].length;t++){var i=this.preWatchs[t];if(i[_0x4b1c("0x130")]==_0x4b1c("0x92c")){if(!i[_0x4b1c("0x92d")]){for(var a=i[_0x4b1c("0x12c")],n=[],r=0;r<a[_0x4b1c("0x0")]-1;r++){var s=a[r],o=a[r+1],f=o.x-s.x,l=o.y-s.y,d=o.z-s.z,u=Math[_0x4b1c("0x2f5")](Math[_0x4b1c("0x23d")](f),Math[_0x4b1c("0x23d")](l),Math[_0x4b1c("0x23d")](d));if(0!=u&&u!=1/0)for(var h=f/u,g=l/u,v=d/u,p=0;p<u+1;p++){var m=h*p,A=g*p,y=v*p,C=new(THREE[_0x4b1c("0x128")])(s.x+m,s.y+A,s.z+y);n[_0x4b1c("0x12")](C)}}i[_0x4b1c("0x92d")]=n}for(var I=0;I<i[_0x4b1c("0x92d")][_0x4b1c("0x0")];I++){var E=i.boxSelectPoints[I];if(x[_0x4b1c("0x92e")](E)){this.collection[_0x4b1c("0x12")](i);break}}}else i[_0x4b1c("0x165")][_0x4b1c("0x2f4")]||(i[_0x4b1c("0x165")][_0x4b1c("0x2f4")]=(new(THREE[_0x4b1c("0x2eb")])).setFromObject(i)),x[_0x4b1c("0x92f")](i[_0x4b1c("0x165")][_0x4b1c("0x2f4")])&&this[_0x4b1c("0x920")].push(i)}for(var w in c)for(var T=c[w],k=0;k<T[_0x4b1c("0x0")];k++){var S=T[k];if(S[_0x4b1c("0xef")]&&S[_0x4b1c("0xef")].nodeType){if(this.pickType!=_0x4b1c("0x68a"))if(this[_0x4b1c("0x930")]instanceof Array){if(this[_0x4b1c("0x930")][_0x4b1c("0x114")](S[_0x4b1c("0xef")][_0x4b1c("0x123")])<0)continue}else if(S.datas_[_0x4b1c("0x123")]!=this[_0x4b1c("0x930")])continue;if(_[_0x4b1c("0x232")].isVisible(S))switch(S[_0x4b1c("0xef")][_0x4b1c("0x123")]){case esmap[_0x4b1c("0x131")].MODEL:if(!e&&999==S[_0x4b1c("0xef")][_0x4b1c("0x56c")])continue;for(var M=S.datas_[_0x4b1c("0x469")],R=0;R<M[_0x4b1c("0x0")];R++){var L=[];L=e?Array[_0x4b1c("0x32f")](M[R][_0x4b1c("0x12c")][0])?M[R][_0x4b1c("0x12c")][0]:M[R][_0x4b1c("0x12c")]:_.mapService[_0x4b1c("0x931")][M[R].ID][0];for(var H=[],D=1;D<L[_0x4b1c("0x0")];D++)H[_0x4b1c("0x12")]({x:-L[D].x,y:L[D].y});(esmap[_0x4b1c("0x87")].intersectPolygons(H,this[_0x4b1c("0x932")])||esmap.ESMapUtil.containPolygons(H,this[_0x4b1c("0x932")]))&&this.collection[_0x4b1c("0x12")](M[R])}break;case esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")]:S[_0x4b1c("0x165")].box3||(S[_0x4b1c("0x165")][_0x4b1c("0x2f4")]=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](S)),S[_0x4b1c("0x165")][_0x4b1c("0x933")]||S[_0x4b1c("0x103")]((function(x){x[_0x4b1c("0xf4")]&&(x[_0x4b1c("0xf4")]instanceof Array?(x[_0x4b1c("0xf4")][0]=x[_0x4b1c("0xf4")][0].clone(),x[_0x4b1c("0xf4")][0][_0x4b1c("0x165")][_0x4b1c("0x933")]=!0):(x[_0x4b1c("0xf4")]=x.material[_0x4b1c("0x13e")](),x[_0x4b1c("0xf4")][_0x4b1c("0x165")][_0x4b1c("0x933")]=!0))})),x[_0x4b1c("0x92f")](S[_0x4b1c("0x165")][_0x4b1c("0x2f4")])&&this[_0x4b1c("0x920")].push(S.datas_);break;case esmap.ESNodeType.LINE:if(!S[_0x4b1c("0x92d")]){for(var O=S[_0x4b1c("0x12c")],P=[],N=0;N<O[_0x4b1c("0x0")]-1;N++){var F=O[N],B=O[N+1],z=B.x-F.x,U=B.y-F.y,V=B.z-F.z,j=Math.max(Math[_0x4b1c("0x23d")](z),Math.abs(U),Math.abs(V));if(0!=j&&j!=1/0)for(var Z=z/j,Y=U/j,W=V/j,G=0;G<j+1;G++){var X=Z*G,Q=Y*G,J=W*G,K=new THREE.Vector3(F.x+X,F.y+Q,F.z+J);P[_0x4b1c("0x12")](K)}}S[_0x4b1c("0x92d")]=P}for(var q=0;q<S[_0x4b1c("0x92d")].length;q++){var $=S[_0x4b1c("0x92d")][q];if(x[_0x4b1c("0x92e")]($)){this[_0x4b1c("0x920")][_0x4b1c("0x12")](S.datas_);break}}break;default:b=S[_0x4b1c("0x21c")](b),x[_0x4b1c("0x92e")](b)&&this[_0x4b1c("0x920")].push(S[_0x4b1c("0xef")])}}}},c[_0x4b1c("0xf")].searchChildInFrustum=function(x,c){if(c[_0x4b1c("0x8ea")]&&void 0!==c[_0x4b1c("0xf4")])if(c[_0x4b1c("0x934")]){if(!c[_0x4b1c("0x92d")]){for(var b=c[_0x4b1c("0x12c")],_=[],e=0;e<b.length-1;e++){var t=b[e],i=b[e+1],a=i.x-t.x,n=i.y-t.y,r=i.z-t.z,s=Math[_0x4b1c("0x2f5")](Math[_0x4b1c("0x23d")](a),Math[_0x4b1c("0x23d")](n),Math[_0x4b1c("0x23d")](r));if(0!=s&&s!=1/0)for(var o=a/s,f=n/s,l=r/s,d=0;d<s+1;d++){var u=o*d,h=f*d,g=l*d,v=new(THREE[_0x4b1c("0x128")])(t.x+u,t.y+h,t.z+g);_.push(v)}}c[_0x4b1c("0x92d")]=_}for(var p=0;p<c[_0x4b1c("0x92d")][_0x4b1c("0x0")];p++){var m=c[_0x4b1c("0x92d")][p];if(x[_0x4b1c("0x92e")](m)){this[_0x4b1c("0x920")][_0x4b1c("0x12")](c);break}}}else{null===c[_0x4b1c("0xf2")].boundingBox&&c[_0x4b1c("0xf2")].computeBoundingBox();var A=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x20b")](c.geometry[_0x4b1c("0x551")])[_0x4b1c("0x22f")](c[_0x4b1c("0x3eb")]);if(x.intersectsBox(A)){var y=null,C=!1;if(c.datas_?y=c:(y=esmap[_0x4b1c("0x6a2")][_0x4b1c("0xee")](c),C=!0),y&&this[_0x4b1c("0x920")][_0x4b1c("0x12")](y[_0x4b1c("0xef")]),y&&C)return!0}}if(c[_0x4b1c("0xf1")].length>0)for(var I=0;I<c[_0x4b1c("0xf1")][_0x4b1c("0x0")];I++){if(this.searchChildInFrustum(x,c.children[I]))break}},c}()},function(x,c,b){"use strict";THREE[_0x4b1c("0x935")]=function(){function x(x,c,b){this[_0x4b1c("0x45e")]=document.createElement(_0x4b1c("0x1c8")),this[_0x4b1c("0x45e")][_0x4b1c("0x4e5")][_0x4b1c("0xdd")](b),this[_0x4b1c("0x45e")][_0x4b1c("0x23")].pointerEvents=_0x4b1c("0x60b"),this.element[_0x4b1c("0x23")][_0x4b1c("0x936")]="1px solid #55aaff",this[_0x4b1c("0x45e")].style[_0x4b1c("0x1ce")]=_0x4b1c("0x937"),this.element.style.position=_0x4b1c("0x938"),this[_0x4b1c("0x360")]={domElement:c},this.startPoint=new(THREE[_0x4b1c("0x552")]),this[_0x4b1c("0x939")]=new(THREE[_0x4b1c("0x552")]),this.pointBottomRight=new(THREE[_0x4b1c("0x552")]),this[_0x4b1c("0x93a")]=x,this[_0x4b1c("0x93b")]=!1,this.renderer[_0x4b1c("0x73f")].addEventListener(_0x4b1c("0x93c"),function(x){this[_0x4b1c("0x93a")][_0x4b1c("0x70b")]&&2!=x.button&&(this[_0x4b1c("0x93b")]=!0,this[_0x4b1c("0x93d")](x))}.bind(this),!1),this[_0x4b1c("0x360")][_0x4b1c("0x73f")].addEventListener(_0x4b1c("0x93e"),function(x){this.isDown&&this[_0x4b1c("0x93f")](x)}[_0x4b1c("0xe")](this),!1),this.renderer[_0x4b1c("0x73f")][_0x4b1c("0x37")]("pointerup",function(x){this[_0x4b1c("0x93a")][_0x4b1c("0x70b")]&&(this[_0x4b1c("0x93b")]=!1,this[_0x4b1c("0x940")](x))}[_0x4b1c("0xe")](this),!1)}return x[_0x4b1c("0xf")][_0x4b1c("0x93d")]=function(x){this[_0x4b1c("0x360")][_0x4b1c("0x73f")][_0x4b1c("0x941")].appendChild(this[_0x4b1c("0x45e")]),this[_0x4b1c("0x45e")].style.left=x[_0x4b1c("0x4e2")]+"px",this[_0x4b1c("0x45e")][_0x4b1c("0x23")][_0x4b1c("0x35b")]=x[_0x4b1c("0x4e4")]+"px",this[_0x4b1c("0x45e")][_0x4b1c("0x23")].width=_0x4b1c("0x942"),this[_0x4b1c("0x45e")][_0x4b1c("0x23")][_0x4b1c("0x1a3")]=_0x4b1c("0x942"),this[_0x4b1c("0x45e")][_0x4b1c("0x23")][_0x4b1c("0x751")]=1e3,this[_0x4b1c("0x91e")].x=x.clientX,this[_0x4b1c("0x91e")].y=x[_0x4b1c("0x4e4")]},x[_0x4b1c("0xf")][_0x4b1c("0x93f")]=function(x){this[_0x4b1c("0x943")].x=Math[_0x4b1c("0x2f5")](this[_0x4b1c("0x91e")].x,x[_0x4b1c("0x4e2")]),this[_0x4b1c("0x943")].y=Math.max(this.startPoint.y,x[_0x4b1c("0x4e4")]),this[_0x4b1c("0x939")].x=Math[_0x4b1c("0x2f6")](this[_0x4b1c("0x91e")].x,x[_0x4b1c("0x4e2")]),this[_0x4b1c("0x939")].y=Math[_0x4b1c("0x2f6")](this[_0x4b1c("0x91e")].y,x[_0x4b1c("0x4e4")]),this[_0x4b1c("0x45e")][_0x4b1c("0x23")].left=this[_0x4b1c("0x939")].x+"px",this[_0x4b1c("0x45e")][_0x4b1c("0x23")][_0x4b1c("0x35b")]=this[_0x4b1c("0x939")].y+"px",this[_0x4b1c("0x45e")][_0x4b1c("0x23")].width=this[_0x4b1c("0x943")].x-this[_0x4b1c("0x939")].x+"px",this.element.style.height=this.pointBottomRight.y-this[_0x4b1c("0x939")].y+"px"},x[_0x4b1c("0xf")][_0x4b1c("0x940")]=function(){this[_0x4b1c("0x45e")][_0x4b1c("0x941")]&&this[_0x4b1c("0x45e")][_0x4b1c("0x941")].removeChild(this.element)},x}()},function(x,c,b){"use strict";THREE.FirstPersonControls=function(x,c){function b(x){x[_0x4b1c("0x4d8")]()}this[_0x4b1c("0x1d")]=x,this[_0x4b1c("0x2c7")]=new(THREE[_0x4b1c("0x128")])(0,0,0),this[_0x4b1c("0x73f")]=void 0!==c?c:document,this[_0x4b1c("0x70b")]=!0,this[_0x4b1c("0x944")]=1,this[_0x4b1c("0x945")]=.005,this.lookVertical=!0,this[_0x4b1c("0x946")]=!1,this[_0x4b1c("0x947")]=!0,this.heightSpeed=!1,this[_0x4b1c("0x948")]=1,this[_0x4b1c("0x949")]=0,this[_0x4b1c("0x94a")]=10,this[_0x4b1c("0x94b")]=1e3,this[_0x4b1c("0x94c")]=0,this[_0x4b1c("0x94d")]=!1,this[_0x4b1c("0x94e")]=0,this[_0x4b1c("0x94f")]=Math.PI,this[_0x4b1c("0x950")]=0,this[_0x4b1c("0x951")]=0,this[_0x4b1c("0x952")]=0,this[_0x4b1c("0x953")]=0,this[_0x4b1c("0x954")]=0,this[_0x4b1c("0x955")]=0,this[_0x4b1c("0x956")]=0,this[_0x4b1c("0x957")]=!1,this.moveBackward=!1,this.moveLeft=!1,this[_0x4b1c("0x958")]=!1,this[_0x4b1c("0x959")]=!1,this.mouseDragOn=!1,this[_0x4b1c("0x95a")]={x:0,y:0},this[_0x4b1c("0x95b")]=!1,this[_0x4b1c("0x95c")]=0,this[_0x4b1c("0x95d")]=0,this[_0x4b1c("0x95e")]=!1,this.stopAsap2=!1,this[_0x4b1c("0x95f")]=0,this[_0x4b1c("0x960")]=null,this[_0x4b1c("0x961")]=null,this[_0x4b1c("0x962")]=0,this[_0x4b1c("0x963")]=0,this[_0x4b1c("0x964")]=0,this[_0x4b1c("0x73f")]!==document&&this[_0x4b1c("0x73f")][_0x4b1c("0x1d4")](_0x4b1c("0x965"),-1),this[_0x4b1c("0x966")]=function(){this.domElement===document?(this[_0x4b1c("0x95c")]=window[_0x4b1c("0x967")]/2,this.viewHalfY=window[_0x4b1c("0x968")]/2):(this[_0x4b1c("0x95c")]=this[_0x4b1c("0x73f")][_0x4b1c("0x27")]/2,this[_0x4b1c("0x95d")]=this[_0x4b1c("0x73f")][_0x4b1c("0x28")]/2)},this[_0x4b1c("0x969")]=function(x){if(this[_0x4b1c("0x70b")]){if(this.domElement!==document&&this[_0x4b1c("0x73f")][_0x4b1c("0x96a")](),x[_0x4b1c("0x4d8")](),0==this[_0x4b1c("0x959")]&&x[_0x4b1c("0x379")](),this[_0x4b1c("0x947")]&&this[_0x4b1c("0x959")])switch(x.button){case 0:this[_0x4b1c("0x957")]=!0;break;case 2:this[_0x4b1c("0x96b")]=!0}this[_0x4b1c("0x96c")]=!0}},this[_0x4b1c("0x96d")]=function(x){if(this[_0x4b1c("0x70b")]){if(x[_0x4b1c("0x4d8")](),0==this.mouseClickMoving&&x[_0x4b1c("0x379")](),this[_0x4b1c("0x947")])switch(x[_0x4b1c("0x96e")]){case 0:this[_0x4b1c("0x957")]=!1;break;case 2:this.moveBackward=!1}this[_0x4b1c("0x96c")]=!1}},this[_0x4b1c("0x96f")]=function(x){if(this[_0x4b1c("0x95e")]=!1,this[_0x4b1c("0x70b")]){this[_0x4b1c("0x73f")]===document?(this[_0x4b1c("0x951")]=x[_0x4b1c("0x970")]-this[_0x4b1c("0x95c")],this[_0x4b1c("0x952")]=x.pageY-this.viewHalfY):(this.mouseX=x[_0x4b1c("0x970")]-this[_0x4b1c("0x73f")][_0x4b1c("0x971")]-this[_0x4b1c("0x95c")],this[_0x4b1c("0x952")]=x[_0x4b1c("0x972")]-this.domElement[_0x4b1c("0x531")]-this[_0x4b1c("0x95d")]),this.mouseMoveOn=!0;var c=this;window[_0x4b1c("0x26f")](c[_0x4b1c("0x973")]),this[_0x4b1c("0x973")]=setTimeout((function(){c[_0x4b1c("0x95e")]=!0}),1e3),this.mouseLastPos={x:this[_0x4b1c("0x951")],y:this.mouseY}}},this[_0x4b1c("0x974")]=function(x){if(this[_0x4b1c("0x70b")])switch(x.preventDefault(),x[_0x4b1c("0x261")]){case 38:case 87:this[_0x4b1c("0x957")]=!0;break;case 37:case 65:this[_0x4b1c("0x975")]=!0;break;case 40:case 83:this[_0x4b1c("0x96b")]=!0;break;case 39:case 68:this.moveRight=!0;break;case 82:this[_0x4b1c("0x976")]=!0;break;case 70:this.moveDown=!0;break;case 18:this.stopAsap2=!0}},this[_0x4b1c("0x977")]=function(x){if(this.enabled)switch(x[_0x4b1c("0x261")]){case 38:case 87:this[_0x4b1c("0x957")]=!1;break;case 37:case 65:this[_0x4b1c("0x975")]=!1;break;case 40:case 83:this[_0x4b1c("0x96b")]=!1;break;case 39:case 68:this.moveRight=!1;break;case 82:this[_0x4b1c("0x976")]=!1;break;case 70:this[_0x4b1c("0x978")]=!1;break;case 18:this[_0x4b1c("0x979")]=!1}},this[_0x4b1c("0x164")]=function(x){if(!1!==this[_0x4b1c("0x70b")]){if(this[_0x4b1c("0x97a")]){var c=THREE[_0x4b1c("0x215")][_0x4b1c("0x97b")](this[_0x4b1c("0x1d")].position.y,this.heightMin,this[_0x4b1c("0x94a")])-this.heightMin;this[_0x4b1c("0x950")]=x*(c*this[_0x4b1c("0x948")])}else this[_0x4b1c("0x950")]=0;var b=x*this.movementSpeed,_=this.object.position.y;this[_0x4b1c("0x95f")]&&this[_0x4b1c("0x960")]?(this[_0x4b1c("0x1d")][_0x4b1c("0x105")].x=this[_0x4b1c("0x960")].x,this.object[_0x4b1c("0x105")].z=this[_0x4b1c("0x960")].z,this[_0x4b1c("0x1d")].position.y=this.nextPos.y):((this.moveForward||this[_0x4b1c("0x946")]&&!this[_0x4b1c("0x96b")])&&this.object.translateZ(-(b+this[_0x4b1c("0x950")])),this.moveBackward&&this[_0x4b1c("0x1d")][_0x4b1c("0x97c")](b),this[_0x4b1c("0x975")]&&this[_0x4b1c("0x1d")][_0x4b1c("0x97d")](-b),this[_0x4b1c("0x958")]&&this[_0x4b1c("0x1d")][_0x4b1c("0x97d")](b),this.object[_0x4b1c("0x105")].y=_,this[_0x4b1c("0x976")]&&this[_0x4b1c("0x1d")][_0x4b1c("0x97e")](b),this[_0x4b1c("0x978")]&&this[_0x4b1c("0x1d")][_0x4b1c("0x97e")](-b));var e=THREE.Math[_0x4b1c("0x97b")](this[_0x4b1c("0x1d")][_0x4b1c("0x105")].y,this.minHigh,this[_0x4b1c("0x94b")]);this[_0x4b1c("0x1d")][_0x4b1c("0x105")].y=e;var t=x*this[_0x4b1c("0x945")];this[_0x4b1c("0x947")]||(t=0);var i=1;this[_0x4b1c("0x94d")]&&(i=Math.PI/(this.verticalMax-this[_0x4b1c("0x94e")])),this[_0x4b1c("0x95f")]&&!this[_0x4b1c("0x964")]&&(this[_0x4b1c("0x951")]=0,this[_0x4b1c("0x952")]=0),(this.stopAsap||this.stopAsap2)&&(this[_0x4b1c("0x951")]=0,this[_0x4b1c("0x952")]=0),this.lon+=this.mouseX*t,this[_0x4b1c("0x97f")]&&(this.lat-=this[_0x4b1c("0x952")]*t*i),this[_0x4b1c("0x953")]=Math[_0x4b1c("0x2f5")](-85,Math[_0x4b1c("0x2f6")](85,this[_0x4b1c("0x953")])),this.phi=THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](90-this.lat),this[_0x4b1c("0x956")]=THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](this[_0x4b1c("0x954")])+this[_0x4b1c("0x962")],this[_0x4b1c("0x94d")]&&(this[_0x4b1c("0x955")]=THREE[_0x4b1c("0x215")][_0x4b1c("0x980")](this[_0x4b1c("0x955")],0,Math.PI,this[_0x4b1c("0x94e")],this.verticalMax));var a=this[_0x4b1c("0x2c7")],n=this[_0x4b1c("0x1d")][_0x4b1c("0x105")];a.x=n.x+100*Math[_0x4b1c("0x65d")](this[_0x4b1c("0x955")])*Math[_0x4b1c("0x6b9")](this.theta),this.cruisingMode&&this.nextPos?a.y=n.y:a.y=n.y+100*Math[_0x4b1c("0x6b9")](this[_0x4b1c("0x955")]),a.z=n.z+100*Math.sin(this.phi)*Math[_0x4b1c("0x65d")](this[_0x4b1c("0x956")]),this[_0x4b1c("0x95f")]&&this[_0x4b1c("0x961")]?this[_0x4b1c("0x1d")][_0x4b1c("0x241")](this.lookAtTarget):this[_0x4b1c("0x1d")][_0x4b1c("0x241")](a),this[_0x4b1c("0x95b")]=!1,this[_0x4b1c("0x95e")]=!1}},this[_0x4b1c("0xf3")]=function(){this[_0x4b1c("0x73f")][_0x4b1c("0x29e")](_0x4b1c("0x981"),b,!1),this[_0x4b1c("0x73f")][_0x4b1c("0x29e")](_0x4b1c("0x982"),e,!1),this.domElement.removeEventListener(_0x4b1c("0x983"),_,!1),this[_0x4b1c("0x73f")][_0x4b1c("0x29e")](_0x4b1c("0x984"),t,!1),window[_0x4b1c("0x29e")](_0x4b1c("0x263"),i,!1),window[_0x4b1c("0x29e")](_0x4b1c("0x264"),a,!1)};var _=n(this,this[_0x4b1c("0x96f")]),e=n(this,this[_0x4b1c("0x969")]),t=n(this,this[_0x4b1c("0x96d")]),i=n(this,this.onKeyDown),a=n(this,this[_0x4b1c("0x977")]);function n(x,c){return function(){c.apply(x,arguments)}}this[_0x4b1c("0x73f")][_0x4b1c("0x37")](_0x4b1c("0x981"),b,!1),this[_0x4b1c("0x73f")].addEventListener("mousemove",_,!1),this[_0x4b1c("0x73f")][_0x4b1c("0x37")](_0x4b1c("0x982"),e,!1),this[_0x4b1c("0x73f")].addEventListener("mouseup",t,!1),window[_0x4b1c("0x37")](_0x4b1c("0x263"),i,!1),window[_0x4b1c("0x37")](_0x4b1c("0x264"),a,!1),this[_0x4b1c("0x966")]()}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=r(b(7)),e=r(b(8)),t=r(b(0)),i=r(b(1)),a=b(19),n=r(b(142));function r(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var s=function(){function x(c,b){(0,t[_0x4b1c("0xc")])(this,x),this.map_=c,this[_0x4b1c("0x54")]=c[_0x4b1c("0x136")](b[_0x4b1c("0x12b")]),this[_0x4b1c("0x985")](b),this[_0x4b1c("0x986")]={},this[_0x4b1c("0x12e")]=1,this[_0x4b1c("0x987")]={}}var c;return(0,i.default)(x,[{key:_0x4b1c("0x988"),value:function(x,c){var b=this[_0x4b1c("0x54")][_0x4b1c("0x989")][c][_0x4b1c("0xf7")]-this[_0x4b1c("0x54")][_0x4b1c("0x989")][c][_0x4b1c("0xfb")],_=this[_0x4b1c("0x54")][_0x4b1c("0x989")][c][_0x4b1c("0xf8")]-this[_0x4b1c("0x54")][_0x4b1c("0x989")][c][_0x4b1c("0xfc")],e={w:Math[_0x4b1c("0x98a")](b),h:Math[_0x4b1c("0x98a")](_)},t=(0,a[_0x4b1c("0x6a3")])();e.w=e.w*t[0]/15,e.h=e.h*t[1]/15;var i=1,n=x||8192;return(b>500||_>500)&&n>=8192&&(n=2048),(e.w>=n||e.h>=n)&&(e.w>=e.h?(i=e.h/e.w,e.w=n,e.h=n*i):(i=e.w/e.h,e.h=n,e.w=n*i)),e}},{key:_0x4b1c("0x98b"),value:function(x,c){var b={x:1-(x-this[_0x4b1c("0x54")].floorEdges[this.fnum].minx)/(this.building.floorEdges[this[_0x4b1c("0x12e")]][_0x4b1c("0xf7")]-this[_0x4b1c("0x54")][_0x4b1c("0x989")][this[_0x4b1c("0x12e")]].minx),y:1-(c-this[_0x4b1c("0x54")][_0x4b1c("0x989")][this.fnum][_0x4b1c("0xfc")])/(this[_0x4b1c("0x54")].floorEdges[this.fnum][_0x4b1c("0xf8")]-this[_0x4b1c("0x54")][_0x4b1c("0x989")][this[_0x4b1c("0x12e")]][_0x4b1c("0xfc")])};return b.x=b.x*this[_0x4b1c("0x47")].width,b.y=b.y*this[_0x4b1c("0x47")].height,b}},{key:_0x4b1c("0x985"),value:function(x){var c=this;c.options={opacity:x[_0x4b1c("0x1")](_0x4b1c("0x129"))?x[_0x4b1c("0x129")]:1,mapOpacity:x[_0x4b1c("0x1")](_0x4b1c("0x98c"))?x[_0x4b1c("0x98c")]:1,radius:x[_0x4b1c("0x68f")]?x.radius:30,bshadow:x[_0x4b1c("0x68f")]?x[_0x4b1c("0x68f")]/20:1.5,maxSize:x[_0x4b1c("0x98d")]||8192,gendatas:!!x[_0x4b1c("0x98e")],backgroundColor:x[_0x4b1c("0x1ce")]||_0x4b1c("0x126"),boundVal:15e3,duration:x[_0x4b1c("0x1a4")],shadowBlur:15,points:{max:x[_0x4b1c("0x2f5")]?x.max:100,data:[]},gradient:x[_0x4b1c("0x98f")]?x[_0x4b1c("0x98f")]:{.45:_0x4b1c("0x990"),.55:_0x4b1c("0x991"),.65:_0x4b1c("0x992"),.95:_0x4b1c("0x993"),1:_0x4b1c("0x994")}};var b=document[_0x4b1c("0x21")]("canvas"),_=b.getContext("2d");c[_0x4b1c("0x47")][_0x4b1c("0x995")]=_,c[_0x4b1c("0x47")][_0x4b1c("0x588")]=b;var e=document[_0x4b1c("0x21")](_0x4b1c("0x588")),t=e[_0x4b1c("0x332")]("2d");c[_0x4b1c("0x47")].ctxCopy=t,c[_0x4b1c("0x47")][_0x4b1c("0x996")]=e}},{key:_0x4b1c("0x997"),value:function(x,c,b,_){var e=this,t=e[_0x4b1c("0x47")][_0x4b1c("0x995")],i=(e.options[_0x4b1c("0x68f")],e[_0x4b1c("0x47")][_0x4b1c("0x998")]),a=parseFloat(b/e[_0x4b1c("0x47")][_0x4b1c("0x12c")][_0x4b1c("0x2f5")],10);t[_0x4b1c("0x341")]=_?_0x4b1c("0x999")+h+")":_0x4b1c("0x99a")+a+")",t[_0x4b1c("0x342")]=i,t[_0x4b1c("0x343")]=i,t[_0x4b1c("0x340")]=e[_0x4b1c("0x47")][_0x4b1c("0x340")],t[_0x4b1c("0x34b")](),t[_0x4b1c("0x348")](x-i,c-i,e[_0x4b1c("0x47")][_0x4b1c("0x68f")],0,2*Math.PI,!0),t[_0x4b1c("0x99b")](),t[_0x4b1c("0x464")]()}},{key:"colorize",value:function(){for(var x=this,c=x[_0x4b1c("0x47")][_0x4b1c("0x1c9")],b=x.options.height,_=x[_0x4b1c("0x47")][_0x4b1c("0x995")],e=_[_0x4b1c("0x99c")](0,0,c,b),t=e[_0x4b1c("0x569")],i=t.length,a=x.getPalette(),n=x[_0x4b1c("0x47")][_0x4b1c("0x129")]?255*x[_0x4b1c("0x47")][_0x4b1c("0x129")]:255,r=3;r<i;r+=4){var s=t[r],o=4*s;if(o){var f=s<n?s:n;t[r-3]=a[o],t[r-2]=a[o+1],t[r-1]=a[o+2],t[r]=f}}e[_0x4b1c("0x569")][_0x4b1c("0xdb")](t),_[_0x4b1c("0x99d")](e,0,0)}},{key:_0x4b1c("0x99e"),value:function(x){var c=this;c.fnum=x;var b=c[_0x4b1c("0x47")],_=c[_0x4b1c("0x988")](b[_0x4b1c("0x98d")],x),e=_.w,t=_.h;b[_0x4b1c("0x1c9")]=e,b[_0x4b1c("0x1a3")]=t,b[_0x4b1c("0x588")][_0x4b1c("0x1c9")]=e,b[_0x4b1c("0x588")].height=t,b[_0x4b1c("0x996")][_0x4b1c("0x1c9")]=e,b[_0x4b1c("0x996")][_0x4b1c("0x1a3")]=t,this[_0x4b1c("0x987")][x]||(this.HeatMapMaterials[x]={matTool:new(n[_0x4b1c("0xc")])({duration:b[_0x4b1c("0x1")](_0x4b1c("0x1a4"))?b[_0x4b1c("0x1a4")]:1,colorStr:b.backgroundColor})})}},{key:_0x4b1c("0x99f"),value:(c=(0,e[_0x4b1c("0xc")])(_[_0x4b1c("0xc")].mark((function x(c){var b,e,t,i,a,n,r,s,o,f,l,d,u,h;return _.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:if(e=(b=this).options[_0x4b1c("0x588")],t=new(THREE[_0x4b1c("0x35e")])(e),i=b.options[_0x4b1c("0x98c")],a=b.building.getFloor(c),n=null,t[_0x4b1c("0x188")]=!0,b.HeatMapMaterials[c]&&b[_0x4b1c("0x987")][c][_0x4b1c("0x9a0")]){x[_0x4b1c("0x286")]=7;break}return _0x4b1c("0x9a1"),x.abrupt("return");case 7:if(!a[_0x4b1c("0x9a2")]){x[_0x4b1c("0x286")]=16;break}return n=b[_0x4b1c("0x987")][c][_0x4b1c("0x9a3")],x[_0x4b1c("0x286")]=11,b[_0x4b1c("0x987")][c].matTool[_0x4b1c("0x164")](t);case 11:if(b[_0x4b1c("0x987")][c]&&b[_0x4b1c("0x987")][c][_0x4b1c("0x9a0")].shader){x[_0x4b1c("0x286")]=13;break}return x.abrupt(_0x4b1c("0x28a"));case 13:b[_0x4b1c("0x987")][c][_0x4b1c("0x9a0")].shader.uniforms.texture1[_0x4b1c("0x13a")][_0x4b1c("0xf3")](),x[_0x4b1c("0x286")]=19;break;case 16:(n=b[_0x4b1c("0x987")][c][_0x4b1c("0x9a0")].createMaterial(t,new(THREE[_0x4b1c("0x35e")])))[_0x4b1c("0x165")][_0x4b1c("0x1f7")]=_0x4b1c("0x9a4"),b.HeatMapMaterials[c][_0x4b1c("0x9a3")]=n;case 19:c!=b.building[_0x4b1c("0x575")]&&b.building[_0x4b1c("0x47")].focusAlphaMode,r=a.getObjectsByAlias(_0x4b1c("0x5fd")),s=0;case 23:if(!(s<r[_0x4b1c("0x0")])){x[_0x4b1c("0x286")]=36;break}if(o=r[s],"heatmap"!=(f=o.material[0])[_0x4b1c("0x165")].name){x[_0x4b1c("0x286")]=28;break}return x[_0x4b1c("0x293")](_0x4b1c("0x686"),33);case 28:o[_0x4b1c("0xf2")][_0x4b1c("0x43c")](_0x4b1c("0x9a5"),o.geometry[_0x4b1c("0x435")]("uv")),o.geometry[_0x4b1c("0x43c")]("uv",o[_0x4b1c("0xf2")][_0x4b1c("0x435")](_0x4b1c("0x9a6"))),o[_0x4b1c("0x165")][_0x4b1c("0x9a7")]=f,l=o.material[1],o[_0x4b1c("0xf4")]=l?[n,l]:[n];case 33:s++,x.next=23;break;case 36:d=a[_0x4b1c("0x9a8")]([_0x4b1c("0x1e6"),_0x4b1c("0x600")]),u=a[_0x4b1c("0x9a8")](["model3d"]),h=function(x){x.userData.originalStatus||(x[_0x4b1c("0x165")].originalStatus={transparent:x[_0x4b1c("0x145")],opacity:x[_0x4b1c("0x129")],depthWrite:x.depthWrite},x[_0x4b1c("0x145")]=!0,x[_0x4b1c("0x129")]=i,x[_0x4b1c("0x16f")]=!1)},1!=i&&u.forEach((function(x){x.renderOrder=0,x[_0x4b1c("0x103")]((function(x){if(x.material)if(x.material instanceof Array)for(var c in x[_0x4b1c("0xf4")])x[_0x4b1c("0xf4")][c]&&h(x.material[c]);else h(x[_0x4b1c("0xf4")])}))})),d[_0x4b1c("0x1c")]((function(x){var c=x.material,b=c[0];b[_0x4b1c("0x165")].cloned||((b=b.clone()).userData[_0x4b1c("0x41e")]=!0,c[0]=b),b[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x129"))||(b.userData.transparent=b[_0x4b1c("0x145")],b[_0x4b1c("0x165")][_0x4b1c("0x129")]=b[_0x4b1c("0x129")]),b[_0x4b1c("0x145")]=!0,b[_0x4b1c("0x129")]=i})),a[_0x4b1c("0x9a2")]=!0;case 42:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return c[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x9ac"),value:function(x){var c=this,b=function(x){if(x[_0x4b1c("0x165")].originalStatus){var c=x[_0x4b1c("0x165")].originalStatus;x[_0x4b1c("0x145")]=c[_0x4b1c("0x145")],x[_0x4b1c("0x129")]=c[_0x4b1c("0x129")],x[_0x4b1c("0x16f")]=c[_0x4b1c("0x16f")],x[_0x4b1c("0x188")]=!0,x[_0x4b1c("0x3e")]&&(x[_0x4b1c("0x3e")][_0x4b1c("0x188")]=!0),x[_0x4b1c("0x165")][_0x4b1c("0x9aa")]=null}};if(x){var _=c[_0x4b1c("0x54")][_0x4b1c("0x662")](x);if(!_[_0x4b1c("0x9a2")]||!this[_0x4b1c("0x987")][x])return;if(1!=c.options.mapOpacity)_[_0x4b1c("0x9a8")]([_0x4b1c("0x1e7")])[_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xf4")])if(x.material instanceof Array)for(var c in x[_0x4b1c("0xf4")])x.material[c]&&b(x.material[c]);else b(x.material)}))}));for(var e=_.getObjectsByAlias(_0x4b1c("0x5fd")),t=0;t<e.length;t++){var i=e[t];i.geometry.addAttribute("uv",i.geometry[_0x4b1c("0x435")](_0x4b1c("0x9a5")));var a=i.material[0];a[_0x4b1c("0x165")].name==_0x4b1c("0x9a4")&&c[_0x4b1c("0x987")][x].matTool[_0x4b1c("0x47d")]&&(c.HeatMapMaterials[x].matTool[_0x4b1c("0x47d")].uniforms[_0x4b1c("0x4b1")]&&c[_0x4b1c("0x987")][x][_0x4b1c("0x9a0")].shader.uniforms[_0x4b1c("0x4b1")].value[_0x4b1c("0xf3")](),c.HeatMapMaterials[x].matTool[_0x4b1c("0x47d")][_0x4b1c("0x148")][_0x4b1c("0x4b0")]&&c[_0x4b1c("0x987")][x].matTool[_0x4b1c("0x47d")].uniforms[_0x4b1c("0x4b0")][_0x4b1c("0x13a")][_0x4b1c("0xf3")]()),a.dispose(),a=null;var n=i.material[1],r=i[_0x4b1c("0x165")][_0x4b1c("0x9a7")];r[_0x4b1c("0x3e")]&&(r[_0x4b1c("0x3e")][_0x4b1c("0x188")]=!0),i[_0x4b1c("0xf4")]=n?[r,n]:[r],_[_0x4b1c("0x9a8")](["model",_0x4b1c("0x600")]).forEach((function(x){x[_0x4b1c("0xf4")][0].transparent=x[_0x4b1c("0xf4")][0][_0x4b1c("0x165")][_0x4b1c("0x145")],x[_0x4b1c("0xf4")][0].opacity=x.material[0][_0x4b1c("0x165")][_0x4b1c("0x129")]}))}this.HeatMapMaterials[x]=null,_[_0x4b1c("0x9a2")]=!1}}},{key:_0x4b1c("0x9ad"),value:function(){var x=document.createElement("canvas"),c=x[_0x4b1c("0x332")]("2d");x[_0x4b1c("0x1c9")]=1,x[_0x4b1c("0x1a3")]=256;var b=this[_0x4b1c("0x47")][_0x4b1c("0x98f")],_=c[_0x4b1c("0x9ae")](0,0,1,256);for(var e in b)_[_0x4b1c("0x9af")](e,b[e]);return c[_0x4b1c("0x33e")]=_,c[_0x4b1c("0x9b0")](0,0,1,256),c[_0x4b1c("0x99c")](0,0,1,256)[_0x4b1c("0x569")]}},{key:"cachePoint",value:function(x,c,b){var _=this[_0x4b1c("0x47")].points,e=_[_0x4b1c("0x569")];b>_.max&&(_[_0x4b1c("0x2f5")]=b),e.push([x,c,b])}},{key:_0x4b1c("0x9b1"),value:function(){this[_0x4b1c("0x47")].points[_0x4b1c("0x569")]=[],this.clear()}},{key:_0x4b1c("0x9b2"),value:function(x,c,b){if(x&&c&&b){var _=this.getPixXY(x,c);if(_){this.renderShadow(_.x,_.y,b,!1),this[_0x4b1c("0x9b3")]()}}}},{key:_0x4b1c("0x719"),value:function(){this[_0x4b1c("0x47")][_0x4b1c("0x995")][_0x4b1c("0x9b4")](0,0,this[_0x4b1c("0x47")][_0x4b1c("0x1c9")],this[_0x4b1c("0x47")][_0x4b1c("0x1a3")])}},{key:"getHeatMapTextures",value:function(){var x=this[_0x4b1c("0x47")][_0x4b1c("0x588")],c=this[_0x4b1c("0x47")][_0x4b1c("0x9b5")];return{mainTexture:new THREE.Texture(x),copyTexture:new(THREE[_0x4b1c("0x35e")])(c)}}},{key:_0x4b1c("0x9b6"),value:function(x){var c=this;c.clear();for(var b=x[_0x4b1c("0x0")],_=0;_<b;_++){var e=x[_][_0x4b1c("0x13a")];if(e){var t=this[_0x4b1c("0x98b")](x[_].x,x[_].y);if(!t)return!0;c[_0x4b1c("0x997")](t.x,t.y,e,!1)}}c[_0x4b1c("0x9b3")]()}},{key:_0x4b1c("0x9b7"),value:function(x){var c=this,b=c[_0x4b1c("0x47")][_0x4b1c("0x1c9")],_=c.options.height,e=c[_0x4b1c("0x47")][_0x4b1c("0x12c")][_0x4b1c("0x2f5")],t=c[_0x4b1c("0x47")][_0x4b1c("0x98e")];c[_0x4b1c("0x719")]();for(var i=0;i<x;i++){var a=Math[_0x4b1c("0x20f")](Math.random()*b+1),n=Math[_0x4b1c("0x20f")](Math.random()*_+1),r=Math[_0x4b1c("0x20f")](Math[_0x4b1c("0x2e")]()*e+1);c.renderShadow(a,n,r,!1),t&&c.renderShadow(a,n,r,!0)}c[_0x4b1c("0x9b3")]()}}]),x}();c.default=s},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=H(b(6)),e=H(b(47)),t=H(b(71)),i=H(b(15)),a=H(b(7)),n=H(b(8)),r=H(b(9)),s=H(b(2)),o=H(b(61)),f=H(b(5)),l=H(b(0)),d=H(b(1)),u=H(b(10)),h=H(b(11)),g=H(b(106)),v=b(4),p=H(b(285)),m=H(b(63)),A=H(b(297)),y=b(19),C=H(b(146)),I=H(b(301)),E=H(b(147)),w=H(b(324)),T=H(b(325)),k=b(23),S=b(4),M=b(326),R=b(43),L=b(27);function H(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var D=0,O={},P=void 0,N=null,F=null,B=!1,z=function(x){function c(x){(0,l[_0x4b1c("0xc")])(this,c);var b=(0,u[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,f[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this,x));b[_0x4b1c("0x9b8")]=0,b.__viewModeAnimating=!1,b[_0x4b1c("0x9b9")]=[],b[_0x4b1c("0x53f")]=[],b.lastSelectLineStore=[],b[_0x4b1c("0x9ba")]=null,b[_0x4b1c("0x697")]=new THREE.TextureLoader,b.TEXTURE_LOADER[_0x4b1c("0x7bb")]=_0x4b1c("0x7b3");var _=b;_[_0x4b1c("0x9bb")]=!1,_[_0x4b1c("0x84")]=_0x4b1c("0x9bc"),b[_0x4b1c("0x266")][_0x4b1c("0x9bd")]=0,(0,S[_0x4b1c("0x338")])()[_0x4b1c("0x339")]||(b.controls[_0x4b1c("0x9be")]=!1),b[_0x4b1c("0x266")][_0x4b1c("0x9bf")]=1,b.controls[_0x4b1c("0x2ad")]=15015.34033758685,b[_0x4b1c("0x9c0")]=!0,b[_0x4b1c("0x13f")]=new(esmap[_0x4b1c("0x9c1")])(b[_0x4b1c("0x47")]),b[_0x4b1c("0x1e1")]=new(esmap[_0x4b1c("0x626")])(b,b[_0x4b1c("0x13f")]),b[_0x4b1c("0x7e")]=new(I[_0x4b1c("0xc")])(b),b[L[_0x4b1c("0xbd")]]=new E.default(!0,b[_0x4b1c("0x1c3")][_0x4b1c("0x9c2")],b[_0x4b1c("0x47")]),b.controls[_0x4b1c("0x37")](_0x4b1c("0x9c3"),b[_0x4b1c("0x9c4")][_0x4b1c("0xe")](b)),b[_0x4b1c("0x9c5")]="3D",b[_0x4b1c("0x26a")]=b.mapView[_0x4b1c("0x658")],b[_0x4b1c("0x9c6")]=!1,b[_0x4b1c("0x9c7")]=new(THREE[_0x4b1c("0x128")]),b[_0x4b1c("0x9c8")]=new THREE.Vector3,b[_0x4b1c("0x9c9")]=new esmap.ESMapScaler(b),b[_0x4b1c("0x9ca")]=new(A[_0x4b1c("0xc")])(b,b[_0x4b1c("0x266")]),b[_0x4b1c("0x9cb")]={},b[_0x4b1c("0x3e1")]=_0x4b1c("0x383"),"3"===b[_0x4b1c("0x47")][_0x4b1c("0x9cc")]&&(esmap.EPSG4490=!0,esmap[_0x4b1c("0x6ae")]=1,b[_0x4b1c("0x47")][_0x4b1c("0x9cd")]&&(esmap[_0x4b1c("0x6ae")]=b.options.fixTileMapScale)),b._buildingAnimating=0,(e=b).on(_0x4b1c("0x9ce"),(function(){e[_0x4b1c("0x321")]()})),b[_0x4b1c("0x9cf")]=[.025,.03,.045,.055,.07,.085,.09,.1,.12,.14,.18,.25,.3,.4,.5,.65,.72,.81,.89,.95,1.02,1.1,1.2],b.timer=new(THREE[_0x4b1c("0x1eb")]),b[_0x4b1c("0x9d0")]=new(THREE[_0x4b1c("0x1eb")]),b[_0x4b1c("0x9d1")]=1,b[_0x4b1c("0x9d2")]={},b[_0x4b1c("0x9d3")]=[],b[_0x4b1c("0x26c")]=!0,b[_0x4b1c("0x9d4")]={},b.focusBuilding=null,b[_0x4b1c("0x68b")]=[],esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")]&&(esmap[_0x4b1c("0x9d5")]++,k[_0x4b1c("0x30")].post({msg:[esmap[_0x4b1c("0x288")].MAP_INSTANCE_REPEAT+": "+esmap[_0x4b1c("0x9d5")]],level:"error"})),esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")]=b,esmap[_0x4b1c("0x9d5")]||(esmap.instanceCount=1),b.IsMapLoading=!0;var e=b;b.on(_0x4b1c("0x9d6"),b[_0x4b1c("0x9d7")]),b[L._ztl_].init(),b[_0x4b1c("0x9d8")]=!1,b[_0x4b1c("0x9d9")]=16,b[_0x4b1c("0x2d4")]=_0x4b1c("0x383"),b[_0x4b1c("0x9da")]=new M.MapLoader(b),esmap[_0x4b1c("0x1a6")][_0x4b1c("0x3e")]=b,b[_0x4b1c("0x2fa")]=new C.default({coord:null,mode:_0x4b1c("0x1a3"),inverse:!1,startCoord:null,depth:100,endCoord:null,typeID:null,dataID:null,excludeNodeTypes:[],targetName:null}),b[_0x4b1c("0x9db")]=new esmap.FirstPersonControls_2(b[_0x4b1c("0x26a")],b.mapView.container),b.FirstPersonControls_2[_0x4b1c("0x70b")]=!1,b[_0x4b1c("0x64c")]=new(THREE[_0x4b1c("0x9dc")])(b[_0x4b1c("0x26a")],b[_0x4b1c("0x1c3")][_0x4b1c("0x536")]),b[_0x4b1c("0x9dd")]=!1,b[_0x4b1c("0x64c")][_0x4b1c("0x70b")]=!1,b[_0x4b1c("0x63f")]=new(esmap[_0x4b1c("0x63f")])(b[_0x4b1c("0x26a")],document[_0x4b1c("0x26")]),b[_0x4b1c("0x63f")].enabled=!1,b._fullscreen=v[_0x4b1c("0x9de")],b.on(_0x4b1c("0x9df"),(function(x){e[_0x4b1c("0x64c")][_0x4b1c("0x164")](x),e[_0x4b1c("0x9db")][_0x4b1c("0x164")](),e[_0x4b1c("0x63f")][_0x4b1c("0x164")](),esmap[_0x4b1c("0x1a6")][_0x4b1c("0x164")]()})),b.on("zoomed",(function(){_[_0x4b1c("0x9bb")]||(_[_0x4b1c("0x9bb")]=!0)})),b.on(_0x4b1c("0x9e0"),(function(){b[_0x4b1c("0x47")][_0x4b1c("0x39b")]&&(b[_0x4b1c("0x232")][_0x4b1c("0x39b")]=!0)})),b.on(_0x4b1c("0x9e1"),(function(){b[_0x4b1c("0x47")][_0x4b1c("0x39b")]&&(b.mapPicker[_0x4b1c("0x39b")]=!0)})),b.on(_0x4b1c("0x9e2"),(function(){b[_0x4b1c("0x47")][_0x4b1c("0x39b")]&&(b[_0x4b1c("0x232")][_0x4b1c("0x39b")]=!0)})),b[_0x4b1c("0x9e3")]=new(esmap[_0x4b1c("0x627")])(b[_0x4b1c("0x232")],b.controls),b[_0x4b1c("0x9e4")]=[],b.localMoveTo=b.moveTo,b[_0x4b1c("0x9e5")]=[],b[_0x4b1c("0x9e6")]=!1,b.cityModelLoadSign=!1,b[_0x4b1c("0x9e7")]=!0,b[_0x4b1c("0x9e8")]=!1;var t=new CustomEvent("ESMapInited",{});return window[_0x4b1c("0x1d9")](t),b}var p,H,z,U,V;return(0,h[_0x4b1c("0xc")])(c,x),(0,d[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x9e9"),value:function(){this[_0x4b1c("0x9ea")][_0x4b1c("0x1c")]((function(x){x()}))}},{key:"restoreArea",value:function(x){var c=this[_0x4b1c("0x9cb")][x];for(var b in c){var _=c[b],e=this[_0x4b1c("0x218")](b);e||(c[b]=null);var t=e[_0x4b1c("0x3f6")][_0x4b1c("0x3f8")](esmap.ESLayerType[_0x4b1c("0x690")]);if(t[0])for(var i=(t=t[0])[_0x4b1c("0xf0")][_0x4b1c("0xf1")],a=0;a<i[_0x4b1c("0x0")];a++)for(var n=i[a],r=n[_0x4b1c("0xef")][_0x4b1c("0x469")],s=n.geometry,o=0;o<r[_0x4b1c("0x0")];o++){var f=r[o],l=_[_0x4b1c("0x114")](f.ID);l>-1&&(_.splice(l,1),s[_0x4b1c("0x9eb")](f.ID))}}this[_0x4b1c("0x9cb")][x]=null}},{key:_0x4b1c("0x9ec"),value:function(x){var c=this;if(!c[_0x4b1c("0x9dd")]){for(var b in c[_0x4b1c("0x64c")][_0x4b1c("0x95f")]=!1,c[_0x4b1c("0x64c")].lastCruAngle=0,c[_0x4b1c("0x64c")][_0x4b1c("0x960")]=null,c[_0x4b1c("0x64c")][_0x4b1c("0x962")]=0,c[_0x4b1c("0x9ed")])c.toClearId[b]&&c[_0x4b1c("0x9ed")][b][_0x4b1c("0x19b")]();c.toClearId=[],x[_0x4b1c("0x9ee")]?(x.needAnimate&&this[_0x4b1c("0x254")]({angle:c[_0x4b1c("0x9ef")][_0x4b1c("0x9f0")]}),c[_0x4b1c("0x9f1")]=!1,x[_0x4b1c("0x9f2")]?new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(c).to({tiltAngle:c[_0x4b1c("0x9ef")][_0x4b1c("0x9f3")]},1e3)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")][_0x4b1c("0x246")])[_0x4b1c("0x1ac")]((function(){c.scaleLevelTo(c.beforeCruiseState.originalScaleLevel,{callback:function(){esmap.ESMapUtil[_0x4b1c("0x64f")](c[_0x4b1c("0x9ef")][_0x4b1c("0x9f4")]),_()}})}))[_0x4b1c("0x1af")]():_()):_()}function _(){x.callback&&x.callback()}}},{key:_0x4b1c("0x9f5"),value:function(x){for(var c=x.id,b=x[_0x4b1c("0x219")],_=0;_<this[_0x4b1c("0x1e1")].modelInfos[_0x4b1c("0x0")];_++){var e=this[_0x4b1c("0x1e1")].modelInfos[_];if(e.id===c||e[_0x4b1c("0x219")]===b)return e}return null}},{key:_0x4b1c("0x9f6"),value:function(x){var c=null;function b(x,c){var b=new(THREE[_0x4b1c("0x128")])(0,0,1),_=new(THREE[_0x4b1c("0x128")])(x.x,0,x.y),e=new(THREE[_0x4b1c("0x128")])(c.x,0,c.y).clone()[_0x4b1c("0x6a0")](_)[_0x4b1c("0x301")](),t=e[_0x4b1c("0x231")](b)*THREE.Math.RAD2DEG;return e[_0x4b1c("0x13e")]()[_0x4b1c("0x230")](b).y>0?360-t:t}function _(x,i){if(x!=i[_0x4b1c("0x0")]){var a=(0,v[_0x4b1c("0x11d")])(i[x-1],i[x])/(i[x-1][_0x4b1c("0x2d8")]||t.speed);!function(){if(0!=e[_0x4b1c("0x64c")][_0x4b1c("0x95f")]){var n={x:i[x-1].x,y:i[x-1].y},r={x:i[x].x,y:i[x].y};i[x][_0x4b1c("0x87a")]&&esmap.ESMapUtil[_0x4b1c("0x4f5")](e,_0x4b1c("0x68a"),{nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")],ID:i[x][_0x4b1c("0x87a")].id},(function(c){c[_0x4b1c("0x0")]>0&&c[0][_0x4b1c("0x269")](i[x].animation[_0x4b1c("0x9f7")])}));var s=b(n,r),o=!1;null!=c&&Math[_0x4b1c("0x23d")](c-s)>10&&(o=!0),c=s;var f=90-s;o&&e.rotateTo({angle:f,time:t[_0x4b1c("0x9f9")]});var l=new(esmap.TWEEN[_0x4b1c("0x1a7")])(n).to(r,1e3*a)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")][_0x4b1c("0x246")]).onUpdate((function(c){i[x-1].x,i[x-1].y;var b={x:i[x-1].x+c[_0x4b1c("0x13a")]*(i[x].x-i[x-1].x),y:i[x-1].y+c[_0x4b1c("0x13a")]*(i[x].y-i[x-1].y)};e[_0x4b1c("0x64c")].nextPos=b}))[_0x4b1c("0x1ac")]((function(){_(x+=1,i)}))[_0x4b1c("0x1af")]();e[_0x4b1c("0x9ed")][_0x4b1c("0x12")](l)}}()}else e[_0x4b1c("0x9ec")]({callback:t.afterEnd,needAnimate:t[_0x4b1c("0x9fa")]})}var e=this;e[_0x4b1c("0x9ed")]=[];var t=(0,s.default)({speed:1,lookSpeed:.05,userIntersecting:!1,exitModeOnEnd:!0,beforeStart:null,afterEnd:null,easeIn:!0,easeOut:!0,rotateTime:1.2,lookVertical:!0,fnum:e[_0x4b1c("0x575")],scaleRate:.025,height:2},x),i=x.points;e[_0x4b1c("0x9ef")]={originalControlState:esmap[_0x4b1c("0x87")].getControlsInfo(),originalScaleLevel:map.scaleLevel,originalTiltAngle:map[_0x4b1c("0x2c1")],originalRotateAngle:map.rotateAngle};var a=b(i[0],i[1]);function n(){t[_0x4b1c("0x9ff")]&&t[_0x4b1c("0x9ff")](),e[_0x4b1c("0x9dd")]=!1;var x=e[_0x4b1c("0x266")][_0x4b1c("0x1d")][_0x4b1c("0x105")][_0x4b1c("0x13e")]();e[_0x4b1c("0x266")][_0x4b1c("0x70b")]=!1,e[_0x4b1c("0x9f1")]=!0,e[_0x4b1c("0x64c")][_0x4b1c("0x964")]=t[_0x4b1c("0x964")],e.firstPersonControls.movementSpeed=1,e.firstPersonControls[_0x4b1c("0x945")]=t[_0x4b1c("0x945")],e.firstPersonControls[_0x4b1c("0xa00")]=!1,e[_0x4b1c("0x64c")].lookVertical=t.lookVertical,e[_0x4b1c("0x64c")].cruisingMode=!0,r.unshift({x:x.x,y:x.z}),_(1,r)}e[_0x4b1c("0x9dd")]=!0,t[_0x4b1c("0x9fb")]?map[_0x4b1c("0x325")]({time:1,x:i[0].x,y:i[0].y,callback:function(){e[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x20b")](new THREE.Vector3(-i[0].x,t.height,i[0].y)),e[_0x4b1c("0x266")][_0x4b1c("0x164")](),map[_0x4b1c("0x254")]({angle:a,time:.5,onComplete:function(){map.options[_0x4b1c("0x9fc")]?map.controls[_0x4b1c("0x9fd")](19,4e3,(function(){new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(e).to({tiltAngle:89},1e3)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")][_0x4b1c("0x246")]).onComplete((function(){n()}))[_0x4b1c("0x1af")]()})):map[_0x4b1c("0x9fe")](t.scaleRate,{time:1,rawLevel:!0,callback:function(){new(esmap.TWEEN[_0x4b1c("0x1a7")])(e).to({tiltAngle:89},1e3).easing(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")][_0x4b1c("0x246")])[_0x4b1c("0x1ac")]((function(){n()}))[_0x4b1c("0x1af")]()}})}})}}):n();var r=[];i[_0x4b1c("0x1c")]((function(x){r[_0x4b1c("0x12")]({x:-x.x,y:x.y,speed:x[_0x4b1c("0x2d8")]||null,animation:x[_0x4b1c("0x87a")]||null})}))}},{key:"onMapResize",value:function(x){this[L._ztl_][_0x4b1c("0x52b")](x[_0x4b1c("0x1c9")],x.height)}},{key:_0x4b1c("0xa01"),value:function(x){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=null;if(0==this[_0x4b1c("0xa02")])if(this[_0x4b1c("0x136")](x))console[_0x4b1c("0x424")]("建筑已处于打开状态！");else{if(!this.options[_0x4b1c("0xa03")]){var _=(new Date).getTime();this[_0x4b1c("0xa04")]?b=_-this[_0x4b1c("0xa04")]:this[_0x4b1c("0xa04")]=_,this.tl_=_,b&&b<=1e3&&console[_0x4b1c("0x291")](esmap[_0x4b1c("0x288")].TOO_FAST)}esmap[_0x4b1c("0x32")].IsMapLoading?this[_0x4b1c("0x2b3")].preLoadBuildingId=x:this[_0x4b1c("0xa05")]({id:x,moveTo:c[_0x4b1c("0x325")],openAnimate:this[_0x4b1c("0x47")].buildingOpenAnimation})}}},{key:_0x4b1c("0x325"),value:function(x){var c,b=this;if(x)return new(r[_0x4b1c("0xc")])((c=(0,n[_0x4b1c("0xc")])(a.default[_0x4b1c("0x283")]((function c(_){var e,t,i,n,r,s,o,f,l,d;return a[_0x4b1c("0xc")].wrap((function(c){for(;;)switch(c[_0x4b1c("0x285")]=c.next){case 0:if(e=b,t=0,!x[_0x4b1c("0x12e")]||b.mode!=esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]){c[_0x4b1c("0x286")]=13;break}if(i=b[_0x4b1c("0x566")](),x.fnum=Number(x[_0x4b1c("0x12e")]),i[_0x4b1c("0x575")]==x[_0x4b1c("0x12e")]){c[_0x4b1c("0x286")]=11;break}return c[_0x4b1c("0x286")]=8,i[_0x4b1c("0xa06")](x[_0x4b1c("0x12e")]);case 8:return c[_0x4b1c("0x286")]=10,i[_0x4b1c("0x2d7")](x.fnum);case 10:t=c[_0x4b1c("0x337")];case 11:c[_0x4b1c("0x286")]=14;break;case 13:t=x[_0x4b1c("0x1a3")];case 14:n=b[_0x4b1c("0x1c3")][_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x13e")](),r=b[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x105")][_0x4b1c("0x13e")](),s=b[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x202")][_0x4b1c("0x13e")](),o=b[_0x4b1c("0x238")]({x:x.x,y:x.y,z:t}),f=o[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](n[_0x4b1c("0x13e")]()),l=new(THREE[_0x4b1c("0x128")])(r.x+f.x,r.y+f.y,r.z+f.z),d=1,typeof x[_0x4b1c("0x1a5")]===_0x4b1c("0x18f")&&(d=x[_0x4b1c("0x1a5")]),b.animate_target&&b[_0x4b1c("0xa07")].stop(),b[_0x4b1c("0xa07")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(e.controls[_0x4b1c("0x2c7")]).to(o[_0x4b1c("0x13e")](),1e3*d)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ab")])[_0x4b1c("0x174")]((function(){e[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x202")][_0x4b1c("0x20b")](s)}))[_0x4b1c("0x1ac")]((function(){}))[_0x4b1c("0x1af")](),b[_0x4b1c("0xa08")]&&b.animate_camera[_0x4b1c("0x19b")](),b[_0x4b1c("0xa08")]=new(esmap[_0x4b1c("0x1a6")].Tween)(e[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x105")]).to(l,1e3*d)[_0x4b1c("0x1a8")](esmap.TWEEN[_0x4b1c("0x1a9")][_0x4b1c("0x1aa")].InOut)[_0x4b1c("0x174")]((function(){e[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x202")][_0x4b1c("0x20b")](s),e[_0x4b1c("0x266")].update({forceTheta:e[_0x4b1c("0x266")][_0x4b1c("0x2ce")](),forcePhi:e[_0x4b1c("0x266")][_0x4b1c("0x2cf")]()})}))[_0x4b1c("0x1ac")]((function(){e.updateTileView(),x.callback&&x[_0x4b1c("0x1b0")](),_(e.animate_target)}))[_0x4b1c("0x1af")]();case 26:case _0x4b1c("0x2a0"):return c[_0x4b1c("0x19b")]()}}),c,b)}))),function(x){return c.apply(this,arguments)}))}},{key:"moveByDirection",value:function(x){var c=x[_0x4b1c("0x3fe")],b=x[_0x4b1c("0x23c")],_=x[_0x4b1c("0x1a5")],e=x.complete;if(c&&b)if(typeof c===_0x4b1c("0xd")&&typeof b===_0x4b1c("0x18f")){var t=this,i=this.mapView[_0x4b1c("0x266")].target,a=this[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x105")],n=this[_0x4b1c("0x1c3")].camera.rotation[_0x4b1c("0x13e")](),r=this[_0x4b1c("0x1c3")][_0x4b1c("0x536")],s=new(THREE[_0x4b1c("0x128")])(0,0,0),o=new(THREE[_0x4b1c("0x516")]),f=new(THREE[_0x4b1c("0x552")]);f.x=r[_0x4b1c("0x530")]/2/window[_0x4b1c("0x967")]*2-1,f.y=-.5,o[_0x4b1c("0xa0b")](f,this[_0x4b1c("0x26a")]);var l=o[_0x4b1c("0x51a")](this.mapView[_0x4b1c("0x102")][_0x4b1c("0xf1")],!0);l.length>0&&((s=l[0][_0x4b1c("0x2f7")]).y=0);var d=void 0;switch(d=i[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](s[_0x4b1c("0x13e")]()).normalize(),c){case _0x4b1c("0x23e"):break;case"backward":d=d[_0x4b1c("0x13e")]()[_0x4b1c("0xa0c")]();break;case _0x4b1c("0x359"):d=new(THREE[_0x4b1c("0x128")])(d.z,0,-d.x);break;case _0x4b1c("0x35a"):d=new(THREE[_0x4b1c("0x128")])(-d.z,0,d.x);break;default:return void console[_0x4b1c("0xe3")](_0x4b1c("0xa0d"))}var u=i[_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](d[_0x4b1c("0x13e")]().multiplyScalar(b)),h=new THREE.Vector3(a.x+d.x*b,a.y+d.y*b,a.z+d.z*b);if("2D"===this[_0x4b1c("0x388")]){var g=this[_0x4b1c("0x20d")](h);this.moveTo({x:g.x,y:g.y,time:_||1,callback:e})}else new(esmap[_0x4b1c("0x1a6")].Tween)(t[_0x4b1c("0x266")].target).to(u,1e3*(_||1))[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")].Quadratic[_0x4b1c("0x1ab")])[_0x4b1c("0x1af")](),new(esmap.TWEEN[_0x4b1c("0x1a7")])(t.mapView[_0x4b1c("0x658")][_0x4b1c("0x105")]).to(h,1e3*(_||1))[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")].Quadratic.InOut)[_0x4b1c("0x174")]((function(){t[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x202")][_0x4b1c("0x20b")](n)})).onComplete((function(){t[_0x4b1c("0x321")](),e&&e()}))[_0x4b1c("0x1af")]();this[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x241")](u),this[_0x4b1c("0x1c3")][_0x4b1c("0x266")][_0x4b1c("0x164")](),this[_0x4b1c("0x1c3")].controls[_0x4b1c("0x2c7")][_0x4b1c("0x20b")](u)}else console[_0x4b1c("0xe3")](_0x4b1c("0xa0a"));else console[_0x4b1c("0xe3")](_0x4b1c("0xa09"))}},{key:_0x4b1c("0xa0e"),value:function(x){if(this[_0x4b1c("0x1c3")]){var c=this[_0x4b1c("0x266")][_0x4b1c("0x1d")],b=x/this.mapView[_0x4b1c("0x658")][_0x4b1c("0x65f")],_=THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](this[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x65e")]),e=b/(2*Math.tan(_/2));if(c instanceof THREE[_0x4b1c("0x8d7")]){var t=this[_0x4b1c("0xa0f")]();t[_0x4b1c("0x68f")]=e,t[_0x4b1c("0x1a5")]=0,this[_0x4b1c("0x25f")](t)}else c instanceof THREE.OrthographicCamera&&this[_0x4b1c("0x266")][_0x4b1c("0xa10")](e)}}},{key:_0x4b1c("0xa11"),value:function(x){if(this.mapView){var c=this[_0x4b1c("0x266")][_0x4b1c("0x1d")],b=THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](this[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x65e")]),_=x/(2*Math[_0x4b1c("0x2f9")](b/2));if(c instanceof THREE[_0x4b1c("0x8d7")]){var e=this.cameraFlyToHelper();e[_0x4b1c("0x68f")]=_,e[_0x4b1c("0x1a5")]=0,this[_0x4b1c("0x25f")](e)}else c instanceof THREE.OrthographicCamera&&this[_0x4b1c("0x266")].updateCameraByDistanceIn2D(_)}}},{key:"disposeBuilding",value:function(x){for(var c=this[_0x4b1c("0x136")](x),b=0;b<this[_0x4b1c("0x68b")][_0x4b1c("0x0")];b++)if(this[_0x4b1c("0x68b")][b].id==x){this[_0x4b1c("0x68b")][_0x4b1c("0x5")](b,1);break}var _=c[_0x4b1c("0xa12")];_[_0x4b1c("0xa13")]={},_[_0x4b1c("0xa14")]={},_[_0x4b1c("0xa15")]={},_[_0x4b1c("0xa16")]={},_[_0x4b1c("0xa17")]=[],_[_0x4b1c("0xa18")]=[],_.modelLineLayers={},_.modelImageGeos={},_[_0x4b1c("0xa19")]={},_[_0x4b1c("0xa1a")]={},_[_0x4b1c("0xa1b")]=!1,_[_0x4b1c("0xa1c")]={},c[_0x4b1c("0x26b")][_0x4b1c("0x2a2")]={},c[_0x4b1c("0x26b")][_0x4b1c("0xa1d")]=[],c.modelLoadManager[_0x4b1c("0xa1e")]=[],c[_0x4b1c("0x26b")][_0x4b1c("0x26d")]=!1,c[_0x4b1c("0x26b")].viewRangeUpdated=!1,_.modelManagerStarted=!1,c[_0x4b1c("0xa1f")]=!1,this[_0x4b1c("0x232")].watchingList[c.id]&&delete this[_0x4b1c("0x232")][_0x4b1c("0x3ed")][c.id],this[_0x4b1c("0x13f")][_0x4b1c("0xa20")]={},this[_0x4b1c("0x31e")](c.id),c[_0x4b1c("0xf0")].parent[_0x4b1c("0x2ea")](c[_0x4b1c("0xf0")]),this.mapScene.clear(c[_0x4b1c("0xf0")])}},{key:_0x4b1c("0xa21"),value:function(x){x=String(x),this[_0x4b1c("0x7e")].cache[_0x4b1c("0x3c")]=x,this[_0x4b1c("0xa22")]({id:x})}},{key:_0x4b1c("0xa23"),value:function(){this[_0x4b1c("0x2b3")][_0x4b1c("0xe9")](),this[_0x4b1c("0x7e")][_0x4b1c("0xe9")](),this[_0x4b1c("0x9d8")]=!1}},{key:_0x4b1c("0xa24"),value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x=(0,s[_0x4b1c("0xc")])({color:_0x4b1c("0xa25"),thickness:5,opacity:1,align:_0x4b1c("0x35c")},x),this[_0x4b1c("0x1c3")][_0x4b1c("0xa26")](x)}},{key:_0x4b1c("0xa22"),value:(V=(0,n.default)(a.default[_0x4b1c("0x283")]((function x(c){var b,_,e;return a.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:return b=c.id,_=new CustomEvent(_0x4b1c("0x38"),{detail:{id:b}}),window[_0x4b1c("0x1d9")](_),e=this.options,esmap[_0x4b1c("0x32")].IsMapLoading=!0,x[_0x4b1c("0x285")]=5,x[_0x4b1c("0x286")]=8,this[_0x4b1c("0x7e")][_0x4b1c("0x873")].update(b);case 8:x[_0x4b1c("0x286")]=13;break;case 10:x[_0x4b1c("0x285")]=10,x.t0=x[_0x4b1c("0x87c")](5),k[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:""+x.t0[_0x4b1c("0x2f")](),level:_0x4b1c("0xe3")});case 13:if(this[_0x4b1c("0x1e1")][_0x4b1c("0xa27")]||(this.mapScene.inited=!0,this.mapScene.init(),this._maploader[_0x4b1c("0x211")]()),x[_0x4b1c("0x285")]=14,e.mode!==esmap.MapMode[_0x4b1c("0x1e2")]){x[_0x4b1c("0x286")]=20;break}return x[_0x4b1c("0x286")]=18,this[_0x4b1c("0x9da")][_0x4b1c("0xa28")](b);case 18:x[_0x4b1c("0x286")]=22;break;case 20:return x.next=22,this._maploader[_0x4b1c("0xa29")](b);case 22:x[_0x4b1c("0x286")]=28;break;case 24:x[_0x4b1c("0x285")]=24,x.t1=x[_0x4b1c("0x87c")](14),k[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:""+x.t1.toString(),level:_0x4b1c("0xe3")}),console[_0x4b1c("0xe3")](x.t1);case 28:case"end":return x.stop()}}),x,this,[[5,10],[14,24]])}))),function(x){return V[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0xa2a"),value:function(){var x=this;return new(r[_0x4b1c("0xc")])((function(c,b){var _,e;0==x[_0x4b1c("0x47")].lang?O[0]?_=O[0]:(e=x.options[_0x4b1c("0x3a8")]+"/"+_0x4b1c("0xa2b"),(_=new(w[_0x4b1c("0xc")])({speed:1,version:x[_0x4b1c("0x47")].audioVersion}))[_0x4b1c("0x39")](e,(function(){})),O[0]=_):O[x[_0x4b1c("0x47")][_0x4b1c("0xa3")]]?_=O[x.options.lang]:(e=x[_0x4b1c("0x47")][_0x4b1c("0x3a8")]+_0x4b1c("0xa2c")+x[_0x4b1c("0x47")][_0x4b1c("0xa3")]+_0x4b1c("0xa2d"),(_=new(T[_0x4b1c("0xc")])({speed:1}))[_0x4b1c("0x39")](e,(function(){})),O[x[_0x4b1c("0x47")].lang]=_),x.ESAudioTool=_}))[_0x4b1c("0x87c")]((function(x){console[_0x4b1c("0x291")](esmap.ESInfo.AUDIO_ERR)}))}},{key:_0x4b1c("0xa2e"),value:function(x){this[_0x4b1c("0x13f")][_0x4b1c("0xa2f")][_0x4b1c("0x1c")]((function(c){c[_0x4b1c("0x191")]=x}))}},{key:"openBuilding",value:function(x){var c=this;if(this[_0x4b1c("0x2b3")].cacheBuildings[x.id]){var b=this[_0x4b1c("0x2b3")][_0x4b1c("0xa30")][x.id],_=b.datas_,e=_.shell;if(e)if(6==e[_0x4b1c("0x123")])if(e[_0x4b1c("0xf0")])if(e[_0x4b1c("0xf0")][_0x4b1c("0xef")][_0x4b1c("0x469")]&&e[_0x4b1c("0xf0")][_0x4b1c("0xef")].brothers[_0x4b1c("0x0")]>1){var t=this[_0x4b1c("0x136")](this.id)[_0x4b1c("0x26b")].GLTFMergeTool;if(!e.ID){var a=!0,n=!1,r=void 0;try{for(var s,o=(0,i.default)(e.brothers);!(a=(s=o.next())[_0x4b1c("0x40f")]);a=!0){var f=s[_0x4b1c("0x13a")];if(f[_0x4b1c("0x3c")]===target[_0x4b1c("0x3c")]){e.ID=f.ID;break}}}catch(x){n=!0,r=x}finally{try{!a&&o[_0x4b1c("0x28a")]&&o.return()}finally{if(n)throw r}}}e[_0x4b1c("0xf0")].children[_0x4b1c("0x1c")]((function(x){t.setTargetMeshVisible(x,e.ID,!1)})),e[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0xa31")]||(e[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0xa31")]={}),e.o3d_[_0x4b1c("0x165")][_0x4b1c("0xa31")][x.id]||(e[_0x4b1c("0xf0")].userData.shellMap[x.id]=e.ID)}else x.openAnimate?(this[_0x4b1c("0xa02")]++,esmap[_0x4b1c("0x87")][_0x4b1c("0x272")]({clonemat:!0,target:e.o3d_,alpha:.1,hideOnComplete:!0,time:1.5}),setTimeout((function(){c[_0x4b1c("0xa02")]--}),1600)):e[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1;else e[_0x4b1c("0xf0")].visible=!1;else if(5==e[_0x4b1c("0x123")]){for(var l=e[_0x4b1c("0xf0")][_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x582")][_0x4b1c("0x439")],d=e[_0x4b1c("0x46b")][0],u=e[_0x4b1c("0x46b")][1],h=d;h<u;h+=1)l[h]=1;e[_0x4b1c("0xf0")][_0x4b1c("0xf2")].attributes[_0x4b1c("0x582")][_0x4b1c("0x188")]=!0}return this[_0x4b1c("0xa32")]=!1,this[_0x4b1c("0x1e1")][_0x4b1c("0xa33")].add(b),this[_0x4b1c("0x68b")][_0x4b1c("0x12")](b[_0x4b1c("0xef")]),b[_0x4b1c("0x191")]=!0,this[_0x4b1c("0xe7")]("buildingReady",b[_0x4b1c("0xef")]),this.fire(_0x4b1c("0xa34"),b[_0x4b1c("0xef")]),this[_0x4b1c("0xe7")](_0x4b1c("0xa35"),{bid:_.id}),void _[_0x4b1c("0xa36")]("modelLoadedAll",{bid:_.id})}var g=x.id,v=x[_0x4b1c("0x325")],p=void 0===v?!!x[_0x4b1c("0xa37")]:v,m=x[_0x4b1c("0xa38")],A=(x.x,x.y,x.tileid,x[_0x4b1c("0xa39")],this.tileService[_0x4b1c("0xa3a")][g]),y=this;if(A){var C={x:A.x,y:A.y};p?(y.moveTo(C),setTimeout((function(){y[_0x4b1c("0x321")](),y[_0x4b1c("0x2b3")][_0x4b1c("0xa3b")](),m&&m()}),300),y[_0x4b1c("0x2b3")][_0x4b1c("0xa3c")][_0x4b1c("0x114")](g)<0&&y[_0x4b1c("0x2b3")][_0x4b1c("0xa3c")][_0x4b1c("0x12")](g)):(y[_0x4b1c("0x2b3")][_0x4b1c("0xa3c")][_0x4b1c("0x114")](g)<0&&y.tileService.toLoadedBuildings[_0x4b1c("0x12")](g),y.updateTileView(),y[_0x4b1c("0x2b3")][_0x4b1c("0xa3b")]())}else console[_0x4b1c("0xe3")](_0x4b1c("0xa3d"))}},{key:_0x4b1c("0xa3e"),value:function(x){for(var c=this[_0x4b1c("0x1e1")][_0x4b1c("0xa3f")],b=c[_0x4b1c("0xf1")],_=0;_<b[_0x4b1c("0x0")];_++)if(b[_][_0x4b1c("0xef")]){var e=b[_][_0x4b1c("0xef")];if(e.ID&&e.ID==x){for(var t=0;t<b[_].children.length;t++){var i=b[_][_0x4b1c("0xf1")][t],a=this.mapPicker.watchingList[_0x4b1c("0xc")][_0x4b1c("0x114")](i);i[_0x4b1c("0x756")]=null,i.dispose(),i[_0x4b1c("0x3e")]=null,i=null,a>-1&&this[_0x4b1c("0x232")].watchingList.default[_0x4b1c("0x5")](a,1)}return void c.remove(b[_])}}}},{key:_0x4b1c("0xa40"),value:function(){for(var x=this.mapScene.lineManager,c=x[_0x4b1c("0xf1")],b=0;b<c.length;b++){var _=c[b];if(c[b][_0x4b1c("0xef")]&&35==c[b][_0x4b1c("0xef")].nodeType){for(var e=0;e<_.children[_0x4b1c("0x0")];e++){var t=_[_0x4b1c("0xf1")][e];_[_0x4b1c("0x2ea")](t),e--}x.remove(c[b]),b--}}for(var i=this[_0x4b1c("0x232")][_0x4b1c("0x3ed")][_0x4b1c("0xc")],a=0;a<i[_0x4b1c("0x0")];a++)21==i[a][_0x4b1c("0x123")]&&(i[_0x4b1c("0x5")](a,1),a--)}},{key:_0x4b1c("0xa41"),value:function(x,c){var b=!(arguments[_0x4b1c("0x0")]>2&&void 0!==arguments[2])||arguments[2];function _(c){x[_0x4b1c("0xf0")][_0x4b1c("0xdd")](c);e[_0x4b1c("0x136")](c[_0x4b1c("0x12b")]);c[_0x4b1c("0xf4")][_0x4b1c("0x191")]=!0,e[_0x4b1c("0xa42")](!0),t[_0x4b1c("0x1f4")]&&!x[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x579")]&&(x[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x579")]=!0,e[_0x4b1c("0x232")][_0x4b1c("0x3ec")](c)),null!=t[_0x4b1c("0x1a3")]&&(c[_0x4b1c("0x105")].y+=t[_0x4b1c("0x1a3")]),t[_0x4b1c("0x28")]=(0,v[_0x4b1c("0x1a2")])(t,"offsetHeight",0),c[_0x4b1c("0x105")].y+=t[_0x4b1c("0x28")],c[_0x4b1c("0x165")][_0x4b1c("0xa43")]=c.position.y}var e=this,t=x[_0x4b1c("0x23")]||e[_0x4b1c("0x13f")][_0x4b1c("0xa44")];t.smooth=null==t[_0x4b1c("0xa45")]||t[_0x4b1c("0xa45")],t[_0x4b1c("0x69c")]=t.segments||null;var i=e[_0x4b1c("0xa46")](x[_0x4b1c("0x12c")]);if(!i){console[_0x4b1c("0x291")](_0x4b1c("0xa47")),e.mapScene[_0x4b1c("0xa3f")][_0x4b1c("0xdd")](x.o3d_);var a=void 0;if(t[_0x4b1c("0x190")]==_0x4b1c("0x61c"))a=new(m[_0x4b1c("0xc")])([],t,!1);else{var n=(0,s.default)({doubleSide:!0},t);a=new(esmap[_0x4b1c("0x638")])([],n,{},0)}return _(a),void(c&&c(a))}var r,o=i[0],f=o[_0x4b1c("0x3e")]((function(x){return(0,s[_0x4b1c("0xc")])(new(THREE[_0x4b1c("0x128")]),x)})),l=this.mapScene[_0x4b1c("0xa3f")];b&&(x[_0x4b1c("0xf0")][_0x4b1c("0x1d9")]({type:_0x4b1c("0x31c")}),l[_0x4b1c("0xdd")](x[_0x4b1c("0xf0")]));var d=void 0;d=t.hasOwnProperty("nobuildCurveZ")?t[_0x4b1c("0xa48")]:t[_0x4b1c("0x190")]!=esmap.ESLineType[_0x4b1c("0x127")],t[_0x4b1c("0xa45")]||esmap.ESMapUtil[_0x4b1c("0x69f")](o),r=t[_0x4b1c("0xa45")]?esmap[_0x4b1c("0x6a2")].buildCurvePoints(o,8,t.curvature||.2,d):o;for(var u=[],h=[],g=0;g<r.length-1;g++){var p=r[g][_0x4b1c("0x12b")],A=r[g+1].bid,y=u[u[_0x4b1c("0x0")]-1],C=h[h[_0x4b1c("0x0")]-1];if(p==A)C!=p&&(h[_0x4b1c("0x12")](p),u[_0x4b1c("0x12")]([]),(y=u[u[_0x4b1c("0x0")]-1])[_0x4b1c("0x12")](r[g])),y||(u[_0x4b1c("0x12")]([]),y=u[u[_0x4b1c("0x0")]-1]),y[_0x4b1c("0x12")](r[g+1]);else{h[_0x4b1c("0x12")](p+"-&-"+A);var I=r[g].clone();I[_0x4b1c("0x12e")]=r[g].fnum,I.bid=r[g][_0x4b1c("0x12b")];var E=r[g+1].clone();E[_0x4b1c("0x12e")]=r[g+1][_0x4b1c("0x12e")],E[_0x4b1c("0x12b")]=r[g+1][_0x4b1c("0x12b")],u[_0x4b1c("0x12")]([I,E])}}for(var w=0;w<h.length;w++){for(var T=u[w],k=[],S=[],M=0;M<T[_0x4b1c("0x0")]-1;M++){var R=T[M][_0x4b1c("0x12e")],L=T[M+1].fnum,H=k[k[_0x4b1c("0x0")]-1],D=S[S[_0x4b1c("0x0")]-1];R==L?(D!=R&&(S[_0x4b1c("0x12")](R),k[_0x4b1c("0x12")]([]),(H=k[k[_0x4b1c("0x0")]-1])[_0x4b1c("0x12")](T[M])),H||(k[_0x4b1c("0x12")]([]),H=k[k.length-1]),H[_0x4b1c("0x12")](T[M+1])):(S.push(R+_0x4b1c("0xa49")+L),k[_0x4b1c("0x12")]([T[M],T[M+1]]))}for(var O=-1,P=0;P<S[_0x4b1c("0x0")];P++){var N=S[P]+"",F=h[w]+"",B="",z=!1;N.indexOf(_0x4b1c("0xa49"))>-1&&F[_0x4b1c("0x114")](_0x4b1c("0xa49"))<0?(z=!0,B=_0x4b1c("0xa4a")+N,!0):F[_0x4b1c("0x114")](_0x4b1c("0xa49"))>-1&&(z=!0,B=_0x4b1c("0xa4b")+F);var U=k[P];if(U&&0!=U[_0x4b1c("0x0")]){O+=1;for(var V,j=0,Z=S[P],Y=!1,W=1;W<f[_0x4b1c("0x0")];W++){var G=f[W-1],X=f[W];if(G[_0x4b1c("0x12b")]==F&&X[_0x4b1c("0x12b")]==F&&G[_0x4b1c("0x12e")]==Z&&X[_0x4b1c("0x12e")]==Z)j+=(0,v[_0x4b1c("0xa4c")])(G,X),Y||(Y=!0);else if(Y)break}if(t[_0x4b1c("0x190")]==_0x4b1c("0x61c"))(V=new(m[_0x4b1c("0xc")])(U,t,z)).bid_=F;else{var Q=(0,s.default)({doubleSide:!0},t);z?(Q[_0x4b1c("0x230")]=!0,this[_0x4b1c("0x47")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]&&(Q.lineType=esmap[_0x4b1c("0xa4d")][_0x4b1c("0xa4e")]),V=new(esmap[_0x4b1c("0x638")])(U,Q,{},O)):V=new(esmap[_0x4b1c("0x638")])(U,Q,{},O),V[_0x4b1c("0x318")]=F}var J=F;F.indexOf("-&-")>-1&&(J=F[_0x4b1c("0x2c")](_0x4b1c("0xa49"))[0]);var K=e[_0x4b1c("0x136")](J);K&&!K[_0x4b1c("0xf0")][_0x4b1c("0x191")]&&(V.visible=!1),j&&(V[_0x4b1c("0xa4f")]=j),V[_0x4b1c("0x1f7")]=z?B:h[w]+"",_(V),c&&c(V)}}}}},{key:_0x4b1c("0xa50"),value:function(x){var c=this,b=(0,s[_0x4b1c("0xc")])({newTab:!1,filename:x.fileName||_0x4b1c("0xa51"),download:!0,width:c[_0x4b1c("0x1c3")].w_,scale:null,height:c[_0x4b1c("0x1c3")].h_},x),_=[c.mapView.w_,c[_0x4b1c("0x1c3")].h_];if((null!==b.scale&&(b[_0x4b1c("0x1c9")]=c.mapView.w_*b[_0x4b1c("0x201")],b.height=c.mapView.h_*b[_0x4b1c("0x201")]),b.width>c[_0x4b1c("0x1c3")].w_||b[_0x4b1c("0x1a3")]>c[_0x4b1c("0x1c3")].h_)&&(this[_0x4b1c("0x7e")][_0x4b1c("0x7f")]("ul")>>1&1||0)<1)return void console.info(esmap[_0x4b1c("0x288")][_0x4b1c("0xa52")]);c[_0x4b1c("0x1c3")][_0x4b1c("0xa53")](b.width,b.height),c[_0x4b1c("0xa54")][_0x4b1c("0x52b")](b.width,b[_0x4b1c("0x1a3")]),c[_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x719")](),"3D"==c[_0x4b1c("0x9c5")]?c.mapView[_0x4b1c("0x360")][_0x4b1c("0x70e")](c.mapView[_0x4b1c("0x102")],c[_0x4b1c("0x1c3")][_0x4b1c("0x658")]):c[_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x70e")](c[_0x4b1c("0x1c3")][_0x4b1c("0x102")],c[_0x4b1c("0x1c3")].cameraTop),c.mapView.renderer[_0x4b1c("0x732")](),c[_0x4b1c("0x1c3")].renderer[_0x4b1c("0x70e")](c.mapView[_0x4b1c("0x9c2")],c[_0x4b1c("0x1c3")][_0x4b1c("0xa55")]);var e=c[_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x73f")][_0x4b1c("0xa56")](_0x4b1c("0xa57"),.2);if(c[_0x4b1c("0x1c3")][_0x4b1c("0xa53")](_[0],_[1]),c[_0x4b1c("0xa54")].updateHUD(_[0],_[1]),b.download){var t=document.createElement("a"),i=(0,y[_0x4b1c("0x1a")])(e);document.createEvent("HTMLEvents")[_0x4b1c("0x74d")](_0x4b1c("0xa58"),!0,!0),t[_0x4b1c("0xa59")]=b[_0x4b1c("0x73")],t[_0x4b1c("0x85")]=URL.createObjectURL(i),t[_0x4b1c("0xa58")]()}if(b.newTab){var a=window.open("","");a.document.title=_0x4b1c("0xa5a");var n=new Image;n.src=e,a[_0x4b1c("0xa5b")][_0x4b1c("0x26")].appendChild(n)}return e}},{key:_0x4b1c("0xa5c"),value:(U=(0,n[_0x4b1c("0xc")])(a[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b,_,e,i,s,o,f,l,d,u,h,g,v,p,m,A,C,I,E,w,T,k,S,M,R=(b=(0,n[_0x4b1c("0xc")])(a[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c,b,_){return a[_0x4b1c("0xc")].wrap((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return x[_0x4b1c("0x286")]=2,E(1e3);case 2:return e[_0x4b1c("0x26a")].position.x=c,e[_0x4b1c("0x26a")][_0x4b1c("0x105")].z=b,x[_0x4b1c("0x286")]=6,E(500);case 6:return e.screenshot({fileName:_0x4b1c("0xa50")+_+".png",download:!0}),x[_0x4b1c("0x286")]=9,E(500);case 9:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x,c,_){return b[_0x4b1c("0x4")](this,arguments)}),L=(_=(0,n[_0x4b1c("0xc")])(a.default[_0x4b1c("0x283")]((function x(c,b){var _,t,i,n,r;return a.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:_=1,t=0;case 2:if(!(t<b)){x[_0x4b1c("0x286")]=34;break}i=0;case 4:if(!(i<c)){x.next=31;break}if(n=A.x-i*d,r=A.z-t*h,!D){x.next=25;break}return x[_0x4b1c("0x286")]=10,E(2e3);case 10:return e[_0x4b1c("0x26a")][_0x4b1c("0x105")].x=n,e.currentCamera[_0x4b1c("0x105")].z=r,e[_0x4b1c("0x1c3")].updateSize(p,m),e.compass[_0x4b1c("0x52b")](p,m),e.mapView[_0x4b1c("0x360")].clear(),"3D"==e[_0x4b1c("0x9c5")]?e[_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x70e")](e[_0x4b1c("0x1c3")].scene,e[_0x4b1c("0x1c3")][_0x4b1c("0x658")]):e.mapView[_0x4b1c("0x360")].render(e[_0x4b1c("0x1c3")].scene,e[_0x4b1c("0x1c3")][_0x4b1c("0xa5d")]),e[_0x4b1c("0x1c3")].renderer[_0x4b1c("0x732")](),e[_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x70e")](e.mapView.sceneOrtho,e[_0x4b1c("0x1c3")][_0x4b1c("0xa55")]),I[_0x4b1c("0x34a")](e.mapView.renderer.domElement,i*e[_0x4b1c("0x1c3")][_0x4b1c("0x536")][_0x4b1c("0x530")],t*e.mapView[_0x4b1c("0x536")][_0x4b1c("0x4f2")]),e[_0x4b1c("0x1c3")].updateSize(p,m),e.compass[_0x4b1c("0x52b")](p,m),x[_0x4b1c("0x286")]=23,E(1e3);case 23:x.next=27;break;case 25:return x[_0x4b1c("0x286")]=27,R(n,r,_);case 27:_++;case 28:i++,x[_0x4b1c("0x286")]=4;break;case 31:t++,x.next=2;break;case 34:case"end":return x.stop()}}),x,this)}))),function(x,c){return _.apply(this,arguments)}),H=c[_0x4b1c("0xa5e")],D=void 0!==H&&H,O=(c[_0x4b1c("0xa5f")],c[_0x4b1c("0xa60")]),P=c.heightDistance;return a[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return E=function(x){return new(r[_0x4b1c("0xc")])((function(c){return setTimeout(c,x)}))},i=(e=this)[_0x4b1c("0x1c3")][_0x4b1c("0x658")].rotation.clone(),s=e[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x105")][_0x4b1c("0x13e")](),e[_0x4b1c("0xa54")].visible=!1,this[_0x4b1c("0x235")]=0,esmap[_0x4b1c("0x6a7")]&&esmap[_0x4b1c("0x6a7")].inited?esmap.ESTileMap.viewMode_="2D":this[_0x4b1c("0x388")]="2D",x[_0x4b1c("0x286")]=9,E(2e3);case 9:return o=this[_0x4b1c("0xa61")](0,0),f=this[_0x4b1c("0xa62")](0,0),l=this[_0x4b1c("0xa62")](this[_0x4b1c("0x1c3")][_0x4b1c("0x536")][_0x4b1c("0x530")],0),d=Math[_0x4b1c("0x20f")](1e6*(f.x-l.x))/1e6,u=this.coordScreenToScene(this[_0x4b1c("0x1c3")][_0x4b1c("0x536")][_0x4b1c("0x530")],this.mapView.container[_0x4b1c("0x4f2")]),h=Math[_0x4b1c("0x20f")](1e6*(l.z-u.z))/1e6,g=Math[_0x4b1c("0xfd")](O/d),v=Math[_0x4b1c("0xfd")](P/d),console[_0x4b1c("0x226")](_0x4b1c("0xa63"),d,h),_0x4b1c("0xa64"),p=e.mapView.w_,m=e[_0x4b1c("0x1c3")].h_,A={x:e[_0x4b1c("0x266")][_0x4b1c("0x2c7")].x,z:e[_0x4b1c("0x266")][_0x4b1c("0x2c7")].z},C=null,I=null,D&&(C=document[_0x4b1c("0x21")](_0x4b1c("0x588")),I=C[_0x4b1c("0x332")]("2d"),C.width=this[_0x4b1c("0x1c3")].container[_0x4b1c("0x530")]*g,C[_0x4b1c("0x1a3")]=this[_0x4b1c("0x1c3")][_0x4b1c("0x536")][_0x4b1c("0x4f2")]*v,console[_0x4b1c("0x291")](_0x4b1c("0xa65")+C[_0x4b1c("0x1c9")]+" "+C[_0x4b1c("0x1a3")],"color: #6677FF")),this[_0x4b1c("0x266")][_0x4b1c("0x70b")]=!1,x[_0x4b1c("0x286")]=28,E(2e3);case 28:return x[_0x4b1c("0x286")]=30,E(2e3);case 30:return x[_0x4b1c("0x286")]=32,L(g,v);case 32:return D&&(w=C.toDataURL(_0x4b1c("0xa57"),1),T=document[_0x4b1c("0x21")]("a"),k=(0,y[_0x4b1c("0x1a")])(w),document[_0x4b1c("0x74c")](_0x4b1c("0xa66"))[_0x4b1c("0x74d")](_0x4b1c("0xa58"),!0,!0),T[_0x4b1c("0xa59")]="screenshot.png",T[_0x4b1c("0x85")]=URL.createObjectURL(k),T[_0x4b1c("0xa58")]()),S=this[_0x4b1c("0xa62")](this[_0x4b1c("0x1c3")].w_,this[_0x4b1c("0x1c3")].h_),M=this[_0x4b1c("0x20d")](S),x[_0x4b1c("0x286")]=37,E(2e3);case 37:console[_0x4b1c("0x291")](_0x4b1c("0xa67"),"color: #00ff00"),console[_0x4b1c("0x291")](_0x4b1c("0xa68"),(0,t.default)({x:o.x.toFixed(5),y:o.y[_0x4b1c("0x64d")](5)})),console[_0x4b1c("0x291")](_0x4b1c("0xa69"),(0,t[_0x4b1c("0xc")])(esmap.ESMapUtil[_0x4b1c("0x6b6")]({x:o.x,y:o.y}))),console[_0x4b1c("0x291")]("右下角坐标为：",(0,t[_0x4b1c("0xc")])({x:M.x[_0x4b1c("0x64d")](5),y:M.y[_0x4b1c("0x64d")](5)})),console[_0x4b1c("0x291")](_0x4b1c("0xa6a"),(0,t[_0x4b1c("0xc")])(esmap[_0x4b1c("0x87")][_0x4b1c("0x6b6")]({x:M.x,y:M.y}))),console[_0x4b1c("0x291")](_0x4b1c("0xa6b"),this[_0x4b1c("0x1c3")].w_*g/(this[_0x4b1c("0x1c3")].w_*v)),console[_0x4b1c("0x291")]("区域长宽比值：",(M.x-o.x)/(o.y-M.y)),this[_0x4b1c("0x266")][_0x4b1c("0x70b")]=!0,this[_0x4b1c("0x26a")][_0x4b1c("0x202")][_0x4b1c("0x20b")](i),this[_0x4b1c("0x26a")].position.copy(s),e[_0x4b1c("0xa54")][_0x4b1c("0x191")]=!0;case 48:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return U[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0xa6c"),value:function(x){var c,b=null==x.intensity?.3:x.intensity,_=_0x4b1c("0x1f7"),e=this,t=[].concat(x[_0x4b1c("0x1f7")]);x[_0x4b1c("0x1f7")]||(t=[][_0x4b1c("0x377")](x.id),_="ID");var i=[];x[_0x4b1c("0x12b")]?[][_0x4b1c("0x377")](x[_0x4b1c("0x12b")])[_0x4b1c("0x1c")]((function(x){var c=e[_0x4b1c("0x136")](x);c||(c=e[_0x4b1c("0x218")](x)),c&&i.push(c)})):i=e[_0x4b1c("0x68b")].concat(e[_0x4b1c("0x672")]);this[_0x4b1c("0xa6d")]();var a=x[_0x4b1c("0x147")];e=this;c=x[_0x4b1c("0x12e")]?[][_0x4b1c("0x377")](x[_0x4b1c("0x12e")]):null,i[_0x4b1c("0x1c")]((function(e){if(1==e[_0x4b1c("0x21a")]){var i=e[_0x4b1c("0x3f6")][_0x4b1c("0xa6e")](_0x4b1c("0xa6f"));if(i[0])i[0].traverse((function(c){if(c.nodeType==esmap[_0x4b1c("0x131")].MODEL3D)if(c[_0x4b1c("0x469")])for(var i in c[_0x4b1c("0x469")]){var n=c[_0x4b1c("0x469")][i];t[_0x4b1c("0x114")](n[_])>-1&&(1==c[_0x4b1c("0x469")].length?(esmap[_0x4b1c("0x277")][_0x4b1c("0x2a9")](c[_0x4b1c("0xf0")],a),modelLoadManager[_0x4b1c("0x67c")][_0x4b1c("0xa70")]=!!a):(e.modelLoadManager[_0x4b1c("0x67c")][_0x4b1c("0x44a")](n.ID,c[_0x4b1c("0xf0")],a,b,x[_0x4b1c("0xa71")]),e[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0xa70")]=!!a))}else t[_0x4b1c("0x114")](c[_])>-1&&(c[_0x4b1c("0x2a9")](a),e[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0xa70")]=!!a)}))}else{var n=c||e[_0x4b1c("0x679")],r=function(c){var i=e[_0x4b1c("0x662")](n[c]),r=e[_0x4b1c("0x26b")];if(!i)return _0x4b1c("0x686");i[_0x4b1c("0xa72")].forEach((function(c){c[_0x4b1c("0x64a")]==esmap.ESLayerType[_0x4b1c("0x1df")]&&c.o3d_[_0x4b1c("0xf1")].forEach((function(c){c[_0x4b1c("0xef")]&&(c[_0x4b1c("0xef")][_0x4b1c("0x469")]?c[_0x4b1c("0xef")].brothers[_0x4b1c("0x1c")]((function(e){t.indexOf(e[_])>-1&&(r[_0x4b1c("0x67c")][_0x4b1c("0x44a")](e.id,c,a,b,x.flashTime),r[_0x4b1c("0x67c")].isClickSelected=!!a)})):t[_0x4b1c("0x114")](c.datas_[_])>-1&&(c[_0x4b1c("0xef")][_0x4b1c("0x2a9")](a),r.GLTFMergeTool[_0x4b1c("0xa70")]=!!a))}))}))};for(var s in n){r(s);_0x4b1c("0x686")}}}))}},{key:_0x4b1c("0xa73"),value:function(x){function c(x){var c=[];this[_0x4b1c("0xa72")].forEach((function(x){x[_0x4b1c("0x64a")]!=esmap[_0x4b1c("0x3cd")][_0x4b1c("0x690")]&&x[_0x4b1c("0x64a")]!=esmap.ESLayerType.MODEL_BASE&&x._type_!=esmap[_0x4b1c("0x3cd")][_0x4b1c("0x1df")]&&x[_0x4b1c("0x64a")]!=esmap[_0x4b1c("0x3cd")][_0x4b1c("0x3d2")]&&x[_0x4b1c("0x64a")]!=esmap.ESLayerType.MODEL_LABEL&&x._type_!=esmap[_0x4b1c("0x3cd")].MODEL_IMAGE||(c=c[_0x4b1c("0x377")](x[_0x4b1c("0xf0")][_0x4b1c("0xf1")]))}));for(var b=0;b<c[_0x4b1c("0x0")];b++){var _=c[b];if(_[_0x4b1c("0xef")].brothers){for(var e=_.datas_[_0x4b1c("0x469")],t=0;t<e[_0x4b1c("0x0")];t++){if(x(e[t],c[b].datas_[_0x4b1c("0xf0")]))return}if(_[_0x4b1c("0x165")][_0x4b1c("0x42c")])_[_0x4b1c("0xf1")][_0x4b1c("0x1c")]((function(c){if(c[_0x4b1c("0xef")]&&x(c[_0x4b1c("0xef")],c))return}))}else{if(_[_0x4b1c("0xef")][_0x4b1c("0x42c")])_[_0x4b1c("0x103")]((function(c){if(c[_0x4b1c("0xef")]&&x(c[_0x4b1c("0xef")],c))return}));else if(x(_[_0x4b1c("0xef")],_))return}}}var b=this,_=_0x4b1c("0x1f7"),e=[][_0x4b1c("0x377")](x[_0x4b1c("0x1f7")]),t=this[_0x4b1c("0x136")](this.id),i=[t];x.bid?[][_0x4b1c("0x377")](x.bid)[_0x4b1c("0x1c")]((function(x){var c=b[_0x4b1c("0x136")](x);c&&(i=[c])})):i=this[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?[t]:b.tileList;x[_0x4b1c("0x1f7")]||(e=[][_0x4b1c("0x377")](x.id),_="ID");var a=x[_0x4b1c("0x13a")],n=0,r=t[_0x4b1c("0x26b")].GLTFMergeTool;i.forEach((function(x){var b=[];if(1==x[_0x4b1c("0x21a")]){b=[x.layerManager];var i=t[_0x4b1c("0x662")](1);b[_0x4b1c("0x12")](i[_0x4b1c("0x3f6")])}else{x[_0x4b1c("0x679")][_0x4b1c("0x1c")]((function(c){b.push(x[_0x4b1c("0x662")](c))}))}var s=function(x){var t=b[x];c[_0x4b1c("0x2")](t,(function(x,c){if(!c)return!1;if(x[_]&&e[_0x4b1c("0x114")](x[_])>-1)if(n++,a)if(5==x[_0x4b1c("0x123")]){p=x[_0x4b1c("0x46b")][0],m=x[_0x4b1c("0x46b")][1];for(var b=c.geometry[_0x4b1c("0x104")][_0x4b1c("0x582")][_0x4b1c("0x439")],i=p;i<m;i++)b[i]=0;if(c.geometry.attributes[_0x4b1c("0x582")][_0x4b1c("0x188")]=!0,x[_0x4b1c("0x55d")]){var s=t.getLayersByTypes(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xa77")]);if(s[0]&&s[0][_0x4b1c("0xf0")]&&s[0].o3d_[_0x4b1c("0xf1")][0])for(var o=s[0].o3d_[_0x4b1c("0xf1")][0],f=o[_0x4b1c("0xf2")][_0x4b1c("0x2cd")][_0x4b1c("0x439")],l=o[_0x4b1c("0xf2")][_0x4b1c("0x165")][_0x4b1c("0x583")],d=o[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x582")][_0x4b1c("0x439")],u=0;u<l[_0x4b1c("0x0")];u++)if(l[u].id==x[_]){for(var h=l[u][_0x4b1c("0x1af")],g=l[u].start+l[u].count,v=h;v<g;v++){d[f[v]]=0}o[_0x4b1c("0xf2")].attributes[_0x4b1c("0x582")].needsUpdate=!0}}}else if(6==x.nodeType){c[_0x4b1c("0x165")][_0x4b1c("0xa74")]?1==c[_0x4b1c("0xef")][_0x4b1c("0x469")][_0x4b1c("0x0")]?c[_0x4b1c("0x191")]=!0:c[_0x4b1c("0xf1")][_0x4b1c("0x1c")]((function(c){r[_0x4b1c("0x454")](c,x.ID||x.id,!0)})):(x[_0x4b1c("0xa75")]&&x.alias,x.visible=!0)}else x.visible=!0;else if(5==x[_0x4b1c("0x123")]){for(var p=x[_0x4b1c("0x46b")][0],m=x.faceRange[1],A=c[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x582")].array,y=p;y<m;y++)A[y]=1;if(c[_0x4b1c("0xf2")].attributes.isHideFlags[_0x4b1c("0x188")]=!0,x[_0x4b1c("0x55d")]){var C=t[_0x4b1c("0x3f8")](esmap[_0x4b1c("0x3cd")].MODEL_IMAGE);if(C[0]&&C[0][_0x4b1c("0xf0")]&&C[0].o3d_[_0x4b1c("0xf1")][0])for(var I=C[0].o3d_[_0x4b1c("0xf1")][0],E=I.geometry.index[_0x4b1c("0x439")],w=I[_0x4b1c("0xf2")][_0x4b1c("0x165")][_0x4b1c("0x583")],T=I[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x582")][_0x4b1c("0x439")],k=0;k<w[_0x4b1c("0x0")];k++)if(w[k].id==x[_]){for(var S=w[k][_0x4b1c("0x1af")],M=w[k].start+w[k][_0x4b1c("0x106")],R=S;R<M;R++){T[E[R]]=1}I[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x582")].needsUpdate=!0}}}else if(6==x[_0x4b1c("0x123")]){c.userData[_0x4b1c("0xa74")]?1==c[_0x4b1c("0xef")][_0x4b1c("0x469")][_0x4b1c("0x0")]?c[_0x4b1c("0x191")]=!1:c[_0x4b1c("0xf1")].forEach((function(c){r[_0x4b1c("0x454")](c,x.ID||x.id,!1)})):x[_0x4b1c("0xa75")]&&x.alias===_0x4b1c("0xa76")?x.visible=!1:x[_0x4b1c("0x191")]=!1}else x[_0x4b1c("0x123")]==esmap[_0x4b1c("0x131")][_0x4b1c("0xa77")]||(x[_0x4b1c("0x191")]=!1);return n==e[_0x4b1c("0x0")]&&"ID"==_}))};for(var o in b)s(o)}))}},{key:_0x4b1c("0xa78"),value:function(x){var c=this[_0x4b1c("0x13f")][_0x4b1c("0xa79")][x[_0x4b1c("0xa7a")]];if(c){var b=this,_=b.tileList,e=_0x4b1c("0x1f7"),t=[][_0x4b1c("0x377")](x[_0x4b1c("0x1f7")]);x[_0x4b1c("0x1f7")]||(t=[][_0x4b1c("0x377")](x.id),e="ID");var i=new(THREE[_0x4b1c("0x146")]),a=0,n={Color:1,Texture:2};_[_0x4b1c("0x1c")]((function(_){var s=_[_0x4b1c("0x3f6")];r[_0x4b1c("0x2")](s,(function(_,r){if(!r)return!1;if(_[e]&&t[_0x4b1c("0x114")](_[e])>-1&&(a++,5==_[_0x4b1c("0x123")])){var s=null,o=_[_0x4b1c("0x46b")][0],f=_[_0x4b1c("0x46b")][1],l=1*c[_0x4b1c("0xa7b")],d=r[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0xa7c")][_0x4b1c("0x439")];l===n.Color&&i[_0x4b1c("0x27c")](esmap.ESMapUtil.colorRGB2Hex(c[_0x4b1c("0x147")])),l===n.Texture&&i[_0x4b1c("0x27c")]("#FFFFFF");var u=1;c[_0x4b1c("0x129")]&&(u=1*c[_0x4b1c("0x129")]);for(var h=4*o;h<4*f;h+=4)d[h]=i.r,d[h+1]=i.g,d[h+2]=i.b,d[h+3]=u;for(var g=r[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0xa7d")].array,v=r[_0x4b1c("0xf2")][_0x4b1c("0x104")].sideTexIndex[_0x4b1c("0x439")],p=o;p<f;p++)g[p]=l===n[_0x4b1c("0x35e")]?1:0,v[p]=l===n.Texture?1:0;if(r[_0x4b1c("0xf2")][_0x4b1c("0x104")].buildingsColor[_0x4b1c("0x188")]=!0,r[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0xa7d")][_0x4b1c("0x188")]=!0,r.geometry.attributes[_0x4b1c("0xa7e")][_0x4b1c("0x188")]=!0,l===n[_0x4b1c("0x146")])s=esmap[_0x4b1c("0xa7f")][_0x4b1c("0xa80")][_0x4b1c("0xa81")]();else s=esmap[_0x4b1c("0xa7f")].buildings[_0x4b1c("0xa82")]()[x[_0x4b1c("0xa7a")]];var m=0;if(Array[_0x4b1c("0x32f")](r[_0x4b1c("0xf4")])){var A=r[_0x4b1c("0xf4")][_0x4b1c("0x114")](s[_0x4b1c("0xf4")]);-1!==A?m=A:(r[_0x4b1c("0xf4")][_0x4b1c("0x12")](s[_0x4b1c("0xf4")]),m=r[_0x4b1c("0xf4")][_0x4b1c("0x0")]-1)}else{var y=r[_0x4b1c("0xf4")],C=s.material;r[_0x4b1c("0xf4")]=[y,C],m=1}l===n.Texture&&s[_0x4b1c("0xa83")](r,x[_0x4b1c("0xa7a")]);var I=r[_0x4b1c("0xf2")][_0x4b1c("0x446")];r[_0x4b1c("0xf2")][_0x4b1c("0x17f")]();o=_.faceRange[0],f=_[_0x4b1c("0x46b")][1];b[_0x4b1c("0x447")](o,f,m,I,!1).forEach((function(x){r[_0x4b1c("0xf2")][_0x4b1c("0x180")](x.start,x[_0x4b1c("0x106")],x.materialIndex)}))}return a==t[_0x4b1c("0x0")]&&"ID"==e}))}))}function r(x){var c=[];this.layers[_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x64a")]==esmap[_0x4b1c("0x3cd")][_0x4b1c("0x690")]&&(c=c[_0x4b1c("0x377")](x.o3d_[_0x4b1c("0xf1")]))}));for(var b=0;b<c[_0x4b1c("0x0")];b++){var _=c[b];if(_[_0x4b1c("0xef")][_0x4b1c("0x469")])for(var e=_.datas_[_0x4b1c("0x469")],t=0;t<e[_0x4b1c("0x0")];t++){if(x(e[t],c[b][_0x4b1c("0xef")][_0x4b1c("0xf0")]))return}else if(x(_[_0x4b1c("0xef")],_[_0x4b1c("0xf0")]))return}}}},{key:_0x4b1c("0xa84"),value:function(x){function c(x){var c=[];this[_0x4b1c("0xa72")][_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x64a")]!=esmap[_0x4b1c("0x3cd")][_0x4b1c("0x690")]&&x[_0x4b1c("0x64a")]!=esmap[_0x4b1c("0x3cd")].MODEL_BASE&&x[_0x4b1c("0x64a")]!=esmap[_0x4b1c("0x3cd")].MODEL3D||(c=c.concat(x[_0x4b1c("0xf0")][_0x4b1c("0xf1")]))}));for(var b=0;b<c.length;b++){var _=c[b];if(_[_0x4b1c("0xef")][_0x4b1c("0x469")])for(var e=_[_0x4b1c("0xef")][_0x4b1c("0x469")],t=0;t<e[_0x4b1c("0x0")];t++){if(x(e[t],c[b].datas_[_0x4b1c("0xf0")]))return}else if(x(_.datas_,_.o3d_))return}}var b=this,_=_0x4b1c("0x1f7"),e=[][_0x4b1c("0x377")](x[_0x4b1c("0x1f7")]),t=[];x[_0x4b1c("0x12b")]?[][_0x4b1c("0x377")](x[_0x4b1c("0x12b")])[_0x4b1c("0x1c")]((function(x){var c=b[_0x4b1c("0x218")](x);c&&t.push(c)})):t=b.tileList;x[_0x4b1c("0x1f7")]||(e=[][_0x4b1c("0x377")](x.id),_="ID");var i=x[_0x4b1c("0x147")],a=i.length,n=x[_0x4b1c("0x1")]("opacity")?x.opacity:1,r=0,s=!1;if(i){var o=(s=esmap.ESMapUtil[_0x4b1c("0x640")](i))[_0x4b1c("0x2c")](","),f=[1*o[0]/255,1*o[1]/255,1*o[2]/255,n];s=f}if(!a)for(;this[_0x4b1c("0x2b3")][_0x4b1c("0xa85")][_0x4b1c("0x0")]>0;){var l=this.tileService[_0x4b1c("0xa85")][_0x4b1c("0x3")]();e[_0x4b1c("0x12")](l[_0x4b1c("0x13a")])}var d=e.map((function(x){return{key:_,value:x,data:s}}));if(t[_0x4b1c("0x1c")]((function(x){var t=x.layerManager;c[_0x4b1c("0x2")](t,(function(c,t){if(!t)return!1;if(c[_]&&e.indexOf(c[_])>-1){if(r++,a)if(5==c[_0x4b1c("0x123")]){for(var n=c[_0x4b1c("0x46b")][0],o=c.faceRange[1],f=t[_0x4b1c("0xf2")].attributes[_0x4b1c("0xa86")].array,l=t[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0xa87")][_0x4b1c("0x439")],u=n;u<o;u++)f[u]=1;for(var h=4*n;h<4*o;h+=4)l[h]=s[0],l[h+1]=s[1],l[h+2]=s[2],l[h+3]=s[3];t[_0x4b1c("0xf2")][_0x4b1c("0x104")].highLightFlags[_0x4b1c("0x188")]=!0,t[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0xa87")][_0x4b1c("0x188")]=!0,b[_0x4b1c("0xe7")](_0x4b1c("0xa84"),{color:i,value:1,startIndex:n,endIndex:o})}else 6==c[_0x4b1c("0x123")]&&(t[_0x4b1c("0x165")][_0x4b1c("0x440")]=!0,c[_0x4b1c("0x2a9")]?c.changeColor(i):x[_0x4b1c("0x26b")][_0x4b1c("0x67c")].changeModelColorById(c.ID,t,i,.3));else if(5==c.nodeType){n=c.faceRange[0],o=c[_0x4b1c("0x46b")][1],f=t[_0x4b1c("0xf2")][_0x4b1c("0x104")].highLightFlags[_0x4b1c("0x439")];for(var g=t[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0xa87")][_0x4b1c("0x439")],v=n;v<o;v++)f[v]=0;for(var p=4*n;p<4*o;p+=4)g[p]=1,g[p+1]=1,g[p+2]=1,g[p+3]=1;t[_0x4b1c("0xf2")].attributes[_0x4b1c("0xa86")][_0x4b1c("0x188")]=!0,t[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0xa87")][_0x4b1c("0x188")]=!0,b.fire(_0x4b1c("0xa84"),{color:i,value:0,startIndex:n,endIndex:o})}else 6==c[_0x4b1c("0x123")]&&(t[_0x4b1c("0x165")].locked=!1,c.changeColor?c[_0x4b1c("0x2a8")]():x[_0x4b1c("0x26b")].GLTFMergeTool.changeModelColorById(c.ID,t,i,.3));for(var m=0;m<d[_0x4b1c("0x0")];m++)if(d[m][_0x4b1c("0x13a")]==c[_]){d[_0x4b1c("0x5")](m,1);break}}return r==e[_0x4b1c("0x0")]&&"ID"==_}))})),a)for(var u=0;u<d.length;u++)this[_0x4b1c("0x7e")][_0x4b1c("0xa88")](d[u])}},{key:_0x4b1c("0xa89"),value:function(x){function c(x){var c=[];this[_0x4b1c("0xa72")][_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x64a")]!=esmap[_0x4b1c("0x3cd")][_0x4b1c("0x690")]&&x[_0x4b1c("0x64a")]!=esmap[_0x4b1c("0x3cd")][_0x4b1c("0xa8a")]||(c=c[_0x4b1c("0x377")](x[_0x4b1c("0xf0")][_0x4b1c("0xf1")]))}));for(var b=0;b<c.length;b++){var _=c[b][_0x4b1c("0xef")][_0x4b1c("0x469")];if(_)for(var e=0;e<_[_0x4b1c("0x0")];e++){if(x(_[e],c[b][_0x4b1c("0xef")][_0x4b1c("0xf0")]))return}}}var b,_=this,e=(esmap[_0x4b1c("0x87")][_0x4b1c("0xa8b")],x[_0x4b1c("0x147")]),t=!!e,i=!!x.isFlash,a=!!x[_0x4b1c("0x1")](_0x4b1c("0x129"))&&x[_0x4b1c("0x129")],n=0!=a,r=_0x4b1c("0x1f7"),s=[].concat(x[_0x4b1c("0x1f7")]),o=[];x[_0x4b1c("0x12b")]?[][_0x4b1c("0x377")](x[_0x4b1c("0x12b")])[_0x4b1c("0x1c")]((function(x){var c=_[_0x4b1c("0x136")](x);c&&o.push(c)})):o=_[_0x4b1c("0x68b")];x.name||(s=[][_0x4b1c("0x377")](x.id),r="ID");e.length;var f=0;b=x[_0x4b1c("0x12e")]?[].concat(x[_0x4b1c("0x12e")]):null,o[_0x4b1c("0x1c")]((function(o){var l=b||o[_0x4b1c("0x679")];for(var d in l){var u=o[_0x4b1c("0x662")](l[d]);u&&c[_0x4b1c("0x2")](u,(function(c,b){var o;if(c[r]&&s[_0x4b1c("0x114")](c[r])>-1)if(f++,t||n){if(b.userData.colorMap||(b[_0x4b1c("0x165")][_0x4b1c("0xa8c")]={}),!b[_0x4b1c("0x165")][_0x4b1c("0xa8c")][e]){var l=b.material[0][_0x4b1c("0x13e")]();l[_0x4b1c("0x1f7")]=_0x4b1c("0x2a9"),t&&(_[_0x4b1c("0x9b9")][_0x4b1c("0x0")]>0&&_.lastSelectStore[0].ID===x.id&&_[_0x4b1c("0xa8d")](),void 0!==x[_0x4b1c("0xa8e")]?(_.mapTheme[_0x4b1c("0xa8f")](l,e,i,x[_0x4b1c("0xa90")]),!1===i&&l[_0x4b1c("0x147")][_0x4b1c("0x27c")](e)):l[_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(e),u[_0x4b1c("0xf0")].lastAlpha||(u.o3d_.lastAlpha={}),u.o3d_[_0x4b1c("0x66d")][l[_0x4b1c("0x195")]]=u[_0x4b1c("0xf0")].lastAlpha[b[_0x4b1c("0xf4")][0][_0x4b1c("0x195")]]),a&&(l[_0x4b1c("0x129")]=a,l[_0x4b1c("0x145")]=1!=a),b[_0x4b1c("0xf4")][_0x4b1c("0x12")](l),b[_0x4b1c("0x165")][_0x4b1c("0xa8c")][e]=b[_0x4b1c("0xf4")][_0x4b1c("0x0")]-1}var d=b[_0x4b1c("0xf2")].groups;b.geometry[_0x4b1c("0x17f")]();var h=c[_0x4b1c("0x46b")][0],g=c.faceRange[1],v=b[_0x4b1c("0x165")][_0x4b1c("0xa8c")][e];b[_0x4b1c("0xf4")][v][_0x4b1c("0xa91")]&&(b[_0x4b1c("0xf4")][v][_0x4b1c("0xa91")].uniforms[_0x4b1c("0xa8e")].value=i,i?b[_0x4b1c("0xf4")][v][_0x4b1c("0x147")][_0x4b1c("0x20b")](b[_0x4b1c("0xf4")][0][_0x4b1c("0x147")]):b.material[v][_0x4b1c("0x147")][_0x4b1c("0x27c")](e)),_[_0x4b1c("0x447")](h,g,v,d,!1).forEach((function(x){b[_0x4b1c("0xf2")][_0x4b1c("0x180")](x[_0x4b1c("0x1af")],x[_0x4b1c("0x106")],x.materialIndex)}))}else{d=b[_0x4b1c("0xf2")][_0x4b1c("0x446")];b.geometry[_0x4b1c("0x17f")]();h=c[_0x4b1c("0x46b")][0],g=c[_0x4b1c("0x46b")][1];for(var p=null,m=0;m<d[_0x4b1c("0x0")];m++)if(h>=d[m][_0x4b1c("0x1af")]&&h<d[m][_0x4b1c("0x1af")]+d[m].count){o=d[m][_0x4b1c("0x448")],p=m;break}null!=p&&0!=o&&(d=_[_0x4b1c("0x447")](h,g,0,d,!1));for(m=0;m<d[_0x4b1c("0x0")];m++)b[_0x4b1c("0xf2")][_0x4b1c("0x180")](d[m][_0x4b1c("0x1af")],d[m][_0x4b1c("0x106")],d[m][_0x4b1c("0x448")])}return f==s[_0x4b1c("0x0")]&&("ID"==r||"name"==r)}))}l=null}))}},{key:"pointInBuildingFloor",value:function(x){var c=x[_0x4b1c("0x12b")],b=x[_0x4b1c("0x12e")],_=x.point,e=this[_0x4b1c("0x136")](c);if(e){for(var t=e.getFloorBounds(b),i=!1,a=0;a<t.length;a++){if(esmap.ESMapUtil.pointInArea(_,t[a][_0x4b1c("0x12c")])){i=!0;break}}return i}console[_0x4b1c("0x424")](c+_0x4b1c("0xa92"))}},{key:_0x4b1c("0xa93"),value:function(x){var c=x[_0x4b1c("0x12b")],b=x.id,_=x[_0x4b1c("0x2f7")];function e(x){var c=[];this[_0x4b1c("0xa72")].forEach((function(x){x[_0x4b1c("0x64a")]==esmap[_0x4b1c("0x3cd")].MODEL&&(c=c[_0x4b1c("0x377")](x[_0x4b1c("0xf0")][_0x4b1c("0xf1")]))}));for(var b=0;b<c.length;b++){var _=c[b];if(_[_0x4b1c("0xef")][_0x4b1c("0x469")]){for(var e=_.datas_[_0x4b1c("0x469")],t=0;t<e[_0x4b1c("0x0")];t++){if(x(e[t],c[b].datas_[_0x4b1c("0xf0")]))return}if(_[_0x4b1c("0x165")][_0x4b1c("0x42c")])_[_0x4b1c("0xf1")].forEach((function(c){if(c[_0x4b1c("0xef")]&&x(c[_0x4b1c("0xef")],c))return}))}else{if(_[_0x4b1c("0xef")][_0x4b1c("0x42c")])_[_0x4b1c("0x103")]((function(c){if(c.datas_&&x(c.datas_,c))return}));else if(x(_[_0x4b1c("0xef")],_))return}}}var t=this[_0x4b1c("0x136")](c);if(t){var i=[][_0x4b1c("0x377")](b),a="ID",n=[];if(1==t[_0x4b1c("0x21a")])n=[t[_0x4b1c("0x3f6")]];else t[_0x4b1c("0x679")][_0x4b1c("0x1c")]((function(x){n.push(t.getFloor(x))}));var r=0,s=!1;for(var o in n){var f=n[o];e[_0x4b1c("0x2")](f,(function(x,c){if(!c)return!1;if(x[a]&&i[_0x4b1c("0x114")](x[a])>-1&&(r++,x[_0x4b1c("0x123")]==esmap[_0x4b1c("0x131")].MODEL)){for(var b=[],e=0;e<x[_0x4b1c("0x12c")][_0x4b1c("0x0")];e++)b[_0x4b1c("0x12")]({x:-x[_0x4b1c("0x12c")][e].x+t[_0x4b1c("0xa94")].x,y:x[_0x4b1c("0x12c")][e].y+t.delta.y});s=esmap[_0x4b1c("0x87")][_0x4b1c("0x3d3")](_,b)}return r==i.length}))}return s}}},{key:_0x4b1c("0xa95"),value:function(x){var c=this[_0x4b1c("0x566")]()[_0x4b1c("0x662")](x[_0x4b1c("0x12e")]);if(c)for(var b=c.getLayersByTypes(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xa77")]),_=0;_<b[_0x4b1c("0x0")];_++){var e=b[_].o3d_[_0x4b1c("0xf1")][0];if(e)for(var t=e[_0x4b1c("0xf4")],i=0;i<t.length;i++)if(t[i]&&x.id===t[i][_0x4b1c("0x165")][_0x4b1c("0x572")].id)return{id:x.id,imgName:t[i].userData.imgdata[_0x4b1c("0x55d")],imgWidth:t[i].userData[_0x4b1c("0x572")][_0x4b1c("0x571")][_0x4b1c("0x1c9")],imgHeight:t[i][_0x4b1c("0x165")][_0x4b1c("0x572")][_0x4b1c("0x571")].height}}}},{key:_0x4b1c("0xa96"),value:function(x){var c=!1;if(this[_0x4b1c("0x7e")].getState("sk")||this[_0x4b1c("0x47")].editMode||(this[_0x4b1c("0x7e")][_0x4b1c("0x7f")]("ul")>>1&1||0)<1&&(console[_0x4b1c("0x291")](esmap[_0x4b1c("0x288")][_0x4b1c("0xa97")]),c=!0),!c){for(var b=this[_0x4b1c("0x566")](),_={},e={},t={},i={},a={},n=0;n<b[_0x4b1c("0x679")][_0x4b1c("0x0")];n++){var r=b[_0x4b1c("0x679")][n],s=b.getFloor(r);a[r]=s.floorAlias}try{for(var o=0;o<x.length;o++){var f=x[o],l=f.id,d=f[_0x4b1c("0x12e")];if(l){if(!d){var u=b[_0x4b1c("0xa99")](l);if(!u){console[_0x4b1c("0xe3")](_0x4b1c("0xa9a")+l+_0x4b1c("0xa9b")+o);continue}d=u.FloorNum,i[l]=u}_[l]=o,e[d]||(e[d]=[]),e[d][_0x4b1c("0x12")](l)}else console[_0x4b1c("0xe3")](_0x4b1c("0xa98")+o)}for(var d in e)for(var h=e[d],g=b[_0x4b1c("0x662")](d)[_0x4b1c("0x3f8")](esmap[_0x4b1c("0x3cd")].MODEL_IMAGE),v=0;v<g[_0x4b1c("0x0")];v++){var p=g[v].o3d_.children[0];if(p)for(var m=p.material,A=0;A<m[_0x4b1c("0x0")];A++){var y=m[A];if(y){var C=y[_0x4b1c("0x165")][_0x4b1c("0x572")];if(h[_0x4b1c("0x114")](C.id)>-1){t[_[C.id]]=!0;var I=x[_[C.id]][_0x4b1c("0x61c")];if(I)y[_0x4b1c("0x165")][_0x4b1c("0xa9d")]||(y[_0x4b1c("0x165")][_0x4b1c("0xa9d")]=y[_0x4b1c("0x3e")].clone()),y.map=I,y[_0x4b1c("0x3e")].anisotropy=map[_0x4b1c("0x1c3")][_0x4b1c("0x360")].capabilities[_0x4b1c("0x362")](),y[_0x4b1c("0x3e")][_0x4b1c("0x8a6")]=1006,y[_0x4b1c("0x3e")][_0x4b1c("0x18a")]=1008;else{if(!y.userData.originalTexture){_0x4b1c("0xa9c"),C.id;continue}y[_0x4b1c("0x3e")]=y[_0x4b1c("0x165")].originalTexture}y[_0x4b1c("0x3e")].needsUpdate=!0}}}}}catch(x){console[_0x4b1c("0xe3")](x[_0x4b1c("0x2f")]())}}}},{key:_0x4b1c("0xa46"),value:function(x){function c(x,c){var b,_=0,e=x[_0x4b1c("0x12b")];(e||(e=n),x[_0x4b1c("0x12e")]&&e)?_+=(b=a[_0x4b1c("0x136")](e))?b[_0x4b1c("0x2d7")](x[_0x4b1c("0x12e")]):0:_+=(b=a[_0x4b1c("0x136")](e)).getFloorHeight(1);var t=a[_0x4b1c("0x238")]({x:x.x,y:x.y});return t.y=_+Number(x[_0x4b1c("0x158")]||x.z||0),t}if(!(x[_0x4b1c("0x0")]<1)){var b,_=[],e=[],t=null,i=null,a=this,n=this.id;return function(x){for(var b=0;b<x.length;b++)t=x[b],(i=c(t)).fnum=t[_0x4b1c("0x12e")]||1,i[_0x4b1c("0x12b")]=t[_0x4b1c("0x12b")]||n,e.push(i)}(x),(b=e)[_0x4b1c("0x0")]>1&&_.push(b),_}}},{key:"toSceneCoord",value:function(x,c){var b=null;null==c&&this[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]&&(c=this.id);var _=this[_0x4b1c("0x136")](c);return x[_0x4b1c("0x12e")]&&(b=_[_0x4b1c("0x2d7")](x[_0x4b1c("0x12e")])),new(THREE[_0x4b1c("0x128")])(-this.mapScene[_0x4b1c("0x2de")]-x.x,x.z||b||0,x.y-this[_0x4b1c("0x1e1")][_0x4b1c("0x2df")])}},{key:"getTileBuildingByMapId",value:function(x){return this[_0x4b1c("0x2b3")][_0x4b1c("0xa9e")][x]||null}},{key:_0x4b1c("0xa9f"),value:function(){this[_0x4b1c("0x2fa")]&&(this.rayPointer[_0x4b1c("0x3ed")]=null)}},{key:_0x4b1c("0xaa0"),value:function(x){var c=this;x=(0,s[_0x4b1c("0xc")])({coord:null,mode:_0x4b1c("0x1a3"),inverse:!1,startCoord:null,depth:100,endCoord:null,typeID:null,dataID:null,excludeNodeTypes:[],targetName:null},x),this[_0x4b1c("0x2fa")]||(this.rayPointer=new(C[_0x4b1c("0xc")])(x)),x.targetName||this.on(_0x4b1c("0xa35"),(function(){c[_0x4b1c("0x2fa")].updateWatchingList()})),this[_0x4b1c("0x2fa")][_0x4b1c("0x514")][_0x4b1c("0x2f1")]=x[_0x4b1c("0x2f1")];var b=void 0;if(x[_0x4b1c("0x3b")]==_0x4b1c("0x1a3")){var _=this[_0x4b1c("0x238")](x[_0x4b1c("0x565")]);b=this.rayPointer[_0x4b1c("0x2f8")](_,x[_0x4b1c("0x3b")],x[_0x4b1c("0xaa1")])}else{var e=this.coordMapToThree(x[_0x4b1c("0xaa2")]),t=this[_0x4b1c("0x238")](x[_0x4b1c("0xaa3")]);b=this[_0x4b1c("0x2fa")][_0x4b1c("0xaa4")](e,t)}if(x[_0x4b1c("0x255")]&&b){if(!this[_0x4b1c("0x2fa")][_0x4b1c("0xaa5")]){var i=document.createElement(_0x4b1c("0x588"));i[_0x4b1c("0x1c9")]=64,i.height=64;var a=i[_0x4b1c("0x332")]("2d");a[_0x4b1c("0x34b")](),a[_0x4b1c("0x348")](32,32,20,0,360,!1),a[_0x4b1c("0x33e")]="red",a[_0x4b1c("0x464")](),a[_0x4b1c("0x15f")]=20,a[_0x4b1c("0x33f")]="green",a.globalAlpha=.2,a.stroke(),a[_0x4b1c("0x99b")]();var n=new THREE.Texture(i),r=new(THREE[_0x4b1c("0x27d")]);r[_0x4b1c("0xf4")]=new THREE.SpriteMaterial({map:n,depthTest:!1,sizeAttenuation:!1}),r[_0x4b1c("0x172")]=101,r[_0x4b1c("0x201")][_0x4b1c("0x253")](.02),r.material[_0x4b1c("0x3e")][_0x4b1c("0x188")]=!0,this[_0x4b1c("0x2fa")].cubeTip=r,this[_0x4b1c("0x1c3")][_0x4b1c("0x102")][_0x4b1c("0xdd")](r)}x[_0x4b1c("0x3b")]==_0x4b1c("0x1a3")?this.rayPointer[_0x4b1c("0xaa5")][_0x4b1c("0x105")][_0x4b1c("0x20b")](b):this[_0x4b1c("0x2fa")].cubeTip[_0x4b1c("0x105")][_0x4b1c("0x20b")](b[_0x4b1c("0x2f7")])}var o=[],f=function x(c){return c.parent[_0x4b1c("0xef")]?c.parent:x(c[_0x4b1c("0x108")])};if(!(b&&b[_0x4b1c("0x0")]>0))return null;if(x[_0x4b1c("0xaa6")]){for(var l=0;l<b[_0x4b1c("0x0")];l++)if(b[l][_0x4b1c("0x1d")].userData[_0x4b1c("0x7b")]===x.targetName)return b[l];return null}b[_0x4b1c("0x1c")]((function(c){var b=f(c[_0x4b1c("0x1d")]);try{var _=void 0;b[_0x4b1c("0xef")]&&b[_0x4b1c("0xef")][_0x4b1c("0x12b")]&&(_=b[_0x4b1c("0xef")][_0x4b1c("0x12b")]||c[_0x4b1c("0x1d")][_0x4b1c("0xef")][_0x4b1c("0x12b")]),_&&c.object[_0x4b1c("0x165")][_0x4b1c("0x7b")]===x.targetName&&o[_0x4b1c("0x12")]({bid:b.datas_[_0x4b1c("0x12b")],height:c[_0x4b1c("0x2f7")].y})}catch(x){console[_0x4b1c("0xe3")](x,_0x4b1c("0xaa7"))}}));var d={};return o=o[_0x4b1c("0x121")]((function(x,c){return!d[c[_0x4b1c("0x1a3")]]&&(d[c[_0x4b1c("0x1a3")]]=x.push(c)),x}),[]),x[_0x4b1c("0xaa1")]?1===o[_0x4b1c("0x0")]?o[0]:o:{bid:f(b[0][_0x4b1c("0x1d")])[_0x4b1c("0xef")][_0x4b1c("0x12b")],height:b[0][_0x4b1c("0x2f7")].y}}},{key:"cameraFlyToHelper",value:function(){if(this.viewMode!==esmap[_0x4b1c("0x61d")][_0x4b1c("0xaa8")]){var x=this[_0x4b1c("0x266")][_0x4b1c("0x1d")][_0x4b1c("0x105")][_0x4b1c("0x124")](this[_0x4b1c("0x266")].target),c=this.mapView[_0x4b1c("0x2e7")]();return{directionAngle:1*this[_0x4b1c("0x235")][_0x4b1c("0x64d")](1),pitchAngle:1*this[_0x4b1c("0x2c1")][_0x4b1c("0x64d")](1),radius:1*x[_0x4b1c("0x64d")](1),x:1*c.x[_0x4b1c("0x64d")](1),y:1*c.y[_0x4b1c("0x64d")](1),z:1*this.controls[_0x4b1c("0x2c7")].y[_0x4b1c("0x64d")](1)}}console[_0x4b1c("0x424")](_0x4b1c("0xaa9"))}},{key:"getCenter",value:function(){return k[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:"此方法已弃用,请使用 map.getViewCenter()",level:_0x4b1c("0xaaa")}),this[_0x4b1c("0x1c3")][_0x4b1c("0x2e7")]()}},{key:"getViewCenter",value:function(){return this.mapView[_0x4b1c("0x2e7")]()}},{key:"getCenterLonLat",value:function(){return this.mapView[_0x4b1c("0xaab")]()}},{key:_0x4b1c("0x25f"),value:(z=(0,n.default)(a[_0x4b1c("0xc")].mark((function x(c){var b,_,e,t,i=this;return a[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x.next){case 0:if((c=(0,s[_0x4b1c("0xc")])({fnum:null,scaleLevel:null,radius:100,bid:null,pitchAngle:60,directionAngle:0,clockwise:!0,delay:0,time:1,control:null},c))[_0x4b1c("0xaac")]=c[_0x4b1c("0xaac")]||this[_0x4b1c("0x266")],b=this,c[_0x4b1c("0xaad")]||(c[_0x4b1c("0xaae")]=360-c[_0x4b1c("0xaae")]),!c[_0x4b1c("0x1a1")]){x[_0x4b1c("0x286")]=7;break}return x.next=7,new r.default((function(x){setTimeout(x,1e3*c[_0x4b1c("0x1a1")])}));case 7:if(c.z||(c.z=0),_=0,!c[_0x4b1c("0x12e")]){x[_0x4b1c("0x286")]=19;break}if(c[_0x4b1c("0x12b")]||(c[_0x4b1c("0x12b")]=this.id),this[_0x4b1c("0x136")](c[_0x4b1c("0x12b")])){x.next=16;break}return x[_0x4b1c("0x286")]=14,new(r[_0x4b1c("0xc")])((function(x){i[_0x4b1c("0xa01")](c[_0x4b1c("0x12b")]),i[_0x4b1c("0x36b")](_0x4b1c("0xa34"),(function(){var b=i[_0x4b1c("0x136")](c[_0x4b1c("0x12b")]);b[_0x4b1c("0xa06")](c.fnum),_=b[_0x4b1c("0x2d7")](c[_0x4b1c("0x12e")]),x()}))}));case 14:x.next=19;break;case 16:(e=this.getBuildingById(c[_0x4b1c("0x12b")])).changeFocusFloor(c[_0x4b1c("0x12e")]),_=e[_0x4b1c("0x2d7")](c[_0x4b1c("0x12e")]);case 19:return null!=c[_0x4b1c("0x222")]?c[_0x4b1c("0x68f")]=(this.scaleLevels_[c[_0x4b1c("0x222")]]+1e-4)*c[_0x4b1c("0xaac")][_0x4b1c("0xaaf")]:null!=c.zoomLevel?c[_0x4b1c("0x68f")]=b[_0x4b1c("0x1c3")].getDistanceByZoomLevel(c[_0x4b1c("0x31d")]):null==c[_0x4b1c("0x68f")]&&(c[_0x4b1c("0x68f")]=c[_0x4b1c("0xaac")].getDistance()),t=this[_0x4b1c("0x238")]({x:c.x,y:c.y,z:c.z+_}),c[_0x4b1c("0xab0")]=c.pitchAngle<=1?1:c[_0x4b1c("0xab0")],x[_0x4b1c("0x293")](_0x4b1c("0x28a"),new r.default((function(x){i.flyController[_0x4b1c("0xab1")]({targetPos:t,radius:c[_0x4b1c("0x68f")],pitchAngle:c[_0x4b1c("0xab0")],directionAngle:c.directionAngle,time:c.time,control:c[_0x4b1c("0xaac")],callback:function(){c.callback&&c[_0x4b1c("0x1b0")](),esmap.ESTileMap&&!esmap[_0x4b1c("0x6a7")][_0x4b1c("0xab2")]&&esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x321")](),x()}})})));case 23:case"end":return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return z.apply(this,arguments)})},{key:_0x4b1c("0xab3"),value:function(x){var c=this;c.selectNull(),esmap[_0x4b1c("0x87")][_0x4b1c("0x4f5")](this,"all",{ID:x},(function(x){if(x[_0x4b1c("0x0")]>0){var b=x[0],_=c[_0x4b1c("0xab4")],e=document[_0x4b1c("0x7ad")](_[_0x4b1c("0xab5")]);e[_0x4b1c("0x1d6")]="",_[_0x4b1c("0xab6")][_0x4b1c("0x23")].opacity=0,b[_0x4b1c("0x1f7")]?(_[_0x4b1c("0x325")]({x:b[_0x4b1c("0x21d")].x,y:b[_0x4b1c("0x21d")].y,time:.01,callback:function(){_.group.position.y=b[_0x4b1c("0x668")]+20,setTimeout((function(){e[_0x4b1c("0x1d6")]=b.name,_.popDiv_.style.opacity=1}),1)}}),_.bid=b[_0x4b1c("0x12b")]):_[_0x4b1c("0xab6")][_0x4b1c("0x23")][_0x4b1c("0x129")]=0,c[_0x4b1c("0xab7")](b)}}))}},{key:_0x4b1c("0xab8"),value:function(x){var c=x,b=.2,_=null;x instanceof Object&&(c=x[_0x4b1c("0x258")],b=x[_0x4b1c("0x1a5")]||.2,_=x[_0x4b1c("0x1b0")]||null),new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(this).to({tiltAngle:c},1e3*b)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")].Easing[_0x4b1c("0x1aa")][_0x4b1c("0x1ae")])[_0x4b1c("0x174")]((function(x){})).onComplete((function(){_&&_()}))[_0x4b1c("0x1af")]()}},{key:"scaleLevelTo",value:function(x){var c=this;if(this[_0x4b1c("0x3b")]!=esmap[_0x4b1c("0x41")].City){"number"!=typeof x&&"string"!=typeof x||(x={value:1*x});var b=void 0;if(b=(x=(0,s.default)({value:0,time:1,emitError:!1,raw:!1,onComplete:null},x)).raw?x[_0x4b1c("0x13a")]:this[_0x4b1c("0x9cf")][x[_0x4b1c("0x13a")]],!x[_0x4b1c("0xab9")]&&null==b)return _0x4b1c("0xaba"),x[_0x4b1c("0x13a")],void _0x4b1c("0xabb");var _=this[_0x4b1c("0x266")][_0x4b1c("0xabc")]();N&&(N[_0x4b1c("0x19b")](),N=null),N=new(esmap.TWEEN[_0x4b1c("0x1a7")])({value:_}).to({value:b},1e3*x.time)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ae")])[_0x4b1c("0x174")]((function(x){c.controls[_0x4b1c("0xabd")](x.value)}))[_0x4b1c("0x1ac")]((function(){x.onComplete&&x.onComplete(),N=null}))[_0x4b1c("0x1af")]()}}},{key:_0x4b1c("0xabe"),value:function(x,c){var b=this;x=THREE[_0x4b1c("0x215")].clamp(x,0,b.scaleLevels_[_0x4b1c("0x0")]-1),c=THREE[_0x4b1c("0x215")][_0x4b1c("0x97b")](c,0,b[_0x4b1c("0x9cf")][_0x4b1c("0x0")]-1),b[_0x4b1c("0xabf")]=x,b[_0x4b1c("0xac0")]=c,b[_0x4b1c("0x266")][_0x4b1c("0xac1")](b[_0x4b1c("0x9cf")][x],b.scaleLevels_[c]),b[_0x4b1c("0x222")]=b[_0x4b1c("0x9cf")][Math[_0x4b1c("0xfd")]((x+c)/2)]}},{key:"scaleLevelIn",value:function(){this[_0x4b1c("0x222")]>0&&this[_0x4b1c("0x9fe")]({value:this[_0x4b1c("0x222")]-1})}},{key:_0x4b1c("0xac2"),value:function(){this[_0x4b1c("0x222")]<this.scaleLevels_[_0x4b1c("0x0")]-1&&this[_0x4b1c("0x9fe")]({value:this[_0x4b1c("0x222")]+1})}},{key:"setBackgroundImage",value:function(x){x?(this[_0x4b1c("0x1c3")].scene[_0x4b1c("0xac3")]=esmap[_0x4b1c("0x87")][_0x4b1c("0x696")](x),this[_0x4b1c("0x1c3")][_0x4b1c("0x102")][_0x4b1c("0xac3")].needsUpdate=!0):(this.mapView[_0x4b1c("0x102")][_0x4b1c("0xac3")]=null,this[_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x730")](this[_0x4b1c("0x13f")][_0x4b1c("0xac4")],this[_0x4b1c("0x13f")][_0x4b1c("0xac5")]))}},{key:"setBackgroundColor",value:function(x,c){!1!==x?this[_0x4b1c("0x1c3")][_0x4b1c("0x360")].setClearColor(x,c):this[_0x4b1c("0x1c3")].renderer[_0x4b1c("0x730")](this[_0x4b1c("0x13f")].clearColor_,this[_0x4b1c("0x13f")].clearTrans_)}},{key:"setModelSelectColor",value:function(x,c){var b=null==c?1:c;this.mapTheme.selectModelMat.color[_0x4b1c("0xdb")](x),this[_0x4b1c("0x13f")].selectModelMat[_0x4b1c("0x420")][_0x4b1c("0xdb")](x),this[_0x4b1c("0x13f")][_0x4b1c("0x423")][_0x4b1c("0x129")]=b,this[_0x4b1c("0x9d1")]=b}},{key:_0x4b1c("0x447"),value:function(x,c,b,_,e){var t,i=c-x,a=[];_[_0x4b1c("0x1c")]((function(x){a[_0x4b1c("0x12")]({start:x.start,count:x[_0x4b1c("0x106")],materialIndex:x[_0x4b1c("0x448")]})}));for(var n=0;n<a[_0x4b1c("0x0")];n++){var r=a[n],s=r[_0x4b1c("0x1af")]+r.count;if(x>=r.start&&x<s&&r[_0x4b1c("0x448")]!=b){if(r[_0x4b1c("0x106")]>=i){e&&(this[_0x4b1c("0x450")]=r[_0x4b1c("0x448")]),a[_0x4b1c("0x5")](n,1),x>r[_0x4b1c("0x1af")]&&a[_0x4b1c("0x12")]({start:r[_0x4b1c("0x1af")],count:x-r[_0x4b1c("0x1af")],materialIndex:r[_0x4b1c("0x448")]}),a[_0x4b1c("0x12")]({start:x,count:i,materialIndex:b}),c<s&&a[_0x4b1c("0x12")]({start:c,count:s-c,materialIndex:r.materialIndex});break}a[n].materialIndex=b}}a[_0x4b1c("0x42b")]((t=_0x4b1c("0x1af"),function(x,c){return x[t]-c[t]}));for(var o=0;o<a[_0x4b1c("0x0")]-1;o++)a[o][_0x4b1c("0x448")]==a[o+1][_0x4b1c("0x448")]&&(a[o][_0x4b1c("0x106")]+=a[o+1].count,a.splice(o+1,1),o--);return a}},{key:_0x4b1c("0xab7"),value:function(x,c,b){if(x&&x[_0x4b1c("0xf0")]&&x.o3d_.geometry){var _=this;null==c&&(c=!0);var e=x[_0x4b1c("0xf0")][_0x4b1c("0xf2")].groups,t=x[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0xac6")],i=x[_0x4b1c("0x46b")][0],a=x[_0x4b1c("0x46b")][1];if(1==x[_0x4b1c("0x3e0")]){var n=1;0==c&&(n=0);for(var r=x[_0x4b1c("0xf0")][_0x4b1c("0xf2")][_0x4b1c("0x104")].isSelectFlags.array,s=i;s<a;s+=1)r[s]=n;return x[_0x4b1c("0xf0")][_0x4b1c("0xf2")].attributes.isSelectFlags.needsUpdate=!0,void(c&&!b&&(_[_0x4b1c("0xa8d")](),_[_0x4b1c("0x9b9")][_0x4b1c("0x12")](x)))}x.o3d_.geometry.clearGroups();if(0!=c){x[_0x4b1c("0x46a")]?x[_0x4b1c("0xf0")][_0x4b1c("0xf4")].push(_[_0x4b1c("0x1e1")].mapTheme_[_0x4b1c("0x423")]):x.o3d_[_0x4b1c("0xf4")][_0x4b1c("0x12")](_[_0x4b1c("0x1e1")][_0x4b1c("0x3e6")][_0x4b1c("0x423")]),x[_0x4b1c("0xf0")].material[0][_0x4b1c("0x165")][_0x4b1c("0xac8")]&&x.o3d_[_0x4b1c("0xf4")][0].map&&!x[_0x4b1c("0xf0")][_0x4b1c("0xf4")][1]&&(x[_0x4b1c("0xf0")][_0x4b1c("0xf4")][x[_0x4b1c("0xf0")][_0x4b1c("0xf4")].length-1]=_[_0x4b1c("0x1e1")].mapTheme_[_0x4b1c("0x423")].clone(),e=x[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x446")],t=1,x.o3d_[_0x4b1c("0xf4")][t][_0x4b1c("0x3e")]=x[_0x4b1c("0xf0")][_0x4b1c("0xf4")][0][_0x4b1c("0x3e")][_0x4b1c("0x13e")](),x.o3d_[_0x4b1c("0xf4")][t].emissive=new(THREE[_0x4b1c("0x146")])(0,0,0),x[_0x4b1c("0xf0")][_0x4b1c("0xf4")][t][_0x4b1c("0x3e")][_0x4b1c("0x188")]=!0,x[_0x4b1c("0xf0")][_0x4b1c("0xf4")][t][_0x4b1c("0x188")]=!0),t=x[_0x4b1c("0xf0")][_0x4b1c("0xf4")].length-1;x[_0x4b1c("0xf0")][_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")];_[_0x4b1c("0x447")](i,a,t,e,true)[_0x4b1c("0x1c")]((function(c){x.o3d_[_0x4b1c("0xf2")][_0x4b1c("0x180")](c.start,c.count,c.materialIndex)})),c&&!b&&(_[_0x4b1c("0xa8d")](),_[_0x4b1c("0x9b9")][_0x4b1c("0x12")](x))}else{for(var o=0;o<x[_0x4b1c("0xf0")].material.length;o++)if(x.o3d_[_0x4b1c("0xf4")][o]&&x[_0x4b1c("0xf0")][_0x4b1c("0xf4")][o][_0x4b1c("0x1f7")]==_0x4b1c("0xac7")){x[_0x4b1c("0xf0")].material[o][_0x4b1c("0x3e")]&&x.o3d_[_0x4b1c("0xf4")][o].map.dispose()&&(x.o3d_[_0x4b1c("0xf4")][o][_0x4b1c("0x3e")]=null),x.o3d_[_0x4b1c("0xf4")][_0x4b1c("0x5")](o,1);break}_.splitGroup(i,a,_.lastSelectMatIndex,e,true).forEach((function(c){x[_0x4b1c("0xf0")][_0x4b1c("0xf2")].addGroup(c[_0x4b1c("0x1af")],c[_0x4b1c("0x106")],c.materialIndex)}))}}}},{key:_0x4b1c("0x218"),value:function(x){for(var c=[][_0x4b1c("0x377")](this[_0x4b1c("0x1e1")].tileScene_[_0x4b1c("0xf1")]),b=0;b<c[_0x4b1c("0x0")];b++)if(c[b][_0x4b1c("0xef")].id==x)return c[b][_0x4b1c("0xef")]}},{key:"ol",value:function(x,c){if(c==this.id){var b=this.mapService[_0x4b1c("0x931")][x]||[],_=[];return b[_0x4b1c("0x3e")]((function(x){var c=[];x[_0x4b1c("0x1c")]((function(x){c.push({x:-x.x,y:x.y})})),_[_0x4b1c("0x12")](c)})),_}}},{key:"setSelectColor",value:function(x,c){var b=esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](c);switch(x){case esmap[_0x4b1c("0x131")][_0x4b1c("0x690")]:this[_0x4b1c("0x13f")][_0x4b1c("0x423")].color=new(THREE[_0x4b1c("0x146")])(c);break;case esmap.ESNodeType[_0x4b1c("0xac9")]:this[_0x4b1c("0x13f")][_0x4b1c("0xaca")]=b;break;case esmap[_0x4b1c("0x131")][_0x4b1c("0xacb")]:case esmap[_0x4b1c("0x131")].LINE:this[_0x4b1c("0x13f")][_0x4b1c("0xacc")]=b}}},{key:_0x4b1c("0xacd"),value:function(x){x?(this.mapTheme[_0x4b1c("0xa2f")][_0x4b1c("0x1c")]((function(x){x&&(x[_0x4b1c("0x191")]=!0)})),this.mapService[_0x4b1c("0xace")]=!1):(this[_0x4b1c("0x7e")][_0x4b1c("0xace")]=!0,this[_0x4b1c("0x13f")][_0x4b1c("0xa2f")][_0x4b1c("0x1c")]((function(x){x&&(x[_0x4b1c("0x191")]=!1)})))}},{key:"highLightArea",value:function(x){var c=this,b=esmap[_0x4b1c("0x87")][_0x4b1c("0x656")](x);b[_0x4b1c("0x1c")]((function(x){c[_0x4b1c("0x2b3")].userTiles.push(x)}));var _=[];this[_0x4b1c("0x672")][_0x4b1c("0x1c")]((function(x){-1==b.indexOf(x.id)&&_[_0x4b1c("0x12")](x.id)}));for(var e=this[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0xf1")],t=0;t<e[_0x4b1c("0x0")];t++){var i=e[t];_[_0x4b1c("0x63")](i[_0x4b1c("0xef")].id)&&(i[_0x4b1c("0x191")]=!1,this[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0x2ea")](i),t--,this[_0x4b1c("0x7e")][_0x4b1c("0x2b3")].cachedTiles[_0x4b1c("0x114")](i.datas_)<0&&this[_0x4b1c("0x2b3")][_0x4b1c("0xacf")](i[_0x4b1c("0xef")]),this[_0x4b1c("0xe7")](_0x4b1c("0xad0"),{bid:i[_0x4b1c("0xef")].id}))}}},{key:_0x4b1c("0xad1"),value:function(){this[_0x4b1c("0x2b3")][_0x4b1c("0xad2")]=[],this[_0x4b1c("0x321")]()}},{key:_0x4b1c("0xad3"),value:function(x){var c=this,b=_0x4b1c("0x1f7"),_=[][_0x4b1c("0x377")](x.name);x.name||(_=[][_0x4b1c("0x377")](x.id),b="ID");var t=x[_0x4b1c("0x274")]||!1,i=x[_0x4b1c("0x129")],a=x[_0x4b1c("0x1a1")]||0,n=null==x[_0x4b1c("0x1a5")]?.8:x.time,r=null!=x[_0x4b1c("0x66c")]&&x.hideOnComplete;setTimeout((function(){esmap[_0x4b1c("0x87")][_0x4b1c("0x4f5")](c,_0x4b1c("0x68a"),(0,e[_0x4b1c("0xc")])({nodeType:6},b,_),(function(c){for(var b=0;b<c[_0x4b1c("0x0")];b++)esmap[_0x4b1c("0x87")][_0x4b1c("0x272")]({target:c[b][_0x4b1c("0xf0")],time:n,alpha:i,hideOnComplete:r,clonemat:t,visible:x.visible,noOcclusion:x[_0x4b1c("0x66b")]})}))}),1e3*a)}},{key:"getBuilding",value:function(){return this[_0x4b1c("0x136")](this.id)}},{key:_0x4b1c("0x136"),value:function(x){if(this[_0x4b1c("0x1e1")][_0x4b1c("0xad4")]&&(0==x||x==this.id))return this[_0x4b1c("0x1e1")][_0x4b1c("0xad4")];for(var c=[][_0x4b1c("0x377")](this[_0x4b1c("0x1e1")].buildingScene_[_0x4b1c("0xf1")]),b=0;b<c[_0x4b1c("0x0")];b++)if(c[b][_0x4b1c("0xef")].id==x)return c[b][_0x4b1c("0xef")];return null}},{key:_0x4b1c("0xad5"),value:function(x,c,b){if(x){var _=this;null==c&&(c=!0),c&&!b&&(_[_0x4b1c("0xa6d")](),_[_0x4b1c("0x53f")][_0x4b1c("0x12")](x));var e=_[_0x4b1c("0x13f")].Model3DSelectColor;x[_0x4b1c("0xef")].nodeType==esmap[_0x4b1c("0x131")][_0x4b1c("0xac9")]&&(e=_[_0x4b1c("0x13f")].polygonSelectColor_);var t=x.userData[_0x4b1c("0xad6")];x[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xf4")])if(x.material instanceof Array)if(t)x.material[0][_0x4b1c("0x165")][_0x4b1c("0xad7")]||(x[_0x4b1c("0xf4")][0][_0x4b1c("0x165")].originEMS=x.material[0][_0x4b1c("0x420")][_0x4b1c("0x13e")]()),c?x[_0x4b1c("0xf4")][0][_0x4b1c("0x420")]=new(THREE[_0x4b1c("0x146")])(e):(x[_0x4b1c("0xf4")][0][_0x4b1c("0x420")]=x[_0x4b1c("0xf4")][0][_0x4b1c("0x165")][_0x4b1c("0xad7")],x[_0x4b1c("0xf4")][0].userData[_0x4b1c("0xad7")]=null);else for(var b=0;b<x[_0x4b1c("0xf4")][_0x4b1c("0x0")];b++){var _=x[_0x4b1c("0xf4")][b][_0x4b1c("0x13e")]();_[_0x4b1c("0x1")](_0x4b1c("0x420"))&&(_[_0x4b1c("0x165")][_0x4b1c("0xad7")]||(_[_0x4b1c("0x165")][_0x4b1c("0xad7")]=_[_0x4b1c("0x420")].clone()),c?_[_0x4b1c("0x420")]=new(THREE[_0x4b1c("0x146")])(e):_.emissive=_[_0x4b1c("0x165")].originEMS instanceof THREE[_0x4b1c("0x146")]?_.userData.originEMS:new(THREE[_0x4b1c("0x146")])(_[_0x4b1c("0x165")].originEMS),x[_0x4b1c("0xf4")][b]=_,_[_0x4b1c("0x188")]=!0)}else{var i=x.material;if(i[_0x4b1c("0x27b")])return;i.userData.cloned||i[_0x4b1c("0xad8")]||((i=i.clone())[_0x4b1c("0x165")].cloned=!0,x[_0x4b1c("0xf4")]=i),i.hasOwnProperty("emissive")?(c?(i.userData.hasOwnProperty(_0x4b1c("0xad7"))||(i.userData[_0x4b1c("0xad7")]=x[_0x4b1c("0xf4")][_0x4b1c("0x420")].toJSON()),i[_0x4b1c("0x420")]=new THREE.Color(e)):i[_0x4b1c("0x420")]=new(THREE[_0x4b1c("0x146")])(i[_0x4b1c("0x165")][_0x4b1c("0xad7")]),x[_0x4b1c("0xf4")].needsUpdate=!0):(c?x.naviMap?(i.userData[_0x4b1c("0xad9")]||(i[_0x4b1c("0x165")][_0x4b1c("0xad9")]=x.color),x[_0x4b1c("0x147")]=e):(i[_0x4b1c("0x165")][_0x4b1c("0xad9")]||(i[_0x4b1c("0x165")].lastColor=i.color[_0x4b1c("0x13e")]()),i[_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(e)):null!=i.userData.lastColor&&(x[_0x4b1c("0xada")]?(x[_0x4b1c("0x147")]=i[_0x4b1c("0x165")][_0x4b1c("0xad9")],i[_0x4b1c("0x147")]=new THREE.Color(1,1,1)):i[_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(i.userData[_0x4b1c("0xad9")]),i.userData[_0x4b1c("0xad9")]=null),x[_0x4b1c("0xada")]||(x[_0x4b1c("0xf4")]=i),x[_0x4b1c("0xf4")][_0x4b1c("0x188")]=!0)}})),c?(x[_0x4b1c("0x165")][_0x4b1c("0xadb")]=!0,x[_0x4b1c("0x172")]+=1):(x[_0x4b1c("0x165")][_0x4b1c("0xadb")]=!1,x[_0x4b1c("0x172")]-=1)}}},{key:"selectModelNull",value:function(){var x=this;x[_0x4b1c("0x53f")][_0x4b1c("0x1c")]((function(c){c[_0x4b1c("0xef")]&&c[_0x4b1c("0xef")][_0x4b1c("0x123")]==esmap.ESNodeType[_0x4b1c("0xac9")]&&(c[_0x4b1c("0xef")].line&&(c[_0x4b1c("0xef")][_0x4b1c("0xadc")][_0x4b1c("0x168")]=c[_0x4b1c("0xef")][_0x4b1c("0xadc")][_0x4b1c("0x23")][_0x4b1c("0x168")],c[_0x4b1c("0xef")][_0x4b1c("0xadc")][_0x4b1c("0x15f")]=c[_0x4b1c("0xef")][_0x4b1c("0xadc")][_0x4b1c("0xadd")]||c.datas_[_0x4b1c("0xadc")][_0x4b1c("0x23")][_0x4b1c("0x15f")],c[_0x4b1c("0xef")][_0x4b1c("0xadc")].geometry[_0x4b1c("0xade")]?c[_0x4b1c("0xef")][_0x4b1c("0xadc")].geometry[_0x4b1c("0xade")](c[_0x4b1c("0xef")][_0x4b1c("0xadc")][_0x4b1c("0xf2")][_0x4b1c("0xadf")]):c[_0x4b1c("0xef")][_0x4b1c("0xadc")][_0x4b1c("0x17b")]()),c[_0x4b1c("0xf4")][_0x4b1c("0x129")]=c.material.userData._originalAlpha),x.storeModelSelected(c,!1)})),x.lastSelectModelStore[_0x4b1c("0x0")]=0;var c=x[_0x4b1c("0x136")](0);c&&c.modelLoadManager[_0x4b1c("0x67c")][_0x4b1c("0x442")]&&(c[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0xa70")]=!1,c[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0x44f")]())}},{key:"setBuildingTip",value:function(x){x[_0x4b1c("0xae0")]}},{key:_0x4b1c("0xae1"),value:function(x){if(x){var c="",b=document[_0x4b1c("0x7ad")](this[_0x4b1c("0xab4")].spanId);b&&(c=b.innerHTML),this.tapTip[_0x4b1c("0xae2")]||(this.tapTip[_0x4b1c("0xae2")]=this[_0x4b1c("0xab4")][_0x4b1c("0xab6")][_0x4b1c("0x1d6")]),this.tapTip.popDiv_[_0x4b1c("0x1d6")]=x;var _=document[_0x4b1c("0x7ad")](this[_0x4b1c("0xab4")][_0x4b1c("0xab5")]);_&&(_[_0x4b1c("0x1d6")]=c)}}},{key:_0x4b1c("0xae3"),value:function(){this[_0x4b1c("0xab4")][_0x4b1c("0xab6")][_0x4b1c("0x23")].opacity=0}},{key:_0x4b1c("0xa8d"),value:function(){var x=this;x[_0x4b1c("0x9b9")].forEach((function(c){x.storeSelect(c,!1)})),x[_0x4b1c("0x9b9")].length=0}},{key:"setModelAlpha",value:function(x,c,b){b=b||0;var _=esmap[_0x4b1c("0x87")][_0x4b1c("0x4f5")](this,b,{types:[_0x4b1c("0x1e6"),_0x4b1c("0x1e7")],ID:x});if(0!=_[_0x4b1c("0x0")]){var e=_[0];if(e[_0x4b1c("0x123")]==esmap[_0x4b1c("0x131")][_0x4b1c("0x690")]){for(var t=e[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x446")],i=(e[_0x4b1c("0xf0")][_0x4b1c("0xf2")].attributes.position[_0x4b1c("0x106")],e.faceRange[0]),a=(e[_0x4b1c("0x46b")][1],null),n=0;n<t[_0x4b1c("0x0")];n++)if(i>=t[n][_0x4b1c("0x1af")]&&i<t[n][_0x4b1c("0x1af")]+t[n][_0x4b1c("0x106")]){a=t[n][_0x4b1c("0x448")];break}e[_0x4b1c("0xf0")][_0x4b1c("0xf4")][a][_0x4b1c("0x165")][_0x4b1c("0xae4")]=e[_0x4b1c("0xf0")][_0x4b1c("0xf4")][a][_0x4b1c("0x129")],e[_0x4b1c("0xf0")][_0x4b1c("0xf4")][a][_0x4b1c("0x129")]=c}else{[][_0x4b1c("0x377")](e[_0x4b1c("0xf0")][_0x4b1c("0xf4")])[_0x4b1c("0x1c")]((function(x){var b=x.opacity;x[_0x4b1c("0x165")].originalOp=b,x[_0x4b1c("0x129")]=c}))}}}},{key:_0x4b1c("0xae5"),value:function(x){this[_0x4b1c("0xa54")][_0x4b1c("0xae6")](x)}},{key:_0x4b1c("0xae7"),value:function(x){this[_0x4b1c("0xa54")][_0x4b1c("0xae8")](x)}},{key:_0x4b1c("0xae9"),value:function(x,c){c=c||0;var b=esmap[_0x4b1c("0x87")][_0x4b1c("0x4f5")](this,c,{types:["model",_0x4b1c("0x1e7")],ID:x});if(0!=b[_0x4b1c("0x0")]){var _=b[0];if(_.nodeType==esmap.ESNodeType[_0x4b1c("0x690")]){for(var e=0;e<_[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x0")];e++)if(_0x4b1c("0xae4")in _[_0x4b1c("0xf0")][_0x4b1c("0xf4")][e][_0x4b1c("0x165")]){_.o3d_[_0x4b1c("0xf4")][e][_0x4b1c("0x129")]=_.o3d_[_0x4b1c("0xf4")][e][_0x4b1c("0x165")][_0x4b1c("0xae4")],delete _[_0x4b1c("0xf0")][_0x4b1c("0xf4")][e][_0x4b1c("0x165")][_0x4b1c("0xae4")];break}}else[][_0x4b1c("0x377")](_[_0x4b1c("0xf0")].material).forEach((function(x){x[_0x4b1c("0x129")]=x[_0x4b1c("0x165")].originalOp,delete x[_0x4b1c("0x165")][_0x4b1c("0xae4")]}))}}},{key:_0x4b1c("0xaea"),value:function(){return this[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")].Building?this[_0x4b1c("0xaeb")].navData:this[_0x4b1c("0x2b3")][_0x4b1c("0x3f2")]}},{key:_0x4b1c("0xaec"),value:function(){this[L[_0x4b1c("0xbd")]][_0x4b1c("0x533")]();var x=this[_0x4b1c("0x1e1")][_0x4b1c("0xaed")]();this[_0x4b1c("0x1c3")][_0x4b1c("0x102")][_0x4b1c("0xdd")](x)}},{key:"getTileFromCache",value:function(x){for(var c=0;c<this[_0x4b1c("0x2b3")][_0x4b1c("0xaee")][_0x4b1c("0x0")];c++)if(this.tileService[_0x4b1c("0xaee")][c].id==x)return this[_0x4b1c("0x2b3")][_0x4b1c("0xaee")][c]}},{key:"setUserNavLangLib",value:function(x){this.mapService[_0x4b1c("0xaef")][_0x4b1c("0xaf0")](x)}},{key:_0x4b1c("0xaf1"),value:function(x){this[_0x4b1c("0x7e")][_0x4b1c("0xaef")][_0x4b1c("0xaf2")](x)}},{key:_0x4b1c("0xaf3"),value:function(){return this[_0x4b1c("0x7e")][_0x4b1c("0xaef")].navLib[_0x4b1c("0xc")]}},{key:_0x4b1c("0xaf4"),value:function(){return this[_0x4b1c("0x7e")][_0x4b1c("0xaef")][_0x4b1c("0xaf5")][_0x4b1c("0xc")]}},{key:_0x4b1c("0xaf6"),value:(H=(0,n[_0x4b1c("0xc")])(a.default[_0x4b1c("0x283")]((function x(c){var b,_,e,t,i,n,r,s,o,f,l,d,u=this;return a[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x.next){case 0:if(!esmap[_0x4b1c("0x32")][_0x4b1c("0xaf7")]){x[_0x4b1c("0x286")]=2;break}return x[_0x4b1c("0x293")]("return");case 2:if(b=this[_0x4b1c("0x136")](c)){x[_0x4b1c("0x286")]=7;break}return console[_0x4b1c("0x291")](_0x4b1c("0xaf8")),x[_0x4b1c("0x293")]("return");case 7:if(this[_0x4b1c("0xa6d")](),_=b[_0x4b1c("0x3cb")],this[_0x4b1c("0x47")][_0x4b1c("0xaf9")]||1==_[_0x4b1c("0xe5")][_0x4b1c("0x13a")]){x[_0x4b1c("0x286")]=11;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 11:e=b[_0x4b1c("0x21a")],this[_0x4b1c("0xe7")](_0x4b1c("0xafa"),{bid:c,type:e}),t=0;case 14:if(!(t<this.buildingList.length)){x[_0x4b1c("0x286")]=21;break}if(this[_0x4b1c("0x68b")][t].id!=c){x.next=18;break}return this.buildingList[_0x4b1c("0x5")](t,1),x[_0x4b1c("0x293")](_0x4b1c("0xafb"),21);case 18:t++,x[_0x4b1c("0x286")]=14;break;case 21:if(b[_0x4b1c("0xafc")],(i=b.o3d_).visible=!1,n=b[_0x4b1c("0xafd")])if(6==n.nodeType)n[_0x4b1c("0xf0")]?n[_0x4b1c("0xf0")].datas_[_0x4b1c("0x469")]&&n[_0x4b1c("0xf0")][_0x4b1c("0xef")][_0x4b1c("0x469")][_0x4b1c("0x0")]>1?n[_0x4b1c("0xf0")][_0x4b1c("0xf1")][_0x4b1c("0x1c")]((function(x){b[_0x4b1c("0x26b")][_0x4b1c("0x67c")].setTargetMeshVisible(x,n.ID,!0)})):(n[_0x4b1c("0xf0")].visible=!0,this[_0x4b1c("0xa02")]++,esmap[_0x4b1c("0x87")][_0x4b1c("0x272")]({target:n[_0x4b1c("0xf0")],alpha:!1}),setTimeout((function(){u[_0x4b1c("0xa02")]--}),1e3)):n[_0x4b1c("0x191")]=!0;else if(5==n.nodeType){for(r=n[_0x4b1c("0xf0")].geometry.attributes[_0x4b1c("0x582")][_0x4b1c("0x439")],s=n[_0x4b1c("0x46b")],o=s[0];o<s[1];o+=1)r[o]=0;n[_0x4b1c("0xf0")][_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x582")][_0x4b1c("0x188")]=!0}this.options[_0x4b1c("0xafe")]?(this[_0x4b1c("0x2b3")].cacheBuildings[b.id]=i,this[_0x4b1c("0x1e1")][_0x4b1c("0xa33")][_0x4b1c("0x2ea")](i)):(this[_0x4b1c("0xaff")](b.id),b[_0x4b1c("0x3e")]=void 0,b[_0x4b1c("0x33")]=void 0,b[_0x4b1c("0xb00")]=void 0,b[_0x4b1c("0xb01")]=void 0,this[_0x4b1c("0x1e1")][_0x4b1c("0xa33")][_0x4b1c("0x2ea")](i),i=void 0),this[_0x4b1c("0x47")][_0x4b1c("0xafe")]||this[_0x4b1c("0x232")][_0x4b1c("0x3ed")][c]&&(this[_0x4b1c("0x232")].watchingList[c]=void 0,delete this[_0x4b1c("0x232")][_0x4b1c("0x3ed")][c]),x.t0=a[_0x4b1c("0xc")][_0x4b1c("0x684")](this.tileService[_0x4b1c("0xa3a")]);case 29:if((x.t1=x.t0())[_0x4b1c("0x40f")]){x[_0x4b1c("0x286")]=37;break}if((f=x.t1[_0x4b1c("0x13a")])!=c){x.next=35;break}return this.tileService[_0x4b1c("0xa3a")][f][_0x4b1c("0xb02")]&&(this[_0x4b1c("0x2b3")].bidList[f][_0x4b1c("0xb02")]=!1),this.tileService[_0x4b1c("0xa3a")][f][_0x4b1c("0xb03")]=!0,x.abrupt(_0x4b1c("0xafb"),37);case 35:x.next=29;break;case 37:for(this[_0x4b1c("0x7e")][_0x4b1c("0xb04")]=!1,this.fire(_0x4b1c("0xb05"),{bid:c,type:e}),l=0;l<this[_0x4b1c("0x68b")][_0x4b1c("0x0")];l++)(d=this[_0x4b1c("0x68b")][l]).o3d_&&1!=d[_0x4b1c("0xf0")].scale.y&&(this[_0x4b1c("0xa02")]++,new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(d[_0x4b1c("0xf0")][_0x4b1c("0x201")]).to({y:1},1e3)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")].Easing[_0x4b1c("0x1aa")][_0x4b1c("0x1ae")])[_0x4b1c("0x174")]((function(){}))[_0x4b1c("0x1ac")]((function(){u[_0x4b1c("0xa02")]--}))[_0x4b1c("0x1af")]());return 0===this[_0x4b1c("0x68b")][_0x4b1c("0x0")]&&this[_0x4b1c("0xe7")](_0x4b1c("0xb06")),x.abrupt(_0x4b1c("0x28a"),!0);case 42:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return H[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0xb07"),value:function(x){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?x:this.coordMapToThree(x),b=this.getBuildingById(0).modelLoadManager;return b[_0x4b1c("0xb08")](),b[_0x4b1c("0xb09")][_0x4b1c("0x92e")](c)}},{key:_0x4b1c("0xb06"),value:function(){for(;this.buildingList[_0x4b1c("0x0")]>0;){var x=this[_0x4b1c("0x68b")][_0x4b1c("0x3")]();this[_0x4b1c("0xaf6")](x.id)}}},{key:"zoomLevelTo",value:function(x){var c=this;typeof x!=_0x4b1c("0x18f")&&typeof x!=_0x4b1c("0xd")||(x={value:1*x});var b=(x=(0,s.default)({value:0,time:1,emitError:!1,onComplete:null},x))[_0x4b1c("0x13a")],_=this.zoomLevel;N&&(N[_0x4b1c("0x19b")](),N=null),N=new esmap.TWEEN.Tween({value:_}).to({value:b},1e3*x.time)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ae")])[_0x4b1c("0x174")]((function(x){c[_0x4b1c("0x31d")]=x[_0x4b1c("0x13a")]}))[_0x4b1c("0x1ac")]((function(){x[_0x4b1c("0x1ac")]&&x[_0x4b1c("0x1ac")](),N=null})).start()}},{key:_0x4b1c("0xb0a"),value:function(){var x=this;x.lastSelectLineStore.forEach((function(c){x[_0x4b1c("0xb0b")](c,!1)})),x[_0x4b1c("0x196")][_0x4b1c("0x0")]=0}},{key:_0x4b1c("0xb0b"),value:function(x,c,b){var _=this;null==c&&(c=!0),c&&!b&&(!_[_0x4b1c("0x47")][_0x4b1c("0xb0c")]&&_[_0x4b1c("0xb0a")](),_[_0x4b1c("0x196")][_0x4b1c("0x12")](x));var e=x[_0x4b1c("0xf1")][0];if(x.type==_0x4b1c("0x197")&&(e=x),e&&e.material){if(0==c)return e[_0x4b1c("0x165")].originalMat?(e.material=e[_0x4b1c("0x165")].originalMat,e.userData.originalMat=null):e.naviMap?e[_0x4b1c("0x147")]=e[_0x4b1c("0x165")][_0x4b1c("0x9a9")]:e[_0x4b1c("0xf4")][_0x4b1c("0x147")]=e.material[_0x4b1c("0x165")][_0x4b1c("0x9a9")]?e[_0x4b1c("0xf4")][_0x4b1c("0x165")][_0x4b1c("0x9a9")]:e[_0x4b1c("0x165")][_0x4b1c("0x9a9")],void(e[_0x4b1c("0x165")][_0x4b1c("0xadb")]=!1);e[_0x4b1c("0x165")].merged&&(e[_0x4b1c("0x165")][_0x4b1c("0xb0d")]=e[_0x4b1c("0xf4")],e[_0x4b1c("0xf4")]=e.material[_0x4b1c("0x13e")]()),e.naviMap?(e[_0x4b1c("0x165")][_0x4b1c("0x9a9")]=e.color,e[_0x4b1c("0x147")]=_[_0x4b1c("0x13f")][_0x4b1c("0xacc")]):(e[_0x4b1c("0x165")].originalColor=e.material[_0x4b1c("0x147")].clone(),e[_0x4b1c("0x165")][_0x4b1c("0xb0d")]||(e.userData[_0x4b1c("0xb0d")]=e[_0x4b1c("0xf4")]),e[_0x4b1c("0xf4")]=e[_0x4b1c("0xf4")][_0x4b1c("0x13e")](),e[_0x4b1c("0xf4")][_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(_[_0x4b1c("0x13f")][_0x4b1c("0xacc")]),_[_0x4b1c("0x47")][_0x4b1c("0x41f")]&&_[_0x4b1c("0x47")].selectedColor[_0x4b1c("0x604")]&&_[_0x4b1c("0x47")][_0x4b1c("0x41f")][_0x4b1c("0x604")][_0x4b1c("0x147")]&&e[_0x4b1c("0xf4")][_0x4b1c("0x420")]&&e[_0x4b1c("0xf4")][_0x4b1c("0x420")].setStyle(_[_0x4b1c("0x47")][_0x4b1c("0x41f")][_0x4b1c("0x604")][_0x4b1c("0x147")])),e[_0x4b1c("0x165")][_0x4b1c("0xadb")]=!0}}},{key:_0x4b1c("0xb0e"),value:function(){for(var x=0;x<this[_0x4b1c("0x9d3")][_0x4b1c("0x0")];x++)this[_0x4b1c("0x6b")](_0x4b1c("0x164"),this[_0x4b1c("0x9d3")][x]);this[_0x4b1c("0x9d3")]=[]}},{key:_0x4b1c("0xb0f"),value:function(){return this[_0x4b1c("0x1e1")][_0x4b1c("0xad4")]}},{key:_0x4b1c("0x1b5"),value:function(x){var c=x.from,b=void 0===c?this[_0x4b1c("0x3e1")]:c,_=x.to,e=void 0===_?this[_0x4b1c("0x2d4")]:_,t=x[_0x4b1c("0x565")];if(b==e)return t;if(e===_0x4b1c("0xb10")){if(esmap[_0x4b1c("0x6ad")]){var i=esmap.ESMapUtil[_0x4b1c("0xf6")](t.x,t.y),a=20037508.342789244*esmap[_0x4b1c("0x6ae")];i[1]<70&&(t.y=a/180*(90+i[1]))}return t}if(b===_0x4b1c("0xb10")){if(esmap[_0x4b1c("0x6ad")]){var n=esmap.ESMapUtil[_0x4b1c("0x6af")](t.x,t.y);t.x=n[0],t.y=n[1]}return t}var r,o=(0,s[_0x4b1c("0xc")])({},t),f=esmap.ESMapUtil[_0x4b1c("0xf6")](o.x,o.y);r=g[_0x4b1c("0xc")][_0x4b1c("0x4c5")](f,g.default[b],g.default[e]);var l=esmap[_0x4b1c("0x87")][_0x4b1c("0xfa")](r[0],r[1]);return o.x=l[0],o.y=l[1],o}},{key:_0x4b1c("0xb11"),value:function(x){return this[_0x4b1c("0x47")][_0x4b1c("0x1b7")]!=this.coordSystem?this[_0x4b1c("0x1b5")]({from:this[_0x4b1c("0x47")][_0x4b1c("0x1b7")],to:this[_0x4b1c("0x2d4")],coord:x}):x}},{key:_0x4b1c("0x555"),value:function(x){var c=x[_0x4b1c("0x2bf")],b=x.to,_=x[_0x4b1c("0xb12")],e=x[_0x4b1c("0xb13")],t=void 0!==e&&e;if(c==b)return _;var i=[];for(var a in _)if(isNaN(_[a].x)||isNaN(_[a].y))_0x4b1c("0xb14"),_[a];else{var n=(0,s.default)({},_[a]);t&&(n.x=-n.x);var r=this.transformCoord({from:c,to:b,coord:n});n.x=r.x,n.y=r.y,t&&(n.x=-n.x),i[_0x4b1c("0x12")](n)}return i}},{key:"coordMapToThree",value:function(x){var c=this.transformCoord({from:this[_0x4b1c("0x47")].userCrs,to:this.coordSystem,coord:(0,s[_0x4b1c("0xc")])({},x)});return this._coordMapSceneToThree(c)}},{key:"_coordMapSceneToThree",value:function(x){if(esmap[_0x4b1c("0x6ad")]&&!esmap[_0x4b1c("0x87")][_0x4b1c("0xb15")](x)){var c=esmap[_0x4b1c("0x87")].Mercator2lonLat(x.x,x.y),b=20037508.342789244*esmap[_0x4b1c("0x6ae")];x.y=b/180*(90+c[1])}var _=x.z||x[_0x4b1c("0x158")]||0,e=this.mapScene,t={x:x.x,y:x.y};return t.x=-(t.x+e[_0x4b1c("0x2de")]),t.y=t.y-e[_0x4b1c("0x2df")],new(THREE[_0x4b1c("0x128")])(t.x,_,t.y)}},{key:"coordThreeToMap",value:function(x){var c={x:this[_0x4b1c("0xb16")].x-x.x,y:x.z+this[_0x4b1c("0xb16")].y,z:x.y||0};return this.transformCoord({from:this[_0x4b1c("0x2d4")],to:this[_0x4b1c("0x47")].userCrs,coord:c})}},{key:_0x4b1c("0x2d0"),value:function(x){return{x:this[_0x4b1c("0xb16")].x-x.x,y:x.z+this.localCenter.y,z:x.y||0}}},{key:"loadComplete_",value:function(x){var c=this;esmap.ESMap.IsMapLoading=!1;var _=this.mapView[_0x4b1c("0x536")][_0x4b1c("0x530")],e=this.mapView[_0x4b1c("0x536")][_0x4b1c("0x4f2")];c.mapView[_0x4b1c("0xa53")](_,e),c[L[_0x4b1c("0xbd")]][_0x4b1c("0x52b")](_,e),c.scaler_.updateText();b(155);var t=this[_0x4b1c("0x2b3")]._gld(_0x4b1c("0xb17"));Object[_0x4b1c("0x7")](c,_0x4b1c("0xb18"),{value:t[_0x4b1c("0x5bc")],writable:!1,enumerable:!1,configurable:!0}),c[_0x4b1c("0xe7")](_0x4b1c("0xb19"),{}),c[_0x4b1c("0x9bb")]=!0,c[_0x4b1c("0x2b3")].queryTiles(),this.on(_0x4b1c("0x164"),(function(){c[_0x4b1c("0xb1a")]()})),this.on("zoomed",(function(){var x=c[_0x4b1c("0x1c3")][_0x4b1c("0x31d")];x<=c[_0x4b1c("0x47")].tileShowLevel?c[_0x4b1c("0xb06")]():x<=c[_0x4b1c("0x47")][_0x4b1c("0xb1b")]&&c.tapTip&&0!=c[_0x4b1c("0xab4")][_0x4b1c("0xab6")][_0x4b1c("0x23")][_0x4b1c("0x129")]&&(c[_0x4b1c("0xab4")][_0x4b1c("0xab6")][_0x4b1c("0x23")][_0x4b1c("0x129")]=0),c[_0x4b1c("0x9c9")][_0x4b1c("0xb1c")]()}));var i=this[_0x4b1c("0x2b3")][_0x4b1c("0xb1d")](_0x4b1c("0xb1e"));if(i)if(i[_0x4b1c("0x596")]()){var a=L[_0x4b1c("0xc2")];if((0,R[_0x4b1c("0x10d")])(c.id))c[L._ztl_][_0x4b1c("0x526")][_0x4b1c("0x165")][_0x4b1c("0x191")]=!1;else if(c[_0x4b1c("0x47")][a]&&t[a]){esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](_0x4b1c("0xb1f")+t[_0x4b1c("0x5ad")]+c[_0x4b1c("0x47")][a])===t[a]&&(c[L[_0x4b1c("0xbd")]][_0x4b1c("0x526")][_0x4b1c("0x165")][_0x4b1c("0x191")]=!1)}if(esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](t[_0x4b1c("0x5a3")]+""+t[_0x4b1c("0x5a6")]+t.maxX+t.maxY+t[L._tk_]+t[a]+ +t.bidnums+t[_0x4b1c("0x5aa")]+_0x4b1c("0xb20")+t.o1+t.ul)===t[L[_0x4b1c("0xd6")]]){if(!c[_0x4b1c("0xb22")]&&t[L[_0x4b1c("0xc1")]]!=_0x4b1c("0xb23"))if(esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](t[_0x4b1c("0x3d8")]+""+c[_0x4b1c("0x47")][L[_0x4b1c("0xc1")]])!=t[L[_0x4b1c("0xc1")]]&&3==c[_0x4b1c("0x47")].tid)return void c.tileService._sdu(0)}else c[_0x4b1c("0x2b3")][_0x4b1c("0xb21")](0)}else c.tileService._sdu(0)}},{key:"updateTileView",value:function(){if(this[_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&(!this[_0x4b1c("0x7e")][_0x4b1c("0xace")]&&!(this[_0x4b1c("0x31d")]<=this.options[_0x4b1c("0xb1b")])&&this[_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0xb24")]())){(0==this.mapService[_0x4b1c("0x2b3")][_0x4b1c("0xb25")][_0x4b1c("0x0")]||this[_0x4b1c("0x7e")][_0x4b1c("0xb26")])&&this.mapService[_0x4b1c("0x2b3")][_0x4b1c("0xb27")]();for(var x=0;x<this.mapScene.tileScene_[_0x4b1c("0xf1")][_0x4b1c("0x0")];x++){var c=this.mapScene.tileScene_[_0x4b1c("0xf1")][x].datas_;c[_0x4b1c("0xf0")]&&(c[_0x4b1c("0xf0")].visible&&c.modelLoadManager.toAddQueue.length>0&&(c[_0x4b1c("0x26b")][_0x4b1c("0x26d")]=!1))}}}},{key:_0x4b1c("0xb28"),value:function(x){for(var c=this,b=0;b<c.mapScene[_0x4b1c("0xa33")][_0x4b1c("0xf1")].length;b++){var _=c[_0x4b1c("0x1e1")][_0x4b1c("0xa33")][_0x4b1c("0xf1")][b].datas_;if(_[_0x4b1c("0xa1f")]&&_.id==x){var e=c[_0x4b1c("0x1e1")][_0x4b1c("0xa33")][_0x4b1c("0xf1")][b];e[_0x4b1c("0x191")]=!1,e[_0x4b1c("0x108")][_0x4b1c("0x2ea")](e);for(var t=0;t<c.buildingList.length;t++)if(c[_0x4b1c("0x68b")][t].id==e[_0x4b1c("0xef")].id){c[_0x4b1c("0x68b")].splice(t,1);break}e[_0x4b1c("0xef")][_0x4b1c("0x21a")]==esmap[_0x4b1c("0x621")][_0x4b1c("0xb29")]&&c[_0x4b1c("0x2b3")][_0x4b1c("0xacf")](e.datas_);break}}}},{key:"unloadTile",value:function(){for(var x=this,c=this[_0x4b1c("0x2d0")](this.controls[_0x4b1c("0x2c7")],!0),b=[],_=0;_<x[_0x4b1c("0x1e1")][_0x4b1c("0x407")].children[_0x4b1c("0x0")];_++){var e=x.mapScene.tileScene_[_0x4b1c("0xf1")][_];if(e[_0x4b1c("0xef")][_0x4b1c("0x12d")]){var t=e[_0x4b1c("0xef")][_0x4b1c("0x12d")],i=e.datas_.id,a=(0,v[_0x4b1c("0x11d")])({x:t[0],y:t[1]},c);b[_0x4b1c("0x12")]({dis:a,id:i,index:_})}}b=b[_0x4b1c("0x42b")]((function(x,c){return c[_0x4b1c("0x695")]-x[_0x4b1c("0x695")]}));for(var n=0;n<b[_0x4b1c("0x0")];n++){var r=x.mapScene[_0x4b1c("0x407")][_0x4b1c("0xf1")][_0x4b1c("0x0")],s=b[n];if(!(x[_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0x3c2")][_0x4b1c("0x114")](s.id)>-1)){if(r<=x[_0x4b1c("0x47")][_0x4b1c("0xb2a")])break;for(var o=0;o<x.mapScene[_0x4b1c("0x407")][_0x4b1c("0xf1")][_0x4b1c("0x0")];o++){var f=x[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0xf1")][o];if(f[_0x4b1c("0xef")].id==s.id){f[_0x4b1c("0x191")]=!1,x[_0x4b1c("0x1e1")][_0x4b1c("0x407")].remove(f),o--,b[_0x4b1c("0x5")](n,1),n--,x[_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0xaee")][_0x4b1c("0x114")](f[_0x4b1c("0xef")])<0&&x[_0x4b1c("0x2b3")][_0x4b1c("0xacf")](f[_0x4b1c("0xef")]),x[_0x4b1c("0xe7")](_0x4b1c("0xad0"),{bid:f[_0x4b1c("0xef")].id});break}}}}}},{key:_0x4b1c("0xb2b"),value:function(){for(var x=this,c=0;c<x[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0xf1")][_0x4b1c("0x0")];c++){var b=x[_0x4b1c("0x1e1")].tileScene_[_0x4b1c("0xf1")][c][_0x4b1c("0xef")];if(b)for(var _={x:b.center[0],y:b.center[1]},e=0;e<x[_0x4b1c("0x7e")][_0x4b1c("0xa80")][_0x4b1c("0x0")];e++){if((0,v[_0x4b1c("0x11d")])(x[_0x4b1c("0x7e")].buildings[e],_)<=2*x.mapService.tileSize){new(esmap[_0x4b1c("0x1a6")].Tween)(b[_0x4b1c("0xf0")][_0x4b1c("0x201")]).to({y:.15},1e3)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")].Easing[_0x4b1c("0x1aa")][_0x4b1c("0x1ae")])[_0x4b1c("0x1af")]();break}}}}},{key:_0x4b1c("0xb1a"),value:(p=(0,n[_0x4b1c("0xc")])(a[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){var c,b,_,e,t,i,n,r;return a[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:if(!this[_0x4b1c("0x7e")]._disableTileUpdate){x[_0x4b1c("0x286")]=2;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 2:if(this[_0x4b1c("0x9bb")]&&!this[_0x4b1c("0x7e")][_0x4b1c("0xb26")]){x.next=4;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 4:if(!((c=this).zoomLevel<=c[_0x4b1c("0x47")][_0x4b1c("0xb1b")])){x[_0x4b1c("0x286")]=11;break}if(!(c[_0x4b1c("0x9bb")]&&c[_0x4b1c("0x1e1")].tileScene_.children[_0x4b1c("0x0")]>0)){x[_0x4b1c("0x286")]=9;break}return c[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0x191")]&&(c[_0x4b1c("0x1e1")].tileScene_[_0x4b1c("0x191")]=!1),x[_0x4b1c("0x293")]("return");case 9:x[_0x4b1c("0x286")]=12;break;case 11:c[_0x4b1c("0x1e1")].tileScene_[_0x4b1c("0x191")]||(c[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0x191")]=!0);case 12:if(!(c[_0x4b1c("0x7e")].tileService[_0x4b1c("0xb25")][_0x4b1c("0x0")]>0)){x[_0x4b1c("0x286")]=45;break}c[_0x4b1c("0xb2c")]||(c[_0x4b1c("0xb2c")]=!0),b=c[_0x4b1c("0x7e")][_0x4b1c("0x2b3")].currentView[_0x4b1c("0x3")](),_=!1,e=null,t=0;case 18:if(!(t<c[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0xf1")].length)){x[_0x4b1c("0x286")]=27;break}if((i=c.mapScene[_0x4b1c("0x407")][_0x4b1c("0xf1")][t])[_0x4b1c("0xef")].id!=b){x[_0x4b1c("0x286")]=24;break}return _=!0,e=i,x[_0x4b1c("0x293")]("break",27);case 24:t++,x[_0x4b1c("0x286")]=18;break;case 27:if(_){x.next=42;break}n=c.mapService[_0x4b1c("0x2b3")][_0x4b1c("0xaee")],r=0;case 30:if(!(r<n[_0x4b1c("0x0")])){x[_0x4b1c("0x286")]=42;break}if(n[r].id!=b){x[_0x4b1c("0x286")]=39;break}return c[_0x4b1c("0x1e1")][_0x4b1c("0x407")].add(n[r][_0x4b1c("0xf0")]),n[r][_0x4b1c("0xf0")][_0x4b1c("0x191")]||(n[r][_0x4b1c("0xf0")].visible=!0),n[r][_0x4b1c("0x26b")][_0x4b1c("0x26d")]=!1,c[_0x4b1c("0x7e")].tileService[_0x4b1c("0xa3b")](),c[_0x4b1c("0x7e")].tileService.cachedTiles.splice(r,1),_=!0,x[_0x4b1c("0x293")](_0x4b1c("0xafb"),42);case 39:r++,x.next=30;break;case 42:!_&&c.mapService[_0x4b1c("0x2b3")][_0x4b1c("0xb2d")][_0x4b1c("0x114")](b)<0?(c[_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0xb2d")][_0x4b1c("0x12")](b),c[_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0xb2e")](b)):e&&!e[_0x4b1c("0x191")]&&(e.visible=!0),x[_0x4b1c("0x286")]=46;break;case 45:c[_0x4b1c("0xb2c")]&&(c[_0x4b1c("0xb2c")]=!1);case 46:c[_0x4b1c("0x1e1")].tileScene_[_0x4b1c("0xf1")][_0x4b1c("0x0")]>c[_0x4b1c("0x47")].maximumTiles&&0==c.mapService.tileService.solvingList[_0x4b1c("0x0")]&&0==c.mapService[_0x4b1c("0x2b3")][_0x4b1c("0xb25")][_0x4b1c("0x0")]&&c[_0x4b1c("0xad0")]();case 47:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return p[_0x4b1c("0x4")](this,arguments)})},{key:"checkPanLimit",value:function(){var x=this[_0x4b1c("0x1c3")];if(x[_0x4b1c("0x12d")]){var c=x.getCenter();if(c&&x[_0x4b1c("0xb2f")]){var b=x[_0x4b1c("0xb2f")],_=x[_0x4b1c("0xb30")],e=void 0;e=_?{minx:_.x-b,miny:_.y-b,maxx:_.x+b,maxy:_.y+b}:{minx:this[_0x4b1c("0x5a3")]-b,miny:this.minY-b,maxx:this.maxX+b,maxy:this[_0x4b1c("0x5ba")]+b};var t=!1;if(c.x<e[_0x4b1c("0xfb")]||c.x>e[_0x4b1c("0xf7")]||c.y<e[_0x4b1c("0xfc")]||c.y>e[_0x4b1c("0xf8")]){if(!x[_0x4b1c("0xb31")])return;t=!0}else x[_0x4b1c("0xb31")]=c,this.controls.lastTarget=this[_0x4b1c("0x266")][_0x4b1c("0x2c7")].clone(),this[_0x4b1c("0x266")][_0x4b1c("0xb32")]=this[_0x4b1c("0x266")][_0x4b1c("0x1d")][_0x4b1c("0x105")][_0x4b1c("0x13e")]();return t}}}},{key:_0x4b1c("0x9c4"),value:function(){var x=this;if(this[_0x4b1c("0xb33")]()&&this[_0x4b1c("0x266")][_0x4b1c("0xb34")])return this[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x20b")](this.controls.lastTarget),void this.controls[_0x4b1c("0x1d")].position.copy(this[_0x4b1c("0x266")].lastCameraPosition);var c=this.mapView.zoomLevel;if(null===F)F=c;else{var b=F.toFixed(3),_=c.toFixed(3);b!=_&&this[_0x4b1c("0xe7")]("zoomed",1*_),F=c}if("3D"==this.viewMode_&&Math.PI,this.fire(_0x4b1c("0x192")),this[_0x4b1c("0x9c6")]=!0,"3D"!=this[_0x4b1c("0x9c5")]&&(this[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x105")].x=this[_0x4b1c("0x1c3")].cameraTop.position.x,this[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x105")].z=this[_0x4b1c("0x1c3")][_0x4b1c("0xa5d")][_0x4b1c("0x105")].z,this[_0x4b1c("0x9c9")].updateText()),this.mode==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&this[_0x4b1c("0x47")][_0x4b1c("0xb35")]&&!esmap[_0x4b1c("0x32")].IsMapLoading&&!esmap[_0x4b1c("0x32")].isAnimating){var e=this[_0x4b1c("0x1c3")][_0x4b1c("0xb36")](),t=this[_0x4b1c("0x2b3")][_0x4b1c("0xa3a")];if(this.zoomLevel>=this[_0x4b1c("0x47")][_0x4b1c("0xb37")]){var i=null,a=null;for(var n in this[_0x4b1c("0x9e8")]=!1,t){var r=t[n];if(!r.hold&&(!r[_0x4b1c("0x440")]&&r[_0x4b1c("0x68c")])){var s=esmap.ESMapUtil[_0x4b1c("0x3d3")](e,r[_0x4b1c("0x68c")]);r[_0x4b1c("0xb02")]?s||a||(a=r):s&&!i&&(i=r[_0x4b1c("0x12b")],r[_0x4b1c("0xb02")]=!0)}}i&&a&&(this[_0x4b1c("0xaf6")](a[_0x4b1c("0x12b")]),a.loaded=!1),i&&this[_0x4b1c("0xa01")](i)}else for(var o in t){var f=t[o];if(f.hold&&(f[_0x4b1c("0xb03")]=!1),!f.locked&&f[_0x4b1c("0xb02")]){if(this[_0x4b1c("0x9e8")])continue;this[_0x4b1c("0xaf6")](f.bid),f[_0x4b1c("0xb02")]=!1}}}P&&window[_0x4b1c("0x26f")](P),P=setTimeout((function(){x[_0x4b1c("0xe7")]("controlUpdated"),window[_0x4b1c("0x26f")](P),P=null}),300);for(var l=this[_0x4b1c("0x266")].getScaleRate(),d=D,u=0;u<this[_0x4b1c("0x9cf")][_0x4b1c("0x0")];u++)if(l<this[_0x4b1c("0x9cf")][u])return void((D=u-1)!=d&&this[_0x4b1c("0xe7")](_0x4b1c("0xb38"),{level:D,rate:l}))}},{key:_0x4b1c("0xa42"),value:function(){this.__ob__&&!B&&(B=!0,k[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:"地图相关对象被vue双向绑定,请检查代码，否则会影响性能！",level:_0x4b1c("0xe3")})),this.mapScene[_0x4b1c("0xb39")](this[_0x4b1c("0x1c3")])}},{key:_0x4b1c("0xb3a"),value:function(x){var c=x.focusFnum_,b=x.sourceData,e=x[_0x4b1c("0x47")][_0x4b1c("0x12d")]||x[_0x4b1c("0x12d")],t=this[_0x4b1c("0x238")](e),i=this;if(x.box3_&&b[_0x4b1c("0xb3b")][c-1]){var a,n=x.box3_[_0x4b1c("0x716")](new(THREE[_0x4b1c("0x128")])),r=b[_0x4b1c("0xb3b")][c-1][_0x4b1c("0xb3c")],s=.75*n.x+r,o=e?new(THREE[_0x4b1c("0x128")])(t.x,r,t.z):new(THREE[_0x4b1c("0x128")])(0,r,0);a=new(THREE[_0x4b1c("0x128")])(n.x,s,-n.x),this[_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x105")][_0x4b1c("0x20b")](a),this[_0x4b1c("0xb3d")]=o,this[_0x4b1c("0x266")][_0x4b1c("0x2c7")].copy(o),i.minScaleLevel_=i[_0x4b1c("0x47")][_0x4b1c("0x39d")],i.maxScaleLevel_=i[_0x4b1c("0x47")].maxScaleLevel?i[_0x4b1c("0x47")][_0x4b1c("0x39e")]>=i[_0x4b1c("0x9cf")].length?i[_0x4b1c("0x9cf")][_0x4b1c("0x0")]-1:i[_0x4b1c("0x47")][_0x4b1c("0x39e")]:i[_0x4b1c("0x9cf")].length-1;var f=new(THREE[_0x4b1c("0x128")]),l=this[_0x4b1c("0x266")][_0x4b1c("0x1d")][_0x4b1c("0x105")][_0x4b1c("0x124")](f);if(this[_0x4b1c("0x266")][_0x4b1c("0xaaf")]=l,this[_0x4b1c("0x266")][_0x4b1c("0xb3e")]=esmap[_0x4b1c("0x87")].getOrthoCameraSizeByPerspectiveCamera(this[_0x4b1c("0x1c3")][_0x4b1c("0x658")],this[_0x4b1c("0x266")],l)[_0x4b1c("0x35b")],i[_0x4b1c("0x266")][_0x4b1c("0xac1")](i[_0x4b1c("0x9cf")][i[_0x4b1c("0xabf")]],i[_0x4b1c("0x9cf")][i[_0x4b1c("0xac0")]],!0),this.options[_0x4b1c("0x392")]){var d=this[_0x4b1c("0x47")].defaultControlsPose,u=0;switch(typeof d===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(d)){case _0x4b1c("0xd"):switch(d){case"n":u=Math.PI;break;case"s":default:u=0;break;case"w":u=-Math.PI/2;break;case"e":u=Math.PI/2;break;case"ne":u=.75*Math.PI;break;case"nw":u=1.25*Math.PI;break;case"se":u=Math.PI/4;break;case"sw":u=-Math.PI/4}this.options[_0x4b1c("0x388")],esmap.ESViewMode[_0x4b1c("0xaa8")],this[_0x4b1c("0x266")][_0x4b1c("0x164")]({forceTheta:u});break;case _0x4b1c("0x18f"):this[_0x4b1c("0x266")][_0x4b1c("0x164")]({forceTheta:d*THREE.Math[_0x4b1c("0x660")]});break;case _0x4b1c("0x1d"):var h=this[_0x4b1c("0x47")][_0x4b1c("0x392")].target[_0x4b1c("0x2c")](","),g=this[_0x4b1c("0x47")][_0x4b1c("0x392")].position[_0x4b1c("0x2c")](","),v=new THREE.Vector3(parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])),p=new(THREE[_0x4b1c("0x128")])(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]));return this[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x20b")](v),this.controls[_0x4b1c("0x1d")][_0x4b1c("0x105")].copy(p),this[_0x4b1c("0x266")][_0x4b1c("0x164")](),!0}}if(this[_0x4b1c("0x47")][_0x4b1c("0x1")](_0x4b1c("0x393"))&&null!=this.options[_0x4b1c("0x393")]){var m=(180-this[_0x4b1c("0x47")].defaultAngle)*Math.PI/180;this[_0x4b1c("0x266")][_0x4b1c("0x164")]({forceTheta:m})}else if(!this[_0x4b1c("0x47")].defaultControlsPose){var A=Math.PI;this.controls[_0x4b1c("0x164")]({forceTheta:A})}return null!=this[_0x4b1c("0x47")].defaultTiltAngle&&(this[_0x4b1c("0x2c1")]=this[_0x4b1c("0x47")][_0x4b1c("0x394")]),this[_0x4b1c("0x6e9")]=0,!1}}},{key:"sl",value:function(){for(var x=this[_0x4b1c("0x1c3")].sceneOrtho[_0x4b1c("0xf1")],c=null,b=0;b<x[_0x4b1c("0x0")];b++)x[b][_0x4b1c("0x165")].visible&&(c=x[b]);if(!c)return 9568297;for(var _=c[_0x4b1c("0xf4")].map[_0x4b1c("0x316")]?c.material[_0x4b1c("0x3e")].image[_0x4b1c("0x4d7")]:"",e=_[_0x4b1c("0x0")],t=0,i=0;i<e;i++)t+=_[i].charCodeAt();return parseInt(t,16)}},{key:"addLocationMarker",value:function(x){this[_0x4b1c("0x1e1")][_0x4b1c("0xb3f")][_0x4b1c("0xdd")](x[_0x4b1c("0xf0")]),this[_0x4b1c("0x232")][_0x4b1c("0x3ec")](x[_0x4b1c("0xf0")])}},{key:_0x4b1c("0xb40"),value:function(x){x[_0x4b1c("0xf3")]()}},{key:_0x4b1c("0xb41"),value:function(x){return this[_0x4b1c("0x1e1")][_0x4b1c("0xaed")]()[_0x4b1c("0x225")](x)}},{key:_0x4b1c("0xb42"),value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{bid:0,fnum:1},c=this[_0x4b1c("0x1c3")].w_/2,b=this[_0x4b1c("0x1c3")].h_/2,_=void 0,e=this[_0x4b1c("0x136")](x.bid);e?_=e[_0x4b1c("0x2d7")](x.fnum):(e=this[_0x4b1c("0x218")](x[_0x4b1c("0x12b")]),_=0);var t=this[_0x4b1c("0xa61")](c,b,_);return t.z+=1,t}},{key:_0x4b1c("0xa62"),value:function(x,c){var b=arguments[_0x4b1c("0x0")]>2&&void 0!==arguments[2]?arguments[2]:0;if(!this[_0x4b1c("0xb43")])return null;var _,e=this[_0x4b1c("0x26a")]||this[_0x4b1c("0x1c3")][_0x4b1c("0x658")];_=new(THREE[_0x4b1c("0x128")])(x/this[_0x4b1c("0x1c3")].w_*2-1,1-c/this.mapView.h_*2,.5);var t=new(THREE[_0x4b1c("0x516")]);t.setFromCamera(_,e),this[_0x4b1c("0xb43")][_0x4b1c("0x105")].y=b,this[_0x4b1c("0xb43")][_0x4b1c("0x752")]();var i=t[_0x4b1c("0xb44")](this[_0x4b1c("0xb43")]);return i[_0x4b1c("0x0")]>0?i[0][_0x4b1c("0x2f7")]:null}},{key:_0x4b1c("0xa61"),value:function(x,c){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_=this[_0x4b1c("0xa62")](x,c,b);return _?this[_0x4b1c("0x20d")](_):null}},{key:_0x4b1c("0xb45"),value:function(x,c,b){var _=this[_0x4b1c("0x26a")],e=this[_0x4b1c("0x238")]({x:x,y:c,z:b||0});e.project(_);var t=this.mapView[_0x4b1c("0xb46")],i=this.mapView[_0x4b1c("0xb47")];return{x:e.x*t+t,y:i-e.y*i}}},{key:"project_",value:function(x){var c=new THREE.Vector3;c.setFromMatrixPosition(x[_0x4b1c("0x3eb")]),c[_0x4b1c("0xb48")](this[_0x4b1c("0x26a")]);var b=c.x*this[_0x4b1c("0x1c3")][_0x4b1c("0xb46")],_=c.y*this[_0x4b1c("0x1c3")][_0x4b1c("0xb47")];return{x:b+this[_0x4b1c("0x1c3")][_0x4b1c("0xb46")],y:-_+this[_0x4b1c("0x1c3")][_0x4b1c("0xb47")]}}},{key:_0x4b1c("0xb49"),value:function(x){var c=[this.getUserScene()][_0x4b1c("0x377")](this[_0x4b1c("0x68b")]);for(var b in c){var _=c[b][_0x4b1c("0xb01")];for(var e in _)for(var t=_[e].children,i=0;i<t[_0x4b1c("0x0")];i++)if("popGroup"==t[i][_0x4b1c("0x1f7")]&&t[i][_0x4b1c("0x165")].id===x)return t[i][_0x4b1c("0xef")]}return null}},{key:_0x4b1c("0xb4a"),value:function(x){var c=[this[_0x4b1c("0xb0f")]()][_0x4b1c("0x377")](this[_0x4b1c("0x68b")]);for(var b in c){var _=c[b].o3dFloors_;for(var e in _)for(var t=_[e][_0x4b1c("0xf1")],i=0;i<t[_0x4b1c("0x0")];i++)if(t[i][_0x4b1c("0x1f7")]==_0x4b1c("0xb4b")&&t[i][_0x4b1c("0x165")].id===x)return t[i][_0x4b1c("0xef")][_0x4b1c("0x499")](),!0}}},{key:_0x4b1c("0xb4c"),value:function(){var x=[this[_0x4b1c("0xb0f")]()][_0x4b1c("0x377")](this[_0x4b1c("0x68b")]);for(var c in x){var b=x[c][_0x4b1c("0xb01")];for(var _ in b)for(var e=b[_][_0x4b1c("0xf1")],t=0;t<e[_0x4b1c("0x0")];t++)"popGroup"==e[t][_0x4b1c("0x1f7")]&&e[t].datas_[_0x4b1c("0x4ea")]!==_0x4b1c("0xb4d")&&(e[t][_0x4b1c("0xef")].close(),t--)}}},{key:"stopRender",value:function(){this[_0x4b1c("0xe7")](_0x4b1c("0xb4e"))}},{key:_0x4b1c("0xb4f"),value:function(){this.fire(_0x4b1c("0xb4f"))}},{key:"forceLoadTiles",value:function(x){var c=this,b=this[_0x4b1c("0x2b3")].tileGrids[_0x4b1c("0x0")],_=0;this.options.maximumTiles=x.number,this.tileService[_0x4b1c("0xb50")]=(Math[_0x4b1c("0x20f")](Math[_0x4b1c("0x120")](this[_0x4b1c("0x47")][_0x4b1c("0xb2a")]))-1)/2,this[_0x4b1c("0x2b3")][_0x4b1c("0xb51")](x[_0x4b1c("0x18f")]),this.on(_0x4b1c("0xb52"),(function(){c[_0x4b1c("0x2b3")][_0x4b1c("0xb53")]&&c[_0x4b1c("0x2b3")][_0x4b1c("0xb53")][_0x4b1c("0x0")]>0?c[_0x4b1c("0x2b3")][_0x4b1c("0xb54")]():x[_0x4b1c("0x1ac")]&&x[_0x4b1c("0x1ac")]()})),this.on("tileLoadComplete",(function(){var c=(_+=1)/b;x[_0x4b1c("0xb55")]&&x.onProgress(c)}))}},{key:_0x4b1c("0x254"),value:function(x){var c=this;return new(r[_0x4b1c("0xc")])((function(b){var _=c;_0x4b1c("0x18f")==typeof x&&(x={angle:x});var e,t=(0,v[_0x4b1c("0x1a2")])(x,"time","duration",.3),i=_.rotateAngle,a=function(x,c){var b=c-x;return Math[_0x4b1c("0x23d")](b)>180&&(b=-1*(0,o[_0x4b1c("0xc")])(b)*360+b),b}(i,x[_0x4b1c("0x258")]);_[_0x4b1c("0xb56")]&&_[_0x4b1c("0xb56")].stop(),_[_0x4b1c("0xb56")]=new(esmap[_0x4b1c("0x1a6")].Tween)({value:0}).to({value:1},1e3*t).easing(esmap[_0x4b1c("0x1a6")].Easing[_0x4b1c("0x1aa")][_0x4b1c("0x1ae")]).onUpdate((function(x){x=x.value,(e=i+a*x)<=0?e=360+e:e>=360&&(e-=360),_.rotateAngle=e})).onComplete((function(){x[_0x4b1c("0x1ac")]&&x[_0x4b1c("0x1ac")](),b()})).start()}))}},{key:_0x4b1c("0x9f1"),set:function(x){var c=this;if(x){c.controls.enabled=!1;var b=c[_0x4b1c("0x26a")][_0x4b1c("0x105")][_0x4b1c("0x13e")]();c[_0x4b1c("0x266")][_0x4b1c("0x2ce")](),c[_0x4b1c("0x266")][_0x4b1c("0x2cf")]();c[_0x4b1c("0x266")].targettocamera=b.clone().sub(c[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x13e")]()).length(),c[_0x4b1c("0x64c")][_0x4b1c("0x954")]=c[_0x4b1c("0x235")]+90,c[_0x4b1c("0x64c")].lat=-(90-c[_0x4b1c("0x2c1")]),c[_0x4b1c("0x64c")][_0x4b1c("0x70b")]=!0}else{var _=c[_0x4b1c("0x26a")][_0x4b1c("0x105")][_0x4b1c("0x13e")](),e=c.firstPersonControls[_0x4b1c("0x2c7")][_0x4b1c("0x13e")]();c[_0x4b1c("0x64c")][_0x4b1c("0x70b")]=!1,c[_0x4b1c("0x266")][_0x4b1c("0x70b")]=!0,c[_0x4b1c("0x235")]=c[_0x4b1c("0x64c")].lon-90,c.tiltAngle=c[_0x4b1c("0x64c")][_0x4b1c("0x953")]+90,c[_0x4b1c("0x26a")].position.copy(_);var t=e[_0x4b1c("0x6a0")](_);t[_0x4b1c("0x301")]();var i=_[_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](t[_0x4b1c("0x13e")]()[_0x4b1c("0x253")](c.controls[_0x4b1c("0xb57")]));c.controls[_0x4b1c("0x2c7")][_0x4b1c("0x20b")](i),c[_0x4b1c("0x26a")].lookAt(i),c[_0x4b1c("0x266")][_0x4b1c("0x164")]()}},get:function(){return!(!this.firstPersonControls||!this[_0x4b1c("0x64c")][_0x4b1c("0x70b")])}},{key:_0x4b1c("0xb58"),set:function(x){x?(this[_0x4b1c("0x266")].enabled=!1,this[_0x4b1c("0x9db")][_0x4b1c("0x70b")]=!0):(this[_0x4b1c("0x266")][_0x4b1c("0x70b")]=!0,this[_0x4b1c("0x9db")][_0x4b1c("0x70b")]=!1)},get:function(){return!(!this[_0x4b1c("0x9db")]||!this.FirstPersonControls_2[_0x4b1c("0x70b")])}},{key:_0x4b1c("0xb59"),set:function(x){x?(this[_0x4b1c("0x266")].enabled=!1,this.FreeFlyControls[_0x4b1c("0x70b")]=!0,this[_0x4b1c("0x63f")][_0x4b1c("0xb5a")]()):(this[_0x4b1c("0x266")].enabled=!0,this[_0x4b1c("0x63f")][_0x4b1c("0x70b")]=!1,this[_0x4b1c("0x63f")][_0x4b1c("0xb5b")]())},get:function(){return!(!this[_0x4b1c("0x63f")]||!this[_0x4b1c("0x63f")][_0x4b1c("0x70b")])}},{key:_0x4b1c("0x2b3"),get:function(){return this.mapService[_0x4b1c("0x2b3")]}},{key:_0x4b1c("0xaeb"),get:function(){return this.mapService.buildingService}},{key:_0x4b1c("0x25c"),get:function(){return this[_0x4b1c("0x9e3")]}},{key:_0x4b1c("0xb5c"),get:function(){return v.FullScreen[_0x4b1c("0xb5d")]}},{key:_0x4b1c("0xb5e"),get:function(){return v[_0x4b1c("0x9de")][_0x4b1c("0xb5f")]},set:function(x){x?v[_0x4b1c("0x9de")][_0x4b1c("0xb60")](this[_0x4b1c("0x1c3")][_0x4b1c("0x536")]):v[_0x4b1c("0x9de")][_0x4b1c("0xb61")]()}},{key:_0x4b1c("0x3b"),get:function(){return this[_0x4b1c("0x47")][_0x4b1c("0x3b")]}},{key:_0x4b1c("0xb62"),get:function(){for(var x=this[_0x4b1c("0x1e1")][_0x4b1c("0xa33")][_0x4b1c("0xf1")],c=[],b=0;b<x[_0x4b1c("0x0")];b++)x[b][_0x4b1c("0x191")]&&c[_0x4b1c("0x12")](x[b][_0x4b1c("0xef")]);return c}},{key:"lineStyle",set:function(x){x[_0x4b1c("0x1")](_0x4b1c("0x147"))&&(this[_0x4b1c("0x13f")].navigateStyle_[_0x4b1c("0x147")]=x.color),x.hasOwnProperty(_0x4b1c("0x15f"))&&(this[_0x4b1c("0x13f")][_0x4b1c("0xa44")][_0x4b1c("0x15f")]=x[_0x4b1c("0x15f")]),x[_0x4b1c("0x1")]("alpha")&&(this[_0x4b1c("0x13f")][_0x4b1c("0xa44")][_0x4b1c("0x273")]=x.alpha),x[_0x4b1c("0x1")](_0x4b1c("0x273"))&&(this[_0x4b1c("0x13f")][_0x4b1c("0xa44")].alpha=x.alpha),x.hasOwnProperty("dash")&&x[_0x4b1c("0xb63")].hasOwnProperty(_0x4b1c("0xe0"))&&(this[_0x4b1c("0x13f")][_0x4b1c("0xa44")][_0x4b1c("0xb63")][_0x4b1c("0xe0")]=x[_0x4b1c("0xb63")].size),x[_0x4b1c("0x1")](_0x4b1c("0xb63"))&&x[_0x4b1c("0xb63")].hasOwnProperty(_0x4b1c("0xb64"))&&(this[_0x4b1c("0x13f")][_0x4b1c("0xa44")][_0x4b1c("0xb63")].gap=x[_0x4b1c("0xb63")][_0x4b1c("0xb64")])},get:function(){return this[_0x4b1c("0x13f")][_0x4b1c("0xa44")]}},{key:_0x4b1c("0x5a3"),get:function(){return this.mapScene[_0x4b1c("0xb65")]}},{key:_0x4b1c("0x5a7"),get:function(){return this.mapScene[_0x4b1c("0xb66")]}},{key:"minY",get:function(){return this.mapScene[_0x4b1c("0xb67")]}},{key:"maxY",get:function(){return this[_0x4b1c("0x1e1")][_0x4b1c("0xb68")]}},{key:_0x4b1c("0x222"),get:function(){return this[_0x4b1c("0x266")].getCurrentScaleLevel?this.controls[_0x4b1c("0xb69")]():24-this[_0x4b1c("0x31d")]},set:function(x){D=Math[_0x4b1c("0xfd")](x),null!=this[_0x4b1c("0x9cf")][D]&&this[_0x4b1c("0x266")][_0x4b1c("0xabd")]&&this.controls[_0x4b1c("0xabd")](this.scaleLevels_[D])}},{key:_0x4b1c("0x39d"),get:function(){return this[_0x4b1c("0xabf")]},set:function(x){this.setScaleLevelLimit(x,this[_0x4b1c("0xac0")])}},{key:"maxScaleLevel",get:function(){return this[_0x4b1c("0xac0")]},set:function(x){this[_0x4b1c("0xabe")](this[_0x4b1c("0xabf")],x)}},{key:_0x4b1c("0xb6a"),get:function(){return this[_0x4b1c("0x266")][_0x4b1c("0xabc")]()},set:function(x){this[_0x4b1c("0x266")][_0x4b1c("0xabd")](x)}},{key:_0x4b1c("0xb16"),get:function(){return{x:-this.mapView.center.x,y:this.mapView[_0x4b1c("0x12d")].y}}},{key:_0x4b1c("0xb6b"),get:function(){return this[_0x4b1c("0x1c3")][_0x4b1c("0x2e7")]()}},{key:"center",get:function(){return{x:-this[_0x4b1c("0x1c3")][_0x4b1c("0x12d")].x,y:this[_0x4b1c("0x1c3")][_0x4b1c("0x12d")].y}}},{key:_0x4b1c("0xb6c"),get:function(){return this[_0x4b1c("0x2b3")][_0x4b1c("0xa3a")]}},{key:"maxPolarAngle",get:function(){return this.controls.maxPolarAngle*THREE[_0x4b1c("0x215")][_0x4b1c("0x9f8")]},set:function(x){this[_0x4b1c("0x266")].maxPolarAngle=x*THREE.Math[_0x4b1c("0x660")],this[_0x4b1c("0xe7")]("_setMaxPolarAngle",x)}},{key:_0x4b1c("0x388"),set:function(x){var c=x,b=!1,e=!1;if(typeof x==_0x4b1c("0xd")){if("2D"!=(x=x[_0x4b1c("0xb6d")]())&&"3D"!=x)return void console[_0x4b1c("0xe3")](_0x4b1c("0xb6e"))}else{if("2D"!=x.mode&&"3D"!=x[_0x4b1c("0x3b")])return void console[_0x4b1c("0xe3")]("viewMode must be 2D or 3D");b=x[_0x4b1c("0x39")],e=x.force2D}if(!(b&&window[_0x4b1c("0x1b6")].tileMapInited&&"2D"==x.mode||x==this[_0x4b1c("0x388")]))if(e||b||this.options[_0x4b1c("0x1f6")]||1!=this[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0x191")]||!window.esmap[_0x4b1c("0xb6f")]){if(!this[_0x4b1c("0xb71")]){var t=null,i=null;if(_0x4b1c("0x1d")==(void 0===c?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(c))&&(t=c.time,i=c[_0x4b1c("0x1b0")],c=c.mode),c!=this[_0x4b1c("0x9c5")]){var a=this;a.__viewModeAnimating=!0;var n=this[_0x4b1c("0x1c3")].camera,r=this[_0x4b1c("0x1c3")].cameraTop;"3D"==this[_0x4b1c("0x9c5")]?(a[_0x4b1c("0x9b8")]=a[_0x4b1c("0x266")][_0x4b1c("0x2cf")](),esmap[_0x4b1c("0x1a6")].fadeTo(null!=t?t:a[_0x4b1c("0x47")][_0x4b1c("0xb72")]?a[_0x4b1c("0x47")][_0x4b1c("0x396")]:0,(function(x){a[_0x4b1c("0x266")][_0x4b1c("0x164")]({forcePhi:a[_0x4b1c("0x9b8")]-a.__lastPhi*x[_0x4b1c("0x13a")]}),a.requireUpdateCollide_=!0}),null,(function(){a[_0x4b1c("0x266")].object=a[_0x4b1c("0x1c3")][_0x4b1c("0xa5d")],a[_0x4b1c("0x266")].minPolarAngle=0,a[_0x4b1c("0x266")][_0x4b1c("0xb73")]=0,a[_0x4b1c("0x26a")]=a[_0x4b1c("0x1c3")].cameraTop,a.controls[_0x4b1c("0x164")]({forceTheta:a[_0x4b1c("0x266")][_0x4b1c("0x2ce")]()+Math.PI,notChangeCompass:!0}),a[_0x4b1c("0x266")][_0x4b1c("0x1d")]=a[_0x4b1c("0x1c3")][_0x4b1c("0xa5d")],a[_0x4b1c("0x266")][_0x4b1c("0xb73")]=0,a[_0x4b1c("0x1c3")].cameraTop[_0x4b1c("0x105")][_0x4b1c("0x20b")](n[_0x4b1c("0x105")]),a[_0x4b1c("0x266")][_0x4b1c("0x164")](),function(x){var b=esmap[_0x4b1c("0x87")][_0x4b1c("0x659")](n,x[_0x4b1c("0x266")]);r[_0x4b1c("0x65a")]=1,r.left=-b[_0x4b1c("0x35a")],r[_0x4b1c("0x35a")]=b[_0x4b1c("0x35a")],r[_0x4b1c("0x35b")]=b[_0x4b1c("0x35b")],r.bottom=-b[_0x4b1c("0x35b")],r[_0x4b1c("0x925")](),c&&(x[_0x4b1c("0x9c5")]=c),x[_0x4b1c("0xb71")]=!1}(a),i&&i(a[_0x4b1c("0x9c5")]),a[_0x4b1c("0xe7")](_0x4b1c("0x9e2"),a[_0x4b1c("0x9c5")]),a[_0x4b1c("0x266")][_0x4b1c("0xb3e")]||(a[_0x4b1c("0x266")].initTop_=a[_0x4b1c("0x1c3")][_0x4b1c("0xa5d")][_0x4b1c("0x35b")]),a.controls[_0x4b1c("0xaaf")]||(a.controls[_0x4b1c("0xaaf")]=a[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](a[_0x4b1c("0x266")][_0x4b1c("0x1d")][_0x4b1c("0x105")]))}))):(a[_0x4b1c("0x266")][_0x4b1c("0x1d")]=a[_0x4b1c("0x1c3")][_0x4b1c("0x658")],a[_0x4b1c("0x266")][_0x4b1c("0x9bd")]=0,a[_0x4b1c("0x266")].maxPolarAngle=Math.PI/2.5,a[_0x4b1c("0x26a")]=a[_0x4b1c("0x1c3")][_0x4b1c("0x658")],a[_0x4b1c("0x266")].update({forceTheta:a[_0x4b1c("0x266")][_0x4b1c("0x2ce")](),notChangeCompass:!0}),esmap[_0x4b1c("0x1a6")][_0x4b1c("0x6cf")](null!=t?t:a[_0x4b1c("0x47")].viewModeAnimateMode?a[_0x4b1c("0x47")][_0x4b1c("0x396")]:0,(function(x){a[_0x4b1c("0x266")][_0x4b1c("0x164")]({forcePhi:a[_0x4b1c("0x9b8")]*x[_0x4b1c("0x13a")]}),a.requireUpdateCollide_=!0}),null,(function(){i&&i(a[_0x4b1c("0x9c5")]),a.__viewModeAnimating=!1})),function(x){var b=r[_0x4b1c("0x65a")],_=x.controls[_0x4b1c("0x2c7")][_0x4b1c("0x124")](n[_0x4b1c("0x105")]),e=n[_0x4b1c("0x105")][_0x4b1c("0x13e")]().sub(x[_0x4b1c("0x266")][_0x4b1c("0x2c7")])[_0x4b1c("0x301")]();n.position[_0x4b1c("0x20b")](x[_0x4b1c("0x266")][_0x4b1c("0x2c7")].clone()[_0x4b1c("0xdd")](e[_0x4b1c("0x253")](_/b))),n[_0x4b1c("0x925")](),x[_0x4b1c("0x9c5")]=c}(a),a[_0x4b1c("0xe7")](_0x4b1c("0x9e2"),a[_0x4b1c("0x9c5")])),this[_0x4b1c("0x6e9")]=0}}}else{"2D"==x&&(this.lastTiltAngle=this[_0x4b1c("0x2c1")]);var s="2D"==x?.01:this[_0x4b1c("0xb70")];this[_0x4b1c("0xab8")]({angle:s,callback:function(){}})}},get:function(){return this[_0x4b1c("0x9c5")]}},{key:_0x4b1c("0xb74"),set:function(x){var c=this;if(x!=this[_0x4b1c("0x13f")][_0x4b1c("0xb75")]){if(c[_0x4b1c("0x13f")][_0x4b1c("0xb75")]=x,!c.sceneId_)return;c[_0x4b1c("0x13f")][_0x4b1c("0xb76")]=x;this[_0x4b1c("0x47")][_0x4b1c("0xb77")];this.buildingService[_0x4b1c("0xb78")]({themeID:x,buildingId:c[_0x4b1c("0xb79")]})[_0x4b1c("0x323")]((function(b){c[_0x4b1c("0x13f")].updateBuildingTheme(b,x)}))}},get:function(){return this[_0x4b1c("0x13f")][_0x4b1c("0xb75")]}},{key:_0x4b1c("0x1ce"),set:function(x){this[_0x4b1c("0x1c3")][_0x4b1c("0x360")].setClearColor(parseInt(x))}},{key:"endTime",get:function(){var x=this[_0x4b1c("0x7e")][_0x4b1c("0x7f")](L[_0x4b1c("0xbe")]);return new Date(x).getFullYear()>=2059?_0x4b1c("0xb7a"):esmap[_0x4b1c("0x87")][_0x4b1c("0x6ba")](x)}},{key:_0x4b1c("0xb7b"),set:function(x){x!=this.scaler_[_0x4b1c("0x191")]&&(this.scaler_[_0x4b1c("0x191")]=x)},get:function(){return this[_0x4b1c("0x9c9")][_0x4b1c("0x191")]}},{key:_0x4b1c("0xb7c"),get:function(){return Math[_0x4b1c("0xfd")](this[_0x4b1c("0x1c3")].zoomLevel)}},{key:_0x4b1c("0x31d"),get:function(){return this.mapView.zoomLevel},set:function(x){this[_0x4b1c("0x1c3")][_0x4b1c("0x31d")]=x}},{key:"shadowEnabled",get:function(){return this.mapView[_0x4b1c("0xb7d")][_0x4b1c("0xb7e")]},set:function(x){this.mapView.shadowLight[_0x4b1c("0xb7e")]=x}},{key:"id",set:function(x){this[_0x4b1c("0xb79")]=x},get:function(){return this[_0x4b1c("0xb79")]}},{key:_0x4b1c("0x672"),get:function(){for(var x=[],c=0;c<this[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0xf1")][_0x4b1c("0x0")];c++)x[_0x4b1c("0x12")](this[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0xf1")][c][_0x4b1c("0xef")]);return x}},{key:"Name",get:function(){return this.mapService.getState(_0x4b1c("0xb7f"))}},{key:_0x4b1c("0xb80"),get:function(){return this[_0x4b1c("0x7e")][_0x4b1c("0x7f")]("mapNameEn")}},{key:"tiltAngle",get:function(){return this[_0x4b1c("0x266")][_0x4b1c("0x2cf")]()*THREE.Math[_0x4b1c("0x9f8")]},set:function(x){(x=x*Math.PI/180)<this.controls[_0x4b1c("0x9bd")]&&(x=this[_0x4b1c("0x266")][_0x4b1c("0x9bd")]),x>this.controls.maxPolarAngle&&(x=this[_0x4b1c("0x266")][_0x4b1c("0xb73")]),this.controls[_0x4b1c("0x164")]({forcePhi:x}),this[_0x4b1c("0x6e9")]=0}},{key:_0x4b1c("0x235"),get:function(){var x=this[_0x4b1c("0x266")][_0x4b1c("0x2ce")]();return(Math.PI-x)*THREE[_0x4b1c("0x215")][_0x4b1c("0x9f8")]},set:function(x){x=-x*THREE.Math[_0x4b1c("0x660")],this[_0x4b1c("0x266")].update({forceTheta:x+Math.PI}),this[_0x4b1c("0x6e9")]=0}},{key:_0x4b1c("0x1c9"),get:function(){return this.mapView.w_}},{key:_0x4b1c("0x1a3"),get:function(){return this[_0x4b1c("0x1c3")].h_}},{key:_0x4b1c("0xb81"),set:function(x){this[_0x4b1c("0x1c3")][_0x4b1c("0x360")].sortObjects=x},get:function(){return this[_0x4b1c("0x1c3")].renderer[_0x4b1c("0xb82")]}}]),c}(p[_0x4b1c("0xc")]);z[_0x4b1c("0xb83")]=!0,z[_0x4b1c("0xaf7")]=!1,z.id=1,c[_0x4b1c("0xc")]=z},,,,,,,function(x,c,b){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var _=h(b(38)),e=h(b(5)),t=h(b(0)),i=h(b(1)),a=h(b(10)),n=h(b(11)),r=h(b(286)),s=h(b(288)),o=h(b(108)),f=h(b(145)),l=b(42),d=h(b(291)),u=b(109);function h(x){return x&&x.__esModule?x:{default:x}}b(296);var g=function(x){function c(x){(0,t[_0x4b1c("0xc")])(this,c);var b=(0,a[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,e[_0x4b1c("0xc")])(c)).call(this));return b.maindeltaTime=.01,b._clock=new(THREE[_0x4b1c("0x1eb")]),b._frameTime=0,b[_0x4b1c("0xb84")]=0,b[_0x4b1c("0x39")](x),b}return(0,n[_0x4b1c("0xc")])(c,x),(0,i.default)(c,[{key:_0x4b1c("0x39"),value:function(x){var c=this;this[_0x4b1c("0xb85")]=null,this[_0x4b1c("0xb86")]=!1,this[_0x4b1c("0x47")]=new(u[_0x4b1c("0x3ba")])(x),this[_0x4b1c("0x1c3")]=new r.default(this),this.mapView[_0x4b1c("0x39")]()&&(this[_0x4b1c("0x26a")]=this[_0x4b1c("0x1c3")][_0x4b1c("0x658")],this[_0x4b1c("0x26a")][_0x4b1c("0x105")].set(30,30,30),this[_0x4b1c("0x266")]=new(THREE[_0x4b1c("0xb87")])(this[_0x4b1c("0x1c3")].camera,this[_0x4b1c("0x1c3")][_0x4b1c("0x536")]),x[_0x4b1c("0xb88")]&&(this[_0x4b1c("0x266")].mouseButtons={LEFT:THREE[_0x4b1c("0xb89")].RIGHT,MIDDLE:THREE[_0x4b1c("0xb89")][_0x4b1c("0xb8a")],RIGHT:THREE[_0x4b1c("0xb89")][_0x4b1c("0xb8b")]}),this[_0x4b1c("0x1c3")][_0x4b1c("0x536")][_0x4b1c("0x37")](_0x4b1c("0xb8c"),(function(x){x.preventDefault()})),this[_0x4b1c("0x232")]=new s.default(this),this.mapPicker[_0x4b1c("0x39b")]=x.hoverMode,this[_0x4b1c("0xb8d")]=x[_0x4b1c("0xb8d")]||!0,this[_0x4b1c("0xb8e")]=new THREE.Clock,this[_0x4b1c("0xa54")]=new(d[_0x4b1c("0xc")])(!1,this[_0x4b1c("0x1c3")][_0x4b1c("0x9c2")],this[_0x4b1c("0x47")]),this.registerEvents(),this[_0x4b1c("0x1c3")][_0x4b1c("0xa53")](),this[_0x4b1c("0x164")](),this.on("error",(function(){window.cancelAnimationFrame(c.renderID)})),this.on(_0x4b1c("0xb4e"),(function(){c.DISABLE_RENDER=!0})),this.on(_0x4b1c("0xb4f"),(function(){c.DISABLE_RENDER=!1})))}},{key:_0x4b1c("0xb8f"),value:function(){var x=this;THREE[_0x4b1c("0x88f")]=null,x[_0x4b1c("0xe7")]("dispose"),x.resetAll(),x[_0x4b1c("0x374")](),cancelAnimationFrame(x[_0x4b1c("0xb85")]);var c=this[_0x4b1c("0x1c3")].scene,b=this[_0x4b1c("0x1c3")][_0x4b1c("0x360")];x[_0x4b1c("0x232")][_0x4b1c("0xf3")](),(0,l[_0x4b1c("0xec")])(c),x[_0x4b1c("0x266")][_0x4b1c("0xf3")]();var e=x[_0x4b1c("0x1c3")].canvas[_0x4b1c("0x332")](_0x4b1c("0x501"));e||(e=x[_0x4b1c("0x1c3")][_0x4b1c("0x588")][_0x4b1c("0x332")](_0x4b1c("0x5f5"))),e[_0x4b1c("0x719")](e[_0x4b1c("0xb90")]);for(var t=0;t<x[_0x4b1c("0x672")].length;t++)x[_0x4b1c("0x672")][t]=null;for(var i=0;i<x[_0x4b1c("0x68b")].length;i++)x[_0x4b1c("0x68b")][i]=null;(0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x1c3")][_0x4b1c("0x536")].children)[_0x4b1c("0x1c")]((function(c){x[_0x4b1c("0x1c3")][_0x4b1c("0x536")][_0x4b1c("0x29")](c)})),b[_0x4b1c("0x73f")]=void 0,esmap.ESMap.instance=null,THREE[_0x4b1c("0xb91")][_0x4b1c("0x719")]()}},{key:_0x4b1c("0xb92"),value:function(){var x=this.mapScene[_0x4b1c("0x407")];(0,l[_0x4b1c("0xec")])(x)}},{key:_0x4b1c("0xb93"),value:function(x){var c=this[_0x4b1c("0x266")][_0x4b1c("0x9bf")];this[_0x4b1c("0x266")][_0x4b1c("0xf3")](),this[_0x4b1c("0xb94")](x);var b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];b&&x.addEventListener("change",b[_0x4b1c("0x9c4")].bind(this)),this[_0x4b1c("0x266")]=x,this.controls[_0x4b1c("0x9bf")]=c,this.gestureController_&&(this.gestureController_[_0x4b1c("0xb95")]=x),this[_0x4b1c("0x47")][_0x4b1c("0xb88")]&&(this.controls[_0x4b1c("0xb96")]={LEFT:THREE[_0x4b1c("0xb89")][_0x4b1c("0xb97")],MIDDLE:THREE[_0x4b1c("0xb89")][_0x4b1c("0xb8a")],RIGHT:THREE.MOUSE[_0x4b1c("0xb8b")]}),this[_0x4b1c("0xe7")]("controlsReseted")}},{key:_0x4b1c("0xb98"),value:function(){var x,c,b,_,e,t=this;t.mapPicker[_0x4b1c("0xb98")](t),this[_0x4b1c("0x232")].on(_0x4b1c("0xb99"),(function(x){var c=null;x.objects[_0x4b1c("0x0")]>0&&(c=x[_0x4b1c("0x74a")][0][_0x4b1c("0x1d")]),t[_0x4b1c("0xe7")]("mapClickObject",{obj:c})})),t.registerMapControllerEvents(t[_0x4b1c("0x266")]),t[_0x4b1c("0xb9a")]=(b=function(x,c){return""!==x?x+c[_0x4b1c("0x1e5")](0,1)[_0x4b1c("0xb6d")]()+c[_0x4b1c("0x1e5")](1):c},c=!1,"number"==typeof window.screenX&&[_0x4b1c("0x4f3"),"moz","ms","o",""][_0x4b1c("0x1c")]((function(_){0==c&&null!=document[b(_,_0x4b1c("0xb9b"))]&&(x=_,c=!0)})),_=c,{state:(e=function(){if(_)return document[b(x,_0x4b1c("0xb9c"))]})(),visibilitychange:function(c,b){if(_&&typeof c===_0x4b1c("0x1e"))return document[_0x4b1c("0x37")](x+_0x4b1c("0xb9d"),function(x){this[_0x4b1c("0x71e")]=e(),c[_0x4b1c("0x2")](this,x)}.bind(this),!1)}}),t[_0x4b1c("0xb9a")].visibilitychange((function(){t[_0x4b1c("0xe7")](_0x4b1c("0xb9e"),this[_0x4b1c("0x71e")])})),t.on(_0x4b1c("0x3c0"),(function(){t[_0x4b1c("0x47")][_0x4b1c("0x39b")]&&"3D"==t[_0x4b1c("0x388")]&&(t[_0x4b1c("0x232")][_0x4b1c("0x39b")]=!0)})),t.on(_0x4b1c("0x192"),(function(){t[_0x4b1c("0x47")][_0x4b1c("0x39b")]&&"3D"==t[_0x4b1c("0x388")]&&(t[_0x4b1c("0x232")][_0x4b1c("0x39b")]=!1)}))}},{key:_0x4b1c("0xb94"),value:function(x){var c=this;x[_0x4b1c("0x37")](_0x4b1c("0x1af"),(function(x){esmap[_0x4b1c("0x32")][_0x4b1c("0xaf7")]&&(c[_0x4b1c("0xb86")]=!1),c[_0x4b1c("0xe7")](_0x4b1c("0xb9f"))})),x[_0x4b1c("0x37")](_0x4b1c("0x2a0"),(function(){esmap[_0x4b1c("0x32")][_0x4b1c("0xaf7")]&&(c[_0x4b1c("0xb86")]=!0),c[_0x4b1c("0xe7")](_0x4b1c("0x9ce"))})),x[_0x4b1c("0x37")](_0x4b1c("0x9c3"),(function(){c[_0x4b1c("0xa54")].updateDirection(-c[_0x4b1c("0x266")][_0x4b1c("0x2ce")]()-Math.PI)})),x[_0x4b1c("0xabd")]||(x[_0x4b1c("0xabd")]=function(x,c){var b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x1c3")][_0x4b1c("0x658")],_=b[_0x4b1c("0x105")][_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](this[_0x4b1c("0x2c7")]).normalize();_[_0x4b1c("0x253")](this[_0x4b1c("0xaaf")]*x);var e=this.target.clone()[_0x4b1c("0xdd")](_);if(this[_0x4b1c("0x1d")]instanceof THREE.PerspectiveCamera)b.position[_0x4b1c("0x20b")](e);else if(this.object instanceof THREE[_0x4b1c("0x8dd")]){var t=e[_0x4b1c("0x124")](this[_0x4b1c("0x2c7")]),i=esmap[_0x4b1c("0x87")].getOrthoCameraSizeByPerspectiveCamera(b,this,t),a=this[_0x4b1c("0x1d")][_0x4b1c("0x35b")]/i.top;this.object.zoom=a,this[_0x4b1c("0x1d")].updateProjectionMatrix()}})}},{key:_0x4b1c("0x164"),value:function(){var x=this;if(x.controls.update(),x.renderID=requestAnimationFrame(x[_0x4b1c("0x164")][_0x4b1c("0xe")](x)),!x[_0x4b1c("0xb86")])if(x[_0x4b1c("0x47")][_0x4b1c("0xba0")]){var c=x[_0x4b1c("0xba1")][_0x4b1c("0x2a7")]();x[_0x4b1c("0xb84")]+=c,x[_0x4b1c("0xba2")]=1/x[_0x4b1c("0x47")][_0x4b1c("0x3b4")],x._tempTimeStamp>=x[_0x4b1c("0xba2")]&&(x[_0x4b1c("0xb86")]||(x[_0x4b1c("0xe7")](_0x4b1c("0x164"),x[_0x4b1c("0xba3")]),x[_0x4b1c("0xe7")](_0x4b1c("0x9df"),x[_0x4b1c("0xba3")])),x[_0x4b1c("0x1c3")][_0x4b1c("0x70e")](),x[_0x4b1c("0xb84")]=x._tempTimeStamp%x[_0x4b1c("0xba2")],x.maindeltaTime=x[_0x4b1c("0xb8e")][_0x4b1c("0x2a7")]())}else x[_0x4b1c("0xb86")]||(x[_0x4b1c("0xe7")]("update",x[_0x4b1c("0xba3")]),x.fire(_0x4b1c("0x9df"),x.maindeltaTime)),x[_0x4b1c("0x1c3")][_0x4b1c("0x70e")](),x[_0x4b1c("0xba3")]=x[_0x4b1c("0xb8e")][_0x4b1c("0x2a7")]()}},{key:"penetraByRay",value:function(){if(!this[_0x4b1c("0xb8d")]){var x=new(THREE[_0x4b1c("0x128")])(0,-1,0),c=camera[_0x4b1c("0x105")],b=new(THREE[_0x4b1c("0x516")])(c,x)[_0x4b1c("0xb44")](scene[_0x4b1c("0xf1")][0]);b.length>0&&b[0][_0x4b1c("0x23c")]<10&&(b[0][_0x4b1c("0x23c")],camera[_0x4b1c("0x105")].y+=10),0==b[_0x4b1c("0x0")]&&(camera[_0x4b1c("0x105")].y+=100)}}},{key:"compassOffset",get:function(){return this[_0x4b1c("0xa54")][_0x4b1c("0x535")][_0x4b1c("0x398")]},set:function(x){var c=this[_0x4b1c("0xa54")].options_[_0x4b1c("0x398")];this[_0x4b1c("0xa54")][_0x4b1c("0xba4")].position.x=this[_0x4b1c("0xa54")].spriteBg_[_0x4b1c("0x105")].x-c[0]+x[0],this.compass[_0x4b1c("0xba4")][_0x4b1c("0x105")].y=this.compass[_0x4b1c("0xba4")][_0x4b1c("0x105")].y+c[1]-x[1],this[_0x4b1c("0xa54")][_0x4b1c("0xba5")].position.x=this[_0x4b1c("0xa54")][_0x4b1c("0xba5")].position.x-c[0]+x[0],this[_0x4b1c("0xa54")][_0x4b1c("0xba5")][_0x4b1c("0x105")].y=this.compass[_0x4b1c("0xba5")][_0x4b1c("0x105")].y+c[1]-x[1],this[_0x4b1c("0xa54")][_0x4b1c("0x535")].compassOffset=x}},{key:_0x4b1c("0x399"),get:function(){return this.compass[_0x4b1c("0xba4")][_0x4b1c("0x201")].x},set:function(x){this[_0x4b1c("0xa54")][_0x4b1c("0xba4")].scale.x=x,this[_0x4b1c("0xa54")].spriteBg_.scale.y=x,this[_0x4b1c("0xa54")][_0x4b1c("0xba5")][_0x4b1c("0x201")].x=x,this[_0x4b1c("0xa54")][_0x4b1c("0xba5")].scale.y=x}},{key:_0x4b1c("0xba6"),set:function(x){x!=this[_0x4b1c("0xa54")][_0x4b1c("0x191")]&&(this[_0x4b1c("0xa54")][_0x4b1c("0x191")]=x,x&&this[_0x4b1c("0xa54")].updateDirection(this[_0x4b1c("0x47")][_0x4b1c("0x393")]*THREE[_0x4b1c("0x215")].DEG2RAD))},get:function(){return this[_0x4b1c("0xa54")][_0x4b1c("0x191")]}}]),c}((0,o[_0x4b1c("0xc")])(f[_0x4b1c("0xc")]));c[_0x4b1c("0xc")]=g},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=r(b(72)),e=r(b(0)),t=r(b(1)),i=r(b(287)),a=b(27),n=b(23);function r(x){return x&&x.__esModule?x:{default:x}}var s={LOST:_0x4b1c("0xba7"),RESTORED:_0x4b1c("0xba8")},o=function(){function x(c){(0,e[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0xba9")]=.018661384582519532,this[_0x4b1c("0xbaa")]=19567.88,this.lights={},this[_0x4b1c("0x3e")]=c,this[_0x4b1c("0x5f5")]=!1,this[_0x4b1c("0xb2f")]=null,this[_0x4b1c("0xbab")]=!1,this[_0x4b1c("0xbac")]=null,this[_0x4b1c("0xb31")]=null,this[_0x4b1c("0xbad")]=new _.default,this._glLostHistory={lost:0,restored:0}}return(0,t.default)(x,[{key:_0x4b1c("0x716"),value:function(){var x={};this[_0x4b1c("0x536")][_0x4b1c("0x23")].width&&this.container[_0x4b1c("0x23")][_0x4b1c("0x1a3")]?(this.container[_0x4b1c("0x23")][_0x4b1c("0x1c9")][_0x4b1c("0x114")]("px")>-1&&(x[_0x4b1c("0x1c9")]=this[_0x4b1c("0x536")][_0x4b1c("0x23")][_0x4b1c("0x1c9")][_0x4b1c("0x14c")]("px","")),this[_0x4b1c("0x536")][_0x4b1c("0x23")].height[_0x4b1c("0x114")]("px")>-1&&(x[_0x4b1c("0x1a3")]=this[_0x4b1c("0x536")][_0x4b1c("0x23")].height[_0x4b1c("0x14c")]("px","")),x[_0x4b1c("0x1c9")]&&x[_0x4b1c("0x1a3")]||(x={width:this[_0x4b1c("0x536")][_0x4b1c("0x530")],height:this.container[_0x4b1c("0x4f2")]})):x={width:this[_0x4b1c("0x536")][_0x4b1c("0x530")],height:this[_0x4b1c("0x536")][_0x4b1c("0x4f2")]};var c=x.width,b=x.height;return c!=this.w_||b!=this.h_?{w:c,h:b}:null}},{key:_0x4b1c("0x39"),value:function(){var x=this;this.container=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x536")],this[_0x4b1c("0x536")].style[_0x4b1c("0x400")]=_0x4b1c("0x60b");var c=this[_0x4b1c("0x3e")].options[_0x4b1c("0x39c")];try{var b=this.map.options[_0x4b1c("0x3a7")];if(esmap[_0x4b1c("0x3a7")]&&(null==b||b)){var _={antialias:!0,alpha:!!this.map[_0x4b1c("0x47")][_0x4b1c("0x395")]},e=document.createElement(_0x4b1c("0x588")),t=e[_0x4b1c("0x332")]("webgl2",_);null!==t?(this[_0x4b1c("0x360")]=new THREE.WebGLRenderer({canvas:e,context:t,powerPreference:c,alpha:!!this.map[_0x4b1c("0x47")][_0x4b1c("0x395")],precision:_0x4b1c("0xbae"),logarithmicDepthBuffer:true}),this.webgl2=!0):this.renderer=new(THREE[_0x4b1c("0xbaf")])({antialias:!0,precision:_0x4b1c("0xbae"),powerPreference:c,alpha:!!this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x395")],logarithmicDepthBuffer:!0})}else this[_0x4b1c("0x360")]=new(THREE[_0x4b1c("0xbaf")])({antialias:!0,precision:_0x4b1c("0xbae"),powerPreference:c,logarithmicDepthBuffer:true});this[_0x4b1c("0x360")][_0x4b1c("0xb82")]=!0,this[_0x4b1c("0x360")].zBufferSupport=!0}catch(x){return void(new i.default)[_0x4b1c("0x624")](this[_0x4b1c("0x536")])}this[_0x4b1c("0x588")]=this[_0x4b1c("0x360")].domElement,this[_0x4b1c("0x251")](),this[_0x4b1c("0x360")][_0x4b1c("0x730")](16777215),this[_0x4b1c("0x360")][_0x4b1c("0xbb0")](window[_0x4b1c("0x505")]),this[_0x4b1c("0x360")][_0x4b1c("0x72c")]=!1,this.renderer[_0x4b1c("0xbb1")][_0x4b1c("0x70b")]=!1;var a=this[_0x4b1c("0x536")][_0x4b1c("0x530")],r=this[_0x4b1c("0x536")][_0x4b1c("0x4f2")]||window[_0x4b1c("0x968")];this[_0x4b1c("0x360")][_0x4b1c("0x30c")](a,r),this[_0x4b1c("0x536")][_0x4b1c("0x1d7")](this.canvas),this.map[_0x4b1c("0x47")].cameraMode==esmap[_0x4b1c("0x38e")][_0x4b1c("0x38f")]?this[_0x4b1c("0x658")]=new(THREE[_0x4b1c("0x8d7")])(35,a/r,1,4e4):this[_0x4b1c("0x658")]=new THREE.PerspectiveCamera(60,a/r,.001,1e4),this[_0x4b1c("0xbb2")]=2*Math[_0x4b1c("0x2f9")](this[_0x4b1c("0x658")][_0x4b1c("0x65e")]*Math.PI/360),this.camera.cam2control=new(THREE[_0x4b1c("0x128")]),this[_0x4b1c("0x658")][_0x4b1c("0x165")][_0x4b1c("0xbb3")]=this[_0x4b1c("0xbb2")]/r,this[_0x4b1c("0x102")]=new THREE.Scene,this[_0x4b1c("0x658")][_0x4b1c("0x241")](this[_0x4b1c("0x102")][_0x4b1c("0x105")]),this.cameraTop=new(THREE[_0x4b1c("0x8dd")])(-a/2,a/2,-r/2,r/2,1,1e5),this[_0x4b1c("0xa5d")][_0x4b1c("0x202")].set(-Math.PI/2,0,0,_0x4b1c("0xbb4")),this[_0x4b1c("0xa5d")][_0x4b1c("0xbb5")]=!1,this.cameraTop[_0x4b1c("0x105")][_0x4b1c("0xdb")](0,1e5,0),this.map[_0x4b1c("0x47")][_0x4b1c("0x395")]&&this[_0x4b1c("0x360")][_0x4b1c("0xbb6")](0),this[_0x4b1c("0x588")][_0x4b1c("0x37")](s[_0x4b1c("0xbb7")],(function(c){c[_0x4b1c("0x4d8")](),n.MessagePoster[_0x4b1c("0x31")]({msg:["%c"+esmap.ESInfo[_0x4b1c("0xbb8")],_0x4b1c("0xbb9")],level:_0x4b1c("0xbba")}),x[_0x4b1c("0x3e")].fire(s[_0x4b1c("0xbb7")]),x[_0x4b1c("0xbbb")][_0x4b1c("0xbbc")]++}),!1),this[_0x4b1c("0x588")][_0x4b1c("0x37")](s[_0x4b1c("0xbbd")],(function(c){n[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:["%c"+esmap[_0x4b1c("0x288")].WEBGL_CONTEXT_RESTORED,_0x4b1c("0xbbe")],level:_0x4b1c("0xbba")}),x.map.fire(s[_0x4b1c("0xbbd")]),x._glLostHistory.restored++,setTimeout((function(){x[_0x4b1c("0x360")][_0x4b1c("0x730")](x.map[_0x4b1c("0x13f")][_0x4b1c("0xac4")])}),0)}),!1),this.composer=new esmap.ESComposerRender(this.map),this.cameraOrtho=new(THREE[_0x4b1c("0x8dd")])(-a/2,a/2,r/2,-r/2,1,1e3),this[_0x4b1c("0xa55")][_0x4b1c("0x105")][_0x4b1c("0x53b")](10),this[_0x4b1c("0x9c2")]=new(THREE[_0x4b1c("0x40e")]),this.ambientLight=new(THREE[_0x4b1c("0xbbf")])(16777215),this[_0x4b1c("0xbc0")][_0x4b1c("0x1f7")]="1",this[_0x4b1c("0xbc0")][_0x4b1c("0x422")]=.5,this[_0x4b1c("0x102")][_0x4b1c("0xdd")](this.ambientLight),this[_0x4b1c("0x7da")][1]=this[_0x4b1c("0xbc0")],this[_0x4b1c("0xbc1")]=new(THREE[_0x4b1c("0x7dd")])(8947848,1.4),this[_0x4b1c("0xbc1")][_0x4b1c("0x1f7")]="2",this.scene.add(this[_0x4b1c("0xbc1")]),this[_0x4b1c("0x7da")][2]=this[_0x4b1c("0xbc1")];var o=new(THREE[_0x4b1c("0x7dd")])(0,0);return o[_0x4b1c("0x1f7")]="3",this[_0x4b1c("0xbc2")]=o,this[_0x4b1c("0x102")].add(o),this.lights[3]=o,this.initCss2dScene(a,r),window[_0x4b1c("0x37")](_0x4b1c("0x9d6"),this[_0x4b1c("0xbc3")].bind(this),!1),this[_0x4b1c("0x3e")].fire(_0x4b1c("0xbc4"),this[_0x4b1c("0x588")]),!0}},{key:"hide",value:function(){this[_0x4b1c("0x588")][_0x4b1c("0x23")][_0x4b1c("0xbc5")]=_0x4b1c("0xb9b")}},{key:"show",value:function(){this[_0x4b1c("0x588")][_0x4b1c("0x23")][_0x4b1c("0xbc5")]=_0x4b1c("0xbc6")}},{key:_0x4b1c("0xbc7"),value:function(x){var c=this[_0x4b1c("0xbc8")](x)/this[_0x4b1c("0x658")][_0x4b1c("0x165")][_0x4b1c("0xbb3")]/this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0xaaf")];this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0xabd")](c)}},{key:_0x4b1c("0xbc9"),value:function(){var x=this[_0x4b1c("0x3e")],c=void 0;if(x.mode===esmap.MapMode[_0x4b1c("0x1e2")]){var b=x[_0x4b1c("0x266")][_0x4b1c("0xabc")](),_=x.controls[_0x4b1c("0xaaf")]*b,e=this[_0x4b1c("0x658")].userData.vFovHeight*_;c=this[_0x4b1c("0xbca")](e)}else c=this.resolution2Level(this[_0x4b1c("0xa5d")].top/this.cameraTop[_0x4b1c("0x65a")]/this[_0x4b1c("0x266")][_0x4b1c("0xb3e")]*this[_0x4b1c("0x266")][_0x4b1c("0xaaf")]*this[_0x4b1c("0x658")][_0x4b1c("0x165")][_0x4b1c("0xbb3")]);return c}},{key:_0x4b1c("0xbcb"),value:function(x){return this[_0x4b1c("0x658")][_0x4b1c("0x165")][_0x4b1c("0xbb3")]*x}},{key:_0x4b1c("0xbcc"),value:function(x){return this[_0x4b1c("0xbca")](this[_0x4b1c("0xbcb")](x))}},{key:_0x4b1c("0xbcd"),value:function(x){return this[_0x4b1c("0xbc8")](x)/this[_0x4b1c("0x658")][_0x4b1c("0x165")][_0x4b1c("0xbb3")]}},{key:_0x4b1c("0xbca"),value:function(x){return Math[_0x4b1c("0x226")](78271.52/x)*Math[_0x4b1c("0xbce")]+1}},{key:_0x4b1c("0xbc8"),value:function(x){return 78271.52/Math.pow(Math.E,(x-1)/Math.LOG2E)}},{key:_0x4b1c("0xbcf"),value:function(x,c){x[_0x4b1c("0xbd0")](x.cam2control);var b=x[_0x4b1c("0xbd1")],_=new(THREE[_0x4b1c("0x128")]),e=x[_0x4b1c("0x105")];if(this.map[_0x4b1c("0x388")]==_0x4b1c("0x35b")){var t=this[_0x4b1c("0x3e")];e=t[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](this[_0x4b1c("0x658")].position[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](t[_0x4b1c("0x266")][_0x4b1c("0x2c7")])[_0x4b1c("0x301")]().multiplyScalar(t[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](this.camera[_0x4b1c("0x105")])/this[_0x4b1c("0xa5d")][_0x4b1c("0x65a")]))}return _.subVectors(c,e),x.userData[_0x4b1c("0xbb3")]*b[_0x4b1c("0x902")](_)}},{key:"getLocalCenter",value:function(){return this[_0x4b1c("0x3e")][_0x4b1c("0x2d0")](this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0x2c7")])}},{key:_0x4b1c("0x2e7"),value:function(){return this[_0x4b1c("0x3e")][_0x4b1c("0x20d")](this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0x2c7")])}},{key:_0x4b1c("0xaab"),value:function(){var x=this[_0x4b1c("0x3e")].coordThreeToMap(this.map[_0x4b1c("0x266")][_0x4b1c("0x2c7")]);return esmap[_0x4b1c("0x87")][_0x4b1c("0xf6")](x.x,x.y)}},{key:"updateSize",value:function(x,c){if(!x||!c){var b=this[_0x4b1c("0x716")]();if(!b)return;x=b.w,c=b.h}if(0!=x&&0!=c){this.resize(x,c),this[_0x4b1c("0x3e")].fire(_0x4b1c("0x9d6"),{width:x,height:c});var _=this.canvas[_0x4b1c("0x1c9")],e=this[_0x4b1c("0x588")].height;_==x&&e==c||this[_0x4b1c("0xa53")]()}}},{key:"initCss2dScene",value:function(x,c){var b=new(THREE[_0x4b1c("0xbd2")]);b[_0x4b1c("0x30c")](x,c);var _=b.domElement;_[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_0x4b1c("0x1ca"),_[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=_0x4b1c("0x1ca"),this[_0x4b1c("0x536")][_0x4b1c("0x1d7")](_);var e=this[_0x4b1c("0x588")];e.style[_0x4b1c("0x1c9")]=_0x4b1c("0x1ca"),e[_0x4b1c("0x23")].height=_0x4b1c("0x1ca"),e[_0x4b1c("0x23")][_0x4b1c("0xbd3")]=_0x4b1c("0x60b"),_.appendChild(e),this.rendererCss2D=b}},{key:"onWindowResize",value:function(){this[_0x4b1c("0xa53")](),this.map[_0x4b1c("0xa54")][_0x4b1c("0x52b")](this.w_,this.h_),this[_0x4b1c("0xa53")]()}},{key:_0x4b1c("0x9d6"),value:function(x,c){this[_0x4b1c("0xb46")]=x/2,this[_0x4b1c("0xb47")]=c/2,this[_0x4b1c("0xbd4")].reSize(x,c),this.renderer.setSize(x,c),this[_0x4b1c("0xbd5")][_0x4b1c("0x30c")](x,c),this[_0x4b1c("0x658")][_0x4b1c("0x65f")]=x/c,this[_0x4b1c("0x658")][_0x4b1c("0x925")](),this[_0x4b1c("0xbd6")]&&(this.cssCamera[_0x4b1c("0x65f")]=x/c,this[_0x4b1c("0xbd6")].updateProjectionMatrix());var b=esmap.ESMapUtil.getOrthoCameraSizeByPerspectiveCamera(this[_0x4b1c("0x658")],this[_0x4b1c("0x3e")][_0x4b1c("0x266")]);this.cameraTop[_0x4b1c("0x359")]=-b[_0x4b1c("0x35a")],this[_0x4b1c("0xa5d")].right=b[_0x4b1c("0x35a")],this[_0x4b1c("0xa5d")][_0x4b1c("0x35b")]=b[_0x4b1c("0x35b")],this[_0x4b1c("0xa5d")][_0x4b1c("0x35c")]=-b[_0x4b1c("0x35b")],this[_0x4b1c("0xa5d")][_0x4b1c("0x925")](),this[_0x4b1c("0xa55")][_0x4b1c("0x359")]=-this[_0x4b1c("0xb46")],this[_0x4b1c("0xa55")].right=this[_0x4b1c("0xb46")],this[_0x4b1c("0xa55")][_0x4b1c("0x35b")]=this[_0x4b1c("0xb47")],this[_0x4b1c("0xa55")][_0x4b1c("0x35c")]=-this.h_2_,this.cameraOrtho[_0x4b1c("0x925")](),this.w_=x,this.h_=c}},{key:"getWebGLInfo",value:function(){var x="";try{var c=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")].renderer[_0x4b1c("0x36d")].getExtension(_0x4b1c("0xbd7"));x=_0x4b1c("0xbd8")+this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x360")].context.getParameter(c[_0x4b1c("0xbd9")])}catch(c){x=c[_0x4b1c("0x2f")]()}return x}},{key:_0x4b1c("0xa26"),value:function(x){var c=this,b=this[_0x4b1c("0x9c2")],_=this[_0x4b1c("0xa55")],e=new(THREE[_0x4b1c("0x71c")])(1,1,1,1),t=new(THREE[_0x4b1c("0x144")])({color:parseInt(x[_0x4b1c("0x147")].replace("#",""),16),opacity:x[_0x4b1c("0x129")],transparent:!0}),i=new(THREE[_0x4b1c("0x197")])(e,t),a=x[_0x4b1c("0xbda")],n=x[_0x4b1c("0xbdb")];i.scale.y=a,i[_0x4b1c("0x165")][_0x4b1c("0xbdb")]=n;var r=function(){var x=_.top-_[_0x4b1c("0x35c")],c=_[_0x4b1c("0x35a")]-_[_0x4b1c("0x359")],b=i[_0x4b1c("0x165")][_0x4b1c("0xbdb")];i.position.y=b==_0x4b1c("0x35b")?x/2-a/2:-x/2+a/2,i[_0x4b1c("0x105")].x=-c/2};r();b[_0x4b1c("0xdd")](i);var s=function(x){var t=x*(_[_0x4b1c("0x35a")]-_[_0x4b1c("0x359")]);e[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x439")][3]=t,e[_0x4b1c("0x104")][_0x4b1c("0x105")].array[9]=t,e.attributes[_0x4b1c("0x105")][_0x4b1c("0x188")]=!0,1===x&&(new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(i.material).to({opacity:0},1e3)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")].InOut)[_0x4b1c("0x1ac")]((function(){b[_0x4b1c("0x2ea")](i),c.map[_0x4b1c("0x31e")](_0x4b1c("0xe5"))}))[_0x4b1c("0x1af")](),c[_0x4b1c("0x3e")][_0x4b1c("0x31e")](_0x4b1c("0xe5")))};this[_0x4b1c("0x3e")].on(_0x4b1c("0xbdc"),(function(x){s(x[_0x4b1c("0x13a")])})),this[_0x4b1c("0x3e")].on(_0x4b1c("0x9d6"),(function(){r()}),null,_0x4b1c("0xe5"))}},{key:_0x4b1c("0x70e"),value:function(){if(this.showMultiView)this[_0x4b1c("0xbac")]&&this[_0x4b1c("0xbac")][_0x4b1c("0xbdd")]();else{if(this[_0x4b1c("0x3e")].options[_0x4b1c("0xbde")])return;this[_0x4b1c("0x360")].clear(),"3D"==this[_0x4b1c("0x3e")][_0x4b1c("0x9c5")]?this[_0x4b1c("0x360")].render(this.scene,this[_0x4b1c("0x658")]):this[_0x4b1c("0x360")].render(this[_0x4b1c("0x102")],this[_0x4b1c("0xa5d")]),this[_0x4b1c("0x360")].clearDepth(),this[_0x4b1c("0x360")][_0x4b1c("0x70e")](this[_0x4b1c("0x9c2")],this[_0x4b1c("0xa55")]),"3D"==this[_0x4b1c("0x3e")][_0x4b1c("0x9c5")]?this[_0x4b1c("0xbd5")][_0x4b1c("0x70e")](this[_0x4b1c("0x102")],this[_0x4b1c("0x658")]):this.rendererCss2D.render(this.scene,this[_0x4b1c("0xa5d")])}}},{key:_0x4b1c("0xbdf"),value:function(x){var c=this[_0x4b1c("0x3e")],b=c[_0x4b1c("0x47")];c[_0x4b1c("0xb3a")](x)||(null!=b[_0x4b1c("0xbe0")]?c[_0x4b1c("0x266")][_0x4b1c("0xabd")](c[_0x4b1c("0x9cf")][b[_0x4b1c("0xbe0")]]):null!=b[_0x4b1c("0x31d")]?c[_0x4b1c("0x1c3")][_0x4b1c("0x31d")]=b[_0x4b1c("0x31d")]:c[_0x4b1c("0x266")][_0x4b1c("0xabd")](c[_0x4b1c("0x9cf")][x[_0x4b1c("0xb00")][_0x4b1c("0xbe1")]])),null!=b[_0x4b1c("0x3af")]&&(c[_0x4b1c("0x266")][_0x4b1c("0x2b0")]=c[_0x4b1c("0x1c3")].getDistanceByZoomLevel(b[_0x4b1c("0x3af")])),null!=b[_0x4b1c("0x3ae")]&&(c[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=c[_0x4b1c("0x1c3")][_0x4b1c("0xbcd")](b.minZoomLevel));var _=this.container[_0x4b1c("0x530")],e=this[_0x4b1c("0x536")][_0x4b1c("0x4f2")];this.updateSize(_,e),c[a[_0x4b1c("0xbd")]][_0x4b1c("0x52b")](_,e)}},{key:_0x4b1c("0xbe2"),get:function(){return this[_0x4b1c("0xbca")](this[_0x4b1c("0xbe3")])}},{key:_0x4b1c("0x266"),get:function(){return this.map[_0x4b1c("0x266")]}},{key:_0x4b1c("0x31d"),get:function(){return this[_0x4b1c("0x3e")][_0x4b1c("0x388")]==esmap[_0x4b1c("0x61d")][_0x4b1c("0xbe4")]?this[_0x4b1c("0xbca")](this[_0x4b1c("0xbe3")]):this[_0x4b1c("0xbc9")]()},set:function(x){if(this[_0x4b1c("0x3e")].viewMode==esmap[_0x4b1c("0x61d")][_0x4b1c("0xbe4")]){var c=this[_0x4b1c("0xbc8")](x);this.resolution=c}else this.setOrthoZoomLevel(x)}},{key:"resolution",get:function(){var x=this[_0x4b1c("0xbcf")](this[_0x4b1c("0x658")],this[_0x4b1c("0x266")][_0x4b1c("0x2c7")]);return this[_0x4b1c("0xbad")][_0x4b1c("0xdb")](this,x),this._resolution[_0x4b1c("0xde")](this)},set:function(x){if(x&&null!=x&&!isNaN(x)&&(x=Math[_0x4b1c("0x2f5")](this[_0x4b1c("0xba9")],Math[_0x4b1c("0x2f6")](x,this[_0x4b1c("0xbaa")])),this[_0x4b1c("0xbad")][_0x4b1c("0xdb")](this,x),this[_0x4b1c("0x266")]&&this.camera.userData[_0x4b1c("0xbb3")])){var c=x/this.camera[_0x4b1c("0x165")][_0x4b1c("0xbb3")];this.camera[_0x4b1c("0xbd0")](this[_0x4b1c("0x658")][_0x4b1c("0xbd1")]);var b=this[_0x4b1c("0x658")][_0x4b1c("0xbd1")],_=b[_0x4b1c("0x902")](this[_0x4b1c("0x266")][_0x4b1c("0x2c7")]),e=b[_0x4b1c("0x902")](this.camera.position),t=(new(THREE[_0x4b1c("0x128")]))[_0x4b1c("0x8fe")](this.controls.target,this[_0x4b1c("0x658")][_0x4b1c("0x105")]),i=(e-(_-c))/t[_0x4b1c("0x902")](b);t[_0x4b1c("0x253")](i),this[_0x4b1c("0x658")][_0x4b1c("0x105")][_0x4b1c("0x6a0")](t),this[_0x4b1c("0x658")][_0x4b1c("0x752")](!0),this[_0x4b1c("0x266")][_0x4b1c("0x164")]()}}}]),x}();c[_0x4b1c("0xc")]=o},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(){(0,_[_0x4b1c("0xc")])(this,x)}return(0,e.default)(x,[{key:_0x4b1c("0x624"),value:function(x){var c=document.createElement(_0x4b1c("0x1c8"));c[_0x4b1c("0x1d6")]=_0x4b1c("0xbe5"),c[_0x4b1c("0x1d4")](_0x4b1c("0xbe6"),_0x4b1c("0x624")),x.appendChild(c)}}]),x}();c[_0x4b1c("0xc")]=i},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=f(b(5)),e=f(b(0)),t=f(b(1)),i=f(b(10)),a=f(b(11)),n=b(4),r=f(b(108)),s=f(b(145)),o=b(42);function f(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var l={},d=!1,u=function(x){function c(){(0,e[_0x4b1c("0xc")])(this,c);var x=(0,i[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,_.default)(c))[_0x4b1c("0x2")](this));return x.mousePos=null,x[_0x4b1c("0xbe7")]=new(THREE[_0x4b1c("0x516")]),x.compassRaycaster=new(THREE[_0x4b1c("0x516")]),x[_0x4b1c("0xbe8")]=!1,x[_0x4b1c("0x70b")]=!0,x[_0x4b1c("0xbe9")]=!1,x[_0x4b1c("0xbea")]=[],x[_0x4b1c("0xbeb")]=!1,x[_0x4b1c("0xbec")]=0,x[_0x4b1c("0xbed")]=!1,x[_0x4b1c("0xbee")]=!1,x.hoverList=[],x[_0x4b1c("0xbef")]=[],x[_0x4b1c("0xbf0")]=null,x[_0x4b1c("0xbf1")]=null,x[_0x4b1c("0x39b")]=!1,x[_0x4b1c("0xbf2")]={},x.showBox=!0,x[_0x4b1c("0x3ed")]={default:[]},x[_0x4b1c("0xbf3")]=(0,n[_0x4b1c("0x338")])()[_0x4b1c("0xbf3")],x[_0x4b1c("0xb09")]=new THREE.Frustum,x.lastClickTimeStamp=0,x.debugPickLog=!0,x[_0x4b1c("0xbf4")]={x:0,y:0},x.keepPressLock=!1,x[_0x4b1c("0xbf5")]={x:0,y:0},x[_0x4b1c("0x521")]=[],x}return(0,a.default)(c,x),(0,t.default)(c,[{key:_0x4b1c("0xbf6"),value:function(x){this.watchingList[x]&&(this[_0x4b1c("0xbf2")][x]=this[_0x4b1c("0x3ed")][x],this[_0x4b1c("0x3ed")][x]=[])}},{key:_0x4b1c("0xbf7"),value:function(x){this[_0x4b1c("0xbf2")][x]&&(this.watchingList[x]=this[_0x4b1c("0xbf2")][x],this.cachePicks[x]=null)}},{key:_0x4b1c("0x3ec"),value:function(x){var c=arguments[_0x4b1c("0x0")]>1&&void 0!==arguments[1]?arguments[1]:_0x4b1c("0xc");this[_0x4b1c("0x3ed")][c]||(this[_0x4b1c("0x3ed")][c]=[]),this[_0x4b1c("0x3ed")][c][_0x4b1c("0x12")](x)}},{key:"dispose",value:function(){var x=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")].container;x[_0x4b1c("0x29e")](_0x4b1c("0x982"),l[_0x4b1c("0x982")]),x.removeEventListener(_0x4b1c("0x983"),l[_0x4b1c("0x983")]),x[_0x4b1c("0x29e")](_0x4b1c("0x984"),l[_0x4b1c("0x984")]),x[_0x4b1c("0x29e")](_0x4b1c("0xbf8"),l[_0x4b1c("0x982")]),x.removeEventListener(_0x4b1c("0xbf9"),l[_0x4b1c("0x983")]),x[_0x4b1c("0x29e")](_0x4b1c("0xbfa"),l.mouseup),this[_0x4b1c("0x3ed")]=null,l={}}},{key:"registerEvents",value:function(x){var c=this;this[_0x4b1c("0x3e")]=x;var b=this[_0x4b1c("0x3e")].mapView[_0x4b1c("0x536")];this[_0x4b1c("0xbfb")]=new(THREE[_0x4b1c("0x91d")])(this[_0x4b1c("0x3e")][_0x4b1c("0x26a")],null,7e9),this[_0x4b1c("0xbfb")][_0x4b1c("0x70b")]=!1,this[_0x4b1c("0xbfb")][_0x4b1c("0x930")]="all",this.BoxPickerHelper=new(THREE[_0x4b1c("0x935")])(this[_0x4b1c("0xbfb")],b,_0x4b1c("0xbfc")),l.mousedown=this[_0x4b1c("0xbfd")][_0x4b1c("0xe")](this),l[_0x4b1c("0x983")]=this[_0x4b1c("0xbfe")][_0x4b1c("0xe")](this),l[_0x4b1c("0x984")]=this[_0x4b1c("0xbff")][_0x4b1c("0xe")](this),b[_0x4b1c("0x37")]("mousedown",l[_0x4b1c("0x982")]),b[_0x4b1c("0x37")](_0x4b1c("0x983"),l[_0x4b1c("0x983")]),b[_0x4b1c("0x37")]("mouseup",l[_0x4b1c("0x984")]),b[_0x4b1c("0x37")]("touchstart",l[_0x4b1c("0x982")]),b[_0x4b1c("0x37")](_0x4b1c("0xbf9"),l.mousemove),b.addEventListener("touchend",l[_0x4b1c("0x984")]),this[_0x4b1c("0x3e")].on(_0x4b1c("0xf3"),(function(){c[_0x4b1c("0xf3")]()}))}},{key:"checkHover",value:function(){if(0!=this[_0x4b1c("0xc00")].length){this[_0x4b1c("0xbe7")][_0x4b1c("0xa0b")](this[_0x4b1c("0xc01")],this.map[_0x4b1c("0x26a")]);var x=this.raycaster[_0x4b1c("0x51a")](this[_0x4b1c("0xc00")],!0);if(x[_0x4b1c("0x0")]>0){var c=x[0];this[_0x4b1c("0xc02")](c[_0x4b1c("0x1d")])}else this[_0x4b1c("0xc03")]()}}},{key:_0x4b1c("0xc04"),value:function(x){var c=this.watchingList;for(var b in c){var _=c[b];if(_.indexOf(x)>-1)return _[_0x4b1c("0x5")](_[_0x4b1c("0x114")](x),1),!0}return!1}},{key:_0x4b1c("0xc03"),value:function(){if(this[_0x4b1c("0xbf0")]){(this[_0x4b1c("0xbf0")][_0x4b1c("0x165")].traverseTarget||this[_0x4b1c("0xbf0")])[_0x4b1c("0x103")]((function(x){x[_0x4b1c("0xf4")]&&x[_0x4b1c("0xf4")].emissive&&x[_0x4b1c("0xf4")].userData[_0x4b1c("0xc05")]&&(x[_0x4b1c("0xf4")][_0x4b1c("0x420")]=x[_0x4b1c("0xf4")][_0x4b1c("0x165")][_0x4b1c("0xc06")],x.material.userData[_0x4b1c("0xc05")]=!1)}));var x=this.lastHoverTarget[_0x4b1c("0x165")][_0x4b1c("0xc07")],c=this[_0x4b1c("0xbf0")][_0x4b1c("0x165")][_0x4b1c("0x688")];x&&x.visible&&(x[_0x4b1c("0x191")]=!1),c&&c[_0x4b1c("0x165")][_0x4b1c("0xc05")]&&(c[_0x4b1c("0xf4")][_0x4b1c("0x147")]=c[_0x4b1c("0xf4")][_0x4b1c("0x165")][_0x4b1c("0xc08")],c[_0x4b1c("0x165")][_0x4b1c("0xc05")]=!1),this[_0x4b1c("0xbf0")]=null}}},{key:"hightLightObject",value:function(x){if(this[_0x4b1c("0xbf0")]!=x){this.unhightLightObject();var c=x[_0x4b1c("0x165")][_0x4b1c("0xc09")]||x,b=_0x4b1c("0xc0a");this[_0x4b1c("0x3e")].options[_0x4b1c("0x41f")]&&this[_0x4b1c("0x3e")].options[_0x4b1c("0x41f")].buildingModel&&(b=this[_0x4b1c("0x3e")].options[_0x4b1c("0x41f")][_0x4b1c("0x5e")][_0x4b1c("0x147")]),c[_0x4b1c("0x103")]((function(x){x.material&&x[_0x4b1c("0xf4")][_0x4b1c("0x420")]&&!x[_0x4b1c("0xf4")][_0x4b1c("0x165")].hovered&&(x[_0x4b1c("0xf4")][_0x4b1c("0x165")][_0x4b1c("0xc06")]=x[_0x4b1c("0xf4")][_0x4b1c("0x420")][_0x4b1c("0x13e")](),x[_0x4b1c("0xf4")][_0x4b1c("0x420")]=(new THREE.Color)[_0x4b1c("0x27c")](b),x.material.userData.hovered=!0)}));var _=x.userData[_0x4b1c("0xc07")],e=x[_0x4b1c("0x165")].label;_&&!_.visible&&(_[_0x4b1c("0x191")]=!0),e&&!e[_0x4b1c("0x165")].hovered&&(e.material[_0x4b1c("0x165")][_0x4b1c("0xc08")]=e.material[_0x4b1c("0x147")][_0x4b1c("0x13e")](),e[_0x4b1c("0xf4")][_0x4b1c("0x147")]=(new(THREE[_0x4b1c("0x146")])).setStyle(b),e.userData[_0x4b1c("0xc05")]=!0),this[_0x4b1c("0x3e")].fire("hoverBuildingModel",{floornum:x[_0x4b1c("0x165")][_0x4b1c("0xc0b")],target:x[_0x4b1c("0x165")].model}),this.lastHoverTarget=x}}},{key:_0x4b1c("0x164"),value:function(x,c){var b=this,_=this;c?this[_0x4b1c("0xbe7")][_0x4b1c("0xa0b")](c[_0x4b1c("0xc0c")],c[_0x4b1c("0x658")]):this.raycaster[_0x4b1c("0xa0b")](this[_0x4b1c("0xc01")],this[_0x4b1c("0x3e")][_0x4b1c("0x26a")]),this[_0x4b1c("0xbe9")]=!1,this[_0x4b1c("0xbef")]=[];var e=[];if(!x){var t=new(THREE[_0x4b1c("0x240")]);t[_0x4b1c("0x3e2")](this.map[_0x4b1c("0x26a")].projectionMatrix,this[_0x4b1c("0x3e")][_0x4b1c("0x26a")].matrixWorldInverse),this[_0x4b1c("0xb09")][_0x4b1c("0xc0d")](t)}if(this[_0x4b1c("0xbed")])this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x102")][_0x4b1c("0x103")]((function(x){"Mesh"!=x[_0x4b1c("0x78")]||x[_0x4b1c("0x1f7")]==_0x4b1c("0x51c")||x[_0x4b1c("0x1f7")]==_0x4b1c("0xc0e")||x[_0x4b1c("0x51d")]||_[_0x4b1c("0x51e")](x)&&e[_0x4b1c("0x12")](x)}));else{var i=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xc0f")];for(var a in this[_0x4b1c("0x3ed")]){var n=this[_0x4b1c("0x3ed")][a];if(!i||!this.map.getTileById(a)){n[_0x4b1c("0x1c")]((function(c){if("Mesh"!==c[_0x4b1c("0x78")]||null!==c[_0x4b1c("0xf4")]&&null!==c[_0x4b1c("0xf2")])if(x)b.map.options[_0x4b1c("0xc10")]!=_0x4b1c("0x68a")?c[_0x4b1c("0xef")]&&b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xc10")][_0x4b1c("0x114")](c.datas_[_0x4b1c("0x123")])>-1&&_[_0x4b1c("0x51e")](c)&&e[_0x4b1c("0x12")](c):_.isVisible(c)&&e[_0x4b1c("0x12")](c);else{if(c[_0x4b1c("0x78")]===_0x4b1c("0x27d")){var t=c[_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")]));if(!b[_0x4b1c("0xb09")][_0x4b1c("0x92e")](t))return}_[_0x4b1c("0x51e")](c)&&e.push(c)}}));for(var r=n.length-1;r>=0;r--)n[r].type===_0x4b1c("0x197")&&(null!==n[r].material&&null!==n[r][_0x4b1c("0xf2")]||n[_0x4b1c("0x5")](r,1))}}}if(this[_0x4b1c("0x70b")]&&(this[_0x4b1c("0xbef")]=this[_0x4b1c("0xbe7")].intersectObjects(e,!0)),this[_0x4b1c("0xbef")].length>0){this[_0x4b1c("0xbe9")]=!0;for(var s=0;s<this[_0x4b1c("0xbef")][_0x4b1c("0x0")];s++){var f=this[_0x4b1c("0xbef")][s];if(f[_0x4b1c("0x1d")][_0x4b1c("0x1f7")]==_0x4b1c("0x51c")){this[_0x4b1c("0xbef")].splice(s,1),this[_0x4b1c("0xbef")][_0x4b1c("0x12")](f);break}}}if(x){var l=!1;if(this[_0x4b1c("0xbef")][_0x4b1c("0x0")]>0){var d=this[_0x4b1c("0xbef")][0][_0x4b1c("0x1d")],u=null;if(d[_0x4b1c("0x123")]==esmap[_0x4b1c("0x131")][_0x4b1c("0x132")])u=(d=d[_0x4b1c("0x108")])[_0x4b1c("0xef")];else if(d[_0x4b1c("0xef")]){if(d[_0x4b1c("0xef")]){var h=d[_0x4b1c("0xef")][_0x4b1c("0x123")];if(h==esmap[_0x4b1c("0x131")][_0x4b1c("0x690")]&&d.datas_.brothers){var g=(0,o[_0x4b1c("0xc16")])(this[_0x4b1c("0xbef")][0][_0x4b1c("0xc12")],d[_0x4b1c("0xef")][_0x4b1c("0x469")]);u=d[_0x4b1c("0xef")][_0x4b1c("0x469")][g]}else h==esmap[_0x4b1c("0x131")][_0x4b1c("0xc17")]?u=d.datas_:(h==esmap[_0x4b1c("0x131")][_0x4b1c("0xc18")]||h==esmap[_0x4b1c("0x131")][_0x4b1c("0xc19")]||h==esmap[_0x4b1c("0x131")][_0x4b1c("0x691")]||h==esmap.ESNodeType.POLYGON_MARKER||d[_0x4b1c("0xef")]instanceof esmap[_0x4b1c("0xa7f")].EffectMarker)&&(u=d[_0x4b1c("0xef")])}}else{var v=(0,o[_0x4b1c("0xee")])(d);if(v)if(v[_0x4b1c("0xef")][_0x4b1c("0x123")]==esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")]&&v[_0x4b1c("0xef")][_0x4b1c("0x469")]){if(this[_0x4b1c("0x3e")][_0x4b1c("0x7e")].getState("sk")||this.map.options[_0x4b1c("0x1f6")]||(this.map[_0x4b1c("0x7e")][_0x4b1c("0x7f")]("ul")>>1&1||0)<1&&(console[_0x4b1c("0x291")](esmap[_0x4b1c("0x288")][_0x4b1c("0xa97")]),l=!0),this[_0x4b1c("0x3e")].options[_0x4b1c("0xc11")]||(l=!0),l)return;var p=this.intersects[0],m=this.map.getBuildingById(0);if(m[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0xa70")])return;m&&m[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0x442")]&&m.modelLoadManager[_0x4b1c("0x67c")][_0x4b1c("0x44f")]();var A=m.modelLoadManager[_0x4b1c("0x67c")][_0x4b1c("0x456")](p.faceIndex,d[_0x4b1c("0xf2")].userData[_0x4b1c("0x42e")]);if(d[_0x4b1c("0xf2")][_0x4b1c("0x165")][_0x4b1c("0x455")]&&d[_0x4b1c("0xf2")][_0x4b1c("0x165")].visibleStates.hasOwnProperty(A.id)&&!d[_0x4b1c("0xf2")][_0x4b1c("0x165")].visibleStates[A.id])return;var y=m[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0x453")](p[_0x4b1c("0xc12")],d[_0x4b1c("0xf2")][_0x4b1c("0x446")]),C=A.id,I=v[_0x4b1c("0xef")][_0x4b1c("0xc13")]||!1,E=v.datas_[_0x4b1c("0x469")][_0x4b1c("0x2db")]((function(x){return x.id==C}));E[0]&&(!I&&this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x387")]&&m[_0x4b1c("0x26b")].GLTFMergeTool[_0x4b1c("0x43f")](p[_0x4b1c("0xc12")],d,y),u={mapId:E[0][_0x4b1c("0x3c")],nodeType:esmap.ESNodeType[_0x4b1c("0x1df")],angle:E[0][_0x4b1c("0x258")],dataID:E[0][_0x4b1c("0x219")],bid:v[_0x4b1c("0xef")].bid,bType:v[_0x4b1c("0xef")][_0x4b1c("0x3e0")],ID:C,name:E[0][_0x4b1c("0x1f7")],scale:E[0][_0x4b1c("0x201")],Height:E[0].Height,model:E[0].model,FloorNum:E[0][_0x4b1c("0x12e")],gid:E[0][_0x4b1c("0xc14")],url:E[0][_0x4b1c("0x4e")],o3d_:v,typeID:E[0].typeID,mapCoord:this[_0x4b1c("0x3e")][_0x4b1c("0x20d")](E[0][_0x4b1c("0x105")])},E[0][_0x4b1c("0x689")]&&(u[_0x4b1c("0x689")]=E[0][_0x4b1c("0x689")]),E[0][_0x4b1c("0x1e4")]&&(u[_0x4b1c("0x1e4")]=E[0][_0x4b1c("0x1e4")]))}else if(u=v[_0x4b1c("0xef")],this.map.options[_0x4b1c("0xc11")]){var w=this[_0x4b1c("0x3e")].mapTheme[_0x4b1c("0x423")][_0x4b1c("0x147")][_0x4b1c("0xc15")]();this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x41f")]&&this[_0x4b1c("0x3e")].options[_0x4b1c("0x41f")][_0x4b1c("0x1e7")]&&this.map[_0x4b1c("0x47")][_0x4b1c("0x41f")][_0x4b1c("0x1e7")][_0x4b1c("0x147")]&&(w=this[_0x4b1c("0x3e")].options[_0x4b1c("0x41f")][_0x4b1c("0x1e7")].color),u.changeColor(w)}}if(this[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xc1a"),d),!u)return;u[_0x4b1c("0x123")]===esmap.ESNodeType[_0x4b1c("0x1df")]?this[_0x4b1c("0xbf1")]&&this[_0x4b1c("0xbf1")].ID===u.ID||(this[_0x4b1c("0x3e")][_0x4b1c("0xe7")]("onOver",u),this[_0x4b1c("0xc1b")]=u,this[_0x4b1c("0xbf1")]=u):this[_0x4b1c("0xc1b")]==d&&this.hoverUserObject==u||(this.map[_0x4b1c("0xe7")](_0x4b1c("0xc1c"),u),this[_0x4b1c("0xc1b")]=d,this[_0x4b1c("0xbf1")]=u)}else if(this[_0x4b1c("0xc1b")]&&this[_0x4b1c("0xc1b")].parent){this.map[_0x4b1c("0xe7")](_0x4b1c("0xc1d")),this[_0x4b1c("0xc1b")].changeColor&&this[_0x4b1c("0xc1b")][_0x4b1c("0x2a9")](!1),this[_0x4b1c("0xc1b")]=null,this[_0x4b1c("0xbf1")]=null;var T=this.map[_0x4b1c("0x566")]();!l&&!T[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0xa70")]&&T[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0x442")]&&T[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0x44f")]()}}}},{key:_0x4b1c("0xbfd"),value:function(x){var c=this;if(this.startPos={x:x[_0x4b1c("0xc1e")]?x[_0x4b1c("0xc1e")][0][_0x4b1c("0x4e2")]:x[_0x4b1c("0x4e2")],y:x.changedTouches?x[_0x4b1c("0xc1e")][0][_0x4b1c("0x4e4")]:x[_0x4b1c("0x4e4")]},this.isStaping=!0,this[_0x4b1c("0xc1f")]=!1,this[_0x4b1c("0xbec")]=0,d=!1,this[_0x4b1c("0xc01")]=this[_0x4b1c("0xc20")](x),this[_0x4b1c("0xc21")]=this[_0x4b1c("0xc22")](x),x[_0x4b1c("0x4d8")](),this[_0x4b1c("0xc23")]&&2!=x.button)return this[_0x4b1c("0xbfb")][_0x4b1c("0x91e")][_0x4b1c("0xdb")](this.mousePos.x,this.mousePos.y,.5),this[_0x4b1c("0xbfb")][_0x4b1c("0xc24")]=x[_0x4b1c("0x746")],void(this[_0x4b1c("0xbfb")][_0x4b1c("0xc25")]=x[_0x4b1c("0x747")]);if(!this[_0x4b1c("0x3e")]||!this[_0x4b1c("0x3e")][_0x4b1c("0x47")]||this.map[_0x4b1c("0x47")][_0x4b1c("0x3b2")])var b=!1,_=setTimeout((function(){if(c[_0x4b1c("0xc26")])window[_0x4b1c("0x26f")](_);else if(0!==x.button||c[_0x4b1c("0xc1f")]||(b=!0),b){if(1==c[_0x4b1c("0x2bc")]){if(c[_0x4b1c("0xc1f")]&&c.tapcount>1)return void window[_0x4b1c("0x26f")](_);c[_0x4b1c("0xc26")]=!0,c[_0x4b1c("0x164")](!1),c[_0x4b1c("0xe7")](_0x4b1c("0xc27"),{intersects:c[_0x4b1c("0xbef")],mouse:c[_0x4b1c("0xc01")][_0x4b1c("0x13e")]()}),c[_0x4b1c("0xc26")]=!1}}else window.clearTimeout(_)}),800)}},{key:_0x4b1c("0x194"),value:function(x){for(var c in this[_0x4b1c("0x3ed")])for(var b=this[_0x4b1c("0x3ed")][c],_=0;_<b.length;_++){if(b[_][_0x4b1c("0x195")]==x)return b[_0x4b1c("0x5")](_,1),!0}}},{key:_0x4b1c("0x51e"),value:function(x){var c=x[_0x4b1c("0xef")]&&x[_0x4b1c("0xef")][_0x4b1c("0x123")]==esmap[_0x4b1c("0x131")][_0x4b1c("0xc17")],b=x[_0x4b1c("0x195")]==this.map[_0x4b1c("0xb43")][_0x4b1c("0x195")];if(!this.map.options.editMode&&x[_0x4b1c("0xf4")]&&!c&&!b)if(Array.isArray(x[_0x4b1c("0xf4")])){var _=!1;if(x[_0x4b1c("0xf4")][_0x4b1c("0x1c")]((function(x){x.visible&&(_=!0)})),!_)return!1}else if(!x[_0x4b1c("0xf4")].visible)return!1;if(!x[_0x4b1c("0x191")])return!1;var e=!0;return x[_0x4b1c("0xc28")]((function(x){x[_0x4b1c("0x191")]||(e=!1)})),e}},{key:_0x4b1c("0xc29"),value:function(){var x=!1,c=this[_0x4b1c("0x3e")];if(this.mousePos&&this[_0x4b1c("0x3e")][_0x4b1c("0x25c")][_0x4b1c("0xc2a")]){if(this.compassRaycaster.setFromCamera(this[_0x4b1c("0xc01")],c[_0x4b1c("0x1c3")][_0x4b1c("0xa55")]),!c[_0x4b1c("0xa54")][_0x4b1c("0xba4")])return;this[_0x4b1c("0xc2b")][_0x4b1c("0xb44")](c[_0x4b1c("0xa54")][_0x4b1c("0xba4")])[_0x4b1c("0x0")]>0&&(c[_0x4b1c("0xe7")](_0x4b1c("0xc2c")),x=!0,c[_0x4b1c("0x254")](0))}return x}},{key:_0x4b1c("0xbfe"),value:function(x){if(this.startPos){var c=x.touches?x.touches[0].clientX:x[_0x4b1c("0x4e2")],b=x[_0x4b1c("0xc2d")]?x[_0x4b1c("0xc2d")][0][_0x4b1c("0x4e4")]:x[_0x4b1c("0x4e4")],_=c-this[_0x4b1c("0xbf5")].x,e=b-this[_0x4b1c("0xbf5")].y;if(Math.sqrt(_*_+e*e)>5){if(this[_0x4b1c("0xc2e")][_0x4b1c("0x45e")][_0x4b1c("0x23")].display=this[_0x4b1c("0xc2f")]?"block":_0x4b1c("0x60b"),this[_0x4b1c("0xc1f")]=!0,this[_0x4b1c("0xbec")]++,this.mousePos=this[_0x4b1c("0xc20")](x),this[_0x4b1c("0xc30")](),!this[_0x4b1c("0x39b")])return;this[_0x4b1c("0x164")](!0)}else this[_0x4b1c("0xc1f")]=!1}}},{key:_0x4b1c("0xbff"),value:function(x){if(this[_0x4b1c("0x2bc")]=!1,!this[_0x4b1c("0xc1f")]||this.enableBoxPick){if(x[_0x4b1c("0xc2d")]||(this.mousePos=this[_0x4b1c("0xc20")](x)),this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0xbab")]||this[_0x4b1c("0x164")](),this[_0x4b1c("0xc23")]&&2!=x.button&&this[_0x4b1c("0xbec")]>5&&this[_0x4b1c("0xc1f")]){var c=this[_0x4b1c("0x3e")];this[_0x4b1c("0xbfb")][_0x4b1c("0x91f")].set(this[_0x4b1c("0xc01")].x,this[_0x4b1c("0xc01")].y,.5),this[_0x4b1c("0xbfb")][_0x4b1c("0xc31")]=x[_0x4b1c("0x746")],this.BoxPicker[_0x4b1c("0xc32")]=x[_0x4b1c("0x747")];var b=this.map[_0x4b1c("0x266")].target.y,_=c[_0x4b1c("0xa61")](this.BoxPicker.startClientX,this.BoxPicker[_0x4b1c("0xc25")],b),e=c[_0x4b1c("0xa61")](this[_0x4b1c("0xbfb")][_0x4b1c("0xc31")],this[_0x4b1c("0xbfb")][_0x4b1c("0xc32")],b),t=c[_0x4b1c("0xa61")](this.BoxPicker.startClientX,this.BoxPicker[_0x4b1c("0xc32")],b),i=c[_0x4b1c("0xa61")](this.BoxPicker[_0x4b1c("0xc31")],this[_0x4b1c("0xbfb")][_0x4b1c("0xc25")],b),a=1,r=0;c[_0x4b1c("0x3b")]==esmap.MapMode[_0x4b1c("0x1e2")]&&(a=c.getBuilding().focusFloorNum,r=c.id);var s=[{x:_.x,y:_.y},{x:t.x,y:t.y},{x:e.x,y:e.y},{x:i.x,y:i.y},{x:_.x,y:_.y}],o=[];return s[_0x4b1c("0x1c")]((function(x){o[_0x4b1c("0x12")]({x:x.x,y:x.y,fnum:a,bid:r,offset:0})})),this.BoxPicker.mapExtends=s,this[_0x4b1c("0xbfb")][_0x4b1c("0x922")]||(this[_0x4b1c("0xbfb")].watchlist=this[_0x4b1c("0x3ed")]),this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&(this[_0x4b1c("0xbfb")].focusTileId=this.map.tileService[_0x4b1c("0xc33")][_0x4b1c("0xc34")]+"_"+this.map[_0x4b1c("0x2b3")][_0x4b1c("0xc33")][_0x4b1c("0xc35")]),this[_0x4b1c("0xbea")]=this.BoxPicker[_0x4b1c("0x923")](),this.map.fire(_0x4b1c("0xc36"),{objects:this.boxPickedObjects,points:o}),void this[_0x4b1c("0x3e")][_0x4b1c("0xa8d")]()}var f=!1;this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3b0")]&&2==x.button&&(f=!0);var l=(new Date)[_0x4b1c("0x86")]();if(!(l-this.lastClickTimeStamp<300)){if(this[_0x4b1c("0xc37")]=l,(0==x[_0x4b1c("0x96e")]||x[_0x4b1c("0xc2d")]||f)&&!d){if(this[_0x4b1c("0xc29")]())return;if(0==this.intersects[_0x4b1c("0x0")]){var u=this[_0x4b1c("0x3e")][_0x4b1c("0xb43")]?this[_0x4b1c("0xbe7")][_0x4b1c("0x51a")]([this.map[_0x4b1c("0xb43")]],!0):[];1==u[_0x4b1c("0x0")]&&((0,n[_0x4b1c("0xc38")])(u[0][_0x4b1c("0x2f7")]),this[_0x4b1c("0xe7")](_0x4b1c("0xc39"),{mouse:this[_0x4b1c("0xc01")],hitCoord:u[0][_0x4b1c("0x2f7")],intersect:u,button:x[_0x4b1c("0x96e")],event:x}),this.debugPick&&(this.debugPickLog&&console.info(u),this[_0x4b1c("0xe7")]("debugPick",u)))}else this.debugPick?(this[_0x4b1c("0xc3a")]&&console[_0x4b1c("0x291")](this[_0x4b1c("0xbef")]),this.fire(_0x4b1c("0xbed"),this[_0x4b1c("0xbef")])):this[_0x4b1c("0xe7")](_0x4b1c("0xb99"),{objects:this[_0x4b1c("0xbef")],mouse:this.mousePos,button:x[_0x4b1c("0x96e")],event:x})}x[_0x4b1c("0x4d8")]()}}}},{key:_0x4b1c("0xc20"),value:function(x){var c=this[_0x4b1c("0x3e")].mapView[_0x4b1c("0x536")].getBoundingClientRect(),b=new THREE.Vector2;return b.x=((x.touches?x[_0x4b1c("0xc2d")][0].clientX:x.clientX)-c[_0x4b1c("0x359")])/c[_0x4b1c("0x1c9")]*2-1,b.y=-((x[_0x4b1c("0xc2d")]?x[_0x4b1c("0xc2d")][0][_0x4b1c("0x4e4")]:x[_0x4b1c("0x4e4")])-c[_0x4b1c("0x35b")])/c.height*2+1,b}},{key:"getMouseScreenPos",value:function(x){return{x:x[_0x4b1c("0xc2d")]?x[_0x4b1c("0xc2d")][0][_0x4b1c("0x4e2")]:x[_0x4b1c("0x4e2")],y:x.touches?x[_0x4b1c("0xc2d")][0][_0x4b1c("0x4e4")]:x[_0x4b1c("0x4e4")]}}},{key:_0x4b1c("0xc23"),set:function(x){this[_0x4b1c("0xbeb")]=x,x?(this.map[_0x4b1c("0x25c")].enableMapPan=!1,this.BoxPicker[_0x4b1c("0x70b")]=!0):(this[_0x4b1c("0x3e")][_0x4b1c("0x25c")][_0x4b1c("0x25d")]=!0,this[_0x4b1c("0xbfb")][_0x4b1c("0x70b")]=!1)},get:function(){return this[_0x4b1c("0xbeb")]}}]),c}((0,r.default)(s[_0x4b1c("0xc")]));c[_0x4b1c("0xc")]=u},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0}),c[_0x4b1c("0x7bf")]=t,c[_0x4b1c("0xc3b")]=function(x){if(!(0,_[_0x4b1c("0x367")])(x))return x;return x[_0x4b1c("0x14c")](i,"")},c.splitWords=function(x){return t(x)[_0x4b1c("0x2c")](/\s+/)},c[_0x4b1c("0xc3c")]=n,c.stringLength=s,c[_0x4b1c("0xc3d")]=o,c[_0x4b1c("0xc3e")]=f,c.replaceVariable=function(x,c){if(!(0,_.isString)(x))return x;return x[_0x4b1c("0x14c")](l,(function(x,b){if(!c)return"";var e=c[b];return(0,_[_0x4b1c("0x36f")])(e)?"":Array.isArray(e)?e.join():e}))},c[_0x4b1c("0xc3f")]=function(x,c,b){var _=x[_0x4b1c("0x1c9")],e=x[_0x4b1c("0x1a3")],t=void 0,i=void 0;t=c===_0x4b1c("0x359")?-_:c===_0x4b1c("0x35a")?0:-_/2;i=b===_0x4b1c("0x35b")?-e:b===_0x4b1c("0x35c")?0:-e/2;return new Point(t,i)},c.getFont=d,c[_0x4b1c("0xc40")]=function(x,c){var b=d(c),e=c[_0x4b1c("0xc49")]||0,t=s(x,b),i=t[_0x4b1c("0x1c9")],a=t[_0x4b1c("0x1a3")],r=c[_0x4b1c("0xc4a")],o=[],l=c.textWrapWidth;(!l||l>i)&&(l=i);(0,_[_0x4b1c("0x367")])(x)||(x+="");var u=0;if(r&&x[_0x4b1c("0x114")](r)>=0)for(var h=x[_0x4b1c("0x2c")](r),g=0,v=h[_0x4b1c("0x0")];g<v;g++){var p=h[g],m=n(p,b);if(m>l)for(var A=f(p,b,l,m),y=0,C=A[_0x4b1c("0x0")];y<C;y++){var I=A[y].width;I>u&&(u=I),o[_0x4b1c("0x12")]({text:A[y][_0x4b1c("0x317")],size:new Size(I,a)})}else m>u&&(u=m),o.push({text:p,size:new Size(m,a)})}else if(i>l)for(var E=f(x,b,l,i),w=0;w<E[_0x4b1c("0x0")];w++){var T=E[w][_0x4b1c("0x1c9")];T>u&&(u=T),o[_0x4b1c("0x12")]({text:E[w].text,size:new Size(T,a)})}else i>u&&(u=i),o[_0x4b1c("0x12")]({text:x,size:t});var k=o.length,S=new Size(u,a*k+e*(k-1));return{total:k,size:S,rows:o,rawSize:t}};var _=b(4),e=b(143);function t(x){return x[_0x4b1c("0x7bf")]?x[_0x4b1c("0x7bf")]():x[_0x4b1c("0x14c")](/^\s+|\s+$/g,"")}var i=/[\b\t\r\v\f]/gim;var a=typeof document!==_0x4b1c("0x8")?document.createElement(_0x4b1c("0x588"))[_0x4b1c("0x332")]("2d"):null;function n(x,c){return n[_0x4b1c("0x886")]?n[_0x4b1c("0x886")](x,c):(a[_0x4b1c("0x33a")]=c,a[_0x4b1c("0x358")](x)[_0x4b1c("0x1c9")])}var r={};function s(x,c){if(s[_0x4b1c("0x886")])return s[_0x4b1c("0x886")](x,c);var b=n(x,c);return c||(c=_0x4b1c("0xc41")),r[c]||(r[c]=o(c)),new Size(b,r[c])}function o(x){var c=(0,e[_0x4b1c("0x4c3")])();"_default_"!==x&&(c[_0x4b1c("0x23")][_0x4b1c("0x33a")]=x),c[_0x4b1c("0x1d6")]="秦";var b=c[_0x4b1c("0x4f2")];return(0,e[_0x4b1c("0xc42")])(c),b}function f(x,c,b,e){if(!x||0===x[_0x4b1c("0x0")])return[{text:"",width:0}];var t=(0,_[_0x4b1c("0x36f")])(e)?n(x,c):e,i=t/x[_0x4b1c("0x0")],a=Math.floor(b/i/2);if(i>=b||a<=0)return[{text:"",width:b}];if(t<=b)return[{text:x,width:t}];for(var r=[],s=x.substring(0,a),o=i*a,f=a,l=x[_0x4b1c("0x0")];f<l;f++){var d=x[f],u=n(s+d);u>=b?(r[_0x4b1c("0x12")]({text:s,width:o}),s=x[_0x4b1c("0x2a1")](f,a+f),f+=a-1,o=i*a):(s+=d,o=u),f>=l-1&&(o=n(s),r[_0x4b1c("0x12")]({text:s,width:o}))}return r}var l=/\{([\w_]+)\}/g;function d(x){return x[_0x4b1c("0xc43")]?x[_0x4b1c("0xc43")]:(x.textStyle&&"normal"!==x[_0x4b1c("0xc44")]?x[_0x4b1c("0xc44")]+" ":"")+(x[_0x4b1c("0xc45")]&&x.textWeight!==_0x4b1c("0x140")?x.textWeight+" ":"")+x[_0x4b1c("0xc46")]+_0x4b1c("0xc47")+('"'===x[_0x4b1c("0xc48")][0]?x.textFaceName:'"'+x[_0x4b1c("0xc48")]+'"')}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(108));function i(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var a=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x2c7")]=c}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x50c"),value:function(){return this[_0x4b1c("0xc4b")]||(this[_0x4b1c("0xc4b")]=!0,this.addHooks()),this}},{key:_0x4b1c("0x50d"),value:function(){return this[_0x4b1c("0xc4b")]?(this[_0x4b1c("0xc4b")]=!1,this.removeHooks(),this):this}},{key:_0x4b1c("0x70b"),value:function(){return!!this[_0x4b1c("0xc4b")]}},{key:_0x4b1c("0x2ea"),value:function(){this.disable(),delete this[_0x4b1c("0x2c7")],delete this[_0x4b1c("0xc4c")]}}]),x}();c[_0x4b1c("0xc")]=(0,t[_0x4b1c("0xc")])(a)},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=n(b(15)),e=n(b(0)),t=n(b(1)),i=b(292),a=b(293);function n(x){return x&&x.__esModule?x:{default:x}}var r=function(){function x(c,b,_){(0,e[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x535")]=_,this.spriteBg_=null,this.spritePt_=null,this.materialPt_=null,this[_0x4b1c("0xc4d")]=null,this[_0x4b1c("0x527")]=c,this[_0x4b1c("0x528")]=b,this.w_=Math[_0x4b1c("0x2f6")](_[_0x4b1c("0x399")],128),this.h_=Math[_0x4b1c("0x2f6")](_.compassSize,128)}return(0,t[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x52b"),value:function(x,c,b){if(null!=this[_0x4b1c("0xba4")]&&null!=this[_0x4b1c("0xba5")]){var _=x/2,e=c/2,t=b||this[_0x4b1c("0x535")][_0x4b1c("0x398")],i=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],a=1;i[_0x4b1c("0x47")][_0x4b1c("0x38c")]&&(a=i.options[_0x4b1c("0x38c")]),1==a?(this[_0x4b1c("0xba4")][_0x4b1c("0x105")][_0x4b1c("0xdb")](-_+this.w_/2+t[0],e-this.h_/2-t[1],.5),this[_0x4b1c("0xba5")][_0x4b1c("0x105")][_0x4b1c("0xdb")](-_+this.w_/2+t[0],e-this.h_/2-t[1],1)):3==a?(this[_0x4b1c("0xba4")][_0x4b1c("0x105")].set(_-this.w_/2-t[0],e-this.h_/2-t[1],.5),this[_0x4b1c("0xba5")].position[_0x4b1c("0xdb")](_-this.w_/2-t[0],e-this.h_/2-t[1],1)):2==a?(this.spriteBg_[_0x4b1c("0x105")][_0x4b1c("0xdb")](-_+this.w_/2+t[0],this.h_/2-e+t[1],.5),this[_0x4b1c("0xba5")][_0x4b1c("0x105")][_0x4b1c("0xdb")](-_+this.w_/2+t[0],this.h_/2-e+t[1],1)):4==a&&(this[_0x4b1c("0xba4")][_0x4b1c("0x105")][_0x4b1c("0xdb")](_-this.w_/2-t[0],this.h_/2-e+t[1],.5),this[_0x4b1c("0xba5")][_0x4b1c("0x105")].set(_-this.w_/2-t[0],this.h_/2-e+t[1],1))}}},{key:_0x4b1c("0xc4e"),value:function(x){null!=this[_0x4b1c("0xc4d")]&&(this[_0x4b1c("0xc4f")][_0x4b1c("0x202")]=Math.PI+x)}},{key:_0x4b1c("0xae6"),value:function(x){var c=document[_0x4b1c("0x21")](_0x4b1c("0xc50"));c[_0x4b1c("0x4d7")]=x;var b=new(THREE[_0x4b1c("0x35e")])(c);this[_0x4b1c("0xc4f")][_0x4b1c("0x3e")]=b,c[_0x4b1c("0x7b0")]=function(){b[_0x4b1c("0x188")]=!0}}},{key:_0x4b1c("0xae8"),value:function(x){var c=document[_0x4b1c("0x21")](_0x4b1c("0xc50"));c[_0x4b1c("0x4d7")]=x;var b=new(THREE[_0x4b1c("0x35e")])(c);this.materialBg_[_0x4b1c("0x3e")]=b,c[_0x4b1c("0x7b0")]=function(){b.needsUpdate=!0}}},{key:"init",value:function(){var x=this,c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];if(null==this.spriteBg_&&null==this[_0x4b1c("0xba5")]){var b=document[_0x4b1c("0x21")](_0x4b1c("0xc50"));c[_0x4b1c("0x47")].compassBackgroundUrl?b[_0x4b1c("0x4d7")]=c[_0x4b1c("0x47")][_0x4b1c("0x38b")]:b[_0x4b1c("0x4d7")]=a.compassBg;var e=new THREE.Texture(b),t=document[_0x4b1c("0x21")](_0x4b1c("0xc50"));c[_0x4b1c("0x47")][_0x4b1c("0x38a")]?t[_0x4b1c("0x4d7")]=c[_0x4b1c("0x47")].compassPointerUrl:t[_0x4b1c("0x4d7")]=i[_0x4b1c("0xc51")];var n=new(THREE[_0x4b1c("0x35e")])(t);this[_0x4b1c("0xc52")]=this.w_,this[_0x4b1c("0xc53")]=this.h_,e[_0x4b1c("0x188")]=!0,n[_0x4b1c("0x188")]=!0,this[_0x4b1c("0xc4d")]=new(THREE[_0x4b1c("0x52f")])({map:e}),this.spriteBg_=new(THREE[_0x4b1c("0x27d")])(this[_0x4b1c("0xc4d")]),this[_0x4b1c("0xba4")][_0x4b1c("0x201")][_0x4b1c("0xdb")](this.w_,this.h_,1),this[_0x4b1c("0xc4f")]=new(THREE[_0x4b1c("0x52f")])({map:n}),this.spritePt_=new(THREE[_0x4b1c("0x27d")])(this[_0x4b1c("0xc4f")]),this[_0x4b1c("0xba5")][_0x4b1c("0x201")][_0x4b1c("0xdb")](this.lw_,this[_0x4b1c("0xc53")],1),this[_0x4b1c("0x528")][_0x4b1c("0xdd")](this[_0x4b1c("0xba4")]),this[_0x4b1c("0x528")][_0x4b1c("0xdd")](this[_0x4b1c("0xba5")]);var r=this[_0x4b1c("0x535")].container,s=r[_0x4b1c("0x530")],o=r.clientHeight;this[_0x4b1c("0x52b")](s,o),new ResizeObserver((function(c){var b=!0,e=!1,t=void 0;try{for(var i,a=(0,_[_0x4b1c("0xc")])(c);!(b=(i=a[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);b=!0){var n=i.value.contentRect;x[_0x4b1c("0x52b")](n[_0x4b1c("0x1c9")],n[_0x4b1c("0x1a3")])}}catch(x){e=!0,t=x}finally{try{!b&&a[_0x4b1c("0x28a")]&&a[_0x4b1c("0x28a")]()}finally{if(e)throw t}}}))[_0x4b1c("0xc54")](r)}}},{key:_0x4b1c("0x191"),set:function(x){x!=this[_0x4b1c("0x527")]&&(this[_0x4b1c("0x527")]=x,x?(this[_0x4b1c("0x39")](),this[_0x4b1c("0xba4")][_0x4b1c("0x191")]=this[_0x4b1c("0xba5")][_0x4b1c("0x191")]=!0):null!=this[_0x4b1c("0xba4")]&&null!=this[_0x4b1c("0xba5")]&&(this.spriteBg_[_0x4b1c("0x191")]=this[_0x4b1c("0xba5")][_0x4b1c("0x191")]=!1))},get:function(){return this.visible_}}]),x}();c[_0x4b1c("0xc")]=r},function(x,c,b){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var _=_0x4b1c("0xc55");c[_0x4b1c("0xc51")]=_},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=_0x4b1c("0xc56");c.compassBg=_},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _={s:1,k:null,token:"",tid:3,version:1,themeID:null,tileType:_0x4b1c("0xc57"),maximumTiles:25,maximumBuildings:1,loadRoads:!0,showRoads:!0,serverUrl:null,defaultLight:!1,showBuildingMode:esmap[_0x4b1c("0xc58")].PLANISH,showBuildingModeBk:{tileScaleZ:.25,time:1,mode:1},roadShowLevel:{6:18,15:15.6},zoomLevel:15,maxBuildingZoomLevel:18,tileShowLevel:12.5,disableViewCenter:!1,clickOpenBuildings:!0,esTileMode:!0,tileColor:"255,255,255",disableIndoorClick:!1,disableOutdoorClick:!1,disableScrollFloorControl:!1,buildingScale:1,pickableBuildings:[],crs:null,tileMode:!0,roadStyle:{url:"image/light2.png",lineWidth:12,isMapRoad:!0,speed:50,dashArray:[100],dash:{speed:50},alpha:.8,offsetHeight:10,lineType:esmap.ESLineType[_0x4b1c("0x127")]},worldScale:15,showTapTip:!0,offsetbid:0,offsetroad:0,buildingMergeModel3D:!0,autoOpenBuilding:!1,autoCloseLevel:null,autoOpenLevel:20,buildingFocusMode:2,buildingsFirstFloorNum:null,isShowSingleBasement:!0,selectedColor:null,ignoreModelList:[],ignoreKeyNameList:[],continueOpenBuilding:!1,buildingOpenAnimation:!0,isLazyLoadModel3D:!1};c[_0x4b1c("0x3b9")]=_},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});c.DefaultBuildingOptions={callbackByFloor:null,themeID:0,focusAnimateMode:!0,focusAnimateTime:.3,focusAlphaMode:!1,focusAlpha:.4,undergroundOffset:0,modelSelectedEffect:!0,model3DHoverEffect:!1,mergeModelLines:!0,mergeModels:!0,scaleOffset:0,offsetZ:0,visibleFloors:null,focusFloor:null,showBase:0,mapFloorSpan:0,loadModel3D:1,loadPoi:1,loadLabel:1,token:null,logotoken:null,modelLines:null,mergeModel3D:!0,s:null,k:null,dataCenter:null,center:null,selectedColor:null,focusMode:2,unloadRoomLogo:!1}},function(x,c,b){"use strict";var _=t(b(60)),e=t(b(21));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}THREE[_0x4b1c("0xb87")]=function(x,c){var b,_,e,t,i,a,n;this[_0x4b1c("0x1d")]=x,this.domElement=void 0!==c?c:document,this[_0x4b1c("0x70b")]=!0,this[_0x4b1c("0x2c7")]=new(THREE[_0x4b1c("0x128")]),this[_0x4b1c("0x2b0")]=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this[_0x4b1c("0x9be")]=!0,this.zoomToCursorPolarLimit=Math.PI/3,this[_0x4b1c("0xc59")]=!0,this[_0x4b1c("0x9bd")]=0,this[_0x4b1c("0xb73")]=Math.PI,this[_0x4b1c("0xc5a")]=-1/0,this[_0x4b1c("0xc5b")]=1/0,this[_0x4b1c("0xc5c")]=!1,this[_0x4b1c("0xc5d")]=.05,this.enableZoom=!0,this[_0x4b1c("0xc5e")]=1,this.enableRotate=!0,this[_0x4b1c("0xc5f")]=1,this[_0x4b1c("0xc60")]=!0,this[_0x4b1c("0xc61")]=!0,this[_0x4b1c("0xc62")]=1,this[_0x4b1c("0xc63")]=!1,this[_0x4b1c("0xc64")]=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.orthoLimitSize={min:-1,max:1/0},this.enableKeys=!0,this[_0x4b1c("0x684")]={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this[_0x4b1c("0xc65")]={LEFT:65,UP:87,RIGHT:68,BOTTOM:83},this[_0x4b1c("0xb96")]={LEFT:THREE[_0x4b1c("0xb89")][_0x4b1c("0xb8b")],MIDDLE:THREE[_0x4b1c("0xb89")][_0x4b1c("0xb8a")],RIGHT:THREE[_0x4b1c("0xb89")][_0x4b1c("0xb97")]},this[_0x4b1c("0xc66")]=this[_0x4b1c("0x2c7")].clone(),this[_0x4b1c("0xc67")]=this[_0x4b1c("0x1d")][_0x4b1c("0x105")][_0x4b1c("0x13e")](),this[_0x4b1c("0xc68")]=this[_0x4b1c("0x1d")][_0x4b1c("0x65a")],this.prevRadius=999999,this[_0x4b1c("0x2cf")]=function(){return g[_0x4b1c("0x955")]},this.getAzimuthalAngle=function(){return g.theta},this[_0x4b1c("0x6b7")]=function(){return this[_0x4b1c("0x1d")][_0x4b1c("0x105")][_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](this.target).length()},this[_0x4b1c("0xabc")]=function(){return this.object instanceof THREE[_0x4b1c("0x8d7")]?this.getDistance()/this[_0x4b1c("0xaaf")]:this.object[_0x4b1c("0x35b")]/this[_0x4b1c("0x1d")].zoom/this.initTop_},this.setScaleLevelValue=function(x,c){var b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x1c3")].camera,_=b[_0x4b1c("0x105")].clone()[_0x4b1c("0x6a0")](this[_0x4b1c("0x2c7")]).normalize();_[_0x4b1c("0x253")](this[_0x4b1c("0xaaf")]*x);var e=this[_0x4b1c("0x2c7")][_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](_);if(this[_0x4b1c("0x1d")]instanceof THREE[_0x4b1c("0x8d7")])b[_0x4b1c("0x105")][_0x4b1c("0x20b")](e);else if(this[_0x4b1c("0x1d")]instanceof THREE[_0x4b1c("0x8dd")]){var t=e[_0x4b1c("0x124")](this.target),i=esmap[_0x4b1c("0x87")][_0x4b1c("0x659")](b,this,t),a=this[_0x4b1c("0x1d")][_0x4b1c("0x35b")]/i[_0x4b1c("0x35b")];this[_0x4b1c("0x1d")].zoom=a,this[_0x4b1c("0x1d")][_0x4b1c("0x925")]()}},this[_0x4b1c("0xa10")]=function(x){var c=esmap.ESMap.instance,b=c[_0x4b1c("0x1c3")].camera,_=esmap[_0x4b1c("0x87")][_0x4b1c("0x659")](b,this,x),e=this[_0x4b1c("0x1d")].top/_[_0x4b1c("0x35b")];this[_0x4b1c("0x1d")][_0x4b1c("0x65a")]=e,this.object.updateProjectionMatrix(),c[_0x4b1c("0x9c4")]()},this[_0x4b1c("0xb69")]=function(){for(var x=this[_0x4b1c("0xabc")](),c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=0;b<c[_0x4b1c("0x9cf")].length;b++)if(Math[_0x4b1c("0x23d")](c.scaleLevels_[b]-x)>.001&&x<c[_0x4b1c("0x9cf")][b])return b-1<0?0:b-1;return b-1<0?0:b-1},this[_0x4b1c("0xc69")]=function(){r[_0x4b1c("0xc66")][_0x4b1c("0x20b")](r[_0x4b1c("0x2c7")]),r[_0x4b1c("0xc67")].copy(r[_0x4b1c("0x1d")][_0x4b1c("0x105")]),r[_0x4b1c("0xc68")]=r[_0x4b1c("0x1d")][_0x4b1c("0x65a")]},this[_0x4b1c("0xc6a")]=function(){u=d[_0x4b1c("0xc6b")],this[_0x4b1c("0x1d9")](f)},this[_0x4b1c("0xe9")]=function(){r[_0x4b1c("0x2c7")][_0x4b1c("0x20b")](r[_0x4b1c("0xc66")]),r[_0x4b1c("0x1d")][_0x4b1c("0x105")].copy(r[_0x4b1c("0xc67")]),r.object[_0x4b1c("0x65a")]=r[_0x4b1c("0xc68")],r[_0x4b1c("0x1d")][_0x4b1c("0x925")](),r[_0x4b1c("0x1d9")](s),r[_0x4b1c("0x164")](),u=d.NONE},this.update=(b=new(THREE[_0x4b1c("0x128")]),_=(new(THREE[_0x4b1c("0x204")]))[_0x4b1c("0xc6c")](x.up,new(THREE[_0x4b1c("0x128")])(0,1,0)),e=_[_0x4b1c("0x13e")]()[_0x4b1c("0x520")](),t=new(THREE[_0x4b1c("0x128")]),i=new(THREE[_0x4b1c("0x204")]),a=2*Math.PI,n=999999,function(x){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!1!==r[_0x4b1c("0x70b")]){var o=r[_0x4b1c("0x1d")][_0x4b1c("0x105")];b[_0x4b1c("0x20b")](o)[_0x4b1c("0x6a0")](r[_0x4b1c("0x2c7")]),b[_0x4b1c("0xc6d")](_),g[_0x4b1c("0xc6e")](b),r[_0x4b1c("0xc6f")]&&u===d[_0x4b1c("0xc6b")]&&B(2*Math.PI/60/60*r[_0x4b1c("0xc76")]),r[_0x4b1c("0xc5c")]?(r[_0x4b1c("0x9be")]&&r[_0x4b1c("0xc59")]&&c&&(r[_0x4b1c("0x1d")][_0x4b1c("0x926")]?r.target[_0x4b1c("0xc70")](N,1-g[_0x4b1c("0x68f")]/n):r.object.isOrthographicCamera&&r.target.lerp(N,1-y)),b.setFromSpherical(g),g[_0x4b1c("0x956")]+=v[_0x4b1c("0x956")]*r[_0x4b1c("0xc5d")],g[_0x4b1c("0x955")]+=v.phi*r[_0x4b1c("0xc5d")]):(r[_0x4b1c("0x9be")]&&r[_0x4b1c("0xc59")]&&c&&(r[_0x4b1c("0x1d")][_0x4b1c("0x926")]?r[_0x4b1c("0x2c7")][_0x4b1c("0xc70")](N,c[_0x4b1c("0xc71")]):r[_0x4b1c("0x1d")][_0x4b1c("0x92a")]&&r.target[_0x4b1c("0xc70")](N,1-y)),g.theta+=v[_0x4b1c("0x956")],g[_0x4b1c("0x955")]+=v.phi),x&&(x[_0x4b1c("0x1")](_0x4b1c("0xc72"))&&(g.theta=x[_0x4b1c("0xc72")],v[_0x4b1c("0x956")]=0),x[_0x4b1c("0x1")]("forcePhi")&&(g[_0x4b1c("0x955")]=x.forcePhi,v[_0x4b1c("0x955")]=0)),g.phi>r.zoomToCursorPolarLimit?r.canUseZoomToCursor=!1:r[_0x4b1c("0xc59")]=!0,g.theta=Math[_0x4b1c("0x2f5")](r.minAzimuthAngle,Math[_0x4b1c("0x2f6")](r[_0x4b1c("0xc5b")],g[_0x4b1c("0x956")]));var f=r[_0x4b1c("0xc5a")],C=r[_0x4b1c("0xc5b")];return isFinite(f)&&isFinite(C)&&(f<-Math.PI?f+=a:f>Math.PI&&(f-=a),C<-Math.PI?C+=a:C>Math.PI&&(C-=a),g[_0x4b1c("0x956")]=f<=C?Math.max(f,Math[_0x4b1c("0x2f6")](C,g[_0x4b1c("0x956")])):g[_0x4b1c("0x956")]>(f+C)/2?Math.max(f,g.theta):Math[_0x4b1c("0x2f6")](C,g[_0x4b1c("0x956")])),g[_0x4b1c("0x955")]=Math[_0x4b1c("0x2f5")](r.minPolarAngle,Math.min(r.maxPolarAngle,g[_0x4b1c("0x955")])),g[_0x4b1c("0xc73")](),1!=p&&r[_0x4b1c("0x1d9")](l),n=g.radius,g[_0x4b1c("0x68f")]*=p,g.radius=Math[_0x4b1c("0x2f5")](r.minDistance,Math[_0x4b1c("0x2f6")](r[_0x4b1c("0x2ad")],g[_0x4b1c("0x68f")])),r[_0x4b1c("0xc5c")]?r[_0x4b1c("0x2c7")][_0x4b1c("0xc74")](m,r[_0x4b1c("0xc5d")]):r[_0x4b1c("0x2c7")].add(m),b.setFromSpherical(g),b.applyQuaternion(e),o[_0x4b1c("0x20b")](r.target)[_0x4b1c("0xdd")](b),r[_0x4b1c("0x1d")][_0x4b1c("0x241")](r[_0x4b1c("0x2c7")]),!0===r.enableDamping?(v[_0x4b1c("0x956")]*=1-r[_0x4b1c("0xc5d")],v[_0x4b1c("0x955")]*=1-r[_0x4b1c("0xc5d")],m.multiplyScalar(1-r[_0x4b1c("0xc5d")])):(v.set(0,0,0),m[_0x4b1c("0xdb")](0,0,0)),p=1,!!(A||t.distanceToSquared(r.object.position)>h||8*(1-i[_0x4b1c("0x902")](r.object[_0x4b1c("0x20a")]))>h)&&(r[_0x4b1c("0x1d9")](s),t[_0x4b1c("0x20b")](r[_0x4b1c("0x1d")].position),i[_0x4b1c("0x20b")](r[_0x4b1c("0x1d")][_0x4b1c("0x20a")]),A=!1,y=1,!0)}}),this[_0x4b1c("0xf3")]=function(){r.domElement[_0x4b1c("0x29e")](_0x4b1c("0x981"),ox,!1),r[_0x4b1c("0x73f")][_0x4b1c("0x29e")](_0x4b1c("0x982"),_x,!1),r.domElement[_0x4b1c("0x29e")](_0x4b1c("0xb8c"),ix,!1),r[_0x4b1c("0x73f")].removeEventListener("touchstart",nx,!1),r[_0x4b1c("0x73f")][_0x4b1c("0x29e")]("touchend",sx,!1),r[_0x4b1c("0x73f")].removeEventListener("touchmove",rx,!1),document[_0x4b1c("0x29e")](_0x4b1c("0x983"),ex,!1),document[_0x4b1c("0x29e")](_0x4b1c("0x984"),tx,!1),window[_0x4b1c("0x29e")]("keydown",ax,!1)};var r=this,s={type:"change"},o={type:_0x4b1c("0x1af")},f={type:_0x4b1c("0x2a0")},l={type:_0x4b1c("0x179")},d={NONE:0,ROTATE_UP:1,ROTATE_LEFT:2,ROTATE:3,DOLLY:4,DOLLY_ROTATE:7,PAN:8,DOLLY_PAN:12},u=d.NONE,h=1e-6,g=new(THREE[_0x4b1c("0xc75")]),v=new(THREE[_0x4b1c("0xc75")]),p=1,m=new(THREE[_0x4b1c("0x128")]),A=!1,y=1,C=new(THREE[_0x4b1c("0x552")]),I=new(THREE[_0x4b1c("0x552")]),E=new(THREE[_0x4b1c("0x552")]),w=new(THREE[_0x4b1c("0x552")]),T=new(THREE[_0x4b1c("0x552")]),k=new(THREE[_0x4b1c("0x552")]),S=new(THREE[_0x4b1c("0x552")]),M=new(THREE[_0x4b1c("0x552")]),R=new THREE.Vector2,L=new(THREE[_0x4b1c("0x552")]),H=new THREE.Vector2,D=new(THREE[_0x4b1c("0x552")]),O=new(THREE[_0x4b1c("0x552")]),P=new THREE.Vector2,N=new(THREE[_0x4b1c("0x128")]);function F(){return Math[_0x4b1c("0xf5")](.95,r.zoomSpeed)}function B(x){v[_0x4b1c("0x956")]-=x}function z(x){v.phi-=x}var U,V,j,Z=(U=new THREE.Vector3,function(x,c){U[_0x4b1c("0xc77")](c,0),U[_0x4b1c("0x253")](-x),m.add(U)}),Y=(V=new(THREE[_0x4b1c("0x128")]),function(x,c){!0===r[_0x4b1c("0xc63")]?V[_0x4b1c("0xc77")](c,1):(V[_0x4b1c("0xc77")](c,0),V[_0x4b1c("0x8ff")](r[_0x4b1c("0x1d")].up,V)),V.multiplyScalar(x),m[_0x4b1c("0xdd")](V)}),W=(j=new(THREE[_0x4b1c("0x128")]),function(x,c){var b=r[_0x4b1c("0x73f")]===document?r[_0x4b1c("0x73f")][_0x4b1c("0x26")]:r.domElement;if(r[_0x4b1c("0x1d")].isPerspectiveCamera){var _=r[_0x4b1c("0x1d")][_0x4b1c("0x105")];j[_0x4b1c("0x20b")](_)[_0x4b1c("0x6a0")](r.target);var e=j[_0x4b1c("0x0")]();e*=Math[_0x4b1c("0x2f9")](r[_0x4b1c("0x1d")][_0x4b1c("0x65e")]/2*Math.PI/180),Z(2*x*e/b[_0x4b1c("0x4f2")],r.object[_0x4b1c("0x22d")]),Y(2*c*e/b.clientHeight,r[_0x4b1c("0x1d")][_0x4b1c("0x22d")])}else r[_0x4b1c("0x1d")].isOrthographicCamera?(Z(x*(r[_0x4b1c("0x1d")].right-r[_0x4b1c("0x1d")][_0x4b1c("0x359")])/r[_0x4b1c("0x1d")][_0x4b1c("0x65a")]/b.clientWidth,r.object[_0x4b1c("0x22d")]),Y(c*(r[_0x4b1c("0x1d")][_0x4b1c("0x35b")]-r[_0x4b1c("0x1d")][_0x4b1c("0x35c")])/r[_0x4b1c("0x1d")][_0x4b1c("0x65a")]/b.clientHeight,r[_0x4b1c("0x1d")][_0x4b1c("0x22d")])):(console[_0x4b1c("0x424")]("WARNING: MapControls.js encountered an unknown camera type - pan disabled."),r[_0x4b1c("0xc61")]=!1)});function G(x){if(r.object[_0x4b1c("0x926")])p/=x;else if(r.object.isOrthographicCamera){var c=r[_0x4b1c("0x1d")][_0x4b1c("0x65a")]*x,b=window[_0x4b1c("0x1b6")].ESMap[_0x4b1c("0x3a")][_0x4b1c("0x1c3")][_0x4b1c("0xa5d")][_0x4b1c("0x35b")]/c;b<r[_0x4b1c("0xc78")].max&&b>r[_0x4b1c("0xc78")][_0x4b1c("0x2f6")]&&(y=r[_0x4b1c("0x1d")].zoom,r[_0x4b1c("0x1d")][_0x4b1c("0x65a")]=Math[_0x4b1c("0x2f5")](r[_0x4b1c("0xc79")],Math[_0x4b1c("0x2f6")](r[_0x4b1c("0xc7a")],r.object[_0x4b1c("0x65a")]*x)),y/=r[_0x4b1c("0x1d")][_0x4b1c("0x65a")],r[_0x4b1c("0x1d")][_0x4b1c("0x925")](),A=!0)}else console[_0x4b1c("0x424")](_0x4b1c("0xc7b")),r.enableZoom=!1}function X(x){if(r[_0x4b1c("0x1d")][_0x4b1c("0x926")])p*=x;else if(r[_0x4b1c("0x1d")].isOrthographicCamera){var c=r[_0x4b1c("0x1d")][_0x4b1c("0x65a")]/x;window[_0x4b1c("0x1b6")][_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x1c3")].cameraTop[_0x4b1c("0x35b")]/c>r[_0x4b1c("0xc78")][_0x4b1c("0x2f6")]&&(y=r[_0x4b1c("0x1d")][_0x4b1c("0x65a")],r[_0x4b1c("0x1d")][_0x4b1c("0x65a")]=Math[_0x4b1c("0x2f5")](r[_0x4b1c("0xc79")],Math[_0x4b1c("0x2f6")](r[_0x4b1c("0xc7a")],r[_0x4b1c("0x1d")][_0x4b1c("0x65a")]/x)),y/=r[_0x4b1c("0x1d")].zoom,r[_0x4b1c("0x1d")].updateProjectionMatrix(),A=!0)}else console[_0x4b1c("0x424")]("WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled."),r[_0x4b1c("0xc7c")]=!1}var Q,J,K=(Q=new(THREE[_0x4b1c("0x128")]),J=new(THREE[_0x4b1c("0x128")]),function(x){var c=r[_0x4b1c("0x73f")],b=x[_0x4b1c("0x746")],_=x[_0x4b1c("0x747")];if(r[_0x4b1c("0x1d")][_0x4b1c("0x926")]){Q[_0x4b1c("0xdb")](b/c[_0x4b1c("0x530")]*2-1,-_/c[_0x4b1c("0x4f2")]*2+1,.5),Q[_0x4b1c("0x927")](r[_0x4b1c("0x1d")]),Q[_0x4b1c("0x6a0")](r.object[_0x4b1c("0x105")])[_0x4b1c("0x301")]();var e=J.copy(r[_0x4b1c("0x2c7")])[_0x4b1c("0x6a0")](r[_0x4b1c("0x1d")][_0x4b1c("0x105")])[_0x4b1c("0x902")](r[_0x4b1c("0x1d")].up)/Q.dot(r[_0x4b1c("0x1d")].up);N[_0x4b1c("0x20b")](r[_0x4b1c("0x1d")][_0x4b1c("0x105")])[_0x4b1c("0xdd")](Q[_0x4b1c("0x253")](e))}else if(r[_0x4b1c("0x1d")].isOrthographicCamera){Q.set(b/c.clientWidth*2-1,-_/c.clientHeight*2+1,(r[_0x4b1c("0x1d")][_0x4b1c("0x609")]+r[_0x4b1c("0x1d")][_0x4b1c("0x519")])/(r.object[_0x4b1c("0x609")]-r[_0x4b1c("0x1d")][_0x4b1c("0x519")])),Q[_0x4b1c("0x927")](r[_0x4b1c("0x1d")]),J[_0x4b1c("0xdb")](0,0,-1).applyQuaternion(r.object[_0x4b1c("0x20a")]);var t=-Q[_0x4b1c("0x902")](r[_0x4b1c("0x1d")].up)/J[_0x4b1c("0x902")](r.object.up);N[_0x4b1c("0x20b")](Q)[_0x4b1c("0xdd")](J[_0x4b1c("0x253")](t)),N.y=r[_0x4b1c("0x2c7")].y}else console[_0x4b1c("0x424")](_0x4b1c("0xc7e"))});function q(x){if(!1!==r[_0x4b1c("0xc7d")]&&0!=(u&d[_0x4b1c("0xc81")])){if(E.set(x[_0x4b1c("0xc2d")][0][_0x4b1c("0x970")],x[_0x4b1c("0xc2d")][0][_0x4b1c("0x972")]),w[_0x4b1c("0xdb")](x.touches[1].pageX,x[_0x4b1c("0xc2d")][1][_0x4b1c("0x972")]),T[_0x4b1c("0x8fe")](E,C),k[_0x4b1c("0x8fe")](w,I),S[_0x4b1c("0x8fe")](I,C),M[_0x4b1c("0x8fe")](w,E),function(){cx(S);cx(M);if(!bx(T))return!1;if(!bx(k))return!1;return T[_0x4b1c("0x902")](k)>0}()){var c=r.domElement===document?r[_0x4b1c("0x73f")].body:r[_0x4b1c("0x73f")];z(2*Math.PI*T.y/c[_0x4b1c("0x4f2")]),u=d[_0x4b1c("0xc82")]}else 0!=(u&d[_0x4b1c("0xc83")])&&B((S[_0x4b1c("0x258")]()-M[_0x4b1c("0x258")]())*r[_0x4b1c("0xc5f")]);C[_0x4b1c("0x20b")](E),I[_0x4b1c("0x20b")](w)}}var $,xx,cx=($=Math[_0x4b1c("0x65d")](Math.PI/6),function(x){return Math[_0x4b1c("0x23d")](Math[_0x4b1c("0x65d")](x[_0x4b1c("0x258")]()))<$}),bx=(xx=Math[_0x4b1c("0x6b9")](Math.PI/2-Math.PI/6),function(x){return Math.abs(Math[_0x4b1c("0x6b9")](x[_0x4b1c("0x258")]()))<xx});function _x(x){if(!1!==r[_0x4b1c("0x70b")]){switch(x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x96e")]){case r[_0x4b1c("0xb96")][_0x4b1c("0xb8b")]:if(!1===r[_0x4b1c("0xc61")])return;_=x,R[_0x4b1c("0xdb")](_[_0x4b1c("0x4e2")],_[_0x4b1c("0x4e4")]),u=d[_0x4b1c("0xc85")];break;case r.mouseButtons[_0x4b1c("0xb8a")]:if(!1===r.enableZoom)return;b=x,D.set(b[_0x4b1c("0x4e2")],b[_0x4b1c("0x4e4")]),u=d[_0x4b1c("0xc84")];break;case r[_0x4b1c("0xb96")][_0x4b1c("0xb97")]:c=x,C.set(c[_0x4b1c("0x4e2")],c[_0x4b1c("0x4e4")]),u=d.ROTATE}var c,b,_;u!==d[_0x4b1c("0xc6b")]&&(document[_0x4b1c("0x37")](_0x4b1c("0x983"),ex,!1),document[_0x4b1c("0x37")](_0x4b1c("0x984"),tx,!1),r.dispatchEvent(o))}}function ex(x){var c;if(!1!==r[_0x4b1c("0x70b")])switch(x.preventDefault(),u){case d.ROTATE:!function(x){E[_0x4b1c("0xdb")](x.clientX,x[_0x4b1c("0x4e4")]),T[_0x4b1c("0x8fe")](E,C)[_0x4b1c("0x253")](r[_0x4b1c("0xc5f")]);var c=r[_0x4b1c("0x73f")]===document?r[_0x4b1c("0x73f")][_0x4b1c("0x26")]:r[_0x4b1c("0x73f")];r[_0x4b1c("0xc7d")]&&B(2*Math.PI*T.x/c[_0x4b1c("0x4f2")]),r.enableIncline&&z(2*Math.PI*T.y/c.clientHeight),C[_0x4b1c("0x20b")](E),r[_0x4b1c("0x164")]()}(x);break;case d.DOLLY:if(!1===r[_0x4b1c("0xc7c")])return;!function(x){var c=g[_0x4b1c("0x68f")];K(x),O[_0x4b1c("0xdb")](x.clientX,x[_0x4b1c("0x4e4")]),P[_0x4b1c("0x8fe")](O,D),P.y>0?G(F()):P.y<0&&X(F()),D[_0x4b1c("0x20b")](O);var b=g[_0x4b1c("0x68f")]*p,_=1-(b=Math[_0x4b1c("0x2f5")](r.minDistance,Math[_0x4b1c("0x2f6")](r[_0x4b1c("0x2ad")],b)))/c;r[_0x4b1c("0x164")](null,{lerpvalue:_})}(x);break;case d.PAN:if(!1===r[_0x4b1c("0xc61")])return;c=x,L[_0x4b1c("0xdb")](c[_0x4b1c("0x4e2")],c[_0x4b1c("0x4e4")]),H.subVectors(L,R)[_0x4b1c("0x253")](r[_0x4b1c("0xc62")]),W(H.x,H.y),R[_0x4b1c("0x20b")](L),r[_0x4b1c("0x164")]()}}function tx(x){!1!==r[_0x4b1c("0x70b")]&&(document[_0x4b1c("0x29e")](_0x4b1c("0x983"),ex,!1),document[_0x4b1c("0x29e")](_0x4b1c("0x984"),tx,!1),r.dispatchEvent(f),u=d[_0x4b1c("0xc6b")])}function ix(x){!1===r[_0x4b1c("0x70b")]||!1===r.enableZoom||u!==d[_0x4b1c("0xc6b")]&&u!==d[_0x4b1c("0xc81")]||(x[_0x4b1c("0x4d8")](),x.stopPropagation(),r[_0x4b1c("0x1d9")](o),function(x){K(x);var c=g[_0x4b1c("0x68f")];x.deltaY<0?X(F()):x[_0x4b1c("0xc7f")]>0&&G(F());var b=g[_0x4b1c("0x68f")]*p,_=1-(b=Math.max(r.minDistance,Math.min(r.maxDistance,b)))/c;r.update(null,{lerpvalue:_})}(x),r[_0x4b1c("0x1d9")](f))}function ax(x){!1!==r.enabled&&!1!==r[_0x4b1c("0xc86")]&&!1!==r[_0x4b1c("0xc61")]&&function(x){switch(x[_0x4b1c("0x261")]){case r[_0x4b1c("0x684")].UP:case r[_0x4b1c("0xc65")].UP:W(0,r[_0x4b1c("0xc64")]),r.update();break;case r[_0x4b1c("0x684")][_0x4b1c("0xc80")]:case r.keys2[_0x4b1c("0xc80")]:W(0,-r[_0x4b1c("0xc64")]),r[_0x4b1c("0x164")]();break;case r[_0x4b1c("0x684")][_0x4b1c("0xb8b")]:case r[_0x4b1c("0xc65")][_0x4b1c("0xb8b")]:W(r[_0x4b1c("0xc64")],0),r[_0x4b1c("0x164")]();break;case r.keys[_0x4b1c("0xb97")]:case r[_0x4b1c("0xc65")][_0x4b1c("0xb97")]:W(-r[_0x4b1c("0xc64")],0),r.update()}}(x)}function nx(x){if(!1!==r.enabled){switch(x.preventDefault(),x[_0x4b1c("0xc2d")].length){case 1:if(!1===r.enablePan)return;!function(x){if(r.enablePan){var c=x[_0x4b1c("0xc2d")][0][_0x4b1c("0x970")],b=x[_0x4b1c("0xc2d")][0][_0x4b1c("0x972")];c<0&&(c=0),b<0&&(b=0),R[_0x4b1c("0xdb")](c,b)}}(x),u=d[_0x4b1c("0xc85")];break;case 2:if(!1===r.enableZoom&&!1===r[_0x4b1c("0xc7d")])return;c=x,C[_0x4b1c("0xdb")](c.touches[0].pageX,c[_0x4b1c("0xc2d")][0][_0x4b1c("0x972")]),I.set(c[_0x4b1c("0xc2d")][1][_0x4b1c("0x970")],c[_0x4b1c("0xc2d")][1][_0x4b1c("0x972")]),function(x){if(r[_0x4b1c("0xc7c")]){var c=x[_0x4b1c("0xc2d")][0][_0x4b1c("0x970")]-x[_0x4b1c("0xc2d")][1][_0x4b1c("0x970")],b=x[_0x4b1c("0xc2d")][0][_0x4b1c("0x972")]-x[_0x4b1c("0xc2d")][1][_0x4b1c("0x972")],_=Math.sqrt(c*c+b*b);D.set(0,_)}}(x),u=d[_0x4b1c("0xc87")];break;default:u=d[_0x4b1c("0xc6b")]}var c;u!==d[_0x4b1c("0xc6b")]&&r.dispatchEvent(o)}}function rx(x){if(!1!==r[_0x4b1c("0x70b")])switch(x[_0x4b1c("0x4d8")](),x.stopPropagation(),x.touches[_0x4b1c("0x0")]){case 1:if(!1===r.enablePan)return;if(u!==d[_0x4b1c("0xc85")])return;!function(x){if(!1!==r[_0x4b1c("0xc61")]&&0!=(u&d[_0x4b1c("0xc85")])){var c=x[_0x4b1c("0xc2d")][0].pageX,b=x.touches[0].pageY;c<0||b<0||(L[_0x4b1c("0xdb")](c,b),H[_0x4b1c("0x8fe")](L,R)[_0x4b1c("0x253")](r[_0x4b1c("0xc62")]),W(H.x,H.y),R[_0x4b1c("0x20b")](L))}}(x),r.update();break;case 2:if(!1===r.enableZoom&&!1===r[_0x4b1c("0xc7d")])return;if(0==(u&d[_0x4b1c("0xc87")]))return;q(x),function(x){if(!1!==r[_0x4b1c("0xc7c")]&&0!=(u&d[_0x4b1c("0xc84")])){var c=x[_0x4b1c("0xc2d")][0][_0x4b1c("0x970")]-x[_0x4b1c("0xc2d")][1][_0x4b1c("0x970")],b=x[_0x4b1c("0xc2d")][0].pageY-x.touches[1][_0x4b1c("0x972")],_=Math[_0x4b1c("0x120")](c*c+b*b);O[_0x4b1c("0xdb")](0,_),P[_0x4b1c("0xdb")](0,Math[_0x4b1c("0xf5")](O.y/D.y,r.zoomSpeed)),G(P.y),D.copy(O)}}(x),r.update();break;default:u=d.NONE}}function sx(x){!1!==r.enabled&&(r[_0x4b1c("0x1d9")](f),u=d[_0x4b1c("0xc6b")])}function ox(x){!1!==r[_0x4b1c("0x70b")]&&x[_0x4b1c("0x4d8")]()}r[_0x4b1c("0x73f")][_0x4b1c("0x37")](_0x4b1c("0x981"),ox,!1),r[_0x4b1c("0x73f")][_0x4b1c("0x37")](_0x4b1c("0x982"),_x,!1),r.domElement[_0x4b1c("0x37")](_0x4b1c("0xb8c"),ix,!1),r.domElement[_0x4b1c("0x37")](_0x4b1c("0xbf8"),nx,!1),r[_0x4b1c("0x73f")][_0x4b1c("0x37")](_0x4b1c("0xbfa"),sx,!1),r.domElement[_0x4b1c("0x37")]("touchmove",rx,!1),window[_0x4b1c("0x37")]("keydown",ax,!1),this.update()},THREE[_0x4b1c("0xb87")][_0x4b1c("0xf")]=(0,e[_0x4b1c("0xc")])(THREE.EventDispatcher[_0x4b1c("0xf")]),THREE[_0x4b1c("0xb87")][_0x4b1c("0xf")][_0x4b1c("0x5f0")]=THREE[_0x4b1c("0xb87")],(0,_[_0x4b1c("0xc")])(THREE[_0x4b1c("0xb87")][_0x4b1c("0xf")],{unsetScaleLevel:{value:function(){this[_0x4b1c("0x2b0")]=0,this.maxDistance=1/0}},initScaleLevel:{value:function(x,c){var b=window.esmap[_0x4b1c("0x32")].instance,_=this.initDistance_*x,e=this.initDistance_*c;this[_0x4b1c("0x2b0")]=_,this[_0x4b1c("0x2ad")]=e;var t=esmap.ESMapUtil[_0x4b1c("0x659")](b.mapView[_0x4b1c("0x658")],this,_),i=esmap[_0x4b1c("0x87")][_0x4b1c("0x659")](b[_0x4b1c("0x1c3")][_0x4b1c("0x658")],this,e);this[_0x4b1c("0xc78")]={min:t.top,max:i.top}}},center:{get:function(){return console[_0x4b1c("0x424")](_0x4b1c("0xc88")),this[_0x4b1c("0x2c7")]}},noZoom:{get:function(){return console[_0x4b1c("0x424")](_0x4b1c("0xc89")),!this.enableZoom},set:function(x){console[_0x4b1c("0x424")](_0x4b1c("0xc89")),this[_0x4b1c("0xc7c")]=!x}},noRotate:{get:function(){return console[_0x4b1c("0x424")]("THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(x){console[_0x4b1c("0x424")](_0x4b1c("0xc8a")),this.enableRotate=!x}},noPan:{get:function(){return _0x4b1c("0xc8b"),!this.enablePan},set:function(x){_0x4b1c("0xc8b"),this[_0x4b1c("0xc61")]=!x}},noKeys:{get:function(){return!this[_0x4b1c("0xc86")]},set:function(x){console[_0x4b1c("0x424")]("THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead."),this[_0x4b1c("0xc86")]=!x}},staticMoving:{get:function(){return console[_0x4b1c("0x424")]("THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this[_0x4b1c("0xc5c")]},set:function(x){console[_0x4b1c("0x424")]("THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead."),this[_0x4b1c("0xc5c")]=!x}},dynamicDampingFactor:{get:function(){return _0x4b1c("0xc8c"),this[_0x4b1c("0xc5d")]},set:function(x){_0x4b1c("0xc8c"),this[_0x4b1c("0xc5d")]=x}}})},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=a(b(298)),e=a(b(0)),t=a(b(1)),i=a(b(2));function a(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(c,b){(0,e[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0xc8d")]=c,this[_0x4b1c("0x266")]=b,this[_0x4b1c("0xc8e")]=!1}return(0,t[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0xc8f"),value:function(x){var c=x[_0x4b1c("0x3fe")],b=x[_0x4b1c("0x105")],_=x[_0x4b1c("0xc90")],e=void 0===_?3:_,t=x[_0x4b1c("0xc5e")],i=void 0===t?5:t,a=x.radiusFactor,n=x[_0x4b1c("0xab0")],r=x.complete;if(esmap[_0x4b1c("0x5fc")]){var s=new(THREE[_0x4b1c("0x128")])(b.x,this.controls[_0x4b1c("0x2c7")].y,b.z)[_0x4b1c("0x124")](this[_0x4b1c("0x266")][_0x4b1c("0x2c7")]),o=this[_0x4b1c("0x266")][_0x4b1c("0x1d")][_0x4b1c("0xc92")]-a,f=Math[_0x4b1c("0x20f")](s/e),l=Math.floor(Math[_0x4b1c("0x23d")](o)/i);l<1e3&&(l=1e3),f<1e3&&(f=1e3);var d=0;switch(c){case esmap[_0x4b1c("0x5fc")].NORTH:d=179.99;break;case esmap[_0x4b1c("0x5fc")][_0x4b1c("0xc93")]:d=.01;break;case esmap[_0x4b1c("0x5fc")][_0x4b1c("0xc94")]:d=-90;break;case esmap[_0x4b1c("0x5fc")][_0x4b1c("0xc95")]:d=90;break;case esmap[_0x4b1c("0x5fc")][_0x4b1c("0xc96")]:d=135;break;case esmap[_0x4b1c("0x5fc")].NORTH_WEST:d=-135;break;case esmap.ESDirection[_0x4b1c("0xc97")]:d=45;break;case esmap[_0x4b1c("0x5fc")][_0x4b1c("0xc98")]:d=-45}var u=this;this[_0x4b1c("0x266")][_0x4b1c("0xc99")]({x:-b.x,y:b.z,callback:function(){u[_0x4b1c("0x266")].flyToAnimate({thetaAngle:d,phiAngle:n},a,l,r)},time:f})}else _0x4b1c("0xc91")}},{key:"p2pFlyFocusTo",value:function(x,c){var b=1+50/(0,_.default)(x.x,x.y,x.z);this[_0x4b1c("0xc9a")]({x:x.x*b,y:x.y*b,z:x.z*b},x,c||3e3)}},{key:_0x4b1c("0xab1"),value:function(x){var c=x[_0x4b1c("0xc9b")],b=x.radius,_=x[_0x4b1c("0xab0")],e=void 0===_?45:_,t=x[_0x4b1c("0xaae")],i=void 0===t?0:t,a=x[_0x4b1c("0x1a5")],n=void 0===a?3:a,r=x[_0x4b1c("0xaac")],s=x.callback;this.toggleControlsLock(!0),e=90-e>=0&&90-e<90?90-e:45;var o=b*Math[_0x4b1c("0x65d")](THREE[_0x4b1c("0x215")].degToRad(e)),f=b*Math[_0x4b1c("0x6b9")](THREE[_0x4b1c("0x215")].degToRad(e)),l=new THREE.Vector2(0,0),d=new(THREE[_0x4b1c("0x552")])(f,0)[_0x4b1c("0xc9c")](l,THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](i-90)),u=new(THREE[_0x4b1c("0x128")])(c.x+d.x,c.y+o,c.z+d.y);return this[_0x4b1c("0xc9a")]({x:u.x,y:u.y,z:u.z},c,1e3*n,r,s),u}},{key:_0x4b1c("0xc9a"),value:function(x,c,b,_,e){var t=(_=_||this[_0x4b1c("0x266")])[_0x4b1c("0x1d")]||this[_0x4b1c("0x266")][_0x4b1c("0x1d")],a=this;if(x){var n=x,r=c||{x:0,y:0,z:0},s=(0,i[_0x4b1c("0xc")])({},t[_0x4b1c("0x105")]),o=_[_0x4b1c("0x2c7")][_0x4b1c("0x13e")]();new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(s).to(n,b)[_0x4b1c("0x1a8")](esmap.TWEEN[_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ae")])[_0x4b1c("0x174")]((function(x){var c,b,e,t,i,a;b=x,e=(c=_)[_0x4b1c("0x1d")],t=b.x,i=b.y,a=b.z,void 0!==t&&(e[_0x4b1c("0x105")].x=t),void 0!==i&&(e[_0x4b1c("0x105")].y=i),void 0!==a&&(e[_0x4b1c("0x105")].z=a),c[_0x4b1c("0x164")]()}))[_0x4b1c("0x1ac")]((function(){a.toggleControlsLock(!1),e&&e(),_[_0x4b1c("0xc9d")]&&_[_0x4b1c("0xc9d")]()}))[_0x4b1c("0x1af")](),new(esmap.TWEEN[_0x4b1c("0x1a7")])(o).to(r,b).easing(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ae")]).onUpdate((function(x){var c,b;b=x,(c=_)[_0x4b1c("0x2c7")][_0x4b1c("0xdb")](b.x,b.y,b.z),c[_0x4b1c("0x164")]()}))[_0x4b1c("0x1af")]()}}},{key:_0x4b1c("0xc9e"),value:function(x){this[_0x4b1c("0xc8e")]=x}}]),x}();c[_0x4b1c("0xc")]=n},,,,function(x,c,b){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var _=p(b(7)),e=p(b(8)),t=p(b(0)),i=p(b(1)),a=p(b(147)),n=p(b(302)),r=p(b(308)),s=b(310),o=b(320),f=p(b(322)),l=b(323),d=p(b(26)),u=b(23),h=b(80),g=b(66),v=b(27);function p(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var m={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},A=function(x){var c,b=x[v[_0x4b1c("0xc0")]]<1*v[_0x4b1c("0xb6")][0]?x[v._mt_]:x[v[_0x4b1c("0xc0")]]/(1*v[_0x4b1c("0xb6")][1]),_=g[_0x4b1c("0xc9f")].indexOf(esmap[_0x4b1c("0x87")][v._eco_](window[v[_0x4b1c("0xb9")]].origin))>-1;(new(window[v[_0x4b1c("0xb8")]]))[v._dtgt_]()>b*(1*v[_0x4b1c("0xb6")][2])&&(_||((c=esmap.ESMap[_0x4b1c("0x3a")])[v[_0x4b1c("0xb4")]](),window[v[_0x4b1c("0xd7")]]((function(){return c[v._dusc_]()}),0)))},y=function(){function x(c){(0,t.default)(this,x),this.map=c,this[_0x4b1c("0xaeb")]=new(o[_0x4b1c("0xca0")])(this),this[_0x4b1c("0x2b3")]=new s.TileService(this),this.options_=c[_0x4b1c("0x47")],this[_0x4b1c("0xa80")]=[];var b=new(n[_0x4b1c("0xc")])(c);THREE[_0x4b1c("0x88f")]=b,this[_0x4b1c("0x873")]=b,this.tileDisabled=!1,this[_0x4b1c("0xace")]=!1,this[_0x4b1c("0xca1")]={},this[_0x4b1c("0x364")]=new(r[_0x4b1c("0xc")])(this),THREE[_0x4b1c("0xca2")]=this[_0x4b1c("0x364")],this[_0x4b1c("0xca3")]={},this[_0x4b1c("0x2a2")]={},this[_0x4b1c("0x674")]=0,this[_0x4b1c("0xca4")]=!1,this[_0x4b1c("0xca5")]={},this[_0x4b1c("0xca6")]={},this[_0x4b1c("0xca7")]=!1,this[_0x4b1c("0x1f1")]=new l.ModelLod(c),this[_0x4b1c("0x3f2")]={},this[_0x4b1c("0xaef")]=new(f[_0x4b1c("0xc")])(this),this[_0x4b1c("0x931")]={},c[_0x4b1c("0x47")][_0x4b1c("0x1f6")]?this[_0x4b1c("0xca7")]=!1:"low"==c[_0x4b1c("0x47")][_0x4b1c("0x3ab")]&&(this[_0x4b1c("0xca7")]=!0),this[_0x4b1c("0xca8")]=null,this._invisibles=[],this[_0x4b1c("0xca9")]("t",parseInt((new Date)[_0x4b1c("0x86")]()/1e3)),this[_0x4b1c("0x578")]={},this[_0x4b1c("0xb04")]=!1}var c;return(0,i[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0xcaa"),value:function(x){return this.misStore[x]||null}},{key:"getState",value:function(x){return m[x]}},{key:"setState",value:function(x,c){m[x]=c}},{key:"addToSingleMeshData",value:function(x,c){var b,_=this,e=(this[_0x4b1c("0x3e")].mapScene,new(THREE[_0x4b1c("0x128")])(1,1.5,1));if(x[_0x4b1c("0xcab")]){var t=x[_0x4b1c("0xcab")][_0x4b1c("0x2c")](",");e=new(THREE[_0x4b1c("0x128")])(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}if(x.RMR){var i=Math.PI/180,a=x[_0x4b1c("0xcac")][_0x4b1c("0x2c")](",");b=new THREE.Euler(parseFloat(a[0])*i,parseFloat(a[1])*i,parseFloat(a[2])*i)}var n=new THREE.Vector3(x.x,x.y,0),r=this[_0x4b1c("0x3e")][_0x4b1c("0x238")]({x:x.CenX,y:x.CenY,z:0});if(x.RMO){var s=x[_0x4b1c("0xcad")][_0x4b1c("0x2c")](",");r.x+=parseFloat(s[0]),r.y+=parseFloat(s[1]),r.z+=parseFloat(s[2]),n.x-=parseFloat(s[0]),n.z+=parseFloat(s[1]),n.y+=parseFloat(s[2])}var o={id:x[_0x4b1c("0x3d8")],name:x.NA,rotation:b,position:r,scale:e,rotate:x[_0x4b1c("0xcae")]};_[_0x4b1c("0xca6")][x.RM]||(_[_0x4b1c("0xca6")][x.RM]={}),_[_0x4b1c("0xca6")][x.RM][c]||(_[_0x4b1c("0xca6")][x.RM][c]=[]),_.singleMesheDatas[x.RM][c][_0x4b1c("0x12")](o)}},{key:"loadBuilding",value:(c=(0,e[_0x4b1c("0xc")])(_[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b,e,t,i,a,n,r,s,o,f,l,g,p,m,y,C,I=this;return _[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x.next){case 0:if(this[_0x4b1c("0xb04")]=!0,b=c.id,e=(0,h[_0x4b1c("0x306")])(),t=this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")],i=d[_0x4b1c("0xc")].getPath(_0x4b1c("0x54"),{buildingId:b,t:this[_0x4b1c("0x7f")]("t")}),a=i[_0x4b1c("0x4e")],n=i[_0x4b1c("0x3f")],!(e.state[_0x4b1c("0xcaf")].size>3)||n){x.next=7;break}return x[_0x4b1c("0x293")]("return");case 7:return x[_0x4b1c("0x286")]=9,this[_0x4b1c("0xaeb")][_0x4b1c("0xcb0")]({url:a,skMode:n,id:b});case 9:if(r=x[_0x4b1c("0x337")],t||(c[_0x4b1c("0xcb1")]=r[_0x4b1c("0xcb2")]-1,c.firstFloorNum&&(c[_0x4b1c("0xcb1")]=c.firstFloorNum-1)),r){x[_0x4b1c("0x286")]=13;break}return x.abrupt(_0x4b1c("0x28a"),!1);case 13:if(this[_0x4b1c("0xaeb")].oa(r)){x[_0x4b1c("0x286")]=16;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"),!1);case 16:if(this[_0x4b1c("0xca9")]("mapName",r.name),this[_0x4b1c("0xca9")](_0x4b1c("0xcb3"),r.nameEn),!c[_0x4b1c("0xa3")]){x[_0x4b1c("0x286")]=21;break}return x[_0x4b1c("0x286")]=21,this[_0x4b1c("0xaef")][_0x4b1c("0xcb4")](b);case 21:if(!t||this[_0x4b1c("0x7f")](v[_0x4b1c("0xbe")])){x[_0x4b1c("0x286")]=23;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 23:return s=c[_0x4b1c("0x72")]||r.styleid||_0x4b1c("0xcb5"),o=void 0,x.prev=25,x[_0x4b1c("0x286")]=28,this.buildingService.queryBuildingTheme({themeID:s,buildingId:b});case 28:o=x[_0x4b1c("0x337")],x[_0x4b1c("0x286")]=36;break;case 31:return x[_0x4b1c("0x285")]=31,x.t0=x[_0x4b1c("0x87c")](25),u.MessagePoster[_0x4b1c("0x31")]({msg:""+x.t0,level:_0x4b1c("0xe3")}),this.map.fire(_0x4b1c("0xcb6"),x.t0),x[_0x4b1c("0x293")]("return",!1);case 36:if(this.map[_0x4b1c("0xe7")](_0x4b1c("0xcb7"),{id:s,data:o,bid:b}),this.pendingBuildingId=b,this[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0xcb8")]({id:s,data:o,buildingId:b}),(f=new(esmap[_0x4b1c("0x635")])(b,c,this[_0x4b1c("0x3e")]))[_0x4b1c("0x78")]=r[_0x4b1c("0xcb9")],f[_0x4b1c("0x1f7")]=r[_0x4b1c("0x1f7")],f[_0x4b1c("0x84")]=r[_0x4b1c("0x84")],f[_0x4b1c("0x12d")]={x:r[_0x4b1c("0xcba")],y:r.DefaultCenY},f[_0x4b1c("0x72")]=s,!t||void 0!==this.getState("ul")){x[_0x4b1c("0x286")]=47;break}return x.abrupt("return");case 47:if(this[_0x4b1c("0xaeb")][_0x4b1c("0xcbb")](r,f),(l=this[_0x4b1c("0xaeb")][_0x4b1c("0xcbc")](r,f))[_0x4b1c("0xcba")]=-l[_0x4b1c("0xcba")],l.x=-l.x,this[_0x4b1c("0x3e")][_0x4b1c("0x1e1")][_0x4b1c("0xa33")][_0x4b1c("0xdd")](f[_0x4b1c("0xf0")]),f.focusFnum_=1,g=f.floorNums,1!=(p=f[_0x4b1c("0x47")].focusFloor)&&g[_0x4b1c("0x114")](p)>-1&&(g[0]=g.splice(p-1,1,g[0])[0]),f[_0x4b1c("0x9cf")]=JSON[_0x4b1c("0x71")]("["+r[_0x4b1c("0xcbd")]+"]"),f.box3_=esmap[_0x4b1c("0x6a2")][_0x4b1c("0xcbe")](r),m=f[_0x4b1c("0x47")].visibleFloors==_0x4b1c("0x68a")?g:f[_0x4b1c("0x47")][_0x4b1c("0xcbf")],t||(2===f[_0x4b1c("0x47")][_0x4b1c("0xcc0")]?m=g.filter((function(x){return x>f[_0x4b1c("0x47")][_0x4b1c("0xcb1")]})):(y=g[_0x4b1c("0x42b")]((function(x,c){return c-x}))[0],m=[y],f.options[_0x4b1c("0xcc1")]=y)),f[_0x4b1c("0xcc2")]=r[_0x4b1c("0xb3b")][_0x4b1c("0x2db")]((function(x){return x[_0x4b1c("0xc0b")]-c[_0x4b1c("0xcb1")]==1}))[0].Elevation,f.visibleFloorNums=m,C=0,!t||void 0!==this.getState("o2")){x.next=65;break}return x[_0x4b1c("0x293")]("return");case 65:if(!t){x[_0x4b1c("0x286")]=70;break}if(!r.other1){x[_0x4b1c("0x286")]=70;break}if(esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](r.ul+"|"+r[v[_0x4b1c("0xc0")]]+"|"+r.o1+"|"+r.o2)==r.other1){x[_0x4b1c("0x286")]=70;break}return x.abrupt(_0x4b1c("0x28a"));case 70:return this[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x7f")]("sk")&&this[_0x4b1c("0x3e")].options.editMode&&(f[_0x4b1c("0xcc3")]={}),A(r),f[_0x4b1c("0xcc4")](C,g,(function(){})),f.on("loadComplete",(function(){I._isBuildingLoading=!1})),x.abrupt(_0x4b1c("0x28a"),f);case 75:case _0x4b1c("0x2a0"):return x.stop()}}),x,this,[[25,31]])}))),function(x){return c[_0x4b1c("0x4")](this,arguments)})},{key:"reset",value:function(){m={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},this[_0x4b1c("0xb26")]=!1,this[_0x4b1c("0xace")]=!1,this[_0x4b1c("0xca1")]={},this.modelLoadingList={},this.modelStore={},this[_0x4b1c("0x674")]=0,this.modelInited=!1,this[_0x4b1c("0xca5")]={},this[_0x4b1c("0xca6")]={},this[_0x4b1c("0xca7")]=!1,this[_0x4b1c("0x3f2")]={},this[_0x4b1c("0x931")]={},this[_0x4b1c("0xa35")]=!1}},{key:_0x4b1c("0x3c"),get:function(){return this[_0x4b1c("0x3e")].id}}]),x}();y[_0x4b1c("0xcc5")]=a[_0x4b1c("0xc")],c[_0x4b1c("0xc")]=y},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=r(b(9)),e=r(b(7)),t=r(b(8)),i=r(b(64)),a=r(b(0)),n=r(b(1));function r(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var s=function(){function x(c){(0,a[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x3e")]=c,this.enabled=!1,this[_0x4b1c("0xcc6")]=!0,this[_0x4b1c("0xcc7")]=(new Date)[_0x4b1c("0x86")](),this[_0x4b1c("0xcc8")]=2592e5,this[_0x4b1c("0x7d2")]=new(i[_0x4b1c("0xc")]),this.inited=!1}var c,b,r,s;return(0,n[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x39"),value:(s=(0,t.default)(e[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){var c,b=this;return e[_0x4b1c("0xc")].wrap((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return x[_0x4b1c("0x286")]=2,this[_0x4b1c("0xcc9")]({db:_0x4b1c("0xcca"),version:2});case 2:if(c=x[_0x4b1c("0x337")]){x[_0x4b1c("0x286")]=6;break}throw this[_0x4b1c("0x545")](),new Error(_0x4b1c("0xccb"));case 6:this.db=c,this[_0x4b1c("0xcc6")]=!1,this[_0x4b1c("0x70b")]=!0,this[_0x4b1c("0xa27")]=!0,this[_0x4b1c("0x3e")][_0x4b1c("0x36b")](_0x4b1c("0xa35"),(function(){setTimeout((function(){b[_0x4b1c("0xccc")](),b[_0x4b1c("0xccd")]()}),3e3)}));case 11:case"end":return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return s[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x164"),value:(r=(0,t[_0x4b1c("0xc")])(e[_0x4b1c("0xc")].mark((function x(c){return e.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:if(this[_0x4b1c("0x3c")]=c,this[_0x4b1c("0x3e")][_0x4b1c("0x47")].useCache){x.next=3;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 3:if(this.inited){x.next=6;break}return x[_0x4b1c("0x286")]=6,this[_0x4b1c("0x39")]();case 6:return x.next=8,this[_0x4b1c("0xcce")]({id:c,updatetime:this.startTime,active:!0});case 8:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return r[_0x4b1c("0x4")](this,arguments)})},{key:"setCacheObject",value:function(x){var c=this.db.transaction(_0x4b1c("0xccf"),_0x4b1c("0xcd0")).objectStore(_0x4b1c("0xccf"))[_0x4b1c("0xcd1")](x);c[_0x4b1c("0xcd2")]=function(){},c[_0x4b1c("0x623")]=function(){_0x4b1c("0xcd3")}}},{key:_0x4b1c("0xcd4"),value:function(x){var c=this.db,b=this[_0x4b1c("0x3c")]+":"+x;return new(_[_0x4b1c("0xc")])((function(x){var _=c[_0x4b1c("0xcd5")](_0x4b1c("0xccf"))[_0x4b1c("0xcd6")](_0x4b1c("0xccf")).get(b);_[_0x4b1c("0xcd2")]=function(){x(_[_0x4b1c("0xcd7")])},_[_0x4b1c("0x623")]=function(){x(null)}}))}},{key:_0x4b1c("0xcd8"),value:function(x){var c=x[_0x4b1c("0x4e")],b=x[_0x4b1c("0xcd9")],e=this[_0x4b1c("0x3c")]+":"+c,t=this.db;return new(_[_0x4b1c("0xc")])((function(x){var c=t[_0x4b1c("0xcd5")]("cacheObjects").objectStore(_0x4b1c("0xccf"))[_0x4b1c("0xde")](e);c[_0x4b1c("0xcd2")]=function(){c.result&&1*c[_0x4b1c("0xcd7")][_0x4b1c("0xcd9")]==1*b?x(!0):x(!1)},c[_0x4b1c("0x623")]=function(){x(!1)}}))}},{key:_0x4b1c("0xccc"),value:function(){var x=window[_0x4b1c("0xcda")][_0x4b1c("0xcdb")]("ESCACHE");x[_0x4b1c("0x623")]=function(){},x[_0x4b1c("0xcd2")]=function(){}}},{key:_0x4b1c("0xcdc"),value:function(x){this[_0x4b1c("0xcdd")](x);for(var c=this.db.transaction("cacheObjects",_0x4b1c("0xcd0"))[_0x4b1c("0xcd6")](_0x4b1c("0xccf"))[_0x4b1c("0x2cd")](_0x4b1c("0xcde")),b=0;b<x[_0x4b1c("0x0")];b++){var _=x[b];c.openCursor(IDBKeyRange[_0x4b1c("0xcdf")]([_]))[_0x4b1c("0xcd2")]=function(x){var c=x.target[_0x4b1c("0xcd7")];c&&(c[_0x4b1c("0xe4")](),c[_0x4b1c("0x686")]())}}}},{key:_0x4b1c("0xccd"),value:(b=(0,t[_0x4b1c("0xc")])(e[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){var c,b,_,t,i,a,n,r,s=this;return e[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:c=this[_0x4b1c("0x3c")],b=this.db,_=this.startTime,t=this.expiresIn,i=b[_0x4b1c("0xcd5")](_0x4b1c("0xce0"),_0x4b1c("0xcd0")),a=i[_0x4b1c("0xcd6")]("cacheMaps"),n=a.openCursor(),r=[],n[_0x4b1c("0xcd2")]=function(x){var b=x[_0x4b1c("0x2c7")].result;if(b){var e=b[_0x4b1c("0x13a")];if(e.id===c||!e[_0x4b1c("0xce1")])return void b[_0x4b1c("0x686")]();var i=e[_0x4b1c("0xcd9")];_-i>t&&r[_0x4b1c("0x12")](e.id),b[_0x4b1c("0x686")]()}else s[_0x4b1c("0xcdc")](r)};case 9:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return b.apply(this,arguments)})},{key:_0x4b1c("0x545"),value:function(){if(window[_0x4b1c("0xcda")]){var x=window[_0x4b1c("0xcda")][_0x4b1c("0xcdb")](_0x4b1c("0xcca"));x[_0x4b1c("0x623")]=function(){console[_0x4b1c("0xe3")](_0x4b1c("0xce2"))},x.onsuccess=function(){};var c=window[_0x4b1c("0xcda")][_0x4b1c("0xcdb")](_0x4b1c("0xce3"));c.onerror=function(){console[_0x4b1c("0xe3")](_0x4b1c("0xce4"))},c.onsuccess=function(){}}}},{key:"reInit",value:(c=(0,t[_0x4b1c("0xc")])(e[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){return e[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:if(window[_0x4b1c("0xcda")]&&this.db){x[_0x4b1c("0x286")]=2;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 2:return this.db.close(),x[_0x4b1c("0x286")]=5,this.init();case 5:case"end":return x.stop()}}),x,this)}))),function(){return c.apply(this,arguments)})},{key:_0x4b1c("0xce5"),value:function(x){if(this.enabled){var c=this.db,b=this[_0x4b1c("0x3c")],e=b+":"+x.id,t=x[_0x4b1c("0xcd9")];new _.default((function(_){c[_0x4b1c("0xcd5")](_0x4b1c("0xccf"),_0x4b1c("0xcd0"))[_0x4b1c("0xcd6")]("cacheObjects")[_0x4b1c("0xcd1")]({mapid:b,id:e,data:x[_0x4b1c("0x569")],updatetime:t})[_0x4b1c("0xcd2")]=function(){_()}}))}}},{key:"inActiveCacheMaps",value:function(x){this.db[_0x4b1c("0xcd5")](_0x4b1c("0xce0"),_0x4b1c("0xcd0"))[_0x4b1c("0xcd6")](_0x4b1c("0xce0")).openCursor()[_0x4b1c("0xcd2")]=function(c){var b=c[_0x4b1c("0x2c7")].result;if(b){var _=b[_0x4b1c("0x13a")];-1!==x.indexOf(_.id)&&(_.active=!1,b[_0x4b1c("0x164")](_)),b[_0x4b1c("0x686")]()}}}},{key:_0x4b1c("0xcce"),value:function(x){var c=this.db;return new(_[_0x4b1c("0xc")])((function(b){var _=c[_0x4b1c("0xcd5")](_0x4b1c("0xce0"),"readwrite")[_0x4b1c("0xcd6")](_0x4b1c("0xce0"))[_0x4b1c("0xcd1")](x);_.onsuccess=function(){b()},_[_0x4b1c("0x623")]=function(){b()}}))}},{key:_0x4b1c("0xcc9"),value:function(x){return new _.default((function(c){if(window[_0x4b1c("0xcda")]){var b=window[_0x4b1c("0xcda")][_0x4b1c("0x2dd")](x.db,x.version);b[_0x4b1c("0xce6")]=function(x){var c=x[_0x4b1c("0x2c7")].result;c[_0x4b1c("0xce7")][_0x4b1c("0x4e6")](_0x4b1c("0xccf"))&&c[_0x4b1c("0xce8")](_0x4b1c("0xccf")),c[_0x4b1c("0xce7")][_0x4b1c("0x4e6")](_0x4b1c("0xce0"))&&c[_0x4b1c("0xce8")](_0x4b1c("0xce0")),c.createObjectStore(_0x4b1c("0xccf"),{keyPath:"id"})[_0x4b1c("0x685")](_0x4b1c("0xcde"),[_0x4b1c("0xce9")],{unique:!1}),c.createObjectStore(_0x4b1c("0xce0"),{keyPath:"id"})},b[_0x4b1c("0xcd2")]=function(){var x=b[_0x4b1c("0xcd7")];c(x)},b[_0x4b1c("0x623")]=function(x){b[_0x4b1c("0xcea")];_0x4b1c("0xceb"),c(!1)}}else c(!1)}))}}]),x}();c[_0x4b1c("0xc")]=s},,,,,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=i(b(0)),e=i(b(1)),t=b(309);function i(x){return x&&x.__esModule?x:{default:x}}var a=function(){function x(c){(0,_.default)(this,x),this[_0x4b1c("0x55c")]={},this.roomTexturePool={},this[_0x4b1c("0x7e")]=c,this.main={},this[_0x4b1c("0xcec")]={},this[_0x4b1c("0xced")]=[];var b=new(THREE[_0x4b1c("0x186")]);b[_0x4b1c("0x7bb")]="anonymous",this.textureLoader=b;var e=new Image,i=(new XMLSerializer)[_0x4b1c("0xcee")]((new DOMParser).parseFromString(this[_0x4b1c("0x7e")][_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3b3")]?t.svg404:'<svg width="2" height="2" xmlns="6"> <rect width="2" height="2" fill="none" /></svg>',"text/xml")),a=btoa(i);e.src=_0x4b1c("0xcef")+a,this[_0x4b1c("0xcf0")]=e,this[_0x4b1c("0xcf1")]={}}return(0,e.default)(x,[{key:_0x4b1c("0xcf2"),value:function(x,c,b){var _=this;_[_0x4b1c("0xced")][_0x4b1c("0x114")](x)<0&&!_[_0x4b1c("0xcf1")][x]&&(_[_0x4b1c("0xced")][_0x4b1c("0x12")](x),_[c]||(_[c]={}),this.textureLoader.load(x,(function(x){x[_0x4b1c("0x189")]=_.mapService.map.mapView[_0x4b1c("0x360")].capabilities[_0x4b1c("0x362")](),_[c][b]=x}),null,(function(){_[_0x4b1c("0xcf1")][x]=!0,_[c][b]=null})))}},{key:_0x4b1c("0x365"),value:function(x,c){var b=this;if(this[_0x4b1c("0xcec")][x])c(this[_0x4b1c("0xcec")][x]);else if(b[_0x4b1c("0xcf1")][x])c(b.img404);else{var _=new Image;_[_0x4b1c("0x7bb")]=_0x4b1c("0x7b3"),_[_0x4b1c("0x4d7")]=x,_[_0x4b1c("0x7b0")]=function(){b[_0x4b1c("0xcec")][x]=this,c(this)},_[_0x4b1c("0x623")]=function(){b[_0x4b1c("0xcf1")][x]=!0,c(b[_0x4b1c("0xcf0")])}}}},{key:_0x4b1c("0xcf3"),value:function(x){var c=this;return this[_0x4b1c("0xcf4")][x]?this[_0x4b1c("0xcf4")][x][_0x4b1c("0x13e")]():c[_0x4b1c("0xcf1")][x]?void 0:this.textureLoader[_0x4b1c("0x187")](x,(function(b){b[_0x4b1c("0x189")]=c[_0x4b1c("0x7e")][_0x4b1c("0xcf5")].mapView[_0x4b1c("0x360")].capabilities.getMaxAnisotropy(),c[_0x4b1c("0xcf4")][x]=b[_0x4b1c("0x13e")]()}),null,(function(){c[_0x4b1c("0xcf4")][x]=null,c[_0x4b1c("0xcf1")][x]=!0}))}},{key:"loadTexture",value:function(x,c,b,_){var e=this;if(this.main[x]){var t=this[_0x4b1c("0xcf4")][x][_0x4b1c("0x13e")]();return c&&setTimeout((function(){c(t)}),0),t}return e[_0x4b1c("0xcf1")][x]?new(THREE[_0x4b1c("0x35e")]):this[_0x4b1c("0x877")].load(x,(function(b){e[_0x4b1c("0xcf4")][x]=b[_0x4b1c("0x13e")](),c&&c(b)}),b,(function(){e[_0x4b1c("0xcf1")][x]=!0,_&&_()}))}}]),x}();c[_0x4b1c("0xc")]=a},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});c[_0x4b1c("0xcf6")]=_0x4b1c("0xcf7")},function(x,c,b){"use strict";(function(x){Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0xcf8")]=void 0;var _=k(b(22)),e=k(b(14)),t=k(b(7)),i=k(b(8)),a=k(b(9)),n=k(b(15)),r=k(b(0)),s=k(b(1)),o=b(34),f=b(42),l=b(43),d=b(19),u=k(b(110)),h=k(b(153)),g=b(76),v=k(b(26)),p=k(b(112)),m=b(109),A=b(65),y=b(23),C=b(66),I=k(b(35)),E=b(154),w=b(80),T=b(27);function k(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var S="WGS84",M={1:_0x4b1c("0x6a5"),2:_0x4b1c("0x383"),3:_0x4b1c("0xb10")},R=null,L=1,H=null,D=b(319),O=b(155),P=null,N=!1,F=null,B=null,z=!1,U=function(){var x=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];x[T[_0x4b1c("0xb4")]](),window[T._stot_]((function(){return x[T[_0x4b1c("0xb3")]]()}),0)},V=function(){if(!z){var x=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],c=F,b=x[_0x4b1c("0x47")][T[_0x4b1c("0xc2")]],_=x[_0x4b1c("0x47")][T[_0x4b1c("0xc1")]],e=c[_0x4b1c("0x59c")],t=(new(window[T[_0x4b1c("0xb8")]]))[T[_0x4b1c("0xb7")]](),i=document[T[_0x4b1c("0x92")]],a=null,n=x.options[_0x4b1c("0x99")];3!=c[_0x4b1c("0x99")]&&3==n&&U();var r=!1,s=c[T[_0x4b1c("0xc1")]],o=esmap[_0x4b1c("0x87")][T[_0x4b1c("0xb5")]](s)===_0x4b1c("0xcf9"),f=C[_0x4b1c("0xc9f")][_0x4b1c("0x114")](esmap[_0x4b1c("0x87")][T[_0x4b1c("0xb5")]](window[T[_0x4b1c("0xb9")]][_0x4b1c("0x7c")]))>-1;if(t-c[_0x4b1c("0x59c")]*(1*T[_0x4b1c("0xb6")][2])>0&&!f)U();else if(esmap[_0x4b1c("0x87")][T[_0x4b1c("0xb5")]](c[_0x4b1c("0x5a3")]+""+c.minY+c[_0x4b1c("0x5a7")]+c.maxY+c[T._tk_]+c[T[_0x4b1c("0xc2")]]+ +c[_0x4b1c("0x5bc")]+c[_0x4b1c("0x5aa")]+_0x4b1c("0xb20")+c.o1+c.ul)===c[T._hs_]){if(x.options.s&&x[_0x4b1c("0x47")].k&&(r=!0),x[T._ztl_].sprite_[_0x4b1c("0x165")][_0x4b1c("0x191")]=!1,!r||!x[_0x4b1c("0xb22")]){!0;var d=i,u=(0,l[_0x4b1c("0x4b")])(c[T._rm_],T[_0x4b1c("0xb2")],""),h=esmap[_0x4b1c("0x87")][T[_0x4b1c("0xb5")]](d),g=C[_0x4b1c("0xc9f")][_0x4b1c("0x114")](h)>-1;if(g,!u)return void U();if(o||g)a="lc";else{var v=!1,p=u[_0x4b1c("0x2c")](","),m=!1;if(a={},p[_0x4b1c("0x1c")]((function(x){var c=e,b=x;if(x[_0x4b1c("0x63")]("|")){var _=x[_0x4b1c("0x2c")]("|");b=_[0];var i=isNaN(1*_[1])?c:1*_[1];c=Math[_0x4b1c("0x2f6")](c,i)}if(!(b[_0x4b1c("0x0")]<3)&&(a[b]=c*(1*T._dtns_[2]),d.indexOf(b)>-1)){if(v=!0,t-c*(1*T[_0x4b1c("0xb6")][2])>0)return void U();m=!0}})),(0,l[_0x4b1c("0x10c")])(x.id)&&(m=!0),!v)return void U();if(!m)return void U()}var A=[c[T[_0x4b1c("0xc2")]],c[T[_0x4b1c("0xc1")]]],y=[b,_];(0,w[_0x4b1c("0x306")])();if(x[T[_0x4b1c("0xbd")]][_0x4b1c("0x526")].userData[_0x4b1c("0x191")]=!1,(0,l[_0x4b1c("0x10d")])(x.id))x[T[_0x4b1c("0xbd")]][_0x4b1c("0x526")][_0x4b1c("0x165")][_0x4b1c("0x191")]=!1;else if(A[0]&&y[0]){esmap.ESMapUtil[T[_0x4b1c("0xb5")]](T[_0x4b1c("0xb1")]+c[_0x4b1c("0x5ad")]+y[0])==A[0]?x[T[_0x4b1c("0xbd")]][_0x4b1c("0x526")][_0x4b1c("0x165")].visible=!1:x[T._ztl_][_0x4b1c("0x526")][_0x4b1c("0x165")].visible=!0}if(!o){if(!y[1]&&1!=n)return void U();if(esmap[_0x4b1c("0x87")][T[_0x4b1c("0xb5")]](c[_0x4b1c("0x3d8")]+""+y[1])!=A[1]&&3==n)return void U()}}z=!0}else U()}},j=function(){function c(x){var b=this;(0,r[_0x4b1c("0xc")])(this,c),this.service=x,this[_0x4b1c("0x3e")]=x[_0x4b1c("0x3e")],this[_0x4b1c("0xb2d")]=[],this[_0x4b1c("0xcfa")]=[],this[_0x4b1c("0xcfb")]=[],this[_0x4b1c("0xb00")]={},this[_0x4b1c("0xb25")]=[],this[_0x4b1c("0x3c2")]=[],this[_0x4b1c("0xc33")]=null,this.cachedTiles=[],this[_0x4b1c("0xa30")]={},this[_0x4b1c("0xcfc")]=[],this[_0x4b1c("0xcfd")]={},this.navData={},this[_0x4b1c("0xcfe")]={1:12,2:16,3:18},this.counters={buildings:0,models:0},this.buildingColorStaged=[],this.tileBaseFrozen=!1,this.tileInited=!1,this[_0x4b1c("0xcff")]=null,this[_0x4b1c("0xd00")]=null,this.userTiles=[],this[_0x4b1c("0xd01")]={},this[_0x4b1c("0xd02")]=!1,this[_0x4b1c("0xa3a")]={},this.failedTiles={},this[_0x4b1c("0xa3c")]=[],this[_0x4b1c("0xa9e")]={},this[_0x4b1c("0xd03")]=[],this[_0x4b1c("0xd04")]="",this[_0x4b1c("0xd05")]=0,this._mo=0,this[_0x4b1c("0x534")]=0,this.getTileBound=f.getTileBound,this[_0x4b1c("0xd06")]=0,this[_0x4b1c("0xd07")]=null,this[_0x4b1c("0x386")]=null,this[_0x4b1c("0xd08")]=0,this[_0x4b1c("0xd09")]=null,this._isrd=!1,this._sccd=V,(0,E.InjectProto)(O[_0x4b1c("0x59b")],["bXRpbWU=",_0x4b1c("0xc9"),_0x4b1c("0xd0a"),_0x4b1c("0xd0b"),"dWw=",_0x4b1c("0xc4"),_0x4b1c("0xc3"),_0x4b1c("0xd0c")]),this.map.on("buildingReady",(function(x){switch(b[_0x4b1c("0x3e")].options[_0x4b1c("0xd0d")]){case esmap[_0x4b1c("0xc58")][_0x4b1c("0xd0e")]:b[_0x4b1c("0xd0f")](x[_0x4b1c("0x12d")],!0);break;case esmap[_0x4b1c("0xc58")][_0x4b1c("0xd10")]:x[_0x4b1c("0xd11")]()}if(b[_0x4b1c("0x3e")][_0x4b1c("0x68b")][_0x4b1c("0x0")]>=b.map[_0x4b1c("0x47")][_0x4b1c("0xd12")]&&!b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xafe")])if(b[_0x4b1c("0x3e")][_0x4b1c("0x9e5")].length>0){var c=!0,_=!1,e=void 0;try{for(var t,i=(0,n[_0x4b1c("0xc")])(b[_0x4b1c("0x3e")][_0x4b1c("0x9e5")]);!(c=(t=i.next()).done);c=!0){var a=t[_0x4b1c("0x13a")],r=!0,s=!1,o=void 0;try{for(var f,l=(0,n[_0x4b1c("0xc")])(b[_0x4b1c("0x3e")][_0x4b1c("0x68b")]);!(r=(f=l[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);r=!0){var d=f[_0x4b1c("0x13a")];a[_0x4b1c("0x318")]!==d.id?b.map.closeBuildingById(d.id):console[_0x4b1c("0x291")](_0x4b1c("0xd13")+d.id,_0x4b1c("0xd14"))}}catch(x){s=!0,o=x}finally{try{!r&&l[_0x4b1c("0x28a")]&&l.return()}finally{if(s)throw o}}}}catch(x){_=!0,e=x}finally{try{!c&&i[_0x4b1c("0x28a")]&&i[_0x4b1c("0x28a")]()}finally{if(_)throw e}}}else{var u=b.map[_0x4b1c("0x68b")][0];b[_0x4b1c("0x3e")][_0x4b1c("0xaf6")](u.id)}})),this.map.on(_0x4b1c("0xafa"),(function(x){var c=x.bid;switch(b.map[_0x4b1c("0x47")][_0x4b1c("0xd0d")]){case esmap[_0x4b1c("0xc58")][_0x4b1c("0xd0e")]:b[_0x4b1c("0xd0f")](b[_0x4b1c("0x3e")][_0x4b1c("0x12d")],!1);break;case esmap[_0x4b1c("0xc58")].SINGLE:b.map[_0x4b1c("0x566")](c)[_0x4b1c("0xd15")]()}}))}var b;return(0,s.default)(c,[{key:_0x4b1c("0xd16"),value:function(){var x=!(arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0])||arguments[0],c=this.map,b={color:_0x4b1c("0x278"),lineWidth:120,alpha:1,offsetHeight:50,pickable:!1,smooth:!1,fixedWidth:!1,lineType:esmap[_0x4b1c("0xa4d")][_0x4b1c("0xa4e")],noAnimate:!1};if(x)for(var _ in c[_0x4b1c("0x672")]){var e=c[_0x4b1c("0x672")][_],t=e.id[_0x4b1c("0x2c")]("_"),i=(0,f[_0x4b1c("0x1b3")])(1*t[0],1*t[1],c[_0x4b1c("0x47")][_0x4b1c("0x1b4")],!0),a=[{x:i.minx,y:i[_0x4b1c("0xfc")]},{x:i[_0x4b1c("0xfb")],y:i[_0x4b1c("0xf8")]},{x:i.maxx,y:i[_0x4b1c("0xf8")]},{x:i[_0x4b1c("0xf7")],y:i.miny},{x:i.minx,y:i.miny}],n=new(esmap[_0x4b1c("0x637")])({id:e.id+_0x4b1c("0xd17"),bid:0,points:a,style:b});c[_0x4b1c("0xa41")](n)}else for(var r in c[_0x4b1c("0x672")]){var s=c[_0x4b1c("0x672")][r].id+"-BOUNDS";c[_0x4b1c("0xa3e")](s)}}},{key:_0x4b1c("0xd0f"),value:function(x,c){var b=this;this[_0x4b1c("0x3e")][_0x4b1c("0xa02")]++;var _=[],e=(0,A[_0x4b1c("0xd18")])({coord:x}),t=[esmap[_0x4b1c("0x3cd")][_0x4b1c("0x3d2")],esmap.ESLayerType[_0x4b1c("0x3ce")]];e[_0x4b1c("0x1c")]((function(x){var c=b.map[_0x4b1c("0x218")](x);c&&c[_0x4b1c("0x3f6")][_0x4b1c("0xa72")][_0x4b1c("0x1c")]((function(x){t[_0x4b1c("0x63")](x._type_)||_[_0x4b1c("0x12")](x)}))}));if(c){_[_0x4b1c("0x1c")]((function(x){x.hasOwnProperty("planishValue")||(x.planishValue=0),x[_0x4b1c("0xd19")]+=1})),_=_.filter((function(x){return!x[_0x4b1c("0xd1a")]})),new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])({value:1}).to({value:.25},1e3)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ae")]).onUpdate((function(x){_.forEach((function(c){c[_0x4b1c("0xd1a")]||(c.plannished=!0),c[_0x4b1c("0xf0")][_0x4b1c("0x201")].y=x[_0x4b1c("0x13a")]}))}))[_0x4b1c("0x1ac")]((function(){b[_0x4b1c("0x3e")][_0x4b1c("0xa02")]--}))[_0x4b1c("0x1af")]()}else{_[_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x1")](_0x4b1c("0xd19"))&&(x[_0x4b1c("0xd19")]-=1)})),_=_.filter((function(x){return x[_0x4b1c("0xd1a")]&&0===x[_0x4b1c("0xd19")]})),new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])({value:.25}).to({value:1},1e3)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")].Easing[_0x4b1c("0x1aa")].Out)[_0x4b1c("0x174")]((function(x){_[_0x4b1c("0x1c")]((function(c){c[_0x4b1c("0xd1a")]&&(c[_0x4b1c("0xd1a")]=!1),c[_0x4b1c("0xf0")][_0x4b1c("0x201")].y=x.value}))}))[_0x4b1c("0x1ac")]((function(){b[_0x4b1c("0x3e")][_0x4b1c("0xa02")]--}))[_0x4b1c("0x1af")]()}}},{key:_0x4b1c("0xd1b"),value:function(x){M=x}},{key:_0x4b1c("0xb1d"),value:function(x){return x===_0x4b1c("0xb1e")?O[_0x4b1c("0x59b")]:null}},{key:_0x4b1c("0x37a"),value:function(x){return(0,m[_0x4b1c("0x37a")])(x)}},{key:_0x4b1c("0x39"),value:function(){this[_0x4b1c("0xb50")]=(Math.floor(Math[_0x4b1c("0x120")](this[_0x4b1c("0x47")][_0x4b1c("0xb2a")]))-1)/2}},{key:_0x4b1c("0xd1c"),value:function(x){for(var c=0;c<this[_0x4b1c("0xa85")][_0x4b1c("0x0")];c++){var b=this.buildingColorStaged[c];if(x[b[_0x4b1c("0x678")]]==b[_0x4b1c("0x13a")])return b.data}return!1}},{key:_0x4b1c("0xa3b"),value:function(){if(this[_0x4b1c("0xa3c")][_0x4b1c("0x0")]>0)for(var x=0;x<this.toLoadedBuildings[_0x4b1c("0x0")];x++){var c=this[_0x4b1c("0xa3c")][x];this[_0x4b1c("0xa9e")][c]&&(this[_0x4b1c("0xa05")](this[_0x4b1c("0xa9e")][c]),this[_0x4b1c("0xa3c")].splice(x,1))}}},{key:_0x4b1c("0xbef"),value:function(x,c){var b=Math.max(x[_0x4b1c("0xfb")],c[_0x4b1c("0xfb")]),_=Math.max(x[_0x4b1c("0xfc")],c[_0x4b1c("0xfc")]),e=Math.min(x[_0x4b1c("0xf7")],c[_0x4b1c("0xf7")]),t=Math[_0x4b1c("0x2f6")](x[_0x4b1c("0xf8")],c[_0x4b1c("0xf8")]),i=!(b>e||_>t);return i}},{key:_0x4b1c("0xd1d"),value:function(x){var c=(new(h[_0x4b1c("0xc")].GData))[_0x4b1c("0x71")](x);return{points:c[_0x4b1c("0x589")],holes:c[_0x4b1c("0x58a")]}}},{key:"addBuildingColorStaged",value:function(x){for(var c in this[_0x4b1c("0xa85")]){var b=this.buildingColorStaged[c];if(b[_0x4b1c("0x13a")]==x[_0x4b1c("0x13a")]&&b[_0x4b1c("0x678")]==x[_0x4b1c("0x678")])return void(b[_0x4b1c("0x569")]=x[_0x4b1c("0x569")])}this[_0x4b1c("0xa85")][_0x4b1c("0x12")](x)}},{key:_0x4b1c("0xb21"),value:function(x){L=x}},{key:_0x4b1c("0xb24"),value:function(){return L}},{key:_0x4b1c("0xacf"),value:function(x){if(64==this[_0x4b1c("0xaee")][_0x4b1c("0x0")]){var c=this[_0x4b1c("0xaee")][_0x4b1c("0x3")]();for(var b in this.map[_0x4b1c("0x232")][_0x4b1c("0x3ed")][c.id]=[],this[_0x4b1c("0xa9e")])this.targetAndBuildingList[b]&&this[_0x4b1c("0xa9e")][b][_0x4b1c("0x12b")]==c.id&&(this.targetAndBuildingList[b]=null);c[_0x4b1c("0x559")].modelManagerStarted[c.id]=!1,c=null}this.cachedTiles.push(x)}},{key:_0x4b1c("0xb54"),value:function(){this[_0x4b1c("0x3c2")]=this[_0x4b1c("0x3c2")][_0x4b1c("0x377")](this[_0x4b1c("0xb53")]),this.currentView=this[_0x4b1c("0xb25")][_0x4b1c("0x377")](this[_0x4b1c("0xb53")]),this.map[_0x4b1c("0x321")](),this[_0x4b1c("0xb53")]=[]}},{key:"queryLic",value:function(x){var c=this.map.id,b=this[_0x4b1c("0x3e")].s,_=this[_0x4b1c("0x3e")][_0x4b1c("0x99")];return new(a[_0x4b1c("0xc")])((function(e,t){esmap[_0x4b1c("0x5f6")][_0x4b1c("0xde")]({url:x,isArrayBuffer:!0})[_0x4b1c("0x481")]((function(x){var c=new Uint8Array(x);e(c)}))[_0x4b1c("0xe3")]((function(){1===b&&1===_?g[_0x4b1c("0x1c1")][_0x4b1c("0x1c2")]({code:2012,param:[c,3]}):g[_0x4b1c("0x1c1")].throw({code:2006,param:[c,3]}),t(!1)}))}))}},{key:"_n",value:function(){}},{key:"_k",value:function(){}},{key:"_l",value:function(){}},{key:"oa",value:(b=(0,i[_0x4b1c("0xc")])(t.default[_0x4b1c("0x283")]((function c(){var b,_,e,i,a,n,r,s,o,f,d,u,h,p,m,A,I,E,k,R,L,D,B,z,U,V,j,Z,Y,W,G,X,Q,J,K,q,$,xx,cx,bx,_x,ex;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(c){for(;;)switch(c[_0x4b1c("0x285")]=c.next){case 0:return _=(b=this).map[_0x4b1c("0x47")],e=b[_0x4b1c("0x3e")].id,i=_[T[_0x4b1c("0xc2")]],a=_[T[_0x4b1c("0xc1")]],n=_[_0x4b1c("0x99")],r=3==_[_0x4b1c("0x99")],s=v[_0x4b1c("0xc")][_0x4b1c("0x680")](_0x4b1c("0xd1e")),o=s.url,f=s.timestamp,d=null,u=null,c[_0x4b1c("0x285")]=10,c[_0x4b1c("0x286")]=13,this.queryLic(o,f);case 13:h=c[_0x4b1c("0x337")],r||(0,l[_0x4b1c("0x10a")])(e+""+n+f,h),d=O.ESCityLicSet.decode(h),F=d,c[_0x4b1c("0x286")]=24;break;case 19:return c.prev=19,c.t0=c[_0x4b1c("0x87c")](10),y.MessagePoster[_0x4b1c("0x31")]({msg:esmap.ESInfo[_0x4b1c("0xd1f")]+": "+o,level:_0x4b1c("0xe3")}),y[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:""+c.t0[_0x4b1c("0x2f")](),level:_0x4b1c("0xe3")}),c[_0x4b1c("0x293")]("return");case 24:if(p=d[_0x4b1c("0x59c")],m=(new Date)[_0x4b1c("0x86")](),A=document[T[_0x4b1c("0x92")]],I=!1,E=!1,k=parseInt(d.v%10),R=M[k],null!=_[_0x4b1c("0x9cc")]&&(k=_[_0x4b1c("0x9cc")],R=M[k]),L=_0x4b1c("0xd20")+e+_0x4b1c("0xd21")+k,d.ltime&&(D=esmap[_0x4b1c("0x87")][_0x4b1c("0x6ba")](1e3*d[_0x4b1c("0x59d")]),L+=_0x4b1c("0xd22")+D),L+=b[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0xd23")](),y.MessagePoster[_0x4b1c("0x31")]({msg:[L,_0x4b1c("0xd24")],level:_0x4b1c("0xbba")}),3==d[_0x4b1c("0x99")]||3!=n){c[_0x4b1c("0x286")]=40;break}return console[_0x4b1c("0x424")](esmap.ESInfo[_0x4b1c("0xd25")]),y.MessagePoster[_0x4b1c("0x31")]({msg:esmap[_0x4b1c("0x288")][_0x4b1c("0xd25")],level:_0x4b1c("0xe3")}),c[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 40:if(P=d[T._tk_],b[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("mapName",d[_0x4b1c("0x1f7")]),b[_0x4b1c("0x3bc")].setState(_0x4b1c("0xcb3"),d[_0x4b1c("0x1f7")]),b[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("l0",d.o2||0),b[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("l1",d.l1||0),b[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("l2",d.l2||0),b[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("l3",d.l3||0),b[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("l4",d.l4||0),d[_0x4b1c("0x5a2")]&&(b[_0x4b1c("0x386")]={directionAngle:d[_0x4b1c("0x5a0")],pitchAngle:d[_0x4b1c("0x5a1")],radius:d[_0x4b1c("0x5a2")],time:0,x:d.x,y:d.y,z:0},b.map[_0x4b1c("0x47")][_0x4b1c("0x12d")]&&(b[_0x4b1c("0x386")].x=b[_0x4b1c("0x3e")].options[_0x4b1c("0x12d")].x,b[_0x4b1c("0x386")].y=b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x12d")].y)),(b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x386")]||!1===b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x386")])&&(b.defaultView=b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x386")]),B=!1,z=d[T[_0x4b1c("0xc1")]],H=d[_0x4b1c("0x5ad")],U=esmap[_0x4b1c("0x87")].encode64(z)===_0x4b1c("0xcf9"),this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")](T._et_,1e6*d[_0x4b1c("0x59c")]),V=C.WDL[_0x4b1c("0x114")](esmap.ESMapUtil[_0x4b1c("0x88")](window[T._lct_][_0x4b1c("0x7c")]))>-1,x[_0x4b1c("0xd26")]==_0x4b1c("0xd27")&&(V=!0),!(m-1e6*d[_0x4b1c("0x59c")]>0)){c[_0x4b1c("0x286")]=61;break}if(V){c[_0x4b1c("0x286")]=61;break}return g[_0x4b1c("0x1c1")].throw({code:2010,param:[e,A,3]}),c[_0x4b1c("0x293")]("return");case 61:if(esmap.ESMapUtil[_0x4b1c("0x88")](d[_0x4b1c("0x5a3")]+""+d[_0x4b1c("0x5a6")]+d[_0x4b1c("0x5a7")]+d[_0x4b1c("0x5ba")]+d[T[_0x4b1c("0xc1")]]+d[T[_0x4b1c("0xc2")]]+ +d[_0x4b1c("0x5bc")]+d.modnums+_0x4b1c("0xb20")+d.o1+d.ul)===d[T[_0x4b1c("0xd6")]]){c.next=65;break}return y.MessagePoster[_0x4b1c("0x31")]({msg:_0x4b1c("0xd28"),level:_0x4b1c("0xe3")}),c[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 65:if(this[_0x4b1c("0xd05")]=d.o1,this[_0x4b1c("0xd29")]=d[_0x4b1c("0x5aa")],this[_0x4b1c("0x534")]=d.ul,b[_0x4b1c("0x3e")][_0x4b1c("0x47")].s&&b.map.options.k&&(b[_0x4b1c("0x3e")][_0x4b1c("0x1")]("_em")||Object[_0x4b1c("0x7")](b[_0x4b1c("0x3e")],"_em",{value:!0,writable:!1,enumerable:!1,configurable:!0}),B=!0,this._mo=1e4,this.service.setState("sk",!0)),(0,l[_0x4b1c("0xd2a")])()&&(this._mo=(0,l.decode)((0,l[_0x4b1c("0x4b")])((0,l[_0x4b1c("0x4b")])((0,l[_0x4b1c("0x10e")])())))),b[_0x4b1c("0x3e")].coordSystem=R,b.map[T[_0x4b1c("0xbd")]][_0x4b1c("0x526")][_0x4b1c("0x165")][_0x4b1c("0x191")]=!1,B&&b[_0x4b1c("0x3e")][_0x4b1c("0xb22")]){c[_0x4b1c("0x286")]=115;break}if(E=!0,j=A,Z=(0,l.decode)(d[T._rm_],"ESRemark",""),Y=esmap.ESMapUtil[_0x4b1c("0x88")](j),W=C[_0x4b1c("0xc9f")][_0x4b1c("0x114")](Y)>-1,U||W||(this[_0x4b1c("0xd2b")]={expireTime:p,dom:j},this[_0x4b1c("0xd2b")][T._rms_]=Z),I=W,Z){c[_0x4b1c("0x286")]=83;break}return c.abrupt(_0x4b1c("0x28a"));case 83:if(U||W){c[_0x4b1c("0x286")]=97;break}if(G=!1,X=Z[_0x4b1c("0x2c")](","),Q=!1,u={},X[_0x4b1c("0x1c")]((function(x){var c=p,b=x;if(x[_0x4b1c("0x63")]("|")){var _=x[_0x4b1c("0x2c")]("|");b=_[0];var t=isNaN(1*_[1])?c:1*_[1];c=Math[_0x4b1c("0x2f6")](c,t)}if(!(b[_0x4b1c("0x0")]<3)&&(u[b]=1e6*c,j[_0x4b1c("0x114")](b)>-1)){if(G=!0,(new Date)[_0x4b1c("0x86")]()-1e6*c>0)return void g[_0x4b1c("0x1c1")][_0x4b1c("0x1c2")]({code:2010,param:[e,j,3]});Q=!0}})),(0,l._isemvht)(b[_0x4b1c("0x3e")].id)&&(Q=!0),G){c[_0x4b1c("0x286")]=93;break}return g[_0x4b1c("0x1c1")][_0x4b1c("0x1c2")]({code:2002,param:[e,j,3]}),c[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 93:if(Q){c.next=95;break}return c[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 95:c.next=98;break;case 97:u="lc";case 98:if(J=[d[T[_0x4b1c("0xc2")]],d[T._tk_]],K=[i,a],q=(0,w[_0x4b1c("0x306")])(),b.map[T[_0x4b1c("0xbd")]][_0x4b1c("0x526")][_0x4b1c("0x165")].visible=!1,(0,l[_0x4b1c("0x10d")])(b[_0x4b1c("0x3e")].id)?b[_0x4b1c("0x3e")][T[_0x4b1c("0xbd")]][_0x4b1c("0x526")].userData[_0x4b1c("0x191")]=!1:J[0]&&K[0]&&(esmap.ESMapUtil[_0x4b1c("0x88")](_0x4b1c("0xb1f")+d[_0x4b1c("0x5ad")]+K[0])==J[0]?(b[_0x4b1c("0x3e")][T[_0x4b1c("0xbd")]][_0x4b1c("0x526")].userData.visible=!1,q[_0x4b1c("0x71e")].sl=!1):b[_0x4b1c("0x3e")][T._ztl_][_0x4b1c("0x526")].userData[_0x4b1c("0x191")]=!0),U){c[_0x4b1c("0x286")]=113;break}if(K[1]||1==n){c.next=108;break}return g[_0x4b1c("0x1c1")][_0x4b1c("0x1c2")]({code:2003,param:[e,3]}),y.MessagePoster[_0x4b1c("0x31")]({msg:esmap[_0x4b1c("0x288")][_0x4b1c("0xd2c")],level:_0x4b1c("0xe3")}),c[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 108:if(esmap.ESMapUtil[_0x4b1c("0x88")](d._id+""+K[1])==J[1]||3!=n){c.next=113;break}return g[_0x4b1c("0x1c1")][_0x4b1c("0x1c2")]({code:2004,param:[e,3]}),y[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:esmap[_0x4b1c("0x288")][_0x4b1c("0xd2d")],level:"error"}),c[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 113:c[_0x4b1c("0x286")]=116;break;case 115:u="em";case 116:if(U&&(N=!0),$=(0,l[_0x4b1c("0x4b")])(d[_0x4b1c("0x5a9")],"ESTileurl",""),(xx=$[_0x4b1c("0x2c")](";"))[_0x4b1c("0x0")]>1?b[_0x4b1c("0x5a9")]=xx:b[_0x4b1c("0x5a9")]="",Object[_0x4b1c("0x7")](b[_0x4b1c("0x3e")],_0x4b1c("0xd2e"),{value:xx[1],writable:!1,enumerable:!1,configurable:!0}),cx=esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](d[_0x4b1c("0x12b")]+d[_0x4b1c("0x89")]),Object.defineProperty(b[_0x4b1c("0x3e")],_0x4b1c("0xab"),{value:cx,writable:!1,enumerable:!1,configurable:!0}),Object[_0x4b1c("0x7")](b,_0x4b1c("0xd2f"),{value:z,writable:!1,enumerable:!1,configurable:!0}),null==b[_0x4b1c("0x3e")][_0x4b1c("0x47")].userCrs&&(b[_0x4b1c("0x3e")].options[_0x4b1c("0x1b7")]=S),bx=b[_0x4b1c("0x3e")][_0x4b1c("0x1b5")]({from:S,to:R,coord:{x:d.x,y:d.y}}),b.map[_0x4b1c("0x1c3")][_0x4b1c("0x12d")]={x:-bx.x,y:bx.y},b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x12d")]&&(_x=b[_0x4b1c("0x3e")].transformCoord({from:S,to:R,coord:{x:b[_0x4b1c("0x3e")].options.center.x,y:b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x12d")].y}}),b[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x12d")]={x:-_x.x,y:_x.y},bx=_x),b[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0xd30")]={x:d.x,y:d.y},b[_0x4b1c("0x3e")][_0x4b1c("0x47")].center||(b.map[_0x4b1c("0x47")][_0x4b1c("0x12d")]={x:d.x,y:d.y}),b[_0x4b1c("0x3e")][_0x4b1c("0x1e1")][_0x4b1c("0xd31")](d,{x:bx.x,y:bx.y}),b[_0x4b1c("0xd32")](),1!=n&&setTimeout((function(){var x=v.default.getPath("remoteNotify");esmap[_0x4b1c("0x5f6")][_0x4b1c("0xde")]({url:x,isArrayBuffer:!0})}),18e5),null==b.map[_0x4b1c("0x47")][_0x4b1c("0x72")]&&(b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x72")]=d.styleid,b.options.themeID=d[_0x4b1c("0x5ac")]),d.bidlist&&b.setBidList(d[_0x4b1c("0x5bd")]),b.map[_0x4b1c("0xd33")]=d.eid,ex=!0,b[_0x4b1c("0x3bc")][_0x4b1c("0xca9")](_0x4b1c("0xd34"),u),ex){c[_0x4b1c("0x286")]=140;break}return c.abrupt(_0x4b1c("0x28a"));case 140:if(!E||U||I||ex){c.next=142;break}return c.abrupt(_0x4b1c("0x28a"));case 142:return b[_0x4b1c("0x386")]&&!b[_0x4b1c("0xd35")]()&&b[_0x4b1c("0x3e")][_0x4b1c("0x25f")](b[_0x4b1c("0x386")]),c[_0x4b1c("0x293")]("return",!0);case 144:case _0x4b1c("0x2a0"):return c.stop()}}),c,this,[[10,19]])}))),function(){return b[_0x4b1c("0x4")](this,arguments)})},{key:"initTapTip",value:function(){var x=this;if(x[_0x4b1c("0x3e")].options.showTapTip){var c=(0,d[_0x4b1c("0x1b")])(8),b=new esmap.ESPopMarker({id:c,content:_0x4b1c("0xd36")+c+_0x4b1c("0xd37"),className:_0x4b1c("0xb4d"),created:function(x){x.style.backgroundColor=_0x4b1c("0xd38"),x[_0x4b1c("0x23")].color=_0x4b1c("0xd39"),x.style[_0x4b1c("0x1d0")]=_0x4b1c("0xd3a"),x.style[_0x4b1c("0xd3b")]=_0x4b1c("0xd3c"),x.style[_0x4b1c("0x336")]=_0x4b1c("0xd3d"),x[_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0xd3e"),x[_0x4b1c("0x23")][_0x4b1c("0x1cc")]=_0x4b1c("0x12d"),x[_0x4b1c("0x941")].parentElement[_0x4b1c("0x23")][_0x4b1c("0xbd3")]=_0x4b1c("0x60b");var c=(0,p[_0x4b1c("0xc")])(_0x4b1c("0xd3f"));c[_0x4b1c("0x45c")](_0x4b1c("0xbe6"),_0x4b1c("0xd40")),c[_0x4b1c("0x23")]({width:0,height:0,fontSize:0,overflow:"auto",position:_0x4b1c("0x73d"),borderStyle:"solid dashed dashed",borderWidth:_0x4b1c("0xd41"),borderColor:_0x4b1c("0x646")+esmap.ESMapUtil.hexToRgb(_0x4b1c("0xd38"))+",1"+_0x4b1c("0xd42"),left:this.w_/2-25+"px",bottom:_0x4b1c("0xd43")}),x.appendChild(c[_0x4b1c("0x45e")]),b[_0x4b1c("0xab6")][_0x4b1c("0x23")][_0x4b1c("0x4cd")]="all 0.2s ease",b.popDiv_[_0x4b1c("0x23")][_0x4b1c("0x129")]=0,b[_0x4b1c("0xab6")].style.pointerEvents=_0x4b1c("0x60b"),b[_0x4b1c("0xab6")][_0x4b1c("0x23")][_0x4b1c("0xd44")]="none"},mapCoord:{x:x.map[_0x4b1c("0x47")][_0x4b1c("0x12d")][0],y:x.map[_0x4b1c("0x47")][_0x4b1c("0x12d")][1],height:150}});b[_0x4b1c("0xab5")]=c,x.map[_0x4b1c("0xab4")]=b,x[_0x4b1c("0x3e")].on(_0x4b1c("0xb52"),(function(){x[_0x4b1c("0x3c2")][_0x4b1c("0x114")](b[_0x4b1c("0x12b")])<0&&0!=b[_0x4b1c("0xab6")].style[_0x4b1c("0x129")]&&(b[_0x4b1c("0xab6")].style[_0x4b1c("0x129")]=0)})),x[_0x4b1c("0x3e")].on("zoomed",(function(c){if(c<=x[_0x4b1c("0x3e")].options[_0x4b1c("0xb1b")]){var b=x[_0x4b1c("0x3e")][_0x4b1c("0xab4")];b&&(b.popDiv_[_0x4b1c("0x23")][_0x4b1c("0x129")]=0);var _=document[_0x4b1c("0x7ad")](b[_0x4b1c("0xab5")]);_&&(_.innerHTML="")}})),x[_0x4b1c("0x3e")].on(_0x4b1c("0xd45"),(function(c){var b=x[_0x4b1c("0x3e")][_0x4b1c("0xab4")];if(!x[_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0xbe8")]||!x[_0x4b1c("0x3e")][_0x4b1c("0x47")].editMode||0==c[_0x4b1c("0xd46")]){var _=x.map.options[_0x4b1c("0xd47")],e=null;if(c[_0x4b1c("0x123")]!=esmap.ESNodeType[_0x4b1c("0x690")]||c[_0x4b1c("0x3c")]||2==c[_0x4b1c("0x3e0")])if(c[_0x4b1c("0x123")]!=esmap[_0x4b1c("0x131")].MODEL3D||c.mapId||2==c[_0x4b1c("0x3e0")]||c instanceof esmap[_0x4b1c("0x634")])b[_0x4b1c("0xab6")].style[_0x4b1c("0x129")]=0;else if(e=document[_0x4b1c("0x7ad")](b.spanId),b[_0x4b1c("0xab6")].style[_0x4b1c("0x129")]=0,e&&(e[_0x4b1c("0x1d6")]=""),c[_0x4b1c("0x1f7")]&&_){var t=c[_0x4b1c("0x305")];b[_0x4b1c("0x325")]({x:c.mapCoord.x,y:c[_0x4b1c("0x21d")].y,time:.01,callback:function(){b[_0x4b1c("0xd48")].position.y=1.1*t,e[_0x4b1c("0x1d6")]=c[_0x4b1c("0x1f7")],setTimeout((function(){b[_0x4b1c("0xab6")][_0x4b1c("0x23")][_0x4b1c("0x129")]=1}),1)}})}else b.popDiv_[_0x4b1c("0x23")][_0x4b1c("0x129")]=0;else if((e=document[_0x4b1c("0x7ad")](b.spanId))&&(e[_0x4b1c("0x1d6")]=""),b[_0x4b1c("0xab6")][_0x4b1c("0x23")][_0x4b1c("0x129")]=0,c[_0x4b1c("0x1f7")]&&_){var i=x[_0x4b1c("0x3e")].transformCoord({from:x[_0x4b1c("0x3e")][_0x4b1c("0x3e1")],to:x.map.options[_0x4b1c("0x1b7")],coord:c[_0x4b1c("0x21d")]});b.moveTo({x:i.x,y:i.y,time:.01,callback:function(){b[_0x4b1c("0xd48")][_0x4b1c("0x105")].y=1.1*(c[_0x4b1c("0xd49")]+c.RoomHigh),e[_0x4b1c("0x1d6")]=c.name,setTimeout((function(){b[_0x4b1c("0xab6")].style[_0x4b1c("0x129")]=1}),1)}}),b[_0x4b1c("0x12b")]=c[_0x4b1c("0x12b")]}else b[_0x4b1c("0xab6")][_0x4b1c("0x23")].opacity=0}}))}}},{key:"isInitTileMap",value:function(){return esmap[_0x4b1c("0x6a7")]&&esmap[_0x4b1c("0x6a7")][_0x4b1c("0xa27")]}},{key:_0x4b1c("0xd4a"),value:function(x,c,b){if(!(this[_0x4b1c("0xd01")][x]||this[_0x4b1c("0xd00")]&&this.roadGrids.indexOf(x)<0)){c.offset&&(c[_0x4b1c("0x158")][0],c[_0x4b1c("0x158")][1]);var _=this,t=1!=_.map[_0x4b1c("0x47")][_0x4b1c("0x99")],i=v[_0x4b1c("0xc")][_0x4b1c("0x680")](_0x4b1c("0x55a"),{tileId:b,typeId:2});esmap[_0x4b1c("0x5f6")].get({url:i,isArrayBuffer:!0}).success((function(c){var b=new Uint8Array(c);t||(0,l[_0x4b1c("0x10a")])(_.map.id+""+_[_0x4b1c("0x47")].tid,b);var i=null;try{i=D[_0x4b1c("0x6a7")][_0x4b1c("0xd4b")][_0x4b1c("0x4b")](b)}catch(c){return _[_0x4b1c("0xd01")][x]=!0,void y[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:esmap[_0x4b1c("0x288")][_0x4b1c("0xd1f")],level:_0x4b1c("0xe3")})}if(i){if(_[_0x4b1c("0x3f2")][x]=i,i[_0x4b1c("0x3f3")]&&(0,e[_0x4b1c("0xc")])(i.Lines)[_0x4b1c("0x0")]>0)for(var a in i[_0x4b1c("0x3f3")]){var n=i[_0x4b1c("0x3f3")][a];n[_0x4b1c("0x3fe")]=n[_0x4b1c("0x401")],n[_0x4b1c("0xd4c")]&&n[_0x4b1c("0xd4c")]>100&&(n[_0x4b1c("0xd4c")]=4)}i[_0x4b1c("0xd4d")]&&(0,e[_0x4b1c("0xc")])(i[_0x4b1c("0xd4d")])[_0x4b1c("0x0")]>0&&(_[_0x4b1c("0xd4e")](i),_[_0x4b1c("0x3e")][_0x4b1c("0xe7")]("tileRouteDataLoaded",{bid:x,data:i})),_[_0x4b1c("0x3e")].fire(_0x4b1c("0xd4f"),x);var r=_[_0x4b1c("0x3e")].getTileById(x);_.map[_0x4b1c("0x47")][_0x4b1c("0x1f6")]&&r&&r.loadRoads()}}))[_0x4b1c("0xe3")]((function(){_.failedNavs[x]=!0}))}}},{key:"queryTileScene",value:function(x,c,b){var _=this;if(this.failedTiles[x])b();else if(1!=this[_0x4b1c("0x47")][_0x4b1c("0x99")]&&this[_0x4b1c("0xcff")]&&this[_0x4b1c("0xcff")][_0x4b1c("0x114")](x)<0)b();else{var e=x,t=1!=_[_0x4b1c("0x3e")].options[_0x4b1c("0x99")],i=v[_0x4b1c("0xc")][_0x4b1c("0x680")](_0x4b1c("0x55a"),{tileId:x,typeId:1});if(_[_0x4b1c("0x3e")][_0x4b1c("0xe7")]("tilePreLoad",e),N)if(!(esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](P)===_0x4b1c("0xcf9")))return;esmap.Ajax[_0x4b1c("0xde")]({url:i,isArrayBuffer:!0})[_0x4b1c("0x481")]((function(e){var a=new Uint8Array(e);t||(0,l.decodeByte)(_[_0x4b1c("0x3e")].id+""+_.options[_0x4b1c("0x99")],a);var n=null;try{n=D[_0x4b1c("0x6a7")].ESTileMapSet.decode(a)}catch(x){return y[_0x4b1c("0x30")].post({msg:esmap[_0x4b1c("0x288")].INVALID_TYPE+": "+i,level:"error"}),void b()}if(H==n.cname){var r=new(u[_0x4b1c("0xc")])({id:x,map:_.map});r[_0x4b1c("0xb00")]=n;var s=_[_0x4b1c("0xd50")](n,x);r[_0x4b1c("0x3c3")]=s,c(n,r)}}))[_0x4b1c("0xe3")](b)}}},{key:_0x4b1c("0xd51"),value:function(x){var c=this,b=c[_0x4b1c("0x3e")].options.themeID,_=v[_0x4b1c("0xc")][_0x4b1c("0x680")](_0x4b1c("0x58"),{ext:x,themeID:b});return new(a[_0x4b1c("0xc")])((function(e,t){esmap[_0x4b1c("0x5f6")][_0x4b1c("0x486")]({url:_})[_0x4b1c("0x481")]((function(x){if(x){c[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xcb7"),{id:b,data:x,bid:c[_0x4b1c("0x3e")].id});var _=c[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0xd53")](x),i=(new Date)[_0x4b1c("0x86")](),a=C[_0x4b1c("0xc9f")].indexOf(esmap[_0x4b1c("0x87")].encode64(window[T[_0x4b1c("0xb9")]].origin))>-1;i-1e6*F[_0x4b1c("0x59c")]>0&&!a||e(_)}else t(_0x4b1c("0xd52")+b)}))[_0x4b1c("0xe3")]((function(){"json"==x?e(c.queryTileTheme(_0x4b1c("0x567"))):t(_0x4b1c("0xd52")+b)}))}))}},{key:_0x4b1c("0xd54"),value:function(x){for(var c=x.x,b=x.y,e=[][_0x4b1c("0x377")]((0,_[_0x4b1c("0xc")])(this.tileGrids),(0,_.default)(this[_0x4b1c("0xd00")])),t={distance:1/0,tileid:null},i=0;i<e[_0x4b1c("0x0")];i++){var a=e[i],n=a[_0x4b1c("0x2c")]("_"),r=Math[_0x4b1c("0x23d")](n[0]-c)+Math.abs(n[1]-b);r<t.distance&&(t.distance=r,t[_0x4b1c("0xd55")]=a)}return t[_0x4b1c("0xd55")]}},{key:_0x4b1c("0xb27"),value:function(){var x=this;if(0!=this[_0x4b1c("0x3e")].updateTile){var c=this.map[_0x4b1c("0x47")].worldScale,b=this.map.coordThreeToMap(this.map[_0x4b1c("0x266")].target,!0),_=b.x,e=b.y,t=(0,f[_0x4b1c("0x1b2")])(_,e,c),i={x:_,y:e,indx:t.x,indy:t.y};this[_0x4b1c("0x3c2")]=[];var a=this,n=[],r=this[_0x4b1c("0xd56")]();if(r){var s=(0,f.getTileBound)(i[_0x4b1c("0xc34")],i[_0x4b1c("0xc35")],this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1b4")],!1),o=s[_0x4b1c("0xf7")]-s.minx,l=s[_0x4b1c("0xf8")]-s.miny;this[_0x4b1c("0xc33")]=i,this[_0x4b1c("0xd57")]=o;for(var d=i.indx,u=i[_0x4b1c("0xc35")],h=_,g=e,v=[d],p=[u],m=this[_0x4b1c("0xb50")],A=0;A<m;A++){if((h+=o)>r.maxx){v[_0x4b1c("0x12")](d+A+1,d-(A+1));break}v[_0x4b1c("0x12")](d+A+1,d-(A+1))}for(var y=0;y<m;y++){if((g+=l)>r[_0x4b1c("0xf8")]){p[_0x4b1c("0x12")](u+y+1,u-(y+1));break}p.push(u+y+1,u-(y+1))}p[_0x4b1c("0x1c")]((function(c){v.forEach((function(b){var _=b+"_"+c,e=(0,f[_0x4b1c("0x1b3")])(b,c,x[_0x4b1c("0x3e")].options[_0x4b1c("0x1b4")],!1),t=a[_0x4b1c("0xbef")](r,e),i=x[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x31d")]>=18&&x[_0x4b1c("0x3e")][_0x4b1c("0x2c1")]>=60,s=a[_0x4b1c("0xd58")](_),o=a[_0x4b1c("0xb24")]();s&&o&&(t||i)&&(n.push(_),a[_0x4b1c("0x3c2")][_0x4b1c("0x12")](_))}))})),this[_0x4b1c("0xb25")]=n,this[_0x4b1c("0xd09")]||(this.initialTiles=[].concat(n),this.initialViewLen=n[_0x4b1c("0x0")])}}}},{key:_0x4b1c("0xd59"),value:function(x){var c=[{x:x[_0x4b1c("0x5a3")],y:x[_0x4b1c("0x5a6")]},{x:x[_0x4b1c("0x5a7")],y:x[_0x4b1c("0x5a6")]},{x:x[_0x4b1c("0x5a7")],y:x[_0x4b1c("0x5ba")]},{x:x.minX,y:x[_0x4b1c("0x5ba")]},{x:x[_0x4b1c("0x5a3")],y:x.minY}],b=new(esmap[_0x4b1c("0x62c")])({alpha:.5,lineWidth:1,height:6,points:c});this[_0x4b1c("0x3e")][_0x4b1c("0x136")](0)[_0x4b1c("0x662")](1)[_0x4b1c("0x3f7")](_0x4b1c("0xd5a"),esmap[_0x4b1c("0x3cd")][_0x4b1c("0xac9")]).addMarker(b)}},{key:"queryTilesByNum",value:function(x){if(0!=this[_0x4b1c("0x3e")][_0x4b1c("0x9bb")]){var c=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1b4")],b=this[_0x4b1c("0x3e")][_0x4b1c("0x20d")](this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0x2c7")]),_=this[_0x4b1c("0xd56")]();if(_){var e=1,t=(0,f[_0x4b1c("0x1b2")])(b.x,b.y,c),i={x:b.x,y:b.y,indx:t.x,indy:t.y},a=(0,f[_0x4b1c("0x1b3")])(i.indx,i[_0x4b1c("0xc35")],this.map.options[_0x4b1c("0x1b4")],!0),n=a[_0x4b1c("0xf7")]-a[_0x4b1c("0xfb")];this[_0x4b1c("0xc33")]=i;var r=[i.indx+"_"+i[_0x4b1c("0xc35")]],s=this[_0x4b1c("0xd5b")](8);this.currentShows=[i.indx+"_"+i[_0x4b1c("0xc35")]];for(var o=[],l=0;l<s[_0x4b1c("0x0")];l++){var d=s[l][0]+i.indx,u=s[l][1]+i.indy,h=d+"_"+u,g=this[_0x4b1c("0xd58")](h);if(!(e>=x)&&g){var v=(0,f[_0x4b1c("0x1b3")])(d,u,this.map.options[_0x4b1c("0x1b4")],!0);this[_0x4b1c("0xbef")](_,v)?(r[_0x4b1c("0x12")](h),this[_0x4b1c("0x3c2")][_0x4b1c("0x12")](h)):o[_0x4b1c("0x12")](h),e+=1}}this[_0x4b1c("0xd57")]=n,this.currentView=r,this[_0x4b1c("0xb53")]=o}}}},{key:_0x4b1c("0xd5b"),value:function(x){for(var c=[],b=-x;b<x+1;b++)for(var _=-x;_<x+1;_++)0==b&&0==_||c[_0x4b1c("0x12")]([b,_]);return c[_0x4b1c("0x42b")]((function(x,c){return Math[_0x4b1c("0x23d")](x[0])+Math[_0x4b1c("0x23d")](x[1])-(Math[_0x4b1c("0x23d")](c[0])+Math[_0x4b1c("0x23d")](c[1]))})),c}},{key:"loadTile",value:function(x){var c=this,b=this[_0x4b1c("0x3e")];if(!R){var _=F;if(R=(0,l[_0x4b1c("0x4b")])(_.tiletoken,_0x4b1c("0xd5c"),""),{maxx:_[_0x4b1c("0x5a7")],minx:_[_0x4b1c("0x5a3")],maxy:_[_0x4b1c("0x5ba")],miny:_[_0x4b1c("0x5a6")]},b[_0x4b1c("0xd5d")]=_.offsetbid||_0x4b1c("0xd5e"),b[_0x4b1c("0xd5f")]=_[_0x4b1c("0x5bb")]||_0x4b1c("0xd5e"),b[_0x4b1c("0xd2e")][_0x4b1c("0x114")](this[_0x4b1c("0x47")][_0x4b1c("0xd60")])<0)return void y[_0x4b1c("0x30")].post({msg:_0x4b1c("0xd61"),level:_0x4b1c("0xe3")})}var e={id:x,buildingType:esmap.ESBuildingType[_0x4b1c("0xb29")]},t=this,i=e[_0x4b1c("0x21a")];9568297==b.sl()&&b[_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0xd62")](x,(function(_,e){e[_0x4b1c("0x21a")]=i,e[_0x4b1c("0x12d")]=[e[_0x4b1c("0xb00")].x,e[_0x4b1c("0xb00")].y];var t=b[_0x4b1c("0xd5d")][_0x4b1c("0x2c")](",");e[_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0xdb")](0+1*t[0]-0,1*t[1],0+1*t[2]+0),b[_0x4b1c("0x1e1")][_0x4b1c("0xd63")]()[_0x4b1c("0xdd")](e[_0x4b1c("0xf0")]),e.loadPois(),e[_0x4b1c("0x3ee")](),e.loadBuildings(1),c.queryNavs(x,b[_0x4b1c("0x47")],x),c.tileLoadComplete_(e)}),(function(_){c[_0x4b1c("0xd64")][x]=!0,c.solvingList[_0x4b1c("0x5")](c.solvingList[_0x4b1c("0x114")](x),1),esmap.ESMap.IsMapLoading=!1,c[_0x4b1c("0xcfd")][x]=!0,c.queryNavs(x,b[_0x4b1c("0x47")],x),b[_0x4b1c("0x36b")](_0x4b1c("0xd4f"),(function(x){if(c[_0x4b1c("0xcfd")][x]){var _=x.split("_"),e=(0,f[_0x4b1c("0x1b3")])(1*_[0],1*_[1],b[_0x4b1c("0x47")][_0x4b1c("0x1b4")],!0),a=(e[_0x4b1c("0xf7")]-e[_0x4b1c("0xfb")])/2+e[_0x4b1c("0xfb")],n=(e[_0x4b1c("0xf8")]-e.miny)/2+e.miny,r=new(u[_0x4b1c("0xc")])({id:x,map:b});r[_0x4b1c("0x12d")]=[a,n],r[_0x4b1c("0x21a")]=i;var s=b[_0x4b1c("0xd5d")][_0x4b1c("0x2c")](",");r.o3d_.position.set(0+1*s[0]-0,1*s[1],0+1*s[2]+0),b[_0x4b1c("0x1e1")][_0x4b1c("0xd63")]().add(r.o3d_),c[_0x4b1c("0xcfd")][x]=null,t[_0x4b1c("0xd65")](r)}})),c.checkInitials(x),0==c.currentView[_0x4b1c("0x0")]&&0==c[_0x4b1c("0xb2d")].length&&b[_0x4b1c("0xe7")](_0x4b1c("0xb52"))}))}},{key:"convertTileData",value:function(x,c){var b=this,_=I[_0x4b1c("0xc")][_0x4b1c("0xde")](c),e=x.Rooms,t=x[_0x4b1c("0x3cc")];for(var i in t)_[_0x4b1c("0xdd")](t[i]._id);var a=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xd66")],n=this[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],r=(this[_0x4b1c("0xa3a")],0),s=0,o=this[_0x4b1c("0x3bc")][_0x4b1c("0xca7")],f={1:[],2:[],3:[]},l={1:[],2:[],3:[]},d=[],u=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3d4")];for(var h in e){var g,p=e[h],m=!1,A=!1,C=this[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0xa79")][p.RS],E=!1;999!=p.RS&&(this[_0x4b1c("0x3e")][_0x4b1c("0x1e1")][_0x4b1c("0xd67")][_0x4b1c("0x54")]+=1),C&&999!=p.RS?C&&2==C[_0x4b1c("0xa7b")]&&(m=2==C[_0x4b1c("0xd68")],A=2==C[_0x4b1c("0xd69")]):2==(C=this.map.mapTheme[_0x4b1c("0xa79")][0]).filltype&&(m=2==C[_0x4b1c("0xd68")],A=2==C[_0x4b1c("0xd69")]),g=C[_0x4b1c("0xd6a")];var w=this[_0x4b1c("0xd1d")](p[_0x4b1c("0xd6b")]);if(u){var T=!0;if(w[_0x4b1c("0x12c")][0].length>=3){for(var k=w[_0x4b1c("0x12c")][0][_0x4b1c("0x3e")]((function(x){return{x:-x.x,y:x.y}})),M=!1,R=0;R<k[_0x4b1c("0x0")];R++){if(esmap[_0x4b1c("0x87")][_0x4b1c("0x3d3")]({x:k[R].x,y:k[R].y},u)){M=!0;break}}T=M}else T=esmap[_0x4b1c("0x87")][_0x4b1c("0x3d3")]({x:p[_0x4b1c("0xd6c")],y:p[_0x4b1c("0xd6d")]},u);if(!T)continue}var L=this[_0x4b1c("0x3e")][_0x4b1c("0x555")]({from:S,to:n,coords:w[_0x4b1c("0x12c")][0],flipX:!0}),H=w.holes;H[_0x4b1c("0x0")]>0&&(H=this.map[_0x4b1c("0x555")]({from:S,to:n,coords:w[_0x4b1c("0x547")][0],flipX:!0})),p.bids&&this[_0x4b1c("0xa3a")][p[_0x4b1c("0x681")]]&&function(){var x=[];L[_0x4b1c("0x1c")]((function(c){x.push({x:-c.x,y:c.y})})),b.bidList[p[_0x4b1c("0x681")]].polygon=x}();var D=this[_0x4b1c("0x3e")][_0x4b1c("0x1b5")]({from:S,to:n,coord:{x:p[_0x4b1c("0xd6c")],y:p[_0x4b1c("0xd6d")]}}),O=p.FH*g*a;if(p.RM&&(o&&p.RM.indexOf(_0x4b1c("0xd6e"))>=0?E=!0:r++),p.RL&&p[_0x4b1c("0xd6f")])for(var P=p.RL[_0x4b1c("0x2c")](";"),N=p[_0x4b1c("0xd6f")][_0x4b1c("0x2c")](";"),F=0;F<P[_0x4b1c("0x0")];F++){var B=P[F],z="";if(N[F])1*N[F][_0x4b1c("0x2c")](",")[3]<3&&(z=v.default[_0x4b1c("0x680")](_0x4b1c("0x59"),{filename:B,type:_0x4b1c("0xd70")}),this[_0x4b1c("0x3bc")][_0x4b1c("0x364")][_0x4b1c("0xcf2")](z,_0x4b1c("0x55c"),B))}var U={floornum:null,TextureType:null,isTube:!1,fnums:p.Fnum,RoomHigh:O,Typeid:p[_0x4b1c("0x3d9")],classID:p.MC||0,gid:p.GID,CenX:D.x,RoomLogo:p.RL||null,FsId:p.RL?0:null,RoomLogoSize:null==p.RLSize?"":p[_0x4b1c("0xd6f")],CenY:D.y,OCenX:p[_0x4b1c("0xd6c")],OCenY:p[_0x4b1c("0xd6d")],tileid:c,oid:p[_0x4b1c("0x3d8")],FC:p.Did||null,AS:p.AS,name:p.NA,nameEn:p.NA,scale:p[_0x4b1c("0xcab")],rotate:p.RMR,RModel:p.RM,bids:p[_0x4b1c("0x681")],offset:p[_0x4b1c("0xcad")],RoomStyle:p.RS||0,points:[L],originalPoints:w[_0x4b1c("0x12c")],holes:H,originalHoles:w[_0x4b1c("0x547")],normalizeTop:m,normalizeSide:A,ShowLevel:(24==p.SL?10:p.SL)||10};if(U[_0x4b1c("0xd71")]=p.NE?JSON[_0x4b1c("0x71")](p.NE):null,this[_0x4b1c("0x3bc")][_0x4b1c("0x931")][p[_0x4b1c("0x3d8")]]=w[_0x4b1c("0x12c")],U.top=p.BC>>1||1,U[_0x4b1c("0x427")]=1&p.BC||0,6!==U[_0x4b1c("0x35b")]){var V=null;V=p.SL<=12?1:p.SL<=16?2:3,U.bclick?f[V][_0x4b1c("0x12")](U):l[V][_0x4b1c("0x12")](U),_[_0x4b1c("0xdd")](U[_0x4b1c("0x666")]),E?(this[_0x4b1c("0x47")][_0x4b1c("0x3ab")]==_0x4b1c("0x5d3")||this.options[_0x4b1c("0x1f6")]||y[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:_0x4b1c("0xd72"),level:"warning"}),this.service[_0x4b1c("0xd73")](p,c)):U[_0x4b1c("0xd74")]&&1==V&&s++}else d[_0x4b1c("0x12")](U)}for(var j={},Z=1;Z<4;Z++){var Y={modelimages:[{}],modellayers:[{models:f[Z]}],modelbaselayer:[{modelbases:l[Z]}],maxX:x[_0x4b1c("0x5a7")],maxY:x[_0x4b1c("0x5ba")],minX:x[_0x4b1c("0x5a3")],minY:x[_0x4b1c("0x5a6")],roomModelsCount:r,lod1ModelsCount:s};j[Z]=Y}return j[1].roadDatas=d,_[_0x4b1c("0xdf")](),j}},{key:_0x4b1c("0xd58"),value:function(x){var c=this[_0x4b1c("0xcff")]&&this[_0x4b1c("0xcff")][_0x4b1c("0x114")](x)>-1,b=this[_0x4b1c("0xd00")]&&this[_0x4b1c("0xd00")][_0x4b1c("0x114")](x)>-1,_=0==this[_0x4b1c("0xad2")][_0x4b1c("0x0")]||this.userTiles[_0x4b1c("0x114")](x)>-1;return(c||b)&&_}},{key:_0x4b1c("0xd75"),value:function(x){return!(x>esmap[_0x4b1c("0xd76")]||x<esmap[_0x4b1c("0xd77")])}},{key:_0x4b1c("0xd4e"),value:function(x){var c=x[_0x4b1c("0xd4d")],b=this[_0x4b1c("0x3e")].coordSystem;for(var _ in c){var e=this[_0x4b1c("0x3e")].transformCoord({from:_0x4b1c("0x383"),to:b,coord:{x:c[_].X,y:c[_].Y}});c[_].X=e.x,c[_].Y=e.y}}},{key:"transformNavData",value:function(x,c,b){var _=c.x,e=c.y,t=b.x,i=b.y,a=this[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],n=_-t,r=e-i;for(var s in x){var o=x[s][_0x4b1c("0xd4d")];for(var f in o){o[f].X=o[f].X+n,o[f].Y=o[f].Y+r;var l=this[_0x4b1c("0x3e")][_0x4b1c("0x1b5")]({from:_0x4b1c("0x383"),to:a,coord:{x:o[f].X,y:o[f].Y}});o[f].X=l.x,o[f].Y=l.y}}}},{key:"getContainerExtent",value:function(){var x=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")].canvas.getBoundingClientRect(),c=0;this[_0x4b1c("0x3e")].tiltAngle>=80?c=x[_0x4b1c("0x1a3")]/2:this[_0x4b1c("0x3e")][_0x4b1c("0x2c1")]>=70&&(c=x[_0x4b1c("0x1a3")]/3);var b=this[_0x4b1c("0x3e")][_0x4b1c("0xa61")](0,c,0),_=this.map[_0x4b1c("0xa61")](x[_0x4b1c("0x1c9")],c,0),e=this[_0x4b1c("0x3e")][_0x4b1c("0xa61")](x[_0x4b1c("0x1c9")],x[_0x4b1c("0x1a3")],0),t=this.map[_0x4b1c("0xa61")](0,x[_0x4b1c("0x1a3")],0);return b&&_&&e&&t?{minx:Math[_0x4b1c("0x2f6")](b.x,_.x,e.x,t.x),maxx:Math[_0x4b1c("0x2f5")](b.x,_.x,e.x,t.x),miny:Math.min(b.y,_.y,e.y,t.y),maxy:Math[_0x4b1c("0x2f5")](b.y,_.y,e.y,t.y)}:null}},{key:_0x4b1c("0xd78"),value:function(x){var c,b=this.map[_0x4b1c("0x47")],_=x,e=b.version,t=b.s,i=b[_0x4b1c("0x99")],a=window[_0x4b1c("0x7b")][_0x4b1c("0x85")],n=parseInt((new Date)[_0x4b1c("0x86")]()/1e3);c=b.s&&b.k?b.k:esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](b[T[_0x4b1c("0xc1")]]+_0x4b1c("0x8a")+n);var r=esmap.ESMapUtil[_0x4b1c("0x88")](i+"&"+_+"&"+t+"&"+c+"&"+n+"&"+a+"&"+e);querySign=r;var s=o[_0x4b1c("0x4a")].decode((0,l.getSubDirByS)(t)),f=void 0;if(3==i)f=b[_0x4b1c("0x49")]+"/"+_+"_lic.esmap";else{var d=(0,l[_0x4b1c("0x48")])(t);f=(3==t?d:o.Base64.decode(d))+"/"+s+_0x4b1c("0x8c")+_+_0x4b1c("0x8d")+b.s+"&k="+c+_0x4b1c("0x70")+n+_0x4b1c("0x8f")+encodeURIComponent(a)+"&sign="+r+_0x4b1c("0xd79")+e+_0x4b1c("0x91")+i}return f}},{key:_0x4b1c("0xd7a"),value:function(x){var c=this.map[_0x4b1c("0x47")][_0x4b1c("0x62")]+this[_0x4b1c("0x3e")].id+_0x4b1c("0xd7b")+this.options[_0x4b1c("0x72")]+"/"+this[_0x4b1c("0x47")][_0x4b1c("0x72")]+"."+x;return this[_0x4b1c("0x47")].isRandom&&(c+=_0x4b1c("0x75")+Date[_0x4b1c("0x71")](new Date)),c}},{key:"setBidList",value:function(x){for(var c=x[_0x4b1c("0x2c")]("|"),b=0;b<c[_0x4b1c("0x0")];b++){var _=c[b][_0x4b1c("0x2c")](",");this.bidList[_[1]]||(this[_0x4b1c("0xa3a")][_[1]]={bid:_[1],x:1*_[2],y:1*_[3],id:1*_[0],offsetZ:1*_[4]||0,_raws:{x:1*_[2],y:1*_[3]}})}}},{key:_0x4b1c("0xd7c"),value:function(){var x=this,c=x[_0x4b1c("0x3e")][_0x4b1c("0x47")],b=void 0;c.s;return b=1==c[_0x4b1c("0x99")]?c[_0x4b1c("0x62")]+this.map.id+"/boundary.json":c[_0x4b1c("0x49")]+_0x4b1c("0xd7d"),new(a[_0x4b1c("0xc")])((function(_,e){esmap.Ajax.getJSON({url:b})[_0x4b1c("0x481")]((function(b){if(x[_0x4b1c("0x3e")][_0x4b1c("0xd7e")]=b[_0x4b1c("0x5bd")],c.vBoundary){for(var e=esmap[_0x4b1c("0x87")].getTileNumsByPolygon(c[_0x4b1c("0x3d4")]),t=[],i=[],a=0;a<b.grids1[_0x4b1c("0x0")];a++)e[_0x4b1c("0x114")](b[_0x4b1c("0xd7f")][a])>-1&&t.push(b[_0x4b1c("0xd7f")][a]),e[_0x4b1c("0x114")](b.grids2[a])>-1&&i.push(b[_0x4b1c("0xd80")][a]);x[_0x4b1c("0xcff")]=t,x.roadGrids=i}else x[_0x4b1c("0xcff")]=b[_0x4b1c("0xd7f")],x[_0x4b1c("0xd00")]=b[_0x4b1c("0xd80")];for(var n=b[_0x4b1c("0xcfc")],r=[],s=0;s<n.length;s++){var o=n[s],f=o[_0x4b1c("0xd81")],l=o[_0x4b1c("0x400")],d=(new(h.default[_0x4b1c("0x591")])).parseBoundary(l);r[_0x4b1c("0x12")]({citycode:f,outline:d[_0x4b1c("0x589")]})}x[_0x4b1c("0xcfc")]=r,_()})).error((function(){e(!1)}))}))}},{key:_0x4b1c("0x2c6"),value:function(){esmap[_0x4b1c("0x6a7")]&&esmap[_0x4b1c("0x6a7")].tileMapView&&(esmap[_0x4b1c("0x6a7")][_0x4b1c("0xab2")][_0x4b1c("0xd82")][_0x4b1c("0xd83")]=!0,this[_0x4b1c("0x320")]=!0)}},{key:_0x4b1c("0x2b4"),value:function(){esmap[_0x4b1c("0x6a7")]&&esmap.ESTileMap.tileMapView&&(esmap[_0x4b1c("0x6a7")].tileMapView[_0x4b1c("0xd82")].frozen=!1,this[_0x4b1c("0x320")]=!1)}},{key:_0x4b1c("0xa05"),value:function(x){var c=arguments[_0x4b1c("0x0")]>1&&void 0!==arguments[1]?arguments[1]:null,b=arguments[_0x4b1c("0x0")]>2&&void 0!==arguments[2]&&arguments[2],_=this,e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],t=!(arguments[_0x4b1c("0x0")]>4&&void 0!==arguments[4])||arguments[4],i=this[_0x4b1c("0x3e")];if(void 0!==this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xd84")]&&(t=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xd84")]),!i[_0x4b1c("0x47")][_0x4b1c("0xa03")]){if(null==B)B=(new Date)[_0x4b1c("0x86")]();else if((new Date)[_0x4b1c("0x86")]()-B<1500)return;B=(new Date)[_0x4b1c("0x86")]()}var a=this;if((!this[_0x4b1c("0xd85")]||this[_0x4b1c("0xa30")][x[_0x4b1c("0x3c")]]||t)&&(!i[_0x4b1c("0x136")](x.mapId)||this[_0x4b1c("0xa30")][x[_0x4b1c("0x3c")]]))if(this[_0x4b1c("0xa3a")][x.mapId]){var r=(0,m[_0x4b1c("0x37a")])({loadModel3D:!0,visibleFloors:1==i[_0x4b1c("0x47")][_0x4b1c("0xd87")]?null:"all",focusFloor:_0x4b1c("0x35b"),focusMode:i[_0x4b1c("0x47")][_0x4b1c("0xd87")],focusAnimateMode:1==i[_0x4b1c("0x47")][_0x4b1c("0xd87")],hideFloorBase:e,dataCenter:{x:this.bidList[x[_0x4b1c("0x3c")]].x,y:this[_0x4b1c("0xa3a")][x[_0x4b1c("0x3c")]].y},token:c||i[_0x4b1c("0x47")][T[_0x4b1c("0xc1")]],offsetZ:this[_0x4b1c("0xa3a")][x.mapId][_0x4b1c("0xd88")]});if(!(this[_0x4b1c("0xd06")]>0)){if(i[_0x4b1c("0xe7")](_0x4b1c("0xd89"),{id:x.mapId}),i.options[_0x4b1c("0xd8a")])for(var s in i[_0x4b1c("0x47")][_0x4b1c("0xd8a")])if(x[_0x4b1c("0x3c")]==s){r[_0x4b1c("0x72")]=i[_0x4b1c("0x47")][_0x4b1c("0xd8a")][s];break}i.options[_0x4b1c("0xd8b")]&&i[_0x4b1c("0x47")][_0x4b1c("0xd8b")][x[_0x4b1c("0x3c")]]&&(r[_0x4b1c("0xd8c")]=i[_0x4b1c("0x47")][_0x4b1c("0xd8b")][x[_0x4b1c("0x3c")]]);var o={shell:b?null:x,tile:x[_0x4b1c("0x12b")],id:x.mapId,angle:10,options:r},f=o.id,l=o.options,d=o[_0x4b1c("0xafd")]||null;if(this[_0x4b1c("0x3bc")][_0x4b1c("0xa80")][_0x4b1c("0x12")]({x:l[_0x4b1c("0xd8d")].x,y:l.dataCenter.y,bid:f,changed:[]}),this[_0x4b1c("0xd85")]=!0,d)if(6==d[_0x4b1c("0x123")])if(d.o3d_)if(d.o3d_[_0x4b1c("0xef")][_0x4b1c("0x469")]&&d[_0x4b1c("0xf0")][_0x4b1c("0xef")][_0x4b1c("0x469")][_0x4b1c("0x0")]>1){var u=a.map[_0x4b1c("0x136")](i.id)[_0x4b1c("0x26b")][_0x4b1c("0x67c")];if(!d.ID){var h=!0,g=!1,v=void 0;try{for(var p,A=(0,n[_0x4b1c("0xc")])(d[_0x4b1c("0x469")]);!(h=(p=A[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);h=!0){var I=p[_0x4b1c("0x13a")];if(I.mapId===x[_0x4b1c("0x3c")]){d.ID=I.ID;break}}}catch(x){g=!0,v=x}finally{try{!h&&A[_0x4b1c("0x28a")]&&A.return()}finally{if(g)throw v}}}d.o3d_[_0x4b1c("0xf1")].forEach((function(x){u[_0x4b1c("0x454")](x,d.ID,!1)})),d.o3d_[_0x4b1c("0x165")][_0x4b1c("0xa31")]||(d[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0xa31")]={}),d[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0xa31")][f]||(d[_0x4b1c("0xf0")].userData[_0x4b1c("0xa31")][f]=d.ID)}else t?(i[_0x4b1c("0xa02")]++,esmap[_0x4b1c("0x87")][_0x4b1c("0x272")]({clonemat:!0,target:d[_0x4b1c("0xf0")],alpha:.1,hideOnComplete:!0,time:1.5}),setTimeout((function(){i._buildingAnimating--}),1600)):d[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1;else d[_0x4b1c("0x191")]=!1;else if(5==d.nodeType){for(var E=d[_0x4b1c("0xf0")][_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x582")].array,w=d[_0x4b1c("0x46b")][0],k=d[_0x4b1c("0x46b")][1],S=w;S<k;S+=1)E[S]=1;d[_0x4b1c("0xf0")][_0x4b1c("0xf2")][_0x4b1c("0x104")].isHideFlags[_0x4b1c("0x188")]=!0}if(this[_0x4b1c("0x3e")][_0x4b1c("0x9e8")]=!0,this.cacheBuildings[f]){var M=this[_0x4b1c("0xa30")][f];return i[_0x4b1c("0x1e1")][_0x4b1c("0xa33")][_0x4b1c("0xdd")](M),i[_0x4b1c("0x68b")][_0x4b1c("0x12")](M[_0x4b1c("0xef")]),M[_0x4b1c("0x191")]=!0,i[_0x4b1c("0xe7")](_0x4b1c("0xd8e"),M[_0x4b1c("0xef")]),i[_0x4b1c("0xe7")](_0x4b1c("0xa34"),M[_0x4b1c("0xef")]),i[_0x4b1c("0xe7")](_0x4b1c("0xa35"),{bid:M[_0x4b1c("0xef")].id}),M[_0x4b1c("0xef")].emit(_0x4b1c("0xa35"),{bid:M[_0x4b1c("0xef")].id}),void(this[_0x4b1c("0xd85")]=!1)}if(9568297==i.sl())return l.id=f,this[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xd8f"),l),this[_0x4b1c("0x3bc")][_0x4b1c("0xd90")](l)[_0x4b1c("0x323")]((function(x){var c=x[_0x4b1c("0xb00")];x.buildingType=esmap[_0x4b1c("0x621")][_0x4b1c("0xd91")],x.shellId=o[_0x4b1c("0xafc")],x.shell=o[_0x4b1c("0xafd")],x[_0x4b1c("0x12d")]={x:l[_0x4b1c("0xd8d")].x,y:l.dataCenter.y},x.delta={x:l[_0x4b1c("0xd8d")].x- -c.DefaultCenX,y:l.dataCenter.y-c[_0x4b1c("0xd92")]},_[_0x4b1c("0xd93")](c[_0x4b1c("0xd94")],x[_0x4b1c("0x12d")],{x:-c[_0x4b1c("0xcba")],y:c[_0x4b1c("0xd92")]}),_[_0x4b1c("0x3bc")][_0x4b1c("0xaeb")][_0x4b1c("0x3f2")][f]=c[_0x4b1c("0xd94")],_[_0x4b1c("0x3e")].fire("buildingRouteDataLoaded",{bid:f,data:c[_0x4b1c("0xd94")]}),i.options[_0x4b1c("0x9fc")]&&x[_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0xdb")](0,0,0),x.udoffset=0,x[_0x4b1c("0xd95")]=x[_0x4b1c("0xf0")].position.y+1;var b=c[T[_0x4b1c("0xc0")]],e=b<32503514?b:b/1e3,t=C[_0x4b1c("0xc9f")][_0x4b1c("0x114")](esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](window[T[_0x4b1c("0xb9")]][_0x4b1c("0x7c")]))>-1;if(!((new Date)[_0x4b1c("0x86")]()>1e6*e)||t)return i.focusBuilding=x,i[_0x4b1c("0x9cf")]=x.scaleLevels_,i[_0x4b1c("0xe7")](_0x4b1c("0xd8e"),x),i.on(_0x4b1c("0xe8"),(function(c){c.from===x.id&&1===c[_0x4b1c("0x13a")]&&(_.buildingLoading=!1)})),x})).catch((function(x){a.solvingList.splice(a[_0x4b1c("0xb2d")][_0x4b1c("0x114")](f),1),a[_0x4b1c("0xcfa")][_0x4b1c("0x12")](f),esmap[_0x4b1c("0x32")].IsMapLoading=!1,_[_0x4b1c("0xd85")]=!1}))}}else y.MessagePoster[_0x4b1c("0x31")]({msg:_0x4b1c("0xd86")+x.mapId+"未绑定",level:_0x4b1c("0xe3")})}},{key:_0x4b1c("0xd96"),value:function(x){(this[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0xace")]=!x,esmap[_0x4b1c("0x6a7")]&&esmap[_0x4b1c("0x6a7")][_0x4b1c("0xd97")][_0x4b1c("0xd98")](x),this.map.mapScene[_0x4b1c("0x407")][_0x4b1c("0x191")]=x,this.map[_0x4b1c("0x47")][_0x4b1c("0xd0d")]!=esmap[_0x4b1c("0xc58")][_0x4b1c("0xd10")])&&(this[_0x4b1c("0x3e")].getBuildingById(0).o3d_.visible=x);this.map[_0x4b1c("0xe7")]("visibleBuildingsChanged",this.map[_0x4b1c("0xb62")]),x?this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("tilesHidden",!1):this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("tilesHidden",!0)}},{key:_0x4b1c("0xe9"),value:function(){R=null,L=1,H=null,P=null,N=!1,[],1,this[_0x4b1c("0xb2d")]=[],this[_0x4b1c("0xcfa")]=[],this[_0x4b1c("0xcfb")]=[],this[_0x4b1c("0xb00")]={},this[_0x4b1c("0xb25")]=[],this[_0x4b1c("0x3c2")]=[],this[_0x4b1c("0xc33")]=null,this[_0x4b1c("0xaee")]=[],this[_0x4b1c("0xa30")]={},F=null,this[_0x4b1c("0xcfc")]=[],this[_0x4b1c("0xcfd")]={},this[_0x4b1c("0x3f2")]={},this[_0x4b1c("0xcfe")]={1:12,2:16,3:18},this.counters={buildings:0,models:0},this[_0x4b1c("0xa85")]=[],this[_0x4b1c("0x320")]=!1,this[_0x4b1c("0xd99")]=!1,this[_0x4b1c("0xcff")]=null,this[_0x4b1c("0xd00")]=null,this.userTiles=[],this[_0x4b1c("0xd01")]={},this[_0x4b1c("0xd02")]=!1,this[_0x4b1c("0xa3a")]={},this.failedTiles={},this[_0x4b1c("0xa3c")]=[],this[_0x4b1c("0xa9e")]={},this[_0x4b1c("0xd03")]=[],this[_0x4b1c("0xd04")]="",this[_0x4b1c("0xd05")]=0,this[_0x4b1c("0xd29")]=0,this[_0x4b1c("0x534")]=0,this[_0x4b1c("0xd06")]=0,this.preLoadBuildingId=null}},{key:_0x4b1c("0xd9a"),value:function(x){this[_0x4b1c("0xd09")]&&(this[_0x4b1c("0xd09")][_0x4b1c("0x114")](x)>-1&&(this.failedTiles[x]&&(this.initialViewLen-=1,this[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xe8"),{})),this[_0x4b1c("0xd09")][_0x4b1c("0x5")](this[_0x4b1c("0xd09")][_0x4b1c("0x114")](x),1)),0===this[_0x4b1c("0xd09")].length&&(this.map[_0x4b1c("0xe7")](_0x4b1c("0xd9b")),this.initialTiles=null))}},{key:"tileLoadComplete_",value:function(x){var c=this[_0x4b1c("0x3e")];c.fire(_0x4b1c("0xd9c"),x),this[_0x4b1c("0x3f2")][x.id]&&c[_0x4b1c("0xe7")](_0x4b1c("0xd9d"),x.id),c[_0x4b1c("0x47")].editMode&&c[_0x4b1c("0x47")][_0x4b1c("0x3f0")]&&x[_0x4b1c("0x3f0")]();var b=x.id,_=this[_0x4b1c("0xb2d")].indexOf(b);if(this.solvingList[_0x4b1c("0x5")](_,1),0==this[_0x4b1c("0xb2d")].length&&0==this[_0x4b1c("0xb25")].length&&!this[_0x4b1c("0x3bc")][_0x4b1c("0xd99")]){this[_0x4b1c("0x3bc")][_0x4b1c("0xd99")]=!0;var e=c[_0x4b1c("0x672")],t=!0;for(var i in e){var a=e[i],n=a[_0x4b1c("0x26b")][_0x4b1c("0xa1d")][_0x4b1c("0x0")],r=a[_0x4b1c("0x26b")][_0x4b1c("0xd9e")][_0x4b1c("0x0")];if(n>0||r>0){t=!1;break}}!this[_0x4b1c("0x3bc")][_0x4b1c("0xca4")]&&t&&(this[_0x4b1c("0x3bc")].modelInited=!0)}this[_0x4b1c("0xd9a")](x.id),0==this.currentView.length&&0==this[_0x4b1c("0xb2d")][_0x4b1c("0x0")]&&c[_0x4b1c("0xe7")](_0x4b1c("0xb52"))}},{key:_0x4b1c("0xd9f"),value:function(x){return"NCISKQ"===x?F:null}},{key:_0x4b1c("0x47"),get:function(){return this[_0x4b1c("0x3e")].options}}]),c}();c[_0x4b1c("0xcf8")]=j})[_0x4b1c("0x2")](this,b(62))},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=u(b(14)),e=u(b(78)),t=u(b(15)),i=u(b(9)),a=u(b(6)),n=u(b(7)),r=u(b(8)),s=u(b(0)),o=u(b(1)),f=u(b(79)),l=u(b(111)),d=u(b(35));function u(x){return x&&x.__esModule?x:{default:x}}function h(x){if(x){if(x[_0x4b1c("0xef")]&&x.datas_.o3d_&&(x[_0x4b1c("0xef")][_0x4b1c("0xf0")]=void 0,x.datas_=void 0),x.children)for(var c=0;c<x.children.length;c++)h(x[_0x4b1c("0xf1")][c]);x[_0x4b1c("0xf2")]&&x.geometry.dispose(),x[_0x4b1c("0xf4")]&&(x.material instanceof Array?x.material.forEach((function(x){x&&x[_0x4b1c("0xf3")]()})):x[_0x4b1c("0xf4")][_0x4b1c("0xf3")]())}x=void 0}var g=function(){function x(c){(0,s.default)(this,x),this[_0x4b1c("0x102")]=c[_0x4b1c("0x3e")][_0x4b1c("0x1e1")],this.loader=this[_0x4b1c("0x102")][_0x4b1c("0xda0")],this[_0x4b1c("0xda1")]=c[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0xca3")],this[_0x4b1c("0xda2")]=0,this.autoLoad=1,this[_0x4b1c("0xda3")]=20,this.mapModelsCount=0,this.mergeQueue={},this[_0x4b1c("0xda4")]={},this[_0x4b1c("0xa1d")]=[],this.requisitesQueue=[],this[_0x4b1c("0xa1e")]=[],this[_0x4b1c("0x26d")]=!1,this[_0x4b1c("0x26e")]=!1,this[_0x4b1c("0xda5")]={},this[_0x4b1c("0xda6")]={},this.userMergeQueue={},this[_0x4b1c("0xda7")]=null,this[_0x4b1c("0xda8")]=50,this[_0x4b1c("0xda9")]=1e4,this[_0x4b1c("0x67c")]=new l.default,this[_0x4b1c("0x384")]=!c[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")]&&c.map.options.mergeModel3D,this[_0x4b1c("0x3c7")]={modelTypesCount:0,roomModelsCount:0},this[_0x4b1c("0xb09")]=new(THREE[_0x4b1c("0xdaa")]);var b=this;c[_0x4b1c("0x3e")].on("mapDispose",(function(){0,b[_0x4b1c("0xdab")]=0,b[_0x4b1c("0x3c7")][_0x4b1c("0x671")]=0,b[_0x4b1c("0x3c7")][_0x4b1c("0x3c8")]=0})),c[_0x4b1c("0x3e")].on(_0x4b1c("0x9ce"),(function(){b[_0x4b1c("0x26e")]=!1})),this[_0x4b1c("0x12b")]=c.id,this[_0x4b1c("0x54")]=c,this[_0x4b1c("0x31d")]=b[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")].zoomLevel,c[_0x4b1c("0x3e")].on("controlUpdated",this[_0x4b1c("0xdac")][_0x4b1c("0xe")](this)),c[_0x4b1c("0x3e")].on(_0x4b1c("0xdad"),this[_0x4b1c("0xdac")][_0x4b1c("0xe")](this)),this[_0x4b1c("0x3a9")]=c[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3a9")],this.compressionModel3D&&(this[_0x4b1c("0x7b2")]=new(THREE[_0x4b1c("0x754")]),THREE[_0x4b1c("0x754")].setDecoderPath(c[_0x4b1c("0x3e")][_0x4b1c("0xaeb")].mapOptions[_0x4b1c("0x62")]),THREE[_0x4b1c("0x754")][_0x4b1c("0x7a6")]({type:"wasm"}),this[_0x4b1c("0x559")].setDRACOLoader(this[_0x4b1c("0x7b2")]))}var c,b,u,g;return(0,o.default)(x,[{key:_0x4b1c("0xdae"),value:function(){this[_0x4b1c("0xb09")].inited||(this[_0x4b1c("0xb09")][_0x4b1c("0xc0d")]((new(THREE[_0x4b1c("0x240")]))[_0x4b1c("0x3e2")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x753")],this.scene[_0x4b1c("0x3e")].currentCamera.matrixWorldInverse)),this[_0x4b1c("0xb09")].inited=!0),this[_0x4b1c("0x31d")]=this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x31d")]}},{key:_0x4b1c("0xdaf"),value:function(x,c){var b=x[_0x4b1c("0x1e6")],_=x.url,e=x[_0x4b1c("0x12e")];if(c=c||!1,!(b.indexOf(_0x4b1c("0xd6e"))>-1&&this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3ab")]==_0x4b1c("0x5d3"))){this[_0x4b1c("0xda2")]++,b.indexOf(_0x4b1c("0xdb0"))>-1&&(c=!0);var t=x.showLevel,i=this[_0x4b1c("0x31d")];this.mergeModels&&!c?(this[_0x4b1c("0x2a2")][b]||this[_0x4b1c("0xda1")][b]||(this.loadingList[b]=!0,this[_0x4b1c("0x2e9")](b,_)),i<t?(this[_0x4b1c("0xda4")][t]||(this[_0x4b1c("0xda4")][t]={}),this[_0x4b1c("0xda4")][t][e]||(this[_0x4b1c("0xda4")][t][e]={}),this[_0x4b1c("0xda4")][t][e][b]||(this.mergeQueueWaiting[t][e][b]=[]),this[_0x4b1c("0xda4")][t][e][b].push(x)):(this[_0x4b1c("0xdb1")][e]||(this[_0x4b1c("0xdb1")][e]={}),this[_0x4b1c("0xdb1")][e][b]||(this.mergeQueue[e][b]=[]),this[_0x4b1c("0xdb1")][e][b][_0x4b1c("0x12")](x))):x[_0x4b1c("0x3ff")]<=12?(this[_0x4b1c("0x2a2")][b]||this[_0x4b1c("0xda1")][b]||(this.loadingList[b]=!0,this[_0x4b1c("0x2e9")](b,_)),this[_0x4b1c("0xd9e")].push(x),this[_0x4b1c("0xdb2")]()):(this[_0x4b1c("0xb09")][_0x4b1c("0x92e")](x.position)&&(this[_0x4b1c("0x2a2")][b]||this.loadingList[b]||(this[_0x4b1c("0xda1")][b]=!0,this[_0x4b1c("0x2e9")](b,_))),this[_0x4b1c("0xdb3")](x))}}},{key:_0x4b1c("0xdb2"),value:function(){this[_0x4b1c("0xd9e")][_0x4b1c("0x42b")]((function(x,c){return c[_0x4b1c("0x3ff")]-x[_0x4b1c("0x3ff")]}))}},{key:_0x4b1c("0xdb4"),value:function(x){var c=x[_0x4b1c("0x1e6")],b=x[_0x4b1c("0x4e")];!this[_0x4b1c("0xdb5")]()||this[_0x4b1c("0x102")].map[_0x4b1c("0xb22")]?(this[_0x4b1c("0xda2")]++,this[_0x4b1c("0x2a2")][c]||this[_0x4b1c("0xda1")][c]||(this.loadingList[c]=!0,this[_0x4b1c("0x2e9")](c,b)),x[_0x4b1c("0x11e")]?(this[_0x4b1c("0xdb7")][x.layerid]||(this.userMergeQueue[x[_0x4b1c("0xdb8")]]={}),this[_0x4b1c("0xdb7")][x[_0x4b1c("0xdb8")]][c]||(this[_0x4b1c("0xdb7")][x[_0x4b1c("0xdb8")]][c]=[]),this[_0x4b1c("0xdb7")][x[_0x4b1c("0xdb8")]][c][_0x4b1c("0x12")](x)):this[_0x4b1c("0xdb3")](x)):console[_0x4b1c("0x424")](esmap[_0x4b1c("0x288")][_0x4b1c("0xdb6")])}},{key:_0x4b1c("0x1af"),value:(g=(0,r[_0x4b1c("0xc")])(n.default[_0x4b1c("0x283")]((function x(c){return n.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return x[_0x4b1c("0x286")]=2,this.applyToMap(c);case 2:if(!(this[_0x4b1c("0xd9e")][_0x4b1c("0x0")]>0)){x.next=5;break}return x[_0x4b1c("0x286")]=5,this.applyRequisitToMap();case 5:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return g[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0xdb9"),value:function(x){var c=this,b=this,_=this[_0x4b1c("0x54")],e=b.building.map.id,t=b[_0x4b1c("0xda4")][x];if(t){for(var i in t){var n=t[i];if(n){var r=Array.isArray(n);for(var s in n){s=r?n[s].model:s;var o=n[s],f=[],l=!1;if(b[_0x4b1c("0x2a2")][s]&&o[_0x4b1c("0x0")]>0){var d=function(){o[0][_0x4b1c("0xdba")]&&(l=!0),!l&&s.indexOf(_0x4b1c("0xd6e"))<0&&(b[_0x4b1c("0xdab")]+=o[_0x4b1c("0x0")]);var x=o[0].parent,t=o[0][_0x4b1c("0x4e")],a=o[0][_0x4b1c("0x1e4")];0,0;for(var r=null,d={},u=0;u<o[_0x4b1c("0x0")];u++){var g=o[u];g[_0x4b1c("0x123")]=esmap.ESNodeType[_0x4b1c("0x1df")],g[_0x4b1c("0x3c")]&&(r=g[_0x4b1c("0x3c")],d=c[_0x4b1c("0x102")].map[_0x4b1c("0x20d")](g[_0x4b1c("0x105")])),f.push(g.id)}if(0!=b[_0x4b1c("0x2a2")][s][_0x4b1c("0x2e5")][_0x4b1c("0x267")][_0x4b1c("0x0")]){for(var v=0;v<o[_0x4b1c("0x0")];v++)b[_0x4b1c("0xdaf")](o[v],!0);return"continue"}var p=b[_0x4b1c("0x67c")][_0x4b1c("0x11e")](b[_0x4b1c("0x2a2")][s].gltfObj,o);if(!p){for(var m=0;m<o[_0x4b1c("0x0")];m++)o[m][_0x4b1c("0x11e")]=!1,1,b[_0x4b1c("0xdaf")](o[m]);return{v:void 0}}p[_0x4b1c("0x1f7")]=_0x4b1c("0x107"),p[_0x4b1c("0x165")][_0x4b1c("0xa74")]=!0,p[_0x4b1c("0xef")]={model:s,isWall:l,bid:e,tileId:b.building.id,bType:1,FloorNum:i,nodeType:esmap.ESNodeType[_0x4b1c("0x1df")],brothers:o,animations:[],o3d_:p,url:t,mapCoord:d},r&&(p[_0x4b1c("0xef")][_0x4b1c("0x3c")]=r,c[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0xa9e")][r]=p[_0x4b1c("0xef")]),p.renderOrder=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1fe")],o[0][_0x4b1c("0x427")]&&(2==_[_0x4b1c("0x21a")]?(!b[_0x4b1c("0x102")].map[_0x4b1c("0x47")][_0x4b1c("0xdbb")]&&b[_0x4b1c("0x102")][_0x4b1c("0x3e")].mapPicker[_0x4b1c("0x3ec")](p,_.id),_[_0x4b1c("0xdbc")][i][_0x4b1c("0x1fe")]-=o.length):b[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x3ec")](p,_.id)),x.add(p),c.progressHandler[_0x4b1c("0xe1")](f);var A=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](p),y={};[A[_0x4b1c("0x2f5")].x-A.min.x,A[_0x4b1c("0x2f5")].z-A[_0x4b1c("0x2f6")].z,A[_0x4b1c("0x2f5")].y-A[_0x4b1c("0x2f6")].y][_0x4b1c("0x42b")](),y.box3=A,p[_0x4b1c("0x165")].modelinfo=y,b[_0x4b1c("0x102")].map[_0x4b1c("0x7e")][_0x4b1c("0x674")]-=o[_0x4b1c("0x0")];b[_0x4b1c("0x102")][_0x4b1c("0x3e")].on(_0x4b1c("0x3c0"),(function(){if(b[_0x4b1c("0x102")][_0x4b1c("0x3e")].zoomLevel<a&&p[_0x4b1c("0x108")]){p[_0x4b1c("0x108")][_0x4b1c("0x2ea")](p);var x=b[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x3ed")][b[_0x4b1c("0x54")].id];if(x){var c=x[_0x4b1c("0x114")](p);c>-1&&x.splice(c,1)}b[_0x4b1c("0xda4")][a]||(b.mergeQueueWaiting[a]={}),b.mergeQueueWaiting[a][1]||(b[_0x4b1c("0xda4")][a][1]={});var _=p[_0x4b1c("0xef")][_0x4b1c("0x469")][0].model;b.mergeQueueWaiting[a][1][_]||(b.mergeQueueWaiting[a][1][_]=[]),b[_0x4b1c("0xda4")][a][1][_]=b.mergeQueueWaiting[a][1][_].concat(p[_0x4b1c("0xef")][_0x4b1c("0x469")]),h(p)}})),b[_0x4b1c("0x102")].map.mapService[_0x4b1c("0x2b3")][_0x4b1c("0xa3b")](),b[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0xe7")]("modelLoadComplete",p[_0x4b1c("0xef")]),2==_[_0x4b1c("0x21a")]&&_.options[_0x4b1c("0x576")]&&_[_0x4b1c("0x47")][_0x4b1c("0xdbd")]<1&&_[_0x4b1c("0x575")]!=i&&esmap[_0x4b1c("0x87")][_0x4b1c("0x66a")](i,_[_0x4b1c("0x47")].focusAlpha),n[s]=[]}();if("continue"===d)continue;if((typeof d===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,a.default)(d))===_0x4b1c("0x1d"))return d.v}}}}var u=!0;for(var g in t){var v=t[g];for(var p in v){if(!u)break;if(v[p][_0x4b1c("0x0")]>0&&u){u=!1;break}}}u&&(b[_0x4b1c("0xda4")][x]=null)}}},{key:_0x4b1c("0xdbe"),value:function(x,c){var b=this,_=b.mergeQueue[c];if(_){var e=b[_0x4b1c("0x102")][_0x4b1c("0x3e")].id;for(var t in _){var i=_[t],a=!1;if(b.modelStore[t]&&i[_0x4b1c("0x0")]>0){if(i[0][_0x4b1c("0xdba")]&&(a=!0),!a&&t[_0x4b1c("0x114")](_0x4b1c("0xd6e"))<0&&(b.mapModelsCount+=i[_0x4b1c("0x0")]),!b[_0x4b1c("0x2a2")][t][_0x4b1c("0x2e5")])continue;for(var n=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](b[_0x4b1c("0x2a2")][t][_0x4b1c("0x2e5")][_0x4b1c("0x102")]),r=i[0][_0x4b1c("0x108")],s=i[0].url,o=null,f={},l=n[_0x4b1c("0x2f5")].y-n.min.y,d=[],u=0;u<i[_0x4b1c("0x0")];u++){var h=l*i[u][_0x4b1c("0x201")].y,g=h+i[u][_0x4b1c("0x105")].y-h/2;i[u].Height=1*g[_0x4b1c("0x64d")](2);var v=i[u];v[_0x4b1c("0x123")]=esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")],v.ID=v.id;var p=b.scene.map[_0x4b1c("0x20d")](v[_0x4b1c("0x105")]);v.mapCoord=p,v[_0x4b1c("0x3c")]&&(o=v[_0x4b1c("0x3c")],f=p),d[_0x4b1c("0x12")](v.id)}if(0!=b[_0x4b1c("0x2a2")][t].gltfObj[_0x4b1c("0x267")][_0x4b1c("0x0")]){for(var m=0;m<i[_0x4b1c("0x0")];m++)b[_0x4b1c("0xdaf")](i[m],!0);b.mergeQueue[c][t]=[];continue}var A=b[_0x4b1c("0x67c")][_0x4b1c("0x11e")](b[_0x4b1c("0x2a2")][t].gltfObj,i);if(!A){for(var y=0;y<i[_0x4b1c("0x0")];y++)i[y][_0x4b1c("0x11e")]=!1,1,b.addMapModel(i[y]);return void(b[_0x4b1c("0xdb1")][c][t]=[])}A[_0x4b1c("0x1f7")]="_root_",A[_0x4b1c("0x165")].merged=!0,A.datas_={isWall:a,model:t,bid:e,tileId:b[_0x4b1c("0x54")].id,bType:1,FloorNum:c,nodeType:esmap[_0x4b1c("0x131")].MODEL3D,brothers:i,animations:[],o3d_:A,url:s,mapCoord:f},o&&(A[_0x4b1c("0xef")].mapId=o,this[_0x4b1c("0x102")][_0x4b1c("0x3e")].tileService[_0x4b1c("0xa9e")][o]=A.datas_),A[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")].model3D,i[0].bclick&&(2==x[_0x4b1c("0x21a")]?(!b.scene[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xdbb")]&&b[_0x4b1c("0x102")].map.mapPicker[_0x4b1c("0x3ec")](A,x.id),x[_0x4b1c("0xdbc")][c][_0x4b1c("0x1fe")]-=i.length):b[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x3ec")](A,x.id)),r[_0x4b1c("0xdd")](A),this[_0x4b1c("0x3cb")][_0x4b1c("0xe1")](d);var C=(new(THREE[_0x4b1c("0x2eb")])).setFromObject(A),I={};[C[_0x4b1c("0x2f5")].x-C[_0x4b1c("0x2f6")].x,C[_0x4b1c("0x2f5")].z-C[_0x4b1c("0x2f6")].z,C[_0x4b1c("0x2f5")].y-C[_0x4b1c("0x2f6")].y][_0x4b1c("0x42b")](),I[_0x4b1c("0x2f4")]=C,A[_0x4b1c("0x165")][_0x4b1c("0x2f3")]=I,b[_0x4b1c("0x102")].map[_0x4b1c("0x7e")][_0x4b1c("0x674")]-=i[_0x4b1c("0x0")],b[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0xa3b")](),b[_0x4b1c("0xdb1")][c][t]=[],b.scene[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xdbf"),A[_0x4b1c("0xef")]),2==x.buildingType&&x[_0x4b1c("0x47")][_0x4b1c("0x576")]&&x[_0x4b1c("0x47")][_0x4b1c("0xdbd")]<1&&x.focusFloorNum!=c&&esmap.ESMapUtil[_0x4b1c("0x66a")](c,x[_0x4b1c("0x47")].focusAlpha)}}}}},{key:_0x4b1c("0xdc0"),value:function(){var x=this,c=this;return new i.default((function(b){for(var _=0,e=0;e<c.requisitesQueue[_0x4b1c("0x0")];e++){var t=c[_0x4b1c("0xd9e")][e];if(_>=x[_0x4b1c("0xda3")])break;c[_0x4b1c("0x2a2")][t[_0x4b1c("0x1e6")]]?(c[_0x4b1c("0xd9e")][_0x4b1c("0x5")](e,1),e--,c.loadExist(t),_++):c[_0x4b1c("0xda1")][t.model]||(c.loadingList[t[_0x4b1c("0x1e6")]]=!0,c[_0x4b1c("0x2e9")](t[_0x4b1c("0x1e6")],t[_0x4b1c("0x4e")]))}b()}))}},{key:_0x4b1c("0xdc1"),value:function(){var x=this;if(x[_0x4b1c("0x384")]&&x[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26c")]&&!this[_0x4b1c("0x26e")]&&x.scene[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x382")]){for(var c=x[_0x4b1c("0x102")].map.scaleLevel,b=x[_0x4b1c("0x54")],_=0;_<b[_0x4b1c("0x0")];_++){var e=x[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x662")](b[_]);if(!e)return;var t=e[_0x4b1c("0xa6e")](_0x4b1c("0xdc2"))[0];if(!t)return;var i=t[_0x4b1c("0xf0")][_0x4b1c("0xf1")];this[_0x4b1c("0x102")][_0x4b1c("0x3e")].firstPersonMode?this[_0x4b1c("0x102")].map[_0x4b1c("0x64c")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")].currentCamera[_0x4b1c("0x105")]):this.scene.map.controls[_0x4b1c("0x2c7")][_0x4b1c("0x124")](this[_0x4b1c("0x102")].map[_0x4b1c("0x26a")][_0x4b1c("0x105")]);for(var a=0;a<i[_0x4b1c("0x0")];a++){for(var n=i[a],r=n[_0x4b1c("0xef")][_0x4b1c("0x469")],s=[],o=[],f=0;f<r[_0x4b1c("0x0")];f++){var l=r[f],d=l[_0x4b1c("0x105")][_0x4b1c("0x13e")]();d[_0x4b1c("0xb48")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")]);var u=!1;(Math[_0x4b1c("0x23d")](d.x)>=1.5||Math[_0x4b1c("0x23d")](d.y)>=1.5)&&(u=!0);var h=x.GLTFMergeTool[_0x4b1c("0x459")](n,l.id);l[_0x4b1c("0x1e4")]<c||u?h&&s[_0x4b1c("0x12")](l.id):!h&&o.push(l.id)}x[_0x4b1c("0x67c")][_0x4b1c("0x458")](n,s,!1),x[_0x4b1c("0x67c")].setModelVisible(n,o,!0)}}this[_0x4b1c("0x26e")]=!0}}},{key:_0x4b1c("0xdc3"),value:function(){var x=this;if(!x[_0x4b1c("0x384")]&&x[_0x4b1c("0x102")].map.enableCollide&&!this.viewRangeUpdated){var c=new(THREE[_0x4b1c("0xdaa")]);c[_0x4b1c("0xc0d")]((new THREE.Matrix4)[_0x4b1c("0x3e2")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x753")],this.scene[_0x4b1c("0x3e")].currentCamera[_0x4b1c("0x3e3")]));var b=x[_0x4b1c("0x54")][_0x4b1c("0x3f6")][_0x4b1c("0xa6e")](_0x4b1c("0xa6f"))[0];if(!b)return;var _=b[_0x4b1c("0xf0")].children;this.scene.map[_0x4b1c("0x9f1")]?this[_0x4b1c("0x102")].map[_0x4b1c("0x64c")][_0x4b1c("0x2c7")].distanceTo(this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x105")]):this[_0x4b1c("0x102")].map[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x105")]);for(var e=0;e<_[_0x4b1c("0x0")];e++){var t=_[e],i=(t[_0x4b1c("0x105")],t[_0x4b1c("0x165")][_0x4b1c("0x2f3")][_0x4b1c("0xdc4")],t[_0x4b1c("0x165")][_0x4b1c("0x2f3")][_0x4b1c("0x2f4")]);c[_0x4b1c("0x92f")](i)||(x[_0x4b1c("0xa1e")][_0x4b1c("0x12")](t.userData[_0x4b1c("0x2f3")]),t[_0x4b1c("0xef")][_0x4b1c("0xf3")](),e--)}this[_0x4b1c("0x26e")]=!0}}},{key:_0x4b1c("0xdc5"),value:function(x,c,b,_){var e=this;return new(i[_0x4b1c("0xc")])((function(t){if(e[_0x4b1c("0x2a2")][b]&&c[_0x4b1c("0x0")]>0){e[_0x4b1c("0xdab")]+=c.length;var i=c[0][_0x4b1c("0x108")],a=c[0].url,n=(new THREE.Box3)[_0x4b1c("0x2e6")](e[_0x4b1c("0x2a2")][b][_0x4b1c("0x2e5")].scene),r=(n[_0x4b1c("0x2f5")].y-n.min.y)/2,s=0,o=0;if(0!=e.modelStore[b].gltfObj.animations.length){for(var f=0;f<c[_0x4b1c("0x0")];f++)c[f][_0x4b1c("0x11e")]=!1,1,e[_0x4b1c("0xdb4")](c[f]);return void(e.userMergeQueue[_][b]=[])}for(var l=n.max.y-n.min.y,d=!1,u=0;u<c[_0x4b1c("0x0")];u++){c[u].nodeType=esmap.ESNodeType[_0x4b1c("0x1df")];var g=l*c[u][_0x4b1c("0x201")].y+c[u][_0x4b1c("0x105")].y-l/2;c[u][_0x4b1c("0x305")]=1*g[_0x4b1c("0x64d")](2),c[u][_0x4b1c("0x105")].y+=r*c[u][_0x4b1c("0x201")].y,0==u&&c[u][_0x4b1c("0xdba")]&&(d=!0),2==x[_0x4b1c("0x21a")]&&(s=x.sourceData[_0x4b1c("0xcba")]-e.scene[_0x4b1c("0x2de")],o=x.sourceData[_0x4b1c("0xd92")]-e[_0x4b1c("0x102")][_0x4b1c("0x2df")]);var v=c[u][_0x4b1c("0x105")];c[u].position.x=v.x-s,c[u].position.z=v.z-o}var p=e[_0x4b1c("0x67c")][_0x4b1c("0x11e")](e[_0x4b1c("0x2a2")][b][_0x4b1c("0x2e5")],c);if(!p){for(var m=0;m<c[_0x4b1c("0x0")];m++)c[m][_0x4b1c("0x11e")]=!1,1,e.addUserModel(c[m]);return void(e.userMergeQueue[_][b]=[])}p[_0x4b1c("0x1f7")]=_0x4b1c("0x107");var A=c[0][_0x4b1c("0x12e")];p[_0x4b1c("0x165")][_0x4b1c("0xa74")]=!0;p.datas_={model:b,isWall:d,bid:e[_0x4b1c("0x102")].map.id,tileId:x.id,FloorNum:A,nodeType:esmap.ESNodeType[_0x4b1c("0x1df")],brothers:c,animations:[],url:a,bType:1,o3d_:p,dispose:function(x){(x=x||this)[_0x4b1c("0x191")]=!1;var c=x[_0x4b1c("0x108")];return c?(c[_0x4b1c("0x2ea")](x),h(x),!0):void 0}.bind(p)},p[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1fe")],c[0].bclick&&(2==x[_0x4b1c("0x21a")]?!e[_0x4b1c("0x102")].map[_0x4b1c("0x47")].disableIndoorClick&&e[_0x4b1c("0x102")].map[_0x4b1c("0x232")][_0x4b1c("0x3ec")](p,x.id):e[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x3ec")](p,x.id)),i[_0x4b1c("0xdd")](p),e[_0x4b1c("0x102")].map.mapService[_0x4b1c("0x674")]-=c[_0x4b1c("0x0")],e[_0x4b1c("0xdb7")][_][b]=[],e[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xdbf"),p[_0x4b1c("0xef")]),e[_0x4b1c("0x102")].map[_0x4b1c("0x47")][_0x4b1c("0x576")]&&e[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xdbd")]<1&&e[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x575")]!=A&&esmap[_0x4b1c("0x87")][_0x4b1c("0x66a")](A,e[_0x4b1c("0x102")].map.options[_0x4b1c("0xdbd")])}t()}))}},{key:_0x4b1c("0xdc6"),value:(u=(0,r[_0x4b1c("0xc")])(n.default.mark((function x(c,b){var _,e,t,i,a;return n[_0x4b1c("0xc")].wrap((function(x){for(;;)switch(x.prev=x.next){case 0:for(t in e=(_=this).userMergeQueue[b])e[t][_0x4b1c("0x0")];x.t0=n.default.keys(e);case 5:if((x.t1=x.t0())[_0x4b1c("0x40f")]){x.next=12;break}return i=x.t1.value,a=e[i],x[_0x4b1c("0x286")]=10,_[_0x4b1c("0xdc5")](c,a,i,b);case 10:x[_0x4b1c("0x286")]=5;break;case 12:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x,c){return u[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0xdb5"),value:function(){return!1}},{key:_0x4b1c("0xdac"),value:function(){var x=this,c=this.scene[_0x4b1c("0x3e")][_0x4b1c("0x31d")],b=function(b){if(!x[_0x4b1c("0xda4")][b])return _0x4b1c("0x686");c>=b&&setTimeout((function(){x[_0x4b1c("0xdb9")](b)}),0)};for(var _ in this.mergeQueueWaiting){b(_);_0x4b1c("0x686")}}},{key:_0x4b1c("0xdc7"),value:function(){var x=this,c=this[_0x4b1c("0x54")];if(this[_0x4b1c("0x384")])for(var b in this.mapModelLoadStatus)this.mapModelLoadStatus[b]&&this.startLoadModelsByFLoor(c,b);for(var _ in this.userMergeQueue)this[_0x4b1c("0xda6")][_]&&this[_0x4b1c("0xdc6")](c,_);if(this[_0x4b1c("0xdc8")]&&x[_0x4b1c("0xd9e")][_0x4b1c("0x0")]>0&&x[_0x4b1c("0x1af")](),this[_0x4b1c("0xdc8")]&&x[_0x4b1c("0x102")].map[_0x4b1c("0x26c")]&&(x[_0x4b1c("0xa1d")][_0x4b1c("0x0")]>0||x[_0x4b1c("0xa1e")][_0x4b1c("0x0")]>0)){if(!this[_0x4b1c("0x26d")]){var e=x[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x9f1")];if(this[_0x4b1c("0xda7")]||(e?this.lasViewCenter=this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x64c")][_0x4b1c("0x2c7")][_0x4b1c("0x13e")]():this[_0x4b1c("0xda7")]=this[_0x4b1c("0x102")][_0x4b1c("0x3e")].controls[_0x4b1c("0x2c7")].clone()),x[_0x4b1c("0xa1d")]=x.queue.concat(x[_0x4b1c("0xa1e")]),x[_0x4b1c("0xa1e")]=[],x[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x382")]){var t=new(THREE[_0x4b1c("0xdaa")]);e?this.scene[_0x4b1c("0x3e")][_0x4b1c("0x64c")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](this[_0x4b1c("0x102")].map.currentCamera[_0x4b1c("0x105")]):this[_0x4b1c("0x102")].map[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")].position);var i=e?this.scene[_0x4b1c("0x3e")][_0x4b1c("0x64c")][_0x4b1c("0x2c7")]:this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x266")].target;t[_0x4b1c("0xc0d")]((new(THREE[_0x4b1c("0x240")]))[_0x4b1c("0x3e2")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")].currentCamera[_0x4b1c("0x753")],this[_0x4b1c("0x102")].map.currentCamera.matrixWorldInverse));for(var a=0;a<x[_0x4b1c("0xa1d")][_0x4b1c("0x0")];a++){if(x[_0x4b1c("0xa1d")][a][_0x4b1c("0xdc9")]=1/x[_0x4b1c("0xa1d")][a].position[_0x4b1c("0x124")](i),x[_0x4b1c("0xa1d")][a][_0x4b1c("0x2f4")]){if(!t[_0x4b1c("0x92f")](x.queue[a].box3)){x.toAddQueue[_0x4b1c("0x12")](x.queue[a]),x[_0x4b1c("0xa1d")][_0x4b1c("0x5")](a,1),a--;continue}x.queue[a][_0x4b1c("0xdc9")]=1/x[_0x4b1c("0xa1d")][a][_0x4b1c("0x105")].distanceTo(i)}else if(!t[_0x4b1c("0x92e")](x.queue[a][_0x4b1c("0x105")])){x[_0x4b1c("0xa1e")][_0x4b1c("0x12")](x[_0x4b1c("0xa1d")][a]),x[_0x4b1c("0xa1d")][_0x4b1c("0x5")](a,1),a--;continue}}for(var n=c[_0x4b1c("0x3f6")].getLayersByNames(_0x4b1c("0xa6f"))[0][_0x4b1c("0xf0")].children,r=[],s=0;s<n[_0x4b1c("0x0")];s++){var o=n[s];if(!o[_0x4b1c("0xef")][_0x4b1c("0xdca")]){o[_0x4b1c("0x165")].modelinfo[_0x4b1c("0xdc4")],x.scene[_0x4b1c("0x3e")][_0x4b1c("0xdcb")];var f={modelrank:1/o[_0x4b1c("0x105")].distanceTo(i),model:o,ind:s};r[_0x4b1c("0x12")](f)}}var l=[];(l=[][_0x4b1c("0x377")](r,x[_0x4b1c("0xa1d")]))[_0x4b1c("0x42b")]((function(x,c){return c[_0x4b1c("0xdc9")]-x[_0x4b1c("0xdc9")]}));var d=[];if(l[_0x4b1c("0x0")]>x[_0x4b1c("0xda9")]){d=l[_0x4b1c("0x5")](x[_0x4b1c("0xda9")]);for(var u=0;u<d.length;u++)d[u][_0x4b1c("0x1")]("ind")?(x[_0x4b1c("0xa1e")].push(d[u][_0x4b1c("0x1e6")][_0x4b1c("0x165")][_0x4b1c("0x2f3")]),d[u][_0x4b1c("0x1e6")][_0x4b1c("0xef")][_0x4b1c("0xf3")](),d[u][_0x4b1c("0x1e6")]=null):x[_0x4b1c("0xa1e")][_0x4b1c("0x12")](d[u]),d[_0x4b1c("0x5")](u,1),u--}for(var h=0;h<l.length;h++)l[h].hasOwnProperty(_0x4b1c("0xdcc"))&&(l[_0x4b1c("0x5")](h,1),h--);x[_0x4b1c("0xa1d")]=l}this[_0x4b1c("0xdcd")](),this[_0x4b1c("0x26d")]=!0,e?this[_0x4b1c("0xda7")]=this[_0x4b1c("0x102")][_0x4b1c("0x3e")].firstPersonControls[_0x4b1c("0x2c7")].clone():this.lasViewCenter=this[_0x4b1c("0x102")].map[_0x4b1c("0x266")][_0x4b1c("0x2c7")].clone()}x.start(c)}}},{key:_0x4b1c("0xdb3"),value:function(x){for(var c=this.scene[_0x4b1c("0x3e")][_0x4b1c("0x9f1")]?this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x64c")].target:this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x266")].target,b=this[_0x4b1c("0xa1d")][_0x4b1c("0x0")],_=x[_0x4b1c("0x105")][_0x4b1c("0x124")](c),e=0;e<b;e++){if(this[_0x4b1c("0xa1d")][e][_0x4b1c("0x105")].distanceTo(c)>=_)return void this[_0x4b1c("0xa1d")][_0x4b1c("0x5")](e,0,x)}this[_0x4b1c("0xa1e")][_0x4b1c("0x12")](x),this[_0x4b1c("0x102")][_0x4b1c("0x3e")].enableCollide=!0}},{key:_0x4b1c("0xdcd"),value:function(){var x=this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x9f1")]?this[_0x4b1c("0x102")].map[_0x4b1c("0x64c")][_0x4b1c("0x2c7")]:this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0x2c7")];this[_0x4b1c("0xa1d")][_0x4b1c("0x0")];this[_0x4b1c("0xa1d")][_0x4b1c("0x42b")]((function(c,b){return c.position[_0x4b1c("0x124")](x)-b[_0x4b1c("0x105")][_0x4b1c("0x124")](x)})),this[_0x4b1c("0xa1d")]}},{key:_0x4b1c("0xdce"),value:function(){var x=this,c=this;return new i.default((function(b){for(var _=0,e=0;e<c[_0x4b1c("0xa1d")][_0x4b1c("0x0")];e++){var t=c.queue[e];if(_>=x[_0x4b1c("0xda3")])break;c[_0x4b1c("0x2a2")][t[_0x4b1c("0x1e6")]]?(c[_0x4b1c("0xa1d")][_0x4b1c("0x5")](e,1),e--,c[_0x4b1c("0xdcf")](t),_++):c[_0x4b1c("0xda1")][t.model]||(c.loadingList[t[_0x4b1c("0x1e6")]]=!0,c.preFetchModel3D(t.model,t[_0x4b1c("0x4e")]))}b()}))}},{key:_0x4b1c("0xdcf"),value:function(x){if(this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xdd0")][_0x4b1c("0x0")]>0){var c=!0,b=!1,_=void 0;try{for(var e,i=(0,t[_0x4b1c("0xc")])(this[_0x4b1c("0x102")].map[_0x4b1c("0x47")][_0x4b1c("0xdd0")]);!(c=(e=i[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);c=!0){var a=e.value;if(x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1f7")][_0x4b1c("0x114")](a)>-1)return}}catch(x){b=!0,_=x}finally{try{!c&&i[_0x4b1c("0x28a")]&&i[_0x4b1c("0x28a")]()}finally{if(b)throw _}}}var n,r=this,s=this[_0x4b1c("0x54")],o=x[_0x4b1c("0x1e6")],f=r[_0x4b1c("0x2a2")][o].gltfObj[_0x4b1c("0x102")],l=r.modelStore[o][_0x4b1c("0xdd1")],d=(l[_0x4b1c("0x0")],!1);f.children[_0x4b1c("0x1c")]((function(x){(x instanceof THREE[_0x4b1c("0x8bb")]||x instanceof THREE[_0x4b1c("0x8ef")])&&(d=!0)})),n=d?THREE.SkeletonUtils[_0x4b1c("0x13e")](f):f[_0x4b1c("0x13e")](),r[_0x4b1c("0x4")](n,x,l,s)}},{key:_0x4b1c("0x4"),value:function(x,c,b){var _=this,t=this,a=this[_0x4b1c("0x54")],n=a[_0x4b1c("0x3e")].id;return new(i[_0x4b1c("0xc")])((function(i){b=b||[];var r=t[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x232")],s=(c[_0x4b1c("0x12e")],null),o=null,l={},d=null,u=!1;x[_0x4b1c("0x103")]((function(x){if(x&&x[_0x4b1c("0x1f7")])if(x.name[_0x4b1c("0x114")](_0x4b1c("0xdd2"))>-1){r.hoverList[_0x4b1c("0x12")](x);var c=x.name.split("-"),b=c[c[_0x4b1c("0x0")]-1];l[b]||(l[b]={floorObj:null,floorLabel:null,lineGroup:null}),l[b][_0x4b1c("0xdd3")]=x,x[_0x4b1c("0x165")][_0x4b1c("0xc0b")]=b}else if(x[_0x4b1c("0x1f7")][_0x4b1c("0x114")](_0x4b1c("0xdd4"))>-1)s=x,o=x[_0x4b1c("0x108")];else if(x[_0x4b1c("0x1f7")][_0x4b1c("0x114")](_0x4b1c("0xdd5"))>-1){var _=x[_0x4b1c("0x1f7")].split("-"),e=_[_[_0x4b1c("0x0")]-1];l[e]||(l[e]={floorObj:null,floorLabel:null,lineGroup:null}),l[e][_0x4b1c("0xdd6")]=x}else x.name.indexOf(_0x4b1c("0xdd7"))>-1&&(d=x)})),d&&(u=!0),s&&o[_0x4b1c("0x2ea")](s);var h=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](x);h[_0x4b1c("0x2e7")](x.position),x[_0x4b1c("0x105")][_0x4b1c("0x253")](-1),s&&o[_0x4b1c("0xdd")](s);var g,v,p=h.max.y-h[_0x4b1c("0x2f6")].y;h[_0x4b1c("0x2f5")].x,h.min.x;g=p<1?15:20,g*=c[_0x4b1c("0x201")].y;var m=c[_0x4b1c("0x1f8")]||!1;if(c[_0x4b1c("0xdd8")]){0;var A=c[_0x4b1c("0x4e")][_0x4b1c("0x287")]("/"),y=c[_0x4b1c("0x4e")];A>-1&&(y=c.url[_0x4b1c("0x1e5")](A+1)),v=c[_0x4b1c("0xdd8")],c.marker[_0x4b1c("0x20e")]=c[_0x4b1c("0x108")],c[_0x4b1c("0xdd8")][_0x4b1c("0xdd9")]=c.callbackparams,c[_0x4b1c("0xdd8")][_0x4b1c("0x1ff")]=x,c[_0x4b1c("0xdd8")].model=y,c[_0x4b1c("0xdd8")].animations=b,c[_0x4b1c("0xdd8")][_0x4b1c("0x1f8")]=m,c.marker[_0x4b1c("0x39")](),c[_0x4b1c("0xdd8")].on("removed",(function(){0})),c[_0x4b1c("0xdba")]&&(c[_0x4b1c("0xdd8")][_0x4b1c("0x42d")]=!0)}else{var C=c[_0x4b1c("0x105")];for(var I in c[_0x4b1c("0x105")].x=C.x-0,c.position.y=C.y,c[_0x4b1c("0x105")].z=C.z-0,(v=new(f[_0x4b1c("0xc")])({diableClickEffect:u,name:c[_0x4b1c("0x1f7")],fnum:c[_0x4b1c("0x12e")],ID:c.id,url:c[_0x4b1c("0x4e")],gid:c[_0x4b1c("0xc14")],mapId:c[_0x4b1c("0x3c")],bid:n,dataID:c[_0x4b1c("0x219")],bType:1,model:c[_0x4b1c("0x1e6")],callback:c[_0x4b1c("0x1b0")],top:c.top,rotation:c[_0x4b1c("0x202")],position:c[_0x4b1c("0x105")],scale:c[_0x4b1c("0x201")],scaleRate:g,child:x,addTo:c[_0x4b1c("0x108")],isChildNode:m,animations:b})).tileId=c[_0x4b1c("0xa4")],c[_0x4b1c("0xdba")]&&(v[_0x4b1c("0x42d")]=!0),l){var E=l[I];E[_0x4b1c("0xdd3")].userData[_0x4b1c("0x688")]=E[_0x4b1c("0xdd6")],d&&(d.visible=!1,E[_0x4b1c("0xdd3")][_0x4b1c("0x165")][_0x4b1c("0xc07")]=d),E[_0x4b1c("0xdd3")][_0x4b1c("0x165")][_0x4b1c("0x1e6")]=v;var w=E[_0x4b1c("0xdd3")][_0x4b1c("0xf1")];for(var T in w)w[T].userData.label=E[_0x4b1c("0xdd6")],d&&(w[T][_0x4b1c("0x165")].lineGroup=d),w[T][_0x4b1c("0x165")][_0x4b1c("0x1e6")]=v,w[T][_0x4b1c("0x165")][_0x4b1c("0xc0b")]=I,w[T][_0x4b1c("0x165")][_0x4b1c("0xc09")]=E.floorObj}v[_0x4b1c("0x39")](),_[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x674")]--,c.model[_0x4b1c("0x63")](_0x4b1c("0xdda"))&&(v[_0x4b1c("0x2e3")]=c[_0x4b1c("0x1e6")].replace("lod.gltf",""),v[_0x4b1c("0x2e1")]()),v.ID!=_0x4b1c("0xddb")&&_[_0x4b1c("0x3cb")][_0x4b1c("0xe2")](v.ID)}c[_0x4b1c("0xddc")]&&c[_0x4b1c("0xddc")].MA&&(0,e[_0x4b1c("0xc")])(c.brief.MA)[_0x4b1c("0x1c")]((function(x){var c=x.n,_=x.t,e=x.dt,t=x.l;b[_0x4b1c("0xddd")]((function(x){return x==c}))?v[_0x4b1c("0x269")]({name:c,time:_,delay:e,loop:t}):console[_0x4b1c("0xe3")](_0x4b1c("0xdde")+c+_0x4b1c("0xddf"))}));var k=v[_0x4b1c("0xf0")],S=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](k),M=[S[_0x4b1c("0x2f5")].x-S[_0x4b1c("0x2f6")].x,S[_0x4b1c("0x2f5")].z-S.min.z,S[_0x4b1c("0x2f5")].y-S[_0x4b1c("0x2f6")].y];M[_0x4b1c("0x42b")](),c.sizeInfo=M[1]*M[2],c[_0x4b1c("0x2f4")]=S,k[_0x4b1c("0x165")][_0x4b1c("0x2f3")]=c,k[_0x4b1c("0x165")][_0x4b1c("0x2f4")]=S,2==a[_0x4b1c("0x21a")]?t[_0x4b1c("0x272")](a,k):_[_0x4b1c("0xde0")](k),"wallmodel_prefetch"!=c.id&&(c[_0x4b1c("0x427")]||t[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")].editMode)&&(2==a[_0x4b1c("0x21a")]?c.marker?r[_0x4b1c("0x3ec")](k,a.id):t[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")].disableIndoorClick||r[_0x4b1c("0x3ec")](k,a.id):r[_0x4b1c("0x3ec")](k,a.id)),v[_0x4b1c("0x3c")]&&(_[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0xa9e")][v[_0x4b1c("0x3c")]]=v),_[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0xa3b")](),_.scene.map.fire(_0x4b1c("0xdbf"),v),i()}))}},{key:_0x4b1c("0x2e9"),value:function(x,c,b){if(!(this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xde1")][_0x4b1c("0x0")]>0&&this[_0x4b1c("0x102")][_0x4b1c("0x3e")].options[_0x4b1c("0xde1")].indexOf(x)>-1)){var _=this,e=this.building,t=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],i=t[_0x4b1c("0x13f")].model3DsRGBCity;t[_0x4b1c("0x47")][_0x4b1c("0x1f6")]&&!1;var a=esmap.ESRenderOrder[_0x4b1c("0x1fe")];t[_0x4b1c("0x7e")][_0x4b1c("0xca5")][x]=!0;var n=t.id;this[_0x4b1c("0x559")][_0x4b1c("0x187")](c,(function(c){t[_0x4b1c("0x7e")][_0x4b1c("0xca5")][x]=!1,_[_0x4b1c("0xda2")]--,_[_0x4b1c("0x3c7")][_0x4b1c("0x671")]++,_.loadingList[x]=!1;var e=new(THREE[_0x4b1c("0x28c")])(c[_0x4b1c("0x102")]);e[_0x4b1c("0x29c")]=!1;var n=[];c[_0x4b1c("0x267")][_0x4b1c("0x1c")]((function(x){n[_0x4b1c("0x12")](x[_0x4b1c("0x1f7")].toLocaleLowerCase())})),c.scene[_0x4b1c("0x103")]((function(x){x[_0x4b1c("0x172")]=a,x[_0x4b1c("0xf4")]&&x.material[_0x4b1c("0xde2")]&&(x[_0x4b1c("0xf4")][_0x4b1c("0x1f7")][_0x4b1c("0x114")]("$basic")>-1&&(x[_0x4b1c("0xf4")]=new(THREE[_0x4b1c("0x144")])({color:x[_0x4b1c("0xf4")][_0x4b1c("0x147")],map:x[_0x4b1c("0xf4")][_0x4b1c("0x3e")],transparent:x[_0x4b1c("0xf4")].transparent,opacity:x[_0x4b1c("0xf4")].opacity,side:x.material[_0x4b1c("0x15b")]})),x[_0x4b1c("0xf4")][_0x4b1c("0x143")]||(x.material[_0x4b1c("0x143")]=.9),x[_0x4b1c("0xf4")].map&&(x[_0x4b1c("0xf4")].map.name[_0x4b1c("0x114")]("jpg")>-1&&(x[_0x4b1c("0xf4")].transparent=!1),i||(x.material.map[_0x4b1c("0x8b5")]=THREE[_0x4b1c("0xde3")])),!c[_0x4b1c("0x102")].userData[_0x4b1c("0xde4")]&&x.material[_0x4b1c("0x1f7")][_0x4b1c("0x114")]("depth")>=0&&(c[_0x4b1c("0x102")][_0x4b1c("0x165")].needDepth=!0))}));var r=null;c[_0x4b1c("0xfe")]&&c[_0x4b1c("0xfe")][_0x4b1c("0xff")]&&c[_0x4b1c("0xfe")].json.ms&&(r=c[_0x4b1c("0xfe")][_0x4b1c("0xff")].ms),_[_0x4b1c("0x2a2")][x]={mixer:e,gltfObj:c,queue:[],animations:c[_0x4b1c("0x267")],animNames:n,ms:r},b&&b(c),t[_0x4b1c("0xe7")](_0x4b1c("0xdad"),{name:x,gltfObj:c}),_[_0x4b1c("0x26d")]=!1,t[_0x4b1c("0x672")][_0x4b1c("0x1c")]((function(x){return x[_0x4b1c("0x26b")][_0x4b1c("0xde5")]()}))}),(function(){}),(function(c){var b=null,i=d[_0x4b1c("0xc")][_0x4b1c("0xde")](e.id);_[_0x4b1c("0xda2")]--;var a=_[_0x4b1c("0xdb1")];for(var n in a){var r=a[n];for(var s in r)if(s==x){var o=r[s][_0x4b1c("0x3e")]((function(x){return x.id}));r[s]=[],i[_0x4b1c("0xe1")](o)}}for(var f=_[_0x4b1c("0xa1d")],l=0;l<f[_0x4b1c("0x0")];l++){var u=f[l];if(u[_0x4b1c("0x1e6")]==x){var h=u.id;b=h,f[_0x4b1c("0x5")](l,1),h!==_0x4b1c("0xddb")&&i[_0x4b1c("0xe2")](h),l--}}for(var g=_.toAddQueue,v=0;v<g.length;v++){var p=g[v];if(p.model==x){var m=p.id;b=m,g[_0x4b1c("0x5")](v,1),m!==_0x4b1c("0xddb")&&i.pop(m),v--}}for(var A=_[_0x4b1c("0xa1e")],y=0;y<A[_0x4b1c("0x0")];y++){var C=A[y];if(C.model==x){var I=C.id;b=I,A[_0x4b1c("0x5")](y,1),I!==_0x4b1c("0xddb")&&i.pop(I),y--}}t[_0x4b1c("0xe7")]("modelPrefetchFailed",{name:x,id:b});_0x4b1c("0xde6");c&&c[_0x4b1c("0x2f")]&&c[_0x4b1c("0x2f")](),c===_0x4b1c("0x89c")&&t[_0x4b1c("0x47")][_0x4b1c("0x1f6")]&&t[_0x4b1c("0x7e")].getState("sk")&&t[_0x4b1c("0x7e")].cache.enabled&&(t[_0x4b1c("0x7e")][_0x4b1c("0x873")][_0x4b1c("0x70b")]=!1,t[_0x4b1c("0x7e")][_0x4b1c("0x873")][_0x4b1c("0xcdc")]([t.id])),_[_0x4b1c("0x2a2")][x]={},t.tileList[_0x4b1c("0x1c")]((function(x){return x[_0x4b1c("0x26b")][_0x4b1c("0xde5")]()}))}),n)}}},{key:"setMatAlpha",value:function(x){var c=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1fe")];x.name[_0x4b1c("0x114")]("depth")>=0&&(x.depthWrite=!1),obj[_0x4b1c("0x172")]=c,x.needsUpdate=!0}},{key:"setAlpha2",value:(b=(0,r[_0x4b1c("0xc")])(n[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b;return n.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:b=esmap.ESRenderOrder[_0x4b1c("0x1fe")],c[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xf4")]){if(x[_0x4b1c("0xf4")]instanceof Array)for(var c=0;c<x[_0x4b1c("0xf4")][_0x4b1c("0x0")];c++){var _=x[_0x4b1c("0xf4")][c];_[_0x4b1c("0x1f7")].indexOf(_0x4b1c("0x2f1"))>=0&&(_[_0x4b1c("0x16f")]=!1,_[_0x4b1c("0x188")]=!0)}else x[_0x4b1c("0xf4")].name.indexOf(_0x4b1c("0x2f1"))>=0&&(x.material.depthWrite=!1,x[_0x4b1c("0xf4")].needsUpdate=!0);x[_0x4b1c("0x172")]=b}}));case 2:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return b[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x272"),value:(c=(0,r[_0x4b1c("0xc")])(n[_0x4b1c("0xc")].mark((function x(c,b){var _,e,t;return n[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:_=b[_0x4b1c("0xef")][_0x4b1c("0x210")],e=c[_0x4b1c("0xb01")][_],t=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1fe")],e&&e[_0x4b1c("0x191")]&&(c[_0x4b1c("0x47")][_0x4b1c("0xdbd")],b[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xf4")]){if(x[_0x4b1c("0xf4")]instanceof Array)for(var c=0;c<x[_0x4b1c("0xf4")][_0x4b1c("0x0")];c++){var b=x.material[c];b[_0x4b1c("0x1f7")][_0x4b1c("0x114")](_0x4b1c("0x2f1"))>=0&&(b[_0x4b1c("0x16f")]=!1,b[_0x4b1c("0x188")]=!0)}else x[_0x4b1c("0xf4")][_0x4b1c("0x1f7")][_0x4b1c("0x114")]("depth")>=0&&(x[_0x4b1c("0xf4")][_0x4b1c("0x16f")]=!1,x[_0x4b1c("0xf4")][_0x4b1c("0x188")]=!0);x[_0x4b1c("0x172")]=t}})));case 6:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x,b){return c.apply(this,arguments)})},{key:_0x4b1c("0xde5"),value:function(){if(!this.scene[_0x4b1c("0x3e")][_0x4b1c("0xde7")]&&0!=(0,_[_0x4b1c("0xc")])(this[_0x4b1c("0xda1")])[_0x4b1c("0x0")]&&0!=(0,_[_0x4b1c("0xc")])(this.modelStore).length){for(var x in this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x9e7")]=!0,this[_0x4b1c("0xda1")])if(!this.modelStore[x]){this.scene[_0x4b1c("0x3e")][_0x4b1c("0x9e7")]=!1;break}return this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x9e7")]&&!this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x9e6")]&&(this[_0x4b1c("0x102")].map.cityModelLoadedAllSign=!0,this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xa35"),{bid:this[_0x4b1c("0x102")][_0x4b1c("0x3e")].id}),this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0xde7")]=!0),this.scene[_0x4b1c("0x3e")][_0x4b1c("0x9e7")]}}},{key:"progressHandler",get:function(){return this.building[_0x4b1c("0x3cb")]}},{key:_0x4b1c("0x2a2"),get:function(){return this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x2a2")]}}]),x}();c[_0x4b1c("0xc")]=g},,,,,,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=o(b(7)),e=o(b(8)),t=o(b(0)),i=o(b(1)),a=b(151),n=b(32),r=o(b(26)),s=o(b(152));function o(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var f=null,l=function(){function x(c){var b=this;(0,t[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x102")]=c.map[_0x4b1c("0x1e1")],this[_0x4b1c("0x55a")]=c,this[_0x4b1c("0xa14")]={},this.baseLayers={},this[_0x4b1c("0xde8")]={},this[_0x4b1c("0xa13")]={},this[_0x4b1c("0xa19")]={},this[_0x4b1c("0xde9")]={},this[_0x4b1c("0xdea")]=0,this[_0x4b1c("0xdeb")]={},this.modelImageLoader=new s.default(this),this[_0x4b1c("0x102")][_0x4b1c("0x3e")].on(_0x4b1c("0x164"),(function(){b.modelImageLoader[_0x4b1c("0x586")]()}))}return(0,i[_0x4b1c("0xc")])(x,[{key:"appendAttribute",value:function(x,c){var b=c[_0x4b1c("0x439")][_0x4b1c("0x0")],_=x[_0x4b1c("0x0")],e=new Float32Array(b+_);e[_0x4b1c("0xdb")](c[_0x4b1c("0x439")]),e.set(x,b),c[_0x4b1c("0x439")]=e,c.count+=_/c[_0x4b1c("0x914")],c[_0x4b1c("0x188")]=!0}},{key:_0x4b1c("0xdec"),value:function(x){var c=x[_0x4b1c("0xded")],b=x[_0x4b1c("0xa4")],_=x[_0x4b1c("0xdee")],e=x[_0x4b1c("0xdef")],t=this[_0x4b1c("0x102")],i=this[_0x4b1c("0x55a")][_0x4b1c("0x3cb")];if(c&&0!=c.brothers[_0x4b1c("0x0")]){var a=t[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0xdf0")][_0x4b1c("0xdf1")],r=[];c.geos[_0x4b1c("0x1c")]((function(x){r[_0x4b1c("0x12")](x[_0x4b1c("0xf2")])}));for(var s=n[_0x4b1c("0x43a")][_0x4b1c("0x556")](r,!0),o=s[_0x4b1c("0x446")],f=0;f<o[_0x4b1c("0x0")];f++)o[f][_0x4b1c("0x448")]=0;s[_0x4b1c("0x17f")](),s.addGroup(0,s.index[_0x4b1c("0x106")],0);var l=new(THREE[_0x4b1c("0x197")]);l.geometry=s,l[_0x4b1c("0x1f7")]=_0x4b1c("0x181"),l[_0x4b1c("0xf4")]=t[_0x4b1c("0x3e")].mapTheme[_0x4b1c("0xdf0")][_0x4b1c("0xdf1")],l[_0x4b1c("0x165")][_0x4b1c("0xac6")]=a.length-1,l[_0x4b1c("0x202")][_0x4b1c("0xdb")](Math.PI/2,0,0,_0x4b1c("0xbb4")),l.userData[_0x4b1c("0x446")]=o;for(var d=[],u=0;u<c[_0x4b1c("0x469")][_0x4b1c("0x0")];u++){var h=c[_0x4b1c("0x469")][u];d[_0x4b1c("0x12")](h.ID),c[_0x4b1c("0x469")][u][_0x4b1c("0xf0")]=l,h[_0x4b1c("0xdf2")]>=3&&(this[_0x4b1c("0xa19")][h.ID]=l,h[_0x4b1c("0x46a")]=[0,0]);var g=t[_0x4b1c("0x3e")][_0x4b1c("0x1b5")]({from:t[_0x4b1c("0x3e")].coordSystem,to:t[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1b7")],coord:h[_0x4b1c("0x21d")]});h[_0x4b1c("0x3e0")]=1,h[_0x4b1c("0x21d")]=g,h.x=g.x,h.y=g.y}l[_0x4b1c("0xef")]={bid:b,brothers:c[_0x4b1c("0x469")],o3d_:l,nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x690")],bType:1},l[_0x4b1c("0xb7e")]=!1,l[_0x4b1c("0x172")]=esmap.ESRenderOrder[_0x4b1c("0x1e6")],_[_0x4b1c("0xf0")][_0x4b1c("0xdd")](l),i.popArray(d),e&&t[_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x3ec")](l,b)}}},{key:_0x4b1c("0xdf3"),value:function(x){var c,b=this[_0x4b1c("0x55a")],_=this[_0x4b1c("0x102")],e=x.layerType,t=b.id+e,i=null,n=b.id,r=b.o3d_,s=b[_0x4b1c("0x3cb")],o=this[_0x4b1c("0x102")][_0x4b1c("0x3e")].id,f=this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")],l=this.scene.map[_0x4b1c("0x13f")][_0x4b1c("0xdf4")],d=null,u=x[_0x4b1c("0x2e4")],h={points:x.pointGeometrys,types:{}},g=x[_0x4b1c("0xdf5")]||_[_0x4b1c("0x3e")].options[_0x4b1c("0x1f6")]&&_.map.options[_0x4b1c("0x3a1")];if(this[_0x4b1c("0xa13")][n]||((c=new esmap.ESLayer(esmap.ESLayerType.MODEL3D)).name="mapmodel3ds",r[_0x4b1c("0xdd")](c[_0x4b1c("0xf0")]),b[_0x4b1c("0xdf6")]=c,this[_0x4b1c("0xa13")][n]={0:{model3data:[],geometries:{},meshes:{},rmodellayer:c},1:{model3data:[],geometries:{},meshes:{},rmodellayer:c}}),c=b[_0x4b1c("0xdf6")],this[_0x4b1c("0xa13")][n][e][_0x4b1c("0xdf7")]=this[_0x4b1c("0xa13")][n][e][_0x4b1c("0xdf7")][_0x4b1c("0x377")](x.model3DData),e)if(this[_0x4b1c("0xa14")][n])i=this[_0x4b1c("0xa14")][n];else{var v=new esmap.ESLayer(esmap.ESLayerType[_0x4b1c("0x690")],{});r[_0x4b1c("0xdd")](v[_0x4b1c("0xf0")]),this[_0x4b1c("0xa14")][n]=v,i=v}else if(this[_0x4b1c("0xa15")][n])i=this.baseLayers[n];else{var p=new esmap.ESLayer(esmap.ESLayerType[_0x4b1c("0xa8a")],{});r[_0x4b1c("0xdd")](p.o3d_),this.baseLayers[n]=p,i=p}var m=0;for(var A in x.types){var y=x[_0x4b1c("0xdf8")][A],C=y[_0x4b1c("0x469")],I=x[_0x4b1c("0x446")][A],E=[],w=[],T=[];if(l&&C[0]){var k=C[0].RoomStyle,S={},M=_[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0xa79")][k];M||(M=_.map[_0x4b1c("0x13f")][_0x4b1c("0xa79")][0]);var R={bordercolor:M[_0x4b1c("0xdf9")]||"255,255,255",borderwidth:M[_0x4b1c("0xdfa")]||0};R[_0x4b1c("0xdfa")]&&(S.styleid=k,S[_0x4b1c("0xdfb")]=R,S.id=k,S[_0x4b1c("0xdfc")]=y[_0x4b1c("0xdfd")],h.types[k]=S,this[_0x4b1c("0xdfe")](h,!0,b))}y[_0x4b1c("0x928")]&&this[_0x4b1c("0xdec")]({planeData:y[_0x4b1c("0x928")],roomLayer:i,tileId:n,isPickable:g});var L=0;this.toHandle[n][e][_0x4b1c("0x415")][A]&&(L=this[_0x4b1c("0xa13")][n][e][_0x4b1c("0x415")][A].userData[_0x4b1c("0xdff")]);for(var H=[],D=0;D<C[_0x4b1c("0x0")];D++){var O=C[D],P=_[_0x4b1c("0x3e")].mapService[_0x4b1c("0x2b3")][_0x4b1c("0xd1c")]({ID:O.ID,name:O[_0x4b1c("0x1f7")]});P&&H[_0x4b1c("0x12")]({start:O[_0x4b1c("0x46b")][0],end:O[_0x4b1c("0x46b")][1],data:P});var N=I[O.ID],F=[N[1][_0x4b1c("0x1af")],N[1][_0x4b1c("0x1af")]+N[1][_0x4b1c("0x106")]];0!=L&&(O[_0x4b1c("0x46b")][0]+=L,O[_0x4b1c("0x46b")][1]+=L,F[0]+=L,F[1]+=L);var B=_[_0x4b1c("0x3e")].transformCoord({from:_.map[_0x4b1c("0x2d4")],to:_.map[_0x4b1c("0x47")][_0x4b1c("0x1b7")],coord:O[_0x4b1c("0x21d")]});_[_0x4b1c("0x3e")].mapTheme[_0x4b1c("0xe00")].indexOf(O[_0x4b1c("0x56c")])<0&&_[_0x4b1c("0x3e")].mapTheme[_0x4b1c("0xe00")][_0x4b1c("0x12")](O[_0x4b1c("0x56c")]);var z={ID:O.ID,dataID:O[_0x4b1c("0x219")],gid:O[_0x4b1c("0xc14")],RoomElevation:O[_0x4b1c("0xd49")],RoomHigh:O[_0x4b1c("0x668")],RoomStyle:O[_0x4b1c("0x56c")],buildingFnums:O[_0x4b1c("0xe01")],faceRange:O[_0x4b1c("0x46b")],sideRange:F,nodeType:5,top:O.top,bclick:O[_0x4b1c("0x427")],bid:o,tileId:n,mapId:O.mapId||null,bType:1,parentType:1,name:O[_0x4b1c("0x1f7")],typeID:O[_0x4b1c("0x2f2")],size:O[_0x4b1c("0xe0")],mapCoord:B};E[_0x4b1c("0x12")](z),T.push(O.ID),f&&(E[E[_0x4b1c("0x0")]-1][_0x4b1c("0x12c")]=O[_0x4b1c("0x12c")]),w[_0x4b1c("0x12")]({ID:O.ID,range:O[_0x4b1c("0x46b")],sideRange:F,split:N[1][_0x4b1c("0x1af")]+L})}for(var U=x[_0x4b1c("0xe02")][_0x4b1c("0x54a")](3*m,3*(m+y.groupIndex)),V=x.normals.subarray(3*m,3*(y[_0x4b1c("0xdfc")]+m)),j=x[_0x4b1c("0x582")].subarray(m,y[_0x4b1c("0xdfc")]+m),Z=x[_0x4b1c("0xe03")][_0x4b1c("0x54a")](m,y.groupIndex+m),Y=x[_0x4b1c("0x46c")][_0x4b1c("0x54a")](1*m,1*(m+y[_0x4b1c("0xdfc")])),W=x[_0x4b1c("0xa86")][_0x4b1c("0x54a")](1*m,1*(m+y[_0x4b1c("0xdfc")])),G=x[_0x4b1c("0xe04")][_0x4b1c("0x54a")](1*m,1*(m+y.groupIndex)),X=x[_0x4b1c("0xe05")][_0x4b1c("0x54a")](1*m,1*(m+y[_0x4b1c("0xdfc")])),Q=x[_0x4b1c("0xe06")][_0x4b1c("0x54a")](4*m,4*(m+y.groupIndex)),J=x[_0x4b1c("0xe07")][_0x4b1c("0x54a")](4*m,4*(m+y[_0x4b1c("0xdfc")])),K=x[_0x4b1c("0xa7d")][_0x4b1c("0x54a")](m,1*(m+y.groupIndex)),q=x[_0x4b1c("0xa7e")][_0x4b1c("0x54a")](m,1*(m+y[_0x4b1c("0xdfc")])),$=x.normalizeUvs[_0x4b1c("0x54a")](2*m,2*(y[_0x4b1c("0xdfc")]+m)),xx=x[_0x4b1c("0xe08")][_0x4b1c("0x54a")](2*m,2*(y[_0x4b1c("0xdfc")]+m)),cx=x[_0x4b1c("0xe09")].subarray(2*m,2*(y.groupIndex+m)),bx=0;bx<H[_0x4b1c("0x0")];bx++){for(var _x=H[bx],ex=_x[_0x4b1c("0x1af")];ex<_x.end;ex++)W[ex]=1;for(var tx=4*_x[_0x4b1c("0x1af")];tx<4*_x.end;tx+=4)J[tx]=_x[_0x4b1c("0x569")][0],J[tx+1]=_x[_0x4b1c("0x569")][1],J[tx+2]=_x[_0x4b1c("0x569")][2],J[tx+3]=_x.data[3]}var ix=null;if(this[_0x4b1c("0xa13")][n][e][_0x4b1c("0x415")][A]){ix=this[_0x4b1c("0xa13")][n][e][_0x4b1c("0x415")][A];this[_0x4b1c("0xa13")][n][e][_0x4b1c("0x101")][A];this[_0x4b1c("0xe0b")](U,ix.getAttribute("position")),this[_0x4b1c("0xe0b")](V,ix[_0x4b1c("0x435")]("normal")),this[_0x4b1c("0xe0b")](xx,ix[_0x4b1c("0x435")]("uv")),this[_0x4b1c("0xe0b")](cx,ix[_0x4b1c("0x435")](_0x4b1c("0xe0a"))),this[_0x4b1c("0xe0b")]($,ix[_0x4b1c("0x435")]("normalizeUv")),this[_0x4b1c("0xe0b")](Y,ix[_0x4b1c("0x435")](_0x4b1c("0x46c"))),this[_0x4b1c("0xe0b")](W,ix[_0x4b1c("0x435")](_0x4b1c("0xa86"))),this[_0x4b1c("0xe0b")](G,ix[_0x4b1c("0x435")](_0x4b1c("0xe04"))),this[_0x4b1c("0xe0b")](X,ix.getAttribute(_0x4b1c("0xe0c"))),this[_0x4b1c("0xe0b")](Q,ix[_0x4b1c("0x435")]("buildingsColor")),this.appendAttribute(J,ix[_0x4b1c("0x435")](_0x4b1c("0xa87"))),this[_0x4b1c("0xe0b")](j,ix[_0x4b1c("0x435")](_0x4b1c("0x582"))),this[_0x4b1c("0xe0b")](Z,ix[_0x4b1c("0x435")](_0x4b1c("0xe03"))),K[_0x4b1c("0x0")]>0&&this[_0x4b1c("0xe0b")](K,ix.getAttribute(_0x4b1c("0xa7d"))),q[_0x4b1c("0x0")]>0&&this[_0x4b1c("0xe0b")](q,ix[_0x4b1c("0x435")](_0x4b1c("0xa7e"))),ix[_0x4b1c("0x469")]=ix[_0x4b1c("0x469")][_0x4b1c("0x377")](w),w[_0x4b1c("0x0")]>0&&(ix[_0x4b1c("0x165")][_0x4b1c("0xdff")]=w[w[_0x4b1c("0x0")]-1][_0x4b1c("0x543")][1]),ix[_0x4b1c("0x16b")]()}else{var ax=new(THREE[_0x4b1c("0x43b")])(U,3),nx=new(THREE[_0x4b1c("0x43b")])(V,3),rx=new(THREE[_0x4b1c("0x43b")])(xx,2),sx=new(THREE[_0x4b1c("0x43b")])($,2),ox=new(THREE[_0x4b1c("0x43b")])(cx,2),fx=new THREE.BufferAttribute(Y,1),lx=new(THREE[_0x4b1c("0x43b")])(W,1),dx=new(THREE[_0x4b1c("0x43b")])(G,1),ux=new(THREE[_0x4b1c("0x43b")])(X,1),hx=new(THREE[_0x4b1c("0x43b")])(Q,4),gx=new(THREE[_0x4b1c("0x43b")])(J,4),vx=new(THREE[_0x4b1c("0x43b")])(j,1);(ix=new(a[_0x4b1c("0x540")])).addAttribute("position",ax),ix[_0x4b1c("0x43c")](_0x4b1c("0x140"),nx),ix[_0x4b1c("0x43c")]("uv",rx),ix[_0x4b1c("0x43c")](_0x4b1c("0x541"),sx),ix[_0x4b1c("0x43c")](_0x4b1c("0xe0a"),ox),ix.addAttribute("topFaceFlags",fx),ix[_0x4b1c("0x43c")](_0x4b1c("0xa86"),lx),ix[_0x4b1c("0x43c")]("buildingsHeight",dx),ix[_0x4b1c("0x43c")]("randomFactor",ux),ix[_0x4b1c("0x43c")](_0x4b1c("0xa7c"),hx),ix.addAttribute(_0x4b1c("0xa87"),gx),ix[_0x4b1c("0x43c")](_0x4b1c("0x582"),vx),ix[_0x4b1c("0x43c")](_0x4b1c("0xe03"),new(THREE[_0x4b1c("0x43b")])(Z,1));var px=void 0;px=K[_0x4b1c("0x0")]>0?new(THREE[_0x4b1c("0x43b")])(K,1):new(THREE[_0x4b1c("0x43b")])(new Float32Array(U[_0x4b1c("0x0")]),1),ix.addAttribute(_0x4b1c("0xa7d"),px);var mx=void 0;mx=q.length>0?new(THREE[_0x4b1c("0x43b")])(q,1):new(THREE[_0x4b1c("0x43b")])(new Float32Array(U.length),1),ix[_0x4b1c("0x43c")](_0x4b1c("0xa7e"),mx),ix[_0x4b1c("0x469")]=w,w[_0x4b1c("0x0")]>0?ix.userData[_0x4b1c("0xdff")]=w[w[_0x4b1c("0x0")]-1].range[1]:ix[_0x4b1c("0x165")][_0x4b1c("0xdff")]=0,this[_0x4b1c("0xa13")][n][e][_0x4b1c("0x415")][A]=ix}ix[_0x4b1c("0x17f")](),ix[_0x4b1c("0x180")](0,ix[_0x4b1c("0x104")].position[_0x4b1c("0x106")],0);var Ax,yx=void 0;if(999==A)yx=[_[_0x4b1c("0x3e6")][_0x4b1c("0xe0d")]];else if(f){var Cx=_[_0x4b1c("0x3e6")].tileStyles[A];Cx||(Cx=_[_0x4b1c("0x3e6")][_0x4b1c("0xa79")][0]),yx=_.mapTheme_[_0x4b1c("0xa2f")][Cx[_0x4b1c("0xe0e")]]}else yx=_[_0x4b1c("0x3e6")].modelBasicMat[A];for(var Ix in m+=y[_0x4b1c("0xdfc")],this[_0x4b1c("0xa13")][n][e][_0x4b1c("0x101")][A]?(Ax=this[_0x4b1c("0xa13")][n][e][_0x4b1c("0x101")][A])[_0x4b1c("0xef")][_0x4b1c("0x469")]=Ax[_0x4b1c("0xef")][_0x4b1c("0x469")][_0x4b1c("0x377")](E):((Ax=new(THREE[_0x4b1c("0x197")]))[_0x4b1c("0xf2")]=ix,Ax.material=yx,Ax[_0x4b1c("0x1f7")]=A,Ax[_0x4b1c("0x202")][_0x4b1c("0xdb")](Math.PI/2,0,0,_0x4b1c("0xbb4")),Ax[_0x4b1c("0xef")]={bid:n,o3d_:Ax,brothers:E,nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x690")]},this[_0x4b1c("0xa13")][n][e][_0x4b1c("0x101")][A]=Ax,Ax.renderOrder=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1e6")],null!=_[_0x4b1c("0x3e")].options[_0x4b1c("0x3a5")]&&1*A==999?_.map.options.hideRoomLogoMeshes&&(Ax.visible=!1,Ax[_0x4b1c("0xf2")][_0x4b1c("0x17f")](),Ax[_0x4b1c("0xf2")][_0x4b1c("0x913")].count=0):1*A!=999||_[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")]||(Ax[_0x4b1c("0x191")]=!1,Ax[_0x4b1c("0xf2")][_0x4b1c("0x17f")](),Ax[_0x4b1c("0xf2")][_0x4b1c("0x913")][_0x4b1c("0x106")]=0),i[_0x4b1c("0xf0")].add(Ax),s[_0x4b1c("0xe1")](T),(x[_0x4b1c("0xdf5")]||_.map[_0x4b1c("0x47")].editMode&&_.map[_0x4b1c("0x47")][_0x4b1c("0x3a1")])&&_[_0x4b1c("0x3e")].mapPicker[_0x4b1c("0x3ec")](Ax,n)),E){var Ex=E[Ix];Ex[_0x4b1c("0xf0")]=Ax,Ex[_0x4b1c("0x3c")]&&!_[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0xa9e")][Ex[_0x4b1c("0x3c")]]&&(_.map.tileService[_0x4b1c("0xa3a")][Ex[_0x4b1c("0x3c")]]&&(_[_0x4b1c("0x3e")].tileService.bidList[Ex[_0x4b1c("0x3c")]].name=Ex[_0x4b1c("0x1f7")]),_.map[_0x4b1c("0x2b3")][_0x4b1c("0xa9e")][Ex[_0x4b1c("0x3c")]]=Ex)}_.map[_0x4b1c("0x2b3")].checkToLoadedBuildings()}if(this[_0x4b1c("0xdeb")][n]||(this[_0x4b1c("0xdeb")][n]={1:0,2:0,3:0}),this._lodRecords[n][u]+=1,2==this[_0x4b1c("0xdeb")][n][u]&&b[_0x4b1c("0x3c1")](),x[_0x4b1c("0xe0f")]&&x.modelImagesData[_0x4b1c("0x0")]>0)if(d=b.layerManager[_0x4b1c("0x3f7")](_0x4b1c("0x584"),esmap[_0x4b1c("0x3cd")][_0x4b1c("0xa77")]),r.add(d.o3d_),f&&x.modelImagesData[_0x4b1c("0x0")]>1)for(var wx=0,Tx=0;Tx<x[_0x4b1c("0xe0f")].length;Tx++){var kx=x.modelImagesData[Tx],Sx=kx.id,Mx=x[_0x4b1c("0xe10")][Tx];Mx[_0x4b1c("0x448")]=0;for(var Rx=Mx[_0x4b1c("0x1af")],Lx=Mx.count,Hx=x[_0x4b1c("0xe10")][Tx],Dx=x[_0x4b1c("0xe11")].subarray(Rx,Rx+Lx),Ox=0;Ox<Dx.length;Ox++)Dx[Ox]-=wx;var Px=x[_0x4b1c("0xe12")].subarray(2*Rx,2*(Rx+Lx)),Nx=x[_0x4b1c("0xe13")][_0x4b1c("0x54a")](Rx/3*4,(Rx+Lx)/3*4),Fx=x.modelImageNor[_0x4b1c("0x54a")](2*Rx,2*(Rx+Lx)),Bx=x[_0x4b1c("0xe14")].subarray(4*Tx,4*Tx+4);this[_0x4b1c("0xe15")][_0x4b1c("0x57d")](Sx,[kx]),this[_0x4b1c("0xe15")][_0x4b1c("0x57c")](Sx,d[_0x4b1c("0xf0")],{bid:n,bType:1}),Mx[_0x4b1c("0x1af")]=0,this[_0x4b1c("0xe15")][_0x4b1c("0xe16")](Sx,{index:Dx,pos:Px,uv:Nx,nor:Fx,hideFlags:Bx,groups:[Mx],groupsCopy:[Hx]}),wx+=Px[_0x4b1c("0x0")]/3}else this.modelImageLoader[_0x4b1c("0x57d")](t,x.modelImagesData),this[_0x4b1c("0xe15")].setParent(t,d[_0x4b1c("0xf0")],{bid:n,bType:1}),this.modelImageLoader.setGeoData(t,{index:x[_0x4b1c("0xe11")],pos:x[_0x4b1c("0xe12")],uv:x[_0x4b1c("0xe13")],nor:x[_0x4b1c("0xe17")],hideFlags:x[_0x4b1c("0xe14")],groups:x[_0x4b1c("0xe18")],groupsCopy:x[_0x4b1c("0xe10")]});this[_0x4b1c("0xe19")](e)}},{key:"loadModelandImage",value:function(x){var c,b=(c=(0,e.default)(_[_0x4b1c("0xc")].mark((function c(){return _[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(c){for(;;)switch(c[_0x4b1c("0x285")]=c.next){case 0:s(x);case 1:case _0x4b1c("0x2a0"):return c.stop()}}),c,this)}))),function(){return c[_0x4b1c("0x4")](this,arguments)}),t=this,i=t.scene,a=this[_0x4b1c("0x55a")],n=a,r=a.id;function s(x){if(i[_0x4b1c("0x3e")].options[_0x4b1c("0x3a2")]){var c=t.toHandle[r][x][_0x4b1c("0xdf7")],b=i.map[_0x4b1c("0x9f1")]?i.map.firstPersonControls[_0x4b1c("0x2c7")]:i[_0x4b1c("0x3e")].controls[_0x4b1c("0x2c7")];if(n){n[_0x4b1c("0x26b")][_0x4b1c("0xdae")]();var _=[];for(i[_0x4b1c("0xd67")][_0x4b1c("0x1e6")]+=c[_0x4b1c("0x0")];c[_0x4b1c("0x0")]>0;){var e=c[_0x4b1c("0x3")](),a=t[_0x4b1c("0xe1a")](e,x,null,r);a&&(a[_0x4b1c("0x3ff")]<=12?n.modelLoadManager[_0x4b1c("0xdaf")](a):(a[_0x4b1c("0xe1b")]=a[_0x4b1c("0x105")][_0x4b1c("0x124")](b),_[_0x4b1c("0x12")](a)))}for(_[_0x4b1c("0x42b")]((function(x,c){return x.viewrank-c[_0x4b1c("0xe1c")]}));_[_0x4b1c("0x0")]>0;){var s=_[_0x4b1c("0x3")]();n[_0x4b1c("0x26b")][_0x4b1c("0xdaf")](s)}n[_0x4b1c("0x26b")].mapModelLoadStatus[x]=!0}}}b()[_0x4b1c("0x323")]((function(){t[_0x4b1c("0xde9")][a.id]||(a.map.on(_0x4b1c("0x164"),(function(){a.map&&(a.map[_0x4b1c("0x47")][_0x4b1c("0x382")]?(a[_0x4b1c("0x3e")][_0x4b1c("0x64c")].enabled&&(f=setTimeout((function(){a[_0x4b1c("0x26b")][_0x4b1c("0x26d")]=!1,a[_0x4b1c("0x26b")][_0x4b1c("0x26e")]=!1,f&&window[_0x4b1c("0x26f")](f)}),100)),a.modelLoadManager.disposeInvisible(),a.modelLoadManager[_0x4b1c("0xdc7")]()):a[_0x4b1c("0x26b")][_0x4b1c("0xdc7")](a))})),t.modelManagerStarted[a.id]=!0)}))}},{key:_0x4b1c("0xe1a"),value:function(x,c,b,_){var e,t=this[_0x4b1c("0x102")],i=t[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")],a=(t[_0x4b1c("0x3e")][_0x4b1c("0x47")].tid,t.map.id),n=this[_0x4b1c("0x55a")],s=n[_0x4b1c("0x3cb")],o=x[_0x4b1c("0x1e6")][_0x4b1c("0x14c")](_0x4b1c("0x82"),""),f=t[_0x4b1c("0x3e")].options[_0x4b1c("0x3ab")]==_0x4b1c("0x5d3")&&!t[_0x4b1c("0x3e")].options[_0x4b1c("0x1f6")];x[_0x4b1c("0x3c")]&&t[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0xa3a")][x[_0x4b1c("0x3c")]]&&(t[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0xa3a")][x[_0x4b1c("0x3c")]].name=x[_0x4b1c("0x1f7")]);var l=r[_0x4b1c("0xc")][_0x4b1c("0x680")]("tileModel",{filename:o,modeltoken:t[_0x4b1c("0x3e")][_0x4b1c("0xab")]});(l=l.replace(/([^:]\/)\/+/g,"$1"),b)?e=b:e=this[_0x4b1c("0xa13")][_][c]?this[_0x4b1c("0xa13")][_][c][_0x4b1c("0xe1d")][_0x4b1c("0xf0")]:t[_0x4b1c("0xb01")][c][_0x4b1c("0xef")][_0x4b1c("0x3f8")](esmap[_0x4b1c("0x3cd")].MODEL3D)[0].o3d_;if(1*x[_0x4b1c("0x35b")]==3){var d=x.roomdata[_0x4b1c("0x12c")][0][_0x4b1c("0x3e")]((function(x){return x.x*=-1,x})),u=x[_0x4b1c("0x158")].split(",")[1],h=new esmap.ESWall({type:_0x4b1c("0x55a"),useCrst:!1,merge:!0,bid:_,model:x.model,fnum:c,bclick:!!i,points:d,gid:x[_0x4b1c("0xc14")]||0,callback:function(){n[_0x4b1c("0xdbc")][c][_0x4b1c("0x1fe")]--},repeatset:1,thickset:1,heightset:1,name:x.name,id:x.id,height:1*u,showLevel:x[_0x4b1c("0x3ff")]});return h[_0x4b1c("0x12b")]=a,h[_0x4b1c("0xa4")]=_,t[_0x4b1c("0x3e")][_0x4b1c("0x7e")].modelLoadCount--,s.pop(x.id),null}if(f&&x[_0x4b1c("0x1e6")].indexOf("__singlemesh")>=0){var g=n[_0x4b1c("0x26b")];return g[_0x4b1c("0x2a2")][x.model]||g.loadingList[x[_0x4b1c("0x1e6")]]||(g[_0x4b1c("0xda1")][x.model]=!0,n.modelLoadManager.preFetchModel3D(x[_0x4b1c("0x1e6")],l)),!1}var v=new(THREE[_0x4b1c("0x128")])(1,1.5,1);if(x[_0x4b1c("0x201")]){var p=x[_0x4b1c("0x201")][_0x4b1c("0x2c")](",");v=new(THREE[_0x4b1c("0x128")])(parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2]))}var m=0;if(x.rotate){var A=Math.PI/180,y=x[_0x4b1c("0xcae")][_0x4b1c("0x2c")](",");m=1*y[1];var C=new THREE.Euler(parseFloat(y[0])*A,parseFloat(y[1])*A,parseFloat(y[2])*A)}var I=void 0;I=t[_0x4b1c("0x3e")][_0x4b1c("0x2c5")]({x:x.x,y:x.y});var E=t.map[_0x4b1c("0x1b5")]({from:_0x4b1c("0x6a5"),to:"WGS84",coord:{x:x.x,y:x.y}}),w={x:E.x,y:E.y,offsetHeight:0};if(x[_0x4b1c("0x158")]){var T=x[_0x4b1c("0x158")][_0x4b1c("0x2c")](",");I.x+=parseFloat(T[0]),I.y+=parseFloat(T[1]),I.z+=parseFloat(T[2]),w.x+=parseFloat(T[0]),w.y+=parseFloat(T[2]),w[_0x4b1c("0x28")]=parseFloat(T[1])}x[_0x4b1c("0x1e6")][_0x4b1c("0x114")](".gltf")<0&&(x[_0x4b1c("0x1e6")]+=_0x4b1c("0x82")),t[_0x4b1c("0xe1e")][_0x4b1c("0x12")]({scale:v.x,angle:m,x:w.x,y:w.y,id:x.id,name:x[_0x4b1c("0x1f7")],dataID:x[_0x4b1c("0x219")],offsetHeight:w[_0x4b1c("0x28")]});var k={brief:x.brief,bid:a,tileId:_,name:x[_0x4b1c("0x1f7")],model:x[_0x4b1c("0x1e6")],url:l,dataID:x[_0x4b1c("0x219")],angle:m,classID:x[_0x4b1c("0xe1f")].classID,scale:v,top:x[_0x4b1c("0x35b")],mapId:x[_0x4b1c("0x3c")]||null,gid:x[_0x4b1c("0xc14")]||0,typeID:x[_0x4b1c("0xe1f")][_0x4b1c("0x56b")]||0,rotation:C,position:I,showLevel:x[_0x4b1c("0x3ff")],data_:{CenX:x.x,CenY:x.y,scale:x[_0x4b1c("0x201")]||null,rotate:x[_0x4b1c("0xcae")]||null,offset:x[_0x4b1c("0x158")]||null},parent:e,id:x.id,bclick:x[_0x4b1c("0x427")],callbackparams:x[_0x4b1c("0xdd9")]||null,callback:function(){n[_0x4b1c("0xdbc")]&&n[_0x4b1c("0xdbc")][c][_0x4b1c("0x1fe")]--},fnum:c};return i&&(k.roomdata=x[_0x4b1c("0xe1f")]),k}},{key:_0x4b1c("0xdfe"),value:function(x,c,b){var _,e=this,t=(x.id,b.id);this[_0x4b1c("0xde8")][t]?_=this[_0x4b1c("0xde8")][t]:((_=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xe20")],{}))[_0x4b1c("0x1f7")]=_0x4b1c("0xdf4"),b[_0x4b1c("0x3f6")][_0x4b1c("0x3f5")](_),this.modelLineLayers[t]=_);var i=x[_0x4b1c("0xdf8")];if(c){var a=new THREE.BufferGeometry;a[_0x4b1c("0x43c")](_0x4b1c("0x105"),new THREE.BufferAttribute(x[_0x4b1c("0x12c")],3));var n=[],r=0;for(var s in i){var o=i[s][_0x4b1c("0xdfb")],f={precision:_0x4b1c("0xbae"),color:esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](o.bordercolor),linewidth:1*o[_0x4b1c("0xdfa")]>5?5:1*o[_0x4b1c("0xdfa")]},l=new(THREE[_0x4b1c("0xe21")])(f);l.name=s,n[_0x4b1c("0x12")](l),a.addGroup(r,i[s][_0x4b1c("0xdfc")],n[_0x4b1c("0x0")]-1),i[s].startIndex=r,r+=i[s][_0x4b1c("0xdfc")]}var d=new(THREE[_0x4b1c("0xe22")])(a,n);d[_0x4b1c("0xb7e")]=!1,d.datas_={nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x132")],id:1},d[_0x4b1c("0x202")][_0x4b1c("0xdb")](Math.PI/2,0,0,"XYZ"),d.renderOrder=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x173")],d[_0x4b1c("0x165")][_0x4b1c("0x583")]=i;return _[_0x4b1c("0xf0")].add(d),d}for(var u in i){var h=new THREE.BufferGeometry,g=0,v=x[_0x4b1c("0x12c")][_0x4b1c("0x54a")](3*g,3*(g+i[u][_0x4b1c("0xdfc")]));h[_0x4b1c("0x43c")]("position",new(THREE[_0x4b1c("0x43b")])(v,3));var p=i[u].lineTheme,m=[],A={precision:_0x4b1c("0xbae"),color:p[_0x4b1c("0xe23")],linewidth:p[_0x4b1c("0xe24")]>5?5:p[_0x4b1c("0xe24")]},y=new(THREE[_0x4b1c("0xe21")])(A);m[_0x4b1c("0x12")](y),h[_0x4b1c("0x180")](g,i[u].groupIndex,m[_0x4b1c("0x0")]-1),g+=i[u][_0x4b1c("0xdfc")];var C=new THREE.LineSegments(h,m);C[_0x4b1c("0xb7e")]=!1,C[_0x4b1c("0xef")]={nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x132")],id:1*i[u].id,bid:building.id,bType:2},C.rotation[_0x4b1c("0xdb")](Math.PI/2,0,0,"XYZ"),C[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x173")],null!=e[_0x4b1c("0x102")][_0x4b1c("0x3e")].options[_0x4b1c("0x3a5")]?e[_0x4b1c("0x102")].map[_0x4b1c("0x47")][_0x4b1c("0x3a5")]&&(y[_0x4b1c("0x191")]=!1,h.clearGroups(),h[_0x4b1c("0x913")][_0x4b1c("0x106")]=0):1*u!=999||e[_0x4b1c("0x102")].map[_0x4b1c("0x47")].editMode||(y.visible=!1,h[_0x4b1c("0x17f")](),h[_0x4b1c("0x913")].count=0);var I=e.scene.map[_0x4b1c("0x13f")][_0x4b1c("0xdf4")];null!=e[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")].modelLines&&(I=e[_0x4b1c("0x102")][_0x4b1c("0x3e")].options[_0x4b1c("0xdf4")]),I&&_[_0x4b1c("0xf0")].add(C)}return C}}]),x}();c.default=l},function(x,c,b){"use strict";var _=t(b(6)),e=t(b(14));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i,a=b(75),n=a[_0x4b1c("0x597")],r=a[_0x4b1c("0x598")],s=a.util,o=a[_0x4b1c("0x59a")][_0x4b1c("0xc")]||(a[_0x4b1c("0x59a")].default={});o[_0x4b1c("0x6a7")]=((i={})[_0x4b1c("0xe25")]=function(){function x(x){if(this[_0x4b1c("0xe26")]={},this[_0x4b1c("0x3cc")]={},x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")].v=0,x[_0x4b1c("0xf")][_0x4b1c("0x59c")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x59e")]="",x[_0x4b1c("0xf")][_0x4b1c("0xe27")]="",x[_0x4b1c("0xf")]._id=0,x[_0x4b1c("0xf")][_0x4b1c("0xcb9")]=0,x[_0x4b1c("0xf")].x=0,x[_0x4b1c("0xf")].y=0,x.prototype.z=0,x[_0x4b1c("0xf")][_0x4b1c("0x5a3")]=0,x.prototype[_0x4b1c("0x5a6")]=0,x.prototype[_0x4b1c("0x5a7")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x5ba")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x89")]="",x[_0x4b1c("0xf")][_0x4b1c("0xe26")]=s[_0x4b1c("0xe28")],x[_0x4b1c("0xf")][_0x4b1c("0x3cc")]=s[_0x4b1c("0xe28")],x[_0x4b1c("0xf")][_0x4b1c("0x3d6")]="",x[_0x4b1c("0xf")].o1=0,x[_0x4b1c("0xf")][_0x4b1c("0x5b0")]="",x[_0x4b1c("0xf")].o2=0,x[_0x4b1c("0xf")].t1="",x.create=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){if(c||(c=r[_0x4b1c("0x5b3")]()),null!=x.v&&x[_0x4b1c("0x1")]("v")&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x.v),null!=x[_0x4b1c("0x59c")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59c"))&&c.uint32(16).int32(x.mtime),null!=x.Hash&&x[_0x4b1c("0x1")](_0x4b1c("0x59e"))&&c[_0x4b1c("0x5b5")](26)[_0x4b1c("0xd")](x[_0x4b1c("0x59e")]),null!=x.cname&&x[_0x4b1c("0x1")](_0x4b1c("0xe27"))&&c.uint32(34)[_0x4b1c("0xd")](x.cname),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&c.uint32(40)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d8")]),null!=x.Type&&x.hasOwnProperty(_0x4b1c("0xcb9"))&&c[_0x4b1c("0x5b5")](48)[_0x4b1c("0x5b6")](x[_0x4b1c("0xcb9")]),null!=x.x&&x.hasOwnProperty("x")&&c[_0x4b1c("0x5b5")](57)[_0x4b1c("0x5b8")](x.x),null!=x.y&&x.hasOwnProperty("y")&&c[_0x4b1c("0x5b5")](65).double(x.y),null!=x.z&&x.hasOwnProperty("z")&&c.uint32(73)[_0x4b1c("0x5b8")](x.z),null!=x.minX&&x[_0x4b1c("0x1")](_0x4b1c("0x5a3"))&&c.uint32(81)[_0x4b1c("0x5b8")](x.minX),null!=x[_0x4b1c("0x5a6")]&&x[_0x4b1c("0x1")]("minY")&&c[_0x4b1c("0x5b5")](89)[_0x4b1c("0x5b8")](x.minY),null!=x[_0x4b1c("0x5a7")]&&x.hasOwnProperty("maxX")&&c[_0x4b1c("0x5b5")](97)[_0x4b1c("0x5b8")](x[_0x4b1c("0x5a7")]),null!=x[_0x4b1c("0x5ba")]&&x[_0x4b1c("0x1")]("maxY")&&c[_0x4b1c("0x5b5")](105)[_0x4b1c("0x5b8")](x.maxY),null!=x[_0x4b1c("0x89")]&&x[_0x4b1c("0x1")]("token")&&c[_0x4b1c("0x5b5")](114).string(x[_0x4b1c("0x89")]),null!=x[_0x4b1c("0xe26")]&&x[_0x4b1c("0x1")]("Rooms"))for(var b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xe26")]),_=0;_<b[_0x4b1c("0x0")];++_)c.uint32(122)[_0x4b1c("0xe29")]().uint32(8)[_0x4b1c("0x5b6")](b[_]),o.ESTileMap[_0x4b1c("0xe2a")][_0x4b1c("0x5b4")](x[_0x4b1c("0xe26")][b[_]],c[_0x4b1c("0x5b5")](18).fork()).ldelim()[_0x4b1c("0xe2b")]();if(null!=x[_0x4b1c("0x3cc")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3cc")))for(b=(0,e[_0x4b1c("0xc")])(x.Labels),_=0;_<b[_0x4b1c("0x0")];++_)c[_0x4b1c("0x5b5")](130)[_0x4b1c("0xe29")]().uint32(8)[_0x4b1c("0x5b6")](b[_]),o.ESTileMap[_0x4b1c("0xe2c")].encode(x[_0x4b1c("0x3cc")][b[_]],c[_0x4b1c("0x5b5")](18).fork())[_0x4b1c("0xe2b")]()[_0x4b1c("0xe2b")]();return null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&c[_0x4b1c("0x5b5")](138).string(x[_0x4b1c("0x3d6")]),null!=x.o1&&x.hasOwnProperty("o1")&&c[_0x4b1c("0x5b5")](144)[_0x4b1c("0x5b6")](x.o1),null!=x[_0x4b1c("0x5b0")]&&x.hasOwnProperty(_0x4b1c("0x5b0"))&&c[_0x4b1c("0x5b5")](154)[_0x4b1c("0xd")](x[_0x4b1c("0x5b0")]),null!=x.o2&&x[_0x4b1c("0x1")]("o2")&&c[_0x4b1c("0x5b5")](160)[_0x4b1c("0x5b6")](x.o2),null!=x.t1&&x[_0x4b1c("0x1")]("t1")&&c.uint32(170)[_0x4b1c("0xd")](x.t1),c},x.encodeDelimited=function(x,c){return this[_0x4b1c("0x5b4")](x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n.create(x));for(var b,_=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,e=new(o[_0x4b1c("0x6a7")][_0x4b1c("0xe25")]);x[_0x4b1c("0x434")]<_;){var t=x.uint32();switch(t>>>3){case 1:e.v=x[_0x4b1c("0x5b6")]();break;case 2:e[_0x4b1c("0x59c")]=x.int32();break;case 3:e.Hash=x.string();break;case 4:e[_0x4b1c("0xe27")]=x[_0x4b1c("0xd")]();break;case 5:e[_0x4b1c("0x3d8")]=x[_0x4b1c("0x5b6")]();break;case 6:e[_0x4b1c("0xcb9")]=x[_0x4b1c("0x5b6")]();break;case 7:e.x=x[_0x4b1c("0x5b8")]();break;case 8:e.y=x[_0x4b1c("0x5b8")]();break;case 9:e.z=x.double();break;case 10:e.minX=x[_0x4b1c("0x5b8")]();break;case 11:e[_0x4b1c("0x5a6")]=x.double();break;case 12:e.maxX=x[_0x4b1c("0x5b8")]();break;case 13:e[_0x4b1c("0x5ba")]=x.double();break;case 14:e[_0x4b1c("0x89")]=x.string();break;case 15:x[_0x4b1c("0xe2d")]().pos++,e.Rooms===s[_0x4b1c("0xe28")]&&(e[_0x4b1c("0xe26")]={}),b=x[_0x4b1c("0x5b6")](),x[_0x4b1c("0x434")]++,e[_0x4b1c("0xe26")][b]=o[_0x4b1c("0x6a7")].RoomSet.decode(x,x.uint32());break;case 16:x[_0x4b1c("0xe2d")]()[_0x4b1c("0x434")]++,e.Labels===s.emptyObject&&(e.Labels={}),b=x[_0x4b1c("0x5b6")](),x[_0x4b1c("0x434")]++,e[_0x4b1c("0x3cc")][b]=o[_0x4b1c("0x6a7")][_0x4b1c("0xe2c")].decode(x,x.uint32());break;case 17:e[_0x4b1c("0x3d6")]=x[_0x4b1c("0xd")]();break;case 18:e.o1=x[_0x4b1c("0x5b6")]();break;case 19:e.other2=x[_0x4b1c("0xd")]();break;case 20:e.o2=x.int32();break;case 21:e.t1=x.string();break;default:x[_0x4b1c("0x5c0")](7&t)}}return e},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]())},x.verify=function(x){if("object"!==(typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))||null===x)return _0x4b1c("0x5c4");if(null!=x.v&&x[_0x4b1c("0x1")]("v")&&!s[_0x4b1c("0x5c5")](x.v))return _0x4b1c("0xe2e");if(null!=x[_0x4b1c("0x59c")]&&x.hasOwnProperty(_0x4b1c("0x59c"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x59c")]))return _0x4b1c("0xe2f");if(null!=x[_0x4b1c("0x59e")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59e"))&&!s[_0x4b1c("0x367")](x.Hash))return _0x4b1c("0x5c7");if(null!=x.cname&&x[_0x4b1c("0x1")](_0x4b1c("0xe27"))&&!s.isString(x.cname))return _0x4b1c("0xe30");if(null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&!s[_0x4b1c("0x5c5")](x._id))return _0x4b1c("0x5c8");if(null!=x[_0x4b1c("0xcb9")]&&x[_0x4b1c("0x1")]("Type")&&!s.isInteger(x[_0x4b1c("0xcb9")]))return _0x4b1c("0xe31");if(null!=x.x&&x.hasOwnProperty("x")&&typeof x.x!==_0x4b1c("0x18f"))return"x: number expected";if(null!=x.y&&x[_0x4b1c("0x1")]("y")&&typeof x.y!==_0x4b1c("0x18f"))return _0x4b1c("0x5d2");if(null!=x.z&&x[_0x4b1c("0x1")]("z")&&"number"!=typeof x.z)return _0x4b1c("0xe32");if(null!=x[_0x4b1c("0x5a3")]&&x.hasOwnProperty("minX")&&typeof x[_0x4b1c("0x5a3")]!==_0x4b1c("0x18f"))return"minX: number expected";if(null!=x[_0x4b1c("0x5a6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a6"))&&typeof x[_0x4b1c("0x5a6")]!==_0x4b1c("0x18f"))return _0x4b1c("0xe33");if(null!=x[_0x4b1c("0x5a7")]&&x[_0x4b1c("0x1")]("maxX")&&typeof x[_0x4b1c("0x5a7")]!==_0x4b1c("0x18f"))return"maxX: number expected";if(null!=x[_0x4b1c("0x5ba")]&&x.hasOwnProperty(_0x4b1c("0x5ba"))&&typeof x[_0x4b1c("0x5ba")]!==_0x4b1c("0x18f"))return _0x4b1c("0xe34");if(null!=x[_0x4b1c("0x89")]&&x[_0x4b1c("0x1")]("token")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x89")]))return"token: string expected";if(null!=x[_0x4b1c("0xe26")]&&x.hasOwnProperty("Rooms")){if(!s.isObject(x[_0x4b1c("0xe26")]))return _0x4b1c("0xe35");for(var c=(0,e[_0x4b1c("0xc")])(x.Rooms),b=0;b<c[_0x4b1c("0x0")];++b){if(!s[_0x4b1c("0xe36")].test(c[b]))return _0x4b1c("0xe37");if(t=o[_0x4b1c("0x6a7")][_0x4b1c("0xe2a")].verify(x.Rooms[c[b]]))return"Rooms."+t}}if(null!=x.Labels&&x[_0x4b1c("0x1")](_0x4b1c("0x3cc"))){if(!s[_0x4b1c("0x17")](x[_0x4b1c("0x3cc")]))return _0x4b1c("0xe38");for(c=(0,e[_0x4b1c("0xc")])(x.Labels),b=0;b<c[_0x4b1c("0x0")];++b){if(!s[_0x4b1c("0xe36")].test(c[b]))return"Labels: integer key{k:int32} expected";var t;if(t=o[_0x4b1c("0x6a7")][_0x4b1c("0xe2c")].verify(x.Labels[c[b]]))return"Labels."+t}}return null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x3d6")])?"other1: string expected":null!=x.o1&&x.hasOwnProperty("o1")&&!s[_0x4b1c("0x5c5")](x.o1)?_0x4b1c("0x5e0"):null!=x.other2&&x.hasOwnProperty(_0x4b1c("0x5b0"))&&!s[_0x4b1c("0x367")](x.other2)?"other2: string expected":null!=x.o2&&x[_0x4b1c("0x1")]("o2")&&!s[_0x4b1c("0x5c5")](x.o2)?_0x4b1c("0x5e1"):null!=x.t1&&x[_0x4b1c("0x1")]("t1")&&!s[_0x4b1c("0x367")](x.t1)?_0x4b1c("0xe39"):null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o.ESTileMap[_0x4b1c("0xe25")])return x;var c=new o.ESTileMap.ESTileMapSet;if(null!=x.v&&(c.v=0|x.v),null!=x[_0x4b1c("0x59c")]&&(c[_0x4b1c("0x59c")]=0|x[_0x4b1c("0x59c")]),null!=x.Hash&&(c[_0x4b1c("0x59e")]=String(x[_0x4b1c("0x59e")])),null!=x[_0x4b1c("0xe27")]&&(c.cname=String(x[_0x4b1c("0xe27")])),null!=x[_0x4b1c("0x3d8")]&&(c._id=0|x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xcb9")]&&(c[_0x4b1c("0xcb9")]=0|x[_0x4b1c("0xcb9")]),null!=x.x&&(c.x=Number(x.x)),null!=x.y&&(c.y=Number(x.y)),null!=x.z&&(c.z=Number(x.z)),null!=x.minX&&(c[_0x4b1c("0x5a3")]=Number(x[_0x4b1c("0x5a3")])),null!=x[_0x4b1c("0x5a6")]&&(c[_0x4b1c("0x5a6")]=Number(x[_0x4b1c("0x5a6")])),null!=x.maxX&&(c[_0x4b1c("0x5a7")]=Number(x[_0x4b1c("0x5a7")])),null!=x.maxY&&(c[_0x4b1c("0x5ba")]=Number(x[_0x4b1c("0x5ba")])),null!=x[_0x4b1c("0x89")]&&(c[_0x4b1c("0x89")]=String(x.token)),x[_0x4b1c("0xe26")]){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xe26")])!==_0x4b1c("0x1d"))throw TypeError(".ESTileMap.ESTileMapSet.Rooms: object expected");c[_0x4b1c("0xe26")]={};for(var b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xe26")]),t=0;t<b[_0x4b1c("0x0")];++t){if("object"!==(0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xe26")][b[t]]))throw TypeError(_0x4b1c("0xe3b"));c[_0x4b1c("0xe26")][b[t]]=o[_0x4b1c("0x6a7")][_0x4b1c("0xe2a")].fromObject(x[_0x4b1c("0xe26")][b[t]])}}if(x[_0x4b1c("0x3cc")]){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x3cc")])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xe3c"));for(c[_0x4b1c("0x3cc")]={},b=(0,e.default)(x.Labels),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x3cc")][b[t]])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xe3c"));c.Labels[b[t]]=o[_0x4b1c("0x6a7")][_0x4b1c("0xe2c")][_0x4b1c("0xe3a")](x[_0x4b1c("0x3cc")][b[t]])}}return null!=x.other1&&(c[_0x4b1c("0x3d6")]=String(x[_0x4b1c("0x3d6")])),null!=x.o1&&(c.o1=0|x.o1),null!=x[_0x4b1c("0x5b0")]&&(c[_0x4b1c("0x5b0")]=String(x[_0x4b1c("0x5b0")])),null!=x.o2&&(c.o2=0|x.o2),null!=x.t1&&(c.t1=String(x.t1)),c},x[_0x4b1c("0x2bf")]=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b,_={};if((c[_0x4b1c("0x74a")]||c[_0x4b1c("0x5ed")])&&(_[_0x4b1c("0xe26")]={},_[_0x4b1c("0x3cc")]={}),c[_0x4b1c("0x5ed")]&&(_.v=0,_[_0x4b1c("0x59c")]=0,_.Hash="",_[_0x4b1c("0xe27")]="",_[_0x4b1c("0x3d8")]=0,_[_0x4b1c("0xcb9")]=0,_.x=0,_.y=0,_.z=0,_[_0x4b1c("0x5a3")]=0,_[_0x4b1c("0x5a6")]=0,_[_0x4b1c("0x5a7")]=0,_[_0x4b1c("0x5ba")]=0,_[_0x4b1c("0x89")]="",_[_0x4b1c("0x3d6")]="",_.o1=0,_[_0x4b1c("0x5b0")]="",_.o2=0,_.t1=""),null!=x.v&&x[_0x4b1c("0x1")]("v")&&(_.v=x.v),null!=x.mtime&&x.hasOwnProperty(_0x4b1c("0x59c"))&&(_[_0x4b1c("0x59c")]=x[_0x4b1c("0x59c")]),null!=x.Hash&&x.hasOwnProperty(_0x4b1c("0x59e"))&&(_[_0x4b1c("0x59e")]=x[_0x4b1c("0x59e")]),null!=x[_0x4b1c("0xe27")]&&x[_0x4b1c("0x1")]("cname")&&(_[_0x4b1c("0xe27")]=x[_0x4b1c("0xe27")]),null!=x._id&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&(_[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xcb9")]&&x.hasOwnProperty("Type")&&(_.Type=x[_0x4b1c("0xcb9")]),null!=x.x&&x[_0x4b1c("0x1")]("x")&&(_.x=x.x),null!=x.y&&x[_0x4b1c("0x1")]("y")&&(_.y=x.y),null!=x.z&&x[_0x4b1c("0x1")]("z")&&(_.z=x.z),null!=x[_0x4b1c("0x5a3")]&&x[_0x4b1c("0x1")]("minX")&&(_[_0x4b1c("0x5a3")]=x[_0x4b1c("0x5a3")]),null!=x[_0x4b1c("0x5a6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a6"))&&(_[_0x4b1c("0x5a6")]=x.minY),null!=x.maxX&&x.hasOwnProperty("maxX")&&(_[_0x4b1c("0x5a7")]=x[_0x4b1c("0x5a7")]),null!=x.maxY&&x[_0x4b1c("0x1")](_0x4b1c("0x5ba"))&&(_.maxY=x[_0x4b1c("0x5ba")]),null!=x[_0x4b1c("0x89")]&&x[_0x4b1c("0x1")](_0x4b1c("0x89"))&&(_[_0x4b1c("0x89")]=x.token),x.Rooms&&(b=(0,e.default)(x[_0x4b1c("0xe26")]))[_0x4b1c("0x0")]){_[_0x4b1c("0xe26")]={};for(var t=0;t<b[_0x4b1c("0x0")];++t)_[_0x4b1c("0xe26")][b[t]]=o[_0x4b1c("0x6a7")][_0x4b1c("0xe2a")].toObject(x[_0x4b1c("0xe26")][b[t]],c)}if(x[_0x4b1c("0x3cc")]&&(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0x3cc")]))[_0x4b1c("0x0")])for(_[_0x4b1c("0x3cc")]={},t=0;t<b[_0x4b1c("0x0")];++t)_[_0x4b1c("0x3cc")][b[t]]=o[_0x4b1c("0x6a7")][_0x4b1c("0xe2c")].toObject(x.Labels[b[t]],c);return null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&(_[_0x4b1c("0x3d6")]=x[_0x4b1c("0x3d6")]),null!=x.o1&&x.hasOwnProperty("o1")&&(_.o1=x.o1),null!=x[_0x4b1c("0x5b0")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b0"))&&(_.other2=x[_0x4b1c("0x5b0")]),null!=x.o2&&x[_0x4b1c("0x1")]("o2")&&(_.o2=x.o2),null!=x.t1&&x[_0x4b1c("0x1")]("t1")&&(_.t1=x.t1),_},x[_0x4b1c("0xf")][_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")].toObject(this,x)},x.prototype[_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")].toJSONOptions)},x}(),i.RoomSet=function(){function x(x){if(x)for(var c=(0,e.default)(x),b=0;b<c.length;++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")][_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")].NA="",x[_0x4b1c("0xf")].NE="",x[_0x4b1c("0xf")].MC=0,x[_0x4b1c("0xf")].Tid=0,x[_0x4b1c("0xf")].RL="",x[_0x4b1c("0xf")][_0x4b1c("0xd6f")]="",x.prototype.BC=0,x[_0x4b1c("0xf")][_0x4b1c("0xe3d")]=0,x[_0x4b1c("0xf")].FH=0,x[_0x4b1c("0xf")].RM="",x[_0x4b1c("0xf")][_0x4b1c("0xcab")]="",x[_0x4b1c("0xf")][_0x4b1c("0xcac")]="",x[_0x4b1c("0xf")][_0x4b1c("0xcad")]="",x[_0x4b1c("0xf")].RS=0,x[_0x4b1c("0xf")].SL=0,x[_0x4b1c("0xf")][_0x4b1c("0xd6c")]=0,x[_0x4b1c("0xf")].CenY=0,x[_0x4b1c("0xf")].AS=0,x.prototype[_0x4b1c("0xd6b")]="",x[_0x4b1c("0xf")].PID=0,x[_0x4b1c("0xf")].GID=0,x.prototype[_0x4b1c("0x681")]="",x[_0x4b1c("0xf")][_0x4b1c("0xe3e")]=0,x[_0x4b1c("0xf")].bidoy=0,x.prototype[_0x4b1c("0xe3f")]=0,x[_0x4b1c("0xf")].bidor=0,x[_0x4b1c("0xf")][_0x4b1c("0xe40")]="",x[_0x4b1c("0xf")].bidrids="",x[_0x4b1c("0xf")].bidpids="",x[_0x4b1c("0xf")][_0x4b1c("0xe41")]=0,x.prototype[_0x4b1c("0xe42")]="",x[_0x4b1c("0xf")].o1=0,x[_0x4b1c("0xf")][_0x4b1c("0x3d6")]="",x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){return c||(c=r[_0x4b1c("0x5b3")]()),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d8")]),null!=x.NA&&x.hasOwnProperty("NA")&&c.uint32(18)[_0x4b1c("0xd")](x.NA),null!=x.NE&&x[_0x4b1c("0x1")]("NE")&&c.uint32(26).string(x.NE),null!=x.MC&&x.hasOwnProperty("MC")&&c[_0x4b1c("0x5b5")](32)[_0x4b1c("0x5b6")](x.MC),null!=x[_0x4b1c("0x3d9")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d9"))&&c.uint32(40).int32(x[_0x4b1c("0x3d9")]),null!=x.RL&&x[_0x4b1c("0x1")]("RL")&&c[_0x4b1c("0x5b5")](50).string(x.RL),null!=x[_0x4b1c("0xd6f")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd6f"))&&c[_0x4b1c("0x5b5")](58).string(x[_0x4b1c("0xd6f")]),null!=x.BC&&x[_0x4b1c("0x1")]("BC")&&c[_0x4b1c("0x5b5")](64)[_0x4b1c("0x5b6")](x.BC),null!=x[_0x4b1c("0xe3d")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe3d"))&&c[_0x4b1c("0x5b5")](72)[_0x4b1c("0x5b6")](x[_0x4b1c("0xe3d")]),null!=x.FH&&x[_0x4b1c("0x1")]("FH")&&c[_0x4b1c("0x5b5")](81)[_0x4b1c("0x5b8")](x.FH),null!=x.RM&&x[_0x4b1c("0x1")]("RM")&&c.uint32(90).string(x.RM),null!=x[_0x4b1c("0xcab")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcab"))&&c[_0x4b1c("0x5b5")](98)[_0x4b1c("0xd")](x[_0x4b1c("0xcab")]),null!=x[_0x4b1c("0xcac")]&&x[_0x4b1c("0x1")]("RMR")&&c[_0x4b1c("0x5b5")](106).string(x.RMR),null!=x[_0x4b1c("0xcad")]&&x.hasOwnProperty(_0x4b1c("0xcad"))&&c[_0x4b1c("0x5b5")](114)[_0x4b1c("0xd")](x.RMO),null!=x.RS&&x.hasOwnProperty("RS")&&c[_0x4b1c("0x5b5")](120)[_0x4b1c("0x5b6")](x.RS),null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&c[_0x4b1c("0x5b5")](128)[_0x4b1c("0x5b6")](x.SL),null!=x[_0x4b1c("0xd6c")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd6c"))&&c[_0x4b1c("0x5b5")](137)[_0x4b1c("0x5b8")](x[_0x4b1c("0xd6c")]),null!=x[_0x4b1c("0xd6d")]&&x.hasOwnProperty(_0x4b1c("0xd6d"))&&c.uint32(145).double(x[_0x4b1c("0xd6d")]),null!=x.AS&&x[_0x4b1c("0x1")]("AS")&&c[_0x4b1c("0x5b5")](153)[_0x4b1c("0x5b8")](x.AS),null!=x[_0x4b1c("0xd6b")]&&x.hasOwnProperty(_0x4b1c("0xd6b"))&&c[_0x4b1c("0x5b5")](162)[_0x4b1c("0xd")](x[_0x4b1c("0xd6b")]),null!=x.PID&&x.hasOwnProperty(_0x4b1c("0xe43"))&&c.uint32(168)[_0x4b1c("0x5b6")](x[_0x4b1c("0xe43")]),null!=x[_0x4b1c("0xe44")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe44"))&&c[_0x4b1c("0x5b5")](176).int32(x[_0x4b1c("0xe44")]),null!=x[_0x4b1c("0x681")]&&x.hasOwnProperty(_0x4b1c("0x681"))&&c.uint32(186)[_0x4b1c("0xd")](x[_0x4b1c("0x681")]),null!=x[_0x4b1c("0xe3e")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe3e"))&&c.uint32(193)[_0x4b1c("0x5b8")](x[_0x4b1c("0xe3e")]),null!=x[_0x4b1c("0xe45")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe45"))&&c[_0x4b1c("0x5b5")](201).double(x[_0x4b1c("0xe45")]),null!=x[_0x4b1c("0xe3f")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe3f"))&&c.uint32(209)[_0x4b1c("0x5b8")](x[_0x4b1c("0xe3f")]),null!=x[_0x4b1c("0xe46")]&&x[_0x4b1c("0x1")]("bidor")&&c[_0x4b1c("0x5b5")](217)[_0x4b1c("0x5b8")](x[_0x4b1c("0xe46")]),null!=x.bidstyle&&x[_0x4b1c("0x1")](_0x4b1c("0xe40"))&&c[_0x4b1c("0x5b5")](226)[_0x4b1c("0xd")](x[_0x4b1c("0xe40")]),null!=x[_0x4b1c("0xe47")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe47"))&&c[_0x4b1c("0x5b5")](234)[_0x4b1c("0xd")](x.bidrids),null!=x[_0x4b1c("0xe48")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe48"))&&c[_0x4b1c("0x5b5")](242).string(x[_0x4b1c("0xe48")]),null!=x[_0x4b1c("0xe41")]&&x.hasOwnProperty(_0x4b1c("0xe41"))&&c[_0x4b1c("0x5b5")](248)[_0x4b1c("0x5b6")](x[_0x4b1c("0xe41")]),null!=x.Did&&x.hasOwnProperty(_0x4b1c("0xe42"))&&c.uint32(258)[_0x4b1c("0xd")](x[_0x4b1c("0xe42")]),null!=x.o1&&x[_0x4b1c("0x1")]("o1")&&c.uint32(264).int32(x.o1),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")]("other1")&&c[_0x4b1c("0x5b5")](274).string(x.other1),c},x[_0x4b1c("0x5be")]=function(x,c){return this[_0x4b1c("0x5b4")](x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x.len:x.pos+c,_=new(o[_0x4b1c("0x6a7")][_0x4b1c("0xe2a")]);x[_0x4b1c("0x434")]<b;){var e=x.uint32();switch(e>>>3){case 1:_[_0x4b1c("0x3d8")]=x.int32();break;case 2:_.NA=x.string();break;case 3:_.NE=x[_0x4b1c("0xd")]();break;case 4:_.MC=x[_0x4b1c("0x5b6")]();break;case 5:_[_0x4b1c("0x3d9")]=x[_0x4b1c("0x5b6")]();break;case 6:_.RL=x[_0x4b1c("0xd")]();break;case 7:_.RLSize=x[_0x4b1c("0xd")]();break;case 8:_.BC=x[_0x4b1c("0x5b6")]();break;case 9:_[_0x4b1c("0xe3d")]=x[_0x4b1c("0x5b6")]();break;case 10:_.FH=x[_0x4b1c("0x5b8")]();break;case 11:_.RM=x.string();break;case 12:_.RMS=x.string();break;case 13:_[_0x4b1c("0xcac")]=x[_0x4b1c("0xd")]();break;case 14:_[_0x4b1c("0xcad")]=x[_0x4b1c("0xd")]();break;case 15:_.RS=x[_0x4b1c("0x5b6")]();break;case 16:_.SL=x[_0x4b1c("0x5b6")]();break;case 17:_[_0x4b1c("0xd6c")]=x.double();break;case 18:_.CenY=x[_0x4b1c("0x5b8")]();break;case 19:_.AS=x[_0x4b1c("0x5b8")]();break;case 20:_[_0x4b1c("0xd6b")]=x[_0x4b1c("0xd")]();break;case 21:_[_0x4b1c("0xe43")]=x[_0x4b1c("0x5b6")]();break;case 22:_[_0x4b1c("0xe44")]=x[_0x4b1c("0x5b6")]();break;case 23:_[_0x4b1c("0x681")]=x[_0x4b1c("0xd")]();break;case 24:_[_0x4b1c("0xe3e")]=x[_0x4b1c("0x5b8")]();break;case 25:_.bidoy=x[_0x4b1c("0x5b8")]();break;case 26:_[_0x4b1c("0xe3f")]=x[_0x4b1c("0x5b8")]();break;case 27:_.bidor=x[_0x4b1c("0x5b8")]();break;case 28:_[_0x4b1c("0xe40")]=x[_0x4b1c("0xd")]();break;case 29:_[_0x4b1c("0xe47")]=x[_0x4b1c("0xd")]();break;case 30:_.bidpids=x[_0x4b1c("0xd")]();break;case 31:_.layer=x[_0x4b1c("0x5b6")]();break;case 32:_[_0x4b1c("0xe42")]=x[_0x4b1c("0xd")]();break;case 33:_.o1=x[_0x4b1c("0x5b6")]();break;case 34:_[_0x4b1c("0x3d6")]=x[_0x4b1c("0xd")]();break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x.decodeDelimited=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]())},x[_0x4b1c("0x5c3")]=function(x){return(void 0===x?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))!==_0x4b1c("0x1d")||null===x?_0x4b1c("0x5c4"):null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&!s.isInteger(x._id)?"_id: integer expected":null!=x.NA&&x[_0x4b1c("0x1")]("NA")&&!s.isString(x.NA)?"NA: string expected":null!=x.NE&&x.hasOwnProperty("NE")&&!s.isString(x.NE)?_0x4b1c("0xe49"):null!=x.MC&&x[_0x4b1c("0x1")]("MC")&&!s[_0x4b1c("0x5c5")](x.MC)?_0x4b1c("0xe4a"):null!=x[_0x4b1c("0x3d9")]&&x.hasOwnProperty("Tid")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d9")])?"Tid: integer expected":null!=x.RL&&x[_0x4b1c("0x1")]("RL")&&!s[_0x4b1c("0x367")](x.RL)?_0x4b1c("0xe4b"):null!=x[_0x4b1c("0xd6f")]&&x[_0x4b1c("0x1")]("RLSize")&&!s.isString(x.RLSize)?_0x4b1c("0xe4c"):null!=x.BC&&x[_0x4b1c("0x1")]("BC")&&!s[_0x4b1c("0x5c5")](x.BC)?"BC: integer expected":null!=x[_0x4b1c("0xe3d")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe3d"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xe3d")])?_0x4b1c("0xe4d"):null!=x.FH&&x.hasOwnProperty("FH")&&"number"!=typeof x.FH?"FH: number expected":null!=x.RM&&x[_0x4b1c("0x1")]("RM")&&!s[_0x4b1c("0x367")](x.RM)?"RM: string expected":null!=x[_0x4b1c("0xcab")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcab"))&&!s.isString(x[_0x4b1c("0xcab")])?_0x4b1c("0xe4e"):null!=x[_0x4b1c("0xcac")]&&x.hasOwnProperty(_0x4b1c("0xcac"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xcac")])?_0x4b1c("0xe4f"):null!=x[_0x4b1c("0xcad")]&&x.hasOwnProperty(_0x4b1c("0xcad"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xcad")])?_0x4b1c("0xe50"):null!=x.RS&&x[_0x4b1c("0x1")]("RS")&&!s[_0x4b1c("0x5c5")](x.RS)?_0x4b1c("0xe51"):null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&!s[_0x4b1c("0x5c5")](x.SL)?_0x4b1c("0xe52"):null!=x.CenX&&x[_0x4b1c("0x1")](_0x4b1c("0xd6c"))&&"number"!=typeof x[_0x4b1c("0xd6c")]?"CenX: number expected":null!=x.CenY&&x[_0x4b1c("0x1")]("CenY")&&typeof x[_0x4b1c("0xd6d")]!==_0x4b1c("0x18f")?_0x4b1c("0xe53"):null!=x.AS&&x.hasOwnProperty("AS")&&typeof x.AS!==_0x4b1c("0x18f")?_0x4b1c("0x5cd"):null!=x.Outline&&x[_0x4b1c("0x1")](_0x4b1c("0xd6b"))&&!s.isString(x[_0x4b1c("0xd6b")])?_0x4b1c("0xe54"):null!=x[_0x4b1c("0xe43")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe43"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xe43")])?_0x4b1c("0xe55"):null!=x[_0x4b1c("0xe44")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe44"))&&!s[_0x4b1c("0x5c5")](x.GID)?_0x4b1c("0xe56"):null!=x[_0x4b1c("0x681")]&&x[_0x4b1c("0x1")]("bids")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x681")])?"bids: string expected":null!=x[_0x4b1c("0xe3e")]&&x.hasOwnProperty(_0x4b1c("0xe3e"))&&typeof x.bidox!==_0x4b1c("0x18f")?_0x4b1c("0xe57"):null!=x[_0x4b1c("0xe45")]&&x.hasOwnProperty(_0x4b1c("0xe45"))&&typeof x[_0x4b1c("0xe45")]!==_0x4b1c("0x18f")?_0x4b1c("0xe58"):null!=x.bidoz&&x[_0x4b1c("0x1")](_0x4b1c("0xe3f"))&&typeof x[_0x4b1c("0xe3f")]!==_0x4b1c("0x18f")?_0x4b1c("0xe59"):null!=x[_0x4b1c("0xe46")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe46"))&&"number"!=typeof x.bidor?"bidor: number expected":null!=x[_0x4b1c("0xe40")]&&x.hasOwnProperty(_0x4b1c("0xe40"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xe40")])?_0x4b1c("0xe5a"):null!=x[_0x4b1c("0xe47")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe47"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xe47")])?_0x4b1c("0xe5b"):null!=x.bidpids&&x[_0x4b1c("0x1")](_0x4b1c("0xe48"))&&!s.isString(x.bidpids)?_0x4b1c("0xe5c"):null!=x[_0x4b1c("0xe41")]&&x.hasOwnProperty(_0x4b1c("0xe41"))&&!s.isInteger(x[_0x4b1c("0xe41")])?_0x4b1c("0xe5d"):null!=x[_0x4b1c("0xe42")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe42"))&&!s.isString(x[_0x4b1c("0xe42")])?"Did: string expected":null!=x.o1&&x[_0x4b1c("0x1")]("o1")&&!s[_0x4b1c("0x5c5")](x.o1)?_0x4b1c("0x5e0"):null!=x[_0x4b1c("0x3d6")]&&x.hasOwnProperty(_0x4b1c("0x3d6"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x3d6")])?_0x4b1c("0x5e2"):null},x.fromObject=function(x){if(x instanceof o[_0x4b1c("0x6a7")][_0x4b1c("0xe2a")])return x;var c=new(o.ESTileMap[_0x4b1c("0xe2a")]);return null!=x[_0x4b1c("0x3d8")]&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x.NA&&(c.NA=String(x.NA)),null!=x.NE&&(c.NE=String(x.NE)),null!=x.MC&&(c.MC=0|x.MC),null!=x[_0x4b1c("0x3d9")]&&(c.Tid=0|x[_0x4b1c("0x3d9")]),null!=x.RL&&(c.RL=String(x.RL)),null!=x[_0x4b1c("0xd6f")]&&(c.RLSize=String(x[_0x4b1c("0xd6f")])),null!=x.BC&&(c.BC=0|x.BC),null!=x[_0x4b1c("0xe3d")]&&(c[_0x4b1c("0xe3d")]=0|x[_0x4b1c("0xe3d")]),null!=x.FH&&(c.FH=Number(x.FH)),null!=x.RM&&(c.RM=String(x.RM)),null!=x.RMS&&(c.RMS=String(x.RMS)),null!=x[_0x4b1c("0xcac")]&&(c[_0x4b1c("0xcac")]=String(x[_0x4b1c("0xcac")])),null!=x[_0x4b1c("0xcad")]&&(c[_0x4b1c("0xcad")]=String(x[_0x4b1c("0xcad")])),null!=x.RS&&(c.RS=0|x.RS),null!=x.SL&&(c.SL=0|x.SL),null!=x[_0x4b1c("0xd6c")]&&(c[_0x4b1c("0xd6c")]=Number(x[_0x4b1c("0xd6c")])),null!=x[_0x4b1c("0xd6d")]&&(c[_0x4b1c("0xd6d")]=Number(x[_0x4b1c("0xd6d")])),null!=x.AS&&(c.AS=Number(x.AS)),null!=x[_0x4b1c("0xd6b")]&&(c[_0x4b1c("0xd6b")]=String(x.Outline)),null!=x[_0x4b1c("0xe43")]&&(c[_0x4b1c("0xe43")]=0|x[_0x4b1c("0xe43")]),null!=x[_0x4b1c("0xe44")]&&(c[_0x4b1c("0xe44")]=0|x.GID),null!=x[_0x4b1c("0x681")]&&(c[_0x4b1c("0x681")]=String(x[_0x4b1c("0x681")])),null!=x[_0x4b1c("0xe3e")]&&(c[_0x4b1c("0xe3e")]=Number(x[_0x4b1c("0xe3e")])),null!=x.bidoy&&(c[_0x4b1c("0xe45")]=Number(x[_0x4b1c("0xe45")])),null!=x[_0x4b1c("0xe3f")]&&(c[_0x4b1c("0xe3f")]=Number(x.bidoz)),null!=x.bidor&&(c[_0x4b1c("0xe46")]=Number(x[_0x4b1c("0xe46")])),null!=x[_0x4b1c("0xe40")]&&(c[_0x4b1c("0xe40")]=String(x[_0x4b1c("0xe40")])),null!=x.bidrids&&(c[_0x4b1c("0xe47")]=String(x[_0x4b1c("0xe47")])),null!=x[_0x4b1c("0xe48")]&&(c[_0x4b1c("0xe48")]=String(x[_0x4b1c("0xe48")])),null!=x[_0x4b1c("0xe41")]&&(c[_0x4b1c("0xe41")]=0|x.layer),null!=x[_0x4b1c("0xe42")]&&(c[_0x4b1c("0xe42")]=String(x.Did)),null!=x.o1&&(c.o1=0|x.o1),null!=x[_0x4b1c("0x3d6")]&&(c[_0x4b1c("0x3d6")]=String(x.other1)),c},x.from=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};return c[_0x4b1c("0x5ed")]&&(b._id=0,b.NA="",b.NE="",b.MC=0,b[_0x4b1c("0x3d9")]=0,b.RL="",b[_0x4b1c("0xd6f")]="",b.BC=0,b[_0x4b1c("0xe3d")]=0,b.FH=0,b.RM="",b[_0x4b1c("0xcab")]="",b[_0x4b1c("0xcac")]="",b.RMO="",b.RS=0,b.SL=0,b[_0x4b1c("0xd6c")]=0,b[_0x4b1c("0xd6d")]=0,b.AS=0,b[_0x4b1c("0xd6b")]="",b.PID=0,b[_0x4b1c("0xe44")]=0,b.bids="",b[_0x4b1c("0xe3e")]=0,b[_0x4b1c("0xe45")]=0,b[_0x4b1c("0xe3f")]=0,b.bidor=0,b[_0x4b1c("0xe40")]="",b[_0x4b1c("0xe47")]="",b.bidpids="",b.layer=0,b[_0x4b1c("0xe42")]="",b.o1=0,b[_0x4b1c("0x3d6")]=""),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&(b[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x.NA&&x[_0x4b1c("0x1")]("NA")&&(b.NA=x.NA),null!=x.NE&&x[_0x4b1c("0x1")]("NE")&&(b.NE=x.NE),null!=x.MC&&x[_0x4b1c("0x1")]("MC")&&(b.MC=x.MC),null!=x[_0x4b1c("0x3d9")]&&x.hasOwnProperty(_0x4b1c("0x3d9"))&&(b[_0x4b1c("0x3d9")]=x.Tid),null!=x.RL&&x.hasOwnProperty("RL")&&(b.RL=x.RL),null!=x[_0x4b1c("0xd6f")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd6f"))&&(b[_0x4b1c("0xd6f")]=x[_0x4b1c("0xd6f")]),null!=x.BC&&x[_0x4b1c("0x1")]("BC")&&(b.BC=x.BC),null!=x.Fnum&&x[_0x4b1c("0x1")](_0x4b1c("0xe3d"))&&(b[_0x4b1c("0xe3d")]=x.Fnum),null!=x.FH&&x.hasOwnProperty("FH")&&(b.FH=x.FH),null!=x.RM&&x[_0x4b1c("0x1")]("RM")&&(b.RM=x.RM),null!=x[_0x4b1c("0xcab")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcab"))&&(b[_0x4b1c("0xcab")]=x[_0x4b1c("0xcab")]),null!=x.RMR&&x[_0x4b1c("0x1")](_0x4b1c("0xcac"))&&(b[_0x4b1c("0xcac")]=x[_0x4b1c("0xcac")]),null!=x[_0x4b1c("0xcad")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcad"))&&(b[_0x4b1c("0xcad")]=x[_0x4b1c("0xcad")]),null!=x.RS&&x[_0x4b1c("0x1")]("RS")&&(b.RS=x.RS),null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&(b.SL=x.SL),null!=x[_0x4b1c("0xd6c")]&&x[_0x4b1c("0x1")]("CenX")&&(b[_0x4b1c("0xd6c")]=x[_0x4b1c("0xd6c")]),null!=x[_0x4b1c("0xd6d")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd6d"))&&(b[_0x4b1c("0xd6d")]=x[_0x4b1c("0xd6d")]),null!=x.AS&&x[_0x4b1c("0x1")]("AS")&&(b.AS=x.AS),null!=x[_0x4b1c("0xd6b")]&&x[_0x4b1c("0x1")]("Outline")&&(b[_0x4b1c("0xd6b")]=x[_0x4b1c("0xd6b")]),null!=x[_0x4b1c("0xe43")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe43"))&&(b[_0x4b1c("0xe43")]=x[_0x4b1c("0xe43")]),null!=x[_0x4b1c("0xe44")]&&x.hasOwnProperty(_0x4b1c("0xe44"))&&(b.GID=x[_0x4b1c("0xe44")]),null!=x[_0x4b1c("0x681")]&&x[_0x4b1c("0x1")](_0x4b1c("0x681"))&&(b.bids=x.bids),null!=x[_0x4b1c("0xe3e")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe3e"))&&(b[_0x4b1c("0xe3e")]=x[_0x4b1c("0xe3e")]),null!=x[_0x4b1c("0xe45")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe45"))&&(b[_0x4b1c("0xe45")]=x.bidoy),null!=x[_0x4b1c("0xe3f")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe3f"))&&(b[_0x4b1c("0xe3f")]=x[_0x4b1c("0xe3f")]),null!=x[_0x4b1c("0xe46")]&&x.hasOwnProperty("bidor")&&(b.bidor=x[_0x4b1c("0xe46")]),null!=x[_0x4b1c("0xe40")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe40"))&&(b[_0x4b1c("0xe40")]=x[_0x4b1c("0xe40")]),null!=x[_0x4b1c("0xe47")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe47"))&&(b[_0x4b1c("0xe47")]=x[_0x4b1c("0xe47")]),null!=x[_0x4b1c("0xe48")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe48"))&&(b[_0x4b1c("0xe48")]=x[_0x4b1c("0xe48")]),null!=x[_0x4b1c("0xe41")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe41"))&&(b[_0x4b1c("0xe41")]=x[_0x4b1c("0xe41")]),null!=x.Did&&x[_0x4b1c("0x1")]("Did")&&(b.Did=x.Did),null!=x.o1&&x.hasOwnProperty("o1")&&(b.o1=x.o1),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&(b[_0x4b1c("0x3d6")]=x[_0x4b1c("0x3d6")]),b},x[_0x4b1c("0xf")].toObject=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")][_0x4b1c("0x5ef")]=function(){return this.constructor.toObject(this,a.util[_0x4b1c("0x5f1")])},x}(),i[_0x4b1c("0xe2c")]=function(){function x(x){if(x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")][_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")].NA="",x[_0x4b1c("0xf")].NE="",x[_0x4b1c("0xf")].Tid=0,x[_0x4b1c("0xf")].MT=0,x[_0x4b1c("0xf")].ST=0,x[_0x4b1c("0xf")].X=0,x[_0x4b1c("0xf")].Y=0,x.prototype.SL=0,x[_0x4b1c("0xf")].SH=0,x[_0x4b1c("0xf")].image="",x.prototype.w=0,x[_0x4b1c("0xf")].h=0,x[_0x4b1c("0xf")].ipos=0,x[_0x4b1c("0xf")][_0x4b1c("0xe5e")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xe41")]=0,x.prototype[_0x4b1c("0xe5f")]=0,x[_0x4b1c("0xf")].other1="",x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x.encode=function(x,c){return c||(c=r[_0x4b1c("0x5b3")]()),null!=x._id&&x.hasOwnProperty("_id")&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d8")]),null!=x.NA&&x[_0x4b1c("0x1")]("NA")&&c[_0x4b1c("0x5b5")](18)[_0x4b1c("0xd")](x.NA),null!=x.NE&&x[_0x4b1c("0x1")]("NE")&&c.uint32(26)[_0x4b1c("0xd")](x.NE),null!=x[_0x4b1c("0x3d9")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d9"))&&c[_0x4b1c("0x5b5")](32)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d9")]),null!=x.MT&&x[_0x4b1c("0x1")]("MT")&&c[_0x4b1c("0x5b5")](40)[_0x4b1c("0x5b6")](x.MT),null!=x.ST&&x[_0x4b1c("0x1")]("ST")&&c[_0x4b1c("0x5b5")](48)[_0x4b1c("0x5b6")](x.ST),null!=x.X&&x.hasOwnProperty("X")&&c.uint32(57)[_0x4b1c("0x5b8")](x.X),null!=x.Y&&x.hasOwnProperty("Y")&&c[_0x4b1c("0x5b5")](65)[_0x4b1c("0x5b8")](x.Y),null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&c[_0x4b1c("0x5b5")](72)[_0x4b1c("0x5b6")](x.SL),null!=x.SH&&x.hasOwnProperty("SH")&&c[_0x4b1c("0x5b5")](85)[_0x4b1c("0x329")](x.SH),null!=x[_0x4b1c("0x316")]&&x.hasOwnProperty(_0x4b1c("0x316"))&&c.uint32(90).string(x[_0x4b1c("0x316")]),null!=x.w&&x[_0x4b1c("0x1")]("w")&&c.uint32(101)[_0x4b1c("0x329")](x.w),null!=x.h&&x[_0x4b1c("0x1")]("h")&&c[_0x4b1c("0x5b5")](109)[_0x4b1c("0x329")](x.h),null!=x[_0x4b1c("0x3d5")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d5"))&&c[_0x4b1c("0x5b5")](112)[_0x4b1c("0x5b6")](x.ipos),null!=x.FSId&&x[_0x4b1c("0x1")]("FSId")&&c.uint32(120)[_0x4b1c("0x5b6")](x[_0x4b1c("0xe5e")]),null!=x[_0x4b1c("0xe41")]&&x[_0x4b1c("0x1")]("layer")&&c[_0x4b1c("0x5b5")](128)[_0x4b1c("0x5b6")](x[_0x4b1c("0xe41")]),null!=x[_0x4b1c("0xe5f")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe5f"))&&c.uint32(136).int32(x[_0x4b1c("0xe5f")]),null!=x.other1&&x[_0x4b1c("0x1")]("other1")&&c.uint32(146)[_0x4b1c("0xd")](x.other1),c},x[_0x4b1c("0x5be")]=function(x,c){return this.encode(x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n.create(x));for(var b=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,_=new(o[_0x4b1c("0x6a7")].POISet);x[_0x4b1c("0x434")]<b;){var e=x[_0x4b1c("0x5b5")]();switch(e>>>3){case 1:_[_0x4b1c("0x3d8")]=x[_0x4b1c("0x5b6")]();break;case 2:_.NA=x[_0x4b1c("0xd")]();break;case 3:_.NE=x[_0x4b1c("0xd")]();break;case 4:_[_0x4b1c("0x3d9")]=x.int32();break;case 5:_.MT=x[_0x4b1c("0x5b6")]();break;case 6:_.ST=x[_0x4b1c("0x5b6")]();break;case 7:_.X=x[_0x4b1c("0x5b8")]();break;case 8:_.Y=x.double();break;case 9:_.SL=x[_0x4b1c("0x5b6")]();break;case 10:_.SH=x[_0x4b1c("0x329")]();break;case 11:_[_0x4b1c("0x316")]=x[_0x4b1c("0xd")]();break;case 12:_.w=x[_0x4b1c("0x329")]();break;case 13:_.h=x[_0x4b1c("0x329")]();break;case 14:_[_0x4b1c("0x3d5")]=x[_0x4b1c("0x5b6")]();break;case 15:_[_0x4b1c("0xe5e")]=x[_0x4b1c("0x5b6")]();break;case 16:_[_0x4b1c("0xe41")]=x.int32();break;case 17:_[_0x4b1c("0xe5f")]=x[_0x4b1c("0x5b6")]();break;case 18:_.other1=x[_0x4b1c("0xd")]();break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this.decode(x,x[_0x4b1c("0x5b5")]())},x[_0x4b1c("0x5c3")]=function(x){return(typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))!==_0x4b1c("0x1d")||null===x?_0x4b1c("0x5c4"):null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty(_0x4b1c("0x3d8"))&&!s[_0x4b1c("0x5c5")](x._id)?_0x4b1c("0x5c8"):null!=x.NA&&x.hasOwnProperty("NA")&&!s[_0x4b1c("0x367")](x.NA)?_0x4b1c("0xe60"):null!=x.NE&&x[_0x4b1c("0x1")]("NE")&&!s[_0x4b1c("0x367")](x.NE)?_0x4b1c("0xe49"):null!=x.Tid&&x[_0x4b1c("0x1")]("Tid")&&!s[_0x4b1c("0x5c5")](x.Tid)?_0x4b1c("0xe61"):null!=x.MT&&x.hasOwnProperty("MT")&&!s[_0x4b1c("0x5c5")](x.MT)?_0x4b1c("0xe62"):null!=x.ST&&x[_0x4b1c("0x1")]("ST")&&!s[_0x4b1c("0x5c5")](x.ST)?_0x4b1c("0xe63"):null!=x.X&&x[_0x4b1c("0x1")]("X")&&"number"!=typeof x.X?_0x4b1c("0xe64"):null!=x.Y&&x[_0x4b1c("0x1")]("Y")&&"number"!=typeof x.Y?_0x4b1c("0xe65"):null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&!s[_0x4b1c("0x5c5")](x.SL)?_0x4b1c("0xe52"):null!=x.SH&&x[_0x4b1c("0x1")]("SH")&&typeof x.SH!==_0x4b1c("0x18f")?_0x4b1c("0xe66"):null!=x.image&&x[_0x4b1c("0x1")](_0x4b1c("0x316"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x316")])?"image: string expected":null!=x.w&&x[_0x4b1c("0x1")]("w")&&typeof x.w!==_0x4b1c("0x18f")?_0x4b1c("0xe67"):null!=x.h&&x[_0x4b1c("0x1")]("h")&&"number"!=typeof x.h?_0x4b1c("0xe68"):null!=x.ipos&&x[_0x4b1c("0x1")](_0x4b1c("0x3d5"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d5")])?"ipos: integer expected":null!=x[_0x4b1c("0xe5e")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe5e"))&&!s.isInteger(x.FSId)?_0x4b1c("0xe69"):null!=x.layer&&x.hasOwnProperty(_0x4b1c("0xe41"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xe41")])?_0x4b1c("0xe5d"):null!=x[_0x4b1c("0xe5f")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe5f"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xe5f")])?"Sid: integer expected":null!=x.other1&&x.hasOwnProperty(_0x4b1c("0x3d6"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x3d6")])?"other1: string expected":null},x.fromObject=function(x){if(x instanceof o[_0x4b1c("0x6a7")][_0x4b1c("0xe2c")])return x;var c=new(o[_0x4b1c("0x6a7")][_0x4b1c("0xe2c")]);return null!=x[_0x4b1c("0x3d8")]&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x.NA&&(c.NA=String(x.NA)),null!=x.NE&&(c.NE=String(x.NE)),null!=x[_0x4b1c("0x3d9")]&&(c[_0x4b1c("0x3d9")]=0|x[_0x4b1c("0x3d9")]),null!=x.MT&&(c.MT=0|x.MT),null!=x.ST&&(c.ST=0|x.ST),null!=x.X&&(c.X=Number(x.X)),null!=x.Y&&(c.Y=Number(x.Y)),null!=x.SL&&(c.SL=0|x.SL),null!=x.SH&&(c.SH=Number(x.SH)),null!=x[_0x4b1c("0x316")]&&(c.image=String(x.image)),null!=x.w&&(c.w=Number(x.w)),null!=x.h&&(c.h=Number(x.h)),null!=x[_0x4b1c("0x3d5")]&&(c[_0x4b1c("0x3d5")]=0|x[_0x4b1c("0x3d5")]),null!=x.FSId&&(c[_0x4b1c("0xe5e")]=0|x.FSId),null!=x[_0x4b1c("0xe41")]&&(c[_0x4b1c("0xe41")]=0|x.layer),null!=x[_0x4b1c("0xe5f")]&&(c[_0x4b1c("0xe5f")]=0|x[_0x4b1c("0xe5f")]),null!=x[_0x4b1c("0x3d6")]&&(c[_0x4b1c("0x3d6")]=String(x[_0x4b1c("0x3d6")])),c},x[_0x4b1c("0x2bf")]=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};return c.defaults&&(b._id=0,b.NA="",b.NE="",b[_0x4b1c("0x3d9")]=0,b.MT=0,b.ST=0,b.X=0,b.Y=0,b.SL=0,b.SH=0,b.image="",b.w=0,b.h=0,b[_0x4b1c("0x3d5")]=0,b[_0x4b1c("0xe5e")]=0,b.layer=0,b[_0x4b1c("0xe5f")]=0,b[_0x4b1c("0x3d6")]=""),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&(b[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x.NA&&x[_0x4b1c("0x1")]("NA")&&(b.NA=x.NA),null!=x.NE&&x[_0x4b1c("0x1")]("NE")&&(b.NE=x.NE),null!=x.Tid&&x[_0x4b1c("0x1")]("Tid")&&(b[_0x4b1c("0x3d9")]=x[_0x4b1c("0x3d9")]),null!=x.MT&&x[_0x4b1c("0x1")]("MT")&&(b.MT=x.MT),null!=x.ST&&x.hasOwnProperty("ST")&&(b.ST=x.ST),null!=x.X&&x[_0x4b1c("0x1")]("X")&&(b.X=x.X),null!=x.Y&&x[_0x4b1c("0x1")]("Y")&&(b.Y=x.Y),null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&(b.SL=x.SL),null!=x.SH&&x[_0x4b1c("0x1")]("SH")&&(b.SH=x.SH),null!=x.image&&x[_0x4b1c("0x1")](_0x4b1c("0x316"))&&(b[_0x4b1c("0x316")]=x[_0x4b1c("0x316")]),null!=x.w&&x[_0x4b1c("0x1")]("w")&&(b.w=x.w),null!=x.h&&x[_0x4b1c("0x1")]("h")&&(b.h=x.h),null!=x[_0x4b1c("0x3d5")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d5"))&&(b[_0x4b1c("0x3d5")]=x.ipos),null!=x[_0x4b1c("0xe5e")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe5e"))&&(b.FSId=x[_0x4b1c("0xe5e")]),null!=x[_0x4b1c("0xe41")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe41"))&&(b[_0x4b1c("0xe41")]=x[_0x4b1c("0xe41")]),null!=x[_0x4b1c("0xe5f")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe5f"))&&(b[_0x4b1c("0xe5f")]=x[_0x4b1c("0xe5f")]),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&(b.other1=x[_0x4b1c("0x3d6")]),b},x[_0x4b1c("0xf")][_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")][_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i[_0x4b1c("0xd4b")]=function(){function x(x){if(this[_0x4b1c("0xd4d")]={},this[_0x4b1c("0x3f3")]={},x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")].v=0,x[_0x4b1c("0xf")][_0x4b1c("0x59c")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x59e")]="",x[_0x4b1c("0xf")][_0x4b1c("0xe27")]="",x[_0x4b1c("0xf")][_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xcb9")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xd4d")]=s.emptyObject,x[_0x4b1c("0xf")][_0x4b1c("0x3f3")]=s[_0x4b1c("0xe28")],x[_0x4b1c("0xf")][_0x4b1c("0x89")]="",x[_0x4b1c("0xf")].other1="",x[_0x4b1c("0xf")].o1=0,x.prototype[_0x4b1c("0x5b0")]="",x[_0x4b1c("0xf")].o2=0,x[_0x4b1c("0xf")].t1="",x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){if(c||(c=r[_0x4b1c("0x5b3")]()),null!=x.v&&x[_0x4b1c("0x1")]("v")&&c[_0x4b1c("0x5b5")](8).int32(x.v),null!=x.mtime&&x[_0x4b1c("0x1")](_0x4b1c("0x59c"))&&c[_0x4b1c("0x5b5")](16).int32(x.mtime),null!=x[_0x4b1c("0x59e")]&&x.hasOwnProperty(_0x4b1c("0x59e"))&&c.uint32(26).string(x[_0x4b1c("0x59e")]),null!=x[_0x4b1c("0xe27")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe27"))&&c[_0x4b1c("0x5b5")](34).string(x[_0x4b1c("0xe27")]),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&c[_0x4b1c("0x5b5")](40)[_0x4b1c("0x5b6")](x._id),null!=x[_0x4b1c("0xcb9")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcb9"))&&c[_0x4b1c("0x5b5")](48)[_0x4b1c("0x5b6")](x[_0x4b1c("0xcb9")]),null!=x[_0x4b1c("0xd4d")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd4d")))for(var b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")]),_=0;_<b[_0x4b1c("0x0")];++_)c[_0x4b1c("0x5b5")](58).fork()[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](b[_]),o[_0x4b1c("0x6a7")].NavNodeSet[_0x4b1c("0x5b4")](x[_0x4b1c("0xd4d")][b[_]],c.uint32(18)[_0x4b1c("0xe29")]())[_0x4b1c("0xe2b")]()[_0x4b1c("0xe2b")]();if(null!=x[_0x4b1c("0x3f3")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3f3")))for(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0x3f3")]),_=0;_<b.length;++_)c.uint32(66)[_0x4b1c("0xe29")]()[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](b[_]),o[_0x4b1c("0x6a7")][_0x4b1c("0xe6a")][_0x4b1c("0x5b4")](x[_0x4b1c("0x3f3")][b[_]],c[_0x4b1c("0x5b5")](18)[_0x4b1c("0xe29")]())[_0x4b1c("0xe2b")]()[_0x4b1c("0xe2b")]();return null!=x[_0x4b1c("0x89")]&&x[_0x4b1c("0x1")]("token")&&c[_0x4b1c("0x5b5")](74).string(x.token),null!=x[_0x4b1c("0x3d6")]&&x.hasOwnProperty(_0x4b1c("0x3d6"))&&c.uint32(82)[_0x4b1c("0xd")](x[_0x4b1c("0x3d6")]),null!=x.o1&&x.hasOwnProperty("o1")&&c.uint32(88)[_0x4b1c("0x5b6")](x.o1),null!=x.other2&&x[_0x4b1c("0x1")]("other2")&&c[_0x4b1c("0x5b5")](98)[_0x4b1c("0xd")](x[_0x4b1c("0x5b0")]),null!=x.o2&&x.hasOwnProperty("o2")&&c.uint32(104).int32(x.o2),null!=x.t1&&x[_0x4b1c("0x1")]("t1")&&c[_0x4b1c("0x5b5")](114).string(x.t1),c},x[_0x4b1c("0x5be")]=function(x,c){return this.encode(x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b,_=void 0===c?x[_0x4b1c("0x5bf")]:x.pos+c,e=new(o[_0x4b1c("0x6a7")].ESTileMapNavSet);x[_0x4b1c("0x434")]<_;){var t=x.uint32();switch(t>>>3){case 1:e.v=x[_0x4b1c("0x5b6")]();break;case 2:e[_0x4b1c("0x59c")]=x.int32();break;case 3:e.Hash=x[_0x4b1c("0xd")]();break;case 4:e[_0x4b1c("0xe27")]=x[_0x4b1c("0xd")]();break;case 5:e._id=x[_0x4b1c("0x5b6")]();break;case 6:e[_0x4b1c("0xcb9")]=x.int32();break;case 7:x.skip().pos++,e.Nodes===s.emptyObject&&(e[_0x4b1c("0xd4d")]={}),b=x.int32(),x[_0x4b1c("0x434")]++,e[_0x4b1c("0xd4d")][b]=o[_0x4b1c("0x6a7")][_0x4b1c("0xe6b")][_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]());break;case 8:x.skip()[_0x4b1c("0x434")]++,e[_0x4b1c("0x3f3")]===s[_0x4b1c("0xe28")]&&(e[_0x4b1c("0x3f3")]={}),b=x.int32(),x[_0x4b1c("0x434")]++,e[_0x4b1c("0x3f3")][b]=o.ESTileMap[_0x4b1c("0xe6a")][_0x4b1c("0x4b")](x,x.uint32());break;case 9:e[_0x4b1c("0x89")]=x[_0x4b1c("0xd")]();break;case 10:e[_0x4b1c("0x3d6")]=x.string();break;case 11:e.o1=x.int32();break;case 12:e[_0x4b1c("0x5b0")]=x[_0x4b1c("0xd")]();break;case 13:e.o2=x[_0x4b1c("0x5b6")]();break;case 14:e.t1=x[_0x4b1c("0xd")]();break;default:x[_0x4b1c("0x5c0")](7&t)}}return e},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x.uint32())},x[_0x4b1c("0x5c3")]=function(x){if("object"!==(typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))||null===x)return _0x4b1c("0x5c4");if(null!=x.v&&x[_0x4b1c("0x1")]("v")&&!s[_0x4b1c("0x5c5")](x.v))return"v: integer expected";if(null!=x[_0x4b1c("0x59c")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59c"))&&!s.isInteger(x[_0x4b1c("0x59c")]))return"mtime: integer expected";if(null!=x[_0x4b1c("0x59e")]&&x.hasOwnProperty(_0x4b1c("0x59e"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x59e")]))return _0x4b1c("0x5c7");if(null!=x.cname&&x[_0x4b1c("0x1")](_0x4b1c("0xe27"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xe27")]))return _0x4b1c("0xe30");if(null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty("_id")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d8")]))return _0x4b1c("0x5c8");if(null!=x[_0x4b1c("0xcb9")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcb9"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xcb9")]))return"Type: integer expected";if(null!=x[_0x4b1c("0xd4d")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd4d"))){if(!s[_0x4b1c("0x17")](x[_0x4b1c("0xd4d")]))return _0x4b1c("0xe6c");for(var c=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")]),b=0;b<c.length;++b){if(!s[_0x4b1c("0xe36")].test(c[b]))return _0x4b1c("0xe6d");if(t=o[_0x4b1c("0x6a7")].NavNodeSet[_0x4b1c("0x5c3")](x[_0x4b1c("0xd4d")][c[b]]))return _0x4b1c("0xe6e")+t}}if(null!=x[_0x4b1c("0x3f3")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3f3"))){if(!s[_0x4b1c("0x17")](x[_0x4b1c("0x3f3")]))return _0x4b1c("0xe6f");for(c=(0,e.default)(x[_0x4b1c("0x3f3")]),b=0;b<c[_0x4b1c("0x0")];++b){if(!s[_0x4b1c("0xe36")].test(c[b]))return _0x4b1c("0xe70");var t;if(t=o.ESTileMap[_0x4b1c("0xe6a")][_0x4b1c("0x5c3")](x.Lines[c[b]]))return _0x4b1c("0xe71")+t}}return null!=x.token&&x[_0x4b1c("0x1")](_0x4b1c("0x89"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x89")])?"token: string expected":null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")]("other1")&&!s[_0x4b1c("0x367")](x.other1)?_0x4b1c("0x5e2"):null!=x.o1&&x[_0x4b1c("0x1")]("o1")&&!s[_0x4b1c("0x5c5")](x.o1)?_0x4b1c("0x5e0"):null!=x[_0x4b1c("0x5b0")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b0"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x5b0")])?_0x4b1c("0xe72"):null!=x.o2&&x[_0x4b1c("0x1")]("o2")&&!s[_0x4b1c("0x5c5")](x.o2)?_0x4b1c("0x5e1"):null!=x.t1&&x[_0x4b1c("0x1")]("t1")&&!s[_0x4b1c("0x367")](x.t1)?_0x4b1c("0xe39"):null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o[_0x4b1c("0x6a7")][_0x4b1c("0xd4b")])return x;var c=new o.ESTileMap.ESTileMapNavSet;if(null!=x.v&&(c.v=0|x.v),null!=x[_0x4b1c("0x59c")]&&(c.mtime=0|x[_0x4b1c("0x59c")]),null!=x[_0x4b1c("0x59e")]&&(c[_0x4b1c("0x59e")]=String(x[_0x4b1c("0x59e")])),null!=x.cname&&(c[_0x4b1c("0xe27")]=String(x.cname)),null!=x[_0x4b1c("0x3d8")]&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xcb9")]&&(c.Type=0|x[_0x4b1c("0xcb9")]),x.Nodes){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")])!==_0x4b1c("0x1d"))throw TypeError(".ESTileMap.ESTileMapNavSet.Nodes: object expected");c[_0x4b1c("0xd4d")]={};for(var b=(0,e[_0x4b1c("0xc")])(x.Nodes),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_.default)(x[_0x4b1c("0xd4d")][b[t]])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xe73"));c[_0x4b1c("0xd4d")][b[t]]=o[_0x4b1c("0x6a7")][_0x4b1c("0xe6b")][_0x4b1c("0xe3a")](x[_0x4b1c("0xd4d")][b[t]])}}if(x[_0x4b1c("0x3f3")]){if("object"!==(0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x3f3")]))throw TypeError(_0x4b1c("0xe74"));for(c[_0x4b1c("0x3f3")]={},b=(0,e.default)(x[_0x4b1c("0x3f3")]),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_.default)(x[_0x4b1c("0x3f3")][b[t]])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xe74"));c.Lines[b[t]]=o[_0x4b1c("0x6a7")][_0x4b1c("0xe6a")][_0x4b1c("0xe3a")](x[_0x4b1c("0x3f3")][b[t]])}}return null!=x[_0x4b1c("0x89")]&&(c.token=String(x[_0x4b1c("0x89")])),null!=x[_0x4b1c("0x3d6")]&&(c[_0x4b1c("0x3d6")]=String(x[_0x4b1c("0x3d6")])),null!=x.o1&&(c.o1=0|x.o1),null!=x[_0x4b1c("0x5b0")]&&(c.other2=String(x.other2)),null!=x.o2&&(c.o2=0|x.o2),null!=x.t1&&(c.t1=String(x.t1)),c},x.from=x.fromObject,x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b,_={};if((c[_0x4b1c("0x74a")]||c[_0x4b1c("0x5ed")])&&(_[_0x4b1c("0xd4d")]={},_.Lines={}),c[_0x4b1c("0x5ed")]&&(_.v=0,_[_0x4b1c("0x59c")]=0,_[_0x4b1c("0x59e")]="",_[_0x4b1c("0xe27")]="",_[_0x4b1c("0x3d8")]=0,_[_0x4b1c("0xcb9")]=0,_[_0x4b1c("0x89")]="",_[_0x4b1c("0x3d6")]="",_.o1=0,_[_0x4b1c("0x5b0")]="",_.o2=0,_.t1=""),null!=x.v&&x[_0x4b1c("0x1")]("v")&&(_.v=x.v),null!=x[_0x4b1c("0x59c")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59c"))&&(_[_0x4b1c("0x59c")]=x[_0x4b1c("0x59c")]),null!=x[_0x4b1c("0x59e")]&&x[_0x4b1c("0x1")]("Hash")&&(_[_0x4b1c("0x59e")]=x.Hash),null!=x.cname&&x.hasOwnProperty(_0x4b1c("0xe27"))&&(_[_0x4b1c("0xe27")]=x[_0x4b1c("0xe27")]),null!=x._id&&x.hasOwnProperty(_0x4b1c("0x3d8"))&&(_._id=x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xcb9")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcb9"))&&(_.Type=x[_0x4b1c("0xcb9")]),x.Nodes&&(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")]))[_0x4b1c("0x0")]){_[_0x4b1c("0xd4d")]={};for(var t=0;t<b[_0x4b1c("0x0")];++t)_.Nodes[b[t]]=o[_0x4b1c("0x6a7")].NavNodeSet[_0x4b1c("0x5ec")](x[_0x4b1c("0xd4d")][b[t]],c)}if(x[_0x4b1c("0x3f3")]&&(b=(0,e.default)(x[_0x4b1c("0x3f3")]))[_0x4b1c("0x0")])for(_.Lines={},t=0;t<b[_0x4b1c("0x0")];++t)_.Lines[b[t]]=o[_0x4b1c("0x6a7")][_0x4b1c("0xe6a")][_0x4b1c("0x5ec")](x[_0x4b1c("0x3f3")][b[t]],c);return null!=x[_0x4b1c("0x89")]&&x[_0x4b1c("0x1")](_0x4b1c("0x89"))&&(_[_0x4b1c("0x89")]=x[_0x4b1c("0x89")]),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&(_.other1=x[_0x4b1c("0x3d6")]),null!=x.o1&&x.hasOwnProperty("o1")&&(_.o1=x.o1),null!=x[_0x4b1c("0x5b0")]&&x[_0x4b1c("0x1")]("other2")&&(_.other2=x[_0x4b1c("0x5b0")]),null!=x.o2&&x.hasOwnProperty("o2")&&(_.o2=x.o2),null!=x.t1&&x[_0x4b1c("0x1")]("t1")&&(_.t1=x.t1),_},x.prototype.toObject=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")][_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")].toObject(this,a.util.toJSONOptions)},x}(),i.NavNodeSet=function(){function x(x){if(x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c.length;++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x.prototype[_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")].tid=0,x[_0x4b1c("0xf")].H=0,x[_0x4b1c("0xf")].X=0,x.prototype.Y=0,x[_0x4b1c("0xf")].sid=0,x.prototype.gid=0,x[_0x4b1c("0xf")][_0x4b1c("0xe41")]=0,x.prototype[_0x4b1c("0x3d6")]="",x[_0x4b1c("0xf")].Z=0,x.create=function(c){return new x(c)},x.encode=function(x,c){return c||(c=r[_0x4b1c("0x5b3")]()),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d8")]),null!=x.tid&&x[_0x4b1c("0x1")](_0x4b1c("0x99"))&&c[_0x4b1c("0x5b5")](16)[_0x4b1c("0x5b6")](x[_0x4b1c("0x99")]),null!=x.H&&x[_0x4b1c("0x1")]("H")&&c[_0x4b1c("0x5b5")](25)[_0x4b1c("0x5b8")](x.H),null!=x.X&&x[_0x4b1c("0x1")]("X")&&c[_0x4b1c("0x5b5")](33).double(x.X),null!=x.Y&&x[_0x4b1c("0x1")]("Y")&&c[_0x4b1c("0x5b5")](41)[_0x4b1c("0x5b8")](x.Y),null!=x[_0x4b1c("0xe75")]&&x[_0x4b1c("0x1")]("sid")&&c[_0x4b1c("0x5b5")](48)[_0x4b1c("0x5b6")](x[_0x4b1c("0xe75")]),null!=x[_0x4b1c("0xc14")]&&x[_0x4b1c("0x1")](_0x4b1c("0xc14"))&&c[_0x4b1c("0x5b5")](56)[_0x4b1c("0x5b6")](x[_0x4b1c("0xc14")]),null!=x[_0x4b1c("0xe41")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe41"))&&c.uint32(64)[_0x4b1c("0x5b6")](x.layer),null!=x[_0x4b1c("0x3d6")]&&x.hasOwnProperty(_0x4b1c("0x3d6"))&&c.uint32(74).string(x[_0x4b1c("0x3d6")]),null!=x.Z&&x[_0x4b1c("0x1")]("Z")&&c[_0x4b1c("0x5b5")](81)[_0x4b1c("0x5b8")](x.Z),c},x.encodeDelimited=function(x,c){return this[_0x4b1c("0x5b4")](x,c)[_0x4b1c("0xe2b")]()},x.decode=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x[_0x4b1c("0x5bf")]:x.pos+c,_=new o.ESTileMap.NavNodeSet;x[_0x4b1c("0x434")]<b;){var e=x[_0x4b1c("0x5b5")]();switch(e>>>3){case 1:_[_0x4b1c("0x3d8")]=x[_0x4b1c("0x5b6")]();break;case 2:_[_0x4b1c("0x99")]=x.int32();break;case 3:_.H=x[_0x4b1c("0x5b8")]();break;case 4:_.X=x[_0x4b1c("0x5b8")]();break;case 5:_.Y=x[_0x4b1c("0x5b8")]();break;case 6:_[_0x4b1c("0xe75")]=x.int32();break;case 7:_.gid=x.int32();break;case 8:_[_0x4b1c("0xe41")]=x[_0x4b1c("0x5b6")]();break;case 9:_.other1=x[_0x4b1c("0xd")]();break;case 10:_.Z=x[_0x4b1c("0x5b8")]();break;default:x.skipType(7&e)}}return _},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x.uint32())},x[_0x4b1c("0x5c3")]=function(x){return(typeof x===_0x4b1c("0x8")?"undefined":(0,_[_0x4b1c("0xc")])(x))!==_0x4b1c("0x1d")||null===x?_0x4b1c("0x5c4"):null!=x._id&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d8")])?_0x4b1c("0x5c8"):null!=x[_0x4b1c("0x99")]&&x[_0x4b1c("0x1")]("tid")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x99")])?_0x4b1c("0x5c9"):null!=x.H&&x[_0x4b1c("0x1")]("H")&&typeof x.H!==_0x4b1c("0x18f")?_0x4b1c("0xe76"):null!=x.X&&x[_0x4b1c("0x1")]("X")&&typeof x.X!==_0x4b1c("0x18f")?_0x4b1c("0xe64"):null!=x.Y&&x[_0x4b1c("0x1")]("Y")&&"number"!=typeof x.Y?_0x4b1c("0xe65"):null!=x[_0x4b1c("0xe75")]&&x.hasOwnProperty(_0x4b1c("0xe75"))&&!s.isInteger(x[_0x4b1c("0xe75")])?_0x4b1c("0xe77"):null!=x[_0x4b1c("0xc14")]&&x[_0x4b1c("0x1")](_0x4b1c("0xc14"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xc14")])?_0x4b1c("0xe78"):null!=x[_0x4b1c("0xe41")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe41"))&&!s.isInteger(x[_0x4b1c("0xe41")])?_0x4b1c("0xe5d"):null!=x.other1&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x3d6")])?_0x4b1c("0x5e2"):null!=x.Z&&x[_0x4b1c("0x1")]("Z")&&typeof x.Z!==_0x4b1c("0x18f")?_0x4b1c("0xe79"):null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o[_0x4b1c("0x6a7")][_0x4b1c("0xe6b")])return x;var c=new(o[_0x4b1c("0x6a7")].NavNodeSet);return null!=x._id&&(c._id=0|x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x99")]&&(c[_0x4b1c("0x99")]=0|x.tid),null!=x.H&&(c.H=Number(x.H)),null!=x.X&&(c.X=Number(x.X)),null!=x.Y&&(c.Y=Number(x.Y)),null!=x.sid&&(c[_0x4b1c("0xe75")]=0|x.sid),null!=x[_0x4b1c("0xc14")]&&(c.gid=0|x[_0x4b1c("0xc14")]),null!=x[_0x4b1c("0xe41")]&&(c[_0x4b1c("0xe41")]=0|x[_0x4b1c("0xe41")]),null!=x[_0x4b1c("0x3d6")]&&(c[_0x4b1c("0x3d6")]=String(x[_0x4b1c("0x3d6")])),null!=x.Z&&(c.Z=Number(x.Z)),c},x[_0x4b1c("0x2bf")]=x.fromObject,x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};return c[_0x4b1c("0x5ed")]&&(b._id=0,b.tid=0,b.H=0,b.X=0,b.Y=0,b[_0x4b1c("0xe75")]=0,b[_0x4b1c("0xc14")]=0,b[_0x4b1c("0xe41")]=0,b[_0x4b1c("0x3d6")]="",b.Z=0),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&(b._id=x._id),null!=x[_0x4b1c("0x99")]&&x[_0x4b1c("0x1")](_0x4b1c("0x99"))&&(b[_0x4b1c("0x99")]=x[_0x4b1c("0x99")]),null!=x.H&&x[_0x4b1c("0x1")]("H")&&(b.H=x.H),null!=x.X&&x[_0x4b1c("0x1")]("X")&&(b.X=x.X),null!=x.Y&&x.hasOwnProperty("Y")&&(b.Y=x.Y),null!=x[_0x4b1c("0xe75")]&&x[_0x4b1c("0x1")]("sid")&&(b[_0x4b1c("0xe75")]=x[_0x4b1c("0xe75")]),null!=x[_0x4b1c("0xc14")]&&x[_0x4b1c("0x1")](_0x4b1c("0xc14"))&&(b[_0x4b1c("0xc14")]=x[_0x4b1c("0xc14")]),null!=x[_0x4b1c("0xe41")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe41"))&&(b.layer=x.layer),null!=x[_0x4b1c("0x3d6")]&&x.hasOwnProperty(_0x4b1c("0x3d6"))&&(b[_0x4b1c("0x3d6")]=x[_0x4b1c("0x3d6")]),null!=x.Z&&x[_0x4b1c("0x1")]("Z")&&(b.Z=x.Z),b},x[_0x4b1c("0xf")][_0x4b1c("0x5ec")]=function(x){return this.constructor[_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")][_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i[_0x4b1c("0xe6a")]=function(){function x(x){if(x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c.length;++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")][_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")].na="",x[_0x4b1c("0xf")][_0x4b1c("0xe75")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x5b2")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x400")]="",x[_0x4b1c("0xf")][_0x4b1c("0x3ff")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x695")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x401")]="",x[_0x4b1c("0xf")].bstair=0,x.prototype[_0x4b1c("0x23")]=0,x[_0x4b1c("0xf")].layer=0,x[_0x4b1c("0xf")][_0x4b1c("0x3d6")]="",x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){return c||(c=r[_0x4b1c("0x5b3")]()),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d8")]),null!=x.na&&x.hasOwnProperty("na")&&c[_0x4b1c("0x5b5")](18)[_0x4b1c("0xd")](x.na),null!=x[_0x4b1c("0xe75")]&&x.hasOwnProperty(_0x4b1c("0xe75"))&&c[_0x4b1c("0x5b5")](24)[_0x4b1c("0x5b6")](x.sid),null!=x.eid&&x[_0x4b1c("0x1")]("eid")&&c.uint32(32).int32(x[_0x4b1c("0x5b2")]),null!=x[_0x4b1c("0x400")]&&x[_0x4b1c("0x1")]("outline")&&c[_0x4b1c("0x5b5")](42)[_0x4b1c("0xd")](x.outline),null!=x.rank&&x[_0x4b1c("0x1")](_0x4b1c("0x3ff"))&&c[_0x4b1c("0x5b5")](48)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3ff")]),null!=x[_0x4b1c("0x695")]&&x[_0x4b1c("0x1")](_0x4b1c("0x695"))&&c.uint32(57)[_0x4b1c("0x5b8")](x[_0x4b1c("0x695")]),null!=x.dir&&x[_0x4b1c("0x1")](_0x4b1c("0x401"))&&c[_0x4b1c("0x5b5")](66)[_0x4b1c("0xd")](x[_0x4b1c("0x401")]),null!=x[_0x4b1c("0xd4c")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd4c"))&&c.uint32(72)[_0x4b1c("0x5b6")](x[_0x4b1c("0xd4c")]),null!=x[_0x4b1c("0x23")]&&x.hasOwnProperty(_0x4b1c("0x23"))&&c[_0x4b1c("0x5b5")](80)[_0x4b1c("0x5b6")](x[_0x4b1c("0x23")]),null!=x[_0x4b1c("0xe41")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe41"))&&c.uint32(88)[_0x4b1c("0x5b6")](x.layer),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&c[_0x4b1c("0x5b5")](98)[_0x4b1c("0xd")](x.other1),c},x.encodeDelimited=function(x,c){return this[_0x4b1c("0x5b4")](x,c).ldelim()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,_=new o.ESTileMap.NavLineSet;x[_0x4b1c("0x434")]<b;){var e=x[_0x4b1c("0x5b5")]();switch(e>>>3){case 1:_[_0x4b1c("0x3d8")]=x[_0x4b1c("0x5b6")]();break;case 2:_.na=x[_0x4b1c("0xd")]();break;case 3:_[_0x4b1c("0xe75")]=x[_0x4b1c("0x5b6")]();break;case 4:_.eid=x[_0x4b1c("0x5b6")]();break;case 5:_[_0x4b1c("0x400")]=x[_0x4b1c("0xd")]();break;case 6:_[_0x4b1c("0x3ff")]=x[_0x4b1c("0x5b6")]();break;case 7:_[_0x4b1c("0x695")]=x.double();break;case 8:_[_0x4b1c("0x401")]=x[_0x4b1c("0xd")]();break;case 9:_[_0x4b1c("0xd4c")]=x[_0x4b1c("0x5b6")]();break;case 10:_[_0x4b1c("0x23")]=x.int32();break;case 11:_.layer=x[_0x4b1c("0x5b6")]();break;case 12:_[_0x4b1c("0x3d6")]=x[_0x4b1c("0xd")]();break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]())},x.verify=function(x){return"object"!==(typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_.default)(x))||null===x?_0x4b1c("0x5c4"):null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty(_0x4b1c("0x3d8"))&&!s.isInteger(x[_0x4b1c("0x3d8")])?_0x4b1c("0x5c8"):null!=x.na&&x.hasOwnProperty("na")&&!s[_0x4b1c("0x367")](x.na)?_0x4b1c("0xe7a"):null!=x[_0x4b1c("0xe75")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe75"))&&!s.isInteger(x[_0x4b1c("0xe75")])?_0x4b1c("0xe77"):null!=x[_0x4b1c("0x5b2")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b2"))&&!s.isInteger(x[_0x4b1c("0x5b2")])?"eid: integer expected":null!=x[_0x4b1c("0x400")]&&x[_0x4b1c("0x1")](_0x4b1c("0x400"))&&!s.isString(x[_0x4b1c("0x400")])?"outline: string expected":null!=x[_0x4b1c("0x3ff")]&&x[_0x4b1c("0x1")]("rank")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3ff")])?_0x4b1c("0xe7b"):null!=x[_0x4b1c("0x695")]&&x[_0x4b1c("0x1")](_0x4b1c("0x695"))&&typeof x[_0x4b1c("0x695")]!==_0x4b1c("0x18f")?_0x4b1c("0xe7c"):null!=x[_0x4b1c("0x401")]&&x.hasOwnProperty(_0x4b1c("0x401"))&&!s[_0x4b1c("0x367")](x.dir)?_0x4b1c("0xe7d"):null!=x[_0x4b1c("0xd4c")]&&x[_0x4b1c("0x1")]("bstair")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xd4c")])?_0x4b1c("0xe7e"):null!=x.style&&x.hasOwnProperty(_0x4b1c("0x23"))&&!s[_0x4b1c("0x5c5")](x.style)?_0x4b1c("0xe7f"):null!=x.layer&&x[_0x4b1c("0x1")](_0x4b1c("0xe41"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xe41")])?_0x4b1c("0xe5d"):null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x3d6")])?_0x4b1c("0x5e2"):null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o[_0x4b1c("0x6a7")][_0x4b1c("0xe6a")])return x;var c=new(o[_0x4b1c("0x6a7")][_0x4b1c("0xe6a")]);return null!=x[_0x4b1c("0x3d8")]&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x.na&&(c.na=String(x.na)),null!=x[_0x4b1c("0xe75")]&&(c[_0x4b1c("0xe75")]=0|x[_0x4b1c("0xe75")]),null!=x[_0x4b1c("0x5b2")]&&(c.eid=0|x[_0x4b1c("0x5b2")]),null!=x[_0x4b1c("0x400")]&&(c.outline=String(x[_0x4b1c("0x400")])),null!=x[_0x4b1c("0x3ff")]&&(c[_0x4b1c("0x3ff")]=0|x.rank),null!=x[_0x4b1c("0x695")]&&(c[_0x4b1c("0x695")]=Number(x[_0x4b1c("0x695")])),null!=x.dir&&(c[_0x4b1c("0x401")]=String(x.dir)),null!=x.bstair&&(c.bstair=0|x[_0x4b1c("0xd4c")]),null!=x[_0x4b1c("0x23")]&&(c[_0x4b1c("0x23")]=0|x[_0x4b1c("0x23")]),null!=x[_0x4b1c("0xe41")]&&(c.layer=0|x.layer),null!=x[_0x4b1c("0x3d6")]&&(c[_0x4b1c("0x3d6")]=String(x[_0x4b1c("0x3d6")])),c},x[_0x4b1c("0x2bf")]=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};return c[_0x4b1c("0x5ed")]&&(b[_0x4b1c("0x3d8")]=0,b.na="",b.sid=0,b[_0x4b1c("0x5b2")]=0,b[_0x4b1c("0x400")]="",b.rank=0,b[_0x4b1c("0x695")]=0,b[_0x4b1c("0x401")]="",b[_0x4b1c("0xd4c")]=0,b[_0x4b1c("0x23")]=0,b[_0x4b1c("0xe41")]=0,b[_0x4b1c("0x3d6")]=""),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&(b[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x.na&&x.hasOwnProperty("na")&&(b.na=x.na),null!=x[_0x4b1c("0xe75")]&&x.hasOwnProperty(_0x4b1c("0xe75"))&&(b[_0x4b1c("0xe75")]=x[_0x4b1c("0xe75")]),null!=x[_0x4b1c("0x5b2")]&&x[_0x4b1c("0x1")]("eid")&&(b[_0x4b1c("0x5b2")]=x[_0x4b1c("0x5b2")]),null!=x.outline&&x[_0x4b1c("0x1")](_0x4b1c("0x400"))&&(b.outline=x[_0x4b1c("0x400")]),null!=x.rank&&x.hasOwnProperty("rank")&&(b[_0x4b1c("0x3ff")]=x[_0x4b1c("0x3ff")]),null!=x.dis&&x.hasOwnProperty("dis")&&(b[_0x4b1c("0x695")]=x[_0x4b1c("0x695")]),null!=x[_0x4b1c("0x401")]&&x.hasOwnProperty(_0x4b1c("0x401"))&&(b[_0x4b1c("0x401")]=x[_0x4b1c("0x401")]),null!=x[_0x4b1c("0xd4c")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd4c"))&&(b[_0x4b1c("0xd4c")]=x[_0x4b1c("0xd4c")]),null!=x[_0x4b1c("0x23")]&&x[_0x4b1c("0x1")](_0x4b1c("0x23"))&&(b[_0x4b1c("0x23")]=x[_0x4b1c("0x23")]),null!=x[_0x4b1c("0xe41")]&&x[_0x4b1c("0x1")]("layer")&&(b[_0x4b1c("0xe41")]=x[_0x4b1c("0xe41")]),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")]("other1")&&(b.other1=x.other1),b},x.prototype[_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")][_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")].toObject(this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i),x.exports=o},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0}),c.BuildingService=void 0;var _=m(b(15)),e=m(b(7)),t=m(b(9)),i=m(b(8)),a=m(b(0)),n=m(b(1)),r=m(b(153)),s=b(113),o=b(76),f=b(66),l=b(27),d=m(b(26)),u=b(23),h=m(b(35)),g=b(80),v=b(154),p=b(43);function m(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var A=b(321),y=null,C=null,I=0,E=function(){function x(c){(0,a[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x3bc")]=c,this[_0x4b1c("0x3e")]=c.map,this[_0x4b1c("0xe80")]={},this.mapOptions=this[_0x4b1c("0x3e")].options,this[_0x4b1c("0xd03")]=[],this[_0x4b1c("0xca7")]=!0,this[_0x4b1c("0x3f2")]={},this[_0x4b1c("0xe81")]={},this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")]?this.filterSingleMesh=!1:this.map[_0x4b1c("0x47")].quality!=_0x4b1c("0x5d3")&&(this[_0x4b1c("0xca7")]=!1),(0,v[_0x4b1c("0x592")])(A[_0x4b1c("0x32")][_0x4b1c("0xe82")],[_0x4b1c("0xc5"),_0x4b1c("0xc9"),"bzE=","bzI=",_0x4b1c("0xe83"),_0x4b1c("0xc4"),_0x4b1c("0xc3"),"b3RoZXIx",_0x4b1c("0xc6")])}var c;return(0,n[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0xb1d"),value:function(x){return x===_0x4b1c("0xe84")?A[_0x4b1c("0x32")].ESMapSet:null}},{key:_0x4b1c("0xe85"),value:function(x){var c=x[_0x4b1c("0x12b")],b=x.coord,_=x.fnum,e=this[_0x4b1c("0xe81")][c];if(!e)return!0;var t=e[_0x4b1c("0xe86")],i=e.data;if(t==_0x4b1c("0x511")){if(!i[_])return!1;var a=!1;for(var n in i[_]){var r=i[_][n];if(esmap[_0x4b1c("0x87")][_0x4b1c("0x3d3")](b,r)){a=!0;break}}return a}}},{key:_0x4b1c("0xe87"),value:function(x){x[_0x4b1c("0x78")]==_0x4b1c("0x54")&&(this[_0x4b1c("0xe81")][x[_0x4b1c("0x12b")]]=x)}},{key:_0x4b1c("0xe88"),value:function(x){var c=new Array;if(null!=x&&x[_0x4b1c("0x0")]>10)for(var b=x[_0x4b1c("0x2c")]("&&"),_=0;_<b.length;_++){var e=b[_].indexOf("&");e>0&&(b[_]=b[_][_0x4b1c("0x2a1")](0,e)),b[_][_0x4b1c("0x0")]>10&&c[_0x4b1c("0x12")](b[_])}return c}},{key:"tempFlipX_",value:function(){}},{key:"queryFloor",value:function(x,c,b,_){var e=this[_0x4b1c("0xe89")](c,x);esmap[_0x4b1c("0x32")].tempFlipX_&&this[_0x4b1c("0xb83")](e),b(e)}},{key:_0x4b1c("0xe8a"),value:function(x){return!(x>esmap[_0x4b1c("0xd76")]||x<esmap[_0x4b1c("0xd77")])}},{key:"convertShowLevel",value:function(x,c){if(x||(x=23),this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")].Building&&this[_0x4b1c("0x3e")][_0x4b1c("0x47")].useScaleLevel)return x;if(x>=23)return 11;var b=c[_0x4b1c("0xe8b")][x]*c[_0x4b1c("0xe8c")];return this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0xbcc")](b)}},{key:_0x4b1c("0xd73"),value:function(x){var c=this,b=this[_0x4b1c("0x3e")][_0x4b1c("0x1e1")],_=x.floornum,e=new(THREE[_0x4b1c("0x128")])(1,1.5,1);if(x[_0x4b1c("0x201")]){var t=x[_0x4b1c("0x201")][_0x4b1c("0x2c")](",");e=new THREE.Vector3(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}if(x[_0x4b1c("0xcae")])var i=Math.PI/180,a=x[_0x4b1c("0xcae")][_0x4b1c("0x2c")](","),n=new(THREE[_0x4b1c("0x206")])(parseFloat(a[0])*i,parseFloat(a[1])*i,parseFloat(a[2])*i);var r=new(THREE[_0x4b1c("0x128")])(x.x,x.y,0),s=new(THREE[_0x4b1c("0x128")])(-x[_0x4b1c("0xd6c")]-b[_0x4b1c("0x2de")],0,x[_0x4b1c("0xd6d")]-b.sceneZ_);if(x[_0x4b1c("0x158")]){var o=x[_0x4b1c("0x158")][_0x4b1c("0x2c")](",");s.x+=parseFloat(o[0]),s.y+=parseFloat(o[1]),s.z+=parseFloat(o[2]),r.x-=parseFloat(o[0]),r.z+=parseFloat(o[1]),r.y+=parseFloat(o[2])}var f={id:x[_0x4b1c("0x666")],name:x[_0x4b1c("0x1f7")],fnum:x[_0x4b1c("0xc0b")],rotation:n,position:s,scale:e,rotate:x[_0x4b1c("0xcae")]};c.singleMesheDatas[x[_0x4b1c("0xd74")]]||(c[_0x4b1c("0xca6")][x[_0x4b1c("0xd74")]]={}),c[_0x4b1c("0xca6")][x[_0x4b1c("0xd74")]][_]||(c[_0x4b1c("0xca6")][x[_0x4b1c("0xd74")]][_]=[]),c[_0x4b1c("0xca6")][x.RModel][_][_0x4b1c("0x12")](f)}},{key:_0x4b1c("0xe8d"),value:function(x,c){return new(THREE[_0x4b1c("0x128")])(-x.x-c[_0x4b1c("0xb00")][_0x4b1c("0xcba")],0,x.y-c.sourceData[_0x4b1c("0xd92")])}},{key:_0x4b1c("0xe8e"),value:function(x,c){var b=this[_0x4b1c("0xe8d")](x,c);return this.map[_0x4b1c("0x20d")](b)}},{key:_0x4b1c("0xe8f"),value:function(x,c){var b=c[_0x4b1c("0xb00")][_0x4b1c("0x12b")],_=x[_0x4b1c("0xc0b")],e=this[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],t=this[_0x4b1c("0x3e")][_0x4b1c("0x47")],i=this.filterSingleMesh,a=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xa3")],n=this,r={maxx:0,minx:1/0,maxy:0,miny:1/0},s=[],o=[],f=[],l=[],h=[],g=this[_0x4b1c("0xe88")](x.Outline),v=c[_0x4b1c("0x12d")].x,p=c[_0x4b1c("0x12d")].y;c[_0x4b1c("0x47")][_0x4b1c("0xd8d")]&&(v=c[_0x4b1c("0x47")][_0x4b1c("0xd8d")].x,p=c[_0x4b1c("0x47")][_0x4b1c("0xd8d")].y);var m=[],A=(this.map.mapScene,c[_0x4b1c("0xb00")][_0x4b1c("0xcba")],c.sourceData[_0x4b1c("0xd92")],{x:0,y:0});if(this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]){var y=this[_0x4b1c("0x3e")][_0x4b1c("0x12d")],C=this.map[_0x4b1c("0x1b5")]({from:"WGS84",to:e,coord:{x:v,y:p}});A={x:y.x-C.x,y:C.y-y.y}}c.offset=A;for(var I=0;I<g.length;I++){var E=[],w=this[_0x4b1c("0xe90")](g[I],0,0),T=w[_0x4b1c("0x12c")][_0x4b1c("0x3e")]((function(x){return{x:x.x+A.x,y:x.y+A.y}}));for(var k in w[_0x4b1c("0x547")]){var S=w[_0x4b1c("0x547")][k][_0x4b1c("0x3e")]((function(x){return{x:x.x+A.x,y:x.y+A.y}}));E.push(S)}w.points=T,w.holes=E,s[_0x4b1c("0x12")](w)}c[_0x4b1c("0x989")][_]=r,s.forEach((function(x){x.points[_0x4b1c("0x1c")]((function(x){x.y<r[_0x4b1c("0xfc")]&&(r[_0x4b1c("0xfc")]=x.y),x.y>r.maxy&&(r[_0x4b1c("0xf8")]=x.y),-x.x<r.minx&&(r[_0x4b1c("0xfb")]=-x.x),-x.x>r.maxx&&(r[_0x4b1c("0xf7")]=-x.x)}))})),x[_0x4b1c("0xd6b")]=null;var M=x[_0x4b1c("0xe26")],R=0;for(var L in M){var H=!1,D=M[L];c[_0x4b1c("0xcc3")]&&(c[_0x4b1c("0xcc3")][D[_0x4b1c("0x3d8")]]={name:D[_0x4b1c("0x1f7")],model:D.RM,fnum:x.floornum});var O={x:D[_0x4b1c("0xd6c")],y:D.CenY};if(this[_0x4b1c("0xe85")]({bid:b,coord:{x:D[_0x4b1c("0xd6c")]+A.x,y:D[_0x4b1c("0xd6d")]+A.y},fnum:_,id:D[_0x4b1c("0x3d8")]})){var P=this[_0x4b1c("0xe90")](D[_0x4b1c("0xd6b")],0,0);P[_0x4b1c("0xc0b")]=_,P.isTube=!1,D[_0x4b1c("0xd6b")][_0x4b1c("0x114")](_0x4b1c("0xe91"))>-1&&(P[_0x4b1c("0xe92")]=!0),P[_0x4b1c("0x35b")]=D.BC>>1||1,P[_0x4b1c("0x666")]=D._id,P[_0x4b1c("0x56c")]=D.RS,P.FC=D.FC||null,P.gid=D[_0x4b1c("0xe93")],P.RColor=D.RC||"",P[_0x4b1c("0x934")]=P[_0x4b1c("0x12c")],P[_0x4b1c("0x689")]=null,P[_0x4b1c("0xe94")]=P.holes;var N=P[_0x4b1c("0x12c")][_0x4b1c("0x3e")]((function(x){return{x:x.x+A.x,y:x.y+A.y}}));P[_0x4b1c("0x12c")]=N,this[_0x4b1c("0x3bc")][_0x4b1c("0x931")][D[_0x4b1c("0x3d8")]]=[P[_0x4b1c("0x12c")]];var F=[];for(var B in P[_0x4b1c("0x547")]){var z=P[_0x4b1c("0x547")][B][_0x4b1c("0x3e")]((function(x){return{x:x.x+A.x,y:x.y+A.y}}));F[_0x4b1c("0x12")](z)}P[_0x4b1c("0xd6c")]=O.x-A.x,P[_0x4b1c("0xd6d")]=O.y+A.y,P[_0x4b1c("0xdf2")]=-1,P[_0x4b1c("0xd74")]=D.RM,P[_0x4b1c("0xd74")]&&(i&&P[_0x4b1c("0xd74")][_0x4b1c("0x114")](_0x4b1c("0xd6e"))>=0?H=!0:(R++,c[_0x4b1c("0x26b")].modelStatic.roomModelsCount++)),P[_0x4b1c("0x3e5")]=D[_0x4b1c("0x3d9")]||D[_0x4b1c("0x3e5")]||0,P[_0x4b1c("0x427")]=1&D.BC||0;var U=P[_0x4b1c("0x427")]||1==t[_0x4b1c("0x1f6")];n[_0x4b1c("0xd03")][_0x4b1c("0x114")](b)>=0&&(U=P.bclick=D.BC&&1&D.BC),P[_0x4b1c("0xe95")]=D.FS||0,P[_0x4b1c("0x1f7")]=a?this.getLangItemFromJson(D[_0x4b1c("0x1f7")],a):D.name,D[_0x4b1c("0xcad")]&&(P[_0x4b1c("0x158")]=D[_0x4b1c("0xcad")]),P[_0x4b1c("0x668")]=null==D.RH?5:D.RH,P.RoomLogo=null==D.RL?"":D.RL,P[_0x4b1c("0xe96")]=null==D.RLSize?"":D[_0x4b1c("0xd6f")],P[_0x4b1c("0xd71")]=D[_0x4b1c("0xd71")]?JSON[_0x4b1c("0x71")](D.Brief):null;var V=P.RoomLogoSize[_0x4b1c("0x2c")](",");if(V[3]&&(P[_0x4b1c("0xdf2")]=1*V[3]),P[_0x4b1c("0x55d")])for(var j=P[_0x4b1c("0x55d")][_0x4b1c("0x2c")](";"),Z=P[_0x4b1c("0xe96")][_0x4b1c("0x2c")](";"),Y=0;Y<j[_0x4b1c("0x0")];Y++){var W=j[Y],G="";if(Z[Y])1*Z[Y][_0x4b1c("0x2c")](",")[3]<3?(G=d.default.getPath(_0x4b1c("0x5c"),{filename:W,type:_0x4b1c("0xe97"),buildingId:c.id}),n[_0x4b1c("0x3bc")][_0x4b1c("0x364")][_0x4b1c("0xcf2")](G,"modelImageTexturePool",W)):(G=d.default[_0x4b1c("0x680")](_0x4b1c("0x5c"),{filename:W,type:_0x4b1c("0xe98"),buildingId:c.id}),n[_0x4b1c("0x3bc")].ResourcePool[_0x4b1c("0xcf2")](G,"roomTexturePool",W))}P[_0x4b1c("0x3dd")]=D.SL||24,6!=P.top?(D.RM&&(D.RMS&&(P[_0x4b1c("0x201")]=D[_0x4b1c("0xcab")]),D[_0x4b1c("0xcac")]&&(P[_0x4b1c("0xcae")]=D.RMR)),P[_0x4b1c("0xdf2")]>=3&&(P.RS=P[_0x4b1c("0x56c")],P[_0x4b1c("0xe99")]=P[_0x4b1c("0x56c")]+"_"+P[_0x4b1c("0x55d")]+"_"+P[_0x4b1c("0xe96")]),P[_0x4b1c("0x668")]>4&&this.map[_0x4b1c("0x47")].randomTexture?P[_0x4b1c("0xe9a")]={needBottom:!1,sideIndex:1,topIndex:0,sideImageHeight:128,sideImageWidth:128}:P[_0x4b1c("0xe9b")]=!0,U?o[_0x4b1c("0x12")](P):(P[_0x4b1c("0x668")]=null==D.RH?.25:D.RH,h[_0x4b1c("0x12")](P)),H&&("low"==this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3ab")]||this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")]||u[_0x4b1c("0x30")].post({msg:"包含singleMesh，但是quality没有设置为low",level:_0x4b1c("0xaaa")}),this[_0x4b1c("0xd73")](P))):m.push(P)}}var X=x[_0x4b1c("0x3cc")];for(var Q in X){var J=x.Labels[Q],K=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x62")]+b+_0x4b1c("0xe9c")+J[_0x4b1c("0x316")];this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")].City&&(K=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x62")]+this.map.id+_0x4b1c("0x97")+b+"/imagelabel/"+J.image);var q={oid:J[_0x4b1c("0x3d8")],Typeid:J[_0x4b1c("0x3d9")],name:(a?this[_0x4b1c("0xe9d")](J[_0x4b1c("0x1f7")],a):J[_0x4b1c("0x1f7")])||"",dataID:J[_0x4b1c("0xb80")],fontstyleid:J.FSId,Height:J.SH,X:J.X-A.x,Y:J.Y+A.y,image:J[_0x4b1c("0x316")],w:null==J.w?32:J.w,h:null==J.h?32:J.h,ShowLevel:this[_0x4b1c("0xe9e")](J.SL,c),texture:null==J[_0x4b1c("0x316")]||""==J.image?"":esmap.ESMapUtil.loadTexture(K),center:{x:.5,y:0}};if(J.other1){var $=J.other1[_0x4b1c("0x2c")](",");q[_0x4b1c("0x316")]=$[0],q.w=1*$[1],q.h=1*$[2];var xx="left";switch(1*$[3]){case 0:xx="left";break;case 1:xx=_0x4b1c("0x35b");break;case 2:xx="right";break;case 3:xx=_0x4b1c("0x35c")}q[_0x4b1c("0x3d7")]=xx,q[_0x4b1c("0x12d")]={x:1*$[4],y:1*$[5]}}f[_0x4b1c("0x12")](q)}var cx=x[_0x4b1c("0xe9f")];if(x.Facility)for(var bx in cx){var _x=cx[bx],ex={oid:_x[_0x4b1c("0x3d8")],X:_x.X-A.x,Y:_x.Y+A.y,Height:_x.SH,image:null==_x.image?"":_x[_0x4b1c("0x316")],w:null==_x.w||""==_x.w?32:_x.w,h:null==_x.h||""==_x.h?32:_x.h,name:a?this[_0x4b1c("0xe9d")](_x.name,a):_x[_0x4b1c("0x1f7")],dataID:_x[_0x4b1c("0xb80")],ShowLevel:this[_0x4b1c("0xe9e")](_x.SL,c),Typeid:_x[_0x4b1c("0x3d9")],center:{x:.5,y:0}};if(_x.other1){var tx=_x[_0x4b1c("0x3d6")][_0x4b1c("0x2c")](",");ex.image=tx[0],ex.w=1*tx[1],ex.h=1*tx[2],ex[_0x4b1c("0xea0")]=1*tx[3],ex[_0x4b1c("0x12d")].x=1*tx[4],ex[_0x4b1c("0x12d")].y=1*tx[5]}l[_0x4b1c("0x12")](ex)}x[_0x4b1c("0xea1")];var ix={fnum:_,floorEdge:r,floorBaseLayers:[{lid:2,floorBases:s}],modellayers:[{lid:3,models:o}],labellayers:[{lid:5,labels:f}],poilayers:[{lid:4,pois:l}],liftlayers:[{lid:6,lifts:[]}],modelbaselayer:[{lid:9,modelbases:h}],roadDatas:m,modelsCount:R,offsets:A};return this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x384")]||(c[_0x4b1c("0xdbc")][_][_0x4b1c("0x1e6")]=o[_0x4b1c("0x0")]),ix}},{key:_0x4b1c("0xe89"),value:function(x,c){for(var b=c.sourceData.floors,_=0;_<b[_0x4b1c("0x0")];_++){var e=b[_];if(e[_0x4b1c("0xc0b")]==x)return this[_0x4b1c("0xe8f")](e,c)}return null}},{key:_0x4b1c("0xe90"),value:function(x,c,b){var _=(new(r[_0x4b1c("0xc")][_0x4b1c("0x591")]))[_0x4b1c("0x58b")](x,c,b);return{points:_[_0x4b1c("0x589")],holes:_[_0x4b1c("0x58a")]}}},{key:"_convertIndoorFullData",value:function(x,c){c[_0x4b1c("0xea2")]=esmap[_0x4b1c("0x6a2")].calcSceneBox3(x);var b=c[_0x4b1c("0xea2")][_0x4b1c("0x716")](new(THREE[_0x4b1c("0x128")])),_=x[_0x4b1c("0xcb2")],e=x[_0x4b1c("0xb3b")][_-1].Elevation,t=.75*b.x+e,i=new THREE.Vector3(b.x,t,-b.x),a=new THREE.Vector3(0,0,0),n=i.distanceTo(a);c._scaleLevels=JSON[_0x4b1c("0x71")]("["+x[_0x4b1c("0xcbd")]+"]"),c[_0x4b1c("0xb00")]=x,c[_0x4b1c("0xe8c")]=n;var r,s=c[_0x4b1c("0x47")],o=c.map[_0x4b1c("0x47")][_0x4b1c("0x1f6")],f=s[_0x4b1c("0xcbf")];if(f){if(!Array[_0x4b1c("0x32f")](f)&&"all"!=f)return void u[_0x4b1c("0x30")].post({msg:_0x4b1c("0xea3")+esmap[_0x4b1c("0x288")].ARRAY_REQUIRED+_0x4b1c("0xea4"),level:_0x4b1c("0xaaa")});r=s[_0x4b1c("0xea5")]?s[_0x4b1c("0xea5")]:s.focusFloor?s[_0x4b1c("0xcc1")]:x.DefaultFnum?x[_0x4b1c("0xcb2")]:1}else f=[r=s[_0x4b1c("0xea5")]?s[_0x4b1c("0xea5")]:s[_0x4b1c("0xcc1")]?s.focusFloor:x[_0x4b1c("0xcb2")]?x[_0x4b1c("0xcb2")]:1];(r>x[_0x4b1c("0xb3b")].length||r<1)&&(r=x[_0x4b1c("0xcb2")]||1),s[_0x4b1c("0xcc1")]=r,(Array.isArray(f)&&f[_0x4b1c("0x0")]==x.floors[_0x4b1c("0x0")]||f==_0x4b1c("0x68a"))&&s[_0x4b1c("0x388")]==esmap.ESViewMode.MODE_2D&&(u[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:""+esmap[_0x4b1c("0x288")][_0x4b1c("0xea6")],level:"warning"}),f=[r]),s[_0x4b1c("0xcbf")]=f,c[_0x4b1c("0xea7")]=f;for(var l=s.mapFloorSpan||0,d=0,h=0,g=s.offsetZ;d<x[_0x4b1c("0xb3b")].length;d++){var v=x.floors[d];v.floornumtext<0&&(v[_0x4b1c("0xb3c")]*=.001),h=l instanceof Array?l[d]||0+v[_0x4b1c("0xb3c")]:(d+1)*l+v[_0x4b1c("0xb3c")],v[_0x4b1c("0xb3c")]=h+g,v[_0x4b1c("0xea8")]=l+x.FloorHigh,c[_0x4b1c("0x679")].push(v[_0x4b1c("0xc0b")]),c[_0x4b1c("0xdbc")][v[_0x4b1c("0xc0b")]]={label:1,poi:1,floorBase:1,model:1,modelBase:o?0:1,model3D:0}}return c[_0x4b1c("0xb00")]}},{key:_0x4b1c("0xb78"),value:(c=(0,i[_0x4b1c("0xc")])(e.default[_0x4b1c("0x283")]((function x(c){var b,_,i,a=c[_0x4b1c("0x72")],n=c[_0x4b1c("0x96")];return e[_0x4b1c("0xc")].wrap((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:return b=function(){return new(t[_0x4b1c("0xc")])((function(x){var c=d[_0x4b1c("0xc")].getPath("buildingThemeAsset",{themeID:a,filename:a+_0x4b1c("0xea9"),buildingId:n});esmap[_0x4b1c("0x5f6")][_0x4b1c("0x486")]({url:c})[_0x4b1c("0x481")]((function(c){x(c)})).error((function(){x(!1)}))}))},_=function(){return new(t[_0x4b1c("0xc")])((function(x){var c=d[_0x4b1c("0xc")].getPath(_0x4b1c("0x5a"),{themeID:a,filename:a+_0x4b1c("0xeaa"),buildingId:n});esmap[_0x4b1c("0x5f6")].getJSON({url:c})[_0x4b1c("0x481")]((function(c){x(c)}))[_0x4b1c("0xe3")]((function(){x(!1)}))}))},x[_0x4b1c("0x286")]=4,b();case 4:if(i=x.sent){x.next=11;break}return x[_0x4b1c("0x286")]=8,_();case 8:if(i=x[_0x4b1c("0x337")]){x[_0x4b1c("0x286")]=11;break}throw"主题文件请求错误: "+a;case 11:return x[_0x4b1c("0x293")](_0x4b1c("0x28a"),i);case 12:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return c[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0xe9d"),value:function(x,c){return this[_0x4b1c("0x3bc")][_0x4b1c("0xaef")][_0x4b1c("0xeab")]&&this.service[_0x4b1c("0xaef")][_0x4b1c("0xeab")][x]?this[_0x4b1c("0x3bc")][_0x4b1c("0xaef")][_0x4b1c("0xeab")][x][1*c-1]:x}},{key:"oa",value:function(x){return this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")].Building?this[_0x4b1c("0xeac")](x):this[_0x4b1c("0xead")](x)}},{key:_0x4b1c("0xead"),value:function(x){if(!this[_0x4b1c("0xe8a")](x.version))return u[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:""+esmap[_0x4b1c("0x288")][_0x4b1c("0xeae")],level:_0x4b1c("0xe3")}),!1;var c=x[l[_0x4b1c("0xc0")]],b=x.t1,_=c<32503514?c:c/1e3,e=f[_0x4b1c("0xc9f")][_0x4b1c("0x114")](esmap.ESMapUtil[_0x4b1c("0x88")](window[l._lct_][_0x4b1c("0x7c")]))>-1;return!((new Date)[_0x4b1c("0x86")]()>1e6*_&&!e)||(u[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:x[_0x4b1c("0x12b")]+": "+esmap[_0x4b1c("0x288")][_0x4b1c("0xeaf")]+_0x4b1c("0xeb0")+esmap[_0x4b1c("0x87")][_0x4b1c("0x6ba")](1e3*b)+_0x4b1c("0xeb1")+esmap[_0x4b1c("0x87")][_0x4b1c("0x6ba")](1e6*_),level:_0x4b1c("0xe3")}),!1)}},{key:_0x4b1c("0xeb2"),value:function(x,c,b){(0,s[_0x4b1c("0x45f")])(_0x4b1c("0xb1f")+(x+b))===c&&this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("logo",!1)}},{key:_0x4b1c("0xeb3"),value:function(x){var c=this[_0x4b1c("0xeb4")],b=(0,s[_0x4b1c("0x45f")])(x+_0x4b1c("0xeb5")),_=c.k.indexOf("&"),e=c.k;return _>0&&(e=e[_0x4b1c("0x2a1")](0,_),b=(0,s[_0x4b1c("0x45f")])(x+_0x4b1c("0xeb6"))),b!=e?(o[_0x4b1c("0x1c1")][_0x4b1c("0x1c2")](2001),!1):(this.service[_0x4b1c("0xca9")]("sk",!0),!0)}},{key:"x",value:function(x,c){o[_0x4b1c("0x1c1")][_0x4b1c("0x1c2")]({code:x,param:c})}},{key:"_d",value:function(x,c){var b=document[l[_0x4b1c("0x92")]],e=x[_0x4b1c("0x2c")](",");if((0,p._isemvht)(this[_0x4b1c("0x3e")].id))return this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")](_0x4b1c("0xeb7"),!0),!0;if(e[_0x4b1c("0x0")]>0){var t=!1,i=!0,a=!1,n=void 0;try{for(var r,s=(0,_.default)(e);!(i=(r=s[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);i=!0){var o=r[_0x4b1c("0x13a")];b.indexOf(o)>-1&&(t=!0)}}catch(x){a=!0,n=x}finally{try{!i&&s.return&&s[_0x4b1c("0x28a")]()}finally{if(a)throw n}}if(!t)return this.x(2002,[c,b,1]),!1}return this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")](_0x4b1c("0xeb7"),!0),!0}},{key:"_b",value:function(x,c,b,_){return(0,s[_0x4b1c("0x45f")])(""+(x+b))!=c?(this.x(2004,[_,1]),!1):(this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")](_0x4b1c("0xeb8"),!0),!0)}},{key:_0x4b1c("0xeac"),value:function(x){var c=this[_0x4b1c("0xeb4")],b=c.s&&c.k,_=x.bid,e=x.t1,t=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0xd23")]();if(u[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:[_0x4b1c("0xeb9")+x[_0x4b1c("0x12b")]+_0x4b1c("0xeba")+esmap[_0x4b1c("0x87")][_0x4b1c("0x6ba")](1e3*e)+"; "+t,_0x4b1c("0xd24")],level:"custom"}),this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")](_0x4b1c("0x12b"),_),this[_0x4b1c("0xe8a")](x[_0x4b1c("0x84")])){(0,p[_0x4b1c("0x10d")])(this[_0x4b1c("0x3e")].id)?this.service[_0x4b1c("0xca9")](_0x4b1c("0xebc"),!1):x[l[_0x4b1c("0xc2")]]&&c[l[_0x4b1c("0xc2")]]&&this._cl(x[_0x4b1c("0x12b")],x[l[_0x4b1c("0xc2")]],c[l[_0x4b1c("0xc2")]]);var i=!1;if(!b||(i=this[_0x4b1c("0xeb3")](x[l[_0x4b1c("0xc1")]]))){I>3&&(x[l[_0x4b1c("0xc0")]]=0);var a=x[l._rm_];if((0,p[_0x4b1c("0x10c")])(this[_0x4b1c("0x3e")].id)){this[_0x4b1c("0x3bc")].setState(_0x4b1c("0xebd"),!0);var n=x.ul>>1&1||0,r=(0,g[_0x4b1c("0x306")])();n<1&&r.state[_0x4b1c("0xcaf")][_0x4b1c("0xdd")](_)}else if(!(b&&i||x[l._tk_]===_0x4b1c("0xb23"))){var o=document[l[_0x4b1c("0x92")]],d=(0,s[_0x4b1c("0x45f")])(o);if(f[_0x4b1c("0xc9f")][_0x4b1c("0x114")](d)<0){if(!this._d(a,_))return!1;if(!c[l._tk_])return this.x(2003,[_,1]),!1;if(!this._b(x[_0x4b1c("0x3d8")],x[l[_0x4b1c("0xc1")]],c[l._tk_],_))return!1;if(C!=y[0])return!1}else this.service[_0x4b1c("0xca9")](_0x4b1c("0xebd"),!0);var h=x.ul>>1&1||0,v=(0,g[_0x4b1c("0x306")])();h<1&&v[_0x4b1c("0x71e")][_0x4b1c("0xcaf")].add(_)}y=null;var m=x[l[_0x4b1c("0xc1")]];(0,s[_0x4b1c("0x45f")])(m+x[l[_0x4b1c("0xc2")]]+a+x.o1+_0x4b1c("0xb20")+x.o2)!==x[l[_0x4b1c("0xd6")]]&&x[l._hs_]!==m&&"share"!==m&&this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("hf",1);var A=x[l[_0x4b1c("0xc0")]],E=A<32503514?A:A/1e3;this[_0x4b1c("0x3bc")].getState(l._et_)||this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")](l[_0x4b1c("0xbe")],1e6*E);var w=f.WDL.indexOf(esmap[_0x4b1c("0x87")].encode64(window[l[_0x4b1c("0xb9")]][_0x4b1c("0x7c")]))>-1;return(new Date)[_0x4b1c("0x86")]()>1e6*E&&!w?(this.x(2005,[_,1]),!1):(x[_0x4b1c("0x59f")]&&this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")](_0x4b1c("0xebe"),x[_0x4b1c("0x59f")]),this.service.setState("ul",x.ul),this[_0x4b1c("0x3bc")][_0x4b1c("0xca9")]("o2",x.o2||0),0==x[_0x4b1c("0xb3b")].length?(this.x(2009,[_,1]),!1):((x.ul>>1&1||0)<1&&(I+=1),!(I>3)||(this.x(2011,[_]),!1)))}}else u.MessagePoster.post({msg:this[_0x4b1c("0x3e")].sceneId_+": "+esmap[_0x4b1c("0x288")][_0x4b1c("0xeae")]+_0x4b1c("0xebb")+x[_0x4b1c("0x84")],level:"error"})}},{key:_0x4b1c("0xcb0"),value:function(x){var c=this,b=x[_0x4b1c("0x4e")],_=x.skMode,e=x.id;return new(t[_0x4b1c("0xc")])((function(x,t){esmap[_0x4b1c("0x5f6")][_0x4b1c("0xde")]({url:b,isArrayBuffer:!0})[_0x4b1c("0x481")]((function(i){var a=new Uint8Array(i);C=a[0];var n,r=c[_0x4b1c("0x3bc")][_0x4b1c("0x7f")]("t");_&&(0,s[_0x4b1c("0x10a")])(e+r,a),y=a;try{n=A[_0x4b1c("0x32")][_0x4b1c("0xe82")][_0x4b1c("0x4b")](a)}catch(x){return o.MapError[_0x4b1c("0x1c2")]({code:2008,param:[e,b,1]}),u.MessagePoster[_0x4b1c("0x31")]({msg:e+": "+x[_0x4b1c("0x2f")](),level:_0x4b1c("0xe3")}),void t()}x(n)}))[_0x4b1c("0xe3")]((function(){o[_0x4b1c("0x1c1")][_0x4b1c("0x1c2")]({code:2007,param:[e,1]})}))}))}},{key:"_analyseLoad",value:function(x,c){var b=h.default[_0x4b1c("0xde")](c.id);x[_0x4b1c("0xb3b")][_0x4b1c("0x1c")]((function(x){var c=x[_0x4b1c("0xe26")],_=x[_0x4b1c("0xe9f")],e=x[_0x4b1c("0x3cc")],t=x[_0x4b1c("0xc0b")];for(var i in c){c[i][_0x4b1c("0x55d")]&&b[_0x4b1c("0xdd")]("ROOMLOGO"+i,t),b[_0x4b1c("0xdd")](i,t)}for(var a in _)b.add(a,t);for(var n in e)b[_0x4b1c("0xdd")](n,t);b[_0x4b1c("0xdd")](_0x4b1c("0xebf")+t,t)})),b[_0x4b1c("0xdf")]()}},{key:"singleMesheDatas",get:function(){return this.service[_0x4b1c("0xca6")]}},{key:_0x4b1c("0x3b"),get:function(){return this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]}}]),x}();c.BuildingService=E},function(x,c,b){"use strict";var _=t(b(6)),e=t(b(14));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i,a=b(75),n=a[_0x4b1c("0x597")],r=a.Writer,s=a.util,o=a[_0x4b1c("0x59a")].default||(a[_0x4b1c("0x59a")][_0x4b1c("0xc")]={});o[_0x4b1c("0x32")]=((i={})[_0x4b1c("0xe82")]=function(){function x(x){if(this[_0x4b1c("0xb3b")]=[],this[_0x4b1c("0xd94")]=[],this.panos=[],x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c.length;++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")].version=0,x[_0x4b1c("0xf")].maptime=0,x[_0x4b1c("0xf")].Hash="",x.prototype[_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xcb9")]=0,x.prototype[_0x4b1c("0x1f7")]="",x[_0x4b1c("0xf")][_0x4b1c("0x5b7")]="",x[_0x4b1c("0xf")][_0x4b1c("0xd71")]="",x.prototype.adcode="",x[_0x4b1c("0xf")][_0x4b1c("0xec0")]="",x[_0x4b1c("0xf")].AS=0,x.prototype.BuildingHigh=0,x[_0x4b1c("0xf")][_0x4b1c("0xec1")]="",x[_0x4b1c("0xf")][_0x4b1c("0xec2")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xec3")]=0,x.prototype[_0x4b1c("0xec4")]=0,x[_0x4b1c("0xf")].Firstscale=0,x[_0x4b1c("0xf")][_0x4b1c("0xcb2")]=0,x[_0x4b1c("0xf")].DefaultCenX=0,x[_0x4b1c("0xf")][_0x4b1c("0xd92")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xec5")]=0,x[_0x4b1c("0xf")].x=0,x[_0x4b1c("0xf")].y=0,x[_0x4b1c("0xf")].z=0,x[_0x4b1c("0xf")][_0x4b1c("0x5a3")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x5a6")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x5a7")]=0,x[_0x4b1c("0xf")].maxY=0,x[_0x4b1c("0xf")][_0x4b1c("0xcbd")]="",x[_0x4b1c("0xf")][_0x4b1c("0x5ab")]="",x.prototype.FloorBarName="",x[_0x4b1c("0xf")][_0x4b1c("0xec6")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xb3b")]=s[_0x4b1c("0xec7")],x[_0x4b1c("0xf")][_0x4b1c("0xd94")]=s.emptyArray,x[_0x4b1c("0xf")].panos=s.emptyArray,x[_0x4b1c("0xf")].styleid="",x.prototype[_0x4b1c("0x89")]="",x[_0x4b1c("0xf")][_0x4b1c("0x12b")]="",x[_0x4b1c("0xf")][_0x4b1c("0x5ae")]="",x[_0x4b1c("0xf")].other1="",x[_0x4b1c("0xf")].o1=0,x[_0x4b1c("0xf")][_0x4b1c("0x5b0")]="",x[_0x4b1c("0xf")].o2=0,x[_0x4b1c("0xf")].ul=0,x[_0x4b1c("0xf")].t1="",x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){if(c||(c=r[_0x4b1c("0x5b3")]()),null!=x[_0x4b1c("0x84")]&&x.hasOwnProperty(_0x4b1c("0x84"))&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x[_0x4b1c("0x84")]),null!=x[_0x4b1c("0xec8")]&&x.hasOwnProperty("maptime")&&c[_0x4b1c("0x5b5")](16)[_0x4b1c("0x5b6")](x[_0x4b1c("0xec8")]),null!=x[_0x4b1c("0x59e")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59e"))&&c.uint32(26)[_0x4b1c("0xd")](x[_0x4b1c("0x59e")]),null!=x._id&&x[_0x4b1c("0x1")]("_id")&&c.uint32(32)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d8")]),null!=x.Type&&x[_0x4b1c("0x1")](_0x4b1c("0xcb9"))&&c[_0x4b1c("0x5b5")](40)[_0x4b1c("0x5b6")](x[_0x4b1c("0xcb9")]),null!=x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x1f7"))&&c.uint32(50)[_0x4b1c("0xd")](x.name),null!=x[_0x4b1c("0x5b7")]&&x[_0x4b1c("0x1")]("nameEn")&&c[_0x4b1c("0x5b5")](58)[_0x4b1c("0xd")](x[_0x4b1c("0x5b7")]),null!=x[_0x4b1c("0xd71")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd71"))&&c.uint32(66)[_0x4b1c("0xd")](x[_0x4b1c("0xd71")]),null!=x.adcode&&x[_0x4b1c("0x1")](_0x4b1c("0x59f"))&&c[_0x4b1c("0x5b5")](74)[_0x4b1c("0xd")](x.adcode),null!=x[_0x4b1c("0xec0")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec0"))&&c[_0x4b1c("0x5b5")](82)[_0x4b1c("0xd")](x[_0x4b1c("0xec0")]),null!=x.AS&&x.hasOwnProperty("AS")&&c[_0x4b1c("0x5b5")](89)[_0x4b1c("0x5b8")](x.AS),null!=x[_0x4b1c("0xec9")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec9"))&&c[_0x4b1c("0x5b5")](101)[_0x4b1c("0x329")](x.BuildingHigh),null!=x.Tel&&x[_0x4b1c("0x1")]("Tel")&&c.uint32(106)[_0x4b1c("0xd")](x[_0x4b1c("0xec1")]),null!=x.FirstRotateAngleX&&x.hasOwnProperty(_0x4b1c("0xec2"))&&c[_0x4b1c("0x5b5")](113)[_0x4b1c("0x5b8")](x[_0x4b1c("0xec2")]),null!=x[_0x4b1c("0xec3")]&&x.hasOwnProperty(_0x4b1c("0xec3"))&&c[_0x4b1c("0x5b5")](121).double(x[_0x4b1c("0xec3")]),null!=x[_0x4b1c("0xec4")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec4"))&&c[_0x4b1c("0x5b5")](129)[_0x4b1c("0x5b8")](x[_0x4b1c("0xec4")]),null!=x[_0x4b1c("0xbe1")]&&x[_0x4b1c("0x1")](_0x4b1c("0xbe1"))&&c[_0x4b1c("0x5b5")](137)[_0x4b1c("0x5b8")](x[_0x4b1c("0xbe1")]),null!=x[_0x4b1c("0xcb2")]&&x[_0x4b1c("0x1")]("DefaultFnum")&&c.uint32(144)[_0x4b1c("0x5b6")](x[_0x4b1c("0xcb2")]),null!=x.DefaultCenX&&x[_0x4b1c("0x1")]("DefaultCenX")&&c[_0x4b1c("0x5b5")](153).double(x[_0x4b1c("0xcba")]),null!=x[_0x4b1c("0xd92")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd92"))&&c[_0x4b1c("0x5b5")](161)[_0x4b1c("0x5b8")](x[_0x4b1c("0xd92")]),null!=x[_0x4b1c("0xec5")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec5"))&&c.uint32(169)[_0x4b1c("0x5b8")](x[_0x4b1c("0xec5")]),null!=x.x&&x[_0x4b1c("0x1")]("x")&&c[_0x4b1c("0x5b5")](177).double(x.x),null!=x.y&&x[_0x4b1c("0x1")]("y")&&c[_0x4b1c("0x5b5")](185).double(x.y),null!=x.z&&x[_0x4b1c("0x1")]("z")&&c[_0x4b1c("0x5b5")](193).double(x.z),null!=x[_0x4b1c("0x5a3")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a3"))&&c.uint32(201).double(x[_0x4b1c("0x5a3")]),null!=x.minY&&x[_0x4b1c("0x1")]("minY")&&c[_0x4b1c("0x5b5")](209)[_0x4b1c("0x5b8")](x[_0x4b1c("0x5a6")]),null!=x[_0x4b1c("0x5a7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a7"))&&c[_0x4b1c("0x5b5")](217).double(x[_0x4b1c("0x5a7")]),null!=x[_0x4b1c("0x5ba")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ba"))&&c[_0x4b1c("0x5b5")](225)[_0x4b1c("0x5b8")](x[_0x4b1c("0x5ba")]),null!=x[_0x4b1c("0xcbd")]&&x[_0x4b1c("0x1")]("ScaleLevel")&&c.uint32(234)[_0x4b1c("0xd")](x.ScaleLevel),null!=x[_0x4b1c("0x5ab")]&&x[_0x4b1c("0x1")]("Remark")&&c[_0x4b1c("0x5b5")](242)[_0x4b1c("0xd")](x[_0x4b1c("0x5ab")]),null!=x[_0x4b1c("0xeca")]&&x[_0x4b1c("0x1")](_0x4b1c("0xeca"))&&c[_0x4b1c("0x5b5")](250)[_0x4b1c("0xd")](x.FloorBarName),null!=x[_0x4b1c("0xec6")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec6"))&&c[_0x4b1c("0x5b5")](256).int32(x[_0x4b1c("0xec6")]),null!=x.floors&&x[_0x4b1c("0xb3b")][_0x4b1c("0x0")])for(var b=0;b<x.floors.length;++b)o.ESMap[_0x4b1c("0xecb")][_0x4b1c("0x5b4")](x[_0x4b1c("0xb3b")][b],c[_0x4b1c("0x5b5")](266)[_0x4b1c("0xe29")]())[_0x4b1c("0xe2b")]();if(null!=x[_0x4b1c("0xd94")]&&x.navs[_0x4b1c("0x0")])for(b=0;b<x[_0x4b1c("0xd94")][_0x4b1c("0x0")];++b)o[_0x4b1c("0x32")][_0x4b1c("0xecc")][_0x4b1c("0x5b4")](x.navs[b],c[_0x4b1c("0x5b5")](274)[_0x4b1c("0xe29")]())[_0x4b1c("0xe2b")]();if(null!=x[_0x4b1c("0xecd")]&&x.panos[_0x4b1c("0x0")])for(b=0;b<x.panos.length;++b)o.ESMap[_0x4b1c("0xece")][_0x4b1c("0x5b4")](x[_0x4b1c("0xecd")][b],c[_0x4b1c("0x5b5")](282).fork())[_0x4b1c("0xe2b")]();return null!=x[_0x4b1c("0x5ac")]&&x[_0x4b1c("0x1")]("styleid")&&c[_0x4b1c("0x5b5")](290)[_0x4b1c("0xd")](x[_0x4b1c("0x5ac")]),null!=x[_0x4b1c("0x89")]&&x.hasOwnProperty("token")&&c.uint32(298)[_0x4b1c("0xd")](x.token),null!=x[_0x4b1c("0x12b")]&&x[_0x4b1c("0x1")](_0x4b1c("0x12b"))&&c[_0x4b1c("0x5b5")](306).string(x[_0x4b1c("0x12b")]),null!=x.logotoken&&x[_0x4b1c("0x1")](_0x4b1c("0x5ae"))&&c.uint32(314).string(x[_0x4b1c("0x5ae")]),null!=x[_0x4b1c("0x3d6")]&&x.hasOwnProperty("other1")&&c.uint32(322)[_0x4b1c("0xd")](x.other1),null!=x.o1&&x[_0x4b1c("0x1")]("o1")&&c[_0x4b1c("0x5b5")](328)[_0x4b1c("0x5b6")](x.o1),null!=x[_0x4b1c("0x5b0")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b0"))&&c[_0x4b1c("0x5b5")](338).string(x[_0x4b1c("0x5b0")]),null!=x.o2&&x[_0x4b1c("0x1")]("o2")&&c[_0x4b1c("0x5b5")](344)[_0x4b1c("0x5b6")](x.o2),null!=x.ul&&x.hasOwnProperty("ul")&&c[_0x4b1c("0x5b5")](352)[_0x4b1c("0x5b6")](x.ul),null!=x.t1&&x[_0x4b1c("0x1")]("t1")&&c[_0x4b1c("0x5b5")](362)[_0x4b1c("0xd")](x.t1),c},x[_0x4b1c("0x5be")]=function(x,c){return this.encode(x,c)[_0x4b1c("0xe2b")]()},x.decode=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,_=new(o[_0x4b1c("0x32")][_0x4b1c("0xe82")]);x.pos<b;){var e=x[_0x4b1c("0x5b5")]();switch(e>>>3){case 1:_[_0x4b1c("0x84")]=x[_0x4b1c("0x5b6")]();break;case 2:_[_0x4b1c("0xec8")]=x[_0x4b1c("0x5b6")]();break;case 3:_.Hash=x[_0x4b1c("0xd")]();break;case 4:_._id=x.int32();break;case 5:_[_0x4b1c("0xcb9")]=x[_0x4b1c("0x5b6")]();break;case 6:_[_0x4b1c("0x1f7")]=x[_0x4b1c("0xd")]();break;case 7:_[_0x4b1c("0x5b7")]=x[_0x4b1c("0xd")]();break;case 8:_[_0x4b1c("0xd71")]=x[_0x4b1c("0xd")]();break;case 9:_[_0x4b1c("0x59f")]=x[_0x4b1c("0xd")]();break;case 10:_[_0x4b1c("0xec0")]=x[_0x4b1c("0xd")]();break;case 11:_.AS=x[_0x4b1c("0x5b8")]();break;case 12:_[_0x4b1c("0xec9")]=x[_0x4b1c("0x329")]();break;case 13:_[_0x4b1c("0xec1")]=x[_0x4b1c("0xd")]();break;case 14:_[_0x4b1c("0xec2")]=x[_0x4b1c("0x5b8")]();break;case 15:_[_0x4b1c("0xec3")]=x[_0x4b1c("0x5b8")]();break;case 16:_[_0x4b1c("0xec4")]=x[_0x4b1c("0x5b8")]();break;case 17:_[_0x4b1c("0xbe1")]=x[_0x4b1c("0x5b8")]();break;case 18:_[_0x4b1c("0xcb2")]=x[_0x4b1c("0x5b6")]();break;case 19:_[_0x4b1c("0xcba")]=x.double();break;case 20:_.DefaultCenY=x[_0x4b1c("0x5b8")]();break;case 21:_.DefaultCenZ=x[_0x4b1c("0x5b8")]();break;case 22:_.x=x.double();break;case 23:_.y=x.double();break;case 24:_.z=x[_0x4b1c("0x5b8")]();break;case 25:_[_0x4b1c("0x5a3")]=x[_0x4b1c("0x5b8")]();break;case 26:_[_0x4b1c("0x5a6")]=x[_0x4b1c("0x5b8")]();break;case 27:_[_0x4b1c("0x5a7")]=x.double();break;case 28:_[_0x4b1c("0x5ba")]=x.double();break;case 29:_[_0x4b1c("0xcbd")]=x[_0x4b1c("0xd")]();break;case 30:_[_0x4b1c("0x5ab")]=x[_0x4b1c("0xd")]();break;case 31:_[_0x4b1c("0xeca")]=x[_0x4b1c("0xd")]();break;case 32:_.FloorHigh=x[_0x4b1c("0x5b6")]();break;case 33:_[_0x4b1c("0xb3b")]&&_[_0x4b1c("0xb3b")].length||(_[_0x4b1c("0xb3b")]=[]),_[_0x4b1c("0xb3b")][_0x4b1c("0x12")](o.ESMap[_0x4b1c("0xecb")][_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]()));break;case 34:_[_0x4b1c("0xd94")]&&_[_0x4b1c("0xd94")][_0x4b1c("0x0")]||(_[_0x4b1c("0xd94")]=[]),_.navs.push(o[_0x4b1c("0x32")][_0x4b1c("0xecc")].decode(x,x.uint32()));break;case 35:_[_0x4b1c("0xecd")]&&_.panos[_0x4b1c("0x0")]||(_[_0x4b1c("0xecd")]=[]),_.panos.push(o[_0x4b1c("0x32")][_0x4b1c("0xece")][_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]()));break;case 36:_[_0x4b1c("0x5ac")]=x.string();break;case 37:_[_0x4b1c("0x89")]=x.string();break;case 38:_[_0x4b1c("0x12b")]=x.string();break;case 39:_.logotoken=x[_0x4b1c("0xd")]();break;case 40:_[_0x4b1c("0x3d6")]=x.string();break;case 41:_.o1=x.int32();break;case 42:_.other2=x.string();break;case 43:_.o2=x[_0x4b1c("0x5b6")]();break;case 44:_.ul=x[_0x4b1c("0x5b6")]();break;case 45:_.t1=x[_0x4b1c("0xd")]();break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x.decodeDelimited=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]())},x[_0x4b1c("0x5c3")]=function(x){if((typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))!==_0x4b1c("0x1d")||null===x)return"object expected";if(null!=x.version&&x.hasOwnProperty(_0x4b1c("0x84"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x84")]))return _0x4b1c("0xecf");if(null!=x.maptime&&x[_0x4b1c("0x1")](_0x4b1c("0xec8"))&&!s.isInteger(x[_0x4b1c("0xec8")]))return _0x4b1c("0xed0");if(null!=x[_0x4b1c("0x59e")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59e"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x59e")]))return _0x4b1c("0x5c7");if(null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&!s[_0x4b1c("0x5c5")](x._id))return"_id: integer expected";if(null!=x[_0x4b1c("0xcb9")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcb9"))&&!s[_0x4b1c("0x5c5")](x.Type))return"Type: integer expected";if(null!=x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x1f7"))&&!s.isString(x[_0x4b1c("0x1f7")]))return _0x4b1c("0x5ca");if(null!=x[_0x4b1c("0x5b7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b7"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x5b7")]))return _0x4b1c("0x5cb");if(null!=x[_0x4b1c("0xd71")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd71"))&&!s[_0x4b1c("0x367")](x.Brief))return"Brief: string expected";if(null!=x[_0x4b1c("0x59f")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59f"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x59f")]))return _0x4b1c("0x5cc");if(null!=x[_0x4b1c("0xec0")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec0"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xec0")]))return _0x4b1c("0xed1");if(null!=x.AS&&x[_0x4b1c("0x1")]("AS")&&typeof x.AS!==_0x4b1c("0x18f"))return _0x4b1c("0x5cd");if(null!=x.BuildingHigh&&x[_0x4b1c("0x1")](_0x4b1c("0xec9"))&&typeof x.BuildingHigh!==_0x4b1c("0x18f"))return _0x4b1c("0xed2");if(null!=x.Tel&&x.hasOwnProperty(_0x4b1c("0xec1"))&&!s[_0x4b1c("0x367")](x.Tel))return _0x4b1c("0xed3");if(null!=x[_0x4b1c("0xec2")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec2"))&&"number"!=typeof x[_0x4b1c("0xec2")])return"FirstRotateAngleX: number expected";if(null!=x[_0x4b1c("0xec3")]&&x[_0x4b1c("0x1")]("FirstRotateAngleY")&&typeof x[_0x4b1c("0xec3")]!==_0x4b1c("0x18f"))return _0x4b1c("0xed4");if(null!=x.FirstRotateAngleZ&&x[_0x4b1c("0x1")](_0x4b1c("0xec4"))&&typeof x[_0x4b1c("0xec4")]!==_0x4b1c("0x18f"))return _0x4b1c("0xed5");if(null!=x[_0x4b1c("0xbe1")]&&x[_0x4b1c("0x1")](_0x4b1c("0xbe1"))&&typeof x[_0x4b1c("0xbe1")]!==_0x4b1c("0x18f"))return"Firstscale: number expected";if(null!=x.DefaultFnum&&x.hasOwnProperty(_0x4b1c("0xcb2"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xcb2")]))return"DefaultFnum: integer expected";if(null!=x.DefaultCenX&&x[_0x4b1c("0x1")](_0x4b1c("0xcba"))&&typeof x.DefaultCenX!==_0x4b1c("0x18f"))return"DefaultCenX: number expected";if(null!=x[_0x4b1c("0xd92")]&&x[_0x4b1c("0x1")]("DefaultCenY")&&typeof x[_0x4b1c("0xd92")]!==_0x4b1c("0x18f"))return _0x4b1c("0xed6");if(null!=x[_0x4b1c("0xec5")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec5"))&&"number"!=typeof x.DefaultCenZ)return _0x4b1c("0xed7");if(null!=x.x&&x[_0x4b1c("0x1")]("x")&&"number"!=typeof x.x)return _0x4b1c("0x5d1");if(null!=x.y&&x[_0x4b1c("0x1")]("y")&&typeof x.y!==_0x4b1c("0x18f"))return _0x4b1c("0x5d2");if(null!=x.z&&x[_0x4b1c("0x1")]("z")&&typeof x.z!==_0x4b1c("0x18f"))return _0x4b1c("0xe32");if(null!=x[_0x4b1c("0x5a3")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5a3"))&&typeof x[_0x4b1c("0x5a3")]!==_0x4b1c("0x18f"))return _0x4b1c("0xed8");if(null!=x.minY&&x[_0x4b1c("0x1")](_0x4b1c("0x5a6"))&&typeof x[_0x4b1c("0x5a6")]!==_0x4b1c("0x18f"))return _0x4b1c("0xe33");if(null!=x[_0x4b1c("0x5a7")]&&x.hasOwnProperty(_0x4b1c("0x5a7"))&&typeof x[_0x4b1c("0x5a7")]!==_0x4b1c("0x18f"))return _0x4b1c("0xed9");if(null!=x[_0x4b1c("0x5ba")]&&x.hasOwnProperty(_0x4b1c("0x5ba"))&&typeof x[_0x4b1c("0x5ba")]!==_0x4b1c("0x18f"))return"maxY: number expected";if(null!=x[_0x4b1c("0xcbd")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcbd"))&&!s.isString(x.ScaleLevel))return"ScaleLevel: string expected";if(null!=x[_0x4b1c("0x5ab")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ab"))&&!s[_0x4b1c("0x367")](x.Remark))return _0x4b1c("0x5dc");if(null!=x[_0x4b1c("0xeca")]&&x[_0x4b1c("0x1")]("FloorBarName")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xeca")]))return _0x4b1c("0xeda");if(null!=x[_0x4b1c("0xec6")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec6"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xec6")]))return _0x4b1c("0xedb");if(null!=x[_0x4b1c("0xb3b")]&&x.hasOwnProperty(_0x4b1c("0xb3b"))){if(!Array[_0x4b1c("0x32f")](x.floors))return _0x4b1c("0xedc");for(var c=0;c<x.floors[_0x4b1c("0x0")];++c)if(b=o[_0x4b1c("0x32")][_0x4b1c("0xecb")].verify(x[_0x4b1c("0xb3b")][c]))return _0x4b1c("0xedd")+b}if(null!=x.navs&&x.hasOwnProperty(_0x4b1c("0xd94"))){if(!Array[_0x4b1c("0x32f")](x.navs))return _0x4b1c("0xede");for(c=0;c<x.navs[_0x4b1c("0x0")];++c)if(b=o.ESMap[_0x4b1c("0xecc")].verify(x.navs[c]))return _0x4b1c("0xedf")+b}if(null!=x.panos&&x[_0x4b1c("0x1")]("panos")){if(!Array.isArray(x.panos))return _0x4b1c("0xee0");for(c=0;c<x[_0x4b1c("0xecd")][_0x4b1c("0x0")];++c){var b;if(b=o[_0x4b1c("0x32")][_0x4b1c("0xece")][_0x4b1c("0x5c3")](x.panos[c]))return"panos."+b}}return null!=x[_0x4b1c("0x5ac")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ac"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x5ac")])?_0x4b1c("0x5dd"):null!=x[_0x4b1c("0x89")]&&x[_0x4b1c("0x1")](_0x4b1c("0x89"))&&!s.isString(x[_0x4b1c("0x89")])?_0x4b1c("0x5de"):null!=x[_0x4b1c("0x12b")]&&x[_0x4b1c("0x1")](_0x4b1c("0x12b"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x12b")])?_0x4b1c("0xee1"):null!=x[_0x4b1c("0x5ae")]&&x.hasOwnProperty(_0x4b1c("0x5ae"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x5ae")])?_0x4b1c("0x5df"):null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&!s[_0x4b1c("0x367")](x.other1)?_0x4b1c("0x5e2"):null!=x.o1&&x[_0x4b1c("0x1")]("o1")&&!s.isInteger(x.o1)?"o1: integer expected":null!=x[_0x4b1c("0x5b0")]&&x.hasOwnProperty(_0x4b1c("0x5b0"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x5b0")])?_0x4b1c("0xe72"):null!=x.o2&&x[_0x4b1c("0x1")]("o2")&&!s[_0x4b1c("0x5c5")](x.o2)?_0x4b1c("0x5e1"):null!=x.ul&&x[_0x4b1c("0x1")]("ul")&&!s[_0x4b1c("0x5c5")](x.ul)?_0x4b1c("0xee2"):null!=x.t1&&x[_0x4b1c("0x1")]("t1")&&!s[_0x4b1c("0x367")](x.t1)?_0x4b1c("0xe39"):null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o.ESMap[_0x4b1c("0xe82")])return x;var c=new(o.ESMap[_0x4b1c("0xe82")]);if(null!=x[_0x4b1c("0x84")]&&(c.version=0|x[_0x4b1c("0x84")]),null!=x[_0x4b1c("0xec8")]&&(c.maptime=0|x[_0x4b1c("0xec8")]),null!=x[_0x4b1c("0x59e")]&&(c[_0x4b1c("0x59e")]=String(x[_0x4b1c("0x59e")])),null!=x._id&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xcb9")]&&(c[_0x4b1c("0xcb9")]=0|x[_0x4b1c("0xcb9")]),null!=x[_0x4b1c("0x1f7")]&&(c[_0x4b1c("0x1f7")]=String(x.name)),null!=x[_0x4b1c("0x5b7")]&&(c.nameEn=String(x[_0x4b1c("0x5b7")])),null!=x[_0x4b1c("0xd71")]&&(c[_0x4b1c("0xd71")]=String(x[_0x4b1c("0xd71")])),null!=x.adcode&&(c[_0x4b1c("0x59f")]=String(x[_0x4b1c("0x59f")])),null!=x[_0x4b1c("0xec0")]&&(c[_0x4b1c("0xec0")]=String(x[_0x4b1c("0xec0")])),null!=x.AS&&(c.AS=Number(x.AS)),null!=x[_0x4b1c("0xec9")]&&(c[_0x4b1c("0xec9")]=Number(x[_0x4b1c("0xec9")])),null!=x[_0x4b1c("0xec1")]&&(c.Tel=String(x[_0x4b1c("0xec1")])),null!=x[_0x4b1c("0xec2")]&&(c[_0x4b1c("0xec2")]=Number(x[_0x4b1c("0xec2")])),null!=x[_0x4b1c("0xec3")]&&(c[_0x4b1c("0xec3")]=Number(x.FirstRotateAngleY)),null!=x[_0x4b1c("0xec4")]&&(c[_0x4b1c("0xec4")]=Number(x.FirstRotateAngleZ)),null!=x[_0x4b1c("0xbe1")]&&(c[_0x4b1c("0xbe1")]=Number(x.Firstscale)),null!=x[_0x4b1c("0xcb2")]&&(c[_0x4b1c("0xcb2")]=0|x[_0x4b1c("0xcb2")]),null!=x[_0x4b1c("0xcba")]&&(c[_0x4b1c("0xcba")]=Number(x[_0x4b1c("0xcba")])),null!=x[_0x4b1c("0xd92")]&&(c[_0x4b1c("0xd92")]=Number(x[_0x4b1c("0xd92")])),null!=x[_0x4b1c("0xec5")]&&(c[_0x4b1c("0xec5")]=Number(x[_0x4b1c("0xec5")])),null!=x.x&&(c.x=Number(x.x)),null!=x.y&&(c.y=Number(x.y)),null!=x.z&&(c.z=Number(x.z)),null!=x.minX&&(c[_0x4b1c("0x5a3")]=Number(x[_0x4b1c("0x5a3")])),null!=x[_0x4b1c("0x5a6")]&&(c[_0x4b1c("0x5a6")]=Number(x[_0x4b1c("0x5a6")])),null!=x[_0x4b1c("0x5a7")]&&(c[_0x4b1c("0x5a7")]=Number(x.maxX)),null!=x.maxY&&(c[_0x4b1c("0x5ba")]=Number(x[_0x4b1c("0x5ba")])),null!=x[_0x4b1c("0xcbd")]&&(c[_0x4b1c("0xcbd")]=String(x[_0x4b1c("0xcbd")])),null!=x[_0x4b1c("0x5ab")]&&(c[_0x4b1c("0x5ab")]=String(x[_0x4b1c("0x5ab")])),null!=x[_0x4b1c("0xeca")]&&(c[_0x4b1c("0xeca")]=String(x[_0x4b1c("0xeca")])),null!=x.FloorHigh&&(c.FloorHigh=0|x[_0x4b1c("0xec6")]),x[_0x4b1c("0xb3b")]){if(!Array[_0x4b1c("0x32f")](x.floors))throw TypeError(".ESMap.ESMapSet.floors: array expected");c[_0x4b1c("0xb3b")]=[];for(var b=0;b<x[_0x4b1c("0xb3b")][_0x4b1c("0x0")];++b){if("object"!==(0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xb3b")][b]))throw TypeError(".ESMap.ESMapSet.floors: object expected");c[_0x4b1c("0xb3b")][b]=o.ESMap[_0x4b1c("0xecb")].fromObject(x[_0x4b1c("0xb3b")][b])}}if(x.navs){if(!Array[_0x4b1c("0x32f")](x[_0x4b1c("0xd94")]))throw TypeError(".ESMap.ESMapSet.navs: array expected");for(c[_0x4b1c("0xd94")]=[],b=0;b<x.navs[_0x4b1c("0x0")];++b){if("object"!==(0,_.default)(x[_0x4b1c("0xd94")][b]))throw TypeError(_0x4b1c("0xee3"));c[_0x4b1c("0xd94")][b]=o[_0x4b1c("0x32")].NavSet[_0x4b1c("0xe3a")](x[_0x4b1c("0xd94")][b])}}if(x[_0x4b1c("0xecd")]){if(!Array[_0x4b1c("0x32f")](x[_0x4b1c("0xecd")]))throw TypeError(_0x4b1c("0xee4"));for(c.panos=[],b=0;b<x[_0x4b1c("0xecd")][_0x4b1c("0x0")];++b){if("object"!==(0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xecd")][b]))throw TypeError(_0x4b1c("0xee5"));c.panos[b]=o[_0x4b1c("0x32")][_0x4b1c("0xece")][_0x4b1c("0xe3a")](x[_0x4b1c("0xecd")][b])}}return null!=x.styleid&&(c.styleid=String(x[_0x4b1c("0x5ac")])),null!=x.token&&(c.token=String(x.token)),null!=x.bid&&(c[_0x4b1c("0x12b")]=String(x[_0x4b1c("0x12b")])),null!=x[_0x4b1c("0x5ae")]&&(c.logotoken=String(x[_0x4b1c("0x5ae")])),null!=x[_0x4b1c("0x3d6")]&&(c[_0x4b1c("0x3d6")]=String(x.other1)),null!=x.o1&&(c.o1=0|x.o1),null!=x[_0x4b1c("0x5b0")]&&(c[_0x4b1c("0x5b0")]=String(x.other2)),null!=x.o2&&(c.o2=0|x.o2),null!=x.ul&&(c.ul=0|x.ul),null!=x.t1&&(c.t1=String(x.t1)),c},x[_0x4b1c("0x2bf")]=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};if((c[_0x4b1c("0xee6")]||c[_0x4b1c("0x5ed")])&&(b[_0x4b1c("0xb3b")]=[],b[_0x4b1c("0xd94")]=[],b[_0x4b1c("0xecd")]=[]),c[_0x4b1c("0x5ed")]&&(b[_0x4b1c("0x84")]=0,b[_0x4b1c("0xec8")]=0,b[_0x4b1c("0x59e")]="",b[_0x4b1c("0x3d8")]=0,b[_0x4b1c("0xcb9")]=0,b[_0x4b1c("0x1f7")]="",b.nameEn="",b.Brief="",b[_0x4b1c("0x59f")]="",b[_0x4b1c("0xec0")]="",b.AS=0,b[_0x4b1c("0xec9")]=0,b[_0x4b1c("0xec1")]="",b.FirstRotateAngleX=0,b.FirstRotateAngleY=0,b[_0x4b1c("0xec4")]=0,b.Firstscale=0,b[_0x4b1c("0xcb2")]=0,b[_0x4b1c("0xcba")]=0,b[_0x4b1c("0xd92")]=0,b[_0x4b1c("0xec5")]=0,b.x=0,b.y=0,b.z=0,b[_0x4b1c("0x5a3")]=0,b[_0x4b1c("0x5a6")]=0,b[_0x4b1c("0x5a7")]=0,b.maxY=0,b[_0x4b1c("0xcbd")]="",b[_0x4b1c("0x5ab")]="",b[_0x4b1c("0xeca")]="",b[_0x4b1c("0xec6")]=0,b[_0x4b1c("0x5ac")]="",b[_0x4b1c("0x89")]="",b.bid="",b[_0x4b1c("0x5ae")]="",b.other1="",b.o1=0,b[_0x4b1c("0x5b0")]="",b.o2=0,b.ul=0,b.t1=""),null!=x[_0x4b1c("0x84")]&&x[_0x4b1c("0x1")](_0x4b1c("0x84"))&&(b[_0x4b1c("0x84")]=x[_0x4b1c("0x84")]),null!=x[_0x4b1c("0xec8")]&&x.hasOwnProperty(_0x4b1c("0xec8"))&&(b[_0x4b1c("0xec8")]=x.maptime),null!=x[_0x4b1c("0x59e")]&&x[_0x4b1c("0x1")]("Hash")&&(b[_0x4b1c("0x59e")]=x.Hash),null!=x._id&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&(b[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xcb9")]&&x[_0x4b1c("0x1")]("Type")&&(b[_0x4b1c("0xcb9")]=x[_0x4b1c("0xcb9")]),null!=x.name&&x[_0x4b1c("0x1")](_0x4b1c("0x1f7"))&&(b[_0x4b1c("0x1f7")]=x[_0x4b1c("0x1f7")]),null!=x.nameEn&&x.hasOwnProperty(_0x4b1c("0x5b7"))&&(b[_0x4b1c("0x5b7")]=x[_0x4b1c("0x5b7")]),null!=x[_0x4b1c("0xd71")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd71"))&&(b[_0x4b1c("0xd71")]=x[_0x4b1c("0xd71")]),null!=x[_0x4b1c("0x59f")]&&x[_0x4b1c("0x1")](_0x4b1c("0x59f"))&&(b[_0x4b1c("0x59f")]=x[_0x4b1c("0x59f")]),null!=x[_0x4b1c("0xec0")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec0"))&&(b.address=x[_0x4b1c("0xec0")]),null!=x.AS&&x[_0x4b1c("0x1")]("AS")&&(b.AS=x.AS),null!=x[_0x4b1c("0xec9")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec9"))&&(b[_0x4b1c("0xec9")]=x[_0x4b1c("0xec9")]),null!=x[_0x4b1c("0xec1")]&&x[_0x4b1c("0x1")]("Tel")&&(b[_0x4b1c("0xec1")]=x[_0x4b1c("0xec1")]),null!=x.FirstRotateAngleX&&x[_0x4b1c("0x1")](_0x4b1c("0xec2"))&&(b[_0x4b1c("0xec2")]=x[_0x4b1c("0xec2")]),null!=x[_0x4b1c("0xec3")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec3"))&&(b[_0x4b1c("0xec3")]=x[_0x4b1c("0xec3")]),null!=x[_0x4b1c("0xec4")]&&x[_0x4b1c("0x1")]("FirstRotateAngleZ")&&(b[_0x4b1c("0xec4")]=x[_0x4b1c("0xec4")]),null!=x[_0x4b1c("0xbe1")]&&x[_0x4b1c("0x1")](_0x4b1c("0xbe1"))&&(b[_0x4b1c("0xbe1")]=x[_0x4b1c("0xbe1")]),null!=x[_0x4b1c("0xcb2")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcb2"))&&(b[_0x4b1c("0xcb2")]=x[_0x4b1c("0xcb2")]),null!=x[_0x4b1c("0xcba")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcba"))&&(b[_0x4b1c("0xcba")]=x[_0x4b1c("0xcba")]),null!=x[_0x4b1c("0xd92")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd92"))&&(b[_0x4b1c("0xd92")]=x[_0x4b1c("0xd92")]),null!=x[_0x4b1c("0xec5")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec5"))&&(b[_0x4b1c("0xec5")]=x[_0x4b1c("0xec5")]),null!=x.x&&x.hasOwnProperty("x")&&(b.x=x.x),null!=x.y&&x[_0x4b1c("0x1")]("y")&&(b.y=x.y),null!=x.z&&x[_0x4b1c("0x1")]("z")&&(b.z=x.z),null!=x[_0x4b1c("0x5a3")]&&x[_0x4b1c("0x1")]("minX")&&(b[_0x4b1c("0x5a3")]=x[_0x4b1c("0x5a3")]),null!=x[_0x4b1c("0x5a6")]&&x.hasOwnProperty(_0x4b1c("0x5a6"))&&(b[_0x4b1c("0x5a6")]=x[_0x4b1c("0x5a6")]),null!=x[_0x4b1c("0x5a7")]&&x.hasOwnProperty(_0x4b1c("0x5a7"))&&(b[_0x4b1c("0x5a7")]=x.maxX),null!=x[_0x4b1c("0x5ba")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ba"))&&(b.maxY=x[_0x4b1c("0x5ba")]),null!=x[_0x4b1c("0xcbd")]&&x.hasOwnProperty("ScaleLevel")&&(b[_0x4b1c("0xcbd")]=x[_0x4b1c("0xcbd")]),null!=x[_0x4b1c("0x5ab")]&&x.hasOwnProperty("Remark")&&(b[_0x4b1c("0x5ab")]=x[_0x4b1c("0x5ab")]),null!=x.FloorBarName&&x[_0x4b1c("0x1")](_0x4b1c("0xeca"))&&(b.FloorBarName=x[_0x4b1c("0xeca")]),null!=x[_0x4b1c("0xec6")]&&x[_0x4b1c("0x1")](_0x4b1c("0xec6"))&&(b.FloorHigh=x[_0x4b1c("0xec6")]),x[_0x4b1c("0xb3b")]&&x[_0x4b1c("0xb3b")].length){b.floors=[];for(var _=0;_<x[_0x4b1c("0xb3b")][_0x4b1c("0x0")];++_)b[_0x4b1c("0xb3b")][_]=o[_0x4b1c("0x32")].FloorSet[_0x4b1c("0x5ec")](x.floors[_],c)}if(x[_0x4b1c("0xd94")]&&x.navs[_0x4b1c("0x0")])for(b[_0x4b1c("0xd94")]=[],_=0;_<x[_0x4b1c("0xd94")][_0x4b1c("0x0")];++_)b[_0x4b1c("0xd94")][_]=o[_0x4b1c("0x32")][_0x4b1c("0xecc")].toObject(x[_0x4b1c("0xd94")][_],c);if(x[_0x4b1c("0xecd")]&&x[_0x4b1c("0xecd")][_0x4b1c("0x0")])for(b[_0x4b1c("0xecd")]=[],_=0;_<x[_0x4b1c("0xecd")].length;++_)b[_0x4b1c("0xecd")][_]=o[_0x4b1c("0x32")].PicSet[_0x4b1c("0x5ec")](x.panos[_],c);return null!=x[_0x4b1c("0x5ac")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ac"))&&(b.styleid=x[_0x4b1c("0x5ac")]),null!=x.token&&x.hasOwnProperty("token")&&(b[_0x4b1c("0x89")]=x.token),null!=x.bid&&x.hasOwnProperty("bid")&&(b[_0x4b1c("0x12b")]=x[_0x4b1c("0x12b")]),null!=x[_0x4b1c("0x5ae")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5ae"))&&(b[_0x4b1c("0x5ae")]=x[_0x4b1c("0x5ae")]),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&(b[_0x4b1c("0x3d6")]=x[_0x4b1c("0x3d6")]),null!=x.o1&&x[_0x4b1c("0x1")]("o1")&&(b.o1=x.o1),null!=x[_0x4b1c("0x5b0")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b0"))&&(b[_0x4b1c("0x5b0")]=x.other2),null!=x.o2&&x[_0x4b1c("0x1")]("o2")&&(b.o2=x.o2),null!=x.ul&&x[_0x4b1c("0x1")]("ul")&&(b.ul=x.ul),null!=x.t1&&x.hasOwnProperty("t1")&&(b.t1=x.t1),b},x.prototype[_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")].toJSON=function(){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i.FloorSet=function(){function x(x){if(this[_0x4b1c("0xe26")]={},this[_0x4b1c("0xe9f")]={},this[_0x4b1c("0x3cc")]={},this[_0x4b1c("0xea1")]={},x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c.length;++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x.prototype[_0x4b1c("0x3d8")]=0,x.prototype[_0x4b1c("0xc0b")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xee7")]=0,x.prototype[_0x4b1c("0x1f7")]="",x.prototype[_0x4b1c("0xb80")]="",x.prototype.AS=0,x[_0x4b1c("0xf")][_0x4b1c("0x305")]=0,x.prototype[_0x4b1c("0xb3c")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xd6b")]="",x[_0x4b1c("0xf")][_0x4b1c("0xee8")]="",x[_0x4b1c("0xf")][_0x4b1c("0xe26")]=s[_0x4b1c("0xe28")],x[_0x4b1c("0xf")][_0x4b1c("0xe9f")]=s[_0x4b1c("0xe28")],x[_0x4b1c("0xf")].Labels=s[_0x4b1c("0xe28")],x[_0x4b1c("0xf")][_0x4b1c("0xea1")]=s[_0x4b1c("0xe28")],x.prototype.image="",x[_0x4b1c("0xf")].imagesize="",x[_0x4b1c("0xf")].other1="",x[_0x4b1c("0xf")][_0x4b1c("0x5b0")]="",x.create=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){if(c||(c=r.create()),null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty("_id")&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d8")]),null!=x.floornum&&x[_0x4b1c("0x1")](_0x4b1c("0xc0b"))&&c[_0x4b1c("0x5b5")](16).int32(x.floornum),null!=x.floornumtext&&x[_0x4b1c("0x1")](_0x4b1c("0xee7"))&&c[_0x4b1c("0x5b5")](24)[_0x4b1c("0x5b6")](x[_0x4b1c("0xee7")]),null!=x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x1f7"))&&c.uint32(34)[_0x4b1c("0xd")](x[_0x4b1c("0x1f7")]),null!=x[_0x4b1c("0xb80")]&&x[_0x4b1c("0x1")]("NameEn")&&c[_0x4b1c("0x5b5")](42)[_0x4b1c("0xd")](x[_0x4b1c("0xb80")]),null!=x.AS&&x[_0x4b1c("0x1")]("AS")&&c[_0x4b1c("0x5b5")](49)[_0x4b1c("0x5b8")](x.AS),null!=x.Height&&x.hasOwnProperty("Height")&&c[_0x4b1c("0x5b5")](56)[_0x4b1c("0x5b6")](x[_0x4b1c("0x305")]),null!=x.Elevation&&x[_0x4b1c("0x1")](_0x4b1c("0xb3c"))&&c.uint32(64).int32(x.Elevation),null!=x.Outline&&x[_0x4b1c("0x1")](_0x4b1c("0xd6b"))&&c[_0x4b1c("0x5b5")](74)[_0x4b1c("0xd")](x[_0x4b1c("0xd6b")]),null!=x[_0x4b1c("0xee8")]&&x[_0x4b1c("0x1")]("Alias")&&c[_0x4b1c("0x5b5")](82).string(x[_0x4b1c("0xee8")]),null!=x.Rooms&&x[_0x4b1c("0x1")](_0x4b1c("0xe26")))for(var b=(0,e.default)(x[_0x4b1c("0xe26")]),_=0;_<b[_0x4b1c("0x0")];++_)c[_0x4b1c("0x5b5")](90)[_0x4b1c("0xe29")]()[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](b[_]),o.ESMap[_0x4b1c("0xe2a")][_0x4b1c("0x5b4")](x[_0x4b1c("0xe26")][b[_]],c[_0x4b1c("0x5b5")](18)[_0x4b1c("0xe29")]()).ldelim()[_0x4b1c("0xe2b")]();if(null!=x[_0x4b1c("0xe9f")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe9f")))for(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xe9f")]),_=0;_<b.length;++_)c.uint32(98)[_0x4b1c("0xe29")]()[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](b[_]),o[_0x4b1c("0x32")][_0x4b1c("0xe2c")].encode(x[_0x4b1c("0xe9f")][b[_]],c.uint32(18)[_0x4b1c("0xe29")]())[_0x4b1c("0xe2b")]()[_0x4b1c("0xe2b")]();if(null!=x[_0x4b1c("0x3cc")]&&x[_0x4b1c("0x1")]("Labels"))for(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0x3cc")]),_=0;_<b[_0x4b1c("0x0")];++_)c[_0x4b1c("0x5b5")](106)[_0x4b1c("0xe29")]().uint32(8)[_0x4b1c("0x5b6")](b[_]),o[_0x4b1c("0x32")][_0x4b1c("0xe2c")][_0x4b1c("0x5b4")](x[_0x4b1c("0x3cc")][b[_]],c[_0x4b1c("0x5b5")](18).fork())[_0x4b1c("0xe2b")]()[_0x4b1c("0xe2b")]();if(null!=x.Lifts&&x[_0x4b1c("0x1")](_0x4b1c("0xea1")))for(b=(0,e[_0x4b1c("0xc")])(x.Lifts),_=0;_<b[_0x4b1c("0x0")];++_)c[_0x4b1c("0x5b5")](114).fork().uint32(8)[_0x4b1c("0x5b6")](b[_]),o[_0x4b1c("0x32")][_0x4b1c("0xee9")][_0x4b1c("0x5b4")](x[_0x4b1c("0xea1")][b[_]],c[_0x4b1c("0x5b5")](18).fork())[_0x4b1c("0xe2b")]()[_0x4b1c("0xe2b")]();return null!=x[_0x4b1c("0x316")]&&x.hasOwnProperty(_0x4b1c("0x316"))&&c[_0x4b1c("0x5b5")](122)[_0x4b1c("0xd")](x[_0x4b1c("0x316")]),null!=x[_0x4b1c("0xeea")]&&x[_0x4b1c("0x1")]("imagesize")&&c[_0x4b1c("0x5b5")](130).string(x.imagesize),null!=x[_0x4b1c("0x3d6")]&&x.hasOwnProperty(_0x4b1c("0x3d6"))&&c[_0x4b1c("0x5b5")](138)[_0x4b1c("0xd")](x.other1),null!=x[_0x4b1c("0x5b0")]&&x[_0x4b1c("0x1")]("other2")&&c[_0x4b1c("0x5b5")](146)[_0x4b1c("0xd")](x[_0x4b1c("0x5b0")]),c},x[_0x4b1c("0x5be")]=function(x,c){return this.encode(x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b,_=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,e=new(o.ESMap[_0x4b1c("0xecb")]);x[_0x4b1c("0x434")]<_;){var t=x.uint32();switch(t>>>3){case 1:e[_0x4b1c("0x3d8")]=x.int32();break;case 2:e[_0x4b1c("0xc0b")]=x.int32();break;case 3:e.floornumtext=x[_0x4b1c("0x5b6")]();break;case 4:e[_0x4b1c("0x1f7")]=x[_0x4b1c("0xd")]();break;case 5:e[_0x4b1c("0xb80")]=x[_0x4b1c("0xd")]();break;case 6:e.AS=x[_0x4b1c("0x5b8")]();break;case 7:e[_0x4b1c("0x305")]=x[_0x4b1c("0x5b6")]();break;case 8:e.Elevation=x[_0x4b1c("0x5b6")]();break;case 9:e.Outline=x.string();break;case 10:e[_0x4b1c("0xee8")]=x[_0x4b1c("0xd")]();break;case 11:x[_0x4b1c("0xe2d")]()[_0x4b1c("0x434")]++,e[_0x4b1c("0xe26")]===s[_0x4b1c("0xe28")]&&(e[_0x4b1c("0xe26")]={}),b=x.int32(),x[_0x4b1c("0x434")]++,e[_0x4b1c("0xe26")][b]=o[_0x4b1c("0x32")].RoomSet[_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]());break;case 12:x[_0x4b1c("0xe2d")]().pos++,e.Facility===s.emptyObject&&(e[_0x4b1c("0xe9f")]={}),b=x[_0x4b1c("0x5b6")](),x.pos++,e[_0x4b1c("0xe9f")][b]=o[_0x4b1c("0x32")][_0x4b1c("0xe2c")].decode(x,x[_0x4b1c("0x5b5")]());break;case 13:x[_0x4b1c("0xe2d")]()[_0x4b1c("0x434")]++,e[_0x4b1c("0x3cc")]===s[_0x4b1c("0xe28")]&&(e[_0x4b1c("0x3cc")]={}),b=x[_0x4b1c("0x5b6")](),x[_0x4b1c("0x434")]++,e[_0x4b1c("0x3cc")][b]=o[_0x4b1c("0x32")][_0x4b1c("0xe2c")].decode(x,x[_0x4b1c("0x5b5")]());break;case 14:x[_0x4b1c("0xe2d")]()[_0x4b1c("0x434")]++,e.Lifts===s.emptyObject&&(e[_0x4b1c("0xea1")]={}),b=x[_0x4b1c("0x5b6")](),x[_0x4b1c("0x434")]++,e[_0x4b1c("0xea1")][b]=o[_0x4b1c("0x32")].LiftSet[_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]());break;case 15:e.image=x[_0x4b1c("0xd")]();break;case 16:e[_0x4b1c("0xeea")]=x[_0x4b1c("0xd")]();break;case 17:e[_0x4b1c("0x3d6")]=x[_0x4b1c("0xd")]();break;case 18:e.other2=x.string();break;default:x[_0x4b1c("0x5c0")](7&t)}}return e},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x.uint32())},x[_0x4b1c("0x5c3")]=function(x){if("object"!==(void 0===x?"undefined":(0,_[_0x4b1c("0xc")])(x))||null===x)return"object expected";if(null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d8")]))return _0x4b1c("0x5c8");if(null!=x.floornum&&x[_0x4b1c("0x1")](_0x4b1c("0xc0b"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xc0b")]))return _0x4b1c("0xeeb");if(null!=x[_0x4b1c("0xee7")]&&x.hasOwnProperty("floornumtext")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xee7")]))return _0x4b1c("0xeec");if(null!=x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1")]("name")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x1f7")]))return _0x4b1c("0x5ca");if(null!=x[_0x4b1c("0xb80")]&&x[_0x4b1c("0x1")](_0x4b1c("0xb80"))&&!s[_0x4b1c("0x367")](x.NameEn))return"NameEn: string expected";if(null!=x.AS&&x[_0x4b1c("0x1")]("AS")&&"number"!=typeof x.AS)return _0x4b1c("0x5cd");if(null!=x[_0x4b1c("0x305")]&&x[_0x4b1c("0x1")](_0x4b1c("0x305"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x305")]))return _0x4b1c("0xeed");if(null!=x.Elevation&&x[_0x4b1c("0x1")](_0x4b1c("0xb3c"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xb3c")]))return"Elevation: integer expected";if(null!=x[_0x4b1c("0xd6b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd6b"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xd6b")]))return _0x4b1c("0xe54");if(null!=x.Alias&&x[_0x4b1c("0x1")]("Alias")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xee8")]))return _0x4b1c("0xeee");if(null!=x[_0x4b1c("0xe26")]&&x[_0x4b1c("0x1")]("Rooms")){if(!s[_0x4b1c("0x17")](x[_0x4b1c("0xe26")]))return _0x4b1c("0xe35");for(var c=(0,e[_0x4b1c("0xc")])(x.Rooms),b=0;b<c.length;++b){if(!s.key32Re[_0x4b1c("0x2a")](c[b]))return _0x4b1c("0xe37");if(t=o[_0x4b1c("0x32")][_0x4b1c("0xe2a")][_0x4b1c("0x5c3")](x.Rooms[c[b]]))return _0x4b1c("0xeef")+t}}if(null!=x.Facility&&x[_0x4b1c("0x1")](_0x4b1c("0xe9f"))){if(!s[_0x4b1c("0x17")](x.Facility))return _0x4b1c("0xef0");for(c=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xe9f")]),b=0;b<c[_0x4b1c("0x0")];++b){if(!s.key32Re[_0x4b1c("0x2a")](c[b]))return"Facility: integer key{k:int32} expected";if(t=o[_0x4b1c("0x32")][_0x4b1c("0xe2c")].verify(x[_0x4b1c("0xe9f")][c[b]]))return"Facility."+t}}if(null!=x[_0x4b1c("0x3cc")]&&x[_0x4b1c("0x1")]("Labels")){if(!s[_0x4b1c("0x17")](x.Labels))return"Labels: object expected";for(c=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0x3cc")]),b=0;b<c[_0x4b1c("0x0")];++b){if(!s[_0x4b1c("0xe36")][_0x4b1c("0x2a")](c[b]))return _0x4b1c("0xef1");if(t=o[_0x4b1c("0x32")][_0x4b1c("0xe2c")][_0x4b1c("0x5c3")](x[_0x4b1c("0x3cc")][c[b]]))return _0x4b1c("0xef2")+t}}if(null!=x[_0x4b1c("0xea1")]&&x[_0x4b1c("0x1")]("Lifts")){if(!s[_0x4b1c("0x17")](x[_0x4b1c("0xea1")]))return"Lifts: object expected";for(c=(0,e.default)(x[_0x4b1c("0xea1")]),b=0;b<c.length;++b){if(!s.key32Re.test(c[b]))return"Lifts: integer key{k:int32} expected";var t;if(t=o[_0x4b1c("0x32")][_0x4b1c("0xee9")][_0x4b1c("0x5c3")](x[_0x4b1c("0xea1")][c[b]]))return _0x4b1c("0xef3")+t}}return null!=x[_0x4b1c("0x316")]&&x[_0x4b1c("0x1")](_0x4b1c("0x316"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x316")])?_0x4b1c("0xef4"):null!=x[_0x4b1c("0xeea")]&&x.hasOwnProperty("imagesize")&&!s[_0x4b1c("0x367")](x.imagesize)?_0x4b1c("0xef5"):null!=x.other1&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&!s.isString(x[_0x4b1c("0x3d6")])?_0x4b1c("0x5e2"):null!=x[_0x4b1c("0x5b0")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b0"))&&!s.isString(x[_0x4b1c("0x5b0")])?_0x4b1c("0xe72"):null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o[_0x4b1c("0x32")][_0x4b1c("0xecb")])return x;var c=new(o[_0x4b1c("0x32")].FloorSet);if(null!=x[_0x4b1c("0x3d8")]&&(c._id=0|x._id),null!=x[_0x4b1c("0xc0b")]&&(c[_0x4b1c("0xc0b")]=0|x[_0x4b1c("0xc0b")]),null!=x.floornumtext&&(c[_0x4b1c("0xee7")]=0|x[_0x4b1c("0xee7")]),null!=x.name&&(c[_0x4b1c("0x1f7")]=String(x.name)),null!=x[_0x4b1c("0xb80")]&&(c[_0x4b1c("0xb80")]=String(x[_0x4b1c("0xb80")])),null!=x.AS&&(c.AS=Number(x.AS)),null!=x.Height&&(c.Height=0|x[_0x4b1c("0x305")]),null!=x[_0x4b1c("0xb3c")]&&(c[_0x4b1c("0xb3c")]=0|x[_0x4b1c("0xb3c")]),null!=x[_0x4b1c("0xd6b")]&&(c[_0x4b1c("0xd6b")]=String(x.Outline)),null!=x[_0x4b1c("0xee8")]&&(c[_0x4b1c("0xee8")]=String(x[_0x4b1c("0xee8")])),x[_0x4b1c("0xe26")]){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xe26")])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xef6"));c[_0x4b1c("0xe26")]={};for(var b=(0,e.default)(x[_0x4b1c("0xe26")]),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_.default)(x.Rooms[b[t]])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xef6"));c[_0x4b1c("0xe26")][b[t]]=o[_0x4b1c("0x32")][_0x4b1c("0xe2a")][_0x4b1c("0xe3a")](x[_0x4b1c("0xe26")][b[t]])}}if(x[_0x4b1c("0xe9f")]){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xe9f")])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xef7"));for(c[_0x4b1c("0xe9f")]={},b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xe9f")]),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xe9f")][b[t]])!==_0x4b1c("0x1d"))throw TypeError(".ESMap.FloorSet.Facility: object expected");c[_0x4b1c("0xe9f")][b[t]]=o[_0x4b1c("0x32")][_0x4b1c("0xe2c")].fromObject(x[_0x4b1c("0xe9f")][b[t]])}}if(x[_0x4b1c("0x3cc")]){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x3cc")])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xef8"));for(c.Labels={},b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0x3cc")]),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x3cc")][b[t]])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xef8"));c[_0x4b1c("0x3cc")][b[t]]=o[_0x4b1c("0x32")][_0x4b1c("0xe2c")].fromObject(x.Labels[b[t]])}}if(x[_0x4b1c("0xea1")]){if((0,_.default)(x.Lifts)!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xef9"));for(c[_0x4b1c("0xea1")]={},b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xea1")]),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_.default)(x[_0x4b1c("0xea1")][b[t]])!==_0x4b1c("0x1d"))throw TypeError(".ESMap.FloorSet.Lifts: object expected");c[_0x4b1c("0xea1")][b[t]]=o.ESMap.LiftSet[_0x4b1c("0xe3a")](x[_0x4b1c("0xea1")][b[t]])}}return null!=x[_0x4b1c("0x316")]&&(c[_0x4b1c("0x316")]=String(x[_0x4b1c("0x316")])),null!=x[_0x4b1c("0xeea")]&&(c[_0x4b1c("0xeea")]=String(x[_0x4b1c("0xeea")])),null!=x.other1&&(c[_0x4b1c("0x3d6")]=String(x[_0x4b1c("0x3d6")])),null!=x[_0x4b1c("0x5b0")]&&(c[_0x4b1c("0x5b0")]=String(x.other2)),c},x[_0x4b1c("0x2bf")]=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b,_={};if((c[_0x4b1c("0x74a")]||c[_0x4b1c("0x5ed")])&&(_.Rooms={},_[_0x4b1c("0xe9f")]={},_[_0x4b1c("0x3cc")]={},_.Lifts={}),c[_0x4b1c("0x5ed")]&&(_[_0x4b1c("0x3d8")]=0,_[_0x4b1c("0xc0b")]=0,_[_0x4b1c("0xee7")]=0,_[_0x4b1c("0x1f7")]="",_[_0x4b1c("0xb80")]="",_.AS=0,_[_0x4b1c("0x305")]=0,_[_0x4b1c("0xb3c")]=0,_[_0x4b1c("0xd6b")]="",_[_0x4b1c("0xee8")]="",_.image="",_[_0x4b1c("0xeea")]="",_.other1="",_[_0x4b1c("0x5b0")]=""),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")]("_id")&&(_[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xc0b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xc0b"))&&(_[_0x4b1c("0xc0b")]=x[_0x4b1c("0xc0b")]),null!=x[_0x4b1c("0xee7")]&&x[_0x4b1c("0x1")](_0x4b1c("0xee7"))&&(_[_0x4b1c("0xee7")]=x[_0x4b1c("0xee7")]),null!=x.name&&x[_0x4b1c("0x1")](_0x4b1c("0x1f7"))&&(_[_0x4b1c("0x1f7")]=x[_0x4b1c("0x1f7")]),null!=x[_0x4b1c("0xb80")]&&x[_0x4b1c("0x1")](_0x4b1c("0xb80"))&&(_[_0x4b1c("0xb80")]=x[_0x4b1c("0xb80")]),null!=x.AS&&x[_0x4b1c("0x1")]("AS")&&(_.AS=x.AS),null!=x.Height&&x[_0x4b1c("0x1")](_0x4b1c("0x305"))&&(_[_0x4b1c("0x305")]=x[_0x4b1c("0x305")]),null!=x[_0x4b1c("0xb3c")]&&x[_0x4b1c("0x1")]("Elevation")&&(_[_0x4b1c("0xb3c")]=x[_0x4b1c("0xb3c")]),null!=x[_0x4b1c("0xd6b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd6b"))&&(_[_0x4b1c("0xd6b")]=x[_0x4b1c("0xd6b")]),null!=x[_0x4b1c("0xee8")]&&x[_0x4b1c("0x1")](_0x4b1c("0xee8"))&&(_[_0x4b1c("0xee8")]=x.Alias),x[_0x4b1c("0xe26")]&&(b=(0,e[_0x4b1c("0xc")])(x.Rooms))[_0x4b1c("0x0")]){_[_0x4b1c("0xe26")]={};for(var t=0;t<b[_0x4b1c("0x0")];++t)_.Rooms[b[t]]=o[_0x4b1c("0x32")][_0x4b1c("0xe2a")][_0x4b1c("0x5ec")](x[_0x4b1c("0xe26")][b[t]],c)}if(x.Facility&&(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xe9f")]))[_0x4b1c("0x0")])for(_[_0x4b1c("0xe9f")]={},t=0;t<b.length;++t)_[_0x4b1c("0xe9f")][b[t]]=o[_0x4b1c("0x32")].POISet[_0x4b1c("0x5ec")](x[_0x4b1c("0xe9f")][b[t]],c);if(x[_0x4b1c("0x3cc")]&&(b=(0,e.default)(x[_0x4b1c("0x3cc")]))[_0x4b1c("0x0")])for(_[_0x4b1c("0x3cc")]={},t=0;t<b[_0x4b1c("0x0")];++t)_[_0x4b1c("0x3cc")][b[t]]=o[_0x4b1c("0x32")][_0x4b1c("0xe2c")][_0x4b1c("0x5ec")](x.Labels[b[t]],c);if(x[_0x4b1c("0xea1")]&&(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xea1")]))[_0x4b1c("0x0")])for(_.Lifts={},t=0;t<b[_0x4b1c("0x0")];++t)_[_0x4b1c("0xea1")][b[t]]=o[_0x4b1c("0x32")][_0x4b1c("0xee9")].toObject(x[_0x4b1c("0xea1")][b[t]],c);return null!=x[_0x4b1c("0x316")]&&x[_0x4b1c("0x1")]("image")&&(_[_0x4b1c("0x316")]=x.image),null!=x[_0x4b1c("0xeea")]&&x[_0x4b1c("0x1")]("imagesize")&&(_[_0x4b1c("0xeea")]=x[_0x4b1c("0xeea")]),null!=x[_0x4b1c("0x3d6")]&&x.hasOwnProperty("other1")&&(_.other1=x[_0x4b1c("0x3d6")]),null!=x[_0x4b1c("0x5b0")]&&x[_0x4b1c("0x1")]("other2")&&(_[_0x4b1c("0x5b0")]=x.other2),_},x[_0x4b1c("0xf")].toObject=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")][_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i[_0x4b1c("0xe2a")]=function(){function x(x){if(x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")]._id=0,x[_0x4b1c("0xf")].name="",x[_0x4b1c("0xf")][_0x4b1c("0xb80")]="",x[_0x4b1c("0xf")].Brief="",x[_0x4b1c("0xf")].Tid=0,x[_0x4b1c("0xf")].RL="",x[_0x4b1c("0xf")][_0x4b1c("0xd6f")]="",x[_0x4b1c("0xf")].BC=0,x.prototype.RC="",x.prototype.RH=0,x[_0x4b1c("0xf")].RM="",x[_0x4b1c("0xf")][_0x4b1c("0xcab")]="",x[_0x4b1c("0xf")][_0x4b1c("0xcac")]="",x.prototype.RMO="",x[_0x4b1c("0xf")].RS=0,x[_0x4b1c("0xf")].SL=0,x.prototype[_0x4b1c("0xd6c")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xd6d")]=0,x[_0x4b1c("0xf")].AS=0,x.prototype[_0x4b1c("0xd6b")]="",x[_0x4b1c("0xf")][_0x4b1c("0xefa")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xe93")]=0,x.prototype.FS=0,x.prototype.FC="",x.prototype[_0x4b1c("0x3d6")]="",x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){return c||(c=r[_0x4b1c("0x5b3")]()),null!=x._id&&x.hasOwnProperty(_0x4b1c("0x3d8"))&&c.uint32(8)[_0x4b1c("0x5b6")](x._id),null!=x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1")]("name")&&c.uint32(18)[_0x4b1c("0xd")](x[_0x4b1c("0x1f7")]),null!=x[_0x4b1c("0xb80")]&&x[_0x4b1c("0x1")](_0x4b1c("0xb80"))&&c[_0x4b1c("0x5b5")](26)[_0x4b1c("0xd")](x[_0x4b1c("0xb80")]),null!=x[_0x4b1c("0xd71")]&&x.hasOwnProperty(_0x4b1c("0xd71"))&&c[_0x4b1c("0x5b5")](34)[_0x4b1c("0xd")](x[_0x4b1c("0xd71")]),null!=x[_0x4b1c("0x3d9")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d9"))&&c[_0x4b1c("0x5b5")](40)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d9")]),null!=x.RL&&x.hasOwnProperty("RL")&&c.uint32(50)[_0x4b1c("0xd")](x.RL),null!=x[_0x4b1c("0xd6f")]&&x.hasOwnProperty(_0x4b1c("0xd6f"))&&c[_0x4b1c("0x5b5")](58)[_0x4b1c("0xd")](x[_0x4b1c("0xd6f")]),null!=x.BC&&x.hasOwnProperty("BC")&&c[_0x4b1c("0x5b5")](64)[_0x4b1c("0x5b6")](x.BC),null!=x.RC&&x[_0x4b1c("0x1")]("RC")&&c[_0x4b1c("0x5b5")](74).string(x.RC),null!=x.RH&&x[_0x4b1c("0x1")]("RH")&&c.uint32(81)[_0x4b1c("0x5b8")](x.RH),null!=x.RM&&x[_0x4b1c("0x1")]("RM")&&c.uint32(90)[_0x4b1c("0xd")](x.RM),null!=x[_0x4b1c("0xcab")]&&x.hasOwnProperty(_0x4b1c("0xcab"))&&c[_0x4b1c("0x5b5")](98)[_0x4b1c("0xd")](x[_0x4b1c("0xcab")]),null!=x.RMR&&x[_0x4b1c("0x1")](_0x4b1c("0xcac"))&&c[_0x4b1c("0x5b5")](106).string(x.RMR),null!=x[_0x4b1c("0xcad")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcad"))&&c[_0x4b1c("0x5b5")](114)[_0x4b1c("0xd")](x[_0x4b1c("0xcad")]),null!=x.RS&&x[_0x4b1c("0x1")]("RS")&&c[_0x4b1c("0x5b5")](120).int32(x.RS),null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&c[_0x4b1c("0x5b5")](128).int32(x.SL),null!=x[_0x4b1c("0xd6c")]&&x.hasOwnProperty(_0x4b1c("0xd6c"))&&c[_0x4b1c("0x5b5")](137)[_0x4b1c("0x5b8")](x.CenX),null!=x[_0x4b1c("0xd6d")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd6d"))&&c[_0x4b1c("0x5b5")](145).double(x[_0x4b1c("0xd6d")]),null!=x.AS&&x.hasOwnProperty("AS")&&c[_0x4b1c("0x5b5")](153).double(x.AS),null!=x.Outline&&x[_0x4b1c("0x1")](_0x4b1c("0xd6b"))&&c[_0x4b1c("0x5b5")](162)[_0x4b1c("0xd")](x[_0x4b1c("0xd6b")]),null!=x[_0x4b1c("0xefa")]&&x.hasOwnProperty(_0x4b1c("0xefa"))&&c[_0x4b1c("0x5b5")](168)[_0x4b1c("0x5b6")](x[_0x4b1c("0xefa")]),null!=x.ShopID&&x[_0x4b1c("0x1")](_0x4b1c("0xe93"))&&c[_0x4b1c("0x5b5")](176)[_0x4b1c("0x5b6")](x[_0x4b1c("0xe93")]),null!=x.FS&&x[_0x4b1c("0x1")]("FS")&&c[_0x4b1c("0x5b5")](184)[_0x4b1c("0x5b6")](x.FS),null!=x.FC&&x[_0x4b1c("0x1")]("FC")&&c[_0x4b1c("0x5b5")](194)[_0x4b1c("0xd")](x.FC),null!=x.other1&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&c[_0x4b1c("0x5b5")](202)[_0x4b1c("0xd")](x[_0x4b1c("0x3d6")]),c},x[_0x4b1c("0x5be")]=function(x,c){return this[_0x4b1c("0x5b4")](x,c).ldelim()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,_=new(o[_0x4b1c("0x32")][_0x4b1c("0xe2a")]);x[_0x4b1c("0x434")]<b;){var e=x.uint32();switch(e>>>3){case 1:_._id=x[_0x4b1c("0x5b6")]();break;case 2:_[_0x4b1c("0x1f7")]=x[_0x4b1c("0xd")]();break;case 3:_[_0x4b1c("0xb80")]=x[_0x4b1c("0xd")]();break;case 4:_[_0x4b1c("0xd71")]=x.string();break;case 5:_[_0x4b1c("0x3d9")]=x[_0x4b1c("0x5b6")]();break;case 6:_.RL=x[_0x4b1c("0xd")]();break;case 7:_[_0x4b1c("0xd6f")]=x[_0x4b1c("0xd")]();break;case 8:_.BC=x.int32();break;case 9:_.RC=x[_0x4b1c("0xd")]();break;case 10:_.RH=x[_0x4b1c("0x5b8")]();break;case 11:_.RM=x[_0x4b1c("0xd")]();break;case 12:_.RMS=x[_0x4b1c("0xd")]();break;case 13:_[_0x4b1c("0xcac")]=x[_0x4b1c("0xd")]();break;case 14:_[_0x4b1c("0xcad")]=x[_0x4b1c("0xd")]();break;case 15:_.RS=x.int32();break;case 16:_.SL=x[_0x4b1c("0x5b6")]();break;case 17:_[_0x4b1c("0xd6c")]=x[_0x4b1c("0x5b8")]();break;case 18:_[_0x4b1c("0xd6d")]=x.double();break;case 19:_.AS=x[_0x4b1c("0x5b8")]();break;case 20:_[_0x4b1c("0xd6b")]=x[_0x4b1c("0xd")]();break;case 21:_[_0x4b1c("0xefa")]=x[_0x4b1c("0x5b6")]();break;case 22:_[_0x4b1c("0xe93")]=x[_0x4b1c("0x5b6")]();break;case 23:_.FS=x[_0x4b1c("0x5b6")]();break;case 24:_.FC=x[_0x4b1c("0xd")]();break;case 25:_.other1=x[_0x4b1c("0xd")]();break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x.decodeDelimited=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]())},x[_0x4b1c("0x5c3")]=function(x){return"object"!==(typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))||null===x?"object expected":null!=x._id&&x[_0x4b1c("0x1")]("_id")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d8")])?_0x4b1c("0x5c8"):null!=x[_0x4b1c("0x1f7")]&&x.hasOwnProperty("name")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x1f7")])?_0x4b1c("0x5ca"):null!=x[_0x4b1c("0xb80")]&&x[_0x4b1c("0x1")]("NameEn")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xb80")])?_0x4b1c("0xefb"):null!=x[_0x4b1c("0xd71")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd71"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xd71")])?_0x4b1c("0xefc"):null!=x.Tid&&x[_0x4b1c("0x1")](_0x4b1c("0x3d9"))&&!s[_0x4b1c("0x5c5")](x.Tid)?_0x4b1c("0xe61"):null!=x.RL&&x.hasOwnProperty("RL")&&!s[_0x4b1c("0x367")](x.RL)?_0x4b1c("0xe4b"):null!=x[_0x4b1c("0xd6f")]&&x[_0x4b1c("0x1")]("RLSize")&&!s.isString(x.RLSize)?"RLSize: string expected":null!=x.BC&&x[_0x4b1c("0x1")]("BC")&&!s[_0x4b1c("0x5c5")](x.BC)?"BC: integer expected":null!=x.RC&&x[_0x4b1c("0x1")]("RC")&&!s[_0x4b1c("0x367")](x.RC)?_0x4b1c("0xefd"):null!=x.RH&&x.hasOwnProperty("RH")&&typeof x.RH!==_0x4b1c("0x18f")?_0x4b1c("0xefe"):null!=x.RM&&x.hasOwnProperty("RM")&&!s[_0x4b1c("0x367")](x.RM)?"RM: string expected":null!=x[_0x4b1c("0xcab")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcab"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xcab")])?_0x4b1c("0xe4e"):null!=x[_0x4b1c("0xcac")]&&x[_0x4b1c("0x1")]("RMR")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xcac")])?_0x4b1c("0xe4f"):null!=x[_0x4b1c("0xcad")]&&x[_0x4b1c("0x1")]("RMO")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xcad")])?_0x4b1c("0xe50"):null!=x.RS&&x.hasOwnProperty("RS")&&!s[_0x4b1c("0x5c5")](x.RS)?"RS: integer expected":null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&!s[_0x4b1c("0x5c5")](x.SL)?"SL: integer expected":null!=x.CenX&&x[_0x4b1c("0x1")](_0x4b1c("0xd6c"))&&typeof x[_0x4b1c("0xd6c")]!==_0x4b1c("0x18f")?"CenX: number expected":null!=x[_0x4b1c("0xd6d")]&&x[_0x4b1c("0x1")]("CenY")&&typeof x.CenY!==_0x4b1c("0x18f")?"CenY: number expected":null!=x.AS&&x[_0x4b1c("0x1")]("AS")&&"number"!=typeof x.AS?"AS: number expected":null!=x[_0x4b1c("0xd6b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd6b"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xd6b")])?_0x4b1c("0xe54"):null!=x.PointID&&x[_0x4b1c("0x1")]("PointID")&&!s[_0x4b1c("0x5c5")](x.PointID)?"PointID: integer expected":null!=x[_0x4b1c("0xe93")]&&x[_0x4b1c("0x1")]("ShopID")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xe93")])?_0x4b1c("0xeff"):null!=x.FS&&x[_0x4b1c("0x1")]("FS")&&!s[_0x4b1c("0x5c5")](x.FS)?"FS: integer expected":null!=x.FC&&x[_0x4b1c("0x1")]("FC")&&!s[_0x4b1c("0x367")](x.FC)?_0x4b1c("0xf00"):null!=x[_0x4b1c("0x3d6")]&&x.hasOwnProperty("other1")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x3d6")])?_0x4b1c("0x5e2"):null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o[_0x4b1c("0x32")][_0x4b1c("0xe2a")])return x;var c=new(o[_0x4b1c("0x32")][_0x4b1c("0xe2a")]);return null!=x[_0x4b1c("0x3d8")]&&(c[_0x4b1c("0x3d8")]=0|x._id),null!=x[_0x4b1c("0x1f7")]&&(c[_0x4b1c("0x1f7")]=String(x[_0x4b1c("0x1f7")])),null!=x.NameEn&&(c[_0x4b1c("0xb80")]=String(x.NameEn)),null!=x[_0x4b1c("0xd71")]&&(c[_0x4b1c("0xd71")]=String(x[_0x4b1c("0xd71")])),null!=x[_0x4b1c("0x3d9")]&&(c.Tid=0|x[_0x4b1c("0x3d9")]),null!=x.RL&&(c.RL=String(x.RL)),null!=x[_0x4b1c("0xd6f")]&&(c[_0x4b1c("0xd6f")]=String(x[_0x4b1c("0xd6f")])),null!=x.BC&&(c.BC=0|x.BC),null!=x.RC&&(c.RC=String(x.RC)),null!=x.RH&&(c.RH=Number(x.RH)),null!=x.RM&&(c.RM=String(x.RM)),null!=x[_0x4b1c("0xcab")]&&(c[_0x4b1c("0xcab")]=String(x.RMS)),null!=x[_0x4b1c("0xcac")]&&(c[_0x4b1c("0xcac")]=String(x[_0x4b1c("0xcac")])),null!=x.RMO&&(c.RMO=String(x[_0x4b1c("0xcad")])),null!=x.RS&&(c.RS=0|x.RS),null!=x.SL&&(c.SL=0|x.SL),null!=x[_0x4b1c("0xd6c")]&&(c.CenX=Number(x[_0x4b1c("0xd6c")])),null!=x[_0x4b1c("0xd6d")]&&(c[_0x4b1c("0xd6d")]=Number(x[_0x4b1c("0xd6d")])),null!=x.AS&&(c.AS=Number(x.AS)),null!=x[_0x4b1c("0xd6b")]&&(c[_0x4b1c("0xd6b")]=String(x[_0x4b1c("0xd6b")])),null!=x[_0x4b1c("0xefa")]&&(c[_0x4b1c("0xefa")]=0|x[_0x4b1c("0xefa")]),null!=x[_0x4b1c("0xe93")]&&(c.ShopID=0|x[_0x4b1c("0xe93")]),null!=x.FS&&(c.FS=0|x.FS),null!=x.FC&&(c.FC=String(x.FC)),null!=x[_0x4b1c("0x3d6")]&&(c[_0x4b1c("0x3d6")]=String(x.other1)),c},x[_0x4b1c("0x2bf")]=x[_0x4b1c("0xe3a")],x.toObject=function(x,c){c||(c={});var b={};return c[_0x4b1c("0x5ed")]&&(b[_0x4b1c("0x3d8")]=0,b[_0x4b1c("0x1f7")]="",b[_0x4b1c("0xb80")]="",b[_0x4b1c("0xd71")]="",b.Tid=0,b.RL="",b[_0x4b1c("0xd6f")]="",b.BC=0,b.RC="",b.RH=0,b.RM="",b[_0x4b1c("0xcab")]="",b[_0x4b1c("0xcac")]="",b.RMO="",b.RS=0,b.SL=0,b[_0x4b1c("0xd6c")]=0,b[_0x4b1c("0xd6d")]=0,b.AS=0,b[_0x4b1c("0xd6b")]="",b[_0x4b1c("0xefa")]=0,b[_0x4b1c("0xe93")]=0,b.FS=0,b.FC="",b.other1=""),null!=x._id&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&(b[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x1f7"))&&(b[_0x4b1c("0x1f7")]=x[_0x4b1c("0x1f7")]),null!=x[_0x4b1c("0xb80")]&&x[_0x4b1c("0x1")](_0x4b1c("0xb80"))&&(b[_0x4b1c("0xb80")]=x.NameEn),null!=x.Brief&&x.hasOwnProperty("Brief")&&(b[_0x4b1c("0xd71")]=x[_0x4b1c("0xd71")]),null!=x[_0x4b1c("0x3d9")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d9"))&&(b[_0x4b1c("0x3d9")]=x[_0x4b1c("0x3d9")]),null!=x.RL&&x.hasOwnProperty("RL")&&(b.RL=x.RL),null!=x[_0x4b1c("0xd6f")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd6f"))&&(b[_0x4b1c("0xd6f")]=x.RLSize),null!=x.BC&&x[_0x4b1c("0x1")]("BC")&&(b.BC=x.BC),null!=x.RC&&x.hasOwnProperty("RC")&&(b.RC=x.RC),null!=x.RH&&x.hasOwnProperty("RH")&&(b.RH=x.RH),null!=x.RM&&x[_0x4b1c("0x1")]("RM")&&(b.RM=x.RM),null!=x[_0x4b1c("0xcab")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcab"))&&(b[_0x4b1c("0xcab")]=x[_0x4b1c("0xcab")]),null!=x.RMR&&x[_0x4b1c("0x1")](_0x4b1c("0xcac"))&&(b.RMR=x.RMR),null!=x[_0x4b1c("0xcad")]&&x[_0x4b1c("0x1")](_0x4b1c("0xcad"))&&(b[_0x4b1c("0xcad")]=x.RMO),null!=x.RS&&x[_0x4b1c("0x1")]("RS")&&(b.RS=x.RS),null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&(b.SL=x.SL),null!=x[_0x4b1c("0xd6c")]&&x[_0x4b1c("0x1")]("CenX")&&(b.CenX=x[_0x4b1c("0xd6c")]),null!=x[_0x4b1c("0xd6d")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd6d"))&&(b[_0x4b1c("0xd6d")]=x.CenY),null!=x.AS&&x[_0x4b1c("0x1")]("AS")&&(b.AS=x.AS),null!=x.Outline&&x.hasOwnProperty(_0x4b1c("0xd6b"))&&(b.Outline=x[_0x4b1c("0xd6b")]),null!=x[_0x4b1c("0xefa")]&&x[_0x4b1c("0x1")](_0x4b1c("0xefa"))&&(b.PointID=x[_0x4b1c("0xefa")]),null!=x.ShopID&&x[_0x4b1c("0x1")](_0x4b1c("0xe93"))&&(b.ShopID=x.ShopID),null!=x.FS&&x.hasOwnProperty("FS")&&(b.FS=x.FS),null!=x.FC&&x[_0x4b1c("0x1")]("FC")&&(b.FC=x.FC),null!=x.other1&&x.hasOwnProperty(_0x4b1c("0x3d6"))&&(b[_0x4b1c("0x3d6")]=x.other1),b},x.prototype[_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x.prototype[_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")].toObject(this,a.util[_0x4b1c("0x5f1")])},x}(),i[_0x4b1c("0xe2c")]=function(){function x(x){if(x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")][_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x1f7")]="",x.prototype[_0x4b1c("0xb80")]="",x[_0x4b1c("0xf")][_0x4b1c("0xd71")]="",x[_0x4b1c("0xf")][_0x4b1c("0x3d9")]=0,x[_0x4b1c("0xf")].X=0,x[_0x4b1c("0xf")].Y=0,x[_0x4b1c("0xf")].SL=0,x[_0x4b1c("0xf")].SH=0,x[_0x4b1c("0xf")].w=0,x[_0x4b1c("0xf")].h=0,x[_0x4b1c("0xf")][_0x4b1c("0x316")]="",x[_0x4b1c("0xf")][_0x4b1c("0xe5e")]=0,x.prototype[_0x4b1c("0x3d6")]="",x[_0x4b1c("0xf")][_0x4b1c("0x3d5")]=0,x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){return c||(c=r[_0x4b1c("0x5b3")]()),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&c[_0x4b1c("0x5b5")](8).int32(x[_0x4b1c("0x3d8")]),null!=x.name&&x[_0x4b1c("0x1")]("name")&&c[_0x4b1c("0x5b5")](18)[_0x4b1c("0xd")](x[_0x4b1c("0x1f7")]),null!=x[_0x4b1c("0xb80")]&&x[_0x4b1c("0x1")](_0x4b1c("0xb80"))&&c.uint32(26)[_0x4b1c("0xd")](x[_0x4b1c("0xb80")]),null!=x.Brief&&x[_0x4b1c("0x1")](_0x4b1c("0xd71"))&&c[_0x4b1c("0x5b5")](34)[_0x4b1c("0xd")](x.Brief),null!=x[_0x4b1c("0x3d9")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d9"))&&c[_0x4b1c("0x5b5")](40).int32(x.Tid),null!=x.X&&x.hasOwnProperty("X")&&c[_0x4b1c("0x5b5")](49)[_0x4b1c("0x5b8")](x.X),null!=x.Y&&x.hasOwnProperty("Y")&&c[_0x4b1c("0x5b5")](57)[_0x4b1c("0x5b8")](x.Y),null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&c[_0x4b1c("0x5b5")](64)[_0x4b1c("0x5b6")](x.SL),null!=x.SH&&x[_0x4b1c("0x1")]("SH")&&c[_0x4b1c("0x5b5")](77)[_0x4b1c("0x329")](x.SH),null!=x.w&&x.hasOwnProperty("w")&&c[_0x4b1c("0x5b5")](85)[_0x4b1c("0x329")](x.w),null!=x.h&&x[_0x4b1c("0x1")]("h")&&c[_0x4b1c("0x5b5")](93)[_0x4b1c("0x329")](x.h),null!=x[_0x4b1c("0x316")]&&x[_0x4b1c("0x1")](_0x4b1c("0x316"))&&c[_0x4b1c("0x5b5")](98)[_0x4b1c("0xd")](x[_0x4b1c("0x316")]),null!=x.FSId&&x[_0x4b1c("0x1")](_0x4b1c("0xe5e"))&&c[_0x4b1c("0x5b5")](104).int32(x[_0x4b1c("0xe5e")]),null!=x.other1&&x.hasOwnProperty("other1")&&c[_0x4b1c("0x5b5")](114).string(x.other1),null!=x.ipos&&x.hasOwnProperty(_0x4b1c("0x3d5"))&&c[_0x4b1c("0x5b5")](120)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d5")]),c},x[_0x4b1c("0x5be")]=function(x,c){return this.encode(x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,_=new(o[_0x4b1c("0x32")][_0x4b1c("0xe2c")]);x.pos<b;){var e=x[_0x4b1c("0x5b5")]();switch(e>>>3){case 1:_[_0x4b1c("0x3d8")]=x.int32();break;case 2:_[_0x4b1c("0x1f7")]=x[_0x4b1c("0xd")]();break;case 3:_.NameEn=x[_0x4b1c("0xd")]();break;case 4:_[_0x4b1c("0xd71")]=x[_0x4b1c("0xd")]();break;case 5:_[_0x4b1c("0x3d9")]=x.int32();break;case 6:_.X=x[_0x4b1c("0x5b8")]();break;case 7:_.Y=x[_0x4b1c("0x5b8")]();break;case 8:_.SL=x.int32();break;case 9:_.SH=x[_0x4b1c("0x329")]();break;case 10:_.w=x.float();break;case 11:_.h=x.float();break;case 12:_[_0x4b1c("0x316")]=x[_0x4b1c("0xd")]();break;case 13:_[_0x4b1c("0xe5e")]=x[_0x4b1c("0x5b6")]();break;case 14:_[_0x4b1c("0x3d6")]=x[_0x4b1c("0xd")]();break;case 15:_[_0x4b1c("0x3d5")]=x[_0x4b1c("0x5b6")]();break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x.uint32())},x[_0x4b1c("0x5c3")]=function(x){return(void 0===x?_0x4b1c("0x8"):(0,_.default)(x))!==_0x4b1c("0x1d")||null===x?"object expected":null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty(_0x4b1c("0x3d8"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d8")])?_0x4b1c("0x5c8"):null!=x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x1f7"))&&!s[_0x4b1c("0x367")](x.name)?_0x4b1c("0x5ca"):null!=x[_0x4b1c("0xb80")]&&x.hasOwnProperty(_0x4b1c("0xb80"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xb80")])?_0x4b1c("0xefb"):null!=x[_0x4b1c("0xd71")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd71"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xd71")])?_0x4b1c("0xefc"):null!=x[_0x4b1c("0x3d9")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d9"))&&!s[_0x4b1c("0x5c5")](x.Tid)?_0x4b1c("0xe61"):null!=x.X&&x[_0x4b1c("0x1")]("X")&&"number"!=typeof x.X?_0x4b1c("0xe64"):null!=x.Y&&x[_0x4b1c("0x1")]("Y")&&typeof x.Y!==_0x4b1c("0x18f")?"Y: number expected":null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&!s[_0x4b1c("0x5c5")](x.SL)?_0x4b1c("0xe52"):null!=x.SH&&x[_0x4b1c("0x1")]("SH")&&typeof x.SH!==_0x4b1c("0x18f")?_0x4b1c("0xe66"):null!=x.w&&x.hasOwnProperty("w")&&"number"!=typeof x.w?"w: number expected":null!=x.h&&x[_0x4b1c("0x1")]("h")&&"number"!=typeof x.h?_0x4b1c("0xe68"):null!=x.image&&x[_0x4b1c("0x1")]("image")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x316")])?_0x4b1c("0xef4"):null!=x.FSId&&x.hasOwnProperty(_0x4b1c("0xe5e"))&&!s.isInteger(x[_0x4b1c("0xe5e")])?_0x4b1c("0xe69"):null!=x.other1&&x.hasOwnProperty(_0x4b1c("0x3d6"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x3d6")])?_0x4b1c("0x5e2"):null!=x.ipos&&x[_0x4b1c("0x1")]("ipos")&&!s[_0x4b1c("0x5c5")](x.ipos)?_0x4b1c("0xf01"):null},x.fromObject=function(x){if(x instanceof o[_0x4b1c("0x32")][_0x4b1c("0xe2c")])return x;var c=new(o[_0x4b1c("0x32")][_0x4b1c("0xe2c")]);return null!=x._id&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x1f7")]&&(c[_0x4b1c("0x1f7")]=String(x[_0x4b1c("0x1f7")])),null!=x[_0x4b1c("0xb80")]&&(c[_0x4b1c("0xb80")]=String(x[_0x4b1c("0xb80")])),null!=x[_0x4b1c("0xd71")]&&(c[_0x4b1c("0xd71")]=String(x[_0x4b1c("0xd71")])),null!=x[_0x4b1c("0x3d9")]&&(c[_0x4b1c("0x3d9")]=0|x[_0x4b1c("0x3d9")]),null!=x.X&&(c.X=Number(x.X)),null!=x.Y&&(c.Y=Number(x.Y)),null!=x.SL&&(c.SL=0|x.SL),null!=x.SH&&(c.SH=Number(x.SH)),null!=x.w&&(c.w=Number(x.w)),null!=x.h&&(c.h=Number(x.h)),null!=x[_0x4b1c("0x316")]&&(c.image=String(x[_0x4b1c("0x316")])),null!=x[_0x4b1c("0xe5e")]&&(c[_0x4b1c("0xe5e")]=0|x[_0x4b1c("0xe5e")]),null!=x[_0x4b1c("0x3d6")]&&(c[_0x4b1c("0x3d6")]=String(x[_0x4b1c("0x3d6")])),null!=x[_0x4b1c("0x3d5")]&&(c[_0x4b1c("0x3d5")]=0|x.ipos),c},x.from=x.fromObject,x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};return c[_0x4b1c("0x5ed")]&&(b[_0x4b1c("0x3d8")]=0,b[_0x4b1c("0x1f7")]="",b[_0x4b1c("0xb80")]="",b[_0x4b1c("0xd71")]="",b[_0x4b1c("0x3d9")]=0,b.X=0,b.Y=0,b.SL=0,b.SH=0,b.w=0,b.h=0,b.image="",b[_0x4b1c("0xe5e")]=0,b[_0x4b1c("0x3d6")]="",b.ipos=0),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&(b[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x.name&&x.hasOwnProperty(_0x4b1c("0x1f7"))&&(b[_0x4b1c("0x1f7")]=x[_0x4b1c("0x1f7")]),null!=x.NameEn&&x[_0x4b1c("0x1")](_0x4b1c("0xb80"))&&(b[_0x4b1c("0xb80")]=x[_0x4b1c("0xb80")]),null!=x.Brief&&x[_0x4b1c("0x1")](_0x4b1c("0xd71"))&&(b[_0x4b1c("0xd71")]=x[_0x4b1c("0xd71")]),null!=x[_0x4b1c("0x3d9")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d9"))&&(b[_0x4b1c("0x3d9")]=x[_0x4b1c("0x3d9")]),null!=x.X&&x.hasOwnProperty("X")&&(b.X=x.X),null!=x.Y&&x[_0x4b1c("0x1")]("Y")&&(b.Y=x.Y),null!=x.SL&&x[_0x4b1c("0x1")]("SL")&&(b.SL=x.SL),null!=x.SH&&x[_0x4b1c("0x1")]("SH")&&(b.SH=x.SH),null!=x.w&&x[_0x4b1c("0x1")]("w")&&(b.w=x.w),null!=x.h&&x[_0x4b1c("0x1")]("h")&&(b.h=x.h),null!=x[_0x4b1c("0x316")]&&x[_0x4b1c("0x1")]("image")&&(b.image=x.image),null!=x[_0x4b1c("0xe5e")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe5e"))&&(b.FSId=x[_0x4b1c("0xe5e")]),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")]("other1")&&(b[_0x4b1c("0x3d6")]=x[_0x4b1c("0x3d6")]),null!=x[_0x4b1c("0x3d5")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d5"))&&(b.ipos=x[_0x4b1c("0x3d5")]),b},x[_0x4b1c("0xf")][_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x.prototype.toJSON=function(){return this.constructor[_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i[_0x4b1c("0xee9")]=function(){function x(x){if(x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x.prototype[_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")].name="",x[_0x4b1c("0xf")][_0x4b1c("0x3d9")]=0,x[_0x4b1c("0xf")].F1=0,x[_0x4b1c("0xf")].F2=0,x[_0x4b1c("0xf")].ST=0,x[_0x4b1c("0xf")].LT=0,x.prototype.LH=0,x.prototype.LM="",x[_0x4b1c("0xf")].LS="",x.prototype.LR="",x[_0x4b1c("0xf")].LO="",x[_0x4b1c("0xf")].X1=0,x[_0x4b1c("0xf")].X2=0,x[_0x4b1c("0xf")].Y1=0,x[_0x4b1c("0xf")].Y2=0,x[_0x4b1c("0xf")].O1="",x.prototype.O2="",x[_0x4b1c("0xf")][_0x4b1c("0x3d6")]="",x.create=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){return c||(c=r[_0x4b1c("0x5b3")]()),null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty(_0x4b1c("0x3d8"))&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x1f7")]&&x.hasOwnProperty(_0x4b1c("0x1f7"))&&c[_0x4b1c("0x5b5")](18).string(x[_0x4b1c("0x1f7")]),null!=x[_0x4b1c("0x3d9")]&&x[_0x4b1c("0x1")]("Tid")&&c.uint32(24).int32(x[_0x4b1c("0x3d9")]),null!=x.F1&&x[_0x4b1c("0x1")]("F1")&&c[_0x4b1c("0x5b5")](32).int32(x.F1),null!=x.F2&&x.hasOwnProperty("F2")&&c[_0x4b1c("0x5b5")](40)[_0x4b1c("0x5b6")](x.F2),null!=x.ST&&x.hasOwnProperty("ST")&&c[_0x4b1c("0x5b5")](48)[_0x4b1c("0x5b6")](x.ST),null!=x.LT&&x.hasOwnProperty("LT")&&c[_0x4b1c("0x5b5")](56)[_0x4b1c("0x5b6")](x.LT),null!=x.LH&&x.hasOwnProperty("LH")&&c[_0x4b1c("0x5b5")](64)[_0x4b1c("0x5b6")](x.LH),null!=x.LM&&x.hasOwnProperty("LM")&&c[_0x4b1c("0x5b5")](74).string(x.LM),null!=x.LS&&x[_0x4b1c("0x1")]("LS")&&c.uint32(82)[_0x4b1c("0xd")](x.LS),null!=x.LR&&x[_0x4b1c("0x1")]("LR")&&c[_0x4b1c("0x5b5")](90).string(x.LR),null!=x.LO&&x[_0x4b1c("0x1")]("LO")&&c[_0x4b1c("0x5b5")](98)[_0x4b1c("0xd")](x.LO),null!=x.X1&&x[_0x4b1c("0x1")]("X1")&&c[_0x4b1c("0x5b5")](105)[_0x4b1c("0x5b8")](x.X1),null!=x.X2&&x[_0x4b1c("0x1")]("X2")&&c[_0x4b1c("0x5b5")](113)[_0x4b1c("0x5b8")](x.X2),null!=x.Y1&&x[_0x4b1c("0x1")]("Y1")&&c[_0x4b1c("0x5b5")](121)[_0x4b1c("0x5b8")](x.Y1),null!=x.Y2&&x[_0x4b1c("0x1")]("Y2")&&c[_0x4b1c("0x5b5")](129)[_0x4b1c("0x5b8")](x.Y2),null!=x.O1&&x.hasOwnProperty("O1")&&c[_0x4b1c("0x5b5")](138)[_0x4b1c("0xd")](x.O1),null!=x.O2&&x[_0x4b1c("0x1")]("O2")&&c[_0x4b1c("0x5b5")](146)[_0x4b1c("0xd")](x.O2),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&c[_0x4b1c("0x5b5")](154)[_0x4b1c("0xd")](x[_0x4b1c("0x3d6")]),c},x[_0x4b1c("0x5be")]=function(x,c){return this.encode(x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x.len:x.pos+c,_=new(o[_0x4b1c("0x32")].LiftSet);x.pos<b;){var e=x[_0x4b1c("0x5b5")]();switch(e>>>3){case 1:_[_0x4b1c("0x3d8")]=x[_0x4b1c("0x5b6")]();break;case 2:_[_0x4b1c("0x1f7")]=x[_0x4b1c("0xd")]();break;case 3:_.Tid=x[_0x4b1c("0x5b6")]();break;case 4:_.F1=x[_0x4b1c("0x5b6")]();break;case 5:_.F2=x[_0x4b1c("0x5b6")]();break;case 6:_.ST=x[_0x4b1c("0x5b6")]();break;case 7:_.LT=x[_0x4b1c("0x5b6")]();break;case 8:_.LH=x[_0x4b1c("0x5b6")]();break;case 9:_.LM=x[_0x4b1c("0xd")]();break;case 10:_.LS=x.string();break;case 11:_.LR=x[_0x4b1c("0xd")]();break;case 12:_.LO=x[_0x4b1c("0xd")]();break;case 13:_.X1=x.double();break;case 14:_.X2=x.double();break;case 15:_.Y1=x.double();break;case 16:_.Y2=x.double();break;case 17:_.O1=x[_0x4b1c("0xd")]();break;case 18:_.O2=x[_0x4b1c("0xd")]();break;case 19:_[_0x4b1c("0x3d6")]=x[_0x4b1c("0xd")]();break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x.decodeDelimited=function(x){return x instanceof n||(x=n(x)),this.decode(x,x[_0x4b1c("0x5b5")]())},x[_0x4b1c("0x5c3")]=function(x){return(typeof x===_0x4b1c("0x8")?"undefined":(0,_[_0x4b1c("0xc")])(x))!==_0x4b1c("0x1d")||null===x?"object expected":null!=x._id&&x[_0x4b1c("0x1")]("_id")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d8")])?_0x4b1c("0x5c8"):null!=x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x1f7"))&&!s.isString(x[_0x4b1c("0x1f7")])?"name: string expected":null!=x.Tid&&x[_0x4b1c("0x1")]("Tid")&&!s[_0x4b1c("0x5c5")](x.Tid)?_0x4b1c("0xe61"):null!=x.F1&&x[_0x4b1c("0x1")]("F1")&&!s[_0x4b1c("0x5c5")](x.F1)?_0x4b1c("0xf02"):null!=x.F2&&x.hasOwnProperty("F2")&&!s.isInteger(x.F2)?"F2: integer expected":null!=x.ST&&x[_0x4b1c("0x1")]("ST")&&!s[_0x4b1c("0x5c5")](x.ST)?_0x4b1c("0xe63"):null!=x.LT&&x.hasOwnProperty("LT")&&!s.isInteger(x.LT)?_0x4b1c("0xf03"):null!=x.LH&&x.hasOwnProperty("LH")&&!s.isInteger(x.LH)?_0x4b1c("0xf04"):null!=x.LM&&x[_0x4b1c("0x1")]("LM")&&!s.isString(x.LM)?_0x4b1c("0xf05"):null!=x.LS&&x[_0x4b1c("0x1")]("LS")&&!s[_0x4b1c("0x367")](x.LS)?_0x4b1c("0xf06"):null!=x.LR&&x.hasOwnProperty("LR")&&!s[_0x4b1c("0x367")](x.LR)?_0x4b1c("0xf07"):null!=x.LO&&x[_0x4b1c("0x1")]("LO")&&!s[_0x4b1c("0x367")](x.LO)?_0x4b1c("0xf08"):null!=x.X1&&x[_0x4b1c("0x1")]("X1")&&typeof x.X1!==_0x4b1c("0x18f")?_0x4b1c("0xf09"):null!=x.X2&&x[_0x4b1c("0x1")]("X2")&&typeof x.X2!==_0x4b1c("0x18f")?_0x4b1c("0xf0a"):null!=x.Y1&&x[_0x4b1c("0x1")]("Y1")&&typeof x.Y1!==_0x4b1c("0x18f")?_0x4b1c("0xf0b"):null!=x.Y2&&x[_0x4b1c("0x1")]("Y2")&&typeof x.Y2!==_0x4b1c("0x18f")?_0x4b1c("0xf0c"):null!=x.O1&&x[_0x4b1c("0x1")]("O1")&&!s[_0x4b1c("0x367")](x.O1)?_0x4b1c("0xf0d"):null!=x.O2&&x[_0x4b1c("0x1")]("O2")&&!s[_0x4b1c("0x367")](x.O2)?_0x4b1c("0xf0e"):null!=x.other1&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0x3d6")])?_0x4b1c("0x5e2"):null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o[_0x4b1c("0x32")][_0x4b1c("0xee9")])return x;var c=new(o[_0x4b1c("0x32")][_0x4b1c("0xee9")]);return null!=x._id&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x1f7")]&&(c.name=String(x[_0x4b1c("0x1f7")])),null!=x[_0x4b1c("0x3d9")]&&(c[_0x4b1c("0x3d9")]=0|x[_0x4b1c("0x3d9")]),null!=x.F1&&(c.F1=0|x.F1),null!=x.F2&&(c.F2=0|x.F2),null!=x.ST&&(c.ST=0|x.ST),null!=x.LT&&(c.LT=0|x.LT),null!=x.LH&&(c.LH=0|x.LH),null!=x.LM&&(c.LM=String(x.LM)),null!=x.LS&&(c.LS=String(x.LS)),null!=x.LR&&(c.LR=String(x.LR)),null!=x.LO&&(c.LO=String(x.LO)),null!=x.X1&&(c.X1=Number(x.X1)),null!=x.X2&&(c.X2=Number(x.X2)),null!=x.Y1&&(c.Y1=Number(x.Y1)),null!=x.Y2&&(c.Y2=Number(x.Y2)),null!=x.O1&&(c.O1=String(x.O1)),null!=x.O2&&(c.O2=String(x.O2)),null!=x.other1&&(c[_0x4b1c("0x3d6")]=String(x[_0x4b1c("0x3d6")])),c},x.from=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};return c.defaults&&(b._id=0,b[_0x4b1c("0x1f7")]="",b.Tid=0,b.F1=0,b.F2=0,b.ST=0,b.LT=0,b.LH=0,b.LM="",b.LS="",b.LR="",b.LO="",b.X1=0,b.X2=0,b.Y1=0,b.Y2=0,b.O1="",b.O2="",b[_0x4b1c("0x3d6")]=""),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")]("_id")&&(b[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x1f7")]&&x[_0x4b1c("0x1")](_0x4b1c("0x1f7"))&&(b.name=x[_0x4b1c("0x1f7")]),null!=x[_0x4b1c("0x3d9")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d9"))&&(b.Tid=x[_0x4b1c("0x3d9")]),null!=x.F1&&x[_0x4b1c("0x1")]("F1")&&(b.F1=x.F1),null!=x.F2&&x[_0x4b1c("0x1")]("F2")&&(b.F2=x.F2),null!=x.ST&&x[_0x4b1c("0x1")]("ST")&&(b.ST=x.ST),null!=x.LT&&x[_0x4b1c("0x1")]("LT")&&(b.LT=x.LT),null!=x.LH&&x.hasOwnProperty("LH")&&(b.LH=x.LH),null!=x.LM&&x[_0x4b1c("0x1")]("LM")&&(b.LM=x.LM),null!=x.LS&&x[_0x4b1c("0x1")]("LS")&&(b.LS=x.LS),null!=x.LR&&x[_0x4b1c("0x1")]("LR")&&(b.LR=x.LR),null!=x.LO&&x[_0x4b1c("0x1")]("LO")&&(b.LO=x.LO),null!=x.X1&&x.hasOwnProperty("X1")&&(b.X1=x.X1),null!=x.X2&&x[_0x4b1c("0x1")]("X2")&&(b.X2=x.X2),null!=x.Y1&&x[_0x4b1c("0x1")]("Y1")&&(b.Y1=x.Y1),null!=x.Y2&&x.hasOwnProperty("Y2")&&(b.Y2=x.Y2),null!=x.O1&&x[_0x4b1c("0x1")]("O1")&&(b.O1=x.O1),null!=x.O2&&x[_0x4b1c("0x1")]("O2")&&(b.O2=x.O2),null!=x[_0x4b1c("0x3d6")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d6"))&&(b.other1=x[_0x4b1c("0x3d6")]),b},x[_0x4b1c("0xf")][_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x.prototype[_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")].toJSONOptions)},x}(),i[_0x4b1c("0xecc")]=function(){function x(x){if(this[_0x4b1c("0xd4d")]={},this[_0x4b1c("0x3f3")]={},x)for(var c=(0,e.default)(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")][_0x4b1c("0xc0b")]=0,x[_0x4b1c("0xf")].Nodes=s[_0x4b1c("0xe28")],x[_0x4b1c("0xf")][_0x4b1c("0x3f3")]=s[_0x4b1c("0xe28")],x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){if(c||(c=r[_0x4b1c("0x5b3")]()),null!=x.floornum&&x.hasOwnProperty("floornum")&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x.floornum),null!=x[_0x4b1c("0xd4d")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd4d")))for(var b=(0,e[_0x4b1c("0xc")])(x.Nodes),_=0;_<b.length;++_)c.uint32(18)[_0x4b1c("0xe29")]()[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](b[_]),o[_0x4b1c("0x32")].NavNodeSet[_0x4b1c("0x5b4")](x[_0x4b1c("0xd4d")][b[_]],c.uint32(18).fork())[_0x4b1c("0xe2b")]().ldelim();if(null!=x[_0x4b1c("0x3f3")]&&x[_0x4b1c("0x1")]("Lines"))for(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0x3f3")]),_=0;_<b.length;++_)c[_0x4b1c("0x5b5")](26)[_0x4b1c("0xe29")]().uint32(8).int32(b[_]),o[_0x4b1c("0x32")].NavLineSet[_0x4b1c("0x5b4")](x[_0x4b1c("0x3f3")][b[_]],c[_0x4b1c("0x5b5")](18)[_0x4b1c("0xe29")]()).ldelim().ldelim();return c},x[_0x4b1c("0x5be")]=function(x,c){return this.encode(x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b,_=void 0===c?x.len:x.pos+c,e=new(o[_0x4b1c("0x32")][_0x4b1c("0xecc")]);x[_0x4b1c("0x434")]<_;){var t=x[_0x4b1c("0x5b5")]();switch(t>>>3){case 1:e[_0x4b1c("0xc0b")]=x[_0x4b1c("0x5b6")]();break;case 2:x[_0x4b1c("0xe2d")]().pos++,e[_0x4b1c("0xd4d")]===s[_0x4b1c("0xe28")]&&(e[_0x4b1c("0xd4d")]={}),b=x[_0x4b1c("0x5b6")](),x[_0x4b1c("0x434")]++,e[_0x4b1c("0xd4d")][b]=o[_0x4b1c("0x32")][_0x4b1c("0xe6b")][_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]());break;case 3:x.skip()[_0x4b1c("0x434")]++,e[_0x4b1c("0x3f3")]===s.emptyObject&&(e[_0x4b1c("0x3f3")]={}),b=x[_0x4b1c("0x5b6")](),x[_0x4b1c("0x434")]++,e.Lines[b]=o[_0x4b1c("0x32")][_0x4b1c("0xe6a")].decode(x,x[_0x4b1c("0x5b5")]());break;default:x[_0x4b1c("0x5c0")](7&t)}}return e},x.decodeDelimited=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x.uint32())},x[_0x4b1c("0x5c3")]=function(x){if((void 0===x?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))!==_0x4b1c("0x1d")||null===x)return _0x4b1c("0x5c4");if(null!=x[_0x4b1c("0xc0b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xc0b"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xc0b")]))return _0x4b1c("0xeeb");if(null!=x[_0x4b1c("0xd4d")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd4d"))){if(!s[_0x4b1c("0x17")](x[_0x4b1c("0xd4d")]))return _0x4b1c("0xe6c");for(var c=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")]),b=0;b<c[_0x4b1c("0x0")];++b){if(!s[_0x4b1c("0xe36")].test(c[b]))return _0x4b1c("0xe6d");if(t=o[_0x4b1c("0x32")][_0x4b1c("0xe6b")][_0x4b1c("0x5c3")](x[_0x4b1c("0xd4d")][c[b]]))return"Nodes."+t}}if(null!=x.Lines&&x[_0x4b1c("0x1")]("Lines")){if(!s[_0x4b1c("0x17")](x[_0x4b1c("0x3f3")]))return _0x4b1c("0xe6f");for(c=(0,e.default)(x.Lines),b=0;b<c[_0x4b1c("0x0")];++b){if(!s[_0x4b1c("0xe36")].test(c[b]))return _0x4b1c("0xe70");var t;if(t=o[_0x4b1c("0x32")][_0x4b1c("0xe6a")].verify(x.Lines[c[b]]))return _0x4b1c("0xe71")+t}}return null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o.ESMap[_0x4b1c("0xecc")])return x;var c=new(o[_0x4b1c("0x32")].NavSet);if(null!=x[_0x4b1c("0xc0b")]&&(c[_0x4b1c("0xc0b")]=0|x[_0x4b1c("0xc0b")]),x[_0x4b1c("0xd4d")]){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xf0f"));c.Nodes={};for(var b=(0,e.default)(x[_0x4b1c("0xd4d")]),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")][b[t]])!==_0x4b1c("0x1d"))throw TypeError(".ESMap.NavSet.Nodes: object expected");c.Nodes[b[t]]=o[_0x4b1c("0x32")][_0x4b1c("0xe6b")][_0x4b1c("0xe3a")](x[_0x4b1c("0xd4d")][b[t]])}}if(x[_0x4b1c("0x3f3")]){if((0,_.default)(x[_0x4b1c("0x3f3")])!==_0x4b1c("0x1d"))throw TypeError(".ESMap.NavSet.Lines: object expected");for(c[_0x4b1c("0x3f3")]={},b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0x3f3")]),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x3f3")][b[t]])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xf10"));c.Lines[b[t]]=o.ESMap[_0x4b1c("0xe6a")][_0x4b1c("0xe3a")](x[_0x4b1c("0x3f3")][b[t]])}}return c},x[_0x4b1c("0x2bf")]=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b,_={};if((c[_0x4b1c("0x74a")]||c[_0x4b1c("0x5ed")])&&(_[_0x4b1c("0xd4d")]={},_[_0x4b1c("0x3f3")]={}),c[_0x4b1c("0x5ed")]&&(_[_0x4b1c("0xc0b")]=0),null!=x[_0x4b1c("0xc0b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xc0b"))&&(_.floornum=x.floornum),x[_0x4b1c("0xd4d")]&&(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")])).length){_[_0x4b1c("0xd4d")]={};for(var t=0;t<b[_0x4b1c("0x0")];++t)_.Nodes[b[t]]=o.ESMap[_0x4b1c("0xe6b")].toObject(x[_0x4b1c("0xd4d")][b[t]],c)}if(x[_0x4b1c("0x3f3")]&&(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0x3f3")]))[_0x4b1c("0x0")])for(_[_0x4b1c("0x3f3")]={},t=0;t<b.length;++t)_.Lines[b[t]]=o[_0x4b1c("0x32")][_0x4b1c("0xe6a")][_0x4b1c("0x5ec")](x[_0x4b1c("0x3f3")][b[t]],c);return _},x[_0x4b1c("0xf")].toObject=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")].toJSON=function(){return this.constructor[_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")].toJSONOptions)},x}(),i.NavNodeSet=function(){function x(x){if(x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c.length;++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")][_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x99")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xf11")]=0,x[_0x4b1c("0xf")].X=0,x[_0x4b1c("0xf")].Y=0,x.prototype[_0x4b1c("0xe75")]=0,x[_0x4b1c("0xf")].Z=0,x.create=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){return c||(c=r[_0x4b1c("0x5b3")]()),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")]("_id")&&c[_0x4b1c("0x5b5")](8).int32(x[_0x4b1c("0x3d8")]),null!=x.tid&&x[_0x4b1c("0x1")](_0x4b1c("0x99"))&&c[_0x4b1c("0x5b5")](16)[_0x4b1c("0x5b6")](x[_0x4b1c("0x99")]),null!=x[_0x4b1c("0xf11")]&&x[_0x4b1c("0x1")]("rid")&&c[_0x4b1c("0x5b5")](24).int32(x[_0x4b1c("0xf11")]),null!=x.X&&x[_0x4b1c("0x1")]("X")&&c[_0x4b1c("0x5b5")](33)[_0x4b1c("0x5b8")](x.X),null!=x.Y&&x.hasOwnProperty("Y")&&c[_0x4b1c("0x5b5")](41)[_0x4b1c("0x5b8")](x.Y),null!=x.sid&&x[_0x4b1c("0x1")](_0x4b1c("0xe75"))&&c.uint32(48).int32(x[_0x4b1c("0xe75")]),null!=x.Z&&x.hasOwnProperty("Z")&&c.uint32(57)[_0x4b1c("0x5b8")](x.Z),c},x[_0x4b1c("0x5be")]=function(x,c){return this[_0x4b1c("0x5b4")](x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,_=new(o[_0x4b1c("0x32")][_0x4b1c("0xe6b")]);x[_0x4b1c("0x434")]<b;){var e=x[_0x4b1c("0x5b5")]();switch(e>>>3){case 1:_[_0x4b1c("0x3d8")]=x[_0x4b1c("0x5b6")]();break;case 2:_[_0x4b1c("0x99")]=x[_0x4b1c("0x5b6")]();break;case 3:_[_0x4b1c("0xf11")]=x[_0x4b1c("0x5b6")]();break;case 4:_.X=x.double();break;case 5:_.Y=x[_0x4b1c("0x5b8")]();break;case 6:_[_0x4b1c("0xe75")]=x[_0x4b1c("0x5b6")]();break;case 7:_.Z=x.double();break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x.uint32())},x[_0x4b1c("0x5c3")]=function(x){return(typeof x===_0x4b1c("0x8")?"undefined":(0,_[_0x4b1c("0xc")])(x))!==_0x4b1c("0x1d")||null===x?_0x4b1c("0x5c4"):null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty("_id")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d8")])?_0x4b1c("0x5c8"):null!=x[_0x4b1c("0x99")]&&x[_0x4b1c("0x1")](_0x4b1c("0x99"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x99")])?_0x4b1c("0x5c9"):null!=x.rid&&x.hasOwnProperty(_0x4b1c("0xf11"))&&!s[_0x4b1c("0x5c5")](x.rid)?"rid: integer expected":null!=x.X&&x[_0x4b1c("0x1")]("X")&&typeof x.X!==_0x4b1c("0x18f")?_0x4b1c("0xe64"):null!=x.Y&&x.hasOwnProperty("Y")&&"number"!=typeof x.Y?_0x4b1c("0xe65"):null!=x[_0x4b1c("0xe75")]&&x[_0x4b1c("0x1")]("sid")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xe75")])?"sid: integer expected":null!=x.Z&&x[_0x4b1c("0x1")]("Z")&&typeof x.Z!==_0x4b1c("0x18f")?_0x4b1c("0xe79"):null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o[_0x4b1c("0x32")][_0x4b1c("0xe6b")])return x;var c=new(o[_0x4b1c("0x32")][_0x4b1c("0xe6b")]);return null!=x[_0x4b1c("0x3d8")]&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x.tid&&(c[_0x4b1c("0x99")]=0|x[_0x4b1c("0x99")]),null!=x[_0x4b1c("0xf11")]&&(c[_0x4b1c("0xf11")]=0|x[_0x4b1c("0xf11")]),null!=x.X&&(c.X=Number(x.X)),null!=x.Y&&(c.Y=Number(x.Y)),null!=x[_0x4b1c("0xe75")]&&(c[_0x4b1c("0xe75")]=0|x.sid),null!=x.Z&&(c.Z=Number(x.Z)),c},x.from=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};return c.defaults&&(b[_0x4b1c("0x3d8")]=0,b.tid=0,b[_0x4b1c("0xf11")]=0,b.X=0,b.Y=0,b[_0x4b1c("0xe75")]=0,b.Z=0),null!=x._id&&x.hasOwnProperty("_id")&&(b._id=x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x99")]&&x[_0x4b1c("0x1")](_0x4b1c("0x99"))&&(b.tid=x.tid),null!=x[_0x4b1c("0xf11")]&&x.hasOwnProperty(_0x4b1c("0xf11"))&&(b[_0x4b1c("0xf11")]=x[_0x4b1c("0xf11")]),null!=x.X&&x[_0x4b1c("0x1")]("X")&&(b.X=x.X),null!=x.Y&&x[_0x4b1c("0x1")]("Y")&&(b.Y=x.Y),null!=x[_0x4b1c("0xe75")]&&x[_0x4b1c("0x1")]("sid")&&(b[_0x4b1c("0xe75")]=x[_0x4b1c("0xe75")]),null!=x.Z&&x[_0x4b1c("0x1")]("Z")&&(b.Z=x.Z),b},x.prototype[_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")][_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i[_0x4b1c("0xe6a")]=function(){function x(x){if(x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x.prototype[_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xe75")]=0,x[_0x4b1c("0xf")].eid=0,x[_0x4b1c("0xf")][_0x4b1c("0xf12")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x3ff")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x0")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x3fe")]="",x[_0x4b1c("0xf")][_0x4b1c("0xd4c")]="",x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){return c||(c=r.create()),null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty("_id")&&c[_0x4b1c("0x5b5")](8).int32(x._id),null!=x[_0x4b1c("0xe75")]&&x.hasOwnProperty(_0x4b1c("0xe75"))&&c[_0x4b1c("0x5b5")](16)[_0x4b1c("0x5b6")](x[_0x4b1c("0xe75")]),null!=x[_0x4b1c("0x5b2")]&&x[_0x4b1c("0x1")](_0x4b1c("0x5b2"))&&c[_0x4b1c("0x5b5")](24).int32(x[_0x4b1c("0x5b2")]),null!=x[_0x4b1c("0xf12")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf12"))&&c[_0x4b1c("0x5b5")](32)[_0x4b1c("0x5b6")](x[_0x4b1c("0xf12")]),null!=x[_0x4b1c("0x3ff")]&&x[_0x4b1c("0x1")]("rank")&&c.uint32(40)[_0x4b1c("0x5b6")](x.rank),null!=x[_0x4b1c("0x0")]&&x[_0x4b1c("0x1")](_0x4b1c("0x0"))&&c[_0x4b1c("0x5b5")](49)[_0x4b1c("0x5b8")](x.length),null!=x[_0x4b1c("0x3fe")]&&x[_0x4b1c("0x1")]("direction")&&c[_0x4b1c("0x5b5")](58)[_0x4b1c("0xd")](x[_0x4b1c("0x3fe")]),null!=x[_0x4b1c("0xd4c")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd4c"))&&c.uint32(66)[_0x4b1c("0xd")](x[_0x4b1c("0xd4c")]),c},x[_0x4b1c("0x5be")]=function(x,c){return this[_0x4b1c("0x5b4")](x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,_=new(o[_0x4b1c("0x32")][_0x4b1c("0xe6a")]);x.pos<b;){var e=x[_0x4b1c("0x5b5")]();switch(e>>>3){case 1:_._id=x.int32();break;case 2:_.sid=x[_0x4b1c("0x5b6")]();break;case 3:_.eid=x[_0x4b1c("0x5b6")]();break;case 4:_[_0x4b1c("0xf12")]=x.int32();break;case 5:_[_0x4b1c("0x3ff")]=x[_0x4b1c("0x5b6")]();break;case 6:_.length=x[_0x4b1c("0x5b8")]();break;case 7:_[_0x4b1c("0x3fe")]=x[_0x4b1c("0xd")]();break;case 8:_[_0x4b1c("0xd4c")]=x[_0x4b1c("0xd")]();break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]())},x[_0x4b1c("0x5c3")]=function(x){return"object"!==(void 0===x?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))||null===x?_0x4b1c("0x5c4"):null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")]("_id")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d8")])?"_id: integer expected":null!=x[_0x4b1c("0xe75")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe75"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xe75")])?"sid: integer expected":null!=x[_0x4b1c("0x5b2")]&&x.hasOwnProperty(_0x4b1c("0x5b2"))&&!s.isInteger(x[_0x4b1c("0x5b2")])?_0x4b1c("0xf13"):null!=x[_0x4b1c("0xf12")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf12"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xf12")])?_0x4b1c("0xf14"):null!=x[_0x4b1c("0x3ff")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3ff"))&&!s[_0x4b1c("0x5c5")](x.rank)?"rank: integer expected":null!=x[_0x4b1c("0x0")]&&x[_0x4b1c("0x1")]("length")&&typeof x[_0x4b1c("0x0")]!==_0x4b1c("0x18f")?_0x4b1c("0xf15"):null!=x[_0x4b1c("0x3fe")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3fe"))&&!s.isString(x[_0x4b1c("0x3fe")])?"direction: string expected":null!=x[_0x4b1c("0xd4c")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd4c"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xd4c")])?_0x4b1c("0xf16"):null},x.fromObject=function(x){if(x instanceof o[_0x4b1c("0x32")][_0x4b1c("0xe6a")])return x;var c=new(o[_0x4b1c("0x32")][_0x4b1c("0xe6a")]);return null!=x[_0x4b1c("0x3d8")]&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xe75")]&&(c[_0x4b1c("0xe75")]=0|x[_0x4b1c("0xe75")]),null!=x.eid&&(c[_0x4b1c("0x5b2")]=0|x[_0x4b1c("0x5b2")]),null!=x.efnum&&(c.efnum=0|x.efnum),null!=x.rank&&(c[_0x4b1c("0x3ff")]=0|x.rank),null!=x[_0x4b1c("0x0")]&&(c[_0x4b1c("0x0")]=Number(x.length)),null!=x[_0x4b1c("0x3fe")]&&(c[_0x4b1c("0x3fe")]=String(x[_0x4b1c("0x3fe")])),null!=x[_0x4b1c("0xd4c")]&&(c.bstair=String(x[_0x4b1c("0xd4c")])),c},x[_0x4b1c("0x2bf")]=x.fromObject,x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};return c[_0x4b1c("0x5ed")]&&(b[_0x4b1c("0x3d8")]=0,b.sid=0,b.eid=0,b[_0x4b1c("0xf12")]=0,b[_0x4b1c("0x3ff")]=0,b.length=0,b[_0x4b1c("0x3fe")]="",b[_0x4b1c("0xd4c")]=""),null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty("_id")&&(b._id=x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xe75")]&&x[_0x4b1c("0x1")](_0x4b1c("0xe75"))&&(b[_0x4b1c("0xe75")]=x[_0x4b1c("0xe75")]),null!=x.eid&&x[_0x4b1c("0x1")](_0x4b1c("0x5b2"))&&(b.eid=x[_0x4b1c("0x5b2")]),null!=x[_0x4b1c("0xf12")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf12"))&&(b.efnum=x[_0x4b1c("0xf12")]),null!=x[_0x4b1c("0x3ff")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3ff"))&&(b[_0x4b1c("0x3ff")]=x.rank),null!=x[_0x4b1c("0x0")]&&x[_0x4b1c("0x1")](_0x4b1c("0x0"))&&(b.length=x[_0x4b1c("0x0")]),null!=x[_0x4b1c("0x3fe")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3fe"))&&(b.direction=x.direction),null!=x[_0x4b1c("0xd4c")]&&x[_0x4b1c("0x1")](_0x4b1c("0xd4c"))&&(b[_0x4b1c("0xd4c")]=x[_0x4b1c("0xd4c")]),b},x[_0x4b1c("0xf")][_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")][_0x4b1c("0x5ef")]=function(){return this.constructor[_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i.PicSet=function(){function x(x){if(this.Nodes={},this[_0x4b1c("0xf17")]={},x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")][_0x4b1c("0xf18")]="",x.prototype[_0x4b1c("0xf19")]="",x[_0x4b1c("0xf")][_0x4b1c("0xf1a")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xf1b")]="",x[_0x4b1c("0xf")].msgscale="",x[_0x4b1c("0xf")][_0x4b1c("0xd4d")]=s.emptyObject,x[_0x4b1c("0xf")][_0x4b1c("0xf17")]=s[_0x4b1c("0xe28")],x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){if(c||(c=r[_0x4b1c("0x5b3")]()),null!=x.serverurl&&x[_0x4b1c("0x1")](_0x4b1c("0xf18"))&&c[_0x4b1c("0x5b5")](10)[_0x4b1c("0xd")](x[_0x4b1c("0xf18")]),null!=x[_0x4b1c("0xf19")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf19"))&&c[_0x4b1c("0x5b5")](18)[_0x4b1c("0xd")](x[_0x4b1c("0xf19")]),null!=x[_0x4b1c("0xf1a")]&&x.hasOwnProperty(_0x4b1c("0xf1a"))&&c.uint32(24)[_0x4b1c("0x5b6")](x.bgaudioplay),null!=x[_0x4b1c("0xf1b")]&&x.hasOwnProperty("picscale")&&c[_0x4b1c("0x5b5")](34)[_0x4b1c("0xd")](x[_0x4b1c("0xf1b")]),null!=x[_0x4b1c("0xf1c")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf1c"))&&c[_0x4b1c("0x5b5")](42)[_0x4b1c("0xd")](x[_0x4b1c("0xf1c")]),null!=x[_0x4b1c("0xd4d")]&&x[_0x4b1c("0x1")]("Nodes"))for(var b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")]),_=0;_<b.length;++_)c[_0x4b1c("0x5b5")](50)[_0x4b1c("0xe29")]().uint32(8)[_0x4b1c("0x5b6")](b[_]),o.ESMap.PicNodeSet[_0x4b1c("0x5b4")](x[_0x4b1c("0xd4d")][b[_]],c[_0x4b1c("0x5b5")](18)[_0x4b1c("0xe29")]())[_0x4b1c("0xe2b")]()[_0x4b1c("0xe2b")]();if(null!=x[_0x4b1c("0xf17")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf17")))for(b=(0,e[_0x4b1c("0xc")])(x.Infos),_=0;_<b[_0x4b1c("0x0")];++_)c[_0x4b1c("0x5b5")](58)[_0x4b1c("0xe29")]()[_0x4b1c("0x5b5")](8).int32(b[_]),o[_0x4b1c("0x32")][_0x4b1c("0xf1d")][_0x4b1c("0x5b4")](x[_0x4b1c("0xf17")][b[_]],c[_0x4b1c("0x5b5")](18)[_0x4b1c("0xe29")]())[_0x4b1c("0xe2b")]()[_0x4b1c("0xe2b")]();return c},x.encodeDelimited=function(x,c){return this.encode(x,c)[_0x4b1c("0xe2b")]()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b,_=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,e=new(o[_0x4b1c("0x32")][_0x4b1c("0xece")]);x.pos<_;){var t=x[_0x4b1c("0x5b5")]();switch(t>>>3){case 1:e[_0x4b1c("0xf18")]=x.string();break;case 2:e.bgaudio=x[_0x4b1c("0xd")]();break;case 3:e.bgaudioplay=x[_0x4b1c("0x5b6")]();break;case 4:e[_0x4b1c("0xf1b")]=x[_0x4b1c("0xd")]();break;case 5:e.msgscale=x[_0x4b1c("0xd")]();break;case 6:x[_0x4b1c("0xe2d")]()[_0x4b1c("0x434")]++,e[_0x4b1c("0xd4d")]===s[_0x4b1c("0xe28")]&&(e[_0x4b1c("0xd4d")]={}),b=x[_0x4b1c("0x5b6")](),x[_0x4b1c("0x434")]++,e[_0x4b1c("0xd4d")][b]=o.ESMap[_0x4b1c("0xf1e")][_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]());break;case 7:x[_0x4b1c("0xe2d")]()[_0x4b1c("0x434")]++,e[_0x4b1c("0xf17")]===s[_0x4b1c("0xe28")]&&(e[_0x4b1c("0xf17")]={}),b=x[_0x4b1c("0x5b6")](),x[_0x4b1c("0x434")]++,e[_0x4b1c("0xf17")][b]=o.ESMap[_0x4b1c("0xf1d")][_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]());break;default:x.skipType(7&t)}}return e},x.decodeDelimited=function(x){return x instanceof n||(x=n(x)),this.decode(x,x[_0x4b1c("0x5b5")]())},x[_0x4b1c("0x5c3")]=function(x){if("object"!==(typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))||null===x)return _0x4b1c("0x5c4");if(null!=x[_0x4b1c("0xf18")]&&x.hasOwnProperty(_0x4b1c("0xf18"))&&!s.isString(x[_0x4b1c("0xf18")]))return"serverurl: string expected";if(null!=x[_0x4b1c("0xf19")]&&x[_0x4b1c("0x1")]("bgaudio")&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xf19")]))return"bgaudio: string expected";if(null!=x[_0x4b1c("0xf1a")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf1a"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xf1a")]))return _0x4b1c("0xf1f");if(null!=x[_0x4b1c("0xf1b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf1b"))&&!s[_0x4b1c("0x367")](x.picscale))return _0x4b1c("0xf20");if(null!=x[_0x4b1c("0xf1c")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf1c"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xf1c")]))return _0x4b1c("0xf21");if(null!=x.Nodes&&x.hasOwnProperty(_0x4b1c("0xd4d"))){if(!s[_0x4b1c("0x17")](x[_0x4b1c("0xd4d")]))return"Nodes: object expected";for(var c=(0,e.default)(x[_0x4b1c("0xd4d")]),b=0;b<c[_0x4b1c("0x0")];++b){if(!s[_0x4b1c("0xe36")][_0x4b1c("0x2a")](c[b]))return"Nodes: integer key{k:int32} expected";if(t=o.ESMap.PicNodeSet[_0x4b1c("0x5c3")](x[_0x4b1c("0xd4d")][c[b]]))return _0x4b1c("0xe6e")+t}}if(null!=x[_0x4b1c("0xf17")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf17"))){if(!s[_0x4b1c("0x17")](x.Infos))return _0x4b1c("0xf22");for(c=(0,e.default)(x[_0x4b1c("0xf17")]),b=0;b<c[_0x4b1c("0x0")];++b){if(!s.key32Re[_0x4b1c("0x2a")](c[b]))return _0x4b1c("0xf23");var t;if(t=o.ESMap[_0x4b1c("0xf1d")][_0x4b1c("0x5c3")](x[_0x4b1c("0xf17")][c[b]]))return _0x4b1c("0xf24")+t}}return null},x.fromObject=function(x){if(x instanceof o[_0x4b1c("0x32")][_0x4b1c("0xece")])return x;var c=new(o[_0x4b1c("0x32")][_0x4b1c("0xece")]);if(null!=x.serverurl&&(c[_0x4b1c("0xf18")]=String(x[_0x4b1c("0xf18")])),null!=x[_0x4b1c("0xf19")]&&(c.bgaudio=String(x[_0x4b1c("0xf19")])),null!=x[_0x4b1c("0xf1a")]&&(c[_0x4b1c("0xf1a")]=0|x[_0x4b1c("0xf1a")]),null!=x[_0x4b1c("0xf1b")]&&(c.picscale=String(x.picscale)),null!=x[_0x4b1c("0xf1c")]&&(c[_0x4b1c("0xf1c")]=String(x[_0x4b1c("0xf1c")])),x[_0x4b1c("0xd4d")]){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xf25"));c.Nodes={};for(var b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")]),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")][b[t]])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xf25"));c[_0x4b1c("0xd4d")][b[t]]=o.ESMap[_0x4b1c("0xf1e")][_0x4b1c("0xe3a")](x[_0x4b1c("0xd4d")][b[t]])}}if(x[_0x4b1c("0xf17")]){if((0,_.default)(x[_0x4b1c("0xf17")])!==_0x4b1c("0x1d"))throw TypeError(_0x4b1c("0xf26"));for(c[_0x4b1c("0xf17")]={},b=(0,e.default)(x[_0x4b1c("0xf17")]),t=0;t<b[_0x4b1c("0x0")];++t){if((0,_[_0x4b1c("0xc")])(x.Infos[b[t]])!==_0x4b1c("0x1d"))throw TypeError(".ESMap.PicSet.Infos: object expected");c[_0x4b1c("0xf17")][b[t]]=o[_0x4b1c("0x32")][_0x4b1c("0xf1d")][_0x4b1c("0xe3a")](x[_0x4b1c("0xf17")][b[t]])}}return c},x.from=x[_0x4b1c("0xe3a")],x.toObject=function(x,c){c||(c={});var b,_={};if((c[_0x4b1c("0x74a")]||c[_0x4b1c("0x5ed")])&&(_[_0x4b1c("0xd4d")]={},_[_0x4b1c("0xf17")]={}),c[_0x4b1c("0x5ed")]&&(_[_0x4b1c("0xf18")]="",_[_0x4b1c("0xf19")]="",_[_0x4b1c("0xf1a")]=0,_[_0x4b1c("0xf1b")]="",_[_0x4b1c("0xf1c")]=""),null!=x[_0x4b1c("0xf18")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf18"))&&(_[_0x4b1c("0xf18")]=x.serverurl),null!=x.bgaudio&&x[_0x4b1c("0x1")](_0x4b1c("0xf19"))&&(_[_0x4b1c("0xf19")]=x[_0x4b1c("0xf19")]),null!=x[_0x4b1c("0xf1a")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf1a"))&&(_.bgaudioplay=x[_0x4b1c("0xf1a")]),null!=x[_0x4b1c("0xf1b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf1b"))&&(_[_0x4b1c("0xf1b")]=x[_0x4b1c("0xf1b")]),null!=x[_0x4b1c("0xf1c")]&&x[_0x4b1c("0x1")]("msgscale")&&(_[_0x4b1c("0xf1c")]=x[_0x4b1c("0xf1c")]),x[_0x4b1c("0xd4d")]&&(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xd4d")]))[_0x4b1c("0x0")]){_[_0x4b1c("0xd4d")]={};for(var t=0;t<b[_0x4b1c("0x0")];++t)_[_0x4b1c("0xd4d")][b[t]]=o[_0x4b1c("0x32")][_0x4b1c("0xf1e")].toObject(x[_0x4b1c("0xd4d")][b[t]],c)}if(x[_0x4b1c("0xf17")]&&(b=(0,e[_0x4b1c("0xc")])(x[_0x4b1c("0xf17")])).length)for(_[_0x4b1c("0xf17")]={},t=0;t<b[_0x4b1c("0x0")];++t)_[_0x4b1c("0xf17")][b[t]]=o[_0x4b1c("0x32")].PicClickSet.toObject(x[_0x4b1c("0xf17")][b[t]],c);return _},x[_0x4b1c("0xf")][_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x[_0x4b1c("0xf")].toJSON=function(){return this[_0x4b1c("0x5f0")].toObject(this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i.PicNodeSet=function(){function x(x){if(this[_0x4b1c("0xf27")]=[],this.idlist2=[],x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c[_0x4b1c("0x0")];++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")][_0x4b1c("0xc0b")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x4e")]="",x[_0x4b1c("0xf")][_0x4b1c("0xf28")]=0,x.prototype.X=0,x[_0x4b1c("0xf")].Y=0,x[_0x4b1c("0xf")][_0x4b1c("0xf27")]=s[_0x4b1c("0xec7")],x[_0x4b1c("0xf")].idlist2=s[_0x4b1c("0xec7")],x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){if(c||(c=r[_0x4b1c("0x5b3")]()),null!=x[_0x4b1c("0xc0b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xc0b"))&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x[_0x4b1c("0xc0b")]),null!=x._id&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&c[_0x4b1c("0x5b5")](16).int32(x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x4e")]&&x[_0x4b1c("0x1")](_0x4b1c("0x4e"))&&c[_0x4b1c("0x5b5")](26)[_0x4b1c("0xd")](x[_0x4b1c("0x4e")]),null!=x[_0x4b1c("0xf28")]&&x.hasOwnProperty(_0x4b1c("0xf28"))&&c[_0x4b1c("0x5b5")](32).int32(x[_0x4b1c("0xf28")]),null!=x.X&&x[_0x4b1c("0x1")]("X")&&c[_0x4b1c("0x5b5")](41)[_0x4b1c("0x5b8")](x.X),null!=x.Y&&x[_0x4b1c("0x1")]("Y")&&c[_0x4b1c("0x5b5")](49)[_0x4b1c("0x5b8")](x.Y),null!=x[_0x4b1c("0xf27")]&&x.idlist1[_0x4b1c("0x0")]){c[_0x4b1c("0x5b5")](58).fork();for(var b=0;b<x[_0x4b1c("0xf27")][_0x4b1c("0x0")];++b)c[_0x4b1c("0x5b6")](x.idlist1[b]);c[_0x4b1c("0xe2b")]()}if(null!=x.idlist2&&x[_0x4b1c("0xf29")][_0x4b1c("0x0")]){for(c[_0x4b1c("0x5b5")](66).fork(),b=0;b<x[_0x4b1c("0xf29")][_0x4b1c("0x0")];++b)c.int32(x.idlist2[b]);c[_0x4b1c("0xe2b")]()}return c},x.encodeDelimited=function(x,c){return this[_0x4b1c("0x5b4")](x,c).ldelim()},x[_0x4b1c("0x4b")]=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x[_0x4b1c("0x5bf")]:x.pos+c,_=new(o[_0x4b1c("0x32")][_0x4b1c("0xf1e")]);x[_0x4b1c("0x434")]<b;){var e=x[_0x4b1c("0x5b5")]();switch(e>>>3){case 1:_.floornum=x[_0x4b1c("0x5b6")]();break;case 2:_[_0x4b1c("0x3d8")]=x[_0x4b1c("0x5b6")]();break;case 3:_[_0x4b1c("0x4e")]=x[_0x4b1c("0xd")]();break;case 4:_[_0x4b1c("0xf28")]=x[_0x4b1c("0x5b6")]();break;case 5:_.X=x.double();break;case 6:_.Y=x.double();break;case 7:if(_[_0x4b1c("0xf27")]&&_.idlist1[_0x4b1c("0x0")]||(_[_0x4b1c("0xf27")]=[]),2==(7&e))for(var t=x[_0x4b1c("0x5b5")]()+x.pos;x[_0x4b1c("0x434")]<t;)_[_0x4b1c("0xf27")][_0x4b1c("0x12")](x.int32());else _[_0x4b1c("0xf27")][_0x4b1c("0x12")](x[_0x4b1c("0x5b6")]());break;case 8:if(_[_0x4b1c("0xf29")]&&_[_0x4b1c("0xf29")][_0x4b1c("0x0")]||(_[_0x4b1c("0xf29")]=[]),2==(7&e))for(t=x.uint32()+x.pos;x.pos<t;)_[_0x4b1c("0xf29")].push(x[_0x4b1c("0x5b6")]());else _[_0x4b1c("0xf29")][_0x4b1c("0x12")](x.int32());break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]())},x[_0x4b1c("0x5c3")]=function(x){if((void 0===x?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))!==_0x4b1c("0x1d")||null===x)return _0x4b1c("0x5c4");if(null!=x[_0x4b1c("0xc0b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xc0b"))&&!s[_0x4b1c("0x5c5")](x.floornum))return _0x4b1c("0xeeb");if(null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty(_0x4b1c("0x3d8"))&&!s[_0x4b1c("0x5c5")](x._id))return _0x4b1c("0x5c8");if(null!=x.url&&x[_0x4b1c("0x1")](_0x4b1c("0x4e"))&&!s.isString(x.url))return _0x4b1c("0xf2a");if(null!=x[_0x4b1c("0xf28")]&&x.hasOwnProperty("base")&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xf28")]))return"base: integer expected";if(null!=x.X&&x[_0x4b1c("0x1")]("X")&&typeof x.X!==_0x4b1c("0x18f"))return"X: number expected";if(null!=x.Y&&x.hasOwnProperty("Y")&&"number"!=typeof x.Y)return _0x4b1c("0xe65");if(null!=x.idlist1&&x[_0x4b1c("0x1")](_0x4b1c("0xf27"))){if(!Array[_0x4b1c("0x32f")](x[_0x4b1c("0xf27")]))return _0x4b1c("0xf2b");for(var c=0;c<x[_0x4b1c("0xf27")].length;++c)if(!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xf27")][c]))return _0x4b1c("0xf2c")}if(null!=x.idlist2&&x[_0x4b1c("0x1")](_0x4b1c("0xf29"))){if(!Array[_0x4b1c("0x32f")](x[_0x4b1c("0xf29")]))return _0x4b1c("0xf2d");for(c=0;c<x[_0x4b1c("0xf29")].length;++c)if(!s[_0x4b1c("0x5c5")](x[_0x4b1c("0xf29")][c]))return _0x4b1c("0xf2e")}return null},x[_0x4b1c("0xe3a")]=function(x){if(x instanceof o[_0x4b1c("0x32")][_0x4b1c("0xf1e")])return x;var c=new(o[_0x4b1c("0x32")].PicNodeSet);if(null!=x[_0x4b1c("0xc0b")]&&(c[_0x4b1c("0xc0b")]=0|x[_0x4b1c("0xc0b")]),null!=x[_0x4b1c("0x3d8")]&&(c._id=0|x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x4e")]&&(c[_0x4b1c("0x4e")]=String(x[_0x4b1c("0x4e")])),null!=x[_0x4b1c("0xf28")]&&(c.base=0|x[_0x4b1c("0xf28")]),null!=x.X&&(c.X=Number(x.X)),null!=x.Y&&(c.Y=Number(x.Y)),x[_0x4b1c("0xf27")]){if(!Array[_0x4b1c("0x32f")](x[_0x4b1c("0xf27")]))throw TypeError(_0x4b1c("0xf2f"));c[_0x4b1c("0xf27")]=[];for(var b=0;b<x[_0x4b1c("0xf27")][_0x4b1c("0x0")];++b)c[_0x4b1c("0xf27")][b]=0|x[_0x4b1c("0xf27")][b]}if(x[_0x4b1c("0xf29")]){if(!Array[_0x4b1c("0x32f")](x[_0x4b1c("0xf29")]))throw TypeError(_0x4b1c("0xf30"));for(c[_0x4b1c("0xf29")]=[],b=0;b<x[_0x4b1c("0xf29")][_0x4b1c("0x0")];++b)c[_0x4b1c("0xf29")][b]=0|x[_0x4b1c("0xf29")][b]}return c},x[_0x4b1c("0x2bf")]=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};if((c[_0x4b1c("0xee6")]||c[_0x4b1c("0x5ed")])&&(b[_0x4b1c("0xf27")]=[],b[_0x4b1c("0xf29")]=[]),c[_0x4b1c("0x5ed")]&&(b[_0x4b1c("0xc0b")]=0,b[_0x4b1c("0x3d8")]=0,b[_0x4b1c("0x4e")]="",b.base=0,b.X=0,b.Y=0),null!=x[_0x4b1c("0xc0b")]&&x.hasOwnProperty("floornum")&&(b.floornum=x[_0x4b1c("0xc0b")]),null!=x[_0x4b1c("0x3d8")]&&x.hasOwnProperty(_0x4b1c("0x3d8"))&&(b[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0x4e")]&&x.hasOwnProperty(_0x4b1c("0x4e"))&&(b[_0x4b1c("0x4e")]=x[_0x4b1c("0x4e")]),null!=x.base&&x.hasOwnProperty(_0x4b1c("0xf28"))&&(b[_0x4b1c("0xf28")]=x[_0x4b1c("0xf28")]),null!=x.X&&x[_0x4b1c("0x1")]("X")&&(b.X=x.X),null!=x.Y&&x.hasOwnProperty("Y")&&(b.Y=x.Y),x[_0x4b1c("0xf27")]&&x.idlist1.length){b[_0x4b1c("0xf27")]=[];for(var _=0;_<x.idlist1[_0x4b1c("0x0")];++_)b[_0x4b1c("0xf27")][_]=x[_0x4b1c("0xf27")][_]}if(x[_0x4b1c("0xf29")]&&x[_0x4b1c("0xf29")].length)for(b[_0x4b1c("0xf29")]=[],_=0;_<x[_0x4b1c("0xf29")][_0x4b1c("0x0")];++_)b.idlist2[_]=x.idlist2[_];return b},x[_0x4b1c("0xf")][_0x4b1c("0x5ec")]=function(x){return this.constructor[_0x4b1c("0x5ec")](this,x)},x.prototype[_0x4b1c("0x5ef")]=function(){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i.PicClickSet=function(){function x(x){if(x)for(var c=(0,e[_0x4b1c("0xc")])(x),b=0;b<c.length;++b)null!=x[c[b]]&&(this[c[b]]=x[c[b]])}return x[_0x4b1c("0xf")][_0x4b1c("0xc0b")]=0,x[_0x4b1c("0xf")][_0x4b1c("0x3d8")]=0,x[_0x4b1c("0xf")][_0x4b1c("0xf31")]="",x[_0x4b1c("0xf")][_0x4b1c("0xf32")]="",x.prototype[_0x4b1c("0xf33")]="",x[_0x4b1c("0xf")].msgc="",x[_0x4b1c("0xf")].X=0,x[_0x4b1c("0xf")].Y=0,x[_0x4b1c("0xf")].Z=0,x[_0x4b1c("0xf")][_0x4b1c("0xf34")]="",x[_0x4b1c("0xf")][_0x4b1c("0xf35")]="",x[_0x4b1c("0x5b3")]=function(c){return new x(c)},x[_0x4b1c("0x5b4")]=function(x,c){return c||(c=r[_0x4b1c("0x5b3")]()),null!=x.floornum&&x[_0x4b1c("0x1")](_0x4b1c("0xc0b"))&&c[_0x4b1c("0x5b5")](8)[_0x4b1c("0x5b6")](x[_0x4b1c("0xc0b")]),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&c[_0x4b1c("0x5b5")](16)[_0x4b1c("0x5b6")](x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xf31")]&&x.hasOwnProperty("purl")&&c[_0x4b1c("0x5b5")](26)[_0x4b1c("0xd")](x[_0x4b1c("0xf31")]),null!=x[_0x4b1c("0xf32")]&&x.hasOwnProperty(_0x4b1c("0xf32"))&&c[_0x4b1c("0x5b5")](34).string(x[_0x4b1c("0xf32")]),null!=x[_0x4b1c("0xf33")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf33"))&&c[_0x4b1c("0x5b5")](42)[_0x4b1c("0xd")](x.msgt),null!=x[_0x4b1c("0xf36")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf36"))&&c.uint32(50)[_0x4b1c("0xd")](x.msgc),null!=x.X&&x.hasOwnProperty("X")&&c[_0x4b1c("0x5b5")](57)[_0x4b1c("0x5b8")](x.X),null!=x.Y&&x.hasOwnProperty("Y")&&c[_0x4b1c("0x5b5")](65).double(x.Y),null!=x.Z&&x[_0x4b1c("0x1")]("Z")&&c[_0x4b1c("0x5b5")](73)[_0x4b1c("0x5b8")](x.Z),null!=x[_0x4b1c("0xf34")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf34"))&&c.uint32(82)[_0x4b1c("0xd")](x[_0x4b1c("0xf34")]),null!=x[_0x4b1c("0xf35")]&&x.hasOwnProperty(_0x4b1c("0xf35"))&&c[_0x4b1c("0x5b5")](90)[_0x4b1c("0xd")](x[_0x4b1c("0xf35")]),c},x[_0x4b1c("0x5be")]=function(x,c){return this.encode(x,c)[_0x4b1c("0xe2b")]()},x.decode=function(x,c){x instanceof n||(x=n[_0x4b1c("0x5b3")](x));for(var b=void 0===c?x[_0x4b1c("0x5bf")]:x[_0x4b1c("0x434")]+c,_=new(o[_0x4b1c("0x32")][_0x4b1c("0xf1d")]);x.pos<b;){var e=x[_0x4b1c("0x5b5")]();switch(e>>>3){case 1:_.floornum=x[_0x4b1c("0x5b6")]();break;case 2:_[_0x4b1c("0x3d8")]=x.int32();break;case 3:_[_0x4b1c("0xf31")]=x[_0x4b1c("0xd")]();break;case 4:_[_0x4b1c("0xf32")]=x[_0x4b1c("0xd")]();break;case 5:_[_0x4b1c("0xf33")]=x.string();break;case 6:_[_0x4b1c("0xf36")]=x[_0x4b1c("0xd")]();break;case 7:_.X=x[_0x4b1c("0x5b8")]();break;case 8:_.Y=x[_0x4b1c("0x5b8")]();break;case 9:_.Z=x[_0x4b1c("0x5b8")]();break;case 10:_[_0x4b1c("0xf34")]=x.string();break;case 11:_[_0x4b1c("0xf35")]=x[_0x4b1c("0xd")]();break;default:x[_0x4b1c("0x5c0")](7&e)}}return _},x[_0x4b1c("0x5c2")]=function(x){return x instanceof n||(x=n(x)),this[_0x4b1c("0x4b")](x,x[_0x4b1c("0x5b5")]())},x[_0x4b1c("0x5c3")]=function(x){return(typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(x))!==_0x4b1c("0x1d")||null===x?_0x4b1c("0x5c4"):null!=x[_0x4b1c("0xc0b")]&&x[_0x4b1c("0x1")]("floornum")&&!s.isInteger(x[_0x4b1c("0xc0b")])?_0x4b1c("0xeeb"):null!=x._id&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&!s[_0x4b1c("0x5c5")](x[_0x4b1c("0x3d8")])?_0x4b1c("0x5c8"):null!=x[_0x4b1c("0xf31")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf31"))&&!s[_0x4b1c("0x367")](x.purl)?_0x4b1c("0xf37"):null!=x[_0x4b1c("0xf32")]&&x.hasOwnProperty(_0x4b1c("0xf32"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xf32")])?_0x4b1c("0xf38"):null!=x[_0x4b1c("0xf33")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf33"))&&!s.isString(x[_0x4b1c("0xf33")])?_0x4b1c("0xf39"):null!=x[_0x4b1c("0xf36")]&&x.hasOwnProperty(_0x4b1c("0xf36"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xf36")])?_0x4b1c("0xf3a"):null!=x.X&&x.hasOwnProperty("X")&&typeof x.X!==_0x4b1c("0x18f")?_0x4b1c("0xe64"):null!=x.Y&&x[_0x4b1c("0x1")]("Y")&&typeof x.Y!==_0x4b1c("0x18f")?_0x4b1c("0xe65"):null!=x.Z&&x[_0x4b1c("0x1")]("Z")&&typeof x.Z!==_0x4b1c("0x18f")?_0x4b1c("0xe79"):null!=x.curl&&x[_0x4b1c("0x1")](_0x4b1c("0xf34"))&&!s.isString(x[_0x4b1c("0xf34")])?"curl: string expected":null!=x[_0x4b1c("0xf35")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf35"))&&!s[_0x4b1c("0x367")](x[_0x4b1c("0xf35")])?_0x4b1c("0xf3b"):null},x.fromObject=function(x){if(x instanceof o[_0x4b1c("0x32")][_0x4b1c("0xf1d")])return x;var c=new(o[_0x4b1c("0x32")].PicClickSet);return null!=x[_0x4b1c("0xc0b")]&&(c[_0x4b1c("0xc0b")]=0|x[_0x4b1c("0xc0b")]),null!=x[_0x4b1c("0x3d8")]&&(c[_0x4b1c("0x3d8")]=0|x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xf31")]&&(c[_0x4b1c("0xf31")]=String(x[_0x4b1c("0xf31")])),null!=x[_0x4b1c("0xf32")]&&(c[_0x4b1c("0xf32")]=String(x[_0x4b1c("0xf32")])),null!=x[_0x4b1c("0xf33")]&&(c[_0x4b1c("0xf33")]=String(x.msgt)),null!=x.msgc&&(c[_0x4b1c("0xf36")]=String(x[_0x4b1c("0xf36")])),null!=x.X&&(c.X=Number(x.X)),null!=x.Y&&(c.Y=Number(x.Y)),null!=x.Z&&(c.Z=Number(x.Z)),null!=x[_0x4b1c("0xf34")]&&(c.curl=String(x[_0x4b1c("0xf34")])),null!=x[_0x4b1c("0xf35")]&&(c.csize=String(x.csize)),c},x[_0x4b1c("0x2bf")]=x[_0x4b1c("0xe3a")],x[_0x4b1c("0x5ec")]=function(x,c){c||(c={});var b={};return c[_0x4b1c("0x5ed")]&&(b[_0x4b1c("0xc0b")]=0,b[_0x4b1c("0x3d8")]=0,b[_0x4b1c("0xf31")]="",b[_0x4b1c("0xf32")]="",b.msgt="",b[_0x4b1c("0xf36")]="",b.X=0,b.Y=0,b.Z=0,b[_0x4b1c("0xf34")]="",b[_0x4b1c("0xf35")]=""),null!=x[_0x4b1c("0xc0b")]&&x[_0x4b1c("0x1")](_0x4b1c("0xc0b"))&&(b[_0x4b1c("0xc0b")]=x[_0x4b1c("0xc0b")]),null!=x[_0x4b1c("0x3d8")]&&x[_0x4b1c("0x1")](_0x4b1c("0x3d8"))&&(b[_0x4b1c("0x3d8")]=x[_0x4b1c("0x3d8")]),null!=x[_0x4b1c("0xf31")]&&x.hasOwnProperty("purl")&&(b[_0x4b1c("0xf31")]=x[_0x4b1c("0xf31")]),null!=x[_0x4b1c("0xf32")]&&x[_0x4b1c("0x1")]("aurl")&&(b[_0x4b1c("0xf32")]=x[_0x4b1c("0xf32")]),null!=x[_0x4b1c("0xf33")]&&x.hasOwnProperty(_0x4b1c("0xf33"))&&(b[_0x4b1c("0xf33")]=x[_0x4b1c("0xf33")]),null!=x[_0x4b1c("0xf36")]&&x.hasOwnProperty(_0x4b1c("0xf36"))&&(b[_0x4b1c("0xf36")]=x.msgc),null!=x.X&&x.hasOwnProperty("X")&&(b.X=x.X),null!=x.Y&&x[_0x4b1c("0x1")]("Y")&&(b.Y=x.Y),null!=x.Z&&x.hasOwnProperty("Z")&&(b.Z=x.Z),null!=x.curl&&x[_0x4b1c("0x1")](_0x4b1c("0xf34"))&&(b[_0x4b1c("0xf34")]=x[_0x4b1c("0xf34")]),null!=x[_0x4b1c("0xf35")]&&x[_0x4b1c("0x1")](_0x4b1c("0xf35"))&&(b[_0x4b1c("0xf35")]=x[_0x4b1c("0xf35")]),b},x[_0x4b1c("0xf")][_0x4b1c("0x5ec")]=function(x){return this[_0x4b1c("0x5f0")][_0x4b1c("0x5ec")](this,x)},x.prototype[_0x4b1c("0x5ef")]=function(){return this.constructor.toObject(this,a[_0x4b1c("0x599")][_0x4b1c("0x5f1")])},x}(),i),x[_0x4b1c("0x6")]=o},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=a(b(9)),e=a(b(2)),t=a(b(0)),i=a(b(1));function a(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var n=function(){function x(c){(0,t.default)(this,x),this[_0x4b1c("0x7e")]=c,this[_0x4b1c("0xeab")]=null,this[_0x4b1c("0xf3c")]={default:null,userData:null},this[_0x4b1c("0xaf5")]={default:{meter:"米"},userData:null},this[_0x4b1c("0x678")]=_0x4b1c("0xf3d"),this[_0x4b1c("0xf3e")]=this[_0x4b1c("0xf3f")](this[_0x4b1c("0x678")]);this[_0x4b1c("0xf3c")].default={"上行":"上行","下行":"下行","导航结束":_0x4b1c("0xf40"),"即将到达目的地":_0x4b1c("0xf41"),"感谢使用易景三维场景导航":_0x4b1c("0xf42"),"左转":"左转","右转":"右转","后":"后","右后转":_0x4b1c("0xf43"),"左后转":_0x4b1c("0xf44"),"左前方直行":_0x4b1c("0xf45"),"右前方直行":_0x4b1c("0xf46"),"到达目的地":_0x4b1c("0xf47"),"直行":"直行","左转后右转":"左转后右转","已重新规划路线":_0x4b1c("0xf48"),"右转后左转":_0x4b1c("0xf49"),"右转后右转":_0x4b1c("0xf4a"),"左转后左转":_0x4b1c("0xf4b"),"步行导航开始":_0x4b1c("0xf4c"),"进入室内":_0x4b1c("0xf4d"),"进入室外":_0x4b1c("0xf4e"),"车形导航开始":_0x4b1c("0xf4f"),A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z","负":"负","楼":"楼","进入":"进入","层":"层","目的地在道路左侧":"目的地在道路左侧","目的地在道路右侧":_0x4b1c("0xf50"),"坡道":"坡道","前往":"前往","请减速":_0x4b1c("0xf51"),"后退":"后退","楼梯":"楼梯","电梯":"电梯","扶梯":"扶梯","米":"米","十":"十","百":"百","千":"千",",":","}}return(0,i[_0x4b1c("0xc")])(x,[{key:"stringtoChar",value:function(x){for(var c=[],b=0;b<x[_0x4b1c("0x0")];b++)c[b]=x[_0x4b1c("0x2d")](b);return c}},{key:_0x4b1c("0xaf0"),value:function(x){x?(this[_0x4b1c("0xf3c")][_0x4b1c("0x165")]={},(0,e[_0x4b1c("0xc")])(this[_0x4b1c("0xf3c")].userData,x)):this[_0x4b1c("0xf3c")].userData=null}},{key:_0x4b1c("0xaf2"),value:function(x){x?(this[_0x4b1c("0xaf5")][_0x4b1c("0x165")]={},(0,e.default)(this[_0x4b1c("0xaf5")][_0x4b1c("0x165")],x)):this[_0x4b1c("0xaf5")].userData=null}},{key:_0x4b1c("0x4b"),value:function(x){for(var c="",b=this[_0x4b1c("0xf3f")](x),_=0;_<b.length;_++){for(var e=0;e<this[_0x4b1c("0xf3e")].length;e++)b[_]=b[_]^this.keyBytes[e];c+=String[_0x4b1c("0x10f")](b[_])}return c}},{key:_0x4b1c("0xcb4"),value:function(x){var c=this;return new _.default((function(b){if(c[_0x4b1c("0x7e")][_0x4b1c("0x3e")].options[_0x4b1c("0xa3")]){var _=c[_0x4b1c("0x7e")].map[_0x4b1c("0x47")].mapDataSrc+x+"/"+x+".ESLang.json";esmap[_0x4b1c("0x5f6")][_0x4b1c("0x486")]({url:_}).success((function(x){c[_0x4b1c("0xeab")]=JSON[_0x4b1c("0x71")](c.decode(x)),b()}))}else b()}))}},{key:_0x4b1c("0xf52"),value:function(x){return(this[_0x4b1c("0xf3c")][_0x4b1c("0x165")]?this[_0x4b1c("0xf3c")].userData[x]?this[_0x4b1c("0xf3c")][_0x4b1c("0x165")][x]:this[_0x4b1c("0xf3c")].default[x]:this.navLib[_0x4b1c("0xc")][x])||x}},{key:"getDesFromGeneralLib",value:function(x){return this[_0x4b1c("0xaf5")].userData?this[_0x4b1c("0xaf5")][_0x4b1c("0x165")][x]?this[_0x4b1c("0xaf5")][_0x4b1c("0x165")][x]:this[_0x4b1c("0xaf5")][_0x4b1c("0xc")][x]:this.generalLib[_0x4b1c("0xc")][x]}},{key:_0x4b1c("0xf53"),value:function(){}}]),x}();c[_0x4b1c("0xc")]=n},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0}),c[_0x4b1c("0xf54")]=void 0;var _=t(b(0)),e=t(b(1));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x3e")]=c,this[_0x4b1c("0x74a")]=[],this[_0x4b1c("0xf55")]={},this.waitings=[],this[_0x4b1c("0x39")]()}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0xdd"),value:function(x){var c=x[_0x4b1c("0xf0")];this.objects[_0x4b1c("0x12")]({uuid:c.uuid,model:x,lod:0,targetLod:0,rank:1/0})}},{key:_0x4b1c("0xf56"),value:function(){if(0!=this[_0x4b1c("0x74a")][_0x4b1c("0x0")]){var x=150,c=50,b=this[_0x4b1c("0x3e")].currentCamera[_0x4b1c("0x105")],_={0:[],1:[],2:[]},e=[],t=this[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0x3c2")],i=this[_0x4b1c("0x3e")][_0x4b1c("0x672")].map((function(x){return x.id})),a=this[_0x4b1c("0x3e")].getBuilding();if(a){for(var n,r=a.modelLoadManager.frustum,s=0;s<this[_0x4b1c("0x74a")][_0x4b1c("0x0")];s++){var o=this[_0x4b1c("0x74a")][s],f=o[_0x4b1c("0x1e6")];if(f[_0x4b1c("0xf0")]){var l=o[_0x4b1c("0x1e6")][_0x4b1c("0xa4")];if(t[_0x4b1c("0x63")](l)&&i[_0x4b1c("0x63")](l)){var d=f[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x2f4")],u=d[_0x4b1c("0xf57")](b);if(u>=3500)0!=o[_0x4b1c("0x2e4")]&&(o[_0x4b1c("0xf58")]=0,e.push(o));else{r[_0x4b1c("0x92f")](d)||(u+=u/2);var h=(n=u)<=500?2:n<=2e3?1:0;o.targetLod=h,o[_0x4b1c("0x3ff")]=u,o[_0x4b1c("0xf58")]!=o.lod&&_[h][_0x4b1c("0x12")](o)}}}}return _[1][_0x4b1c("0x0")]>x&&(_[1]=_[1][_0x4b1c("0x42b")]((function(x,c){return x.rank-c.rank}))[_0x4b1c("0x1e5")](0,x)),_[2][_0x4b1c("0x0")]>c&&(_[2]=_[2][_0x4b1c("0x42b")]((function(x,c){return x.rank-c[_0x4b1c("0x3ff")]}))[_0x4b1c("0x1e5")](0,c)),_[0][_0x4b1c("0x42b")]((function(x,c){return x[_0x4b1c("0x3ff")]-c[_0x4b1c("0x3ff")]})),_[0]=_[0][_0x4b1c("0x1e5")](50,_[0][_0x4b1c("0x0")]-1),_[0][_0x4b1c("0x377")](_[1])[_0x4b1c("0x377")](_[2])[_0x4b1c("0x377")](e)}}}},{key:_0x4b1c("0xf59"),value:function(x){if(x&&0!=x.length)for(var c=this[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0xca3")],b=this.map[_0x4b1c("0x566")]().modelLoadManager,_=0;_<x.length;_++){var e=x[_],t=e[_0x4b1c("0x1e6")],i=e[_0x4b1c("0x2e4")],a=e[_0x4b1c("0xf58")],n=t[_0x4b1c("0x1ff")];if(t.o3d_){var r=this.caches[e[_0x4b1c("0x195")]];if(r&&r[e[_0x4b1c("0xf58")]]){var s=r[e[_0x4b1c("0xf58")]];n[_0x4b1c("0x108")].remove(n),r[i]||(r[i]=n),t[_0x4b1c("0xf0")][_0x4b1c("0xdd")](s),t[_0x4b1c("0x1ff")]=s,e[_0x4b1c("0x2e4")]=a}else{var o=t[_0x4b1c("0x2e3")]+_0x4b1c("0x2e4")+e.targetLod+_0x4b1c("0x82"),f=this.map[_0x4b1c("0x7e")][_0x4b1c("0x2a2")][o];if(f){n.parent[_0x4b1c("0x2ea")](n),r||(r={},this[_0x4b1c("0xf55")][e[_0x4b1c("0x195")]]=r),r[i]||(r[i]=n);var l=f[_0x4b1c("0x2e5")][_0x4b1c("0x102")][_0x4b1c("0x13e")](!0);(new THREE.Box3)[_0x4b1c("0x2e6")](l).getCenter(l[_0x4b1c("0x105")]),l[_0x4b1c("0x105")][_0x4b1c("0x253")](-1),t[_0x4b1c("0xf0")][_0x4b1c("0xdd")](l),t[_0x4b1c("0x1ff")]=l,r[a]||(r[a]=l),e[_0x4b1c("0x2e4")]=a}else{if(!c[o]){var d=t.model.replace(_0x4b1c("0x82"),"");0==a&&(a="");var u=t[_0x4b1c("0x2e3")]+_0x4b1c("0x2e4")+a,h=t.url[_0x4b1c("0x2e8")](d,u);b[_0x4b1c("0x2e9")](o,h,(function(x){}))}this[_0x4b1c("0xf5a")].push({target:e,model:o})}}}}}},{key:_0x4b1c("0x39"),value:function(){var x=this;this.map.on(_0x4b1c("0x3c0"),(function(){x[_0x4b1c("0xf59")](x[_0x4b1c("0xf56")]())})),this[_0x4b1c("0x3e")].on(_0x4b1c("0x164"),(function(){if(x.waitings[_0x4b1c("0x0")]>0){for(var c=x.map[_0x4b1c("0x7e")].modelStore,b=[],_=0;_<x.waitings[_0x4b1c("0x0")];_++){var e=x.waitings[_];c[e[_0x4b1c("0x1e6")]]&&(b[_0x4b1c("0x12")](e),x[_0x4b1c("0xf5a")][_0x4b1c("0x5")](_,1),_--)}b[_0x4b1c("0x0")]>0&&x[_0x4b1c("0xf59")](b[_0x4b1c("0x3e")]((function(x){return x[_0x4b1c("0x2c7")]})))}}))}},{key:_0x4b1c("0x2e2"),value:function(x){var c=this;if(!(x<0||x>2)&&x!==this[_0x4b1c("0x1ef")]){0==x&&(x="");var b=this[_0x4b1c("0x2e3")]+_0x4b1c("0x2e4")+x+_0x4b1c("0x82"),_=this[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x2a2")][b];if(_){this[_0x4b1c("0x1ff")][_0x4b1c("0x108")][_0x4b1c("0x2ea")](this[_0x4b1c("0x1ff")]);var e=_[_0x4b1c("0x2e5")][_0x4b1c("0x102")][_0x4b1c("0x13e")](!0);(new THREE.Box3)[_0x4b1c("0x2e6")](e)[_0x4b1c("0x2e7")](e[_0x4b1c("0x105")]),e[_0x4b1c("0x105")][_0x4b1c("0x253")](-1),this.child=e,this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](e),this[_0x4b1c("0x1ef")]=x}else{var t=this[_0x4b1c("0x1e6")][_0x4b1c("0x14c")](_0x4b1c("0x82"),""),i=this[_0x4b1c("0x2e3")]+"lod"+x,a=this[_0x4b1c("0x4e")][_0x4b1c("0x2e8")](t,i);this[_0x4b1c("0x26b")][_0x4b1c("0xda1")][b]||this.modelLoadManager[_0x4b1c("0x2e9")](b,a,(function(b){c[_0x4b1c("0x1ff")][_0x4b1c("0x108")].remove(c[_0x4b1c("0x1ff")]),c[_0x4b1c("0x1ff")]=null;var _=b.scene[_0x4b1c("0x13e")](!0);(new THREE.Box3)[_0x4b1c("0x2e6")](_).getCenter(_.position),_[_0x4b1c("0x105")].multiplyScalar(-1),c[_0x4b1c("0x1ff")]=_,c.o3d_.add(_),c[_0x4b1c("0x1ef")]=x}))}}}}]),x}();c[_0x4b1c("0xf54")]=i},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=n(b(15)),e=n(b(9)),t=n(b(0)),i=n(b(1)),a=b(156);function n(x){return x&&x.__esModule?x:{default:x}}var r=function(){function x(c){var b=c.speed,_=void 0===b?1:b,e=c[_0x4b1c("0x84")],i=void 0===e?_0x4b1c("0xf5b"):e;(0,t.default)(this,x),this[_0x4b1c("0x2d8")]=_,this.sound=null,this[_0x4b1c("0xf5c")]=null,this[_0x4b1c("0xf5d")]=[];this[_0x4b1c("0xf5e")]={"1.0":7e3,1.1:8e3}[i],this[_0x4b1c("0xf5f")]=!1,this.isLoaded=!1,this[_0x4b1c("0xf60")]=!1,this[_0x4b1c("0xf61")]=0,this[_0x4b1c("0xf62")]=-1,this.sprite={},this[_0x4b1c("0xf63")]=[],this.endHandler=function(){if(this.playIndex>=this.playLength)this[_0x4b1c("0x19b")](),this[_0x4b1c("0xf5f")]=!1;else{var x=this.spriteArray[this[_0x4b1c("0xf61")]++];this[_0x4b1c("0xf64")].play(x)}}.bind(this)}return(0,i[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0xf65"),value:function(x){var c=this;return new e.default((function(b,_){var e=new XMLHttpRequest;e[_0x4b1c("0x2dd")]("GET",x,!0),e[_0x4b1c("0x491")]=_0x4b1c("0x492"),e.onload=function(x){c[_0x4b1c("0xf66")]=!0,b(this[_0x4b1c("0x4a3")])},e[_0x4b1c("0x49a")]()}))}},{key:_0x4b1c("0x39"),value:function(x,c){var b=this;this[_0x4b1c("0xf65")](x).then((function(_){b.loadSoundArrayBuffer(_,x),c&&c()}))[_0x4b1c("0x87c")]((function(x){console.info(esmap.ESInfo[_0x4b1c("0xf67")],x)}))}},{key:_0x4b1c("0xf68"),value:function(x,c){this[_0x4b1c("0xf69")]=new Uint8Array(x);var b=x[_0x4b1c("0x765")],_=this[_0x4b1c("0xf6a")](this.dataBytes,b-this[_0x4b1c("0xf5e")],b-1),e=this[_0x4b1c("0xf6b")](_[_0x4b1c("0xf6c")])[_0x4b1c("0x2c")]("}]")[0]+"}]";this[_0x4b1c("0xf5c")]=JSON[_0x4b1c("0x71")](e);for(var t=0,i=this[_0x4b1c("0xf5c")][_0x4b1c("0x0")];t<i;t++){var n=this[_0x4b1c("0xf5c")][t],r=this[_0x4b1c("0xf6d")](n[_0x4b1c("0x1f7")])[_0x4b1c("0x14c")](".mp3","");this[_0x4b1c("0xf6e")][r]=[n[_0x4b1c("0xf6f")][0],n[_0x4b1c("0xf6f")][1]-400]}var s=this;this[_0x4b1c("0xf64")]=new(a[_0x4b1c("0xf70")])({src:[c],sprite:this[_0x4b1c("0xf6e")],rate:this[_0x4b1c("0x2d8")]}),this[_0x4b1c("0xf64")].once(_0x4b1c("0xf71"),(function(x){console[_0x4b1c("0x424")](_0x4b1c("0xf72")),s[_0x4b1c("0x780")]()})),this[_0x4b1c("0xf64")].once(_0x4b1c("0x187"),(function(){}))}},{key:_0x4b1c("0xf73"),value:function(x){switch(x){case _0x4b1c("0xf74"):this[_0x4b1c("0xf75")]([_0x4b1c("0xf4c")]);break;case _0x4b1c("0xf76"):this[_0x4b1c("0xf75")]([_0x4b1c("0xf4f")]);break;case _0x4b1c("0xf77"):this[_0x4b1c("0xf75")](["您可能已经偏离导航路线"])}}},{key:_0x4b1c("0xf78"),value:function(){var x=document[_0x4b1c("0x21")]("div");x[_0x4b1c("0x23")][_0x4b1c("0x105")]=_0x4b1c("0xf79"),x[_0x4b1c("0x23")][_0x4b1c("0x35b")]="20px",x[_0x4b1c("0x23")][_0x4b1c("0x359")]="0";var c=this,b=function(b){var _=document[_0x4b1c("0x21")](_0x4b1c("0x96e"));_[_0x4b1c("0x23")][_0x4b1c("0xf7a")]=_0x4b1c("0xf7b"),_[_0x4b1c("0x1d6")]=b,_[_0x4b1c("0x37")](_0x4b1c("0xa58"),(function(){c.sound.play(b)}),!1),x[_0x4b1c("0x1d7")](_)};for(var _ in this.sprite)b(_);document[_0x4b1c("0x26")][_0x4b1c("0x1d7")](x)}},{key:_0x4b1c("0xf7c"),value:function(){this.stop(),this[_0x4b1c("0xf64")][_0x4b1c("0x6b")](_0x4b1c("0x187")),this[_0x4b1c("0xf64")][_0x4b1c("0xf7d")]()}},{key:"playSprites",value:function(x){var c=this;if(x&&x[_0x4b1c("0x0")]>0&&this[_0x4b1c("0xf66")]){this[_0x4b1c("0xf60")]=!0,this.spriteArray=x,this[_0x4b1c("0xf61")]=0,this.playLength=x[_0x4b1c("0x0")],this[_0x4b1c("0xf64")].on(_0x4b1c("0x2a0"),this[_0x4b1c("0xf7e")]);var b=this[_0x4b1c("0xf63")][this[_0x4b1c("0xf61")]++];this[_0x4b1c("0xf64")][_0x4b1c("0x29b")](b);var _=0;return x[_0x4b1c("0x1c")]((function(x){var b=c[_0x4b1c("0xf6e")][x];_+=b[1]})),_*this[_0x4b1c("0xf64")].rate()}}},{key:_0x4b1c("0xf75"),value:function(x){if(this[_0x4b1c("0xf66")]&&(!this[_0x4b1c("0xf60")]||this[_0x4b1c("0xf5f")])){for(var c=/^([A-Z]+)(\d+)*$/,b=/^[0-9]*$/,e=["一","二","三","四","五","六","七","八","九","十"],t=[],i=0,a=x[_0x4b1c("0x0")];i<a;i++)if(c[_0x4b1c("0x2a")](x[i])){var n=x[i][_0x4b1c("0x2a6")](/([A-Z]+)(\d+)/);if(n.length>0){var r=[n[1],n[2]];x[_0x4b1c("0x5")][_0x4b1c("0x4")](x,[i,1][_0x4b1c("0x377")](r))}break}for(var s=0,o=x.length;s<o;s++)if(b[_0x4b1c("0x2a")](x[s])){var f=this[_0x4b1c("0xf7f")](x[s]),l=!0,d=!1,u=void 0;try{for(var h,g=(0,_[_0x4b1c("0xc")])(f);!(l=(h=g[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);l=!0){var v=h[_0x4b1c("0x13a")];t[_0x4b1c("0x12")](v)}}catch(x){d=!0,u=x}finally{try{!l&&g[_0x4b1c("0x28a")]&&g[_0x4b1c("0x28a")]()}finally{if(d)throw u}}}else if(e[_0x4b1c("0x114")](x[s])>-1){var p=e[_0x4b1c("0x114")](x[s]);9==p?t[_0x4b1c("0x12")]("十"):t.push((p+1)[_0x4b1c("0x2f")]())}else{if(!this.sprite[x[s]])continue;t[_0x4b1c("0x12")](x[s])}return this[_0x4b1c("0x19b")](),this.playSprites(t)}}},{key:"stop",value:function(){this[_0x4b1c("0xf64")][_0x4b1c("0x19b")](),this[_0x4b1c("0xf64")][_0x4b1c("0x6b")](_0x4b1c("0x2a0"),this.endHandler),this[_0x4b1c("0xf61")]=0,this[_0x4b1c("0xf62")]=-1,this.spriteArray=[],this[_0x4b1c("0xf60")]=!1}},{key:_0x4b1c("0xf6a"),value:function(x,c,b){for(var _=[],e=c;e<b;e++)_.push(x[e]);return new Uint8Array(_)}},{key:_0x4b1c("0xf6b"),value:function(x){return String[_0x4b1c("0x10f")].apply(null,new Uint8Array(x))}},{key:_0x4b1c("0xf7f"),value:function(x){var c=[],b=1e3;for(x=parseInt(x);0!==b;){x%=10*b;var _=parseInt(x/b);if(_>0){c.push(_+"");var e=null;switch(b){case 1e3:e="千";break;case 100:e="百";break;case 10:e="十"}e&&c[_0x4b1c("0x12")](e)}else{var t=c[_0x4b1c("0x0")];t>0&&"0"!==c[t-1]&&c[_0x4b1c("0x12")]("0")}b/=10}return"0"===c[c[_0x4b1c("0x0")]-1]&&c.pop(),"1"===c[0]&&"十"===c[1]&&c[_0x4b1c("0x3")](),c}},{key:"decodeUnicode",value:function(x){return unescape(x[_0x4b1c("0x14c")](/\\u/gi,"%u"))}}]),x}();c[_0x4b1c("0xc")]=r},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=n(b(15)),e=n(b(9)),t=n(b(0)),i=n(b(1)),a=b(156);function n(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var r=function(){function x(c){var b=c[_0x4b1c("0x2d8")],_=void 0===b?1:b;(0,t[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x2d8")]=_,this[_0x4b1c("0xf64")]=null,this[_0x4b1c("0xf5c")]=null,this[_0x4b1c("0xf5d")]=[],this[_0x4b1c("0xf5e")]=9e3,this[_0x4b1c("0xf5f")]=!0,this.isLoaded=!1,this[_0x4b1c("0xf60")]=!1,this[_0x4b1c("0xf61")]=0,this.playLength=-1,this[_0x4b1c("0xf6e")]={},this[_0x4b1c("0xf63")]=[],this[_0x4b1c("0xf7e")]=function(){if(this[_0x4b1c("0xf61")]>=this[_0x4b1c("0xf62")])this[_0x4b1c("0x19b")](),this[_0x4b1c("0xf5f")]=!0;else{var x=this[_0x4b1c("0xf63")][this[_0x4b1c("0xf61")]++];this[_0x4b1c("0xf64")][_0x4b1c("0x29b")](x)}}[_0x4b1c("0xe")](this)}return(0,i.default)(x,[{key:_0x4b1c("0xf65"),value:function(x){return new(e[_0x4b1c("0xc")])((function(c,b){var _=new XMLHttpRequest;_.open(_0x4b1c("0x489"),x,!0),_[_0x4b1c("0x491")]=_0x4b1c("0x492"),_[_0x4b1c("0x7b0")]=function(x){c(this[_0x4b1c("0x4a3")])},_[_0x4b1c("0x49a")]()}))}},{key:_0x4b1c("0x39"),value:function(x,c){var b=this;this[_0x4b1c("0xf65")](x)[_0x4b1c("0x323")]((function(_){b[_0x4b1c("0xf68")](_,x),c&&c()}))}},{key:_0x4b1c("0xf73"),value:function(x){switch(x){case _0x4b1c("0xf74"):this[_0x4b1c("0xf75")]([_0x4b1c("0xf4c")]);break;case _0x4b1c("0xf76"):this[_0x4b1c("0xf75")](["车形导航开始"])}}},{key:"loadSoundArrayBuffer",value:function(x,c){this[_0x4b1c("0xf69")]=new Uint8Array(x);var b=x[_0x4b1c("0x765")],_=this[_0x4b1c("0xf6a")](this.dataBytes,b-this[_0x4b1c("0xf5e")],b-1),e=this.ab2str(_[_0x4b1c("0xf6c")])[_0x4b1c("0x2c")]("}]")[0]+"}]";this[_0x4b1c("0xf5c")]=JSON[_0x4b1c("0x71")](e);for(var t=0,i=this[_0x4b1c("0xf5c")][_0x4b1c("0x0")];t<i;t++){var n=this[_0x4b1c("0xf5c")][t],r=this[_0x4b1c("0xf6d")](n[_0x4b1c("0x1f7")])[_0x4b1c("0x14c")](_0x4b1c("0xa2d"),"");r==_0x4b1c("0xf80")?this.sprite[r]=[n[_0x4b1c("0xf6f")][0]+250,n.extentIndex[1]-250]:this.sprite[r]=n[_0x4b1c("0xf6f")]}var s=this;this[_0x4b1c("0xf64")]=new(a[_0x4b1c("0xf70")])({src:[c],sprite:this[_0x4b1c("0xf6e")],rate:this[_0x4b1c("0x2d8")]}),this[_0x4b1c("0xf64")][_0x4b1c("0x36b")](_0x4b1c("0xf71"),(function(x){_0x4b1c("0xf72"),s[_0x4b1c("0x780")]()})),this.sound.once(_0x4b1c("0x187"),(function(){s.isLoaded=!0}))}},{key:_0x4b1c("0xf78"),value:function(){var x=document[_0x4b1c("0x21")]("div");x[_0x4b1c("0x23")].position="absoulte",x[_0x4b1c("0x23")][_0x4b1c("0x35b")]=_0x4b1c("0x1d1"),x[_0x4b1c("0x23")].left="0";var c=this,b=function(b){var _=document[_0x4b1c("0x21")](_0x4b1c("0x96e"));_[_0x4b1c("0x23")][_0x4b1c("0xf7a")]=_0x4b1c("0xf7b"),_[_0x4b1c("0x1d6")]=b,_[_0x4b1c("0x37")](_0x4b1c("0xa58"),(function(){c[_0x4b1c("0xf64")][_0x4b1c("0x29b")](b)}),!1),x.appendChild(_)};for(var _ in this[_0x4b1c("0xf6e")])b(_);document[_0x4b1c("0x26")][_0x4b1c("0x1d7")](x)}},{key:"distory",value:function(){this.stop(),this[_0x4b1c("0xf64")][_0x4b1c("0x6b")](_0x4b1c("0x187")),this.sound[_0x4b1c("0xf7d")]()}},{key:_0x4b1c("0xf81"),value:function(x){var c=this;if(x&&x[_0x4b1c("0x0")]>0&&this[_0x4b1c("0xf66")]){this.isPlaying=!0,this[_0x4b1c("0xf63")]=x,this[_0x4b1c("0xf61")]=0,this[_0x4b1c("0xf62")]=x[_0x4b1c("0x0")],this[_0x4b1c("0xf64")].on(_0x4b1c("0x2a0"),this.endHandler);var b=this[_0x4b1c("0xf63")][this[_0x4b1c("0xf61")]++];this[_0x4b1c("0xf64")][_0x4b1c("0x29b")](b);var _=0;return x[_0x4b1c("0x1c")]((function(x){var b=c[_0x4b1c("0xf6e")][x];_+=b[1]})),_*this[_0x4b1c("0xf64")][_0x4b1c("0xf82")]()}}},{key:_0x4b1c("0xf75"),value:function(x){if(this[_0x4b1c("0xf66")]&&(!this[_0x4b1c("0xf60")]||this[_0x4b1c("0xf5f")])){for(var c=/^[0-9]*$/,b=[],e=0,t=x[_0x4b1c("0x0")];e<t;e++)if(c[_0x4b1c("0x2a")](x[e])){var i=this[_0x4b1c("0xf7f")](x[e]),a=!0,n=!1,r=void 0;try{for(var s,o=(0,_[_0x4b1c("0xc")])(i);!(a=(s=o[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);a=!0){var f=s[_0x4b1c("0x13a")];b[_0x4b1c("0x12")](String(f))}}catch(x){n=!0,r=x}finally{try{!a&&o[_0x4b1c("0x28a")]&&o[_0x4b1c("0x28a")]()}finally{if(n)throw r}}}else b[_0x4b1c("0x12")](x[e]);return this.stop(),this.playSprites(b)}}},{key:_0x4b1c("0x19b"),value:function(){this[_0x4b1c("0xf64")][_0x4b1c("0x19b")](),this[_0x4b1c("0xf64")].off(_0x4b1c("0x2a0"),this.endHandler),this[_0x4b1c("0xf61")]=0,this[_0x4b1c("0xf62")]=-1,this[_0x4b1c("0xf63")]=[],this.isPlaying=!1}},{key:_0x4b1c("0xf6a"),value:function(x,c,b){for(var _=[],e=c;e<b;e++)_[_0x4b1c("0x12")](x[e]);return new Uint8Array(_)}},{key:_0x4b1c("0xf6b"),value:function(x){return String[_0x4b1c("0x10f")][_0x4b1c("0x4")](null,new Uint8Array(x))}},{key:"num2text",value:function(x){var c=function x(c,b,_){var e=_||[],t=b||0;1===t&&e.unshift(1e3),c=parseInt(c);var i=parseInt(c/1e3),a=c%1e3,n=parseInt(a/100),r=parseInt((a-100*n)/10),s=a%10,o=a%100;return o>0&&(o<20?e.unshift(o):(s>0&&e[_0x4b1c("0xf83")](s[_0x4b1c("0x2f")]()),e[_0x4b1c("0xf83")](10*r))),(i>0&&o>0||n>0&&o>0)&&e.unshift("and"),n>0&&(e[_0x4b1c("0xf83")](100),e[_0x4b1c("0xf83")](n)),i>0&&0===t?x(i,++t,e):e}(x);return c}},{key:"decodeUnicode",value:function(x){return unescape(x[_0x4b1c("0x14c")](/\\u/gi,"%u"))}}]),x}();c[_0x4b1c("0xc")]=r},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0xf84")]=void 0;var _=v(b(6)),e=v(b(9)),t=v(b(7)),i=v(b(8)),a=v(b(0)),n=v(b(1)),r=b(109),s=b(42),o=b(4),f=b(23),l=b(113),d=b(80),u=b(34),h=b(43),g=b(27);function v(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var p=function(){function x(c){(0,a[_0x4b1c("0xc")])(this,x),this.map=c,this[_0x4b1c("0xd06")]=0,this[_0x4b1c("0xf85")]=!1,this[_0x4b1c("0xf86")]=!1}var c,b;return(0,n[_0x4b1c("0xc")])(x,[{key:"bindEvents",value:function(){var x=this,c=this[_0x4b1c("0x3e")],b=c[_0x4b1c("0x232")];c[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]?(c.on(_0x4b1c("0xe8"),(function(b){b[_0x4b1c("0x2bf")],b[_0x4b1c("0x13a")],b.values;var _=0,e=c[_0x4b1c("0x672")];for(var t in e){var i=e[t];i.progressHandler&&(0===i[_0x4b1c("0x3cb")][_0x4b1c("0xd8")]?_+=1:_+=i[_0x4b1c("0x3cb")][_0x4b1c("0xe5")].value)}var a=_;a>1&&(a=1),c.fire("loadProgress",{from:c.id,value:a}),1!=a||x[_0x4b1c("0xf86")]||(x[_0x4b1c("0xf86")]=!0,c[_0x4b1c("0xe7")]("progressComplete"))}),null,"progress"),c.on(_0x4b1c("0x17a"),(function(x){var b=x[_0x4b1c("0x12b")],_=x.fnums,e=c[_0x4b1c("0x136")](b);if(c[_0x4b1c("0x47")][_0x4b1c("0xd0d")]!=esmap[_0x4b1c("0xc58")].SINGLE&&0!=e.options[_0x4b1c("0xcb1")])if(_.sort((function(x,c){return x-c}))[0]<=e.options.undergroundOffset){var t=Boolean(c[_0x4b1c("0x47")][_0x4b1c("0xf87")]),i=1==c[_0x4b1c("0x47")][_0x4b1c("0xd87")]&&!t;e[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0xd96")](i)}else e.map[_0x4b1c("0x2b3")].toggleTilesLayer(!0)})),c.on(_0x4b1c("0xb05"),(function(){c[_0x4b1c("0x7e")].getState(_0x4b1c("0xf88"))&&c.tileService[_0x4b1c("0xd96")](!0)}))):c.on(_0x4b1c("0xe8"),(function(x){c[_0x4b1c("0xe7")](_0x4b1c("0xbdc"),x),1===x[_0x4b1c("0x13a")]&&c[_0x4b1c("0xe7")]("progressComplete")}),null,"progress"),c.on("zoomed",(function(){c[_0x4b1c("0x9c9")][_0x4b1c("0xb1c")]()})),c.on("update",(function(){c[_0x4b1c("0xa42")](),_()})),b&&(b[_0x4b1c("0xf89")]||(b.on("pickedObjects",(function(x){c.selectNull(),c[_0x4b1c("0xb0a")](),c[_0x4b1c("0xa6d")]();for(var _=b[_0x4b1c("0xbe8")],e=x[_0x4b1c("0x74a")],t=!1,i=x[_0x4b1c("0x96e")],a=0;a<x[_0x4b1c("0x74a")][_0x4b1c("0x0")];a++)if(x[_0x4b1c("0x74a")][a][_0x4b1c("0x1d")][_0x4b1c("0x78")]==_0x4b1c("0x27d")&&x[_0x4b1c("0x74a")][a][_0x4b1c("0x1d")].userData.seeThrough){e=[x[_0x4b1c("0x74a")][a]];break}for(var n={},r=!1,f=!1,l=0;l<e[_0x4b1c("0x0")];l++)if(_||!l||f){_&&(c[_0x4b1c("0xa8d")](),c.selectModelNull());var d=e[l],u=d[_0x4b1c("0x1d")],h=u,g=null;if(!u.datas_)if(21==u[_0x4b1c("0x123")])u=u.parent;else{if(u.name&&u[_0x4b1c("0x1f7")][_0x4b1c("0x114")](_0x4b1c("0xdd4"))>-1)continue;u=(0,s.findGroup)(u)}if(u&&!n[u.uuid]){n[u[_0x4b1c("0x195")]]=!0;var v=d[_0x4b1c("0x2f7")];if(u[_0x4b1c("0xef")]){switch(u[_0x4b1c("0xef")][_0x4b1c("0x123")]){case esmap[_0x4b1c("0x131")][_0x4b1c("0x690")]:var p=u[_0x4b1c("0xef")][_0x4b1c("0x469")],m=u[_0x4b1c("0xef")][_0x4b1c("0x12b")],A=c[_0x4b1c("0x47")],y=!1;if(p){var C=(0,s.getChildByFaceIndex)(d[_0x4b1c("0xc12")],p);if((g=p[C])[_0x4b1c("0xf0")]||(g.o3d_=u),h.geometry[_0x4b1c("0x104")][_0x4b1c("0x582")]){for(var I=h[_0x4b1c("0xf2")][_0x4b1c("0x104")][_0x4b1c("0x582")][_0x4b1c("0x439")],E=g.faceRange[0],w=g.faceRange[1],T=!1,k=E+1;k<w-1;k+=1)if(1==I[k]){T=!0,_=!0;break}T&&(y=!0,r=!0)}}else g=u[_0x4b1c("0xef")];if(y)continue;var S=!1;g[_0x4b1c("0x3c")]&&c[_0x4b1c("0x47")][_0x4b1c("0xf8b")]&&2!=i&&(c.tileService[_0x4b1c("0xa05")](g),S=!0);var M=g[_0x4b1c("0x219")],R=c[_0x4b1c("0x136")](m);if(R){var L=R[_0x4b1c("0x26b")][_0x4b1c("0xf8c")][_0x4b1c("0xf8d")][M];L||(L=R[_0x4b1c("0x26b")][_0x4b1c("0xf8c")][_0x4b1c("0xf8e")](M))&&(R[_0x4b1c("0x26b")][_0x4b1c("0xf8c")][_0x4b1c("0xf8d")][M]=L),L&&(g[_0x4b1c("0x195")]=L[_0x4b1c("0x195")],g[_0x4b1c("0xf8f")]=L[_0x4b1c("0xf8f")])}S||(p?A[_0x4b1c("0x385")]&&c[_0x4b1c("0xab7")](g):c[_0x4b1c("0xab7")](g));break;case esmap[_0x4b1c("0x131")].MODEL3D:var H=c.options,D=b[_0x4b1c("0xbee")];if(!1===u[_0x4b1c("0xef")][_0x4b1c("0x1f4")]&&(_||(r=!0)),!l&&H[_0x4b1c("0x387")]&&(u[_0x4b1c("0x165")].merged||!u.datas_[_0x4b1c("0xf90")]&&c[_0x4b1c("0xad5")](u)),u.datas_.brothers){var O=function(){var x=c[_0x4b1c("0x136")](0),b=x[_0x4b1c("0x26b")].GLTFMergeTool[_0x4b1c("0x456")](d[_0x4b1c("0xc12")],h[_0x4b1c("0xf2")][_0x4b1c("0x165")][_0x4b1c("0x42e")]);if(h[_0x4b1c("0xf2")][_0x4b1c("0x165")][_0x4b1c("0x455")]&&h[_0x4b1c("0xf2")][_0x4b1c("0x165")].visibleStates[_0x4b1c("0x1")](b.id)&&!h[_0x4b1c("0xf2")][_0x4b1c("0x165")].visibleStates[b.id])return f=!0,_0x4b1c("0x686");var t=x[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0x453")](d[_0x4b1c("0xc12")],h.geometry[_0x4b1c("0x446")]),a=b.id,n=u[_0x4b1c("0xef")][_0x4b1c("0xc13")]||!1,s=u[_0x4b1c("0xef")].brothers.filter((function(x){return x.id==a})),o=!1;if(!s[0])return"continue";if(!s[0][_0x4b1c("0x427")])return e[_0x4b1c("0x5")](l,1),l--,"continue";if(s[0][_0x4b1c("0x3c")]&&c.options[_0x4b1c("0xf8b")]&&(o=!0),n||!c.options.model3DSelectedEffect||o||x[_0x4b1c("0x26b")].GLTFMergeTool[_0x4b1c("0x43f")](d[_0x4b1c("0xc12")],h,t),g={mapId:s[0].mapId,nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")],angle:s[0].angle,dataID:s[0].dataID,bid:u.datas_[_0x4b1c("0x12b")],bType:u[_0x4b1c("0xef")][_0x4b1c("0x3e0")],ID:a,name:s[0][_0x4b1c("0x1f7")],scale:s[0][_0x4b1c("0x201")],Height:s[0][_0x4b1c("0x305")],model:s[0][_0x4b1c("0x1e6")],FloorNum:s[0][_0x4b1c("0x12e")],gid:s[0].gid,url:s[0].url,o3d_:u,typeID:s[0][_0x4b1c("0x2f2")],mapCoord:c[_0x4b1c("0x20d")](s[0].position)},s[0].classID&&(g[_0x4b1c("0x689")]=s[0][_0x4b1c("0x689")]),s[0][_0x4b1c("0x1e4")]&&(g[_0x4b1c("0x1e4")]=s[0].showLevel),s[0].isBim&&(g=s[0],!s[0][_0x4b1c("0x195")])){var v=c[_0x4b1c("0x136")](g.bid),p=s[0][_0x4b1c("0x219")],m=v.modelLoadManager[_0x4b1c("0xf8c")][_0x4b1c("0xf8d")][p];m||(m=v[_0x4b1c("0x26b")][_0x4b1c("0xf8c")][_0x4b1c("0xf8e")](p)),m&&(v[_0x4b1c("0x26b")][_0x4b1c("0xf8c")][_0x4b1c("0xf8d")][p]=m,g[_0x4b1c("0x195")]=m[_0x4b1c("0x195")],g.infoList=m.infoList)}x[_0x4b1c("0x26b")][_0x4b1c("0x67c")][_0x4b1c("0xa70")]=!0,_||(r=!0),o&&2!=i&&c[_0x4b1c("0x2b3")][_0x4b1c("0xa05")](g)}();if(O===_0x4b1c("0x686"))continue}else u[_0x4b1c("0xef")][_0x4b1c("0x3c")]&&c[_0x4b1c("0x47")][_0x4b1c("0xf8b")]?c[_0x4b1c("0x2b3")].openBuilding(u.datas_):_||(r=!0);if(D){var P="";P=u[_0x4b1c("0xef")].brothers?u[_0x4b1c("0xef")][_0x4b1c("0x469")][0][_0x4b1c("0x1e6")]:u[_0x4b1c("0xef")][_0x4b1c("0x1e6")];var N=c.mapService[_0x4b1c("0x2a2")][P][_0x4b1c("0x2e5")];if(!N[_0x4b1c("0x165")][_0x4b1c("0x291")]){var F=computeModelInfo(N);N[_0x4b1c("0x165")][_0x4b1c("0x291")]=F}console[_0x4b1c("0x226")]("%clogModelInfo:",_0x4b1c("0xf91"),N[_0x4b1c("0x165")][_0x4b1c("0x291")])}break;case esmap.ESNodeType[_0x4b1c("0xacb")]:g=u[_0x4b1c("0xef")]||null,c.options[_0x4b1c("0x3a6")]&&c[_0x4b1c("0xb0b")](u);break;case esmap.ESNodeType.LINE:c.options[_0x4b1c("0x3a6")]&&c.storeSelectLine(u);break;case esmap[_0x4b1c("0x131")][_0x4b1c("0xac9")]:c[_0x4b1c("0x47")][_0x4b1c("0x385")]&&!u[_0x4b1c("0xef")][_0x4b1c("0x9a4")]&&(u[_0x4b1c("0xef")].line&&(u.datas_[_0x4b1c("0xadc")].hasOwnProperty("_originalWidth")||(u[_0x4b1c("0xef")][_0x4b1c("0xadc")]._originalWidth=u[_0x4b1c("0xef")].line[_0x4b1c("0x15f")]),u.datas_[_0x4b1c("0xadc")][_0x4b1c("0x1")](_0x4b1c("0xadf"))||(u.datas_[_0x4b1c("0xadc")][_0x4b1c("0xf2")]._originalRadius=u[_0x4b1c("0xef")][_0x4b1c("0xadc")][_0x4b1c("0xf2")][_0x4b1c("0x68f")]),u.datas_[_0x4b1c("0xadc")].lineWidth=u[_0x4b1c("0xef")].line[_0x4b1c("0x23")][_0x4b1c("0xf92")],u[_0x4b1c("0xef")][_0x4b1c("0xadc")].updateLineWidth&&u[_0x4b1c("0xef")].line.updateLineWidth(),u[_0x4b1c("0xef")][_0x4b1c("0xadc")][_0x4b1c("0x168")]=!0),c[_0x4b1c("0xad5")](u),u[_0x4b1c("0xf4")][_0x4b1c("0x165")][_0x4b1c("0xf93")]=u.material.opacity,u[_0x4b1c("0xf4")][_0x4b1c("0x129")]=u[_0x4b1c("0xef")][_0x4b1c("0x47")][_0x4b1c("0xf94")]);case esmap[_0x4b1c("0x131")].FLOOR:case esmap.ESNodeType[_0x4b1c("0x691")]:case esmap[_0x4b1c("0x131")][_0x4b1c("0xf95")]:case esmap[_0x4b1c("0x131")][_0x4b1c("0xf96")]:}var B=g||u[_0x4b1c("0xef")];B.worldCoord=v[_0x4b1c("0x13e")]();var z=c[_0x4b1c("0x2d0")](v),U=c[_0x4b1c("0x1b5")]({from:c.coordSystem,to:c.options.userCrs,coord:z});(0,o.toFixedNumXYZ)(U),B[_0x4b1c("0xf97")]=U,t||(t=!0),_&&c[_0x4b1c("0x47")][_0x4b1c("0x1f6")]&&(B[_0x4b1c("0xd46")]=l);var V={button:x[_0x4b1c("0x96e")],event:x[_0x4b1c("0x4e1")],object:h};if(c[_0x4b1c("0x136")](B[_0x4b1c("0x12b")])||(B[_0x4b1c("0x12b")]=c.id),c.fire(_0x4b1c("0xd45"),B,V),r)break}else console[_0x4b1c("0xe3")](_0x4b1c("0xf8a"))}}if(!t){var j=b.raycaster[_0x4b1c("0x51a")]([c.plane_],!0);1==j[_0x4b1c("0x0")]&&((0,o[_0x4b1c("0xc38")])(j[0][_0x4b1c("0x2f7")]),b[_0x4b1c("0xe7")](_0x4b1c("0xc39"),{mouse:b.mousePos,event:x[_0x4b1c("0x4e1")],hitCoord:j[0][_0x4b1c("0x2f7")],worldCoord:j[0][_0x4b1c("0x2f7")]}))}})),b.on(_0x4b1c("0xc39"),(function(x){c[_0x4b1c("0xa8d")](),c.selectModelNull(),c.selectLineNull();var b=x.hitCoord?c[_0x4b1c("0x2d0")](x[_0x4b1c("0xf97")]):null,_=c.transformCoord({from:c[_0x4b1c("0x2d4")],to:c[_0x4b1c("0x47")][_0x4b1c("0x1b7")],coord:b});(0,o[_0x4b1c("0xc38")])(_),c[_0x4b1c("0xe7")](_0x4b1c("0xd45"),{target:null,mouse:x[_0x4b1c("0xc0c")],hitCoord:_,nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0xc6b")],worldCoord:x[_0x4b1c("0xf97")]},{button:x[_0x4b1c("0x96e")],event:x[_0x4b1c("0x4e1")]})})),b.on(_0x4b1c("0xc27"),(function(x){if(0!=x.intersects[_0x4b1c("0x0")]){var b=x[_0x4b1c("0xbef")][0][_0x4b1c("0x1d")];if(!b.datas_&&!(b=(0,s[_0x4b1c("0xee")])(b)))return null;if(!b)return null;var _=b.datas_;if(_&&_[_0x4b1c("0x123")]){var e=x[_0x4b1c("0xbef")][0][_0x4b1c("0x2f7")];_[_0x4b1c("0xf98")]=e[_0x4b1c("0x13e")]();var t=c[_0x4b1c("0x2d0")](e),i=c[_0x4b1c("0x1b5")]({from:c.coordSystem,to:c[_0x4b1c("0x47")][_0x4b1c("0x1b7")],coord:t});(0,o[_0x4b1c("0xc38")])(i),_[_0x4b1c("0xf97")]=i;var a=0;if(c[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")].City)a=c.mapService.getState("l0");else a=c[_0x4b1c("0x7e")][_0x4b1c("0x7f")]("ul")>>1&1||0;a>=1&&c[_0x4b1c("0xe7")]("mapKeepPress",_)}}}))));var _=function(){var b,_,e,t;if((0,d[_0x4b1c("0x306")])().state.sl){var i=c[g[_0x4b1c("0xbd")]];if(!i||!i[_0x4b1c("0x526")]||!i[_0x4b1c("0x526")].parent)return void c[_0x4b1c("0xe7")](_0x4b1c("0xe3"));if(!x[_0x4b1c("0xf85")]&&i&&i[_0x4b1c("0x526")]&&(b=_0x4b1c("0xc3"),_=c[_0x4b1c("0x47")][u[_0x4b1c("0x4a")][_0x4b1c("0x4b")](b)],e=_0x4b1c("0xf99"),t=_0x4b1c("0xf9a"),c[g._ztl_]&&typeof c.id===_0x4b1c("0xd")&&c.id[_0x4b1c("0x114")](u.Base64[_0x4b1c("0x4b")](t))>-1&&_===u.Base64[_0x4b1c("0x4b")](e)&&(c[g[_0x4b1c("0xbd")]][_0x4b1c("0x526")][_0x4b1c("0xf4")][_0x4b1c("0x145")]=!0,c[g[_0x4b1c("0xbd")]][_0x4b1c("0x526")][_0x4b1c("0xf4")].opacity=0),x[_0x4b1c("0xf85")]=!0),!i[_0x4b1c("0x526")].visible&&!esmap[_0x4b1c("0x32")][_0x4b1c("0xaf7")])return void(i[_0x4b1c("0x526")][_0x4b1c("0x191")]=!0);if(!i.sprite_[_0x4b1c("0xf4")][_0x4b1c("0x191")])return void(i[_0x4b1c("0x526")][_0x4b1c("0xf4")][_0x4b1c("0x191")]=!0);0!==i[_0x4b1c("0x526")].scale.x&&0!==i[_0x4b1c("0x526")][_0x4b1c("0x201")].y||(i[_0x4b1c("0x526")][_0x4b1c("0x201")].x=96,i[_0x4b1c("0x526")][_0x4b1c("0x201")].y=25)}}}},{key:_0x4b1c("0xa28"),value:(b=(0,i[_0x4b1c("0xc")])(t[_0x4b1c("0xc")].mark((function x(c){var b,_,e,i,a,n,s,o,f,g,v,p;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:if(b=this[_0x4b1c("0x3e")],_=b[_0x4b1c("0x47")],e=void 0,i=!1,a=(0,d[_0x4b1c("0x306")])(),n=!1,!b.id){x[_0x4b1c("0x286")]=15;break}if(_.useBuildingCache){x[_0x4b1c("0x286")]=12;break}return x[_0x4b1c("0x286")]=10,b.disposeBuilding(b.id);case 10:x[_0x4b1c("0x286")]=15;break;case 12:b[_0x4b1c("0x136")](b.id)[_0x4b1c("0xf0")].visible=!1,b[_0x4b1c("0x232")][_0x4b1c("0xbf6")](b.id);case 15:if(_[_0x4b1c("0x3ad")]&&(e=b[_0x4b1c("0x136")](c)),b.id=c,e){x.next=25;break}return(s=(0,r.getBuildingOptions)(_)).id=c,x[_0x4b1c("0x286")]=22,b.mapService[_0x4b1c("0xd90")](s);case 22:e=x[_0x4b1c("0x337")],x[_0x4b1c("0x286")]=27;break;case 25:e[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!0,i=!0;case 27:if(e){x.next=29;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 29:if(o=b.buildingService[_0x4b1c("0xb1d")](_0x4b1c("0xe84"))){x[_0x4b1c("0x286")]=32;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 32:if(o[_0x4b1c("0x596")]()){x[_0x4b1c("0x286")]=34;break}return x[_0x4b1c("0x293")]("return");case 34:if(b[_0x4b1c("0x7e")].getState("sk")||"share"==o[_0x4b1c("0xf9b")](_0x4b1c("0xc4"))||b[_0x4b1c("0x7e")][_0x4b1c("0x7f")](_0x4b1c("0xebd"))||(n=!0),!b.mapService[_0x4b1c("0x7f")]("hf")){x[_0x4b1c("0x286")]=37;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 37:if(f=e.sourceData,!n){x[_0x4b1c("0x286")]=43;break}if(b[_0x4b1c("0x7e")][_0x4b1c("0x7f")](_0x4b1c("0xeb7"))){x.next=41;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 41:if(b.mapService[_0x4b1c("0x7f")]("o_t")){x[_0x4b1c("0x286")]=43;break}return x.abrupt(_0x4b1c("0x28a"));case 43:b[_0x4b1c("0xe7")](_0x4b1c("0xf9c"),{bid:c,data:f.navs}),b.buildingService[_0x4b1c("0x3f2")][c]||(b[_0x4b1c("0xaeb")][_0x4b1c("0x3f2")][c]=f[_0x4b1c("0xd94")]),b[_0x4b1c("0x9cf")]=e[_0x4b1c("0x9cf")],b[_0x4b1c("0xf9d")]=e,g=_0x4b1c("0xc3"),v=o[_0x4b1c("0xf9b")](g),p=b.options[u[_0x4b1c("0x4a")][_0x4b1c("0x4b")](g)],((0,h._isemvlg)(b.id)||v&&p&&(0,l[_0x4b1c("0x45f")])(_0x4b1c("0xb1f")+(c+p))===o[_0x4b1c("0xf9b")](g))&&(a[_0x4b1c("0x71e")].sl=!1),b[_0x4b1c("0x1e1")][_0x4b1c("0xf9e")](e),b.mapView[_0x4b1c("0xbdf")](e),b[_0x4b1c("0x1c3")][_0x4b1c("0x250")](),esmap[_0x4b1c("0x32")][_0x4b1c("0xaf7")]=!1,b.scaler_[_0x4b1c("0xb1c")](),b[_0x4b1c("0xe7")](_0x4b1c("0xf9f"),e),i&&(b.fire(_0x4b1c("0xb19"),{}),b.fire(_0x4b1c("0xa34"),e),b.fire(_0x4b1c("0x9e0"),{bid:e.id}),b.fire(_0x4b1c("0xa35"),{bid:e.id}),b.mapPicker.enablePicks(e.id));case 58:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return b[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0xa29"),value:(c=(0,i[_0x4b1c("0xc")])(t.default[_0x4b1c("0x283")]((function x(c){var b,i,a,n,r,s,o,v,p,m,A,y,C,I,E=this;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return b=this.map,i=b[_0x4b1c("0x47")],b.id=c,b[_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0x39")](),a=(0,d.useGlobalStore)(),x[_0x4b1c("0x286")]=7,b[_0x4b1c("0x7e")][_0x4b1c("0x2b3")].oa();case 7:if(x[_0x4b1c("0x337")]){x[_0x4b1c("0x286")]=10;break}return x.abrupt(_0x4b1c("0x28a"));case 10:return i[_0x4b1c("0x12d")]&&(n=b.coordMapToThree(i[_0x4b1c("0x12d")]),b[_0x4b1c("0x266")].target.x=n.x,b[_0x4b1c("0x266")].target.z=n.z),r=i[_0x4b1c("0x393")]||0,b[_0x4b1c("0x235")]=r,s=null==i[_0x4b1c("0x394")]?60:i[_0x4b1c("0x394")],b[_0x4b1c("0x2c1")]=s,x[_0x4b1c("0x285")]=15,x[_0x4b1c("0x286")]=18,b[_0x4b1c("0x7e")][_0x4b1c("0x2b3")][_0x4b1c("0xd51")]("json");case 18:if(!x.sent){x[_0x4b1c("0x286")]=22;break}return x.next=22,new(e[_0x4b1c("0xc")])((function(x){b.on("tileTexturesReady",x)}));case 22:x[_0x4b1c("0x286")]=29;break;case 24:return x[_0x4b1c("0x285")]=24,x.t0=x.catch(15),f[_0x4b1c("0x30")].post({msg:""+x.t0,level:_0x4b1c("0xe3")}),b.fire(_0x4b1c("0xcb6"),x.t0),x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 29:if(window[_0x4b1c("0x1b6")][_0x4b1c("0xb6f")]||(null!=i[_0x4b1c("0x3af")]&&(b[_0x4b1c("0x266")].minDistance=b[_0x4b1c("0x1c3")].getDistanceByZoomLevel(i[_0x4b1c("0x3af")])),null!=i.minZoomLevel?b[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=b[_0x4b1c("0x1c3")][_0x4b1c("0xbcd")](i.minZoomLevel):b[_0x4b1c("0x266")].maxDistance=b[_0x4b1c("0x1c3")].getDistanceByZoomLevel(14),b[_0x4b1c("0x1c3")][_0x4b1c("0x250")]()),b.on("modelLoadComplete",(function(){if(0==b[_0x4b1c("0x2b3")].solvingList.length&&0==b[_0x4b1c("0x2b3")][_0x4b1c("0xb25")].length){var x=b[_0x4b1c("0x672")];for(var c in x){var _=x[c],e=_[_0x4b1c("0x26b")].queue.length,t=_.modelLoadManager[_0x4b1c("0xd9e")][_0x4b1c("0x0")],i=0;for(var a in _[_0x4b1c("0x26b")][_0x4b1c("0xdb1")]){var n=_[_0x4b1c("0x26b")].mergeQueue[a];for(var r in n)i+=n[r][_0x4b1c("0x0")]}if(e>0||t>0||i>0)break}}})),b[_0x4b1c("0x7e")][_0x4b1c("0x2b3")]._sccd(),o=b.tileService[_0x4b1c("0xb1d")]("skNl")){x[_0x4b1c("0x286")]=35;break}return x.abrupt(_0x4b1c("0x28a"));case 35:if(o[_0x4b1c("0x596")]()){x[_0x4b1c("0x286")]=37;break}return x[_0x4b1c("0x293")]("return");case 37:return v=_0x4b1c("0xc3"),p=o[_0x4b1c("0xf9b")](v),m=b.options[u[_0x4b1c("0x4a")][_0x4b1c("0x4b")](v)],((0,h[_0x4b1c("0x10d")])(b.id)||p&&m&&(0,l.decrypt)(_0x4b1c("0xb1f")+(c+m))===p)&&(a[_0x4b1c("0x71e")].sl=!1),x[_0x4b1c("0x285")]=41,x[_0x4b1c("0x286")]=44,b[_0x4b1c("0x2b3")][_0x4b1c("0xd7c")]();case 44:x[_0x4b1c("0x286")]=48;break;case 46:x[_0x4b1c("0x285")]=46,x.t1=x.catch(41);case 48:if(x[_0x4b1c("0x285")]=48,b.mapService[_0x4b1c("0x7f")](_0x4b1c("0xd34"))){x[_0x4b1c("0x286")]=51;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 51:if(A=b[_0x4b1c("0x7e")].getState(_0x4b1c("0xd34")),y=!1,!(0,h._isemvht)(b.id)){x[_0x4b1c("0x286")]=57;break}y=!0,x.next=72;break;case 57:if("lc"==A||"em"==A){x[_0x4b1c("0x286")]=71;break}if(C=document[g[_0x4b1c("0x92")]],(typeof A===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_.default)(A))!==_0x4b1c("0x1d")){x[_0x4b1c("0x286")]=69;break}x.t2=t[_0x4b1c("0xc")][_0x4b1c("0x684")](A);case 61:if((x.t3=x.t2()).done){x[_0x4b1c("0x286")]=69;break}if(I=x.t3[_0x4b1c("0x13a")],!(C[_0x4b1c("0x114")](I)>-1)){x[_0x4b1c("0x286")]=67;break}return(new Date)[_0x4b1c("0x86")]()-A[I]<=0&&(y=!0),x[_0x4b1c("0x293")]("break",69);case 67:x[_0x4b1c("0x286")]=61;break;case 69:x.next=72;break;case 71:y=!0;case 72:if(y){x[_0x4b1c("0x286")]=74;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 74:return b[_0x4b1c("0x2b3")].preLoadBuildingId?(b[_0x4b1c("0x7e")][_0x4b1c("0xace")]=!0,b[_0x4b1c("0x1e1")].tileScene_[_0x4b1c("0x191")]=!1,b[_0x4b1c("0x2b3")][_0x4b1c("0xa05")]({mapId:b[_0x4b1c("0x2b3")].preLoadBuildingId},null,!0,!1)[_0x4b1c("0x323")]((function(x){b.setOriginCameraPosition(x)||(null!=i.defaultScaleLevel?b[_0x4b1c("0x266")][_0x4b1c("0xabd")](b[_0x4b1c("0x9cf")][i[_0x4b1c("0xbe0")]]):b[_0x4b1c("0x266")][_0x4b1c("0xabd")](b[_0x4b1c("0x9cf")][x[_0x4b1c("0xb00")][_0x4b1c("0xbe1")]]))})),b.once(_0x4b1c("0xb05"),(function(x){x[_0x4b1c("0x12b")]===b.tileService[_0x4b1c("0xd07")]&&(b.mapService[_0x4b1c("0xace")]=!1,esmap[_0x4b1c("0x6a7")]&&esmap[_0x4b1c("0x6a7")][_0x4b1c("0xd97")][_0x4b1c("0xd98")](!0),b[_0x4b1c("0x1e1")][_0x4b1c("0x407")][_0x4b1c("0x191")]=!0,b[_0x4b1c("0x2b3")][_0x4b1c("0xd07")]=null,b.loadComplete_(),b[_0x4b1c("0x9bb")]=!0,b[_0x4b1c("0x266")][_0x4b1c("0xfa0")]())}))):(b[_0x4b1c("0xfa1")](),b.updateTile=!0,b.fire(_0x4b1c("0x9e0"))),b.on(_0x4b1c("0xd89"),(function(){E[_0x4b1c("0xd06")]+=1})),b.on("buildingLoadComplete",(function(){E[_0x4b1c("0xd06")]-=1})),b.on(_0x4b1c("0x179"),(function(x){var c=b[_0x4b1c("0x47")];x<=c[_0x4b1c("0xb1b")]?b[_0x4b1c("0xb06")]():x<=c[_0x4b1c("0xb1b")]&&b[_0x4b1c("0xab4")]&&0!=b[_0x4b1c("0xab4")][_0x4b1c("0xab6")][_0x4b1c("0x23")][_0x4b1c("0x129")]&&(b[_0x4b1c("0xab4")].popDiv_[_0x4b1c("0x23")][_0x4b1c("0x129")]=0)})),x[_0x4b1c("0xfa2")](48);case 79:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this,[[15,24],[41,46,48,79]])}))),function(x){return c[_0x4b1c("0x4")](this,arguments)})}]),x}();c[_0x4b1c("0xf84")]=p},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(){(0,_[_0x4b1c("0xc")])(this,x)}return(0,e[_0x4b1c("0xc")])(x,null,[{key:_0x4b1c("0xfa3"),value:function(x){var c={};return x.on=function(b,_){return(c[b]=c[b]||[])[_0x4b1c("0x12")](_),x},x.once=function(c,b){function _(){b[_0x4b1c("0x4")](x[_0x4b1c("0x6b")](c,_),arguments)}return _.h=b,x.on(c,_)},x[_0x4b1c("0x6b")]=function(b,_){for(var e=c[b],t=0;_&&e&&e[t];t++)e[t]!=_&&e[t].h!=_||e[_0x4b1c("0x5")](t--,1);return t||delete c[b],x},x[_0x4b1c("0xa36")]=function(b){for(var _=c[b],e=0;_&&_[e];)_[e++][_0x4b1c("0x4")](x,_[_0x4b1c("0x1e5")][_0x4b1c("0x2")](arguments,1));return x},x}}]),x}();c[_0x4b1c("0xc")]=i},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x),this.map=c;var b=esmap[_0x4b1c("0x87")].getPlatform();this[_0x4b1c("0xc4b")]=!1,this.composer=new(THREE[_0x4b1c("0x6f9")])(c[_0x4b1c("0x1c3")][_0x4b1c("0x360")]),this[_0x4b1c("0xfa4")]=new(THREE[_0x4b1c("0x6f9")])(c[_0x4b1c("0x1c3")].renderer),this[_0x4b1c("0x201")]=(b[_0x4b1c("0x339")],2),this[_0x4b1c("0xfa5")]={width:c[_0x4b1c("0x1c3")].w_,height:c[_0x4b1c("0x1c3")].h_};var e=new THREE.RenderPass(c[_0x4b1c("0x1c3")][_0x4b1c("0x102")],c[_0x4b1c("0x1c3")].camera);this[_0x4b1c("0xbd4")][_0x4b1c("0xfa6")](e);var t=new(THREE[_0x4b1c("0x704")])(THREE[_0x4b1c("0x6f2")]);t[_0x4b1c("0x70c")]=!0,this.composer[_0x4b1c("0xfa6")](t);var i=new THREE.RenderPass(c[_0x4b1c("0x1c3")][_0x4b1c("0x102")],c.mapView.cameraTop),a=new THREE.ShaderPass(THREE[_0x4b1c("0x6f2")]);a[_0x4b1c("0x70c")]=!0,this[_0x4b1c("0xfa4")][_0x4b1c("0xfa6")](i),this[_0x4b1c("0xfa4")][_0x4b1c("0xfa6")](a),this[_0x4b1c("0x252")](this[_0x4b1c("0x201")])}return(0,e[_0x4b1c("0xc")])(x,[{key:"render",value:function(){this.enabled||this.map[_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x70e")](this[_0x4b1c("0x3e")].mapView.scene,this[_0x4b1c("0x3e")].mapView[_0x4b1c("0x658")])}},{key:_0x4b1c("0xfa7"),value:function(){this[_0x4b1c("0x70b")]?this[_0x4b1c("0xfa4")][_0x4b1c("0x70e")](this[_0x4b1c("0x3e")].timer[_0x4b1c("0x2a7")]()):this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x70e")](this[_0x4b1c("0x3e")].mapView[_0x4b1c("0x102")],this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0xa5d")])}},{key:"setScale",value:function(x){this.scale=x,this[_0x4b1c("0xe0")]={width:this[_0x4b1c("0xfa5")][_0x4b1c("0x1c9")]*this[_0x4b1c("0x201")],height:this[_0x4b1c("0xfa5")].height*this[_0x4b1c("0x201")]}}},{key:_0x4b1c("0xfa8"),value:function(x,c){this.originSize.width=x,this[_0x4b1c("0xfa5")][_0x4b1c("0x1a3")]=c,this[_0x4b1c("0x252")](this[_0x4b1c("0x201")])}},{key:_0x4b1c("0xe0"),get:function(){return{width:this[_0x4b1c("0xbd4")][_0x4b1c("0x6ff")][_0x4b1c("0x1c9")],height:this[_0x4b1c("0xbd4")][_0x4b1c("0x6ff")][_0x4b1c("0x1a3")]}},set:function(x){this.composer[_0x4b1c("0x30c")](x.width,x.height),this[_0x4b1c("0xfa4")][_0x4b1c("0x30c")](x[_0x4b1c("0x1c9")],x.height)}},{key:"enabled",get:function(){return this._enabled},set:function(x){this[_0x4b1c("0xc4b")]=x}}]),x}();c[_0x4b1c("0xc")]=i},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=d(b(14)),e=d(b(157)),t=d(b(15)),i=d(b(158)),a=d(b(2)),n=d(b(0)),r=d(b(1)),s=b(4),o=d(b(114)),f=b(51),l=d(b(26));function d(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var u=function(){function x(c){(0,n[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0xfa9")]={},this[_0x4b1c("0xa20")]={},this.materialList=null,this[_0x4b1c("0xe00")]=[],this.defaultTheme_={color_:16777215,alpha:.1,strokeColor_:16777215,strokeWidth:2},this[_0x4b1c("0x3fa")]={},this[_0x4b1c("0xa79")]={},this[_0x4b1c("0x3da")]={},this[_0x4b1c("0xac4")]=16777215,this[_0x4b1c("0xfaa")]=.875,this[_0x4b1c("0xfab")]=16776960,this[_0x4b1c("0xfac")]=.875,this[_0x4b1c("0xfad")]=0,this[_0x4b1c("0xfae")]=0,this[_0x4b1c("0xfaf")]=16750950,this.selectedLineColor=16119296,this.polygonSelectColor_=16762412,this[_0x4b1c("0xfb0")]={fontSize:24,fillStyle:"#FFFFFF",strokeWidth:1,strokeStyle:_0x4b1c("0x126"),shadowBlur:4,shadowColor:"rgba(0, 0, 0, 1.0)",shadowOffsetX:0,shadowOffsetY:0,padding:2},this[_0x4b1c("0xfb1")]={fontSize:24,fillStyle:_0x4b1c("0x126"),strokeWidth:1,strokeStyle:_0x4b1c("0x126"),shadowBlur:4,shadowColor:_0x4b1c("0xfb2"),shadowOffsetX:0,shadowOffsetY:0,padding:2},this[_0x4b1c("0x3dc")]={fillcolor:_0x4b1c("0xd5e"),fontface:"",fontsize:_0x4b1c("0xfb3"),strokecolor:"255,255,255",strokewidth:"2",typeid:"0"},this[_0x4b1c("0xfb4")]={0:{fillcolor:"0,0,0",fontface:"",fontsize:_0x4b1c("0xfb3"),strokecolor:_0x4b1c("0xfb5"),strokewidth:"2",image:"",imageAlign:_0x4b1c("0x12d"),typeid:"0"},1:{fillcolor:_0x4b1c("0xd5e"),fontface:"",fontsize:"12.0",strokecolor:"255,255,255",strokewidth:"2",typeid:"1"}},this[_0x4b1c("0xfb6")]={},this[_0x4b1c("0xfb7")]={},this.model3DSelectedColor_=16750950,this.modelLines=!1,this[_0x4b1c("0xfb8")]=null,this.userBgImg=null,this.mapRoadMats={normal:new(THREE[_0x4b1c("0x144")])({color:16777215}),main:new(THREE[_0x4b1c("0x144")])({color:16766720})},this.modelBasicMat=[new(THREE[_0x4b1c("0x144")])({color:16777215,name:_0x4b1c("0xc")})],this.tileMaterial={},this.navigateStyle_={color:16711680,lineWidth:8,alpha:.8,dash:{size:1,gap:1}},this[_0x4b1c("0xfb9")]=null,this[_0x4b1c("0x535")]=c,this[_0x4b1c("0x877")]=new THREE.TextureLoader,this[_0x4b1c("0x423")]||(this[_0x4b1c("0x423")]=new(THREE[_0x4b1c("0x46f")])({color:this.selectedColor_,transparent:!0,name:_0x4b1c("0xac7")})),this.selectModelMat[_0x4b1c("0x147")]=new THREE.Color(this[_0x4b1c("0xfaf")]),c[_0x4b1c("0x41f")]&&c[_0x4b1c("0x41f")][_0x4b1c("0x1e6")]&&(this.selectModelMat[_0x4b1c("0x147")]=(new(THREE[_0x4b1c("0x146")]))[_0x4b1c("0x27c")](c[_0x4b1c("0x41f")][_0x4b1c("0x1e6")].color),this[_0x4b1c("0xfaf")]=esmap[_0x4b1c("0x87")].toColor(c[_0x4b1c("0x41f")].model.color)),this[_0x4b1c("0xe0d")]=this.createMaterial_(this[_0x4b1c("0xfba")]),this[_0x4b1c("0xdf0")].water=[this[_0x4b1c("0xfbb")]({color_:"#00BFFF",alpha:.8,strokeColor_:16777215,strokeWidth:2})],this.tileMaterial[_0x4b1c("0xdf1")][0].side=THREE[_0x4b1c("0x15c")],this[_0x4b1c("0x403")]=null,this[_0x4b1c("0xfbc")]=null,this[_0x4b1c("0xfbd")]=[{typeid:1,type:"AmbientLight",color:"#777777",intensity:1},{typeid:2,type:_0x4b1c("0x7dd"),color:_0x4b1c("0xfbe"),intensity:1.4,pitchAngle:70,directionAngle:180},{typeid:3,type:"DirectionalLight",color:"#000000",intensity:0,pitchAngle:45,directionAngle:90}]}return(0,r.default)(x,[{key:_0x4b1c("0xfbf"),value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=c[_0x4b1c("0x1c3")].lights[x];b?(c[_0x4b1c("0x1c3")][_0x4b1c("0x102")].remove(b),delete c.mapView.lights[x]):console[_0x4b1c("0xe3")](_0x4b1c("0xfc0")+x+_0x4b1c("0xfc1"))}},{key:_0x4b1c("0xfc2"),value:function(x){var c=esmap.ESMap[_0x4b1c("0x3a")],b=void 0;if(x[_0x4b1c("0x78")])switch(x[_0x4b1c("0x78")]){case _0x4b1c("0xbbf"):b=new(THREE[_0x4b1c("0xbbf")]);break;case _0x4b1c("0x7dd"):b=new(THREE[_0x4b1c("0x7dd")])(8947848,1)}b[_0x4b1c("0x1f7")]=x.typeid,c[_0x4b1c("0x1c3")][_0x4b1c("0x7da")][x[_0x4b1c("0x56b")]]=b,this[_0x4b1c("0xfc3")](b,x),c.mapView.scene[_0x4b1c("0xdd")](b)}},{key:_0x4b1c("0xfc4"),value:function(x){_0x4b1c("0xbc1"),_0x4b1c("0xbc2");for(var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x1c3")][_0x4b1c("0x7da")],b=0;b<x[_0x4b1c("0x0")];b++){var _=x[b];c[_[_0x4b1c("0x56b")]]?this[_0x4b1c("0xfc3")](c[_[_0x4b1c("0x56b")]],_):this.createLight(_)}}},{key:_0x4b1c("0xfc5"),value:function(x,c,b){this[_0x4b1c("0xfc6")](this[_0x4b1c("0xfc7")],32,b,x,c)}},{key:_0x4b1c("0xfc8"),value:function(x){for(var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=this[_0x4b1c("0xfb9")].Building,_=0;_<x.length;_++){var e=x[_];if((0,f.diffProperties)(e,b[_])){e[_0x4b1c("0x129")];var t=1*e[_0x4b1c("0xa7b")]||1,i=1*e[_0x4b1c("0xd6a")]||1;if(1==t)(0,a[_0x4b1c("0xc")])(this.tileStyles[e.typeid],{scaleheight:i,color:e[_0x4b1c("0x147")]});else{if(!e[_0x4b1c("0xfc9")]&&!e[_0x4b1c("0xfca")]){console[_0x4b1c("0xe3")]("主题文件错误,贴图样式"+e[_0x4b1c("0x56b")]+_0x4b1c("0xfcb")),e.filltype=1,_--;continue}var n=esmap[_0x4b1c("0x87")].colorRGB2Hex(e[_0x4b1c("0x147")]),r=document[_0x4b1c("0x21")](_0x4b1c("0x588"));r[_0x4b1c("0x1c9")]=16,r[_0x4b1c("0x1a3")]=16;var s=r[_0x4b1c("0x332")]("2d");s.fillStyle=n,s[_0x4b1c("0x9b0")](0,0,16,16),new(THREE[_0x4b1c("0x35e")])(r).needsUpdate=!0;var o=void 0,l=null,d=c.options[_0x4b1c("0x49")]+_0x4b1c("0xd7b")+this[_0x4b1c("0x535")][_0x4b1c("0x72")]+_0x4b1c("0xfcc"),u=1*e[_0x4b1c("0xfcd")],h=1*e[_0x4b1c("0xfce")];if(e.topimage){if(e[_0x4b1c("0xfc9")][_0x4b1c("0x114")]("/")>-1&&(d=c[_0x4b1c("0x47")][_0x4b1c("0x62")]+c.id+_0x4b1c("0xd7b")+this[_0x4b1c("0x535")][_0x4b1c("0x72")]+_0x4b1c("0xfcf")),o=this.textureLoader[_0x4b1c("0x187")](d+e[_0x4b1c("0xfc9")]),e[_0x4b1c("0xfd0")]||(e[_0x4b1c("0xfd0")]=1),1*e[_0x4b1c("0xfd0")]==1){var g=(1*e.topimagerepeat||50)/500;o.wrapS=o[_0x4b1c("0x18c")]=THREE[_0x4b1c("0x18d")],o.repeat.x=g,o[_0x4b1c("0x157")].y=g}o.needsUpdate=!0}if(e[_0x4b1c("0xfca")]){if(e[_0x4b1c("0xfca")][_0x4b1c("0x114")]("/")>-1&&(d=c[_0x4b1c("0x47")].mapDataSrc+c.id+_0x4b1c("0xd7b")+this.options_[_0x4b1c("0x72")]+"/upload/building/"),l=this[_0x4b1c("0x877")][_0x4b1c("0x187")](d+e[_0x4b1c("0xfca")]),e[_0x4b1c("0xfd1")]||(e[_0x4b1c("0xfd1")]=1),1*e[_0x4b1c("0xfd1")]==1){var v=(1*e[_0x4b1c("0xfce")]||50)/500;l[_0x4b1c("0x8a7")]=l[_0x4b1c("0x18c")]=THREE[_0x4b1c("0x18d")],l[_0x4b1c("0x157")].x=v,l[_0x4b1c("0x157")].y=v}l.needsUpdate=!0}var p=this.tileStyles[e[_0x4b1c("0x56b")]][_0x4b1c("0xf4")].userData[_0x4b1c("0xfd2")];o&&(p[_0x4b1c("0x47d")][_0x4b1c("0x148")][_0x4b1c("0x473")].value=o,p[_0x4b1c("0x47d")][_0x4b1c("0x148")].topTexMat[_0x4b1c("0x13a")]=o.matrix),l&&(p[_0x4b1c("0x47d")][_0x4b1c("0x148")].sideTex.value=l,p[_0x4b1c("0x47d")][_0x4b1c("0x148")][_0x4b1c("0x476")].value=l.matrix),(0,a[_0x4b1c("0xc")])(this[_0x4b1c("0xa79")][e[_0x4b1c("0x56b")]],{scaleheight:i,topTextureType:1*e[_0x4b1c("0xfd0")]||1,sideTextureType:1*e[_0x4b1c("0xfd1")]||1,filltype:t,topImage:e[_0x4b1c("0xfc9")],sideImage:e[_0x4b1c("0xfca")],sideimagerepeat:h,topimagerepeat:u})}}}}},{key:"initPoiStylesByData",value:function(x){for(var c in x){var b=x[c],_=b[_0x4b1c("0x56b")],a={},n=(0,s[_0x4b1c("0xfd3")])(b,{fillStyle:[_0x4b1c("0x34e"),_0x4b1c("0x33e")],strokeStyle:["strokecolor",_0x4b1c("0x33f")],strokeWidth:[_0x4b1c("0xe24"),_0x4b1c("0x344")],fontSize:["fontsize",_0x4b1c("0x336")],image:[_0x4b1c("0x316")],imageAlign:["imageAlign"],imageScale:[_0x4b1c("0xfd4")],shadowBlur:[_0x4b1c("0x340")],shadowOffsetX:[_0x4b1c("0x342")],shadowOffsetY:[_0x4b1c("0x343")],shadowColor:[_0x4b1c("0x341")],imageShadowBlur:[_0x4b1c("0xfd5")]}),r=(0,i[_0x4b1c("0xc")])(n),o=!0,f=!1,l=void 0;try{for(var d,u=(0,t[_0x4b1c("0xc")])(r);!(o=(d=u[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);o=!0){var h=(0,e[_0x4b1c("0xc")])(d.value,2),g=h[0],v=h[1];"fillStyle"!=g&&g!=_0x4b1c("0x33f")&&g!=_0x4b1c("0x341")||(n[g]=(0,s[_0x4b1c("0x350")])(v))}}catch(x){f=!0,l=x}finally{try{!o&&u[_0x4b1c("0x28a")]&&u[_0x4b1c("0x28a")]()}finally{if(f)throw l}}(0,s.assignExceptUndefined)(a,n),this[_0x4b1c("0x3da")][_]=a,this[_0x4b1c("0x3da")][_].typeid=_}}},{key:_0x4b1c("0xfd6"),value:function(){return!0}},{key:"initTileStylesByData",value:function(x){for(var c=this,b=esmap.ESMap[_0x4b1c("0x3a")],_=0,e=0,t=void 0,i=void 0,a=b[_0x4b1c("0x47")].editMode,n=!1,r={},s=0;s<x[_0x4b1c("0x0")];s++){var f=x[s],l=1*f[_0x4b1c("0x129")]||0,d=!0,u=1*f[_0x4b1c("0xa7b")]||1,h=1*f[_0x4b1c("0xd6a")]||1,g=1*f[_0x4b1c("0x1a3")]||0,v=1*f[_0x4b1c("0xfd7")]||0,p=1*f.borderwidth||0,m=f[_0x4b1c("0xdf9")]||_0x4b1c("0xfd8");if(v){var A=new THREE.MeshBasicMaterial({color:esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](f[_0x4b1c("0x147")]),transparent:d,opacity:l,side:0});this[_0x4b1c("0xa79")][f[_0x4b1c("0x56b")]]={basic:v,material:A,borderwidth:p,bordercolor:m,prodMatIdx:1e3+1*f[_0x4b1c("0x56b")],scaleheight:h,color:f[_0x4b1c("0x147")],hasTexture:!1,filltype:1,height:g},this[_0x4b1c("0xa79")][1e3+1*f[_0x4b1c("0x56b")]]=this[_0x4b1c("0xa79")][f[_0x4b1c("0x56b")]]}else if(1==u){var y=new(THREE[_0x4b1c("0x46f")])({color:esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](f[_0x4b1c("0x147")]),transparent:d,opacity:l,side:0});this[_0x4b1c("0xa79")][f[_0x4b1c("0x56b")]]={borderwidth:p,bordercolor:m,material:y,prodMatIdx:0,scaleheight:h,color:f[_0x4b1c("0x147")],hasTexture:!1,filltype:1,height:g}}else{if(!f[_0x4b1c("0xfc9")]&&!f[_0x4b1c("0xfca")]){console[_0x4b1c("0xe3")](_0x4b1c("0xfd9")+f[_0x4b1c("0x56b")]+_0x4b1c("0xfcb")),f[_0x4b1c("0xa7b")]=1,s--;continue}var C=esmap[_0x4b1c("0x87")].colorRGB2Hex(f[_0x4b1c("0x147")]),I=new(o[_0x4b1c("0xc")])({colorStr:C}),E=document[_0x4b1c("0x21")](_0x4b1c("0x588"));E[_0x4b1c("0x1c9")]=16,E[_0x4b1c("0x1a3")]=16;var w=E[_0x4b1c("0x332")]("2d");w[_0x4b1c("0x33e")]=C,w[_0x4b1c("0x9b0")](0,0,16,16);var T=new(THREE[_0x4b1c("0x35e")])(E);T[_0x4b1c("0x188")]=!0;var k=void 0,S=null,M=1*f.topimagerepeat,R=1*f[_0x4b1c("0xfce")];if(f[_0x4b1c("0xfc9")]){var L=b.options[_0x4b1c("0x49")]+_0x4b1c("0xd7b")+this[_0x4b1c("0x535")].themeID+"/building/";f[_0x4b1c("0xfc9")][_0x4b1c("0x114")]("/")>-1&&(L=b.options[_0x4b1c("0x62")]+b.id+_0x4b1c("0xd7b")+this.options_[_0x4b1c("0x72")]+_0x4b1c("0xfcf")),this[_0x4b1c("0xfb7")][f[_0x4b1c("0xfc9")]]={uuid:null,texture:null,loaded:!1,failed:!1},n||(n=!0);var H=L+f[_0x4b1c("0xfc9")];if(r[H]=!1,k=this[_0x4b1c("0x877")][_0x4b1c("0x187")](H,(function(x){var _=x[_0x4b1c("0x195")],e=!0;for(var t in x.needsUpdate=!0,r[x[_0x4b1c("0x316")][_0x4b1c("0x4d7")]]=!0,c[_0x4b1c("0xfb7")])c.tileTextures[t][_0x4b1c("0x195")]===_&&(c[_0x4b1c("0xfb7")][t][_0x4b1c("0xb02")]=!0),c[_0x4b1c("0xfb7")][t][_0x4b1c("0xb02")]||(e=!1);e&&b[_0x4b1c("0xe7")](_0x4b1c("0xfda"))}),null,(function(x){for(var c in r[x[_0x4b1c("0x2c7")][_0x4b1c("0x4d7")]]=!0,r)if(!r[c])return;b[_0x4b1c("0xe7")]("tileTexturesReady")})),this.tileTextures[f.topimage][_0x4b1c("0x195")]=k.uuid,this[_0x4b1c("0xfb7")][f[_0x4b1c("0xfc9")]][_0x4b1c("0x61c")]=k,f[_0x4b1c("0xfd0")]||(f[_0x4b1c("0xfd0")]=1),1*f[_0x4b1c("0xfd0")]==1){var D=(1*f[_0x4b1c("0xfcd")]||50)/500;k[_0x4b1c("0x8a7")]=k[_0x4b1c("0x18c")]=THREE[_0x4b1c("0x18d")],k[_0x4b1c("0x157")].x=D,k.repeat.y=D}this[_0x4b1c("0xfb7")][k]}if(f[_0x4b1c("0xfca")]){var O=b[_0x4b1c("0x47")][_0x4b1c("0x49")]+_0x4b1c("0xd7b")+this[_0x4b1c("0x535")].themeID+"/building/";f[_0x4b1c("0xfca")][_0x4b1c("0x114")]("/")>-1&&(O=b[_0x4b1c("0x47")][_0x4b1c("0x62")]+b.id+_0x4b1c("0xd7b")+this[_0x4b1c("0x535")].themeID+"/upload/building/"),this[_0x4b1c("0xfb7")][f.sideimage]={uuid:null,texture:null,loaded:!1},n||(n=!0);var P=O+f.sideimage;if(r[P]=!1,S=this[_0x4b1c("0x877")][_0x4b1c("0x187")](O+f[_0x4b1c("0xfca")],(function(x){r[x[_0x4b1c("0x316")][_0x4b1c("0x4d7")]]=!0;var _=x.uuid,e=!0;for(var t in x.needsUpdate=!0,c[_0x4b1c("0xfb7")])c.tileTextures[t][_0x4b1c("0x195")]===_&&(c[_0x4b1c("0xfb7")][t][_0x4b1c("0xb02")]=!0),c.tileTextures[t][_0x4b1c("0xb02")]||(e=!1);e&&b[_0x4b1c("0xe7")](_0x4b1c("0xfda"))}),null,(function(x){for(var c in r[x[_0x4b1c("0x2c7")][_0x4b1c("0x4d7")]]=!0,r)if(!r[c])return;b[_0x4b1c("0xe7")](_0x4b1c("0xfda"))})),this.tileTextures[f[_0x4b1c("0xfca")]][_0x4b1c("0x195")]=S.uuid,this.tileTextures[f[_0x4b1c("0xfca")]].texture=S,f[_0x4b1c("0xfd1")]||(f.sideimagetype=1),1*f[_0x4b1c("0xfd1")]==1){var N=(1*f[_0x4b1c("0xfce")]||50)/500;S[_0x4b1c("0x8a7")]=S.wrapT=THREE[_0x4b1c("0x18d")],S[_0x4b1c("0x157")].x=N,S[_0x4b1c("0x157")].y=N}}var F=t;t&&0!==_||((F=I[_0x4b1c("0x46d")]({topTexture:k||T,sideTexture:S||T})).userData[_0x4b1c("0xfdb")]=S,F[_0x4b1c("0x165")].texTop=k,F.transparent=d,F.userData[_0x4b1c("0xfd2")]=I,F[_0x4b1c("0x129")]=l,t=F,F.userData[_0x4b1c("0xfdc")]=this[_0x4b1c("0xa2f")][_0x4b1c("0x0")]-1),i||(i=F),this[_0x4b1c("0xa79")][f.typeid]={borderwidth:p,bordercolor:m,scaleheight:h,material:F,prodMatIdx:e,hasTexture:!0,topTextureType:1*f.topimagetype||1,sideTextureType:1*f[_0x4b1c("0xfd1")]||1,filltype:u,topImage:f.topimage,sideImage:f[_0x4b1c("0xfca")],sideimagerepeat:R,topimagerepeat:M,height:g},4===(_+=1)&&(_=0,e++)}}var B={};for(var z in this[_0x4b1c("0xa79")])B[z]=this[_0x4b1c("0xa79")][z][_0x4b1c("0xe0e")],this[_0x4b1c("0xa79")][z].basic||1*this.tileStyles[z].filltype!=1||a||(this[_0x4b1c("0xa79")][z].material=i,this[_0x4b1c("0xa79")][z][_0x4b1c("0xe0e")]=0);return this.tileStylesMap=B,n}},{key:"setNavDirectRoadStyle",value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];if(x.singleStyle&&x[_0x4b1c("0xfdd")]){this[_0x4b1c("0x403")]=this[_0x4b1c("0xfde")](x.singleStyle,c),this[_0x4b1c("0xfbc")]=this.createRoadStyle(x[_0x4b1c("0xfdd")],c);var b=!0,_=!1,e=void 0;try{for(var i,a=(0,t.default)(c[_0x4b1c("0x672")]);!(b=(i=a[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);b=!0){i.value.toggleDirectRoads(!0,x.singleStyle,x.doubleStyle)}}catch(x){_=!0,e=x}finally{try{!b&&a.return&&a[_0x4b1c("0x28a")]()}finally{if(_)throw e}}}else console[_0x4b1c("0x291")](_0x4b1c("0xfdf"))}},{key:_0x4b1c("0xfe0"),value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];if(c[_0x4b1c("0x47")].loadRoads)for(var b=0;b<x[_0x4b1c("0x0")];b++)this[_0x4b1c("0xfde")](x[b],c)}},{key:_0x4b1c("0xfde"),value:function(x,c){var b=x.typeid,_=new(THREE[_0x4b1c("0x144")])({color:16777215,transparent:true,opacity:1*x[_0x4b1c("0x129")],side:THREE[_0x4b1c("0x15c")]});_.transparent=true,_[_0x4b1c("0x129")]=1*x[_0x4b1c("0x129")];var e=null;if(1==x[_0x4b1c("0xa7b")])_[_0x4b1c("0x147")]=new THREE.Color(esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](x[_0x4b1c("0x147")]));else{x.customImage?e=x[_0x4b1c("0xfe1")]:(e=c.options[_0x4b1c("0x49")]+_0x4b1c("0xd7b")+this[_0x4b1c("0x535")].themeID+_0x4b1c("0xfe2")+x[_0x4b1c("0x316")],x.image[_0x4b1c("0x114")]("/")>-1&&(e=this.options_[_0x4b1c("0x49")]+(1==this[_0x4b1c("0x535")][_0x4b1c("0x99")]?c.options[_0x4b1c("0x62")]+c.id:"/")+_0x4b1c("0xd7b")+this[_0x4b1c("0x535")].themeID+_0x4b1c("0xfe3")+x[_0x4b1c("0x316")]));var t=this[_0x4b1c("0x877")][_0x4b1c("0x187")](e);t[_0x4b1c("0x157")].y=1,t.offset.y=0,t[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x18b")],t[_0x4b1c("0x8a7")]=THREE.RepeatWrapping,t.wrapT=THREE[_0x4b1c("0x18d")],t[_0x4b1c("0x157")].x=x.repeat||.01,t.anisotropy=c.mapView.renderer[_0x4b1c("0x361")][_0x4b1c("0x362")](),_[_0x4b1c("0x3e")]=t}return x.animationspeed=x[_0x4b1c("0x3fc")]||0,x[_0x4b1c("0x1")](_0x4b1c("0x129"))||(x.opacity=1),this[_0x4b1c("0x3fa")][b]={url:e,animationspeed:1*x.animationspeed,material:_,color:x[_0x4b1c("0x147")],filltype:x[_0x4b1c("0xa7b")],height:1*x.height,image:x[_0x4b1c("0x316")],linetype:x[_0x4b1c("0xfe4")],linewidth:1*x[_0x4b1c("0x3fb")],layerstyle:x.layerstyle,opacity:1*x.opacity},_}},{key:_0x4b1c("0xfc3"),value:function(x,c){c[_0x4b1c("0x1")](_0x4b1c("0x422"))&&(x[_0x4b1c("0x422")]=1*c[_0x4b1c("0x422")],x.intensity||(x.visible=!1)),c[_0x4b1c("0x1")](_0x4b1c("0x147"))&&(x[_0x4b1c("0x147")]=(new THREE.Color)[_0x4b1c("0x27c")](c.color)),x[_0x4b1c("0x78")]==_0x4b1c("0x7dd")&&c[_0x4b1c("0x1")](_0x4b1c("0xab0"))&&c.hasOwnProperty("directionAngle")&&x[_0x4b1c("0xc4e")]({pitchAngle:c[_0x4b1c("0xab0")],directionAngle:c[_0x4b1c("0xaae")]})}},{key:"setMapTheme",value:function(x){this.modelLines=1*x[_0x4b1c("0xdf4")]||!1;var c=esmap[_0x4b1c("0x32")].instance;x[_0x4b1c("0xfe5")]&&(this.clearColor_=esmap.ESMapUtil[_0x4b1c("0x44b")](x[_0x4b1c("0xfe5")]),c[_0x4b1c("0x1c3")][_0x4b1c("0x360")].setClearColor(this[_0x4b1c("0xac4")])),this.initRoadStylesByData(x[_0x4b1c("0xfe6")]);var b=this.initTileStylesByData(x[_0x4b1c("0x1e2")]);return x[_0x4b1c("0xfe7")]&&this.initPoiStylesByData(x.Poi),x[_0x4b1c("0xfe8")]&&x[_0x4b1c("0xfe9")]&&!1===x[_0x4b1c("0xfe9")][_0x4b1c("0xfea")]&&(this[_0x4b1c("0xfeb")]=!0,this.setLights(x.Light)),this.maptheme=x,b}},{key:_0x4b1c("0xcb8"),value:function(x){var c=x.id,b=x[_0x4b1c("0x569")],_=x.buildingId;this[_0x4b1c("0xfec")](c,b,_)}},{key:_0x4b1c("0xfec"),value:function(x,c,b){this[_0x4b1c("0xac4")]=esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](c[_0x4b1c("0xfed")][_0x4b1c("0xfe5")]);var _=this[_0x4b1c("0xfa9")][x]={};_[_0x4b1c("0xfee")]={},_.roomStyle={},_[_0x4b1c("0xfef")]={},_.data=c,_[_0x4b1c("0x72a")]=esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](c[_0x4b1c("0xfed")][_0x4b1c("0xfe5")]);var n=1-1*c[_0x4b1c("0xfed")][_0x4b1c("0xff0")]||0;_[_0x4b1c("0x731")]=n,_[_0x4b1c("0xff1")]={default:(0,a[_0x4b1c("0xc")])({},this[_0x4b1c("0xff2")]),selected:(0,a[_0x4b1c("0xc")])({},this[_0x4b1c("0xfb1")])},_.modelLines=1*c[_0x4b1c("0xfed")][_0x4b1c("0xdf4")]||!1,esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x3b")]==esmap.MapMode.Building&&(c.lights?(this[_0x4b1c("0xfeb")]=!0,this[_0x4b1c("0xfc4")](c[_0x4b1c("0x7da")])):this[_0x4b1c("0xfc4")](this[_0x4b1c("0xfbd")])),this[_0x4b1c("0xfad")]=1*c[_0x4b1c("0xfed")][_0x4b1c("0xfad")]||0;for(var r=c[_0x4b1c("0x56a")],o=0;o<r[_0x4b1c("0x0")];o++){var f=r[o];f[_0x4b1c("0xff3")]=esmap.ESMapUtil[_0x4b1c("0x44b")](f.color),1==f.typeid&&(this.selectedColor_=f[_0x4b1c("0xff3")]),f[_0x4b1c("0xe23")]=esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](f[_0x4b1c("0xff4")]),f[_0x4b1c("0x273")]=f[_0x4b1c("0x145")],_[_0x4b1c("0xfef")][f[_0x4b1c("0x56b")]]=this[_0x4b1c("0xfbb")](f,null,x,b),_[_0x4b1c("0xff5")][f[_0x4b1c("0x56b")]]=f}var l={},d=c[_0x4b1c("0xff6")];if(_.floorStyleBase={},d&&d[_0x4b1c("0x0")]>0){var u=d[0];this[_0x4b1c("0xfab")]=esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](u[_0x4b1c("0x147")]),u[_0x4b1c("0x145")]&&(this[_0x4b1c("0xfac")]=1-parseFloat(u[_0x4b1c("0x145")])),d.forEach((function(x){_[_0x4b1c("0xff7")][x[_0x4b1c("0xc0b")]]={height:x[_0x4b1c("0xff8")],opacity:1-parseFloat(x[_0x4b1c("0x145")]),color:esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](x.color),image:x[_0x4b1c("0x316")]||"",imagesize:x[_0x4b1c("0xeea")]||"",light:x[_0x4b1c("0x8f1")]||!1};var c=x[_0x4b1c("0x316")];c&&!l[c[_0x4b1c("0x14c")](_0x4b1c("0xff9"),"")]&&(l[c[_0x4b1c("0x14c")](".png","")]=1)}))}this[_0x4b1c("0xfc7")]=l,c.hideFloorBase&&(esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x47")][_0x4b1c("0xa39")]=c[_0x4b1c("0xa39")]),_[_0x4b1c("0xfb4")]={};var h=c[_0x4b1c("0xffa")];if(h){if(h[0]){var g=(0,s[_0x4b1c("0xfd3")])(h[0],{fillStyle:[_0x4b1c("0x34e"),"fillStyle"],strokeStyle:[_0x4b1c("0xff4"),_0x4b1c("0x33f")],strokeWidth:["strokewidth",_0x4b1c("0x344")],fontSize:[_0x4b1c("0xffb"),_0x4b1c("0x336")],image:[_0x4b1c("0x316")],imageAlign:["imageAlign"],imageScale:[_0x4b1c("0xfd4")],shadowBlur:[_0x4b1c("0x340")],shadowOffsetX:["shadowOffsetX"],shadowOffsetY:["shadowOffsetY"],shadowColor:["shadowColor"],imageShadowBlur:[_0x4b1c("0xfd5")]}),v=(0,i[_0x4b1c("0xc")])(g),p=!0,m=!1,A=void 0;try{for(var y,C=(0,t.default)(v);!(p=(y=C[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);p=!0){var I=(0,e[_0x4b1c("0xc")])(y[_0x4b1c("0x13a")],2),E=I[0],w=I[1];E!=_0x4b1c("0x33e")&&E!=_0x4b1c("0x33f")&&E!=_0x4b1c("0x341")||(g[E]=(0,s[_0x4b1c("0x350")])(w))}}catch(x){m=!0,A=x}finally{try{!p&&C[_0x4b1c("0x28a")]&&C[_0x4b1c("0x28a")]()}finally{if(m)throw A}}(0,s.assignExceptUndefined)(_[_0x4b1c("0xff1")][_0x4b1c("0xc")],g)}if(h[1]){var T=(0,s[_0x4b1c("0xfd3")])(h[0],{fillStyle:["fillcolor",_0x4b1c("0x33e")],strokeStyle:[_0x4b1c("0xff4"),_0x4b1c("0x33f")],strokeWidth:[_0x4b1c("0xe24"),_0x4b1c("0x344")],fontSize:[_0x4b1c("0xffb"),_0x4b1c("0x336")]});(0,s[_0x4b1c("0xffc")])(_.fontStyle[_0x4b1c("0xffd")],T)}}}},{key:"createMaterial_",value:function(x,c,b,_){var e=esmap.ESMap.instance,t=x[_0x4b1c("0xffe")]||!1,i=1*x[_0x4b1c("0x15b")]||0;_=_||!!e&&e[_0x4b1c("0x7e")][_0x4b1c("0xca8")]||(e?e[_0x4b1c("0x7e")][_0x4b1c("0xca8")]:null);var a=new THREE.MeshLambertMaterial({color:c||x[_0x4b1c("0xff3")],opacity:1*x[_0x4b1c("0x273")],side:i});if(a[_0x4b1c("0x129")]<1&&(a[_0x4b1c("0x145")]=!0),a[_0x4b1c("0x471")]=function(x){x.vertexShader=x[_0x4b1c("0x14a")][_0x4b1c("0x14c")](_0x4b1c("0x477"),_0x4b1c("0xfff")),x[_0x4b1c("0x14a")]=x.vertexShader[_0x4b1c("0x14c")](_0x4b1c("0x14d"),_0x4b1c("0x1000")),x[_0x4b1c("0x150")]=x[_0x4b1c("0x150")][_0x4b1c("0x14c")](_0x4b1c("0x14e"),_0x4b1c("0x1001")),x.fragmentShader=x[_0x4b1c("0x150")].replace(_0x4b1c("0x151"),_0x4b1c("0x1002"))},x[_0x4b1c("0x316")]){var n=l.default[_0x4b1c("0x680")](_0x4b1c("0x5a"),{themeID:b,filename:x[_0x4b1c("0x316")],buildingId:_}),r=esmap[_0x4b1c("0x87")].loadTexture(n);r[_0x4b1c("0x8a7")]=THREE[_0x4b1c("0x18d")],r[_0x4b1c("0x18c")]=THREE[_0x4b1c("0x18d")],a[_0x4b1c("0x3e")]=r,a[_0x4b1c("0x3e")].needsUpdate=!0,a.needsUpdate=!0}return x.hasOwnProperty(_0x4b1c("0x143"))&&(a.roughness=1*x[_0x4b1c("0x143")]),x.hasOwnProperty(_0x4b1c("0x142"))&&(a.metalness=1*x[_0x4b1c("0x142")]),x[_0x4b1c("0x1003")]&&a[_0x4b1c("0x420")][_0x4b1c("0xdb")](esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](x[_0x4b1c("0x1003")])),t&&(a[_0x4b1c("0x16f")]=!1),a}},{key:_0x4b1c("0xa8f"),value:function(x,c,b,_){var e=esmap[_0x4b1c("0x32")].instance,t=new(THREE[_0x4b1c("0x146")]),i=_||1;t[_0x4b1c("0x27c")](c),x[_0x4b1c("0x471")]=function(c){c[_0x4b1c("0x148")][_0x4b1c("0x1004")]={value:0},c[_0x4b1c("0x148")].isFlash={value:!!b},c.uniforms.targetCol={value:t},c.fragmentShader=c[_0x4b1c("0x150")][_0x4b1c("0x14c")]("uniform float opacity;","\n                uniform float opacity;\n                uniform float iTime;\n                uniform bool isFlash;\n                uniform vec3 targetCol;\n                "),c[_0x4b1c("0x150")]=c[_0x4b1c("0x150")][_0x4b1c("0x14c")](_0x4b1c("0x151"),"\n                vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                if(isFlash) {\n                    resultColor.rgb = mix(resultColor.rgb, targetCol, (0.5 + sin(iTime) * 0.5));\n                }\n                gl_FragColor = resultColor;\n                "),x[_0x4b1c("0xa91")]=c,e.on(_0x4b1c("0x164"),(function(){x[_0x4b1c("0xa91")][_0x4b1c("0x148")][_0x4b1c("0x1004")].value+=.1*i}))}}},{key:_0x4b1c("0x1005"),value:function(x,c){var b=this.themeList[x][_0x4b1c("0xff5")][c];return(0,s[_0x4b1c("0x1006")])(b||this[_0x4b1c("0xfba")])}},{key:_0x4b1c("0x1007"),value:function(x,c){var b=this[_0x4b1c("0xfa9")][x][_0x4b1c("0xfb4")];for(var _ in b)if(1*b[_].typeid==c)return b[_]}},{key:_0x4b1c("0x1008"),value:function(x,c,b){var e;return b[_0x4b1c("0x0")]<1?e=this[_0x4b1c("0xfa9")][x][_0x4b1c("0xfef")][c]?this[_0x4b1c("0xfa9")][x].materialList[c]:(0,_.default)(this[_0x4b1c("0xfa9")][x][_0x4b1c("0xfef")])[_0x4b1c("0x0")]>0?this[_0x4b1c("0xfa9")][x][_0x4b1c("0xfef")][0]:this.createMaterial_(this[_0x4b1c("0xfba")]):(e=this[_0x4b1c("0xfbb")](this[_0x4b1c("0x1005")](c),esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](b))).color_=esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](b),e||this[_0x4b1c("0xe0d")]}},{key:_0x4b1c("0x3e7"),value:function(x,c,b,_){var e=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],t=void 0;if(e[_0x4b1c("0x3b")]==esmap.MapMode[_0x4b1c("0x1e2")])t=isNaN(c)?e[_0x4b1c("0x47")][_0x4b1c("0x62")]+e.id+_0x4b1c("0xe9c")+c:e.options[_0x4b1c("0x74")]?e[_0x4b1c("0x47")][_0x4b1c("0x74")]+x+"/"+c+_0x4b1c("0xff9"):e.options[_0x4b1c("0x62")]+e.id+_0x4b1c("0x77")+x+"/"+c+_0x4b1c("0xff9");else if(1!=e[_0x4b1c("0x47")][_0x4b1c("0x99")])t=isNaN(c)?1==_?e[_0x4b1c("0x47")][_0x4b1c("0x49")]+_0x4b1c("0x1009")+c:e.options[_0x4b1c("0x49")]+"/buildings/"+b+"/imagelabel/"+c:e[_0x4b1c("0x47")][_0x4b1c("0x49")]+_0x4b1c("0x100a")+x+"/"+c+_0x4b1c("0xff9");else if(isNaN(c))if(1==_){var i=3==e.options.s?_0x4b1c("0x100b"):_0x4b1c("0x100c");t=e[_0x4b1c("0x47")][_0x4b1c("0x49")]+i+e.id+_0x4b1c("0x1009")+c}else{var a=3==e.options.s?_0x4b1c("0xa0"):_0x4b1c("0xa1");t=e[_0x4b1c("0x47")][_0x4b1c("0x49")]+a+b+_0x4b1c("0xe9c")+c}else t=e[_0x4b1c("0x47")][_0x4b1c("0x49")]+_0x4b1c("0x77")+x+"/"+c+".png";return t}},{key:_0x4b1c("0x100d"),value:function(x,c,b,_){var e=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],t=void 0;if(e[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")])t=isNaN(c)?e.options.mapDataSrc+e.id+_0x4b1c("0xe9c")+c:e[_0x4b1c("0x47")].mapThemeSrc?e[_0x4b1c("0x47")][_0x4b1c("0x74")]+x+"/"+c+_0x4b1c("0xff9"):e[_0x4b1c("0x47")][_0x4b1c("0x62")]+e.id+_0x4b1c("0x77")+x+"/"+c+".png";else if(1!=e[_0x4b1c("0x47")][_0x4b1c("0x99")])t=isNaN(c)?1==_?e[_0x4b1c("0x47")].serverUrl+_0x4b1c("0x1009")+c:e[_0x4b1c("0x47")][_0x4b1c("0x49")]+_0x4b1c("0x97")+b+_0x4b1c("0xe9c")+c:e[_0x4b1c("0x47")].serverUrl+_0x4b1c("0x100a")+x+"/"+c+_0x4b1c("0xff9");else if(isNaN(c))if(1==_){var i=3==e[_0x4b1c("0x47")].s?"/EsmapTileOffData/":_0x4b1c("0x100c");t=e.options[_0x4b1c("0x49")]+i+e.id+_0x4b1c("0x1009")+c}else{var a=3==e[_0x4b1c("0x47")].s?_0x4b1c("0xa0"):"/EsmapJsonData/";t=e[_0x4b1c("0x47")].serverUrl+a+b+_0x4b1c("0xe9c")+c}else t=e[_0x4b1c("0x47")][_0x4b1c("0x49")]+_0x4b1c("0x77")+x+"/"+c+".png";var n=esmap[_0x4b1c("0x87")][_0x4b1c("0x696")](t);return n[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x35f")],n[_0x4b1c("0x8a6")]=THREE[_0x4b1c("0x561")],new THREE.SpriteMaterial({map:n})}},{key:"initPoiMateriaByData",value:function(x,c,b,_,e){var t=esmap[_0x4b1c("0x32")].instance,i=this.themeList[b];for(var a in x){var n={};if(n.id=a,n[_0x4b1c("0x1a3")]=c,!i[_0x4b1c("0xfee")][n.id]&&12e4!=n.id){var r="";r=t[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?t.options[_0x4b1c("0x74")]?t[_0x4b1c("0x47")][_0x4b1c("0x74")]+b+"/"+n.id+_0x4b1c("0xff9"):t[_0x4b1c("0x47")].mapDataSrc+t.id+_0x4b1c("0x77")+b+"/"+n.id+_0x4b1c("0xff9"):1!=t[_0x4b1c("0x47")].tid?t.options[_0x4b1c("0x49")]+"/buildings/theme/"+b+"/"+n.id+_0x4b1c("0xff9"):t[_0x4b1c("0x47")].serverUrl+_0x4b1c("0x77")+b+"/"+n.id+_0x4b1c("0xff9"),n.id&&n.id[_0x4b1c("0x2f")]()[_0x4b1c("0x114")](_0x4b1c("0xff9"))>0&&(e==esmap[_0x4b1c("0x621")][_0x4b1c("0xb29")]?r=this.options_[_0x4b1c("0x62")]+_+_0x4b1c("0x1009")+n.id:1!=this.options_[_0x4b1c("0x99")]&&(r=this[_0x4b1c("0x535")][_0x4b1c("0x62")]+"buildings/"+_+_0x4b1c("0xe9c")+n.id));var s=esmap[_0x4b1c("0x87")].loadTexture(r);s.minFilter=THREE[_0x4b1c("0x35f")],s[_0x4b1c("0x8a6")]=THREE.NearestFilter,n[_0x4b1c("0x100e")]=new(THREE[_0x4b1c("0x52f")])({map:s}),n[_0x4b1c("0x100e")][_0x4b1c("0xe0")]=c,i[_0x4b1c("0xfee")][n.id]=n}}this[_0x4b1c("0xfc7")]=null}},{key:_0x4b1c("0x100f"),value:function(x,c){var b=this,_=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];c||(c=_[_0x4b1c("0x566")]().options[_0x4b1c("0x72")]);var e=_.getBuilding();b[_0x4b1c("0xfec")](c,x,e.id),_[_0x4b1c("0x1010")](b[_0x4b1c("0xac4")],1),_.mapView.show();var t=b[_0x4b1c("0xfa9")][c];e[_0x4b1c("0xf0")].traverse((function(x){if(x.datas_)switch(x[_0x4b1c("0xef")][_0x4b1c("0x123")]){case esmap[_0x4b1c("0x131")][_0x4b1c("0x132")]:if(!t)return;x.material[_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(t.strokeColor_),x[_0x4b1c("0xf4")].linewidth=t[_0x4b1c("0xe24")];break;case esmap[_0x4b1c("0x131")][_0x4b1c("0xc17")]:var i=b.floorColor_,a=b[_0x4b1c("0xfac")];if(x[_0x4b1c("0x108")][_0x4b1c("0x108")]&&x[_0x4b1c("0x108")][_0x4b1c("0x108")][_0x4b1c("0xef")]instanceof esmap[_0x4b1c("0x53d")]){var n=x.parent[_0x4b1c("0x108")][_0x4b1c("0xef")][_0x4b1c("0x210")],r=t[_0x4b1c("0xff7")][n]||t[_0x4b1c("0xff7")][0];if(r)if(i=r[_0x4b1c("0x147")],a=r[_0x4b1c("0x129")],r[_0x4b1c("0x316")]){var s=x.material;Array[_0x4b1c("0x32f")](s)&&(s=x.material[0]);var o=[s,s[_0x4b1c("0x13e")]()],f=o[0],d=o[1];d[_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(i),d[_0x4b1c("0x129")]=a;var u=l[_0x4b1c("0xc")][_0x4b1c("0x680")](_0x4b1c("0x5a"),{themeID:c,filename:r[_0x4b1c("0x316")],buildingId:e.id});esmap.ESMapUtil.loadTexture(u,(function(x){x[_0x4b1c("0x8a7")]=x.wrapT=THREE[_0x4b1c("0x18d")];var c=(_[_0x4b1c("0x5a7")]-_[_0x4b1c("0x5a3")])/(_[_0x4b1c("0x5ba")]-_.minY),b=r[_0x4b1c("0xeea")].split(","),e=0;b[2]&&(e=b[2]*THREE[_0x4b1c("0x215")].DEG2RAD,x[_0x4b1c("0x202")]=e),x[_0x4b1c("0x157")][_0x4b1c("0xdb")](b[0]*c,b[1]),f[_0x4b1c("0x147")].set(16777215),f.opacity=a,f[_0x4b1c("0x145")]=1*a!=1,f[_0x4b1c("0x3e")]=x,f[_0x4b1c("0x3e")].needsUpdate=!0,f[_0x4b1c("0x188")]=!0})),x[_0x4b1c("0xf4")]=o}else x[_0x4b1c("0xf4")]instanceof Array?(x[_0x4b1c("0xf4")][0][_0x4b1c("0x3e")]&&(x[_0x4b1c("0xf4")][0][_0x4b1c("0x3e")][_0x4b1c("0xf3")](),x.material[0].map=void 0,x[_0x4b1c("0xf4")][0].needsUpdate=!0),x.material[0][_0x4b1c("0x147")]=new THREE.Color(i),x.material[0][_0x4b1c("0x129")]=a,x[_0x4b1c("0xf4")][0].transparent=1*a!=1):(x[_0x4b1c("0xf4")][_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(i),x[_0x4b1c("0xf4")][_0x4b1c("0x129")]=a,x.material[_0x4b1c("0x145")]=1*a!=1,x[_0x4b1c("0xf4")][_0x4b1c("0x3e")]&&!r[_0x4b1c("0x316")]&&(x[_0x4b1c("0xf4")][_0x4b1c("0x3e")]=null,x.material.needsUpdate=!0))}break;case esmap[_0x4b1c("0x131")][_0x4b1c("0x690")]:var h=x[_0x4b1c("0xef")].brothers[0][_0x4b1c("0x56c")],g=t[_0x4b1c("0xff5")][h];if(!g)return;var v=g.color;if("string"==typeof v&&(v=esmap.ESMapUtil[_0x4b1c("0x44b")](g.color)),x[_0x4b1c("0xf4")][_0x4b1c("0x147")])x.material[_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(v),x[_0x4b1c("0xf4")][_0x4b1c("0x129")]=g[_0x4b1c("0x273")]||1,x[_0x4b1c("0xf4")][_0x4b1c("0x188")]=!0,g[_0x4b1c("0x1003")]&&x.material[_0x4b1c("0x420")]&&x[_0x4b1c("0xf4")][_0x4b1c("0x420")][_0x4b1c("0xdb")](esmap.ESMapUtil[_0x4b1c("0x44b")](g[_0x4b1c("0x1003")]));else{var p=x[_0x4b1c("0xf4")];p[0].color=new(THREE[_0x4b1c("0x146")])(v),p[0][_0x4b1c("0x129")]=1*g[_0x4b1c("0x273")]||1,g[_0x4b1c("0x1003")]&&p[0].emissive&&p[0].emissive[_0x4b1c("0xdb")](esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](g.emissivecolor)),p[0][_0x4b1c("0x188")]=!0}break;case esmap[_0x4b1c("0x131")].FACILITY:if(!t)return;break;case esmap[_0x4b1c("0x131")][_0x4b1c("0xf95")]:x[_0x4b1c("0xef")][_0x4b1c("0x30f")](t.fontStyle[_0x4b1c("0xc")])}})),_[_0x4b1c("0xe7")](_0x4b1c("0x1011"),c)}},{key:"Model3DSelectColor",set:function(x){this[_0x4b1c("0x1012")]=esmap[_0x4b1c("0x87")].toColor(x)},get:function(){return this[_0x4b1c("0x1012")]}}]),x}();c[_0x4b1c("0xc")]=u},,,,,,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x1013")]}return(0,e.default)(x,[{key:_0x4b1c("0x719"),value:function(){this[_0x4b1c("0x1013")]=[]}},{key:"push",value:function(x,c){if(0==this[_0x4b1c("0x1013")][_0x4b1c("0x0")])return this[_0x4b1c("0x1013")][_0x4b1c("0x12")](c),!1;for(var b in this[_0x4b1c("0x1013")]){var _=this[_0x4b1c("0x1013")][b];if(this[_0x4b1c("0x1014")](_,c))return!0}return this[_0x4b1c("0x1013")][_0x4b1c("0x12")](c),!1}},{key:"collision_",value:function(x,c){return c[_0x4b1c("0xe0")]<=x[_0x4b1c("0xe0")]&&x.x<c.x+c.w/2&&x.x+x.w/2>c.x&&x.y<c.y+c.h/2&&x.h/2+x.y>c.y}}]),x}();c.default=i},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=i(b(0)),e=i(b(1)),t=b(4);function i(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var a=function(){function x(){(0,_[_0x4b1c("0xc")])(this,x)}return(0,e[_0x4b1c("0xc")])(x,null,[{key:"flash",value:function(x){this[_0x4b1c("0xfa5")]||(this.originSize={width:this.width_,height:this[_0x4b1c("0x315")]}),this[_0x4b1c("0x1015")]=this[_0x4b1c("0xfa5")][_0x4b1c("0x1c9")],this[_0x4b1c("0x315")]=this.originSize[_0x4b1c("0x1a3")],(x=x||{})[_0x4b1c("0x1a5")]=null==x[_0x4b1c("0x1a5")]?.6:x[_0x4b1c("0x1a5")];var c=this;if(c[_0x4b1c("0x1016")]=null,!this[_0x4b1c("0x19d")]||x[_0x4b1c("0x19e")])return c[_0x4b1c("0x19d")]=!0,x[_0x4b1c("0x201")]=(0,t.getValues)(x,"scale",1.5),x.times=(0,t[_0x4b1c("0x1a2")])(x,_0x4b1c("0x19f"),1),x[_0x4b1c("0x1a1")]=(0,t[_0x4b1c("0x1a2")])(x,_0x4b1c("0x1a1"),0),0==x[_0x4b1c("0x19f")]&&(x[_0x4b1c("0x19f")]=Number[_0x4b1c("0x1a0")]),x[_0x4b1c("0x1a5")]=null==x[_0x4b1c("0x1a5")]?.6:x.time,c[_0x4b1c("0x1016")]&&clearInterval(c.flashDelayId),this[_0x4b1c("0x1017")]&&this.flashId[_0x4b1c("0x19b")](),this[_0x4b1c("0x1017")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(this).to({width_:this[_0x4b1c("0x1015")]*x.scale,height_:this[_0x4b1c("0x315")]*x[_0x4b1c("0x201")]},200*x[_0x4b1c("0x1a5")])[_0x4b1c("0x1a8")](esmap.TWEEN[_0x4b1c("0x1a9")][_0x4b1c("0x1aa")].In)[_0x4b1c("0x174")]((function(x){})).onComplete((function(){c.flashId=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(c).to({width_:c[_0x4b1c("0xfa5")][_0x4b1c("0x1c9")],height_:c[_0x4b1c("0xfa5")][_0x4b1c("0x1a3")]},800*x[_0x4b1c("0x1a5")])[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")].Easing[_0x4b1c("0x1aa")][_0x4b1c("0x1ae")]).onComplete((function(){x[_0x4b1c("0x19f")]--,x[_0x4b1c("0x19f")]>0?c[_0x4b1c("0x1016")]=setTimeout((function(){x[_0x4b1c("0x19e")]=!0,c.flash(x)}),1e3*x[_0x4b1c("0x1a1")]):(c[_0x4b1c("0x19d")]=!1,x[_0x4b1c("0x1b0")]&&x[_0x4b1c("0x1b0")]())})).start()}))[_0x4b1c("0x1af")]()}},{key:"flash3d",value:function(x){var c,b,_=this;x=x||{};if(!this[_0x4b1c("0x19d")]||x[_0x4b1c("0x19e")])return _[_0x4b1c("0x19d")]=!0,x[_0x4b1c("0x201")]=(0,t.getValues)(x,_0x4b1c("0x201"),1.5),x.times=(0,t[_0x4b1c("0x1a2")])(x,"times",1),x[_0x4b1c("0x1a1")]=(0,t[_0x4b1c("0x1a2")])(x,_0x4b1c("0x1a1"),0),0==x.times&&(x[_0x4b1c("0x19f")]=Number[_0x4b1c("0x1a0")]),x[_0x4b1c("0x1a5")]=null==x.time?.6:x[_0x4b1c("0x1a5")],c=_[_0x4b1c("0x201")][_0x4b1c("0x13e")]()[_0x4b1c("0x253")](x[_0x4b1c("0x201")]),b=_.scale[_0x4b1c("0x13e")](),this[_0x4b1c("0x1018")]&&this.flashId1.stop(),_[_0x4b1c("0x1018")]=new esmap.TWEEN.Tween(_[_0x4b1c("0x201")]).to(c,.2*x[_0x4b1c("0x1a5")]*1e3)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")].In),_[_0x4b1c("0x1019")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(_.scale).to(b,.8*x[_0x4b1c("0x1a5")]*1e3)[_0x4b1c("0x1a8")](esmap.TWEEN.Easing[_0x4b1c("0x1aa")][_0x4b1c("0x1ae")])[_0x4b1c("0x1ac")]((function(){x.times--,x[_0x4b1c("0x19f")]>0?_[_0x4b1c("0x19d")]&&(x[_0x4b1c("0x19e")]=!0,_[_0x4b1c("0x1018")][_0x4b1c("0x1a1")](1e3*x.delay)[_0x4b1c("0x1af")]()):(_[_0x4b1c("0x19d")]=!1,_[_0x4b1c("0x1018")].stop(),x[_0x4b1c("0x1b0")]&&x[_0x4b1c("0x1b0")]())})),_[_0x4b1c("0x1018")][_0x4b1c("0x32b")](_[_0x4b1c("0x1019")])[_0x4b1c("0x1af")](),x}},{key:_0x4b1c("0x30e"),value:function(x,c){var b=esmap[_0x4b1c("0x87")].getAlias(this[_0x4b1c("0xef")]),_=esmap[_0x4b1c("0x1fd")][b];c=null==c?null==_?10:_:c,x=null==x||x,this[_0x4b1c("0xf4")][_0x4b1c("0x16f")]=!x,this[_0x4b1c("0xf4")][_0x4b1c("0x16d")]=!x,this[_0x4b1c("0x172")]=x?c:0}},{key:_0x4b1c("0x254"),value:function(x){var c=this;"number"==typeof x&&(x={to:x});var b,_=(0,t.getValues)(x,_0x4b1c("0x1a5"),_0x4b1c("0x1a4"),.3),e=c[_0x4b1c("0x258")],i=esmap[_0x4b1c("0x87")][_0x4b1c("0x64e")](e,x.to);return c[_0x4b1c("0xb56")]&&c[_0x4b1c("0xb56")][_0x4b1c("0x19b")](),c._rotateToID=esmap[_0x4b1c("0x1a6")][_0x4b1c("0x6cf")](_,(function(x){(b=e+i*x[_0x4b1c("0x13a")])<=0?b=360+b:b>=360&&(b-=360),c.angle=b}),null,(function(){x[_0x4b1c("0x1b0")]&&x[_0x4b1c("0x1b0")]()})),c[_0x4b1c("0xb56")]}},{key:_0x4b1c("0x24e"),value:function(x){if(void 0===this[_0x4b1c("0x101a")]&&(this[_0x4b1c("0x101a")]=!0),this[_0x4b1c("0x101a")]){var c=(x=x||esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x1c3")])[_0x4b1c("0x3e")][_0x4b1c("0x26a")];x.map[_0x4b1c("0x3b")],esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")];this[_0x4b1c("0x101b")]||(this[_0x4b1c("0x101b")]=this[_0x4b1c("0x105")][_0x4b1c("0x13e")]()),(null==this[_0x4b1c("0x19c")]||isNaN(this.initY_))&&(isNaN(this[_0x4b1c("0x105")].y)&&(this[_0x4b1c("0x105")].y=0),this[_0x4b1c("0x19c")]=this[_0x4b1c("0x105")].y);this[_0x4b1c("0x3de")]?0==this[_0x4b1c("0x3de")][_0x4b1c("0x3dd")]||this.data_[_0x4b1c("0x3dd")]:0==this.datas_[_0x4b1c("0x101c")]||this.datas_[_0x4b1c("0x101c")];if("3D"==x[_0x4b1c("0x3e")][_0x4b1c("0x388")]){if(0==x.h_)return;this[_0x4b1c("0x101d")]=void 0,isNaN(this[_0x4b1c("0x105")].y)&&(this[_0x4b1c("0x105")].y=0);var b=esmap[_0x4b1c("0x277")][_0x4b1c("0x101e")](this,x),_=this[_0x4b1c("0xef")]instanceof esmap[_0x4b1c("0x62f")]&&!this.datas_[_0x4b1c("0x101f")]?16:2;if(0==b.scale.x||0==b[_0x4b1c("0x201")].y)return void _0x4b1c("0x1020");if(this[_0x4b1c("0x1015")]&&this[_0x4b1c("0x315")]){var e=this[_0x4b1c("0x1015")]/32*10,t=this[_0x4b1c("0x315")]/32*10;this.scale[_0x4b1c("0xdb")](e,t,1)}var i=this.height_?this[_0x4b1c("0x315")]*b[_0x4b1c("0x1021")]/_:0;this.data_[_0x4b1c("0x308")]&&(i/=2);this[_0x4b1c("0x1022")];if(this[_0x4b1c("0x130")]&&(this[_0x4b1c("0x130")]==_0x4b1c("0x1023")||"Model3D"==this.type_||this[_0x4b1c("0x130")]==_0x4b1c("0x1024"))&&(this[_0x4b1c("0xef")].unspritify_||null!=this[_0x4b1c("0xef")].spritify_&&!this[_0x4b1c("0xef")][_0x4b1c("0x101f")]))return;0==b.scale.x&&(b[_0x4b1c("0x201")].x=1),this[_0x4b1c("0x201")][_0x4b1c("0x20b")](b.scale)}else{if(this[_0x4b1c("0x130")]&&(this.type_==_0x4b1c("0x1023")||this[_0x4b1c("0x130")]==_0x4b1c("0x1025")||"UserLabel"==this[_0x4b1c("0x130")])&&(null!=this.datas_[_0x4b1c("0x101f")]&&!this[_0x4b1c("0xef")][_0x4b1c("0x101f")]||this.datas_[_0x4b1c("0x1026")]))return;_=this[_0x4b1c("0xef")]instanceof esmap[_0x4b1c("0x62f")]&&!this[_0x4b1c("0xef")].spritify_?16:2,b=esmap.MapObjectUtils.getPerspectiveScale(this,x);if(this[_0x4b1c("0x1015")]&&this.height_){var a=this[_0x4b1c("0x1015")]/32*10;t=this[_0x4b1c("0x315")]/32*10;this[_0x4b1c("0x201")][_0x4b1c("0xdb")](a,t,1)}i=this.height_?this.height_*b[_0x4b1c("0x1021")]/_:0;this[_0x4b1c("0x3de")].glow&&(i/=2);this[_0x4b1c("0x1022")];this._lastScale=esmap[_0x4b1c("0x277")][_0x4b1c("0x101e")](this,x)[_0x4b1c("0x201")],this.scale.copy(this[_0x4b1c("0x101d")].clone()[_0x4b1c("0x253")](1/c[_0x4b1c("0x65a")]))}}}},{key:"stopFlash",value:function(){if(this[_0x4b1c("0x1017")]){if(this[_0x4b1c("0x1017")]&&this[_0x4b1c("0x1017")][_0x4b1c("0x19b")](),this[_0x4b1c("0xfa5")])this.width_=this[_0x4b1c("0xfa5")].width,this[_0x4b1c("0x315")]=this.originSize[_0x4b1c("0x1a3")];else{var x=new(THREE[_0x4b1c("0x128")])(1,1,1);this[_0x4b1c("0x1017")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(this[_0x4b1c("0x201")]).to(x,100)[_0x4b1c("0x1a8")](esmap.TWEEN[_0x4b1c("0x1a9")][_0x4b1c("0x245")][_0x4b1c("0x246")]).start()}this[_0x4b1c("0x19d")]=!1}}},{key:_0x4b1c("0x53e"),value:function(x){clearInterval(this[_0x4b1c("0x236")]),this[_0x4b1c("0x19d")]=!1}},{key:"stopJump",value:function(){this._jumpID1&&this[_0x4b1c("0x19a")].stop(),this._jumpID2&&this[_0x4b1c("0x1b1")][_0x4b1c("0x19b")](),this[_0x4b1c("0x19d")]=!1}},{key:_0x4b1c("0x249"),value:function(x){var c=this;x=x||{},null==c[_0x4b1c("0x165")][_0x4b1c("0x1027")]&&(c[_0x4b1c("0x165")].originalY=c[_0x4b1c("0x105")].y);var b=c[_0x4b1c("0x165")].originalY;if(!this[_0x4b1c("0x19d")]||x[_0x4b1c("0x19e")])return c[_0x4b1c("0x19d")]=!0,x[_0x4b1c("0x19f")]=(0,t[_0x4b1c("0x1a2")])(x,_0x4b1c("0x19f"),1),0==x[_0x4b1c("0x19f")]&&(x[_0x4b1c("0x19f")]=Number[_0x4b1c("0x1a0")]),x[_0x4b1c("0x1a1")]=(0,t[_0x4b1c("0x1a2")])(x,"delay",0),x[_0x4b1c("0x1a3")]=(0,t[_0x4b1c("0x1a2")])(x,_0x4b1c("0x1a3"),8),x[_0x4b1c("0x1a4")]=(0,t[_0x4b1c("0x1a2")])(x,_0x4b1c("0x1a5"),"duration",1),this[_0x4b1c("0x19a")]&&this[_0x4b1c("0x19a")][_0x4b1c("0x19b")](),this[_0x4b1c("0x19a")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(this[_0x4b1c("0x105")]).to({y:b+x.height},.2*x[_0x4b1c("0x1a4")]*1e3).easing(esmap.TWEEN[_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ab")])[_0x4b1c("0x1ac")]((function(){})),this[_0x4b1c("0x1b1")]=new esmap.TWEEN.Tween(this[_0x4b1c("0x105")]).to({y:b},.8*x[_0x4b1c("0x1a4")]*1e3)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")].Easing[_0x4b1c("0x1ad")][_0x4b1c("0x1ae")]).onComplete((function(){x.times--,x.times>0?c[_0x4b1c("0x19d")]&&(x[_0x4b1c("0x19e")]=!0,c[_0x4b1c("0x19a")].delay(1e3*x[_0x4b1c("0x1a1")])[_0x4b1c("0x1af")]()):(c._isAnimating=!1,c[_0x4b1c("0x19a")][_0x4b1c("0x19b")](),x[_0x4b1c("0x1b0")]&&x[_0x4b1c("0x1b0")]())})),this._jumpID1[_0x4b1c("0x32b")](this[_0x4b1c("0x1b1")])[_0x4b1c("0x1af")](),x}},{key:_0x4b1c("0x325"),value:function(x){var c=this,b=esmap[_0x4b1c("0x32")].instance,_=(0,t.getValues)(x,"time","duration",1),e=(0,t.getValues)(x,"x",this[_0x4b1c("0x105")].x),i=(0,t[_0x4b1c("0x1a2")])(x,"y",this[_0x4b1c("0x105")].y),a=(0,t[_0x4b1c("0x1a2")])(x,"z",this[_0x4b1c("0x105")].z);a+=(0,t.getValues)(x,"offset",0);var n=x[_0x4b1c("0x174")]||null,r=(0,t[_0x4b1c("0x1a2")])(x,_0x4b1c("0x1ac"),_0x4b1c("0x1b0"),null);if(0===_){this.position.set(e,i,a);var s=b[_0x4b1c("0x20d")](this[_0x4b1c("0x105")]);return n&&n(s),r&&r(this[_0x4b1c("0xef")]),void(this[_0x4b1c("0xef")][_0x4b1c("0x247")]&&this[_0x4b1c("0xef")][_0x4b1c("0x247")][_0x4b1c("0x248")](this[_0x4b1c("0xef")]))}var o=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(this[_0x4b1c("0x105")]).to({x:e,z:a,y:i},1e3*_)[_0x4b1c("0x1a8")](x[_0x4b1c("0x1a8")]||esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")][_0x4b1c("0x246")])[_0x4b1c("0x174")]((function(x){var _=b.coordThreeToMap(x);n&&n(_),c[_0x4b1c("0xef")][_0x4b1c("0x247")]&&c[_0x4b1c("0xef")][_0x4b1c("0x247")][_0x4b1c("0x248")](c[_0x4b1c("0xef")])}))[_0x4b1c("0x1ac")]((function(){r&&r(c[_0x4b1c("0xef")])}))[_0x4b1c("0x1af")]();return o}},{key:_0x4b1c("0xcae"),value:function(x){var c=this,b=(0,t[_0x4b1c("0x1a2")])(x,_0x4b1c("0x1a5"),_0x4b1c("0x1a4"),1),_=!1;return c.datas_&&c[_0x4b1c("0xef")].alias&&"es3dmarker"==c[_0x4b1c("0xef")].alias&&(_=!0),c[_0x4b1c("0x1028")]&&c[_0x4b1c("0x1028")][_0x4b1c("0x19b")](),c[_0x4b1c("0x1028")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(_?c.rotation:c).to({y:THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](x[_0x4b1c("0x258")])},1e3*b)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")].None)[_0x4b1c("0x1ac")]((function(){x[_0x4b1c("0x1b0")]&&x.callback()}))[_0x4b1c("0x1af")](),x}},{key:_0x4b1c("0x328"),value:function(x){var c=this;if(c[_0x4b1c("0xf4")]&&!c[_0x4b1c("0x1029")]){c[_0x4b1c("0x1029")]=!0,(x=x||{})[_0x4b1c("0x102a")]||(c[_0x4b1c("0x191")]=!0);var b=(0,t.getValues)(x,_0x4b1c("0x1a5"),_0x4b1c("0x1a4"),.2);c[_0x4b1c("0x102b")]&&c[_0x4b1c("0x102b")][_0x4b1c("0x19b")](),c[_0x4b1c("0x102b")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(c[_0x4b1c("0xf4")]).to({opacity:x[_0x4b1c("0x102a")]?0:1},1e3*b)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x245")].None)[_0x4b1c("0x1ac")]((function(){c[_0x4b1c("0x1029")]=!1,x[_0x4b1c("0x102a")]&&(c[_0x4b1c("0x191")]=!1),x.callback&&x.callback()}))[_0x4b1c("0x1af")]()}}},{key:"getPerspectiveScale",value:function(x,c){var b=x[_0x4b1c("0x21c")](new THREE.Vector3),_=c[_0x4b1c("0x658")].position,e=c[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x13e")](),t=b[_0x4b1c("0x124")](_),i=e[_0x4b1c("0x13e")]().sub(_).normalize(),a=b[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](_)[_0x4b1c("0x301")]();t*=i[_0x4b1c("0x902")](a),t=Math[_0x4b1c("0x23d")](t);var n=c[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x38d")]==esmap.ESCameraMode[_0x4b1c("0x102c")]?1.8:1,r=t/c.h_*.3*n;r*=x[_0x4b1c("0x314")]||1;var s=(x[_0x4b1c("0x102d")],x.width_*r),o=x[_0x4b1c("0x315")]*r;return x.meterperpixel_=r,{scale:6==x[_0x4b1c("0xef")].nodeType?new(THREE[_0x4b1c("0x128")])(s,o,s):new(THREE[_0x4b1c("0x128")])(s,o,1),meterperpixel:r}}},{key:"changeColor",value:function(x,c){x[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xf4")])if(x[_0x4b1c("0xf4")]instanceof Array)x[_0x4b1c("0xf4")][_0x4b1c("0x1c")]((function(x){var b=x;c?(b[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x102e"))||(b[_0x4b1c("0x165")][_0x4b1c("0x102e")]=b[_0x4b1c("0x420")][_0x4b1c("0x72e")]()),b[_0x4b1c("0x420")]=new(THREE[_0x4b1c("0x146")])(esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](esmap[_0x4b1c("0x87")][_0x4b1c("0x640")](c))),b.userData[_0x4b1c("0x1")](_0x4b1c("0x102f"))||(b[_0x4b1c("0x165")].oriEmissiveIntensity=b.emissiveIntensity),b.emissiveIntensity=1,b[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x1030"))||(b[_0x4b1c("0x165")][_0x4b1c("0x1030")]=b[_0x4b1c("0x147")].clone()),b[_0x4b1c("0x147")]=b[_0x4b1c("0x420")][_0x4b1c("0x13e")]()):(b[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x102e"))&&(b[_0x4b1c("0x420")]=new(THREE[_0x4b1c("0x146")])(b.userData[_0x4b1c("0x102e")])),b[_0x4b1c("0x165")].hasOwnProperty(_0x4b1c("0x1030"))&&(b[_0x4b1c("0x147")]=b.userData[_0x4b1c("0x1030")].clone()),b[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x102f"))&&(b[_0x4b1c("0x421")]=b[_0x4b1c("0x165")].oriEmissiveIntensity))}));else{var b=x.material;c?(b[_0x4b1c("0x420")]&&(b[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x102e"))||(b.userData[_0x4b1c("0x102e")]=b.emissive[_0x4b1c("0x72e")]()),b.emissive=new(THREE[_0x4b1c("0x146")])(esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](esmap[_0x4b1c("0x87")][_0x4b1c("0x640")](c))),b.userData[_0x4b1c("0x1")](_0x4b1c("0x102f"))||(b.userData[_0x4b1c("0x102f")]=b.emissiveIntensity),b[_0x4b1c("0x421")]=1),b[_0x4b1c("0x165")][_0x4b1c("0x1031")]=!0,b[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x1030"))||(b[_0x4b1c("0x165")].oriColor=b[_0x4b1c("0x147")].clone()),b[_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(esmap[_0x4b1c("0x87")][_0x4b1c("0x44b")](esmap[_0x4b1c("0x87")][_0x4b1c("0x640")](c)))):(b.userData[_0x4b1c("0x1")](_0x4b1c("0x102e"))&&(b[_0x4b1c("0x420")]=new(THREE[_0x4b1c("0x146")])(b.userData.oriEmissive)),b[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x1030"))&&(b[_0x4b1c("0x147")]=b[_0x4b1c("0x165")][_0x4b1c("0x1030")][_0x4b1c("0x13e")]()),b[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0x102f"))&&(b[_0x4b1c("0x421")]=b.userData[_0x4b1c("0x102f")]),b.userData[_0x4b1c("0x1031")]=!1,b[_0x4b1c("0x188")]=!0)}}))}}]),x}();c.default=a},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=r(b(6)),e=r(b(0)),t=r(b(1)),i=r(b(338)),a=b(43),n=b(27);function r(x){return x&&x.__esModule?x:{default:x}}var s=function(){function x(c,b){(0,e[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x2de")]=0,this.sceneZ_=0,this.mapId_=0,this[_0x4b1c("0x1032")]=null,this[_0x4b1c("0xa3f")]=null,this[_0x4b1c("0x1033")]=null,this.minX_=0,this[_0x4b1c("0xb67")]=0,this.maxX_=0,this[_0x4b1c("0xb68")]=0,this[_0x4b1c("0x1034")]=0,this[_0x4b1c("0x3e")]=c,this[_0x4b1c("0x3e6")]=b;b=esmap.ESMapUtil.getPlatform();this.isPC=b[_0x4b1c("0x339")],this[_0x4b1c("0x33")]=new(i[_0x4b1c("0xc")])(this),this[_0x4b1c("0xda0")]=new(THREE[_0x4b1c("0x1035")]),this[_0x4b1c("0xe1e")]=[],this[_0x4b1c("0xd67")]={building:0,model:0},this[_0x4b1c("0x1036")](),this[_0x4b1c("0xa27")]=!1}return(0,t[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x719"),value:function(x){!function x(c){if(null!==c){c[_0x4b1c("0xf3")]&&c.dispose(),c[_0x4b1c("0xef")]&&(c[_0x4b1c("0xef")]=void 0);for(var b=0;b<c[_0x4b1c("0xf1")][_0x4b1c("0x0")];b++)x(c[_0x4b1c("0xf1")][b]);if(c[_0x4b1c("0xf2")]&&(c[_0x4b1c("0xf2")][_0x4b1c("0xf3")](),c[_0x4b1c("0xf2")]=null),c.material)if(c[_0x4b1c("0xf4")].materials)c.material[_0x4b1c("0x100")].forEach((function(x){x[_0x4b1c("0x3e")]&&(x[_0x4b1c("0x3e")][_0x4b1c("0xf3")](),x.map=null),x[_0x4b1c("0xf3")](),x=null})),c[_0x4b1c("0xf4")][_0x4b1c("0x100")][_0x4b1c("0x0")]=0;else if(Array[_0x4b1c("0x32f")](c[_0x4b1c("0xf4")])){for(var _=0;_<c[_0x4b1c("0xf4")][_0x4b1c("0x0")];_++)c[_0x4b1c("0xf4")][_]&&(c[_0x4b1c("0xf4")][_][_0x4b1c("0x3e")]&&(c[_0x4b1c("0xf4")][_].map.dispose(),c.material[_][_0x4b1c("0x3e")]=null),c.material[_].dispose(),c[_0x4b1c("0xf4")][_]=null);c.material[_0x4b1c("0x0")]=0}else c[_0x4b1c("0xf4")][_0x4b1c("0xf3")](),c[_0x4b1c("0xf4")]=null}c=null}(x)}},{key:"initBase",value:function(){this.o3dScene_=new(THREE[_0x4b1c("0x214")]),this[_0x4b1c("0x1032")][_0x4b1c("0x1f7")]="main",this[_0x4b1c("0xa3f")]=new THREE.Object3D,this[_0x4b1c("0xa3f")][_0x4b1c("0x1f7")]=_0x4b1c("0xa3f"),this[_0x4b1c("0x1032")][_0x4b1c("0xdd")](this[_0x4b1c("0xa3f")]),this[_0x4b1c("0xa33")]=new(THREE[_0x4b1c("0x214")]),this[_0x4b1c("0xa33")][_0x4b1c("0x1f7")]=_0x4b1c("0xa80"),this[_0x4b1c("0x407")]=new(THREE[_0x4b1c("0x214")]),this[_0x4b1c("0x407")][_0x4b1c("0x1f7")]="tiles",this[_0x4b1c("0xb3f")]=new(THREE[_0x4b1c("0x214")]),this[_0x4b1c("0x1032")].add(this.baseScene),this[_0x4b1c("0x1032")][_0x4b1c("0xdd")](this[_0x4b1c("0x407")]),this[_0x4b1c("0x1032")][_0x4b1c("0xdd")](this[_0x4b1c("0xa33")])}},{key:_0x4b1c("0x1037"),value:function(){return esmap[_0x4b1c("0x6a2")][_0x4b1c("0x1037")](this[_0x4b1c("0x1033")])}},{key:"getO3dScene",value:function(){return this[_0x4b1c("0x1032")]}},{key:_0x4b1c("0x1038"),value:function(){return this.buildingScene_}},{key:_0x4b1c("0xd63"),value:function(){return this[_0x4b1c("0x407")]}},{key:_0x4b1c("0x1039"),value:function(x,c){this.map[_0x4b1c("0x26c")];var b=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x103a")]||1,_=c[_0x4b1c("0x3cf")],e=c[_0x4b1c("0xef")][_0x4b1c("0x103b")];for(var t in _[_0x4b1c("0x719")](),c[_0x4b1c("0xf1")]){var i=c.children[t],a=i[_0x4b1c("0x165")][_0x4b1c("0x221")]||!1;if(i.forceVisible_&&!a){var n=this[_0x4b1c("0x3e")].project_(i),r=i[_0x4b1c("0x1015")]/2*b*i[_0x4b1c("0x314")],s=i.height_/2*b*i[_0x4b1c("0x314")],o=i[_0x4b1c("0x12d")]||{x:.5,y:0},f=n.y-s/2+(o.y-.5)*s,l=n.x-r/2+(.5-o.x)*r;e&&_[_0x4b1c("0x12")](i,{x:l,y:f,w:r,h:s,size:r*s})&&i[_0x4b1c("0x26c")]?(i[_0x4b1c("0x191")]=!1,i[_0x4b1c("0x165")].collidePass=!1,i.updateScreenSize(x)):(i.visible=!0,i.userData[_0x4b1c("0x31b")]=!0,i.updateScreenSize(x))}}}},{key:_0x4b1c("0xb39"),value:function(x){var c=this;if(this[_0x4b1c("0xad4")]){this[_0x4b1c("0xb3f")].children.length;for(var b=this[_0x4b1c("0x1038")](),_=0;_<b[_0x4b1c("0xf1")][_0x4b1c("0x0")];_++){b[_0x4b1c("0xf1")][_][_0x4b1c("0xf1")][_0x4b1c("0x1c")]((function(b){if(b[_0x4b1c("0x191")])for(var _=0;_<b[_0x4b1c("0xf1")].length;_++){var e=b[_0x4b1c("0xf1")][_],t=e[_0x4b1c("0xef")];t&&t[_0x4b1c("0x191")]&&(t._type_==esmap.ESLayerType[_0x4b1c("0x3ce")]||t[_0x4b1c("0x64a")]==esmap[_0x4b1c("0x3cd")][_0x4b1c("0xc19")]?c[_0x4b1c("0x1039")](x,e):(t[_0x4b1c("0x64a")]==esmap[_0x4b1c("0x3cd")].MODEL_POI||t._type_==esmap[_0x4b1c("0x3cd")].IMAGE_MARKER)&&c.collideLabel_(x,e))}}))}var e=this[_0x4b1c("0xd63")]();for(_=0;_<e.children.length;_++){e[_0x4b1c("0xf1")][_][_0x4b1c("0xf1")][_0x4b1c("0x1c")]((function(b){(b[_0x4b1c("0xef")]&&b[_0x4b1c("0xef")][_0x4b1c("0x64a")]==esmap.ESLayerType[_0x4b1c("0x3ce")]||b[_0x4b1c("0xef")]&&b[_0x4b1c("0xef")][_0x4b1c("0x64a")]==esmap[_0x4b1c("0x3cd")][_0x4b1c("0x3d2")])&&c[_0x4b1c("0x1039")](x,b)}))}var t=this.userScene[_0x4b1c("0xf0")];t&&t.children[_0x4b1c("0x1c")]((function(b){var _=b[_0x4b1c("0xef")];_&&_[_0x4b1c("0x191")]&&(_[_0x4b1c("0x64a")]==esmap.ESLayerType[_0x4b1c("0x3ce")]||_[_0x4b1c("0x64a")]==esmap.ESLayerType[_0x4b1c("0xc18")]||_[_0x4b1c("0x64a")]==esmap[_0x4b1c("0x3cd")].TEXT_MARKER?c.collideLabel_(x,b):(_[_0x4b1c("0x64a")]==esmap[_0x4b1c("0x3cd")].MODEL_POI||_[_0x4b1c("0x64a")]==esmap.ESLayerType[_0x4b1c("0xc18")]||_._type_==esmap[_0x4b1c("0x3cd")][_0x4b1c("0xc18")])&&c[_0x4b1c("0x1039")](x,b))}))}}},{key:_0x4b1c("0x39"),value:function(){var x=this[_0x4b1c("0x3e")];x[_0x4b1c("0x1c3")][_0x4b1c("0x102")][_0x4b1c("0xdd")](this[_0x4b1c("0x1032")]),x[n._ztl_][_0x4b1c("0x533")](),x[_0x4b1c("0x9c6")]=!0,x[_0x4b1c("0x6e9")]=0,x[_0x4b1c("0xb43")]=new THREE.Mesh(new(THREE[_0x4b1c("0x71c")])(30707730.7171648,30707730.7171648,1,1),new(THREE[_0x4b1c("0x144")])({color:6724044,visible:!1})),x[_0x4b1c("0xb43")][_0x4b1c("0x1f7")]="$ESMapPlane",x[_0x4b1c("0xb43")][_0x4b1c("0xef")]={nodeType:1,name:"mapplane",o3d_:x[_0x4b1c("0xb43")]},this.o3dScene_.add(x[_0x4b1c("0xb43")]),x[_0x4b1c("0xb43")][_0x4b1c("0x105")][_0x4b1c("0xdb")](0,0,0),x[_0x4b1c("0xb43")][_0x4b1c("0x202")].x=-Math.PI/2,x[_0x4b1c("0xe7")]("start"),x.on(_0x4b1c("0x164"),x[_0x4b1c("0xa42")],null,x.id)}},{key:"updateBuildingScene",value:function(x){var c=this[_0x4b1c("0x3e")],b=c[_0x4b1c("0x47")];c[_0x4b1c("0x266")][_0x4b1c("0xb73")]=Math.PI/2.2;var _=x[_0x4b1c("0xb00")];this[_0x4b1c("0xad4")]=x,this[_0x4b1c("0x103c")]({x:_[_0x4b1c("0xcba")],y:_[_0x4b1c("0xd92")]},{minX:_.minX,minY:_[_0x4b1c("0x5a6")],maxX:_.maxX,maxY:_[_0x4b1c("0x5ba")]}),this[_0x4b1c("0x1033")]=esmap[_0x4b1c("0x6a2")].calcSceneBox3(_),c[_0x4b1c("0x1c3")].center={x:_[_0x4b1c("0xcba")],y:_[_0x4b1c("0xd92")]};var e=b[_0x4b1c("0x395")]?0:1;c.mapTheme[_0x4b1c("0xac5")]=e;var t=x[_0x4b1c("0x567")];c[_0x4b1c("0x1010")](t.clearColor,e)}},{key:_0x4b1c("0x103c"),value:function(x,c){var b=this[_0x4b1c("0x3e")];if(x.x>0?this[_0x4b1c("0x2de")]=-x.x:this[_0x4b1c("0x2de")]=x.x,this.sceneZ_=x.y,this.minX_=c.minX,this.maxX_=c[_0x4b1c("0x5a7")],this[_0x4b1c("0xb67")]=c[_0x4b1c("0x5a6")],this[_0x4b1c("0xb68")]=c[_0x4b1c("0x5ba")],!b[_0x4b1c("0x47")][_0x4b1c("0x103d")]&&b[_0x4b1c("0x47")][_0x4b1c("0x12d")]){var e=b[_0x4b1c("0x2c5")]({x:b[_0x4b1c("0x47")].center.x,y:b[_0x4b1c("0x47")][_0x4b1c("0x12d")].y});b.on(_0x4b1c("0x103e"),(function(){b[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0xdb")](e.x,0,e.z),b.controls.update({forceTheta:Math.PI-b[_0x4b1c("0x47")][_0x4b1c("0x393")]*THREE.Math[_0x4b1c("0x660")],forcePhi:b[_0x4b1c("0x47")][_0x4b1c("0x394")]*THREE[_0x4b1c("0x215")][_0x4b1c("0x660")]})}))}b[_0x4b1c("0x1c3")].zoomLevel=b.options.zoomLevel,null!=b[_0x4b1c("0x47")][_0x4b1c("0xb2f")]&&((0,_[_0x4b1c("0xc")])(b.options.panLimit)==_0x4b1c("0x1d")?(b[_0x4b1c("0x1c3")][_0x4b1c("0xb30")]=b.options[_0x4b1c("0xb2f")][_0x4b1c("0x12d")],b[_0x4b1c("0x1c3")].panLimit=b[_0x4b1c("0x47")].panLimit.distance):b[_0x4b1c("0x1c3")][_0x4b1c("0xb2f")]=b[_0x4b1c("0x47")][_0x4b1c("0xb2f")]),b[_0x4b1c("0x47")][_0x4b1c("0x388")]!=b[_0x4b1c("0x388")]&&(b[_0x4b1c("0x388")]={mode:b.options.viewMode,init:!0,time:0})}},{key:_0x4b1c("0x103f"),value:function(x){if((0,a._isemvht)(this[_0x4b1c("0x3e")].id))return!0;var c=x.expireTime,b=x[_0x4b1c("0xc4c")],_=!1,e=x[n[_0x4b1c("0xbc")]].split(","),t=!1;return e.forEach((function(x){var e=c,i=x;if(x[_0x4b1c("0x63")]("|")){var a=x[_0x4b1c("0x2c")]("|");i=a[0],e=Math[_0x4b1c("0x2f6")](e,1*a[1])}if(!(i.length<3)&&b[_0x4b1c("0x114")](i)>-1){if(_=!0,(new Date)[_0x4b1c("0x86")]()-1e6*e>0)return;t=!0}})),!!_&&!!t}},{key:_0x4b1c("0xd31"),value:function(x,c){if(this[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0xd2b")]){var b=this[_0x4b1c("0x103f")](this[_0x4b1c("0x3e")][_0x4b1c("0x2b3")]._isrd);if(this[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0xd2b")]=null,!b)return}this.map[_0x4b1c("0x47")][_0x4b1c("0x1040")]&&this[_0x4b1c("0x3e")].mapTheme[_0x4b1c("0xfc4")](this.map[_0x4b1c("0x13f")][_0x4b1c("0xfbd")]),this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0xb73")]=Math.PI/2.5,this[_0x4b1c("0xad4")]=new(esmap[_0x4b1c("0x635")])(this[_0x4b1c("0x3e")].id,{undergroundOffset:0},this[_0x4b1c("0x3e")]),this[_0x4b1c("0xad4")][_0x4b1c("0x1f7")]="室外",this.userScene[_0x4b1c("0x21a")]=esmap[_0x4b1c("0x621")][_0x4b1c("0xb29")],this[_0x4b1c("0xad4")][_0x4b1c("0x137")]=[1],this.userScene[_0x4b1c("0x679")]=[1],this[_0x4b1c("0xad4")][_0x4b1c("0xdbc")][1]={label:0,poi:0,floorBase:0,model:0,modelBase:0,model3D:0},this.userScene[_0x4b1c("0x1041")]=0,this[_0x4b1c("0xad4")][_0x4b1c("0x1042")]=0,this[_0x4b1c("0xad4")][_0x4b1c("0x12d")]=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x12d")];var _=new(esmap[_0x4b1c("0x53d")])(this,{name:"室外",Elevation:0,Name_en:_0x4b1c("0x1043"),Alias:"室外",floornum:1});_[_0x4b1c("0xf0")][_0x4b1c("0x1044")]={Elevation:0,floornum:1},this[_0x4b1c("0xad4")].o3dFloors_[1]=_[_0x4b1c("0xf0")];var e=new esmap.ESLayer(esmap.ESLayerType[_0x4b1c("0x1df")]);e[_0x4b1c("0x1f7")]="mapmodel3ds",_.addLayer(e),this[_0x4b1c("0xad4")][_0x4b1c("0xf0")][_0x4b1c("0xdd")](_[_0x4b1c("0xf0")]);var t=this[_0x4b1c("0xad4")];this[_0x4b1c("0x3e")].on(_0x4b1c("0x9df"),(function(){t[_0x4b1c("0x3e")]&&(t[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x382")]?(t[_0x4b1c("0x3e")][_0x4b1c("0x64c")][_0x4b1c("0x70b")]&&(timer=setTimeout((function(){t[_0x4b1c("0x26b")].queueRanked=!1,t.modelLoadManager[_0x4b1c("0x26e")]=!1,timer&&window.clearTimeout(timer)}),100)),t[_0x4b1c("0x26b")][_0x4b1c("0xdc3")](),t[_0x4b1c("0x26b")][_0x4b1c("0xdc1")](),t[_0x4b1c("0x26b")][_0x4b1c("0xdc7")]()):(t[_0x4b1c("0x26b")][_0x4b1c("0xdc1")](),t[_0x4b1c("0x26b")][_0x4b1c("0xdc7")](t)))})),this[_0x4b1c("0xa33")][_0x4b1c("0xdd")](this[_0x4b1c("0xad4")].o3d_),this[_0x4b1c("0x103c")](c,{minX:x[_0x4b1c("0x5a3")],minY:x.minY,maxX:x[_0x4b1c("0x5a7")],maxY:x.maxY})}}]),x}();c[_0x4b1c("0xc")]=s},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(339));function i(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var a=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x34")]=new(t[_0x4b1c("0xc")])(c),this[_0x4b1c("0x102")]=c,this.loadTiles=this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x9fc")]}return(0,e.default)(x,[{key:"handleModels",value:function(x,c,b,_){var e=this[_0x4b1c("0x102")],t=e[_0x4b1c("0x2de")],i=e[_0x4b1c("0x2df")],a=e[_0x4b1c("0x2de")],n=e[_0x4b1c("0x2df")];_||(t=(x[_0x4b1c("0x1045")][_0x4b1c("0xf7")]-x[_0x4b1c("0x1045")][_0x4b1c("0xfb")])/2+x[_0x4b1c("0x1045")].minx,i=(x[_0x4b1c("0x1045")][_0x4b1c("0xf8")]-x.floorEdge.miny)/2+x[_0x4b1c("0x1045")][_0x4b1c("0xfc")],a=b.sourceData[_0x4b1c("0xcba")],n=b[_0x4b1c("0xb00")].DefaultCenY);x[_0x4b1c("0x1046")];var r={lod:x.lod,fnum:c,sceneX:a,sceneZ:n,isTile:_,floorCenX:-t,floorCenZ:i,minX:b[_0x4b1c("0xb00")].minX,minY:b[_0x4b1c("0xb00")][_0x4b1c("0x5a6")],maxX:b[_0x4b1c("0xb00")].maxX,maxY:b.sourceData[_0x4b1c("0x5ba")],modelHeight:5,isMerge:e[_0x4b1c("0x3e")][_0x4b1c("0x47")].mergeModels,editMode:e[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")],showBase:e[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3a1")],layers:x[_0x4b1c("0x664")],maptheme:e[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0xfb9")],tileStylesMap:e.map[_0x4b1c("0x13f")][_0x4b1c("0x1047")],layerType:1,messageType:1,isBim:b[_0x4b1c("0x78")]>100};this[_0x4b1c("0x34")][_0x4b1c("0x1048")](r,b)}},{key:_0x4b1c("0x3ca"),value:function(x,c,b,_){var e=this[_0x4b1c("0x102")],t=e[_0x4b1c("0x2de")],i=e[_0x4b1c("0x2df")],a=e[_0x4b1c("0x2de")],n=e[_0x4b1c("0x2df")];_||(t=(x[_0x4b1c("0x1045")][_0x4b1c("0xf7")]-x[_0x4b1c("0x1045")][_0x4b1c("0xfb")])/2+x[_0x4b1c("0x1045")][_0x4b1c("0xfb")],i=(x[_0x4b1c("0x1045")].maxy-x[_0x4b1c("0x1045")][_0x4b1c("0xfc")])/2+x[_0x4b1c("0x1045")][_0x4b1c("0xfc")],a=b[_0x4b1c("0xb00")].DefaultCenX,n=b[_0x4b1c("0xb00")].DefaultCenY);var r={lod:x[_0x4b1c("0x2e4")],isTile:_,fnum:c,sceneX:a,sceneZ:n,floorCenX:-t,floorCenZ:i,minX:b[_0x4b1c("0xb00")].minX,minY:b[_0x4b1c("0xb00")][_0x4b1c("0x5a6")],maxX:b[_0x4b1c("0xb00")][_0x4b1c("0x5a7")],maxY:b[_0x4b1c("0xb00")][_0x4b1c("0x5ba")],modelHeight:5,isMerge:e[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x384")],editMode:e[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")],showBase:e[_0x4b1c("0x3e")].options.showBase,layers:x.modelbaselayer,maptheme:e[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0xfb9")],tileStylesMap:e[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0x1047")],layerType:0,messageType:1,isBim:b[_0x4b1c("0x78")]>100};this[_0x4b1c("0x34")][_0x4b1c("0x1048")](r,b)}},{key:"handleFloors",value:function(x,c,b,_,e){var t=this[_0x4b1c("0x102")],i=(x[_0x4b1c("0x1045")][_0x4b1c("0xf7")]-x[_0x4b1c("0x1045")][_0x4b1c("0xfb")])/2+x[_0x4b1c("0x1045")][_0x4b1c("0xfb")],a=(x.floorEdge[_0x4b1c("0xf8")]-x[_0x4b1c("0x1045")].miny)/2+x.floorEdge[_0x4b1c("0xfc")],n=t[_0x4b1c("0x2de")],r=t[_0x4b1c("0x2df")];n=_.sourceData[_0x4b1c("0xcba")],r=_[_0x4b1c("0xb00")].DefaultCenY;var s={editMode:t.map[_0x4b1c("0x47")][_0x4b1c("0x1f6")],fnum:c,sceneX:n,sceneZ:r,floorCenX:-i,floorCenZ:a,minX:_[_0x4b1c("0xb00")][_0x4b1c("0x5a3")],minY:_.sourceData[_0x4b1c("0x5a6")],maxX:_[_0x4b1c("0xb00")].maxX,maxY:_[_0x4b1c("0xb00")][_0x4b1c("0x5ba")],floorHeight:b,layers:x.floorBaseLayers,layerType:2,messageType:1};e||(s[_0x4b1c("0x5a3")]=x[_0x4b1c("0x1045")][_0x4b1c("0xfb")],s[_0x4b1c("0x5a6")]=x.floorEdge[_0x4b1c("0xfc")],s[_0x4b1c("0x5a7")]=x[_0x4b1c("0x1045")][_0x4b1c("0xf7")],s[_0x4b1c("0x5ba")]=x[_0x4b1c("0x1045")][_0x4b1c("0xf8")]),this[_0x4b1c("0x34")][_0x4b1c("0x1048")](s,_)}}]),x}();c[_0x4b1c("0xc")]=a},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x.__esModule?x:{default:x}}var i=window[_0x4b1c("0x5f4")],a=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x);var b=this;b[_0x4b1c("0x102")]=c,b[_0x4b1c("0x1049")]=[],b[_0x4b1c("0x104a")]=[],b[_0x4b1c("0x104b")]={},b[_0x4b1c("0x104c")]={},b[_0x4b1c("0x104d")]=[],b.postCount=0,b[_0x4b1c("0x104e")]=0;var e=0,t=window[_0x4b1c("0x104f")].hardwareConcurrency;e=t?t-2<0?1:t-2:2;for(var a=function(x){i.createWorker(x,(function(_){b.workers[x]=_,b.workerStatus[x]=!0,_.addEventListener("message",(function(x){b[_0x4b1c("0x104c")][x[_0x4b1c("0x569")].id]=!0,b[_0x4b1c("0x104e")]++;var _=null;if(x.data[_0x4b1c("0x1050")]!==_0x4b1c("0x226"))if(x[_0x4b1c("0x569")][_0x4b1c("0x1050")]==_0x4b1c("0x1051")||x[_0x4b1c("0x569")][_0x4b1c("0x1050")]==_0x4b1c("0x1052")){var e=x[_0x4b1c("0x569")][_0x4b1c("0x681")]||x[_0x4b1c("0x569")][_0x4b1c("0x569")][_0x4b1c("0x681")];(_=c[_0x4b1c("0x3e")].getBuildingById(e))[_0x4b1c("0x26b")][_0x4b1c("0xf8c")][_0x4b1c("0x1053")](x[_0x4b1c("0x569")])}else if(x[_0x4b1c("0x569")][_0x4b1c("0x1054")]){if((_=c[_0x4b1c("0x3e")][_0x4b1c("0x218")](x[_0x4b1c("0x569")].bid))||(_=c[_0x4b1c("0x3e")][_0x4b1c("0x1055")](x[_0x4b1c("0x569")][_0x4b1c("0x12b")])),!_)return;_[_0x4b1c("0x559")][_0x4b1c("0xdf3")](x.data,_)}else{if(!(_=c.map[_0x4b1c("0x136")](x[_0x4b1c("0x569")][_0x4b1c("0x12b")])))return;2==x[_0x4b1c("0x569")].layerType?_[_0x4b1c("0xa12")][_0x4b1c("0x1056")](x[_0x4b1c("0x569")],_):_[_0x4b1c("0xa12")][_0x4b1c("0x1057")](x[_0x4b1c("0x569")],_)}}))}))},n=0;n<e;n++)a(n);b[_0x4b1c("0x102")][_0x4b1c("0x3e")].on(_0x4b1c("0x9df"),(function(){b[_0x4b1c("0x1058")]()}))}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x1059"),value:function(x){0!=this.tsTank[_0x4b1c("0x0")]&&(this[_0x4b1c("0x104d")][0].id=x,this[_0x4b1c("0x104c")][x]=!1,this[_0x4b1c("0x104b")][x][_0x4b1c("0x105a")](this[_0x4b1c("0x104d")][0]),this[_0x4b1c("0x104d")][_0x4b1c("0x3")]())}},{key:_0x4b1c("0x35"),value:function(x){var c=this.workers;for(var b in c)if(this[_0x4b1c("0x104c")][b])return x.id=b,this.workerStatus[b]=!1,void this[_0x4b1c("0x104b")][b][_0x4b1c("0x105a")](x);this[_0x4b1c("0x104d")].push(x)}},{key:"checkTstank",value:function(){if(0!=this.tsTank[_0x4b1c("0x0")]){var x=this[_0x4b1c("0x104b")];for(var c in x)if(this.workerStatus[c]){var b=this[_0x4b1c("0x104d")][0];b.id=c,this[_0x4b1c("0x104c")][c]=!1,this[_0x4b1c("0x104d")].shift();try{this[_0x4b1c("0x104b")][c][_0x4b1c("0x105a")](b)}catch(x){console[_0x4b1c("0xe3")](x)}return b=null,void this[_0x4b1c("0x105b")]++}}}},{key:"addTask",value:function(x,c){var b=c.id;x[_0x4b1c("0x12b")]=b;var _=this.workers;for(var e in _)if(this[_0x4b1c("0x104c")][e])return x.id=e,this[_0x4b1c("0x104c")][e]=!1,this[_0x4b1c("0x104b")][e][_0x4b1c("0x105a")](x),this[_0x4b1c("0x105b")]++,void(x=null);this[_0x4b1c("0x104d")].push(x)}},{key:_0x4b1c("0x719"),value:function(x){}},{key:_0x4b1c("0x105c"),value:function(){}}]),x}();c[_0x4b1c("0xc")]=a},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=t(b(0)),e=t(b(1));b(4);function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(){(0,_[_0x4b1c("0xc")])(this,x)}return(0,e.default)(x,null,[{key:"calcSceneBox3",value:function(x){var c=Number[_0x4b1c("0x105d")],b=Number.NEGATIVE_INFINITY,_=x[_0x4b1c("0xb3b")];for(var e in _){var t=_[e].Elevation;c=Math.min(c,t),b=Math[_0x4b1c("0x2f5")](b,t)}return new(THREE[_0x4b1c("0x2eb")])(new(THREE[_0x4b1c("0x128")])(x[_0x4b1c("0x5a3")],c,x[_0x4b1c("0x5a6")]),new(THREE[_0x4b1c("0x128")])(x[_0x4b1c("0x5a7")],b,x[_0x4b1c("0x5ba")]))}},{key:_0x4b1c("0x1037"),value:function(x){var c=x.center(),b=x[_0x4b1c("0xe0")]();return{target:new(THREE[_0x4b1c("0x128")])(0,c.y,0),position:new(THREE[_0x4b1c("0x128")])(1*b.x,c.y+.75*b.x,1*-b.x)}}},{key:"buildCurvePoints",value:function(x,c,b,_,e){if(x[_0x4b1c("0x0")]>=3){var t=Math.PI/20,i=Math.PI-t,a=b||1,n=null==c?8:c;if(0==n)return x;var r=1/n;x[_0x4b1c("0x12")](x[x[_0x4b1c("0x0")]-1]);for(var s=[],o=0;o<x[_0x4b1c("0x0")]-2;){var f=x[o].clone(),l=x[o+1][_0x4b1c("0x13e")](),d=x[o+2].clone(),u=f[_0x4b1c("0x13e")]().sub(l),h=d.clone()[_0x4b1c("0x6a0")](l),g=u[_0x4b1c("0x231")](h),v=u[_0x4b1c("0x0")](),p=h[_0x4b1c("0x0")]();f[_0x4b1c("0x12e")]=x[o][_0x4b1c("0x12e")],l[_0x4b1c("0x12e")]=x[o+1][_0x4b1c("0x12e")],d.fnum=x[o+2].fnum,f[_0x4b1c("0x12b")]=x[o][_0x4b1c("0x12b")],l.bid=x[o+1][_0x4b1c("0x12b")],d[_0x4b1c("0x12b")]=x[o+2][_0x4b1c("0x12b")];var m=l.y==d.y&&d.y==f.y,A=!_||m;if(s[_0x4b1c("0x12")](f),g>t&&g<i&&v>a&&p>a&&A){var y=l[_0x4b1c("0x13e")]()[_0x4b1c("0xc70")](f,a/v),C=l[_0x4b1c("0x13e")]()[_0x4b1c("0xc70")](d,a/p);y.fnum=l[_0x4b1c("0x12e")],y.bid=l.bid,s[_0x4b1c("0x12")](y);for(var I=r;I<.999999;I+=r){var E=I,w=y[_0x4b1c("0x13e")]()[_0x4b1c("0xc70")](l,E),T=l[_0x4b1c("0x13e")]().lerp(C,E),k=w[_0x4b1c("0xc70")](T,E);k.fnum=y[_0x4b1c("0x12e")],k.bid=y[_0x4b1c("0x12b")],s[_0x4b1c("0x12")](k)}x[o+1]=C,C[_0x4b1c("0x12e")]=d.fnum,C[_0x4b1c("0x12b")]=d[_0x4b1c("0x12b")],o++}else o++;o==x[_0x4b1c("0x0")]-2&&s[_0x4b1c("0x12")](d)}return x[_0x4b1c("0xe2")](),s}return x}}]),x}();c.default=i},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(c,b,e){(0,_[_0x4b1c("0xc")])(this,x),this.x=c,this.y=b,this.z=e}return(0,e.default)(x,[{key:_0x4b1c("0x105e"),value:function(x){this.x=x.x,this.y=x.y}}]),x}();c[_0x4b1c("0xc")]=i},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(c,b){(0,_.default)(this,x),this[_0x4b1c("0x105f")]=c,this[_0x4b1c("0xb95")]=b,this[_0x4b1c("0x1060")]=!0,this.enableMapRotate_=!0,this[_0x4b1c("0x1061")]=!0,this.enableMapPinch_=!0,this[_0x4b1c("0x1062")]=!0,this[_0x4b1c("0x1063")]=!0}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x25d"),get:function(){return this[_0x4b1c("0x1060")]},set:function(x){x!=this.enableMapPan_&&(this[_0x4b1c("0x1060")]=x,this[_0x4b1c("0xb95")][_0x4b1c("0xc61")]=x)}},{key:_0x4b1c("0x1064"),get:function(){return this[_0x4b1c("0x1065")]},set:function(x){x!=this.enableMapRotate_&&(this[_0x4b1c("0x1065")]=x,this[_0x4b1c("0xb95")][_0x4b1c("0x1066")]=x,this.controls_[_0x4b1c("0xc7d")]=x)}},{key:_0x4b1c("0xc2a"),get:function(){return this[_0x4b1c("0x1063")]},set:function(x){x!=this[_0x4b1c("0x1063")]&&(this[_0x4b1c("0x1063")]=x)}},{key:_0x4b1c("0x1067"),get:function(){return this[_0x4b1c("0x1061")]},set:function(x){x!=this[_0x4b1c("0x1061")]&&(this[_0x4b1c("0x1061")]=x,this[_0x4b1c("0xb95")][_0x4b1c("0xc60")]=x)}},{key:_0x4b1c("0x1068"),get:function(){return this.enableMapIncline_},set:function(x){x!=this[_0x4b1c("0x1061")]&&(this[_0x4b1c("0x1061")]=x,this[_0x4b1c("0xb95")][_0x4b1c("0xc60")]=x)}},{key:_0x4b1c("0x1069"),get:function(){return this[_0x4b1c("0x106a")]},set:function(x){x!=this[_0x4b1c("0x106a")]&&(this[_0x4b1c("0x106a")]=x,this[_0x4b1c("0xb95")].enableZoom=x)}},{key:_0x4b1c("0x106b"),get:function(){return this[_0x4b1c("0x1062")]},set:function(x){x!=this[_0x4b1c("0x1062")]&&(this[_0x4b1c("0x1062")]=x,this.mapPicker_.enabled=x)}}]),x}();c[_0x4b1c("0xc")]=i},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=a(b(0)),e=a(b(1)),t=a(b(148)),i=b(34);function a(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var n=function(){function x(c){(0,_.default)(this,x),this.map=c,this.plane=null,this[_0x4b1c("0x39")]()}return(0,e[_0x4b1c("0xc")])(x,[{key:"init",value:function(){var x=this,c=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x9c2")],b=document[_0x4b1c("0x21")]("canvas"),_=b[_0x4b1c("0x332")]("2d"),e=new Image;14296!==t[_0x4b1c("0xc")].length&&MessagePoster[_0x4b1c("0x31")]({msg:_0x4b1c("0x52e"),level:_0x4b1c("0xe3")}),e[_0x4b1c("0x4d7")]=i.Base64[_0x4b1c("0x4b")](t[_0x4b1c("0xc")]),e.onload=function(){var t=Math[_0x4b1c("0x2f5")](e[_0x4b1c("0x1c9")],e.height);b[_0x4b1c("0x1c9")]=3*t,b[_0x4b1c("0x1a3")]=3*t,_[_0x4b1c("0x106c")](t/2,t/2),_[_0x4b1c("0xcae")](-30*Math.PI/180),_[_0x4b1c("0x106c")](-t/2,0),_.drawImage(e,0,0);var i=new(THREE[_0x4b1c("0x35e")])(b);i[_0x4b1c("0x8a7")]=THREE[_0x4b1c("0x18d")],i[_0x4b1c("0x18c")]=THREE.RepeatWrapping;i[_0x4b1c("0x157")].x=30,i[_0x4b1c("0x157")].y=30,i[_0x4b1c("0x188")]=!0;var a=new THREE.MeshBasicMaterial({map:i,transparent:!0,opacity:.05,side:THREE[_0x4b1c("0x15c")]}),n=new THREE.PlaneBufferGeometry(1,1,1,1),r=new THREE.Mesh(n,a);r.position[_0x4b1c("0xdb")](0,0,0),r[_0x4b1c("0x201")][_0x4b1c("0xdb")](1e4,1e4,1),c[_0x4b1c("0xdd")](r),x.plane=r}}},{key:_0x4b1c("0xf3"),value:function(){this[_0x4b1c("0x181")]&&this[_0x4b1c("0x181")][_0x4b1c("0x108")]&&(this[_0x4b1c("0x181")][_0x4b1c("0x191")]=!1,this.plane[_0x4b1c("0xf2")].dispose(),this[_0x4b1c("0x181")][_0x4b1c("0xf4")][_0x4b1c("0xf3")](),this[_0x4b1c("0x181")][_0x4b1c("0x108")][_0x4b1c("0x2ea")](this[_0x4b1c("0x181")]))}}]),x}();c[_0x4b1c("0xc")]=n},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=a(b(5)),e=a(b(0)),t=a(b(10)),i=a(b(11));function a(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var n=function(x){function c(x){(0,e[_0x4b1c("0xc")])(this,c);var b=(x=x||{}).data,i=(0,t[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,_.default)(c))[_0x4b1c("0x2")](this,esmap[_0x4b1c("0x131")][_0x4b1c("0x106d")],b,x.o3d||new(THREE[_0x4b1c("0x214")]),x[_0x4b1c("0x102")]||esmap[_0x4b1c("0x32")].instance[_0x4b1c("0x1e1")]));return i.params=x,b&&null!=b[_0x4b1c("0x2f2")]&&(i[_0x4b1c("0x2f2")]=x[_0x4b1c("0x569")][_0x4b1c("0x2f2")]),i[_0x4b1c("0x64a")]=x[_0x4b1c("0x78")]||esmap[_0x4b1c("0x629")].NONE,i}return(0,i[_0x4b1c("0xc")])(c,x),c}(esmap[_0x4b1c("0x330")]);c.default=n},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=a(b(5)),e=a(b(0)),t=a(b(10)),i=a(b(11));function a(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var n=function(x){function c(x){(0,e[_0x4b1c("0xc")])(this,c);var b=(0,t[_0x4b1c("0xc")])(this,(c.__proto__||(0,_.default)(c))[_0x4b1c("0x2")](this,esmap[_0x4b1c("0x131")][_0x4b1c("0x691")],x));b.ID=x.oid,b[_0x4b1c("0x1f7")]=x[_0x4b1c("0x1f7")],b[_0x4b1c("0x2f2")]=x[_0x4b1c("0x3e5")],b[_0x4b1c("0x1e4")]=x[_0x4b1c("0x3dd")],b[_0x4b1c("0x305")]=x[_0x4b1c("0x305")];var i=x.url;b.dataID=x[_0x4b1c("0x219")];var a="auto",n=1;x.w&&x.h?a={w:x.w,h:x.h}:x.w&&!x.h&&(n=x.w);var r={padding:0,size:a,scale:n};return b.o3d_[_0x4b1c("0x39")]({image:i,imageStyle:r}),b[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x5fe")],b}return(0,i[_0x4b1c("0xc")])(c,x),c}(a(b(81)).default);c.default=n},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=u(b(6)),e=u(b(7)),t=u(b(8)),i=u(b(5)),a=u(b(0)),n=u(b(1)),r=u(b(10)),s=u(b(11)),o=b(83),f=b(4),l=b(347),d=b(19);function u(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var h=function(x){function c(){(0,a[_0x4b1c("0xc")])(this,c);var x=(0,r[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,i[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this));return x[_0x4b1c("0x312")]=!0,x[_0x4b1c("0x1015")]=1,x.height_=1,x.scaleRatio=1,x[_0x4b1c("0x279")]=!0,x[_0x4b1c("0x106e")]=null,x[_0x4b1c("0x106f")]=!1,x[_0x4b1c("0x1070")]=null,x[_0x4b1c("0x1071")]=!1,x[_0x4b1c("0x1072")]=!1,x[_0x4b1c("0x1073")]=null,x[_0x4b1c("0x26c")]=!0,x[_0x4b1c("0x65f")]=1,x}var b,u,h,g,v,p;return(0,s[_0x4b1c("0xc")])(c,x),(0,n[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x39"),value:(p=(0,t.default)(e[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b,_,t,i,a,n,r,s,l,d=this;return e[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x.next){case 0:return this.ctx&&this[_0x4b1c("0x1074")](),this._configs=c,void 0!==c[_0x4b1c("0x26c")]&&(this.enableCollide=c[_0x4b1c("0x26c")]),x.next=5,(0,o[_0x4b1c("0x156")])(c);case 5:return b=x[_0x4b1c("0x337")],_=b[_0x4b1c("0x61c")],t=b[_0x4b1c("0x995")],i=b[_0x4b1c("0x588")],a=b[_0x4b1c("0x1c9")],n=b[_0x4b1c("0x1a3")],this[_0x4b1c("0x995")]=t,this[_0x4b1c("0x588")]=i,this[_0x4b1c("0x12d")].x=(0,f[_0x4b1c("0x13")])(c[_0x4b1c("0x12d")],"x",.5),this[_0x4b1c("0x12d")].y=(0,f.getValue)(c[_0x4b1c("0x12d")],"y",0),this[_0x4b1c("0x65f")]!==a/n&&(r=a/this[_0x4b1c("0x1015")],s=n/this[_0x4b1c("0x315")],this.scale.x*=r,this.scale.y*=s),this[_0x4b1c("0x1015")]=a,this[_0x4b1c("0x315")]=n,l=new(THREE[_0x4b1c("0x52f")])({map:_,opacity:this[_0x4b1c("0x106f")]?0:1,alphaTest:c[_0x4b1c("0x1075")]||null}),this[_0x4b1c("0xf4")]=l,this[_0x4b1c("0x65f")]=a/n,this[_0x4b1c("0x1072")]||(this[_0x4b1c("0x1072")]=!0),this[_0x4b1c("0x106f")]&&setTimeout((function(){d.fadeIn()}),0),this.userData[_0x4b1c("0x16c")]&&(this[_0x4b1c("0x16c")]=!0),x[_0x4b1c("0x293")](_0x4b1c("0x28a"),_);case 25:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return p[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x30b"),value:function(){new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(this[_0x4b1c("0xf4")]).to({opacity:1},500)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ab")])[_0x4b1c("0x1af")]()}},{key:"updateImage",value:(v=(0,t.default)(e[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){return e[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return this[_0x4b1c("0x1076")][_0x4b1c("0x316")]=c,x[_0x4b1c("0x286")]=3,this[_0x4b1c("0x39")](this[_0x4b1c("0x1076")]);case 3:if(!this[_0x4b1c("0x1076")][_0x4b1c("0x1077")]){x[_0x4b1c("0x286")]=6;break}return x.next=6,this[_0x4b1c("0x308")](this[_0x4b1c("0x1076")][_0x4b1c("0x1078")]);case 6:case"end":return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return v[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x30f"),value:(g=(0,t[_0x4b1c("0xc")])(e[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b;return e[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:return b=this[_0x4b1c("0x1076")][_0x4b1c("0xc44")],(0,f[_0x4b1c("0xffc")])(b,c),x.next=4,this[_0x4b1c("0x39")](this[_0x4b1c("0x1076")]);case 4:if(!this[_0x4b1c("0x1076")].isGlow){x[_0x4b1c("0x286")]=7;break}return x[_0x4b1c("0x286")]=7,this.glow(this._configs[_0x4b1c("0x1078")]);case 7:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return g[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x310"),value:(h=(0,t[_0x4b1c("0xc")])(e[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b;return e[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:return b=this._configs[_0x4b1c("0x331")],(0,f[_0x4b1c("0xffc")])(b,c),x[_0x4b1c("0x286")]=4,this.init(this[_0x4b1c("0x1076")]);case 4:if(!this[_0x4b1c("0x1076")].isGlow){x.next=7;break}return x[_0x4b1c("0x286")]=7,this[_0x4b1c("0x308")](this[_0x4b1c("0x1076")][_0x4b1c("0x1078")]);case 7:case"end":return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return h[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x308"),value:(u=(0,t.default)(e[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b,t,i,a,n,r,s,o,f=this;return e[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:return b=_0x4b1c("0x126"),t=1,i=1,c&&"object"==(typeof c===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(c))&&(b=c.color||_0x4b1c("0x126"),t=c[_0x4b1c("0x129")]||1,i=c[_0x4b1c("0x201")]||1),x[_0x4b1c("0x286")]=5,this[_0x4b1c("0x275")]();case 5:return this[_0x4b1c("0x1076")].canvasPadding=.5*i,this._configs[_0x4b1c("0x354")]=!0,x[_0x4b1c("0x286")]=9,this[_0x4b1c("0x39")](this._configs);case 9:a=x.sent,this.center.y=.25,n=this[_0x4b1c("0x3e")],r=(0,l[_0x4b1c("0x1079")])(),s=(0,d[_0x4b1c("0x1b")])(8),this[_0x4b1c("0x1070")]=s,(o=new(l[_0x4b1c("0x107a")])({colorStr:b}))[_0x4b1c("0x46d")](a,r),o[_0x4b1c("0xf4")][_0x4b1c("0x147")]=(new(THREE[_0x4b1c("0x146")]))[_0x4b1c("0x27c")](b),o[_0x4b1c("0xf4")][_0x4b1c("0x129")]=t,this.activeSprite_=o,this.material=o.material,this.seeThrough&&(this[_0x4b1c("0xf4")][_0x4b1c("0x16d")]=!1),this[_0x4b1c("0xf4")][_0x4b1c("0x188")]=!0,n.on(_0x4b1c("0x164"),(function(x){f[_0x4b1c("0x107b")][_0x4b1c("0x70e")](x)}),null,s),this[_0x4b1c("0x1076")].isGlow=!0,this._configs[_0x4b1c("0x1078")]=c;case 26:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return u[_0x4b1c("0x4")](this,arguments)})},{key:"glowPlane",value:function(x){var c=this;if(this[_0x4b1c("0x1073")])this[_0x4b1c("0x1073")].visible=!0;else{x[_0x4b1c("0x68f")]||(x.radius=5);var b=new(THREE[_0x4b1c("0x71c")])(1.2*x.radius,1.2*x[_0x4b1c("0x68f")]),_=(0,l[_0x4b1c("0x1079")])();_[_0x4b1c("0x8a7")]=THREE.RepeatWrapping,_[_0x4b1c("0x18c")]=THREE[_0x4b1c("0x18d")],_.repeat.x=1,_.repeat.y=1;var e=(0,d.createHash)(8);this[_0x4b1c("0x1070")]=e;var t=new(l[_0x4b1c("0x107a")])({colorStr:x[_0x4b1c("0x147")]});t[_0x4b1c("0x107c")](_),this[_0x4b1c("0x107b")]=t;var i=new(THREE[_0x4b1c("0x197")])(b,t[_0x4b1c("0xf4")]);i[_0x4b1c("0x202")].x=.5*-Math.PI,i[_0x4b1c("0x105")][_0x4b1c("0x20b")](this.position),this[_0x4b1c("0x108")][_0x4b1c("0xdd")](i),this[_0x4b1c("0x1073")]=i,this[_0x4b1c("0x3e")].on(_0x4b1c("0x164"),(function(x){c[_0x4b1c("0x107b")][_0x4b1c("0x70e")](x)}),null,e)}}},{key:_0x4b1c("0x30a"),value:function(){this[_0x4b1c("0x1073")]&&(this[_0x4b1c("0x1073")][_0x4b1c("0x191")]=!1)}},{key:_0x4b1c("0x275"),value:(b=(0,t[_0x4b1c("0xc")])(e[_0x4b1c("0xc")].mark((function x(){return e[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return this[_0x4b1c("0x1076")][_0x4b1c("0x354")]=!1,this[_0x4b1c("0x1076")][_0x4b1c("0x355")]=0,x[_0x4b1c("0x286")]=4,this[_0x4b1c("0x39")](this._configs);case 4:this[_0x4b1c("0x3e")][_0x4b1c("0x31e")](this[_0x4b1c("0x1070")]),this[_0x4b1c("0x1076")][_0x4b1c("0x1077")]=!1,this[_0x4b1c("0x1076")].glowConifg=null;case 7:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return b[_0x4b1c("0x4")](this,arguments)})},{key:"updateScreenSize",value:function(){this.fixedSize?esmap[_0x4b1c("0x277")][_0x4b1c("0x24e")][_0x4b1c("0x2")](this):!this[_0x4b1c("0x1071")]&&this[_0x4b1c("0x1072")]&&(this[_0x4b1c("0x201")].x=this[_0x4b1c("0x314")]*this.width_/20,this[_0x4b1c("0x201")].y=this.scaleRatio*this[_0x4b1c("0x315")]/20,this[_0x4b1c("0x1071")]=!0)}},{key:_0x4b1c("0x24c"),value:function(x){esmap[_0x4b1c("0x277")][_0x4b1c("0x24c")][_0x4b1c("0x2")](this,x)}},{key:_0x4b1c("0x249"),value:function(x){esmap[_0x4b1c("0x277")][_0x4b1c("0x249")][_0x4b1c("0x2")](this,x)}},{key:"stopFlash",value:function(){esmap[_0x4b1c("0x277")].stopFlash[_0x4b1c("0x2")](this)}},{key:_0x4b1c("0x24b"),value:function(){esmap.MapObjectUtils[_0x4b1c("0x24b")][_0x4b1c("0x2")](this)}},{key:_0x4b1c("0x252"),value:function(x){var c=this,b=(0,f[_0x4b1c("0x107d")])(x,_0x4b1c("0x13a"),{time:1}),_=b.value,e=b.time;new(esmap[_0x4b1c("0x1a6")].Tween)(this).to({scaleRatio:_},1e3*e)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")].Easing[_0x4b1c("0x1aa")][_0x4b1c("0x1ab")]).onUpdate((function(){c[_0x4b1c("0x279")]||(c[_0x4b1c("0x201")].x=c[_0x4b1c("0x314")]*c.width_/20,c.scale.y=c[_0x4b1c("0x314")]*c.height_/20)}))[_0x4b1c("0x1af")]()}},{key:"setSize",value:function(x){var c=this[_0x4b1c("0x1015")],b=this.height_;if(this[_0x4b1c("0x107e")]||(this._os={width:this.width_,height:this[_0x4b1c("0x315")]}),x){var _=.3;if(x instanceof Object?(c=x.width,b=x[_0x4b1c("0x1a3")],_=x[_0x4b1c("0x1")](_0x4b1c("0x1a5"))?x.time:_):(c=x,b=x),!this[_0x4b1c("0x279")])return this[_0x4b1c("0x1015")]=c,this[_0x4b1c("0x315")]=b,this.scale.x=this[_0x4b1c("0x314")]*c/20,void(this[_0x4b1c("0x201")].y=this[_0x4b1c("0x314")]*b/20);this.setSizeAnimId&&this.setSizeAnimId[_0x4b1c("0x19b")]();var e=new(esmap[_0x4b1c("0x1a6")].Tween)(this).to({width_:c,height_:b},1e3*_).easing(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")].InOut)[_0x4b1c("0x1ac")]((function(){}))[_0x4b1c("0x1af")]();this[_0x4b1c("0x107f")]=e}else this[_0x4b1c("0x30c")](this[_0x4b1c("0x107e")])}},{key:_0x4b1c("0x30d"),value:function(x){if(this[_0x4b1c("0x1080")]||(this[_0x4b1c("0x1080")]=this[_0x4b1c("0xf4")][_0x4b1c("0x147")]),x){var c=(new(THREE[_0x4b1c("0x146")])).setStyle(x);this.material.color=c}else this[_0x4b1c("0xf4")][_0x4b1c("0x147")]=this[_0x4b1c("0x1080")]}},{key:_0x4b1c("0xf3"),value:function(){this[_0x4b1c("0x1074")](),this[_0x4b1c("0x108")]&&(this[_0x4b1c("0x108")][_0x4b1c("0x2ea")](this),this[_0x4b1c("0x1073")]&&(this[_0x4b1c("0x1073")][_0x4b1c("0xf4")].dispose(),this[_0x4b1c("0x108")].remove(this[_0x4b1c("0x1073")]),this[_0x4b1c("0x1073")]=null)),this.map[_0x4b1c("0x232")][_0x4b1c("0x194")](this[_0x4b1c("0x195")])}},{key:"disposeCtx",value:function(){this[_0x4b1c("0xf4")]&&(this.material[_0x4b1c("0x3e")]&&this[_0x4b1c("0xf4")][_0x4b1c("0x3e")].dispose(),this[_0x4b1c("0xf4")][_0x4b1c("0xf3")]()),this[_0x4b1c("0x588")]&&this[_0x4b1c("0x995")]&&this[_0x4b1c("0x995")][_0x4b1c("0x9b4")](0,0,this[_0x4b1c("0x588")][_0x4b1c("0x1c9")],this[_0x4b1c("0x588")][_0x4b1c("0x1a3")])}},{key:"flow",value:function(){var x=this;this.material[_0x4b1c("0x3e")][_0x4b1c("0x8a7")]=this[_0x4b1c("0xf4")][_0x4b1c("0x3e")].wrapT=THREE[_0x4b1c("0x18d")],this[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x188")]=!0,this[_0x4b1c("0x3e")].on("update",(function(){x[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x158")].x-=.001}))}},{key:_0x4b1c("0x16c"),set:function(x){x?(this[_0x4b1c("0x172")]=100,this.material.depthTest=!1):(this.renderOrder=this[_0x4b1c("0x165")][_0x4b1c("0x172")],this[_0x4b1c("0xf4")][_0x4b1c("0x16d")]=!0),this[_0x4b1c("0x165")][_0x4b1c("0x16c")]=x},get:function(){return this.userData.seeThrough}},{key:_0x4b1c("0x317"),set:function(x){this[_0x4b1c("0x1076")][_0x4b1c("0x317")]=x,this[_0x4b1c("0x39")](this[_0x4b1c("0x1076")])},get:function(){return this[_0x4b1c("0x1076")][_0x4b1c("0x317")]}},{key:_0x4b1c("0x316"),set:function(x){this[_0x4b1c("0x1076")][_0x4b1c("0x316")]=x,this[_0x4b1c("0x39")](this[_0x4b1c("0x1076")])},get:function(){return this[_0x4b1c("0x1076")].image}},{key:_0x4b1c("0x3e"),get:function(){return esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")]}}]),c}(THREE[_0x4b1c("0x27d")]);c[_0x4b1c("0xc")]=h},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0}),c[_0x4b1c("0x1079")]=c[_0x4b1c("0x107a")]=void 0;var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(c){var b=c[_0x4b1c("0x466")],e=c[_0x4b1c("0x1081")],t=void 0!==e&&e;(0,_.default)(this,x),this[_0x4b1c("0x147")]=(new(THREE[_0x4b1c("0x146")])).setStyle(b),this[_0x4b1c("0xf4")]=null,this[_0x4b1c("0x47d")]=null,this[_0x4b1c("0x466")]=b,this[_0x4b1c("0x1081")]=t,this[_0x4b1c("0x106")]=0}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x46d"),value:function(x,c){var b=this;return this.material=new THREE.SpriteMaterial({color:16777215,transparent:!0}),this.material.onBeforeCompile=function(_){_.uniforms.iTime={value:0},_[_0x4b1c("0x148")][_0x4b1c("0x1082")]={value:b.color},_.uniforms[_0x4b1c("0x1083")]={value:c},_.uniforms[_0x4b1c("0x4b1")]={value:x},_[_0x4b1c("0x148")][_0x4b1c("0x1084")]={value:b.isOnlyGlow},_.vertexShader=_.vertexShader[_0x4b1c("0x14c")](_0x4b1c("0x477"),_0x4b1c("0x1085")),_[_0x4b1c("0x14a")]=_.vertexShader[_0x4b1c("0x14c")](_0x4b1c("0x1086"),_0x4b1c("0x1087")),_[_0x4b1c("0x150")]=_.fragmentShader[_0x4b1c("0x14c")](_0x4b1c("0x14e"),_0x4b1c("0x1088")),_[_0x4b1c("0x150")]=_[_0x4b1c("0x150")][_0x4b1c("0x14c")](_0x4b1c("0x151"),_0x4b1c("0x1089")),b.shader=_},this.material}},{key:_0x4b1c("0x107c"),value:function(x){var c=this;return this.material=new(THREE[_0x4b1c("0x141")])({color:16777215,transparent:!0,depthWrite:!1}),this[_0x4b1c("0xf4")][_0x4b1c("0x471")]=function(b){b[_0x4b1c("0x148")].iTime={value:0},b.uniforms[_0x4b1c("0x1082")]={value:c[_0x4b1c("0x147")]},b.uniforms.aoTexture={value:x},b.vertexShader=b[_0x4b1c("0x14a")][_0x4b1c("0x14c")]("#include <uv_pars_vertex>",_0x4b1c("0x1085")),b[_0x4b1c("0x14a")]=b[_0x4b1c("0x14a")][_0x4b1c("0x14c")](_0x4b1c("0x14d"),_0x4b1c("0x108a")),b[_0x4b1c("0x150")]=b[_0x4b1c("0x150")].replace(_0x4b1c("0x14e"),"\n                uniform float opacity;\n                uniform float iTime;\n                uniform vec3 activeColor;\n                uniform sampler2D aoTexture;\n                varying vec2 nvUv;\n                "),b.fragmentShader=b.fragmentShader.replace(_0x4b1c("0x151"),_0x4b1c("0x108b")),c[_0x4b1c("0x47d")]=b},this[_0x4b1c("0xf4")]}},{key:_0x4b1c("0x108c"),value:function(x){var c=x[_0x4b1c("0x105")],b=x[_0x4b1c("0xe0")],_=new(THREE[_0x4b1c("0x27d")])(this[_0x4b1c("0xf4")]);return this[_0x4b1c("0xf4")][_0x4b1c("0x108d")]=!1,_.scale[_0x4b1c("0xdb")](b,b,b),_[_0x4b1c("0x105")].set(c.x,c.y,c.z),_}},{key:_0x4b1c("0x70e"),value:function(x){this[_0x4b1c("0x47d")]&&(this[_0x4b1c("0x106")]+=x,this[_0x4b1c("0x47d")][_0x4b1c("0x148")].iTime.value=this[_0x4b1c("0x106")])}}]),x}();c[_0x4b1c("0x107a")]=i,c[_0x4b1c("0x1079")]=function(){var x=document[_0x4b1c("0x21")](_0x4b1c("0x588"));x[_0x4b1c("0x1c9")]=256,x[_0x4b1c("0x1a3")]=256;var c=x[_0x4b1c("0x332")]("2d"),b=c[_0x4b1c("0x108e")](x[_0x4b1c("0x1c9")]/2,x.height/2,80,x[_0x4b1c("0x1c9")]/2,x[_0x4b1c("0x1a3")]/2,100);return b[_0x4b1c("0x9af")](0,_0x4b1c("0x108f")),b.addColorStop(1,_0x4b1c("0x1090")),c[_0x4b1c("0x33e")]=b,c.beginPath(),c[_0x4b1c("0x348")](x.width/2,x[_0x4b1c("0x1a3")]/2,100,0,2*Math.PI),c[_0x4b1c("0x464")](),new(THREE[_0x4b1c("0x1091")])(x)}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=s(b(5)),e=s(b(0)),t=s(b(1)),i=s(b(10)),a=s(b(11)),n=s(b(81)),r=b(4);function s(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var o=function(x){function c(x,b){(0,e[_0x4b1c("0xc")])(this,c);var t=(0,i.default)(this,(c[_0x4b1c("0x1de")]||(0,_[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this,esmap[_0x4b1c("0x131")][_0x4b1c("0xf95")],x));t.ID=x.oid,t.bid_=x[_0x4b1c("0x12b")],t.name=x[_0x4b1c("0x1f7")],t[_0x4b1c("0x2f2")]=x.Typeid,t[_0x4b1c("0x1e4")]=x[_0x4b1c("0x3dd")],t[_0x4b1c("0x305")]=x[_0x4b1c("0x305")],t[_0x4b1c("0x219")]=x[_0x4b1c("0x219")];var a=x.name,n=x[_0x4b1c("0x3d7")]||_0x4b1c("0x359"),s=x.imagespace||1,o=x.center,f={fontSize:12,fillStyle:_0x4b1c("0x126"),strokeWidth:1,strokeStyle:"#000",shadowBlur:3,shadowColor:_0x4b1c("0xfb2"),shadowOffsetX:0,shadowOffsetY:0,textBaseline:_0x4b1c("0x334"),padding:2,imageShadowBlur:5};(0,r[_0x4b1c("0xffc")])(f,b);var l=t[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xa3")]?"-"+String(t[_0x4b1c("0x3e")][_0x4b1c("0x47")].lang):"",d="",u=x[_0x4b1c("0x316")];u&&(d=x[_0x4b1c("0x1054")]?t.map.options[_0x4b1c("0x62")]+t.map[_0x4b1c("0xb79")]+(_0x4b1c("0x1092")+l+"/")+u:x.bid&&t.map[_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]?t[_0x4b1c("0x3e")][_0x4b1c("0x47")].mapDataSrc+t[_0x4b1c("0x3e")][_0x4b1c("0xb79")]+(_0x4b1c("0x97")+x[_0x4b1c("0x12b")]+_0x4b1c("0x1093")+l+"/")+u:t[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x62")]+t[_0x4b1c("0x3e")][_0x4b1c("0xb79")]+"/imagelabel"+l+"/"+u);var h="auto";x.w&&x.h&&(h={w:x.w,h:x.h});var g={align:n,padding:s,size:h,scale:1,shadowBlur:Number(f[_0x4b1c("0xfd5")])};return t[_0x4b1c("0xf0")][_0x4b1c("0x39")]({text:a,textStyle:f,image:d,imageStyle:g,center:o}),t[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")].label,t}return(0,a[_0x4b1c("0xc")])(c,x),(0,t[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x12b"),get:function(){return this[_0x4b1c("0x318")]}},{key:_0x4b1c("0x3e"),get:function(){return esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")]}}]),c}(n[_0x4b1c("0xc")]);c[_0x4b1c("0xc")]=o},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=o(b(2)),e=o(b(5)),t=o(b(0)),i=o(b(1)),a=o(b(10)),n=o(b(11)),r=b(4),s=o(b(350));function o(x){return x&&x.__esModule?x:{default:x}}var f=function(x){function c(x){var b;(0,t[_0x4b1c("0xc")])(this,c);var _=new s.default;return _[_0x4b1c("0x1f7")]=_0x4b1c("0x107"),b=(0,a[_0x4b1c("0xc")])(this,(c.__proto__||(0,e[_0x4b1c("0xc")])(c)).call(this,esmap[_0x4b1c("0x131")][_0x4b1c("0x1094")],{},_)),b[_0x4b1c("0x30e")]=esmap[_0x4b1c("0x277")][_0x4b1c("0x30e")],b[_0x4b1c("0xf0")][_0x4b1c("0x312")]=b.o3d_[_0x4b1c("0x191")],b.opts_=x,b.fnum=1,b.init(),b}return(0,n[_0x4b1c("0xc")])(c,x),(0,i[_0x4b1c("0xc")])(c,[{key:"init",value:function(){var x=this[_0x4b1c("0x3e")];this.x_=(0,r.getValue)(this[_0x4b1c("0x539")],"x",x[_0x4b1c("0x12d")].x),this.y_=(0,r[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],"y",x[_0x4b1c("0x12d")].y);var c=(0,r.getValue)(this[_0x4b1c("0x539")],_0x4b1c("0x4e"),_0x4b1c("0x1095"));this[_0x4b1c("0x1f7")]=(0,r[_0x4b1c("0x13")])(this.opts_,_0x4b1c("0x1f7"),""),this.ID=(0,r.getValue)(this[_0x4b1c("0x539")],"id",1),this.size_=(0,r[_0x4b1c("0x13")])(this.opts_,_0x4b1c("0xe0"),_0x4b1c("0x335")),this[_0x4b1c("0x101f")]=(0,r[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],_0x4b1c("0x1096"),!0),this[_0x4b1c("0x1097")]=(0,r[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],"fixedAngle",!1),this[_0x4b1c("0x1098")]=(0,r.getValue)(this.opts_,_0x4b1c("0x16a"),!1),this[_0x4b1c("0x1099")]=(0,r[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],_0x4b1c("0x109a"),this.size_/2),this[_0x4b1c("0x109b")]=(0,r[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],_0x4b1c("0x109c"),_0x4b1c("0x109d")),this[_0x4b1c("0x109e")]=(0,r[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],_0x4b1c("0x109f"),.65),this[_0x4b1c("0x10a0")]=(0,r.getValue)(this[_0x4b1c("0x539")],"seeThrough",!0),this[_0x4b1c("0x10a1")]=(0,r[_0x4b1c("0x13")])(this.opts_,_0x4b1c("0x349"),!1);var b=this,_=(0,r[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],"scale",1);this[_0x4b1c("0xf0")].init({scale:_,size:this.size_,arrow:this[_0x4b1c("0x1098")],arrowSize:this[_0x4b1c("0x1099")],arrowColor:this[_0x4b1c("0x109b")],fixedAngle:this[_0x4b1c("0x1097")],arrowOffset:this[_0x4b1c("0x109e")],clip:this[_0x4b1c("0x10a1")],seeThrough:this[_0x4b1c("0x10a0")]},c,(function(x){b[_0x4b1c("0x10a2")]=!0,x.main.material&&(x[_0x4b1c("0xcf4")][_0x4b1c("0xf4")][_0x4b1c("0x191")]=!0),b[_0x4b1c("0x10a0")]&&(x[_0x4b1c("0xcf4")][_0x4b1c("0xf4")][_0x4b1c("0x16d")]=!1),b[_0x4b1c("0x539")][_0x4b1c("0x3fe")]&&(b[_0x4b1c("0x3fe")]=b[_0x4b1c("0x539")][_0x4b1c("0x3fe")]),b.opts_[_0x4b1c("0x1b0")]&&b.opts_[_0x4b1c("0x1b0")](b)})),this[_0x4b1c("0xf0")].up.multiplyScalar(-1),this[_0x4b1c("0x10a3")]=this[_0x4b1c("0x10a4")][_0x4b1c("0xe")](this),x.on(_0x4b1c("0x164"),this._update_)}},{key:_0x4b1c("0x30c"),value:function(x){var c=this,b=c[_0x4b1c("0xf0")][_0x4b1c("0x1015")],_=c[_0x4b1c("0xf0")][_0x4b1c("0x315")],e=.3;x instanceof Object?(b=x[_0x4b1c("0x1c9")],_=x[_0x4b1c("0x1a3")],e=x[_0x4b1c("0x1")](_0x4b1c("0x1a5"))?x[_0x4b1c("0x1a5")]:e):(b=x,_=x),c[_0x4b1c("0x107f")]&&c[_0x4b1c("0x107f")][_0x4b1c("0x19b")]();var t=new(esmap[_0x4b1c("0x1a6")].Tween)(c[_0x4b1c("0xf0")]).to({width_:b,height_:_},1e3*e)[_0x4b1c("0x1a8")](esmap.TWEEN[_0x4b1c("0x1a9")][_0x4b1c("0x1aa")].InOut).onComplete((function(){})).start();c[_0x4b1c("0x107f")]=t}},{key:_0x4b1c("0x10a5"),value:function(){this[_0x4b1c("0x17e")]&&(this[_0x4b1c("0x17e")][_0x4b1c("0x191")]=!1)}},{key:"showBound",value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};x=(0,_[_0x4b1c("0xc")])({color:_0x4b1c("0x10a6"),linewidth:0,radius:10,opacity:.5},x);var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];if(this[_0x4b1c("0x17e")]){if(this.circle.visible||(this[_0x4b1c("0x17e")][_0x4b1c("0x191")]=!0),this.circle.datas_[_0x4b1c("0x12c")][_0x4b1c("0x68f")]==x.radius)return;var b=x[_0x4b1c("0x68f")]/this[_0x4b1c("0x17e")][_0x4b1c("0xef")][_0x4b1c("0x10a7")];return this[_0x4b1c("0x17e")][_0x4b1c("0x201")][_0x4b1c("0xdb")](b,b,1),void(this[_0x4b1c("0x17e")][_0x4b1c("0xef")][_0x4b1c("0x12c")][_0x4b1c("0x68f")]=x[_0x4b1c("0x68f")])}var e=new esmap.ESPolygonMarker({bid:0,alpha:x[_0x4b1c("0x129")],color:x[_0x4b1c("0x147")],lineWidth:x[_0x4b1c("0x3fb")],seeThrough:!0,points:{type:_0x4b1c("0x17e"),center:{x:c[_0x4b1c("0x12d")].x,y:c[_0x4b1c("0x12d")].y},radius:x.radius,segments:40},height:-.1,lineType:esmap[_0x4b1c("0xa4d")][_0x4b1c("0x10a8")]});e.initRadius=x.radius,this.o3d_[_0x4b1c("0x108")].add(e[_0x4b1c("0xf0")]),this[_0x4b1c("0x17e")]=e[_0x4b1c("0xf0")]}},{key:"rotateTo",value:function(x){var c=this;_0x4b1c("0x18f")==typeof x&&(x={angle:x});var b,_=(0,r.getValues)(x,_0x4b1c("0x1a5"),"duration",.3),e=c[_0x4b1c("0x3fe")],t=esmap.ESMapUtil.getNearestAngle(e,x[_0x4b1c("0x258")]);return c[_0x4b1c("0xb56")]&&c[_0x4b1c("0xb56")][_0x4b1c("0x19b")](),c[_0x4b1c("0xb56")]=esmap[_0x4b1c("0x1a6")][_0x4b1c("0x6cf")](_,(function(x){(b=e+t*x[_0x4b1c("0x13a")])<=0?b=360+b:b>=360&&(b-=360),c[_0x4b1c("0x3fe")]=b}),null,(function(){x[_0x4b1c("0x1ac")]&&x[_0x4b1c("0x1ac")]()})),c[_0x4b1c("0xb56")]}},{key:_0x4b1c("0x22e"),value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];this.x=x.x,this.y=x.y;var b=(0,r[_0x4b1c("0x1a2")])(x,_0x4b1c("0x12e"),_0x4b1c("0xc0b"),_0x4b1c("0x210"),null),_=(0,r.getValues)(x,_0x4b1c("0x1a3"),_0x4b1c("0x10a9"),_0x4b1c("0x158"),_0x4b1c("0x28"),0),e=(0,r.getValues)(x,_0x4b1c("0x12b"),c.id),t=c.getBuildingById(e);c[_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&-1===c[_0x4b1c("0x9e5")][_0x4b1c("0x114")](this)&&c[_0x4b1c("0x9e5")].push(this);var i={x:x.x,y:x.y};b=b||t[_0x4b1c("0x575")],this[_0x4b1c("0x12e")]=b,this[_0x4b1c("0xf0")][_0x4b1c("0x19c")]=(_||0)+t[_0x4b1c("0xf0")][_0x4b1c("0x105")].y,t.getFloor(b)[_0x4b1c("0xf0")].add(this[_0x4b1c("0xf0")]);var a=c[_0x4b1c("0xb11")]({x:i.x,y:i.y}),n=c[_0x4b1c("0x2c5")]({x:a.x,y:a.y});this[_0x4b1c("0x105")].set(n.x,this[_0x4b1c("0xf0")][_0x4b1c("0x19c")],n.z),this.bid=e,this.building=t}},{key:_0x4b1c("0x10a4"),value:function(){this[_0x4b1c("0xf0")][_0x4b1c("0xef")]&&this[_0x4b1c("0xf0")][_0x4b1c("0x24e")](esmap.ESMap[_0x4b1c("0x3a")][_0x4b1c("0x1c3")]),this[_0x4b1c("0x17e")]&&(this[_0x4b1c("0x17e")][_0x4b1c("0x105")].equals(this[_0x4b1c("0xf0")][_0x4b1c("0x105")])||this.circle.position[_0x4b1c("0x20b")](this[_0x4b1c("0xf0")][_0x4b1c("0x105")]))}},{key:"getPosition",value:function(){var x=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].coordThreeToMap(this.position);return x.z=this[_0x4b1c("0xf0")][_0x4b1c("0x19c")]||0,x[_0x4b1c("0x12e")]=this[_0x4b1c("0x12e")],x}},{key:_0x4b1c("0xf3"),value:function(){this[_0x4b1c("0xf0")]&&this[_0x4b1c("0xf0")][_0x4b1c("0x108")]&&(esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].off(_0x4b1c("0x164"),this[_0x4b1c("0x10a3")]),this[_0x4b1c("0xf0")].parent[_0x4b1c("0x2ea")](this.o3d_))}},{key:"direction",get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x400")][_0x4b1c("0x202")].z/Math.PI*180},set:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0x400")][_0x4b1c("0x202")].set(0,0,x/180*Math.PI,_0x4b1c("0xbb4"))}},{key:"url",get:function(){return this[_0x4b1c("0x539")][_0x4b1c("0x4e")]},set:function(x){this[_0x4b1c("0x539")][_0x4b1c("0x4e")]=x,this[_0x4b1c("0xf0")][_0x4b1c("0x10aa")](x)}},{key:_0x4b1c("0x16a"),set:function(x){this.o3d_[_0x4b1c("0x16a")]=x},get:function(){return this.o3d_[_0x4b1c("0x16a")]}},{key:_0x4b1c("0x10ab"),get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x10ab")]},set:function(x){this[_0x4b1c("0xf0")].fixedAngle=x}},{key:"visible",get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x312")]},set:function(x){this[_0x4b1c("0xf0")].forceVisible_=x,this[_0x4b1c("0xf0")].visible=x}},{key:_0x4b1c("0x1a3"),set:function(x){this.o3d_[_0x4b1c("0x19c")]=x},get:function(){return this[_0x4b1c("0xf0")].position.y}},{key:"floornum",get:function(){return this[_0x4b1c("0x12e")]},set:function(x){this[_0x4b1c("0x12e")]=x}},{key:_0x4b1c("0x105"),get:function(){return this.o3d_[_0x4b1c("0x105")]}}]),c}(o(b(82))[_0x4b1c("0xc")]);c[_0x4b1c("0xc")]=f},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=f(b(7)),e=f(b(8)),t=f(b(5)),i=f(b(0)),a=f(b(1)),n=f(b(10)),r=f(b(11)),s=b(83),o=b(4);function f(x){return x&&x.__esModule?x:{default:x}}var l=function(x){function c(){return(0,i.default)(this,c),(0,n[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,t[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this))}var b,f;return(0,r[_0x4b1c("0xc")])(c,x),(0,a[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x39"),value:(f=(0,e[_0x4b1c("0xc")])(_.default.mark((function x(c,b,e){var t,i,a,n,r,f,l,d,u,h,g,v,p,m,A=this;return _[_0x4b1c("0xc")].wrap((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return t=new THREE.Mesh,(i=new(THREE[_0x4b1c("0x46f")])({transparent:!0,side:THREE.DoubleSide}))[_0x4b1c("0x191")]=!1,t[_0x4b1c("0xf4")]=i,a=new THREE.PlaneBufferGeometry(1,1,1,1),t[_0x4b1c("0xf2")]=a,this[_0x4b1c("0x3de")]=c,this.hide=c[_0x4b1c("0x251")],this[_0x4b1c("0x10ab")]=c.fixedAngle,this.add(t),this.main=t,this[_0x4b1c("0x1015")]=1,this[_0x4b1c("0x315")]=1,c[_0x4b1c("0x16a")]?this[_0x4b1c("0x10ac")]():this[_0x4b1c("0x400")]=this[_0x4b1c("0xcf4")],n=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],r=c[_0x4b1c("0xe0")],f=c[_0x4b1c("0x201")],l=c.clip,(0,o[_0x4b1c("0x10ad")])(r)&&(r={w:r,h:r}),this.size=r,x[_0x4b1c("0x286")]=21,(0,s[_0x4b1c("0x156")])({image:b,imageStyle:{size:r,clip:l}});case 21:d=x.sent,u=d.texture,h=d[_0x4b1c("0x1c9")],g=d[_0x4b1c("0x1a3")],i[_0x4b1c("0x3e")]=u,i.needsUpdate=!0,this.hide&&(this[_0x4b1c("0xcf4")][_0x4b1c("0xf4")][_0x4b1c("0x191")]=!0,this[_0x4b1c("0x191")]=!0),n.on(_0x4b1c("0x164"),(function(){A[_0x4b1c("0x10ab")]&&A[_0x4b1c("0xcf4")][_0x4b1c("0x202")].set(0,0,-n[_0x4b1c("0x235")]/180*Math.PI,_0x4b1c("0xbb4"))})),this[_0x4b1c("0x3de")][_0x4b1c("0x16c")]&&(i[_0x4b1c("0x16f")]=!1,i[_0x4b1c("0x16d")]=!1),this.main.renderOrder=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x603")],p=(v={w:h,h:g}).w/32*10,m=v.h/32*10,this[_0x4b1c("0x201")][_0x4b1c("0xdb")](p,m,1),this[_0x4b1c("0x202")][_0x4b1c("0xdb")](-Math.PI/2,0,Math.PI,_0x4b1c("0xbb4")),this[_0x4b1c("0x1015")]=v.w,this[_0x4b1c("0x315")]=v.h,this[_0x4b1c("0x314")]=f,e&&e(this);case 37:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x,c,b){return f[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x10ac"),value:function(){var x=this[_0x4b1c("0x3de")],c=this.createArrow({color:x.arrowColor,scale:x.arrowSize/x[_0x4b1c("0x10ae")],offset:x[_0x4b1c("0x109f")]});this[_0x4b1c("0x3de")][_0x4b1c("0x16c")]&&(c[_0x4b1c("0xf4")][_0x4b1c("0x16f")]=!1,c[_0x4b1c("0xf4")][_0x4b1c("0x16d")]=!1),c[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")].locationMarker-.5,c.position.z-=.05;var b=new(THREE[_0x4b1c("0x1dd")]);b[_0x4b1c("0xdd")](c),this[_0x4b1c("0xdd")](b),this.outline=b,this[_0x4b1c("0x10af")]=b}},{key:_0x4b1c("0x10b0"),value:function(x){var c=x[_0x4b1c("0x147")],b=x[_0x4b1c("0x201")],_=x[_0x4b1c("0x158")],e=document[_0x4b1c("0x21")](_0x4b1c("0x588")),t=64;e[_0x4b1c("0x1c9")]=t,e[_0x4b1c("0x1a3")]=t;var i=e[_0x4b1c("0x332")]("2d");i[_0x4b1c("0x34b")](),i[_0x4b1c("0x325")](0,t),i[_0x4b1c("0x54e")](32,0),i[_0x4b1c("0x54e")](t,t),i[_0x4b1c("0x54e")](t,t),i[_0x4b1c("0x99b")](),i[_0x4b1c("0x34c")](),i[_0x4b1c("0x33e")]=c,i[_0x4b1c("0x464")]();var a=new THREE.Texture(e),n=new(THREE[_0x4b1c("0x144")])({map:a,transparent:!0});n[_0x4b1c("0x191")]=!0,n.map.needsUpdate=!0;var r=new(THREE[_0x4b1c("0x71c")])(b,b,b,b),s=new THREE.Mesh(r,n);return s.name=_0x4b1c("0x16a"),s[_0x4b1c("0x172")]=esmap.ESRenderOrder.locationMarker-1,s.position.y+=_,s}},{key:_0x4b1c("0x10aa"),value:(b=(0,e.default)(_[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b,e,t;return _[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x.next){case 0:return b=this[_0x4b1c("0xcf4")][_0x4b1c("0xf4")],x[_0x4b1c("0x286")]=3,(0,s[_0x4b1c("0x156")])({image:c,imageStyle:{size:this.size,clip:this.data_[_0x4b1c("0x349")]}});case 3:e=x[_0x4b1c("0x337")],t=e[_0x4b1c("0x61c")],b.map=t,b[_0x4b1c("0x188")]=!0;case 7:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x){return b[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x24e"),value:function(){esmap[_0x4b1c("0x277")][_0x4b1c("0x24e")][_0x4b1c("0x2")](this)}},{key:_0x4b1c("0x30e"),value:function(){}},{key:_0x4b1c("0x16a"),get:function(){return this[_0x4b1c("0x10af")]&&this[_0x4b1c("0x10af")][_0x4b1c("0x191")]},set:function(x){x?(this[_0x4b1c("0x10af")]?this.arrowGroup[_0x4b1c("0x191")]=!0:this[_0x4b1c("0x10ac")](),this.outline=this.arrowGroup):(this[_0x4b1c("0x10af")]&&(this[_0x4b1c("0x10af")][_0x4b1c("0x191")]=!1),this[_0x4b1c("0x400")]=this[_0x4b1c("0xcf4")])}}]),c}(THREE[_0x4b1c("0x214")]);c[_0x4b1c("0xc")]=l},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=d(b(6)),e=d(b(2)),t=d(b(5)),i=d(b(0)),a=d(b(1)),n=d(b(10)),r=d(b(11)),s=d(b(352)),o=d(b(63)),f=d(b(82)),l=b(51);function d(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var u=function(x){function c(x){(0,i.default)(this,c);var b=(0,n[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,t[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this,esmap[_0x4b1c("0x131")][_0x4b1c("0xac9")],{},new(THREE[_0x4b1c("0x197")])));return b[_0x4b1c("0x39")](x),b}return(0,r.default)(c,x),(0,a[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x39"),value:function(x){var c=this;this.alias="polygonMarker";var b={id:null,color:_0x4b1c("0x10b1"),alpha:.5,name:"",imageRepeat:{x:1,y:1},lineStyle:{lineWidth:1,fixedWidth:!1,lineType:esmap[_0x4b1c("0xa4d")][_0x4b1c("0x10a8")]},seeThrough:!1,imageAngle:180,height:6,pickAlpha:1,thickness:0,showLevel:null,pickable:!0,light:!1,roughness:.5,metalness:.5,renderOrder:esmap.ESRenderOrder[_0x4b1c("0x602")],bid:0,points:{type:_0x4b1c("0x10b2"),center:this[_0x4b1c("0x3e")][_0x4b1c("0x12d")],width:30,height:30},onError:null};(0,l.merge)(b,x),this[_0x4b1c("0x47")]=b,b[_0x4b1c("0x8f1")]&&(this.o3d_[_0x4b1c("0xf4")]=new(THREE[_0x4b1c("0x141")])({transparent:!0,roughness:b[_0x4b1c("0x143")],metalness:b[_0x4b1c("0x142")],side:THREE[_0x4b1c("0x10b3")]})),this.ID=b.id,this[_0x4b1c("0x1f7")]=b[_0x4b1c("0x1f7")],this.showLevel=b.showLevel,this.o3d_[_0x4b1c("0xf4")].transparent=!0,this[_0x4b1c("0xf0")].material.depthWrite=!0,this[_0x4b1c("0xf0")].material[_0x4b1c("0x15b")]=THREE[_0x4b1c("0x15c")],this.o3d_.renderOrder=b[_0x4b1c("0x172")],this[_0x4b1c("0x10b4")]=x[_0x4b1c("0x10b4")]||null,b.seeThrough&&(this[_0x4b1c("0xf0")].material[_0x4b1c("0x16d")]=!1),b.pickable&&this[_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x3ec")](this[_0x4b1c("0xf0")],this.bid||_0x4b1c("0xcf4"));var _=this[_0x4b1c("0x69e")](b.points);if(_){if(this.points=_,0==b[_0x4b1c("0xbda")]){var e=this.createPlaneGeometry(_);this[_0x4b1c("0xf0")][_0x4b1c("0xf2")]=e,this[_0x4b1c("0xf0")][_0x4b1c("0x10b5")](-Math.PI/2),this[_0x4b1c("0xf0")][_0x4b1c("0x105")].y=b.height,this[_0x4b1c("0x30d")](b[_0x4b1c("0x147")]),this[_0x4b1c("0xf0")][_0x4b1c("0xf4")].opacity=b[_0x4b1c("0x273")],b[_0x4b1c("0x10b6")]&&this[_0x4b1c("0x10b7")](b.lineStyle),b.image&&this[_0x4b1c("0x10b8")](b.image)}else this[_0x4b1c("0x8f1")]?this[_0x4b1c("0xf0")][_0x4b1c("0xf4")]=new(THREE[_0x4b1c("0x141")])({transparent:!0,roughness:this[_0x4b1c("0x143")],metalness:this[_0x4b1c("0x142")],side:THREE.DoubleSide}):this.o3d_[_0x4b1c("0xf4")]=new(THREE[_0x4b1c("0x144")])({transparent:!0,side:THREE[_0x4b1c("0x15c")]}),this.createBox(this,!0);this[_0x4b1c("0xf0")][_0x4b1c("0x37")](_0x4b1c("0x228"),(function(){c.line&&(c[_0x4b1c("0xadc")][_0x4b1c("0xf3")](),c[_0x4b1c("0xadc")]=null)}))}}},{key:_0x4b1c("0x251"),value:function(){this[_0x4b1c("0x191")]=!1}},{key:_0x4b1c("0x250"),value:function(){this[_0x4b1c("0x191")]=!0}},{key:"setImage",value:function(x){var c=esmap[_0x4b1c("0x87")][_0x4b1c("0x696")](x);this[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x3e")]=c,this[_0x4b1c("0xf0")][_0x4b1c("0xf4")].map[_0x4b1c("0x12d")].x=.5,this.o3d_[_0x4b1c("0xf4")][_0x4b1c("0x3e")].center.y=.5,this[_0x4b1c("0x47")][_0x4b1c("0x10b9")]&&(this.o3d_[_0x4b1c("0xf4")].map[_0x4b1c("0x8a7")]=this[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x18c")]=THREE[_0x4b1c("0x18d")],this[_0x4b1c("0xf0")].material[_0x4b1c("0x3e")][_0x4b1c("0x157")].x=this[_0x4b1c("0x47")].imageRepeat.x,this[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x157")].y=this[_0x4b1c("0x47")][_0x4b1c("0x10b9")].y),this[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x3e")].rotation=this[_0x4b1c("0x47")][_0x4b1c("0x10ba")]*THREE[_0x4b1c("0x215")][_0x4b1c("0x660")],this[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x147")][_0x4b1c("0x27c")](this[_0x4b1c("0x47")][_0x4b1c("0x147")]),this.o3d_[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x188")]=!0,this.o3d_[_0x4b1c("0xf4")][_0x4b1c("0x188")]=!0}},{key:_0x4b1c("0x2e7"),value:function(){for(var x=esmap[_0x4b1c("0x87")][_0x4b1c("0x698")](this[_0x4b1c("0x12c")]),c=0,b=0,_=this[_0x4b1c("0x12c")].length;b<_;b++)c+=this[_0x4b1c("0x12c")][b].z||0;var e=c/this[_0x4b1c("0x12c")][_0x4b1c("0x0")]+this.z,t=esmap[_0x4b1c("0x87")][_0x4b1c("0x10bb")](x);return t.z=e,t}},{key:_0x4b1c("0x10bc"),value:function(x){if(!this[_0x4b1c("0xf0")].userData.processsedUv){this[_0x4b1c("0xf0")].userData[_0x4b1c("0x10bd")]=!0;var c=this[_0x4b1c("0x3e")].options[_0x4b1c("0x1f6")],b=x[_0x4b1c("0xe02")],_=x[_0x4b1c("0x10be")],e=b[_0x4b1c("0x0")];x[_0x4b1c("0x550")](),x[_0x4b1c("0x10bf")][0]=[],x[_0x4b1c("0x550")]();for(var t=x[_0x4b1c("0x551")].max,i=x[_0x4b1c("0x551")][_0x4b1c("0x2f6")],a=new(THREE[_0x4b1c("0x552")])(0-i.x,0-i.y),n=new(THREE[_0x4b1c("0x552")])(t.x-i.x,t.y-i.y),r=e-2,s=0;s<r;s++){var o=_[s];if(o||(c||(console[_0x4b1c("0xe3")](_0x4b1c("0x10c0"),this),this[_0x4b1c("0x10b4")]&&this[_0x4b1c("0x10b4")]()),(o=_[s-1])||(o=_[s+1]),o||(o=_[0]),o)){var f=x.vertices[o.a],l=x[_0x4b1c("0xe02")][o.b],d=x[_0x4b1c("0xe02")][o.c];x.faceVertexUvs[0][s]=[new(THREE[_0x4b1c("0x552")])((f.x+a.x)/n.x,(f.y+a.y)/n.y),new(THREE[_0x4b1c("0x552")])((l.x+a.x)/n.x,(l.y+a.y)/n.y),new THREE.Vector2((d.x+a.x)/n.x,(d.y+a.y)/n.y)]}}x.uvsNeedUpdate=!0,x[_0x4b1c("0x10c1")]=!0}}},{key:"initHeatMap",value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};this[_0x4b1c("0x10bc")](this[_0x4b1c("0xf0")][_0x4b1c("0xf2")]);var c=esmap.ESMapUtil[_0x4b1c("0x698")](this.points);x.maxX=c[_0x4b1c("0x5a7")],x[_0x4b1c("0x5a3")]=c.minX,x[_0x4b1c("0x5ba")]=c[_0x4b1c("0x5ba")],x.minY=c[_0x4b1c("0x5a6")],this.heatmap=new(s[_0x4b1c("0xc")])(x);var b=this[_0x4b1c("0x9a4")][_0x4b1c("0x10c2")]();this[_0x4b1c("0x9a4")][_0x4b1c("0x10c3")]=this[_0x4b1c("0xf0")].material,this[_0x4b1c("0xf0")][_0x4b1c("0xf4")]=b}},{key:"randomHeatPoints",value:function(x){this[_0x4b1c("0x9a4")][_0x4b1c("0x9b7")](x)}},{key:_0x4b1c("0x10c4"),value:function(){this[_0x4b1c("0x9a4")][_0x4b1c("0x9b1")]()}},{key:_0x4b1c("0x10c5"),value:function(){this[_0x4b1c("0x9a4")][_0x4b1c("0x9b1")](),this.heatmap.clear(),this[_0x4b1c("0x9a4")][_0x4b1c("0x10c3")]&&(this[_0x4b1c("0xf0")].material=this.heatmap[_0x4b1c("0x10c3")])}},{key:_0x4b1c("0x10c6"),value:function(){this[_0x4b1c("0x9a4")][_0x4b1c("0x164")]()}},{key:_0x4b1c("0x10c7"),value:function(x){this[_0x4b1c("0x9a4")].addPoints(x)}},{key:_0x4b1c("0x10c8"),value:function(x){this[_0x4b1c("0x9a4")].addPoint(x.x,x.y,x[_0x4b1c("0x13a")])}},{key:_0x4b1c("0x30e"),value:function(x,c){esmap[_0x4b1c("0x277")][_0x4b1c("0x30e")][_0x4b1c("0x2")](this.o3d_,x,c),esmap[_0x4b1c("0x277")].alwaysShow.call(this.line,x,c)}},{key:"setColor",value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x147")].setStyle(x)}},{key:_0x4b1c("0x10c9"),value:function(x){this[_0x4b1c("0xadc")]&&(this[_0x4b1c("0xadc")][_0x4b1c("0xf3")](),this.line=null),this[_0x4b1c("0x47")].lineStyle||(this[_0x4b1c("0x47")][_0x4b1c("0x10b6")]={}),(0,e.default)(this[_0x4b1c("0x47")].lineStyle,x),this[_0x4b1c("0x10b7")](this[_0x4b1c("0x47")][_0x4b1c("0x10b6")])}},{key:_0x4b1c("0x10ca"),value:function(x){var c=this;return x[_0x4b1c("0x3e")]((function(x){var b=c.map._insureUserCoordInbounds({x:x.x,y:x.y}),_=c[_0x4b1c("0x3e")][_0x4b1c("0x2c5")](b);return new(THREE[_0x4b1c("0x552")])(_.x,-_.z)}))}},{key:"createBox",value:function(x,c){var b=this;if(c||(0,e[_0x4b1c("0xc")])(b,x),x[_0x4b1c("0x12c")]){var t=null;if(x[_0x4b1c("0x12c")]instanceof Array){if((t=x[_0x4b1c("0x12c")])[_0x4b1c("0x0")]<3)return}else if(_0x4b1c("0x1d")==(0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x12c")])&&!(t=b[_0x4b1c("0x10cb")](x.points)))return;b[_0x4b1c("0xf0")][_0x4b1c("0xf2")][_0x4b1c("0xf3")](),b.points=t;var i=b[_0x4b1c("0x10ca")](t),a=new(THREE[_0x4b1c("0x54c")])(i),n=new(THREE[_0x4b1c("0x54f")])(a,{depth:20,bevelEnabled:!1,material:0,extrudeMaterial:0});b[_0x4b1c("0xf0")][_0x4b1c("0xf2")]=n,c&&(b[_0x4b1c("0xf0")][_0x4b1c("0x10b5")](-Math.PI/2),b[_0x4b1c("0xf0")][_0x4b1c("0x105")].y=b[_0x4b1c("0x1a3")]),b[_0x4b1c("0xf0")].renderOrder=b[_0x4b1c("0x172")]}x[_0x4b1c("0x147")]&&b.o3d_[_0x4b1c("0xf4")][_0x4b1c("0x147")][_0x4b1c("0x27c")](b[_0x4b1c("0x147")]),null!=x[_0x4b1c("0x273")]&&b[_0x4b1c("0xf0")][_0x4b1c("0xf4")].opacity&&(b[_0x4b1c("0xf0")].material.opacity=b[_0x4b1c("0x273")])}},{key:_0x4b1c("0x10b7"),value:function(x){var c=this;c[_0x4b1c("0x3e")][_0x4b1c("0x136")](0);c[_0x4b1c("0x12b")]&&c[_0x4b1c("0x3e")][_0x4b1c("0x136")](c.bid),c[_0x4b1c("0x3e")][_0x4b1c("0x1e1")][_0x4b1c("0x2de")],c.map[_0x4b1c("0x1e1")][_0x4b1c("0x2df")];var b=c.o3d_[_0x4b1c("0xf2")][_0x4b1c("0xe02")][_0x4b1c("0x3e")]((function(x){return new THREE.Vector3(x.x,-x.z,x.y)}));b[_0x4b1c("0x12")](b[0].clone());var _=(0,e[_0x4b1c("0xc")])({color:c[_0x4b1c("0x47")][_0x4b1c("0x147")],fixedWidth:!1,notCenter:!0,lineWidth:1,lineType:esmap.ESLineType[_0x4b1c("0x10a8")],hiddenByFloor:!1,light:!1},x);_[_0x4b1c("0x190")]!=esmap[_0x4b1c("0xa4d")][_0x4b1c("0x127")]?c[_0x4b1c("0xadc")]=new esmap.ESLine(b,_,!1):c.line=new o.default(b,_,!1),c[_0x4b1c("0xadc")][_0x4b1c("0x10b5")](-Math.PI/2),c[_0x4b1c("0xf0")][_0x4b1c("0xdd")](c[_0x4b1c("0xadc")]),c[_0x4b1c("0xadc")].position[_0x4b1c("0xdb")](0,0,0),c[_0x4b1c("0xadc")][_0x4b1c("0xf4")].visible=!0,c[_0x4b1c("0xadc")].renderOrder=c[_0x4b1c("0x172")],c[_0x4b1c("0xadc")][_0x4b1c("0xf1")][0]&&(c[_0x4b1c("0xadc")][_0x4b1c("0xf1")][0][_0x4b1c("0x172")]=c.renderOrder)}},{key:_0x4b1c("0x10cb"),value:function(x){switch(x[_0x4b1c("0x78")]){case"circle":if(x.center&&x[_0x4b1c("0x68f")]){for(var c=x[_0x4b1c("0x12d")],b=x[_0x4b1c("0x68f")]||30,_=x.segments||40,e=[],t=0;t<_;t++)e.push({x:c.x+b*Math[_0x4b1c("0x6b9")](2*Math.PI/_*t),y:c.y+b*Math[_0x4b1c("0x65d")](2*Math.PI/_*t)});return e}break;case _0x4b1c("0x10b2"):if(x.width&&x[_0x4b1c("0x1a3")]&&(x.startPoint||x[_0x4b1c("0x12d")])){c=x[_0x4b1c("0x12d")]||this[_0x4b1c("0x3e")][_0x4b1c("0x12d")];if(!(i=x[_0x4b1c("0x91e")]))var i={x:c.x-x[_0x4b1c("0x1c9")]/2,y:c.y-x[_0x4b1c("0x1a3")]/2};return[{x:i.x,y:i.y},{x:i.x+x[_0x4b1c("0x1c9")],y:i.y},{x:i.x+x[_0x4b1c("0x1c9")],y:i.y+x[_0x4b1c("0x1a3")]},{x:i.x,y:i.y+x[_0x4b1c("0x1a3")]}]}}}},{key:"update",value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x.points&&this[_0x4b1c("0x10cc")](x[_0x4b1c("0x12c")])}},{key:_0x4b1c("0x10cc"),value:function(x){this.o3d_[_0x4b1c("0xf2")].dispose();var c=void 0;if(Array.isArray(x))c=this[_0x4b1c("0x10cd")](x);else{this[_0x4b1c("0x47")][_0x4b1c("0x12c")]=(0,e.default)(this[_0x4b1c("0x47")][_0x4b1c("0x12c")],x);var b=this[_0x4b1c("0x69e")](this[_0x4b1c("0x47")][_0x4b1c("0x12c")]);c=this.createPlaneGeometry(b)}this.o3d_[_0x4b1c("0xf2")]=c,this[_0x4b1c("0xadc")]&&(this[_0x4b1c("0xadc")].dispose(),this[_0x4b1c("0xadc")]=null,this[_0x4b1c("0x10b7")](this[_0x4b1c("0x47")][_0x4b1c("0x10b6")]))}},{key:_0x4b1c("0x69e"),value:function(x){var c=[];if(Array[_0x4b1c("0x32f")](x)){if(x.length<3)return void console[_0x4b1c("0xe3")]("polygonMarker: points length must be greater than 3");c=x}else if("object"===(typeof x===_0x4b1c("0x8")?"undefined":(0,_[_0x4b1c("0xc")])(x))&&!(c=this[_0x4b1c("0x10cb")](x)))return void _0x4b1c("0x10ce");return c}},{key:_0x4b1c("0x10cd"),value:function(x){var c=this._normalizePoints(x),b=new(THREE[_0x4b1c("0x10cf")])(new(THREE[_0x4b1c("0x54c")])(c));this[_0x4b1c("0x10bc")](b);for(var _=0;_<b.vertices.length;_++)b.vertices[_].z=x[_].z||0;return b[_0x4b1c("0x10d0")]=!0,b.computeBoundingBox(),b[_0x4b1c("0x16b")](),b}},{key:_0x4b1c("0x10d1"),value:function(x){var c=(0,e[_0x4b1c("0xc")])(x);c=this[_0x4b1c("0x10ca")]([c])[0];var b=new(THREE[_0x4b1c("0x128")])(c.x,this[_0x4b1c("0xf0")][_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")])).y+30,-c.y),_=new(THREE[_0x4b1c("0x128")])(0,-1,0);return new(THREE[_0x4b1c("0x516")])(b,_).intersectObject(this[_0x4b1c("0xf0")])[_0x4b1c("0x0")]>0}},{key:"map",get:function(){return esmap[_0x4b1c("0x32")].instance}}]),c}(f[_0x4b1c("0xc")]);c[_0x4b1c("0xc")]=u},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=n(b(14)),e=n(b(0)),t=n(b(1)),i=b(19),a=n(b(142));function n(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var r=function(){function x(c){(0,e[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x985")](c),this[_0x4b1c("0x986")]={},this.texture=null,this[_0x4b1c("0x12c")]=[],this[_0x4b1c("0x10d2")]=new(a[_0x4b1c("0xc")])({duration:c[_0x4b1c("0x1")](_0x4b1c("0x1a4"))?c.duration:1,colorStr:c[_0x4b1c("0x1ce")],isShowBackground:!!c[_0x4b1c("0x1")]("isShowBackground")&&c[_0x4b1c("0x4a5")]}),this[_0x4b1c("0x10c3")]=null,this.heatMapMaterial=null}return(0,t[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x988"),value:function(x){var c=this,b=c[_0x4b1c("0x5a7")]-c[_0x4b1c("0x5a3")],_=c[_0x4b1c("0x5ba")]-c.minY,e={w:parseFloat(b),h:parseFloat(_)},t=(0,i[_0x4b1c("0x6a3")])();e.w=e.w*t[0]/15,e.h=e.h*t[1]/15;var a=1,n=x.maxSize||8192;return(b>500||_>500)&&n>=8192&&(n=2048),(e.w>=n||e.h>=n)&&(e.w>=e.h?(a=e.h/e.w,e.w=n,e.h=n*a):(a=e.w/e.h,e.h=n,e.w=n*a)),e}},{key:_0x4b1c("0x98b"),value:function(x,c){var b={x:1-(x-this[_0x4b1c("0x5a3")])/(this[_0x4b1c("0x5a7")]-this[_0x4b1c("0x5a3")]),y:(c-this[_0x4b1c("0x5a6")])/(this.maxY-this[_0x4b1c("0x5a6")])};return b.x=b.x*this.options[_0x4b1c("0x1c9")],b.y=b.y*this[_0x4b1c("0x47")][_0x4b1c("0x1a3")],b}},{key:_0x4b1c("0x10d3"),value:function(x,c){var b=this[_0x4b1c("0x47")].ctx[_0x4b1c("0x99c")](x,c,1,1)[_0x4b1c("0x569")];return{r:b[0],g:b[1],b:b[2]}}},{key:_0x4b1c("0x640"),value:function(x){var c=parseInt(x.slice(1),16);return{r:c>>16&255,g:c>>8&255,b:255&c}}},{key:_0x4b1c("0x10d4"),value:function(x,c,b){return{r:Math[_0x4b1c("0x98a")](x.r+b*(c.r-x.r)),g:Math.round(x.g+b*(c.g-x.g)),b:Math[_0x4b1c("0x98a")](x.b+b*(c.b-x.b))}}},{key:"getIntensityFromColor",value:function(x){for(var c=this[_0x4b1c("0x47")][_0x4b1c("0x98f")],b=(0,_[_0x4b1c("0xc")])(c)[_0x4b1c("0x3e")](parseFloat)[_0x4b1c("0x42b")]((function(x,c){return x-c})),e=0;e<b[_0x4b1c("0x0")]-1;e++){var t=b[e],i=b[e+1],a=this[_0x4b1c("0x640")](c[t]),n=this.hexToRgb(c[i]);if(x.r>=Math.min(a.r,n.r)&&x.r<=Math[_0x4b1c("0x2f5")](a.r,n.r)&&x.g>=Math[_0x4b1c("0x2f6")](a.g,n.g)&&x.g<=Math[_0x4b1c("0x2f5")](a.g,n.g)&&x.b>=Math[_0x4b1c("0x2f6")](a.b,n.b)&&x.b<=Math.max(a.b,n.b))return 1*(t+(x.r-a.r)/(n.r-a.r)*(i-t))[_0x4b1c("0x64d")](3)}return null}},{key:_0x4b1c("0x985"),value:function(x){var c=this;c.minX=x[_0x4b1c("0x5a3")],c[_0x4b1c("0x5a7")]=x[_0x4b1c("0x5a7")],c[_0x4b1c("0x5a6")]=x[_0x4b1c("0x5a6")],c.maxY=x[_0x4b1c("0x5ba")];var b=c.getDeviceWH(x),_=b.w,e=b.h;c.options={width:_,height:e,radius:x[_0x4b1c("0x68f")]?x[_0x4b1c("0x68f")]:30,opacity:x[_0x4b1c("0x1")](_0x4b1c("0x129"))?x[_0x4b1c("0x129")]:1,mapOpacity:x.hasOwnProperty(_0x4b1c("0x98c"))?x[_0x4b1c("0x98c")]:1,bshadow:x[_0x4b1c("0x68f")]?x.radius/20:1.5,maxSize:x[_0x4b1c("0x98d")]||8192,boundVal:15e3,shadowBlur:15,points:{max:x[_0x4b1c("0x2f5")]?x[_0x4b1c("0x2f5")]:100,data:[]},useGradientAlpha:x.useGradientAlpha,gradient:x[_0x4b1c("0x98f")]?x.gradient:{.45:_0x4b1c("0x990"),.55:_0x4b1c("0x991"),.65:"rgb(0,255,0)",.95:_0x4b1c("0x993"),1:_0x4b1c("0x994")}};var t=document[_0x4b1c("0x21")]("canvas"),i=t.getContext("2d",{willReadFrequently:!0});t[_0x4b1c("0x1c9")]=_,t[_0x4b1c("0x1a3")]=e,c.options[_0x4b1c("0x995")]=i,c[_0x4b1c("0x47")].canvas=t}},{key:"renderShadow",value:function(x,c,b,_){var e=this,t=e.options[_0x4b1c("0x995")],i=(e[_0x4b1c("0x47")][_0x4b1c("0x68f")],e.options[_0x4b1c("0x998")]),a=parseFloat(b/e[_0x4b1c("0x47")].points.max,10);t.shadowColor=_0x4b1c("0x99a")+a+")",t[_0x4b1c("0x342")]=i,t[_0x4b1c("0x343")]=i,t[_0x4b1c("0x340")]=e.options[_0x4b1c("0x340")],t[_0x4b1c("0x34b")](),t[_0x4b1c("0x348")](x-i,c-i,e[_0x4b1c("0x47")].radius,0,2*Math.PI,!0),t[_0x4b1c("0x99b")](),t[_0x4b1c("0x464")]()}},{key:_0x4b1c("0x9b3"),value:function(){for(var x=this,c=x[_0x4b1c("0x47")][_0x4b1c("0x1c9")],b=x[_0x4b1c("0x47")][_0x4b1c("0x1a3")],_=x[_0x4b1c("0x47")][_0x4b1c("0x10d5")],e=x.options[_0x4b1c("0x995")],t=e[_0x4b1c("0x99c")](0,0,c,b),i=t[_0x4b1c("0x569")],a=i[_0x4b1c("0x0")],n=x[_0x4b1c("0x9ad")](),r=x[_0x4b1c("0x47")].opacity?255*x.options[_0x4b1c("0x129")]:25500,s=3;s<a;s+=4){var o=i[s],f=4*o;if(f>=0){var l=o<r?o:r;i[s-3]=n[f],i[s-2]=n[f+1],i[s-1]=n[f+2],i[s]=_?n[f+3]:l}}t[_0x4b1c("0x569")][_0x4b1c("0xdb")](i),e[_0x4b1c("0x99d")](t,0,0)}},{key:_0x4b1c("0x10c2"),value:function(){var x=this[_0x4b1c("0x10d6")]();return x.needsUpdate=!0,this[_0x4b1c("0x10d7")]||(this[_0x4b1c("0x10d7")]=this[_0x4b1c("0x10d2")].createMaterial(x,new(THREE[_0x4b1c("0x35e")])),this[_0x4b1c("0x10d7")][_0x4b1c("0x165")].name=_0x4b1c("0x9a4")),this[_0x4b1c("0x10d7")]}},{key:_0x4b1c("0x164"),value:function(){var x=this;x[_0x4b1c("0x719")]();for(var c=x[_0x4b1c("0x12c")],b=0;b<c[_0x4b1c("0x0")];b++){var _=c[b];x[_0x4b1c("0x997")](_.x,_.y,_[_0x4b1c("0x13a")])}x.colorize();var e=x.getTexture();e.needsUpdate=!0,x[_0x4b1c("0x10d2")][_0x4b1c("0x164")](e)}},{key:_0x4b1c("0x10d6"),value:function(){var x=this[_0x4b1c("0x47")].canvas;return new(THREE[_0x4b1c("0x35e")])(x)}},{key:_0x4b1c("0x9ad"),value:function(){var x=document[_0x4b1c("0x21")](_0x4b1c("0x588")),c=x[_0x4b1c("0x332")]("2d",{willReadFrequently:!0});x.width=1,x[_0x4b1c("0x1a3")]=256;var b=this[_0x4b1c("0x47")].gradient,_=c[_0x4b1c("0x9ae")](0,0,1,256);for(var e in b)_[_0x4b1c("0x9af")](e,b[e]);return c[_0x4b1c("0x33e")]=_,c.fillRect(0,0,1,256),c[_0x4b1c("0x99c")](0,0,1,256)[_0x4b1c("0x569")]}},{key:_0x4b1c("0x10d8"),value:function(x,c,b){var _=this[_0x4b1c("0x47")][_0x4b1c("0x12c")],e=_[_0x4b1c("0x569")];b>_[_0x4b1c("0x2f5")]&&(_[_0x4b1c("0x2f5")]=b),e[_0x4b1c("0x12")]([x,c,b])}},{key:"clearPoints",value:function(){this[_0x4b1c("0x12c")]=[]}},{key:_0x4b1c("0x9b2"),value:function(x,c,b){if(x&&c&&b){var _=this.getPixXY(x,c);if(_){this[_0x4b1c("0x12c")][_0x4b1c("0x12")]({x:_.x,y:_.y,value:b})}}}},{key:"clear",value:function(){this.options[_0x4b1c("0x995")].clearRect(0,0,this[_0x4b1c("0x47")][_0x4b1c("0x1c9")],this[_0x4b1c("0x47")].height)}},{key:_0x4b1c("0x9b6"),value:function(x){for(var c=x[_0x4b1c("0x0")],b=0;b<c;b++){var _=x[b][_0x4b1c("0x13a")];if(_){var e=this.getPixXY(x[b].x,x[b].y);this[_0x4b1c("0x12c")][_0x4b1c("0x12")]({x:e.x,y:e.y,value:_})}}}},{key:_0x4b1c("0x9b7"),value:function(x){var c=this,b=c[_0x4b1c("0x47")][_0x4b1c("0x1c9")],_=c[_0x4b1c("0x47")][_0x4b1c("0x1a3")],e=c.options[_0x4b1c("0x12c")][_0x4b1c("0x2f5")];c.points=[];for(var t=0;t<x;t++){var i=Math[_0x4b1c("0x20f")](Math.random()*b+1),a=Math[_0x4b1c("0x20f")](Math[_0x4b1c("0x2e")]()*_+1),n=Math[_0x4b1c("0x20f")](Math[_0x4b1c("0x2e")]()*e+1);c[_0x4b1c("0x12c")].push({x:i,y:a,value:n})}}}]),x}();c[_0x4b1c("0xc")]=r},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=n(b(5)),e=n(b(0)),t=n(b(1)),i=n(b(10)),a=n(b(11));function n(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var r=function(x){function c(x){var b;(0,e[_0x4b1c("0xc")])(this,c),(b=(0,i.default)(this,(c[_0x4b1c("0x1de")]||(0,_[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this,x)))[_0x4b1c("0x64a")]=esmap[_0x4b1c("0x60a")][_0x4b1c("0xa77")];var t=new(THREE[_0x4b1c("0x71c")])(1,1,1,1),a=new(THREE[_0x4b1c("0x46f")])({transparent:!0,side:THREE.DoubleSide,depthWrite:!1});return a.visible=!1,b[_0x4b1c("0xf0")]=new(THREE[_0x4b1c("0x197")])(t,a),b[_0x4b1c("0xf0")][_0x4b1c("0xef")]=b,1==x[_0x4b1c("0x23")].angle?b[_0x4b1c("0xf0")][_0x4b1c("0x202")].set(-Math.PI/2,0,Math.PI-x[_0x4b1c("0x23")].rotate*THREE[_0x4b1c("0x215")][_0x4b1c("0x660")],"XZY"):b.o3d_[_0x4b1c("0x202")][_0x4b1c("0xdb")](Math.PI,-x[_0x4b1c("0x23")][_0x4b1c("0xcae")]*THREE[_0x4b1c("0x215")][_0x4b1c("0x660")],Math.PI,_0x4b1c("0x585")),b[_0x4b1c("0xf0")][_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x584")],b.updateStyle(b[_0x4b1c("0x10d9")][_0x4b1c("0x23")]),b}return(0,a[_0x4b1c("0xc")])(c,x),(0,t[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x18e"),value:function(x){var c=this;c[_0x4b1c("0x3d8")]=setInterval((function(){c[_0x4b1c("0xf0")]&&(x[_0x4b1c("0x316")],x[_0x4b1c("0x316")][_0x4b1c("0x316")]&&(clearInterval(c._id),c[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x191")]=!0,c[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x3e")]=x.image,c[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x3e")].minFilter=THREE[_0x4b1c("0x35f")],c[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x189")]=16))}),0),this[_0x4b1c("0xf0")][_0x4b1c("0x201")][_0x4b1c("0xdb")](x.size.width,x[_0x4b1c("0xe0")][_0x4b1c("0x1a3")],1);var b=esmap[_0x4b1c("0x32")].instance.coordMapToThree(x[_0x4b1c("0x565")]);this[_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0xdb")](b.x+x.offset.x,x[_0x4b1c("0x1a3")]+x[_0x4b1c("0x158")].z,b.z+x[_0x4b1c("0x158")].y)}}]),c}(esmap[_0x4b1c("0x629")]);c[_0x4b1c("0xc")]=r},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=l(b(7)),e=l(b(8)),t=l(b(5)),i=l(b(0)),a=l(b(1)),n=l(b(10)),r=l(b(11)),s=b(4),o=l(b(81)),f=b(23);function l(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var d=function(x){function c(x){var b;(0,i.default)(this,c);var _=(0,s[_0x4b1c("0x13")])(x,_0x4b1c("0xe0"),_0x4b1c("0x335"));return(0,s[_0x4b1c("0x17")])(_)||"auto"!=_&&(_={w:_,h:_}),(b=(0,n[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,t.default)(c))[_0x4b1c("0x2")](this,esmap[_0x4b1c("0x131")].IMAGE_MARKER,{})))[_0x4b1c("0xa75")]=_0x4b1c("0x605"),b[_0x4b1c("0x10da")]=_,b[_0x4b1c("0x539")]=x||{},b[_0x4b1c("0x539")][_0x4b1c("0x258")]?(f[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:_0x4b1c("0x10db"),level:_0x4b1c("0xe3")}),(0,n[_0x4b1c("0xc")])(b)):(b[_0x4b1c("0x39")](),b)}var b;return(0,r[_0x4b1c("0xc")])(c,x),(0,a[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x39"),value:(b=(0,e[_0x4b1c("0xc")])(_[_0x4b1c("0xc")].mark((function x(){var c,b,e,t,i,a,n,r,o,l,d,u,h,g,v,p,m;return _[_0x4b1c("0xc")].wrap((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return f.MessagePoster.post({msg:_0x4b1c("0x10dc"),level:_0x4b1c("0xaaa")}),c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=c[_0x4b1c("0x1e1")],e=-b[_0x4b1c("0x2de")],t=b[_0x4b1c("0x2df")],i=(0,s[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],"x",e),a=(0,s[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],"y",t),this[_0x4b1c("0x1f7")]=(0,s.getValue)(this[_0x4b1c("0x539")],"name",null),this.ID=(0,s.getValue)(this[_0x4b1c("0x539")],"id",1),this[_0x4b1c("0x12b")]=(0,s.getValue)(this.opts_,_0x4b1c("0x12b"),0),this.spritify_=(0,s[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],"spritify",!0),this.showLevel=(0,s[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],_0x4b1c("0x1e4"),null),n=(0,s[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],"center",null),(0,s[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],_0x4b1c("0x349"),null),r=(0,s.getValue)(this[_0x4b1c("0x539")],"seeThrough",!1),o=(0,s[_0x4b1c("0x13")])(this.opts_,"scale",1),l=(0,s[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],_0x4b1c("0x172"),esmap[_0x4b1c("0x1fd")][_0x4b1c("0x605")]),d=this[_0x4b1c("0xf0")],this[_0x4b1c("0x172")]=l,u=c[_0x4b1c("0xb11")]({x:i,y:a}),this.x_=u.x,this.y_=u.y,h=this,d[_0x4b1c("0x312")],g=0,g=null!=h[_0x4b1c("0x539")][_0x4b1c("0x1a3")]?h[_0x4b1c("0x539")][_0x4b1c("0x1a3")]:null!=h.opts_.z?h.opts_.z:6,v=this[_0x4b1c("0x539")][_0x4b1c("0x4e")],p={padding:0,size:this[_0x4b1c("0x10da")],scale:1},x[_0x4b1c("0x286")]=28,d[_0x4b1c("0x39")]({image:v,imageStyle:p});case 28:d.scaleRatio=o,d.renderOrder=l,m=c._coordMapSceneToThree({x:h.x_,y:h.y_}),d[_0x4b1c("0x105")][_0x4b1c("0xdb")](m.x,g,m.z),d.parent&&d[_0x4b1c("0x108")].datas_[_0x4b1c("0x10dd")]&&c[_0x4b1c("0x31d")]>=d.parent[_0x4b1c("0xef")][_0x4b1c("0x10de")]&&(c[_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](d[_0x4b1c("0x105")])>d[_0x4b1c("0x108")][_0x4b1c("0xef")][_0x4b1c("0x10dd")]&&(h.o3d_[_0x4b1c("0x312")]=!1,h.visible=!1)),h[_0x4b1c("0x539")][_0x4b1c("0x1b0")]&&h[_0x4b1c("0x539")][_0x4b1c("0x1b0")](h),c[_0x4b1c("0xa42")](!0),n&&d[_0x4b1c("0x12d")][_0x4b1c("0xdb")](h.opts_[_0x4b1c("0x12d")].x,h[_0x4b1c("0x539")].center.y),d.material.needsUpdate=!0,d[_0x4b1c("0x16c")]=r;case 38:case _0x4b1c("0x2a0"):return x.stop()}}),x,this)}))),function(){return b[_0x4b1c("0x4")](this,arguments)})}]),c}(o.default);c.default=d},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=l(b(7)),e=l(b(8)),t=l(b(5)),i=l(b(0)),a=l(b(1)),n=l(b(10)),r=l(b(11)),s=l(b(81)),o=b(4),f=b(83);function l(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var d=function(x){function c(x){(0,i[_0x4b1c("0xc")])(this,c);var b=(0,n[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,t.default)(c))[_0x4b1c("0x2")](this,esmap.ESNodeType[_0x4b1c("0xc19")],{}));return b[_0x4b1c("0x539")]=x||{},b[_0x4b1c("0x10df")]=[],b[_0x4b1c("0x39")](),b}var b;return(0,r.default)(c,x),(0,a[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x39"),value:(b=(0,e[_0x4b1c("0xc")])(_[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){var c,b,e,t,i,a,n,r,s,l,d,u,h,g,v,p,m,A;return _.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x.next){case 0:return c=esmap[_0x4b1c("0x32")].instance,b=this[_0x4b1c("0x539")],typeof(e=(0,o.getValue)(this[_0x4b1c("0x539")],_0x4b1c("0x317"),""))!=_0x4b1c("0xd")&&(e=e[_0x4b1c("0x2f")]()),t=(0,o[_0x4b1c("0x1a2")])(b,_0x4b1c("0x316"),_0x4b1c("0x4e"),""),i=Number((0,o[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],"x",c[_0x4b1c("0x12d")].x)),a=Number((0,o.getValue)(this.opts_,"y",c.center.y)),n=(0,o[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],_0x4b1c("0x1a3"),6),r=(0,o[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],"scale",1),this.ID=(0,o[_0x4b1c("0x13")])(this.opts_,"id",1),this[_0x4b1c("0x1f7")]=(0,o.getValue)(this[_0x4b1c("0x539")],"name",""),this[_0x4b1c("0x1f4")]=(0,o[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],_0x4b1c("0x1f4"),!0),s=(0,o[_0x4b1c("0x13")])(this[_0x4b1c("0x539")],_0x4b1c("0x12d"),null),l=(0,o.getValue)(b,_0x4b1c("0x16c"),!1),d=(0,o[_0x4b1c("0x13")])(b,_0x4b1c("0x172"),esmap[_0x4b1c("0x1fd")].textMarker),u=(0,o[_0x4b1c("0x13")])(b,_0x4b1c("0x1b0"),null),h=(0,o[_0x4b1c("0x1a2")])(b,_0x4b1c("0x279"),_0x4b1c("0x1096"),!0),this.showLevel=(0,o[_0x4b1c("0x13")])(b,_0x4b1c("0x1e4"),null),g={fontSize:12,fillStyle:"#FFFFFF",strokeWidth:2,strokeStyle:_0x4b1c("0x10e0"),shadowBlur:4,shadowColor:"rgba(0, 0, 0, 1.0)",shadowOffsetX:0,shadowOffsetY:0,padding:2},v={scale:1,align:"center",size:_0x4b1c("0x335"),space:5},b.textStyle?(0,o.assignExceptUndefined)(g,(0,f[_0x4b1c("0x10e1")])(b[_0x4b1c("0xc44")])):(0,o[_0x4b1c("0xffc")])(g,(0,f.getTextStyle)(b)),b[_0x4b1c("0x331")]?(0,o[_0x4b1c("0xffc")])(v,b[_0x4b1c("0x331")]):(v[_0x4b1c("0xbdb")]=(0,o.getValue)(b,_0x4b1c("0xea0"),v[_0x4b1c("0xbdb")]),v.size=(0,o[_0x4b1c("0x1a2")])(b,_0x4b1c("0x10e2"),_0x4b1c("0xe0"),v[_0x4b1c("0xe0")]),v[_0x4b1c("0x351")]=(0,o[_0x4b1c("0x13")])(b,_0x4b1c("0x10e3"),v[_0x4b1c("0x351")]),typeof v[_0x4b1c("0xe0")]==_0x4b1c("0x18f")&&(v.size={w:v[_0x4b1c("0xe0")],h:v[_0x4b1c("0xe0")]})),this[_0x4b1c("0xf0")][_0x4b1c("0x314")]=r,this[_0x4b1c("0xf0")][_0x4b1c("0x279")]=h,this[_0x4b1c("0xf0")][_0x4b1c("0x165")].seeThrough=l,x.next=27,this[_0x4b1c("0xf0")][_0x4b1c("0x39")]({text:e,textStyle:g,image:t,imageStyle:v,opacityFix:this[_0x4b1c("0x539")].opacityFix});case 27:p=this[_0x4b1c("0xf0")],m=c[_0x4b1c("0xb11")]({x:i,y:a}),A=c._coordMapSceneToThree({x:m.x,y:m.y}),p[_0x4b1c("0x105")][_0x4b1c("0xdb")](A.x,n,A.z),this[_0x4b1c("0x172")]=this[_0x4b1c("0xf0")][_0x4b1c("0x165")][_0x4b1c("0x16c")]?d+1:d,p.modelViewMatrix[_0x4b1c("0x3e2")](c[_0x4b1c("0x26a")][_0x4b1c("0x3e3")],p[_0x4b1c("0x3eb")]),this[_0x4b1c("0xf0")][_0x4b1c("0x3de")].ShowLevel=this[_0x4b1c("0x1e4")],s&&this.o3d_.center[_0x4b1c("0xdb")](s.x,s.y),u&&u(this);case 36:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return b[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x12d"),set:function(x){x.x&&x.y&&this[_0x4b1c("0xf0")]&&this[_0x4b1c("0xf0")][_0x4b1c("0x12d")][_0x4b1c("0xdb")](x.x,x.y)}},{key:"enableCollide",set:function(x){if(this[_0x4b1c("0xf0")])return this[_0x4b1c("0xf0")][_0x4b1c("0x26c")]=x},get:function(){if(this[_0x4b1c("0xf0")])return this.o3d_[_0x4b1c("0x26c")]}}]),c}(s[_0x4b1c("0xc")]);c.default=d},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=s(b(2)),e=s(b(15)),t=s(b(5)),i=s(b(0)),a=s(b(1)),n=s(b(10)),r=s(b(11));function s(x){return x&&x.__esModule?x:{default:x}}var o=function(x){function c(x,b){(0,i[_0x4b1c("0xc")])(this,c);var _=(0,n[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,t.default)(c))[_0x4b1c("0x2")](this,0,b,new(THREE[_0x4b1c("0x214")]),x));return _[_0x4b1c("0x3f6")]=new esmap.ESLayerManager(_[_0x4b1c("0xf0")]),_[_0x4b1c("0x326")]={},_}return(0,r.default)(c,x),(0,a[_0x4b1c("0xc")])(c,[{key:"toggleLayers",value:function(x){var c=x.value,b=[][_0x4b1c("0x377")](x[_0x4b1c("0x1f7")]),_=[][_0x4b1c("0x377")](x.type),e=[];this[_0x4b1c("0xa72")][_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x1f7")]&&b[_0x4b1c("0x63")](x.name)&&e.push(x),x[_0x4b1c("0x64a")]&&_[_0x4b1c("0x63")](x._type_)&&e[_0x4b1c("0x12")](x)})),e[_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x191")]=c}))}},{key:"toggleFloorBase",value:function(x){var c=!0,b=!1,_=void 0;try{for(var t,i=(0,e[_0x4b1c("0xc")])(this[_0x4b1c("0x3f6")][_0x4b1c("0xf0")][_0x4b1c("0xf1")]);!(c=(t=i[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);c=!0){var a=t.value;if(a.datas_[_0x4b1c("0x64a")]===_0x4b1c("0x5fd")){var n=a[_0x4b1c("0xf1")][0];if(n){n[_0x4b1c("0xf4")][0][_0x4b1c("0x191")]=x;break}}}}catch(x){b=!0,_=x}finally{try{!c&&i.return&&i[_0x4b1c("0x28a")]()}finally{if(b)throw _}}}},{key:"addLayer",value:function(x){this[_0x4b1c("0x3f6")][_0x4b1c("0x3f5")](x)}},{key:_0x4b1c("0x3f7"),value:function(x,c){return this[_0x4b1c("0x3f6")][_0x4b1c("0x3f7")](x,c)}},{key:_0x4b1c("0x3f8"),value:function(x,c){return this[_0x4b1c("0x3f6")].getLayersByTypes(x,c)}},{key:_0x4b1c("0xa6e"),value:function(x,c){return this[_0x4b1c("0x3f6")].getLayersByNames(x,c)}},{key:_0x4b1c("0x9a8"),value:function(x,c){return this.layerManager[_0x4b1c("0x9a8")](x,c)}},{key:_0x4b1c("0x10e4"),value:function(x){return this[_0x4b1c("0x3f6")][_0x4b1c("0x10e4")](x)}},{key:_0x4b1c("0x10e5"),value:function(x){this[_0x4b1c("0x3f6")][_0x4b1c("0x10e5")](x)}},{key:_0x4b1c("0x10e6"),value:function(x){this[_0x4b1c("0x3f6")].removeLayersByTypes(x)}},{key:_0x4b1c("0x10e7"),value:function(x){this[_0x4b1c("0x3f6")].removeLayersByNames(x)}},{key:_0x4b1c("0x10e8"),value:function(x){x&&this[_0x4b1c("0xf0")][_0x4b1c("0x3de")][_0x4b1c("0xc0b")]&&x[_0x4b1c("0x99f")](this[_0x4b1c("0xf0")].data_[_0x4b1c("0xc0b")])}},{key:_0x4b1c("0x10e9"),value:function(x){x&&this[_0x4b1c("0xf0")].data_[_0x4b1c("0xc0b")]&&x.disposeHeatMap(this[_0x4b1c("0xf0")][_0x4b1c("0x3de")][_0x4b1c("0xc0b")])}},{key:"offsetAnimation",value:function(x){var c=this._animateState[_0x4b1c("0x325")];x=(0,_[_0x4b1c("0xc")])({},x),c&&c.stop(),x.z=x.y,x.y=x[_0x4b1c("0x1a3")],x.easing=esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x10ea")][_0x4b1c("0x1ab")];var b=esmap[_0x4b1c("0x277")][_0x4b1c("0x325")][_0x4b1c("0x2")](this[_0x4b1c("0xf0")],x);b&&(this[_0x4b1c("0x326")].moveTo=b)}},{key:_0x4b1c("0x103"),value:function(x){this.layerManager[_0x4b1c("0x103")](x)}},{key:_0x4b1c("0x210"),get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x3de")][_0x4b1c("0xc0b")]}},{key:_0x4b1c("0x10eb"),get:function(){return this.o3d_.data_[_0x4b1c("0xee8")]}},{key:"floorDesc",get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x3de")][_0x4b1c("0x1f7")]}},{key:"floorHeight",get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x3de")][_0x4b1c("0xb3c")]}},{key:_0x4b1c("0x10ec"),get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x3de")][_0x4b1c("0xee8")]}},{key:_0x4b1c("0x21d"),get:function(){return new(esmap[_0x4b1c("0x53c")])(this.mapScene.map.center.x,this[_0x4b1c("0x1e1")][_0x4b1c("0x3e")][_0x4b1c("0x12d")].y,this.o3d_[_0x4b1c("0x1044")][_0x4b1c("0xb3c")])}},{key:_0x4b1c("0xa72"),get:function(){return this[_0x4b1c("0x3f6")][_0x4b1c("0xa72")]}},{key:_0x4b1c("0x12b"),get:function(){return this[_0x4b1c("0x108")].id}}]),c}(esmap[_0x4b1c("0x330")]);c[_0x4b1c("0xc")]=o},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=r(b(15)),e=r(b(5)),t=r(b(0)),i=r(b(1)),a=r(b(10)),n=r(b(11));function r(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var s=function(x){function c(x){(0,t[_0x4b1c("0xc")])(this,c);var b=(0,a[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,e.default)(c))[_0x4b1c("0x2")](this,0,{},new THREE.Object3D));return b[_0x4b1c("0x64a")]="global_layer",b[_0x4b1c("0x1f7")]=x,b[_0x4b1c("0x10ed")]=!1,b[_0x4b1c("0x3f6")]=new esmap.ESLayerManager(b[_0x4b1c("0xf0")]),b[_0x4b1c("0x2c4")]=0,b[_0x4b1c("0xa72")]={text:null,polygon:null,card:null,model3d:null},b}return(0,n[_0x4b1c("0xc")])(c,x),(0,i.default)(c,[{key:_0x4b1c("0x10ee"),value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];if(c)switch(this[_0x4b1c("0x10ed")]||(c[_0x4b1c("0x1e1")][_0x4b1c("0xb3f")][_0x4b1c("0xdd")](this[_0x4b1c("0xf0")]),this[_0x4b1c("0x10ef")](c),this.isInit=!0),x.nodeType){case esmap[_0x4b1c("0x131")][_0x4b1c("0xc18")]:case esmap[_0x4b1c("0x131")].TEXT_MARKER:this.layers[_0x4b1c("0x317")]||(this[_0x4b1c("0xa72")][_0x4b1c("0x317")]=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xc19")]),this.layerManager[_0x4b1c("0x3f5")](this[_0x4b1c("0xa72")].text)),this.layers[_0x4b1c("0x317")][_0x4b1c("0x10ee")](x),x._globalLayer=this,this[_0x4b1c("0x248")](x);break;case esmap[_0x4b1c("0x131")][_0x4b1c("0x10f0")]:this[_0x4b1c("0xa72")].card||(this[_0x4b1c("0xa72")][_0x4b1c("0x10f1")]=new esmap.ESLayer(esmap.ESLayerType.CARD_MARKER),this[_0x4b1c("0x3f6")][_0x4b1c("0x3f5")](this[_0x4b1c("0xa72")][_0x4b1c("0x10f1")])),this[_0x4b1c("0xa72")].card[_0x4b1c("0x10ee")](x),x[_0x4b1c("0x247")]=this,this[_0x4b1c("0x248")](x);break;case esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")]:this[_0x4b1c("0xa72")].model3d||(this[_0x4b1c("0xa72")][_0x4b1c("0x1e7")]=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")].MODEL3D),this[_0x4b1c("0x3f6")].addLayer(this[_0x4b1c("0xa72")][_0x4b1c("0x1e7")])),this[_0x4b1c("0xa72")][_0x4b1c("0x1e7")].addMarker(x),x[_0x4b1c("0x247")]=this,this[_0x4b1c("0x248")](x);break;case esmap[_0x4b1c("0x131")][_0x4b1c("0xac9")]:this[_0x4b1c("0xa72")][_0x4b1c("0x68c")]||(this[_0x4b1c("0xa72")][_0x4b1c("0x68c")]=new esmap.ESLayer(esmap.ESLayerType.POLYGON_MARKER),this.layerManager[_0x4b1c("0x3f5")](this.layers[_0x4b1c("0x68c")])),this[_0x4b1c("0xa72")][_0x4b1c("0x68c")][_0x4b1c("0x10ee")](x),x._globalLayer=this,this[_0x4b1c("0x248")](x);break;default:return console[_0x4b1c("0x291")](_0x4b1c("0x10f2")),!1}}},{key:"remove",value:function(x){this.removeMarker(x)}},{key:_0x4b1c("0x10f3"),value:function(x){switch(x.nodeType){case esmap[_0x4b1c("0x131")][_0x4b1c("0xc18")]:case esmap[_0x4b1c("0x131")][_0x4b1c("0xc19")]:this[_0x4b1c("0xa72")][_0x4b1c("0x317")]&&this.layers[_0x4b1c("0x317")][_0x4b1c("0x2ea")](x);break;case esmap[_0x4b1c("0x131")][_0x4b1c("0x10f0")]:this[_0x4b1c("0xa72")][_0x4b1c("0x10f1")]&&this[_0x4b1c("0xa72")][_0x4b1c("0x10f1")].remove(x);break;case esmap.ESNodeType[_0x4b1c("0x1df")]:this[_0x4b1c("0xa72")][_0x4b1c("0x1e7")]&&this[_0x4b1c("0xa72")].model3d[_0x4b1c("0x2ea")](x);break;case esmap.ESNodeType[_0x4b1c("0xac9")]:this.layers[_0x4b1c("0x68c")]&&this[_0x4b1c("0xa72")][_0x4b1c("0x68c")][_0x4b1c("0x2ea")](x);break;default:return console.info(_0x4b1c("0x10f2")),!1}}},{key:_0x4b1c("0x7b4"),value:function(){this[_0x4b1c("0xa72")][_0x4b1c("0x317")]&&this[_0x4b1c("0xa72")][_0x4b1c("0x317")][_0x4b1c("0x7b4")](),this[_0x4b1c("0xa72")].card&&this[_0x4b1c("0xa72")][_0x4b1c("0x10f1")][_0x4b1c("0x7b4")](),this[_0x4b1c("0xa72")][_0x4b1c("0x1e7")]&&this.layers[_0x4b1c("0x1e7")][_0x4b1c("0x7b4")](),this.layers[_0x4b1c("0x68c")]&&this.layers.polygon.removeAll()}},{key:_0x4b1c("0x10f4"),value:function(x,c){this.layers[_0x4b1c("0x317")]&&this.setMarkerVisible(this[_0x4b1c("0xa72")][_0x4b1c("0x317")][_0x4b1c("0xf0")][_0x4b1c("0xf1")],x,c),this[_0x4b1c("0xa72")].card&&this[_0x4b1c("0x10f5")](this[_0x4b1c("0xa72")].card[_0x4b1c("0xf0")].children,x,c),this[_0x4b1c("0xa72")][_0x4b1c("0x1e7")]&&this[_0x4b1c("0x10f5")](this.layers[_0x4b1c("0x1e7")][_0x4b1c("0xf0")][_0x4b1c("0xf1")],x,c),this[_0x4b1c("0xa72")].polygon&&this.setMarkerVisible(this.layers[_0x4b1c("0x68c")][_0x4b1c("0xf0")][_0x4b1c("0xf1")],x,c)}},{key:"toggleMarker",value:function(x,c){for(var b in this[_0x4b1c("0xa72")])this[_0x4b1c("0xa72")][b]&&this[_0x4b1c("0xa72")][b].o3d_[_0x4b1c("0xf1")].forEach((function(b){b.datas_[_0x4b1c("0x539")][_0x4b1c("0x12b")]&&b.datas_[_0x4b1c("0x539")][_0x4b1c("0x12b")]===x&&(b[_0x4b1c("0xef")][_0x4b1c("0x191")]=c)}))}},{key:_0x4b1c("0x10f5"),value:function(x,c,b){var e=!0,t=!1,i=void 0;try{for(var a,n=(0,_[_0x4b1c("0xc")])(x);!(e=(a=n[_0x4b1c("0x286")]()).done);e=!0){var r=a[_0x4b1c("0x13a")];b&&r[_0x4b1c("0xef")].opts_[_0x4b1c("0x12b")],this.checkMarkerVisible(r[_0x4b1c("0xef")],c)}}catch(x){t=!0,i=x}finally{try{!e&&n.return&&n[_0x4b1c("0x28a")]()}finally{if(t)throw i}}}},{key:"checkMarkerVisible",value:function(x,c){for(var b in c)c[1*b+1]&&c[b].height<=x[_0x4b1c("0xf0")][_0x4b1c("0x105")].y&&x[_0x4b1c("0xf0")].position.y<c[1*b+1][_0x4b1c("0x1a3")]?x[_0x4b1c("0x191")]=c[b].visible:!c[1*b+1]&&x[_0x4b1c("0xf0")][_0x4b1c("0x105")].y>c[b][_0x4b1c("0x1a3")]&&(x.visible=c[b][_0x4b1c("0x191")])}},{key:_0x4b1c("0x10f6"),value:function(x,c){for(var b in c){if(c[1*b+1]&&c[b]<=x&&x<c[1*b+1])return b;if(!c[1*b+1]&&x>c[b])return b}}},{key:_0x4b1c("0x248"),value:function(x){if(x.mapScene[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]){if(x[_0x4b1c("0x539")][_0x4b1c("0x12b")]){var c=x[_0x4b1c("0x1e1")][_0x4b1c("0x3e")].getBuildingById(x.opts_[_0x4b1c("0x12b")]);if(c){var b=this[_0x4b1c("0x10f7")](c);this[_0x4b1c("0x10f8")](x,b)}else x.visible=!1}}else{var _=x[_0x4b1c("0x1e1")].map[_0x4b1c("0x566")]();this.spanScale=_[_0x4b1c("0x10f9")];var e=this.getFloorState(_);if(x[_0x4b1c("0x10fa")]=e,!x[_0x4b1c("0x2c3")])for(var t in x[_0x4b1c("0x2c3")]={},x[_0x4b1c("0x10fa")])x[_0x4b1c("0x10fa")][t][_0x4b1c("0x1a3")]>0?x._originFloorHeight[t]=x._floorState[t].height-_[_0x4b1c("0x10f9")]*(t-1):x[_0x4b1c("0x2c3")][t]=0;this[_0x4b1c("0x10f8")](x,e)}}},{key:_0x4b1c("0x10f7"),value:function(x){var c={},b=!0,e=!1,t=void 0;try{for(var i,a=(0,_[_0x4b1c("0xc")])(x[_0x4b1c("0x679")]);!(b=(i=a[_0x4b1c("0x286")]()).done);b=!0){var n=i[_0x4b1c("0x13a")];c[n]={visible:x[_0x4b1c("0x137")][_0x4b1c("0x114")](n)>-1,height:x.getFloorHeight(n)}}}catch(x){e=!0,t=x}finally{try{!b&&a[_0x4b1c("0x28a")]&&a[_0x4b1c("0x28a")]()}finally{if(e)throw t}}return c}},{key:_0x4b1c("0x10ef"),value:function(x){var c=this;if(x[_0x4b1c("0x47")][_0x4b1c("0x3b")]===esmap.MapMode.Building){var b=x.getBuilding();x.on("visibleFloorNumsChanged",(function(x){c[_0x4b1c("0x10f4")](c.getFloorState(b))})),b&&b.on(_0x4b1c("0x10fb"),(function(x){c[_0x4b1c("0x2c4")]=x[_0x4b1c("0xd3f")],c.toggleMarkerByFloors(c[_0x4b1c("0x10f7")](b))}))}else x.on(_0x4b1c("0xa34"),(function(b){c.toggleMarkerByFloors(c[_0x4b1c("0x10f7")](b),b.id),x.on("visibleFloorNumsChanged",(function(x){c.toggleMarkerByFloors(c[_0x4b1c("0x10f7")](b),b.id)}))})),x.on("visibleFloorNumsChanged",(function(c){if(c.bid){var b=x[_0x4b1c("0x136")](c.bid);console[_0x4b1c("0x226")](_0x4b1c("0x10fc"),b)}}))}}]),c}(esmap[_0x4b1c("0x330")]);c[_0x4b1c("0xc")]=s},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=i(b(0)),e=i(b(1)),t=b(4);function i(x){return x&&x.__esModule?x:{default:x}}var a=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0xf0")]=c}return(0,e[_0x4b1c("0xc")])(x,[{key:"addLayer",value:function(x){!x instanceof esmap[_0x4b1c("0x3d1")]?console[_0x4b1c("0x424")]("Only ESLayer acceptable!"):this[_0x4b1c("0xf0")].add(x[_0x4b1c("0xf0")])}},{key:_0x4b1c("0x3f7"),value:function(x,c){var b=this.getLayersByNames(x);if(0==b[_0x4b1c("0x0")]){switch(c){case"imageMarker":b=new esmap.ESLayer(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xc18")]);break;case"textMarker":b=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xc19")]);break;case _0x4b1c("0x602"):b=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xac9")]);break;case _0x4b1c("0x10fd"):b=new esmap.ESLayer(esmap[_0x4b1c("0x3cd")][_0x4b1c("0x10fe")]);case _0x4b1c("0x1e7"):b=new(esmap[_0x4b1c("0x3d1")])(esmap.ESLayerType[_0x4b1c("0x1df")]);break;case _0x4b1c("0x1e6"):b=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0x690")]);break;case _0x4b1c("0x584"):b=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xa77")]);break;case _0x4b1c("0x5ff"):b=new(esmap[_0x4b1c("0x3d1")])(esmap.ESLayerType[_0x4b1c("0xe20")]);break;case _0x4b1c("0x10ff"):b=new esmap.ESLayer(esmap[_0x4b1c("0x3cd")][_0x4b1c("0x1100")]);break;case _0x4b1c("0x607"):b=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")].BOARD_MARKER);break;case"cardMarker":b=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0x10f0")]);break;case _0x4b1c("0x604"):b=new esmap.ESLayer(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xacb")])}b[_0x4b1c("0x1f7")]=x,this[_0x4b1c("0x3f5")](b)}else b=b[0];return b}},{key:_0x4b1c("0x3f8"),value:function(x,c){x=[].concat(x);for(var b=!1,_=[],e=0;e<this.layers.length;e++){var t=this[_0x4b1c("0xa72")][e];if(t[_0x4b1c("0x64a")]&&x[_0x4b1c("0x114")](t[_0x4b1c("0x64a")])>-1&&(c&&(b=c(t,t._type_)),_[_0x4b1c("0x12")](t)),b)return 0==_[_0x4b1c("0x0")]?null:1==_[_0x4b1c("0x0")]?_[0]:_}return _}},{key:_0x4b1c("0xa6e"),value:function(x,c){x=[].concat(x);for(var b=[],_=0;_<this[_0x4b1c("0xa72")][_0x4b1c("0x0")];_++){var e=this[_0x4b1c("0xa72")][_];e.name&&x.indexOf(e[_0x4b1c("0x1f7")])>-1&&(c&&c(e,e[_0x4b1c("0x1f7")])&&_--,b[_0x4b1c("0x12")](e))}return b}},{key:"getObjectsByAlias",value:function(x,c){var b=[];return this[_0x4b1c("0x3f8")](x,(function(x){if(null!=c)for(var _=x.o3d_[_0x4b1c("0xf1")],e=0;e<_;e++)c(x[_0x4b1c("0xf0")].children[e])&&b[_0x4b1c("0x12")](x[_0x4b1c("0xf0")][_0x4b1c("0xf1")][e]);else b[_0x4b1c("0x12")][_0x4b1c("0x4")](b,x[_0x4b1c("0xf0")].children)})),b}},{key:_0x4b1c("0x10e4"),value:function(x){var c=this[_0x4b1c("0x3f8")](x);return c?c[_0x4b1c("0x0")]?c[0]:c:null}},{key:_0x4b1c("0x10e5"),value:function(x){x[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1;for(var c=0;x[_0x4b1c("0xf0")][_0x4b1c("0xf1")][_0x4b1c("0x0")]>c;){var b=x.o3d_.children[c];b.em&&b.em.dispose?b.em[_0x4b1c("0xf3")]():c++}this[_0x4b1c("0xf0")][_0x4b1c("0x2ea")](x[_0x4b1c("0xf0")])}},{key:_0x4b1c("0x10e6"),value:function(x){for(var c=[][_0x4b1c("0x377")](x),b=0;b<this[_0x4b1c("0xa72")].length;b++){var _=this.layers[b];if(_[_0x4b1c("0x64a")]&&(0,t[_0x4b1c("0x1101")])(c,_[_0x4b1c("0x64a")])){_[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1;for(var e=0;_[_0x4b1c("0xf0")][_0x4b1c("0xf1")].length>e;){var i=_[_0x4b1c("0xf0")].children[e];i.em&&i.em[_0x4b1c("0xf3")]?i.em.dispose():e++}this[_0x4b1c("0xf0")][_0x4b1c("0x2ea")](_[_0x4b1c("0xf0")]),b--}}}},{key:_0x4b1c("0x10e7"),value:function(x){for(var c=[][_0x4b1c("0x377")](x),b=0;b<this[_0x4b1c("0xa72")][_0x4b1c("0x0")];b++){var _=this[_0x4b1c("0xa72")][b];if(_[_0x4b1c("0x1f7")]&&(0,t[_0x4b1c("0x1101")])(c,_[_0x4b1c("0x1f7")])){_[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1;for(var e=0;_[_0x4b1c("0xf0")][_0x4b1c("0xf1")][_0x4b1c("0x0")]>e;){var i=_.o3d_[_0x4b1c("0xf1")][e];i[_0x4b1c("0xef")]&&i[_0x4b1c("0xef")][_0x4b1c("0xf3")]&&i[_0x4b1c("0xef")][_0x4b1c("0xf3")](),e++}this.o3d_[_0x4b1c("0x2ea")](_[_0x4b1c("0xf0")]),b--}}}},{key:_0x4b1c("0x10e8"),value:function(x){x&&this.data_[_0x4b1c("0xc0b")]&&x[_0x4b1c("0x99f")](this)}},{key:_0x4b1c("0x10e9"),value:function(x){x&&this[_0x4b1c("0x3de")].floornum&&x.disposeHeatMap(this[_0x4b1c("0x3de")][_0x4b1c("0xc0b")])}},{key:_0x4b1c("0x103"),value:function(x){return this[_0x4b1c("0x1102")](x,this.o3d_,!1)}},{key:_0x4b1c("0x1102"),value:function(x,c,b){if(c[_0x4b1c("0xef")]&&(b=x(c[_0x4b1c("0xef")])),b)return!0;for(var _=0;_<c[_0x4b1c("0xf1")].length;_++){if(this[_0x4b1c("0x1102")](x,c[_0x4b1c("0xf1")][_],b))return!0}}},{key:"mapCoord",get:function(){return new(esmap[_0x4b1c("0x53c")])(-this[_0x4b1c("0x1e1")].sceneX_,this.mapScene.sceneZ_,this[_0x4b1c("0xf0")][_0x4b1c("0x1044")][_0x4b1c("0xb3c")])}},{key:"layers",get:function(){for(var x=[],c=0;c<this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][_0x4b1c("0x0")];c++){var b=this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][c][_0x4b1c("0xef")];b&&x[_0x4b1c("0x12")](b)}return x}}]),x}();c[_0x4b1c("0xc")]=a},function(x,c,b){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var _=n(b(5)),e=n(b(0)),t=n(b(1)),i=n(b(10)),a=n(b(11));function n(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var r=0,s=function(x){function c(x,b){(0,e[_0x4b1c("0xc")])(this,c);var t=(0,i.default)(this,(c[_0x4b1c("0x1de")]||(0,_[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this,0,b,new(THREE[_0x4b1c("0x214")])));switch(t[_0x4b1c("0x64a")]=x||esmap[_0x4b1c("0x3cd")][_0x4b1c("0xc6b")],t.name="",x){case esmap[_0x4b1c("0x3cd")][_0x4b1c("0xc18")]:case esmap[_0x4b1c("0x3cd")][_0x4b1c("0xc19")]:t.o3d_[_0x4b1c("0x3cf")]=new(esmap[_0x4b1c("0x3d0")]),t[_0x4b1c("0x103b")]=!1;break;case esmap[_0x4b1c("0x3cd")].MODEL:break;case esmap[_0x4b1c("0x3cd")][_0x4b1c("0x1103")]:case esmap[_0x4b1c("0x3cd")][_0x4b1c("0x3d2")]:case esmap[_0x4b1c("0x3cd")][_0x4b1c("0x3ce")]:t[_0x4b1c("0x103b")]=!0;case esmap[_0x4b1c("0x3cd")][_0x4b1c("0x10f0")]:}if(t[_0x4b1c("0x64a")]==esmap.ESLayerType[_0x4b1c("0xc19")]||t[_0x4b1c("0x64a")]==esmap[_0x4b1c("0x3cd")].IMAGE_MARKER||t[_0x4b1c("0x64a")]==esmap[_0x4b1c("0x3cd")][_0x4b1c("0x3ce")]||t._type_==esmap[_0x4b1c("0x3cd")].MODEL_POI){var a=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],n=a.mode==esmap.MapMode[_0x4b1c("0x1e2")]?a.id:null;a.on("update",(function(){if(t[_0x4b1c("0xf0")])if("3D"!=a[_0x4b1c("0x9c5")])t[_0x4b1c("0xf0")][_0x4b1c("0x105")].y=.2;else{var x=a[_0x4b1c("0x266")][_0x4b1c("0x2cf")]();t[_0x4b1c("0xf0")][_0x4b1c("0x105")].y=x<=.11689?.2:0}}),null,n)}return t.viewRadius=null,t}return(0,a[_0x4b1c("0xc")])(c,x),(0,t.default)(c,[{key:_0x4b1c("0x1104"),value:function(x){this[_0x4b1c("0xf0")].traverse((function(c){c.hasOwnProperty("renderOrder")&&(c[_0x4b1c("0x172")]=x)}))}},{key:_0x4b1c("0x26c"),value:function(){this.requireCollide_=!0}},{key:_0x4b1c("0x1105"),value:function(){this.requireCollide_=!1}},{key:_0x4b1c("0x10ee"),value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=x,_=this;if(this[_0x4b1c("0x1106")](b[_0x4b1c("0x123")]))switch(b[_0x4b1c("0x123")]){case esmap[_0x4b1c("0x131")].IMAGE_MARKER:var e=b.bid;b[_0x4b1c("0xf0")].dispatchEvent({type:_0x4b1c("0x31c")}),this[_0x4b1c("0xf0")].add(b[_0x4b1c("0xf0")]),c[_0x4b1c("0x232")][_0x4b1c("0x3ec")](b.o3d_,e||_0x4b1c("0xcf4"));break;case esmap[_0x4b1c("0x131")].TEXT_MARKER:e=b[_0x4b1c("0x12b")];b[_0x4b1c("0xf0")][_0x4b1c("0x1d9")]({type:_0x4b1c("0x31c")}),this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](b.o3d_),b[_0x4b1c("0x1f4")]&&c[_0x4b1c("0x232")][_0x4b1c("0x3ec")](b.o3d_,e||_0x4b1c("0xcf4"));break;case esmap[_0x4b1c("0x131")][_0x4b1c("0x10f0")]:b[_0x4b1c("0xf0")][_0x4b1c("0x1d9")]({type:_0x4b1c("0x31c")}),this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](b.o3d_);break;case esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")]:var t=c.getUserScene()[_0x4b1c("0x26b")],i=!1;if(c[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?c[_0x4b1c("0x7e")].getState("sk")||c.options[_0x4b1c("0x1f6")]||(c[_0x4b1c("0x7e")][_0x4b1c("0x7f")]("ul")>>1&1||0)<1&&(console[_0x4b1c("0x291")](esmap[_0x4b1c("0x288")][_0x4b1c("0xa97")]),i=!0):b[_0x4b1c("0x11e")]&&(t=c.tileList[0][_0x4b1c("0x26b")]),i&&!c[_0x4b1c("0x7e")][_0x4b1c("0xb22")])return void console[_0x4b1c("0x291")](esmap[_0x4b1c("0x288")][_0x4b1c("0xa97")]);_[_0x4b1c("0x1107")]=t,_[_0x4b1c("0x1108")](b,_),_[_0x4b1c("0x1107")][_0x4b1c("0x26d")]=!1,r++;break;case esmap[_0x4b1c("0x131")][_0x4b1c("0xac9")]:b[_0x4b1c("0xf0")][_0x4b1c("0x1d9")]({type:_0x4b1c("0x31c")}),this.o3d_.add(b.o3d_)}else console.info("请添加图层对应的marker!");b._init_&&b._init_()}},{key:"loadMergeModels",value:function(){var x=this.o3d_[_0x4b1c("0x195")];this.loadManger[_0x4b1c("0xda6")][x]=!0}},{key:"checkO1",value:function(){var x=esmap.ESMap.instance[_0x4b1c("0x7e")][_0x4b1c("0xd29")]||0;return r>x||0==x}},{key:_0x4b1c("0x1108"),value:function(x,c){var b=c[_0x4b1c("0xf0")][_0x4b1c("0x195")];this[_0x4b1c("0x1107")].addUserModel({data:x[_0x4b1c("0x569")],model:x.model,name:x[_0x4b1c("0x1f7")],scale:x[_0x4b1c("0x201")],rotation:x[_0x4b1c("0x258")],merge:x.merge,layerid:b,url:x[_0x4b1c("0x4e")],seeThrough:x.seeThrough,showLevel:x[_0x4b1c("0x1e4")],position:x.position,parent:c[_0x4b1c("0xf0")],marker:x,id:x.ID,bclick:x[_0x4b1c("0x1109")]||!1,spritify:x[_0x4b1c("0x1096")],onError:x[_0x4b1c("0x10b4")],callback:x[_0x4b1c("0x1b0")]}),x[_0x4b1c("0x11e")]&&(this[_0x4b1c("0x1107")][_0x4b1c("0xda6")][b]=!0)}},{key:_0x4b1c("0x110a"),value:function(x){for(var c=this[_0x4b1c("0xf0")][_0x4b1c("0xf1")],b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].controls[_0x4b1c("0x2c7")],_=0;_<c[_0x4b1c("0x0")];_++){var e=c[_];e[_0x4b1c("0x105")][_0x4b1c("0x124")](b)>x?(e.forceVisible_=!1,e[_0x4b1c("0x191")]=!1):(e[_0x4b1c("0x312")]=!0,e.visible=!0)}}},{key:_0x4b1c("0x110b"),value:function(x){var c=this,b=x.onLevel,_=x.value,e=(this[_0x4b1c("0xf0")][_0x4b1c("0xf1")],b),t=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],i=!1;this.viewRadius=_,this[_0x4b1c("0x10de")]=b,t.on("zoomed",(function(x){x>=e?1!=i&&(i=!0,c.checkViewRadius(_)):0!=i&&(i=!1,c[_0x4b1c("0x110a")](1/0))}));var a=null;t.on(_0x4b1c("0x3c0"),(function(){if(t[_0x4b1c("0x31d")]>=e&&(i||(i=!0)),i){var x=t[_0x4b1c("0x266")][_0x4b1c("0x2c7")],b={x:1*x.x[_0x4b1c("0x64d")](1),y:1*x.z[_0x4b1c("0x64d")](1)};a&&a.x==b.x&&a.y==b.y||c[_0x4b1c("0x110a")](_),a=b}}))}},{key:"checkType",value:function(x){var c=this[_0x4b1c("0x64a")],b=null;for(var _ in esmap[_0x4b1c("0x3cd")])if(esmap.ESLayerType[_]==c){b=_;break}return esmap[_0x4b1c("0x131")][b]==x||(console[_0x4b1c("0x291")](_0x4b1c("0x110c")),!1)}},{key:_0x4b1c("0xdd"),value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](x.o3d_)}},{key:"remove",value:function(x){x[_0x4b1c("0xf3")]()}},{key:_0x4b1c("0x7b4"),value:function(){for(var x=0;this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][_0x4b1c("0x0")]>x;){var c=this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][x];c[_0x4b1c("0xef")]&&c[_0x4b1c("0xef")][_0x4b1c("0xf3")]&&(c[_0x4b1c("0xef")].dispose(),x--),x++}}},{key:_0x4b1c("0x103"),value:function(x){return this[_0x4b1c("0x1102")](x,this.o3d_,!1)}},{key:"traverse_",value:function(x,c,b){if(c[_0x4b1c("0xef")]&&(b=x(c[_0x4b1c("0xef")])),b)return!0;for(var _=0;_<c[_0x4b1c("0xf1")][_0x4b1c("0x0")];_++){if(this.traverse_(x,c.children[_],b))return!0}}},{key:_0x4b1c("0x110d"),get:function(){return esmap.ESMap[_0x4b1c("0x3a")][_0x4b1c("0x1e1")][_0x4b1c("0x110d")]}}]),c}(esmap[_0x4b1c("0x330")]);c[_0x4b1c("0xc")]=s},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=t(b(2)),e=t(b(0));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}c[_0x4b1c("0xc")]=function x(c){(0,e.default)(this,x);var b=esmap[_0x4b1c("0x87")].getPlatform()[_0x4b1c("0x339")];(0,_[_0x4b1c("0xc")])(this,c),this[_0x4b1c("0xe0")]=c&&c[_0x4b1c("0xe0")]?c[_0x4b1c("0xe0")]:b?esmap.EScontrolSize[_0x4b1c("0x110e")]:esmap[_0x4b1c("0x61e")][_0x4b1c("0x110f")],this[_0x4b1c("0x105")]=c&&c[_0x4b1c("0x105")]?c[_0x4b1c("0x105")]:null,this.allLayer=c&&c.allLayer?c[_0x4b1c("0x1110")]:null,this[_0x4b1c("0x158")]=c&&c.offset?c[_0x4b1c("0x158")]:b?new(esmap[_0x4b1c("0x1111")])(20,50):new esmap.ESControlOffset(10,10),this[_0x4b1c("0x1112")]=c&&c[_0x4b1c("0x1112")]?c.imgURL:_0x4b1c("0x1113"),this.expandSpan=c&&c.hasOwnProperty("expandSpan")?c[_0x4b1c("0x1114")]:10}},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _,e=b(0),t=(_=e)&&_[_0x4b1c("0xb")]?_:{default:_};c[_0x4b1c("0xc")]=function x(c,b){(0,t[_0x4b1c("0xc")])(this,x),this.x=c||0,this.y=b||0}},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=o(b(15)),e=o(b(22)),t=o(b(2)),i=o(b(0)),a=o(b(1)),n=b(19),r=b(84),s=b(23);function o(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var f=function(){function x(c,b){var _=this;(0,i[_0x4b1c("0xc")])(this,x),window[_0x4b1c("0x1b6")][_0x4b1c("0x1115")]&&window[_0x4b1c("0x1b6")]._fControlInstance[_0x4b1c("0xf3")](),this[_0x4b1c("0x3e")]=c,this[_0x4b1c("0x1116")]=null,this[_0x4b1c("0x1117")]=!1,this[_0x4b1c("0x1118")]={},this[_0x4b1c("0x1119")]=!1,this[_0x4b1c("0x111a")]=!1,this[_0x4b1c("0x111b")]=!1,this[_0x4b1c("0x54")]=null,this.updated=!1;var e=new(esmap[_0x4b1c("0x631")])(b);if((0,t.default)(e,{scale:null,textColor:_0x4b1c("0x111c"),toggleColor:_0x4b1c("0x111d"),bgColor:_0x4b1c("0x352"),focusTextColor:_0x4b1c("0x352"),focusBgColor:"#1F6ED4",showBtnCount:3,borderRadius:5,marginBottom:5,textSize:14,fnumToggleBtn:this.map.mode!=esmap[_0x4b1c("0x41")][_0x4b1c("0x42")],viewModeBtn:this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]!=esmap[_0x4b1c("0x41")][_0x4b1c("0x42")],expandBtn:!0,expandSpan:20,scrollMode:!0,size:null,exitBtn:!0,onUpdated:null},b),e.position=e[_0x4b1c("0x105")]||2,this[_0x4b1c("0x111e")]=e[_0x4b1c("0x111e")],e[_0x4b1c("0x111f")]>5&&(e[_0x4b1c("0x111f")]=5),this.configs=e,this[_0x4b1c("0x339")]=esmap[_0x4b1c("0x87")][_0x4b1c("0x338")]()[_0x4b1c("0x339")],this[_0x4b1c("0x35b")]=20,this.left=10,this[_0x4b1c("0x35a")]=10,this[_0x4b1c("0x1120")]=!1,this[_0x4b1c("0x1121")]=!1,c.on("preCloseBuilding",(function(){_.dispose()})),c.on("buildingLoadComplete",(function(x){setTimeout((function(){_[_0x4b1c("0x1122")]({bid:x.id})}),1e3)})),c[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")].City&&c.on(_0x4b1c("0xd45"),(function(x){if(2==x[_0x4b1c("0x3e0")]&&x[_0x4b1c("0x12b")]&&_[_0x4b1c("0x1123")]){var b=c[_0x4b1c("0x136")](x[_0x4b1c("0x12b")]);_.building&&_[_0x4b1c("0x54")].id!=x[_0x4b1c("0x12b")]||_.disposed?(_[_0x4b1c("0x164")](b),b[_0x4b1c("0x10f9")]>0?(_[_0x4b1c("0x1123")][_0x4b1c("0x23")][_0x4b1c("0x1cb")]="none",_[_0x4b1c("0x1124")][_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0x1125")):(_.expandIcon[_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0x1125"),_[_0x4b1c("0x1124")].style[_0x4b1c("0x1cb")]="none")):_[_0x4b1c("0x54")]||_[_0x4b1c("0x164")](b),_[_0x4b1c("0x1122")](x)}})),c[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")])c.on(_0x4b1c("0xa34"),(function(x){_.update(x),c[_0x4b1c("0x47")][_0x4b1c("0xafe")]&&_[_0x4b1c("0xa06")](x[_0x4b1c("0x679")][x[_0x4b1c("0x679")].length-1])}));else{var a=c[_0x4b1c("0x566")]();a?this[_0x4b1c("0x164")](a):c.on(_0x4b1c("0xa34"),(function(x){_.update(x)}))}esmap[_0x4b1c("0x1115")]=this}return(0,a[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x164"),value:function(x){var c=this[_0x4b1c("0x514")];c.scrollMode=this[_0x4b1c("0x111e")],this[_0x4b1c("0x1126")]&&this[_0x4b1c("0xf3")](),this[_0x4b1c("0x1120")]=!1,this[_0x4b1c("0x54")]=x;var b=x[_0x4b1c("0x679")][_0x4b1c("0x0")];b>=3&&c[_0x4b1c("0x111f")]<3&&(c[_0x4b1c("0x111f")]=3),b<c[_0x4b1c("0x111f")]&&(c.showBtnCount=b),4==c[_0x4b1c("0x1127")]&&(c[_0x4b1c("0x1127")]=3),b<=2&&(c[_0x4b1c("0x111e")]=!1);c[_0x4b1c("0xe0")]||(c[_0x4b1c("0xe0")]=this[_0x4b1c("0x339")]?_0x4b1c("0x140"):"small");var _={small:42,normal:42}[c[_0x4b1c("0xe0")]]||c[_0x4b1c("0xe0")];this[_0x4b1c("0x1128")]=_,this[_0x4b1c("0x39")]()}},{key:_0x4b1c("0x22e"),value:function(x){var c=this[_0x4b1c("0x514")][_0x4b1c("0x158")].x,b=this[_0x4b1c("0x514")][_0x4b1c("0x158")].y,_=this.configs[_0x4b1c("0x105")];switch(x[_0x4b1c("0x23")][_0x4b1c("0x35b")]=_0x4b1c("0xbc6"),x[_0x4b1c("0x23")][_0x4b1c("0x359")]=_0x4b1c("0xbc6"),x[_0x4b1c("0x23")][_0x4b1c("0x35a")]=_0x4b1c("0xbc6"),_){case 1:x[_0x4b1c("0x23")][_0x4b1c("0x35b")]=b+"px",x.style[_0x4b1c("0x359")]=c+"px";break;case 2:x[_0x4b1c("0x23")].bottom=b+"px",x[_0x4b1c("0x23")][_0x4b1c("0x359")]=c+"px";break;case 3:x[_0x4b1c("0x23")][_0x4b1c("0x35b")]=b+"px",x[_0x4b1c("0x23")][_0x4b1c("0x35a")]=c+"px";break;case 4:x[_0x4b1c("0x23")].bottom=b+"px",x.style[_0x4b1c("0x35a")]=c+"px"}}},{key:_0x4b1c("0x18e"),value:function(x){if(this.updated){var c={bgColor:1,borderRadius:1,textColor:2,toggleColor:3,focusBgColor:[4,7],focusTextColor:4,marginBottom:5},b=[{keys:[],getStyle:function(){return _0x4b1c("0x112a")+_+_0x4b1c("0x112b")}},{keys:["bgColor","borderRadius"],getStyle:function(){return _0x4b1c("0x112c")+_+_0x4b1c("0x112d")+_+_0x4b1c("0x112e")+_+" .controlWrapper{\n                        background-color: "+i[_0x4b1c("0x4a9")]+_0x4b1c("0x112f")+i[_0x4b1c("0xd3b")]+_0x4b1c("0x1130")}},{keys:[_0x4b1c("0x1131")],getStyle:function(){return _0x4b1c("0x1132")+_+_0x4b1c("0x1133")+i[_0x4b1c("0x1131")]+_0x4b1c("0x1134")}},{keys:[_0x4b1c("0x1135")],getStyle:function(){return"."+_+_0x4b1c("0x1136")+_+_0x4b1c("0x1137")+_+_0x4b1c("0x1138")+_+_0x4b1c("0x1139")+_+" .exit{\n                        fill: "+i[_0x4b1c("0x1135")]+_0x4b1c("0x113a")}},{keys:[_0x4b1c("0x113b"),_0x4b1c("0x113c")],getStyle:function(){return _0x4b1c("0x112a")+_+_0x4b1c("0x113d")+i[_0x4b1c("0x113b")]+_0x4b1c("0x113e")+i[_0x4b1c("0x113c")]+";\n                    }\n                    "}},{keys:["marginBottom"],getStyle:function(){return _0x4b1c("0x112a")+_+" .layersToggle , ."+_+" .viewModeToggle{\n                        margin-bottom:"+i[_0x4b1c("0x113f")]+_0x4b1c("0x1140")}},{keys:[_0x4b1c("0xc46")],getStyle:function(){return _0x4b1c("0x112a")+_+" .floor-item-devide{\n                        font-size: "+i.textSize+_0x4b1c("0x1140")}},{keys:[_0x4b1c("0x113b")],getStyle:function(){return _0x4b1c("0x112a")+_+_0x4b1c("0x1141")+i[_0x4b1c("0x113b")]+_0x4b1c("0x1134")}}],_=this[_0x4b1c("0x1142")];(0,t[_0x4b1c("0xc")])(this.configs,x);var e=[],i=this[_0x4b1c("0x514")];for(var a in x)if(c[a]){var n=[][_0x4b1c("0x377")](c[a]);for(var r in n){var o=n[r];if(!e[_0x4b1c("0x63")](o)){var f=b[o][_0x4b1c("0xc15")]();this[_0x4b1c("0x1143")][_0x4b1c("0x1144")](o),this[_0x4b1c("0x1143")][_0x4b1c("0x1145")](f,o),e[_0x4b1c("0x12")](o)}}}}else s.MessagePoster[_0x4b1c("0x31")]({msg:_0x4b1c("0x1129"),level:_0x4b1c("0xe3")})}},{key:_0x4b1c("0x1146"),value:function(x){2==x||(this[_0x4b1c("0x1147")].style[_0x4b1c("0x35b")]=_0x4b1c("0xbc6"));var c=this[_0x4b1c("0x1128")];this[_0x4b1c("0x514")].scrollMode&&(this[_0x4b1c("0x1148")].style[_0x4b1c("0x1a3")]=x*c-0+"px"),this[_0x4b1c("0x514")][_0x4b1c("0x111f")]=x}},{key:_0x4b1c("0xf3"),value:function(){this[_0x4b1c("0x1126")]&&(this[_0x4b1c("0x1126")][_0x4b1c("0x4d3")]&&this[_0x4b1c("0x1126")].parentNode[_0x4b1c("0x29")](this.$box),this[_0x4b1c("0x1126")]=null),this.disposed=!0,this[_0x4b1c("0x54")]=null,this.updated=!1}},{key:_0x4b1c("0x1149"),value:function(x){var c=this,b=this.buttonSize;this[_0x4b1c("0x114a")]={};var _=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));_[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=b+"px",_[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=b+"px",_[_0x4b1c("0x23")][_0x4b1c("0x1d0")]=_0x4b1c("0x114b"),this[_0x4b1c("0x514")].isLayoutRow&&(_[_0x4b1c("0x23")].margin=_0x4b1c("0xd41")),_[_0x4b1c("0x23")][_0x4b1c("0x114c")]=_0x4b1c("0x114d"),_[_0x4b1c("0x23")][_0x4b1c("0x1d2")]="border-box",_[_0x4b1c("0x4ea")]=_0x4b1c("0x114e"),_.style[_0x4b1c("0x1cb")]="flex",_[_0x4b1c("0x23")].justifyContent=_0x4b1c("0x12d"),_[_0x4b1c("0x23")].flexDirection=_0x4b1c("0x114f");var e=document[_0x4b1c("0x21")]("div");e.style[_0x4b1c("0x1c9")]="100%",e[_0x4b1c("0x23")][_0x4b1c("0x1a3")]="100%",e.className=_0x4b1c("0x1150"),e.style[_0x4b1c("0x1cb")]=_0x4b1c("0x1125"),e[_0x4b1c("0x1d6")]=this[_0x4b1c("0x1151")],_[_0x4b1c("0x1d7")](e),this[_0x4b1c("0x1123")]=e;var t=document[_0x4b1c("0x21")]("div");t[_0x4b1c("0x23")].width=_0x4b1c("0x1ca"),t[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=_0x4b1c("0x1ca"),t.style[_0x4b1c("0x1cb")]=_0x4b1c("0x60b"),t.innerHTML=this.iconShrink,t.className=_0x4b1c("0x1152"),this[_0x4b1c("0x1124")]=t,_.appendChild(t),_[_0x4b1c("0x37")](_0x4b1c("0x982"),(function(x){x[_0x4b1c("0x379")](),x[_0x4b1c("0x4d8")]()})),_.addEventListener(_0x4b1c("0x984"),(function(x){x[_0x4b1c("0x379")](),x[_0x4b1c("0x4d8")](),c.toggleExpanded()})),_[_0x4b1c("0x37")]("touchend",(function(x){c[_0x4b1c("0x1153")]()})),x[_0x4b1c("0x1d7")](_),this.$expandToggle=_}},{key:_0x4b1c("0x1153"),value:function(){this[_0x4b1c("0x54")][_0x4b1c("0xa36")](_0x4b1c("0x1154")),this[_0x4b1c("0x54")][_0x4b1c("0x10f9")]>0?this.expanded=!0:this[_0x4b1c("0x1121")]=!1,this.expanded?(this[_0x4b1c("0x54")][_0x4b1c("0x1155")](0),this[_0x4b1c("0x1123")][_0x4b1c("0x23")].display="inline-block",this.shrinkIcon[_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0x60b")):(this[_0x4b1c("0x54")][_0x4b1c("0x1155")](this[_0x4b1c("0x514")][_0x4b1c("0x1114")]),this[_0x4b1c("0x1123")][_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0x60b"),this[_0x4b1c("0x1124")][_0x4b1c("0x23")].display=_0x4b1c("0x1125")),this[_0x4b1c("0x1121")]=!this[_0x4b1c("0x1121")]}},{key:_0x4b1c("0x39"),value:function(){var x=this,c=this[_0x4b1c("0x3e")],b=this[_0x4b1c("0x54")];this[_0x4b1c("0x1156")]=_0x4b1c("0x1157"),this[_0x4b1c("0x1158")]=_0x4b1c("0x1159"),this[_0x4b1c("0x115a")]='<svg t="1635142718292" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21259" width="100%" height="100%"><path d="M1024 512c0-23.68-13.44-43.52-32.64-54.4l0.64-0.64-448-256-0.64 0.64C533.76 195.84 523.52 192 512 192s-21.76 3.84-31.36 9.6l-0.64-1.28-448 256 0.64 0.64C13.44 468.48 0 488.32 0 512s13.44 43.52 32.64 54.4l-0.64 0.64 448 256 0.64-0.64c9.6 5.76 19.84 9.6 31.36 9.6s21.76-3.84 31.36-9.6l0.64 0.64 448-256-0.64-0.64c19.2-10.88 32.64-30.72 32.64-54.4z" p-id="21260" ></path></svg>',this.iconLayers=_0x4b1c("0x115b"),this[_0x4b1c("0x115c")]=_0x4b1c("0x115d"),this.iconExpand=_0x4b1c("0x115e"),this.iconShrink='<svg t="1655692195637" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3054" width="100%" height="100%"><path d="M576 448l416 0-160-160 192-192-96-96-192 192-160-160z" p-id="3055"></path><path d="M576 576l0 416 160-160 192 192 96-96-192-192 160-160z" p-id="3056"></path><path d="M448 576l-416 0 160 160-192 192 96 96 192-192 160 160z" p-id="3057"></path><path d="M448 448l0-416-160 160-192-192-96 96 192 192-160 160z" p-id="3058"></path></svg>',this.iconExit=_0x4b1c("0x115f");var _=[].concat((0,e[_0x4b1c("0xc")])(b[_0x4b1c("0x679")])),t=_.sort((function(x,c){return x-c})),i=this[_0x4b1c("0x514")];i[_0x4b1c("0x111e")]||(t=_[_0x4b1c("0x42b")]((function(x,c){return c-x})));var a=this[_0x4b1c("0x1128")],r="F"+(0,n[_0x4b1c("0x1b")])(5),o=document[_0x4b1c("0x21")](_0x4b1c("0x23"));o[_0x4b1c("0x78")]="text/css",o[_0x4b1c("0x1d6")]=_0x4b1c("0x1160")+r+_0x4b1c("0x1161")+r+_0x4b1c("0x112d")+r+_0x4b1c("0x112e")+r+_0x4b1c("0x1162")+i.bgColor+";\n            border-radius:"+i.borderRadius+_0x4b1c("0x1163")+r+_0x4b1c("0x1164")+i[_0x4b1c("0x1131")]+";\n        }\n        ."+r+_0x4b1c("0x1136")+r+_0x4b1c("0x1137")+r+" .view2d, ."+r+_0x4b1c("0x1139")+r+" .exit{\n            fill: "+i.toggleColor+";\n        }\n        ."+r+_0x4b1c("0x1165")+i[_0x4b1c("0x113b")]+_0x4b1c("0x1166")+i.focusTextColor+";\n        }\n        ."+r+_0x4b1c("0x112d")+r+_0x4b1c("0x1167")+i[_0x4b1c("0x113f")]+_0x4b1c("0x1168")+r+_0x4b1c("0x1169")+i[_0x4b1c("0xc46")]+_0x4b1c("0x1168")+r+_0x4b1c("0x116a")+i[_0x4b1c("0x113b")]+_0x4b1c("0x116b"),this[_0x4b1c("0x1142")]=r,document[_0x4b1c("0x116c")](_0x4b1c("0x116d"))[_0x4b1c("0x1d7")](o),this[_0x4b1c("0x1143")]=o[_0x4b1c("0x116e")];var f=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));f[_0x4b1c("0x4ea")]=r,f[_0x4b1c("0x23")][_0x4b1c("0x105")]="absolute",f.style[_0x4b1c("0x751")]=_0x4b1c("0x116f"),f[_0x4b1c("0x23")][_0x4b1c("0x1cb")]="block",i[_0x4b1c("0x1170")]&&(f[_0x4b1c("0x23")].display="flex"),f[_0x4b1c("0x23")][_0x4b1c("0x1d2")]=_0x4b1c("0x1d3"),i.scale&&(f.style.transform=_0x4b1c("0x1171")+i[_0x4b1c("0x201")]+")"),f[_0x4b1c("0x37")]("mousewheel",(function(x){x.stopPropagation()}));var l=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));l[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=a+"px",l.style.height=a+"px",l.style[_0x4b1c("0x1d0")]=_0x4b1c("0x114b"),i[_0x4b1c("0x1170")]&&(l[_0x4b1c("0x23")][_0x4b1c("0xf7a")]=_0x4b1c("0xd41")),l[_0x4b1c("0x23")][_0x4b1c("0x114c")]=_0x4b1c("0x114d"),l[_0x4b1c("0x23")][_0x4b1c("0x1d2")]=_0x4b1c("0x1d3"),l[_0x4b1c("0x4ea")]="layersToggle";var d=b.visibleFloorNums.length==b.floorNums.length;b[_0x4b1c("0x3e")].mode==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?x[_0x4b1c("0x1172")]=d:2==b[_0x4b1c("0x3e")][_0x4b1c("0x47")].buildingFocusMode&&(x[_0x4b1c("0x1172")]=!0);var u=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));u[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_0x4b1c("0x1ca"),u[_0x4b1c("0x23")].height=_0x4b1c("0x1ca"),u[_0x4b1c("0x4ea")]=_0x4b1c("0xa72"),u[_0x4b1c("0x23")][_0x4b1c("0x1cb")]=d?"inline-block":_0x4b1c("0x60b"),u[_0x4b1c("0x1d6")]=this[_0x4b1c("0x1173")],l[_0x4b1c("0x1d7")](u),this.$layersToggle=l,this[_0x4b1c("0x1174")]=u;var h=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));h.style.width=_0x4b1c("0x1ca"),h.style[_0x4b1c("0x1a3")]=_0x4b1c("0x1ca"),h.style[_0x4b1c("0x1cb")]=d?"none":"inline-block",h[_0x4b1c("0x1d6")]=this[_0x4b1c("0x115a")],h[_0x4b1c("0x4ea")]=_0x4b1c("0xe41");var g=1==t[_0x4b1c("0x0")];l[_0x4b1c("0x1d7")](h),this.layerImage=h,l.addEventListener(_0x4b1c("0x982"),(function(x){x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")]()})),l[_0x4b1c("0x37")]("mouseup",(function(c){x[_0x4b1c("0x1119")]||(c.preventDefault(),c[_0x4b1c("0x379")](),x.setAllFloorState(!x.allFloorsState))})),l.addEventListener("touchstart",(function(c){x[_0x4b1c("0x1119")]||(c[_0x4b1c("0x4d8")](),c.stopPropagation())})),l[_0x4b1c("0x37")](_0x4b1c("0xbfa"),(function(c){c.preventDefault(),c[_0x4b1c("0x379")](),x[_0x4b1c("0x1175")](!x[_0x4b1c("0x1172")])})),g&&(l[_0x4b1c("0x23")].display="none"),this[_0x4b1c("0x1176")]=c.viewMode_;var v=document[_0x4b1c("0x21")]("div");v[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=a+"px",v.style.height=a+"px",v[_0x4b1c("0x23")][_0x4b1c("0x1d0")]=_0x4b1c("0x114b"),v[_0x4b1c("0x23")].cursor=_0x4b1c("0x114d"),v[_0x4b1c("0x23")].boxSizing=_0x4b1c("0x1d3"),v.className=_0x4b1c("0x1177");var p="2D"==this[_0x4b1c("0x1176")],m=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));m[_0x4b1c("0x23")][_0x4b1c("0x1c9")]="100%",m[_0x4b1c("0x23")].height=_0x4b1c("0x1ca"),m[_0x4b1c("0x4ea")]="view2d",m[_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c(p?"0x1125":"0x60b"),m[_0x4b1c("0x1d6")]=this[_0x4b1c("0x1156")],v[_0x4b1c("0x1d7")](m),this[_0x4b1c("0x1150")]=m;var A=document[_0x4b1c("0x21")]("div");A[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_0x4b1c("0x1ca"),A[_0x4b1c("0x23")].height="100%",A.style[_0x4b1c("0x1cb")]=p?"none":_0x4b1c("0x1125"),A.innerHTML=this[_0x4b1c("0x1158")],A[_0x4b1c("0x4ea")]="view3d",v[_0x4b1c("0x1d7")](A),this[_0x4b1c("0x1152")]=A,v[_0x4b1c("0x37")](_0x4b1c("0x982"),(function(x){x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")]()})),v[_0x4b1c("0x37")]("mouseup",(function(c){x.isTapping||(c[_0x4b1c("0x4d8")](),c[_0x4b1c("0x379")](),x[_0x4b1c("0x1178")]())})),v.addEventListener(_0x4b1c("0xbf8"),(function(c){x[_0x4b1c("0x1119")]||(c[_0x4b1c("0x4d8")](),c[_0x4b1c("0x379")]())})),v[_0x4b1c("0x37")](_0x4b1c("0xbfa"),(function(c){c.preventDefault(),c[_0x4b1c("0x379")](),x[_0x4b1c("0x1178")]()})),i[_0x4b1c("0x1179")]&&f[_0x4b1c("0x1d7")](v),i[_0x4b1c("0x117a")]&&f.appendChild(l),!g&&i[_0x4b1c("0x117b")]&&this.createExpandBtn(f),this.$box=f,this.configs.exitBtn&&c[_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&this[_0x4b1c("0x117c")]();var y=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));y[_0x4b1c("0x4ea")]=_0x4b1c("0x117d"),i.isLayoutRow?y[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_0x4b1c("0x335"):y[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=a+"px",y[_0x4b1c("0x23")][_0x4b1c("0x73e")]="hidden",y[_0x4b1c("0x23")][_0x4b1c("0xd44")]=_0x4b1c("0x60b"),y[_0x4b1c("0x23")][_0x4b1c("0x1cb")]="flex",y[_0x4b1c("0x23")].alignItems="center",y[_0x4b1c("0x23")][_0x4b1c("0x1cc")]=_0x4b1c("0x12d"),y.style.perspective=_0x4b1c("0x117e"),y.style[_0x4b1c("0x395")]=_0x4b1c("0x117e"),y[_0x4b1c("0x23")][_0x4b1c("0x117f")]=_0x4b1c("0x117e"),y[_0x4b1c("0x23")][_0x4b1c("0x1180")]="rgba(0,0,0,0)",y[_0x4b1c("0x23")][_0x4b1c("0x1181")]=_0x4b1c("0x1182"),y.style["-webkit-box-align"]=_0x4b1c("0x12d");var C=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));this[_0x4b1c("0x1147")]=C,C[_0x4b1c("0x23")][_0x4b1c("0x105")]=_0x4b1c("0x1183"),C[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_0x4b1c("0x1ca"),i[_0x4b1c("0x111e")]?C[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=a+"px":(C[_0x4b1c("0x23")].height=_0x4b1c("0x1ca"),y[_0x4b1c("0x23")][_0x4b1c("0x1d0")]=_0x4b1c("0x1184"),i[_0x4b1c("0x1170")]&&(y[_0x4b1c("0x23")][_0x4b1c("0x1d0")]="2px 0")),this[_0x4b1c("0x1148")]=y,this[_0x4b1c("0x1146")](i[_0x4b1c("0x111e")]?this[_0x4b1c("0x514")][_0x4b1c("0x111f")]:t.length),i[_0x4b1c("0x111e")]&&(C[_0x4b1c("0x23")]["transform-style"]="preserve-3d",C.style["-webkit-transform-style"]=_0x4b1c("0x1185")),C[_0x4b1c("0x4ea")]=_0x4b1c("0x1186"),i[_0x4b1c("0x1170")]&&(C.style[_0x4b1c("0x1cb")]=_0x4b1c("0xd3e"));var I=0,E=5==this[_0x4b1c("0x514")][_0x4b1c("0x111f")]?2:1;t[_0x4b1c("0x0")]>=3&&(E+=2);var w=Math[_0x4b1c("0x2f6")](360/(t[_0x4b1c("0x0")]+E),25.714);this.angleStep=w;var T=b[_0x4b1c("0x575")];if(!g){var k=void 0;if(this[_0x4b1c("0x514")][_0x4b1c("0x111e")]){k=w<25.714?8*t[_0x4b1c("0x0")]:3==this[_0x4b1c("0x514")][_0x4b1c("0x111f")]?100:110;var S=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));S[_0x4b1c("0x4e5")][_0x4b1c("0xdd")](_0x4b1c("0x1187")),S[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=a+"px",S.style.lineHeight=a+"px",S[_0x4b1c("0x23")][_0x4b1c("0x105")]=_0x4b1c("0x73d"),S[_0x4b1c("0x23")].bottom="unset",S.style[_0x4b1c("0x1d2")]="border-box",S[_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0xd3e"),S[_0x4b1c("0x23")].justifyContent=_0x4b1c("0x12d"),S.style[_0x4b1c("0x1cd")]="center",S[_0x4b1c("0x23")][_0x4b1c("0x114c")]=_0x4b1c("0x114d"),S[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=a+"px";var M=I-w;S[_0x4b1c("0x23")][_0x4b1c("0x1188")]="rotateX("+M+_0x4b1c("0x1189")+k+"px)",S[_0x4b1c("0x23")][_0x4b1c("0x4c5")]="rotateX("+M+_0x4b1c("0x1189")+k+_0x4b1c("0x4f0"),S[_0x4b1c("0x23")].backfaceVisibility=_0x4b1c("0xb9b"),S[_0x4b1c("0x23")][_0x4b1c("0x118a")]=_0x4b1c("0xb9b"),S[_0x4b1c("0x23")][_0x4b1c("0x118b")]=_0x4b1c("0xb9b"),S[_0x4b1c("0x23")][_0x4b1c("0x118c")]=_0x4b1c("0xb9b"),S[_0x4b1c("0x1d4")]("angle",-w),S[_0x4b1c("0x1d6")]=this[_0x4b1c("0x115c")],S[_0x4b1c("0x118d")][0][_0x4b1c("0x23")][_0x4b1c("0x4c5")]=_0x4b1c("0x118e"),S[_0x4b1c("0x118d")][0][_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_0x4b1c("0x118f"),S[_0x4b1c("0x118d")][0][_0x4b1c("0x23")][_0x4b1c("0x1a3")]="40%",S.addEventListener(_0x4b1c("0x982"),(function(x){x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")]()})),S[_0x4b1c("0x37")](_0x4b1c("0x984"),(function(c){if(!(x[_0x4b1c("0x111a")]>1)){var b=c[_0x4b1c("0x1190")][_0x4b1c("0x435")](_0x4b1c("0x258"));x[_0x4b1c("0x1191")](b),x[_0x4b1c("0x1192")](b),c[_0x4b1c("0x379")](),c[_0x4b1c("0x4d8")]()}})),S.addEventListener(_0x4b1c("0xbfa"),(function(c){if(!(x.tapCount>1)){var b=c[_0x4b1c("0x1190")][_0x4b1c("0x435")](_0x4b1c("0x258"));x[_0x4b1c("0x1191")](b),x[_0x4b1c("0x1192")](b),c[_0x4b1c("0x379")](),c[_0x4b1c("0x4d8")]()}})),C[_0x4b1c("0x1d7")](S)}else k=60;for(var R=0;R<t[_0x4b1c("0x0")];R++){var L=t[R],H=b.getFloor(L);if(H){var D=H.floorAlias,O=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));O[_0x4b1c("0x4ea")]="floor-item",O[_0x4b1c("0x23")].height=a+"px",O[_0x4b1c("0x23")][_0x4b1c("0x357")]=a+"px",O[_0x4b1c("0x23")][_0x4b1c("0x35c")]=_0x4b1c("0xbc6"),O[_0x4b1c("0x23")][_0x4b1c("0x1d2")]=_0x4b1c("0x1d3"),O.style[_0x4b1c("0x1cb")]=_0x4b1c("0xd3e"),O[_0x4b1c("0x23")][_0x4b1c("0x1cc")]=_0x4b1c("0x12d"),O.style[_0x4b1c("0x1cd")]=_0x4b1c("0x12d"),O[_0x4b1c("0x23")][_0x4b1c("0x114c")]=_0x4b1c("0x114d"),O[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=a+"px",i.scrollMode&&(O[_0x4b1c("0x23")][_0x4b1c("0x1188")]=_0x4b1c("0x1193")+I+_0x4b1c("0x1189")+k+_0x4b1c("0x4f0"),O[_0x4b1c("0x23")][_0x4b1c("0x4c5")]=_0x4b1c("0x1193")+I+_0x4b1c("0x1189")+k+"px)",O[_0x4b1c("0x23")][_0x4b1c("0x1194")]=_0x4b1c("0xb9b"),O[_0x4b1c("0x23")][_0x4b1c("0x118a")]=_0x4b1c("0xb9b"),O[_0x4b1c("0x23")][_0x4b1c("0x118b")]="hidden",O[_0x4b1c("0x23")][_0x4b1c("0x118c")]=_0x4b1c("0xb9b"),O.style[_0x4b1c("0x105")]="absolute",O[_0x4b1c("0x1d4")](_0x4b1c("0x258"),-I)),T==L&&(this[_0x4b1c("0x1191")](-I),O[_0x4b1c("0x4ea")]+=_0x4b1c("0x1195")),O[_0x4b1c("0x1d4")](_0x4b1c("0x12e"),L);var P=document[_0x4b1c("0x21")](_0x4b1c("0xd3f"));P.innerText=D,P[_0x4b1c("0x23")][_0x4b1c("0x1196")]="bolder",P[_0x4b1c("0x23")].width="80%",P.style.height="80%",P[_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0xd3e"),P[_0x4b1c("0x23")][_0x4b1c("0x1cc")]=_0x4b1c("0x12d"),P[_0x4b1c("0x23")][_0x4b1c("0x1cd")]=_0x4b1c("0x12d"),P[_0x4b1c("0x23")].textAlign="center",P[_0x4b1c("0x23")][_0x4b1c("0x357")]=_0x4b1c("0x1ca"),P[_0x4b1c("0x23")][_0x4b1c("0x1197")]=_0x4b1c("0x1198"),P[_0x4b1c("0x23")].borderRadius=_0x4b1c("0x1ca"),P[_0x4b1c("0x23")][_0x4b1c("0x73e")]=_0x4b1c("0xb9b"),P[_0x4b1c("0x23")][_0x4b1c("0x4cd")]=_0x4b1c("0x1199"),P.style["-webkit-transition"]=_0x4b1c("0x1199"),P[_0x4b1c("0x4ea")]="floor-item-devide",O[_0x4b1c("0x1d7")](P),C[_0x4b1c("0x1d7")](O),I+=w}else s[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:"ESScrollFloorControl: "+b.id+" 找不到楼层: "+L,level:_0x4b1c("0xaaa")})}if(i[_0x4b1c("0x111e")]){var N=document[_0x4b1c("0x21")]("div");N[_0x4b1c("0x4e5")][_0x4b1c("0xdd")](_0x4b1c("0x1187")),N[_0x4b1c("0x23")].height=a+"px",N.style[_0x4b1c("0x357")]=a+"px",N[_0x4b1c("0x23")][_0x4b1c("0x105")]="absolute",N.style.bottom=_0x4b1c("0xbc6"),N[_0x4b1c("0x23")][_0x4b1c("0x1d2")]="border-box",N[_0x4b1c("0x23")].display=_0x4b1c("0xd3e"),N[_0x4b1c("0x23")][_0x4b1c("0x1cc")]=_0x4b1c("0x12d"),N.style[_0x4b1c("0x1cd")]=_0x4b1c("0x12d"),N[_0x4b1c("0x23")].cursor=_0x4b1c("0x114d"),N[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=a+"px",N[_0x4b1c("0x23")][_0x4b1c("0x1188")]="rotateX("+I+_0x4b1c("0x1189")+k+_0x4b1c("0x4f0"),N[_0x4b1c("0x23")].transform=_0x4b1c("0x1193")+I+_0x4b1c("0x1189")+k+_0x4b1c("0x4f0"),N[_0x4b1c("0x23")].backfaceVisibility=_0x4b1c("0xb9b"),N[_0x4b1c("0x23")][_0x4b1c("0x118a")]=_0x4b1c("0xb9b"),N[_0x4b1c("0x23")]["-moz-backface-visibility"]="hidden",N[_0x4b1c("0x23")]["-ms-backface-visibility"]=_0x4b1c("0xb9b"),N[_0x4b1c("0x1d4")](_0x4b1c("0x258"),-(I-2*w)),N[_0x4b1c("0x1d6")]=this[_0x4b1c("0x115c")],N.childNodes[0].style[_0x4b1c("0x4c5")]=_0x4b1c("0x119a"),N[_0x4b1c("0x118d")][0][_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_0x4b1c("0x118f"),N[_0x4b1c("0x118d")][0].style.height="40%",N[_0x4b1c("0x37")]("mousedown",(function(x){x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")]()})),N[_0x4b1c("0x37")](_0x4b1c("0x984"),(function(c){if(!(x.tapCount>1)){var b=c[_0x4b1c("0x1190")].getAttribute("angle");x[_0x4b1c("0x1191")](b),x.toggleTargetClass(b),c[_0x4b1c("0x379")](),c[_0x4b1c("0x4d8")]()}})),N[_0x4b1c("0x37")](_0x4b1c("0xbfa"),(function(c){if(!(x[_0x4b1c("0x111a")]>1)){var b=c[_0x4b1c("0x1190")].getAttribute(_0x4b1c("0x258"));x.setTransformAngle(b),x[_0x4b1c("0x1192")](b),c[_0x4b1c("0x379")](),c[_0x4b1c("0x4d8")]()}})),C[_0x4b1c("0x1d7")](N)}this[_0x4b1c("0x119b")]=-1*(I-w),this.$controlWrapper[_0x4b1c("0x1d7")](C),f.appendChild(y)}c.mapView[_0x4b1c("0xbd5")][_0x4b1c("0x73f")][_0x4b1c("0x1d7")](f),this[_0x4b1c("0x22e")](f),i[_0x4b1c("0x111e")]&&(y.onmousewheel=this[_0x4b1c("0x119c")][_0x4b1c("0xe")](this));for(var F=document.getElementsByClassName(_0x4b1c("0x119d")),B=function(c){if(x[_0x4b1c("0x111b")]=!0,!(x.tapCount>1)){var b=c[_0x4b1c("0x1190")];if(i.scrollMode){var _=b[_0x4b1c("0x435")](_0x4b1c("0x258"));x[_0x4b1c("0x1191")](_),x.toggleTargetClass(_)}else{var e=b.getAttribute(_0x4b1c("0x12e"));x[_0x4b1c("0x119e")](e),x[_0x4b1c("0xa06")](e)}c.stopPropagation(),c.preventDefault()}},z=function(c){if(x[_0x4b1c("0x111b")]=!0,!(x[_0x4b1c("0x111a")]>1)){var b=c.currentTarget;if(i[_0x4b1c("0x111e")]){var _=b[_0x4b1c("0x435")](_0x4b1c("0x258")),e=x[_0x4b1c("0x1147")];e[_0x4b1c("0x4e5")][_0x4b1c("0x4e6")](_0x4b1c("0xa45"))||e[_0x4b1c("0x4e5")][_0x4b1c("0xdd")](_0x4b1c("0xa45")),x.setTransformAngle(_),x[_0x4b1c("0x1192")](_)}else{var t=b[_0x4b1c("0x435")]("fnum");x[_0x4b1c("0x119e")](t),x[_0x4b1c("0xa06")](t)}c.stopPropagation(),c.preventDefault()}},U=0;U<F.length;U++){var V=F[U];V.addEventListener(_0x4b1c("0x982"),(function(x){x[_0x4b1c("0x4d8")](),x.stopPropagation()})),V[_0x4b1c("0x37")](_0x4b1c("0x984"),B),V[_0x4b1c("0x37")](_0x4b1c("0xbfa"),z)}this[_0x4b1c("0x339")]?y[_0x4b1c("0x37")](_0x4b1c("0x982"),this[_0x4b1c("0xbfd")][_0x4b1c("0xe")](this),!1):(i[_0x4b1c("0x111e")]&&(y[_0x4b1c("0x37")](_0x4b1c("0xbf8"),this[_0x4b1c("0x4ff")][_0x4b1c("0xe")](this),!1),y[_0x4b1c("0x37")](_0x4b1c("0xbf9"),this[_0x4b1c("0x119f")][_0x4b1c("0xe")](this),!1)),y[_0x4b1c("0x37")]("touchend",this[_0x4b1c("0x11a0")][_0x4b1c("0xe")](this),!1)),b.on("focusFloorNumChanged",(function(c){x.disposed||(x.triggerSkip?x[_0x4b1c("0x111b")]=!1:x[_0x4b1c("0x119e")](c))})),c.on(_0x4b1c("0x9e2"),(function(c){x[_0x4b1c("0x1120")]||(x[_0x4b1c("0x111b")]?x[_0x4b1c("0x111b")]=!1:x.setViewModeState(c))})),b.on(_0x4b1c("0x17a"),(function(c){x.disposed||(c[_0x4b1c("0x0")]==b[_0x4b1c("0x679")].length?x[_0x4b1c("0x1175")](!0,!0):x[_0x4b1c("0x1175")](!1,!0))})),x[_0x4b1c("0x514")][_0x4b1c("0x111e")]&&this[_0x4b1c("0x11a1")](),this.configs[_0x4b1c("0x11a2")]&&this[_0x4b1c("0x514")][_0x4b1c("0x11a2")](this),this[_0x4b1c("0x11a3")]=!0}},{key:_0x4b1c("0x11a1"),value:function(){if(5==this[_0x4b1c("0x514")][_0x4b1c("0x111f")]&&this.building[_0x4b1c("0x679")][_0x4b1c("0x0")]>=5){var x=this.$scroller[_0x4b1c("0xf1")],c=this[_0x4b1c("0x1147")].querySelector(_0x4b1c("0x11a4")),b=Array[_0x4b1c("0xf")][_0x4b1c("0x114")][_0x4b1c("0x2")](x,c),_=c[_0x4b1c("0x4df")](),e=[],t=(e=x[b+1]&&x[b+2]?[x[b+1],x[b+2]]:[x[b-1],x[b-2]])[0][_0x4b1c("0x4df")](),i=e[1][_0x4b1c("0x4df")](),a=_[_0x4b1c("0x1a3")]/2+t[_0x4b1c("0x1a3")]+i[_0x4b1c("0x1a3")];this[_0x4b1c("0x1148")].style[_0x4b1c("0x1a3")]=2*a+"px"}}},{key:_0x4b1c("0x117c"),value:function(){var x=this,c=this.buttonSize,b=document.createElement(_0x4b1c("0x1c8"));b.style[_0x4b1c("0x1c9")]=c+"px",b[_0x4b1c("0x23")].height=c+"px",b[_0x4b1c("0x23")][_0x4b1c("0x1d0")]=_0x4b1c("0x114b"),this[_0x4b1c("0x514")][_0x4b1c("0x1170")]&&(b[_0x4b1c("0x23")][_0x4b1c("0xf7a")]=_0x4b1c("0xd41")),b[_0x4b1c("0x23")][_0x4b1c("0x114c")]=_0x4b1c("0x114d"),b[_0x4b1c("0x23")].boxSizing="border-box",b[_0x4b1c("0x4ea")]=_0x4b1c("0x114e");var _=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));_[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_0x4b1c("0x1ca"),_[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=_0x4b1c("0x1ca"),_[_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0x1125"),_[_0x4b1c("0x4ea")]=_0x4b1c("0xd15"),_[_0x4b1c("0x1d6")]=this[_0x4b1c("0x11a5")],b.appendChild(_),b[_0x4b1c("0x37")](_0x4b1c("0x982"),(function(x){x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")]()})),b[_0x4b1c("0x37")](_0x4b1c("0x984"),(function(c){if(0==x[_0x4b1c("0x3e")][_0x4b1c("0xa02")]){c.preventDefault(),c[_0x4b1c("0x379")]();var b=x.building;b.map.once(_0x4b1c("0xb05"),(function(){x[_0x4b1c("0xf3")]()})),b[_0x4b1c("0x3e")].closeBuildingById(b.id)}})),b.addEventListener(_0x4b1c("0xbf8"),(function(c){var b=x[_0x4b1c("0x54")];c[_0x4b1c("0x379")](),c[_0x4b1c("0x4d8")](),b[_0x4b1c("0x3e")][_0x4b1c("0xaf6")](b.id)&&x[_0x4b1c("0xf3")]()})),this[_0x4b1c("0x11a6")]=b,this[_0x4b1c("0x1126")].appendChild(b)}},{key:_0x4b1c("0x11a7"),value:function(x){"2D"==x?(this.view2d[_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0x1125"),this[_0x4b1c("0x1152")][_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0x60b")):(this[_0x4b1c("0x1152")].style[_0x4b1c("0x1cb")]=_0x4b1c("0x1125"),this.view2d[_0x4b1c("0x23")].display=_0x4b1c("0x60b")),this[_0x4b1c("0x1176")]=x}},{key:_0x4b1c("0x1178"),value:function(x){var c="3D"==this[_0x4b1c("0x1176")]?"2D":"3D";this[_0x4b1c("0x11a7")](c),this[_0x4b1c("0x1172")]&&this[_0x4b1c("0x1175")](!1,!1),!x&&this[_0x4b1c("0x11a8")](c)}},{key:_0x4b1c("0x11a8"),value:function(x){window.esmap[_0x4b1c("0xb6f")]?esmap[_0x4b1c("0x6a7")][_0x4b1c("0x388")]=x:this[_0x4b1c("0x3e")].viewMode=x}},{key:_0x4b1c("0x1175"),value:function(x,c){var b=this[_0x4b1c("0x54")],_=this.map[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]||1==this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xd87")];(this[_0x4b1c("0x3e")].mode==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xd0d")]===esmap[_0x4b1c("0xc58")][_0x4b1c("0xd10")]&&(_=!0),x!=this[_0x4b1c("0x1172")]&&this.layerImage)&&(x?("2D"!=this[_0x4b1c("0x1176")]&&this.viewModeState!=_0x4b1c("0x35b")||this[_0x4b1c("0x11a8")]("3D"),_&&!c&&(b[_0x4b1c("0x137")]=b[_0x4b1c("0x679")]),this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xd87")]===esmap[_0x4b1c("0x622")][_0x4b1c("0x11a9")]&&(b[_0x4b1c("0x575")]=1),this[_0x4b1c("0x11aa")].style[_0x4b1c("0x1cb")]=_0x4b1c("0x60b"),this[_0x4b1c("0x1174")][_0x4b1c("0x23")][_0x4b1c("0x1cb")]="inline-block",this[_0x4b1c("0x1172")]=!0):(_&&!c&&(b[_0x4b1c("0x137")]=[b[_0x4b1c("0x575")]]),this[_0x4b1c("0x1174")].style.display=_0x4b1c("0x60b"),this[_0x4b1c("0x11aa")].style[_0x4b1c("0x1cb")]="inline-block",this[_0x4b1c("0x1172")]=!1))}},{key:"onScroll",value:function(x){window[_0x4b1c("0x26f")](this.timer2);var c=this,b=this[_0x4b1c("0x1147")],_=0;x[_0x4b1c("0x11ab")]?x[_0x4b1c("0x11ab")]<0?_+=10:_-=10:x[_0x4b1c("0x3d")];var e=-1*b.style[_0x4b1c("0x4c5")][_0x4b1c("0x2a6")](/[0-9]\d*/)[0],t=this[_0x4b1c("0x11ac")](e+_);b.style[_0x4b1c("0x4c5")]=_0x4b1c("0x1193")+t+_0x4b1c("0x11ad"),this.taped||(this[_0x4b1c("0x1117")]=!0),c[_0x4b1c("0x1116")]=setTimeout((function(){c[_0x4b1c("0xbff")][_0x4b1c("0x2")](c)}),300)}},{key:"getActiveAngle",value:function(){for(var x=document[_0x4b1c("0x11ae")](_0x4b1c("0x119d")),c=0;c<x[_0x4b1c("0x0")];c++){var b=x[c];if(b.classList.contains(_0x4b1c("0xce1")))return 1*b[_0x4b1c("0x435")]("angle")}}},{key:_0x4b1c("0x1191"),value:function(x){this[_0x4b1c("0x514")][_0x4b1c("0x111e")]&&(this[_0x4b1c("0x1147")].style[_0x4b1c("0x4c5")]=_0x4b1c("0x1193")+x+_0x4b1c("0x11ad"))}},{key:_0x4b1c("0x11af"),value:function(){return-1*this.$scroller[_0x4b1c("0x23")][_0x4b1c("0x4c5")][_0x4b1c("0x2a6")](/[0-9]\d*/)[0]}},{key:"ontouchstart",value:function(x){this.isTapping=!0,x[_0x4b1c("0x379")](),this[_0x4b1c("0x111a")]=0,this[_0x4b1c("0x1117")]=!0,this[_0x4b1c("0x1118")]=x[_0x4b1c("0xc2d")]?x[_0x4b1c("0xc2d")][0][_0x4b1c("0x972")]:x.pageY,this[_0x4b1c("0x11b0")]=this.getCurrentAngle()}},{key:_0x4b1c("0xbfd"),value:function(x){x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")]()}},{key:_0x4b1c("0x119f"),value:function(x){if(!this.disposed&&(x.preventDefault(),x.stopPropagation(),this[_0x4b1c("0x111a")]++,this[_0x4b1c("0x1117")])){var c=this[_0x4b1c("0x1147")];c[_0x4b1c("0x4e5")][_0x4b1c("0x4e6")]("smooth")&&c[_0x4b1c("0x4e5")][_0x4b1c("0x2ea")](_0x4b1c("0xa45"));var b=x[_0x4b1c("0xc2d")]?x[_0x4b1c("0xc2d")][0].pageY:x[_0x4b1c("0x972")];b>this[_0x4b1c("0x1118")]?1:-1;var _=this[_0x4b1c("0x1118")]-b,e=this[_0x4b1c("0x11ac")](_+this.tapedAngle);this[_0x4b1c("0x1191")](e)}}},{key:_0x4b1c("0xbfe"),value:function(x){if(!this.disposed&&this[_0x4b1c("0x1117")]){x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")](),this.tapCount++;var c=this.$scroller;c.classList[_0x4b1c("0x4e6")]("smooth")&&c[_0x4b1c("0x4e5")][_0x4b1c("0x2ea")](_0x4b1c("0xa45"));var b=x[_0x4b1c("0xc2d")]?x[_0x4b1c("0xc2d")][0][_0x4b1c("0x972")]:x[_0x4b1c("0x972")],_=this[_0x4b1c("0x1118")]-b,e=this[_0x4b1c("0x11ac")](_+this[_0x4b1c("0x11b0")]);this.setTransformAngle(e)}}},{key:_0x4b1c("0x11a0"),value:function(x){if(!this[_0x4b1c("0x1120")]){x&&(x[_0x4b1c("0x379")](),x.preventDefault());var c=this.$scroller;c.classList[_0x4b1c("0x4e6")](_0x4b1c("0xa45"))||c[_0x4b1c("0x4e5")].add(_0x4b1c("0xa45")),this.taped=!1,this[_0x4b1c("0x1118")]=null,this[_0x4b1c("0x11b0")]=null,this[_0x4b1c("0x11b1")](),this[_0x4b1c("0x1119")]=!1}}},{key:"onmouseup",value:function(x){if(!this.disposed&&this[_0x4b1c("0x1117")]){x&&(x[_0x4b1c("0x379")](),x.preventDefault());var c=this[_0x4b1c("0x1147")];c[_0x4b1c("0x4e5")][_0x4b1c("0x4e6")]("smooth")||c[_0x4b1c("0x4e5")][_0x4b1c("0xdd")](_0x4b1c("0xa45")),this[_0x4b1c("0x1117")]=!1,this[_0x4b1c("0x1118")]=null,this[_0x4b1c("0x11b0")]=null,this[_0x4b1c("0x11b1")](),this[_0x4b1c("0x1119")]=!1}}},{key:_0x4b1c("0x11ac"),value:function(x){return x>0?x=0:x<this[_0x4b1c("0x119b")]&&(x=this[_0x4b1c("0x119b")]),x}},{key:"toggleTargetClassByFnum",value:function(x){for(var c=document[_0x4b1c("0x11ae")](_0x4b1c("0x119d")),b=0;b<c.length;b++){var _=c[b];if(1*_.getAttribute(_0x4b1c("0x12e"))==x){if(!_[_0x4b1c("0x4e5")][_0x4b1c("0x4e6")](_0x4b1c("0xce1"))){var e=_[_0x4b1c("0x435")]("angle");_[_0x4b1c("0x4e5")][_0x4b1c("0xdd")](_0x4b1c("0xce1")),this[_0x4b1c("0x1191")](e)}}else _[_0x4b1c("0x4e5")].contains(_0x4b1c("0xce1"))&&_[_0x4b1c("0x4e5")][_0x4b1c("0x2ea")]("active")}}},{key:_0x4b1c("0x1192"),value:function(x){for(var c=document[_0x4b1c("0x11ae")](_0x4b1c("0x119d")),b=!1,_=0;_<c.length;_++){var e=c[_],t=e[_0x4b1c("0x435")]("angle");if(Math[_0x4b1c("0x23d")]((0,r[_0x4b1c("0x11b2")])(x))==Math[_0x4b1c("0x23d")]((0,r[_0x4b1c("0x11b2")])(t))){if(b=!0,!e.classList.contains(_0x4b1c("0xce1"))){var i=e[_0x4b1c("0x435")](_0x4b1c("0x12e"));e.classList[_0x4b1c("0xdd")](_0x4b1c("0xce1")),this[_0x4b1c("0xa06")](i)}}else e.classList[_0x4b1c("0x4e6")](_0x4b1c("0xce1"))&&e.classList.remove("active")}if(!b&&x>200){var a=c[c[_0x4b1c("0x0")]-1];if(!a[_0x4b1c("0x4e5")].contains(_0x4b1c("0xce1"))){a[_0x4b1c("0x4e5")][_0x4b1c("0xdd")](_0x4b1c("0xce1"));var n=a[_0x4b1c("0x435")](_0x4b1c("0x12e"));this[_0x4b1c("0xa06")](n)}}}},{key:_0x4b1c("0xa06"),value:function(x){if(this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x11b3")])this.map.fire(_0x4b1c("0x11b4"),{bid:this[_0x4b1c("0x54")].id,fnum:x});else{x*=1;var c=this[_0x4b1c("0x54")];if(this[_0x4b1c("0x54")][_0x4b1c("0x3e")][_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]){var b=c.floorNums[_0x4b1c("0x42b")]((function(x,c){return x-c})).slice(0,x);if(2==this[_0x4b1c("0x54")].options.focusMode){var _=this[_0x4b1c("0x54")][_0x4b1c("0x47")][_0x4b1c("0xcb1")];b=x>_?b[_0x4b1c("0x2db")]((function(x){return x>_})):b[_0x4b1c("0x2db")]((function(x){return x<=_})),c[_0x4b1c("0x137")]=b}else c.visibleFloorNums=[x]}else this[_0x4b1c("0x1172")]||(c[_0x4b1c("0x137")]=[x]);c[_0x4b1c("0x575")]=x}}},{key:_0x4b1c("0x11b1"),value:function(){for(var x=1*this[_0x4b1c("0x1147")].style[_0x4b1c("0x4c5")][_0x4b1c("0x2a6")](/[0-9]\d*/)[0],c=document.getElementsByClassName(_0x4b1c("0x119d")),b=null,_=0;_<c[_0x4b1c("0x0")];_++){var e=c[_][_0x4b1c("0x435")](_0x4b1c("0x258"));if(b){var t=Math.abs(Math[_0x4b1c("0x23d")](1*e)-Math[_0x4b1c("0x23d")](x));Math[_0x4b1c("0x23d")](t)<Math.abs(b[_0x4b1c("0x695")])&&(b[_0x4b1c("0x695")]=t,b.ind=_,b[_0x4b1c("0x258")]=1*e)}else b={dis:Math[_0x4b1c("0x23d")](Math[_0x4b1c("0x23d")](1*e)-Math[_0x4b1c("0x23d")](x)),ind:_,angle:1*e}}this[_0x4b1c("0x1191")](b[_0x4b1c("0x258")]),this[_0x4b1c("0x1192")](b.angle)}},{key:_0x4b1c("0x1122"),value:function(x){if(this.map[_0x4b1c("0x9e5")].length>0){var c=!0,b=!0,e=!1,t=void 0;try{for(var i,a=(0,_[_0x4b1c("0xc")])(this.map._cityLocMarkers);!(b=(i=a[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);b=!0){if(i[_0x4b1c("0x13a")].bid_===x[_0x4b1c("0x12b")]){c=!1;break}}}catch(x){e=!0,t=x}finally{try{!b&&a[_0x4b1c("0x28a")]&&a.return()}finally{if(e)throw t}}this[_0x4b1c("0x11a6")][_0x4b1c("0x23")][_0x4b1c("0x1cb")]=c?_0x4b1c("0x11b5"):"none"}}},{key:"x",get:function(){return this[_0x4b1c("0x514")][_0x4b1c("0x158")].x},set:function(x){this.configs.offset.x=x,this[_0x4b1c("0x22e")](this[_0x4b1c("0x1126")])}},{key:"y",get:function(){return this[_0x4b1c("0x514")].offset.y},set:function(x){this.configs[_0x4b1c("0x158")].y=x,this[_0x4b1c("0x22e")](this[_0x4b1c("0x1126")])}},{key:_0x4b1c("0x105"),get:function(){return this[_0x4b1c("0x514")][_0x4b1c("0x105")]},set:function(x){this[_0x4b1c("0x514")][_0x4b1c("0x105")]=x,this.setPosition(this[_0x4b1c("0x1126")])}},{key:"visible",set:function(x){this.$box&&(this[_0x4b1c("0x1126")].style[_0x4b1c("0x1cb")]=_0x4b1c(x?"0x11b5":"0x60b"))},get:function(){return!(!this[_0x4b1c("0x1126")]||this[_0x4b1c("0x1126")].style[_0x4b1c("0x1cb")]!=_0x4b1c("0x11b5"))}}]),x}();c[_0x4b1c("0xc")]=f},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(112));function i(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var a=function(){function x(c,b){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x535")]=new esmap.ESControlOptions(b),_0x4b1c("0x140")==this[_0x4b1c("0x535")][_0x4b1c("0xe0")]?(this.w_=42,this.h_=42,this[_0x4b1c("0x11b6")]=14):(this.w_=28,this.h_=28,this[_0x4b1c("0x11b6")]=8),this.x_=this[_0x4b1c("0x535")][_0x4b1c("0x158")].x,this.y_=this[_0x4b1c("0x535")][_0x4b1c("0x158")].y,this[_0x4b1c("0x11b7")]=this[_0x4b1c("0x535")][_0x4b1c("0x105")]?this.options_[_0x4b1c("0x105")]:4,this[_0x4b1c("0x11b8")]=20,this[_0x4b1c("0x11b9")]=10,this.right_=10,this.defaultShadow_=_0x4b1c("0x11ba"),this[_0x4b1c("0x11bb")]=_0x4b1c("0x11bc"),this[_0x4b1c("0x11bd")]=this.options_.imgURL,this.visible_=!0,c&&(this.map=c,this[_0x4b1c("0x39")](c))}return(0,e[_0x4b1c("0xc")])(x,[{key:"init",value:function(x){var c=(0,t[_0x4b1c("0xc")])(_0x4b1c("0x1c8"))[_0x4b1c("0x45c")](_0x4b1c("0xbe6"),_0x4b1c("0x11be"))[_0x4b1c("0x23")]({zIndex:10,position:_0x4b1c("0x73d"),backgroundColor:_0x4b1c("0xd39"),boxShadow:this.defaultShadow_,borderRadius:this.defaultRadius_})[_0x4b1c("0x45e")],b=(0,t[_0x4b1c("0xc")])(_0x4b1c("0x1c8"))[_0x4b1c("0x45c")]("class",_0x4b1c("0x11bf")).style({padding:this[_0x4b1c("0x11b6")]+"px",cursor:_0x4b1c("0x114d"),height:this.h_}).addEvent("click",this[_0x4b1c("0x11c0")][_0x4b1c("0xe")](this))[_0x4b1c("0x45e")],_=(0,t[_0x4b1c("0xc")])("img")[_0x4b1c("0x45c")]("src",this.imgURL_+_0x4b1c("0x11c1"))[_0x4b1c("0x23")]({width:this.w_-2*this[_0x4b1c("0x11b6")]+"px",height:this.h_-2*this[_0x4b1c("0x11b6")]+"px"})[_0x4b1c("0x45e")];b[_0x4b1c("0x1d7")](_);var e=(0,t[_0x4b1c("0xc")])(_0x4b1c("0x1c8"))[_0x4b1c("0x45c")](_0x4b1c("0xbe6"),_0x4b1c("0x11c2"))[_0x4b1c("0x23")]({padding:this[_0x4b1c("0x11b6")]+"px",cursor:_0x4b1c("0x114d"),height:this.h_})[_0x4b1c("0x45d")](_0x4b1c("0xa58"),this[_0x4b1c("0xac2")][_0x4b1c("0xe")](this))[_0x4b1c("0x45e")],i=(0,t[_0x4b1c("0xc")])(_0x4b1c("0xc50")).attr("src",this[_0x4b1c("0x11bd")]+_0x4b1c("0x11c3"))[_0x4b1c("0x23")]({width:this.w_-2*this[_0x4b1c("0x11b6")]+"px",height:this.h_-2*this.padding_+"px"})[_0x4b1c("0x45e")];e[_0x4b1c("0x1d7")](i),c[_0x4b1c("0x1d7")](b),c[_0x4b1c("0x1d7")](this[_0x4b1c("0x11c4")]()),c[_0x4b1c("0x1d7")](e);var a=x[_0x4b1c("0x1c3")][_0x4b1c("0x536")][_0x4b1c("0x7af")]("canvas")[0];x[_0x4b1c("0x1c3")][_0x4b1c("0x536")][_0x4b1c("0x74b")](c,a),this[_0x4b1c("0x11c5")](c),this[_0x4b1c("0x11c6")]()}},{key:"controlPositionListener",value:function(){if(this[_0x4b1c("0x3e")]){var x=this;this[_0x4b1c("0x3e")].on(_0x4b1c("0x164"),(function(){var c=document.querySelector(".zoom-wrap");x[_0x4b1c("0x11c5")](c)}))}}},{key:_0x4b1c("0x11c5"),value:function(x,c){switch(this[_0x4b1c("0x11b7")]){case 1:(0,t.default)(x)[_0x4b1c("0x23")]({top:this.top_+this.y_+"px",left:this[_0x4b1c("0x11b9")]+this.x_+"px"});break;case 2:c=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x11c7")][_0x4b1c("0x28")]-x[_0x4b1c("0x4f2")]-60;(0,t.default)(x)[_0x4b1c("0x23")]({top:c-this.y_+"px",left:this[_0x4b1c("0x11b9")]+this.x_+"px"});break;case 3:(0,t[_0x4b1c("0xc")])(x)[_0x4b1c("0x23")]({top:this[_0x4b1c("0x11b8")]+this.y_+"px",right:this[_0x4b1c("0x11c8")]+this.x_+"px"});break;case 4:c=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x11c7")][_0x4b1c("0x28")]-x[_0x4b1c("0x4f2")]-60;(0,t[_0x4b1c("0xc")])(x).style({top:c-this.y_+"px",right:this[_0x4b1c("0x11c8")]+this.x_+"px"})}}},{key:_0x4b1c("0x11c4"),value:function(){return(0,t[_0x4b1c("0xc")])("hr")[_0x4b1c("0x23")]({height:_0x4b1c("0x11c9"),border:_0x4b1c("0x60b"),borderTop:_0x4b1c("0x11ca"),width:_0x4b1c("0x11cb"),margin:_0x4b1c("0x11cc"),filter:_0x4b1c("0x11cd")})[_0x4b1c("0x45e")]}},{key:_0x4b1c("0xac2"),value:function(x){this[_0x4b1c("0x3e")]&&this[_0x4b1c("0x3e")].scaleLevelOut(),_0x4b1c("0x1e")==typeof x&&x(this[_0x4b1c("0x11ce")])}},{key:_0x4b1c("0x11c0"),value:function(x){this[_0x4b1c("0x3e")]&&this[_0x4b1c("0x3e")][_0x4b1c("0x11c0")](),"function"==typeof x&&x(this.scalelevel)}}]),x}();c[_0x4b1c("0xc")]=a},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=v(b(47)),e=v(b(15)),t=v(b(64)),i=v(b(33)),a=v(b(22)),n=v(b(9)),r=v(b(7)),s=v(b(8)),o=v(b(2)),f=v(b(0)),l=v(b(1)),d=v(b(72)),u=b(84),h=v(b(365)),g=b(19);function v(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var p=new(d[_0x4b1c("0xc")]),m=new(d[_0x4b1c("0xc")]),A=new(d[_0x4b1c("0xc")]),y=new(d[_0x4b1c("0xc")]),C={x:0,y:0},I={"上行":"up","下行":_0x4b1c("0x11cf"),"左转":_0x4b1c("0x359"),"右转":_0x4b1c("0x35a"),"左前方直行":_0x4b1c("0x11d0"),"右前方直行":_0x4b1c("0x11d1"),"直行":_0x4b1c("0x686"),"即将到达目的地":_0x4b1c("0x11d2")},E=function(){function x(c){(0,f[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x11d3")]=null,this[_0x4b1c("0x11d4")]=0,this[_0x4b1c("0x11d5")]=[new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xc19")]),new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xc19")])],this.navMarker=[],this[_0x4b1c("0x11d6")]=[_0x4b1c("0x11d7"),_0x4b1c("0x11d8")],this[_0x4b1c("0x3f2")]=[],this._naviResult=null,this[_0x4b1c("0x11d9")]=null,this[_0x4b1c("0x11da")]=null,this[_0x4b1c("0x11db")]=_0x4b1c("0x38f"),this[_0x4b1c("0x11dc")]=.01086500000124215,this[_0x4b1c("0x11dd")]=new(THREE[_0x4b1c("0x1eb")]),this[_0x4b1c("0x11de")]=[],this[_0x4b1c("0x11df")]={},this.lastAngle=null,this[_0x4b1c("0x11e0")]=!1,this[_0x4b1c("0x11e1")]={},this[_0x4b1c("0x11e2")]=null,this[_0x4b1c("0x11e3")]=!0,this[_0x4b1c("0x11e4")]=!1,this[_0x4b1c("0x32e")]=!1,this[_0x4b1c("0x11e5")]=(new Date)[_0x4b1c("0x86")](),this[_0x4b1c("0x11e6")]=null,this[_0x4b1c("0x11e7")]=0,this[_0x4b1c("0x11e8")]={},this[_0x4b1c("0x11e9")]=null,this[_0x4b1c("0x11ea")]=[],this[_0x4b1c("0x11eb")]={index:0,dis2next:0},this.audioPlayed={},this.count={deviateCount:0,arrivalCount:0,backcount:0,surDistance:0},this[_0x4b1c("0x11ec")]=null,this._toRot=null,this[_0x4b1c("0x11ed")]=0,this[_0x4b1c("0x11ee")]=0,this[_0x4b1c("0x11ef")]=!1,this[_0x4b1c("0x11f0")]=null,this._animateFun=null,this[_0x4b1c("0x11f1")]=null,this._crossBid=null,this[_0x4b1c("0x11f2")]=null,this._walkingCrossTime=0,this.routePlanner=new(h[_0x4b1c("0xc")]);var b=this;em[_0x4b1c("0x1e0")][_0x4b1c("0xfa3")](b),(0,o.default)(b,{map:esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],changeTiltAngle:!0,speed:4,followPosition:!0,followAngle:!1,followGap:0,lockViewMove:!1,isMultiFloors:0,showMultiFloor:!1,flyToFocus:!0,inTime:1.2,tiltAngle:10,changeFloorTiltAngle:30,minScale:.2,scaleLevel:1,rotateTimer:0,linkStartEnd:!0,linkMinDistance:5,height:0,mode:1,reRouteDis:null,offsetHeight:1,arrivalCount:3,parkAriveDelay:2,directionAssert:10,combineAsset:3,autoStop:!0,locationMarkerSpritify:1,locationMarkerSeeThough:!1,autoClearNaviLine:!1,audioPlay:!1,audioTipEnd:!0,reRouteLimit:5,crossPauseTime:1.5,tipDistance:6,locationMarkerOptions:{},lineStyle:{lineType:esmap[_0x4b1c("0xa4d")].ESARROW,curvature:0,color:_0x4b1c("0x11f3"),lineWidth:6,offsetHeight:.5},ladderType:1,maxEnd:2,scaleAnimate:!0,isAnimate:1,audioCountDown:20,bestViewMinDistance:5},c),b[_0x4b1c("0x10b6")][_0x4b1c("0xa48")]=!0;var _=b[_0x4b1c("0x3e")];if(b[_0x4b1c("0x11f4")]){if(!_[_0x4b1c("0x11f5")])try{_[_0x4b1c("0xa2a")]()}catch(x){console[_0x4b1c("0x291")](_0x4b1c("0x11f6"))}}else _.ESAudioTool||(_[_0x4b1c("0x11f5")]={playSoundByName:function(){}});this[_0x4b1c("0x11f7")][_0x4b1c("0x11d3")]=this[_0x4b1c("0x11d3")]}var c,b;return(0,l[_0x4b1c("0xc")])(x,[{key:"setPreferCrosses",value:function(x){this[_0x4b1c("0x11f7")].setPreferCrosses(x)}},{key:_0x4b1c("0x11f8"),value:function(x,c){if(this[_0x4b1c("0x11f9")](),!this[_0x4b1c("0x11e3")]&&this[_0x4b1c("0x19b")](),this.navData[c]=(0,o[_0x4b1c("0xc")])({bid:this[_0x4b1c("0x3e")].id},this[_0x4b1c("0x3f2")][c],x),!x.noMarker){this.navMarker[c]&&this[_0x4b1c("0x11fa")][c][_0x4b1c("0xf3")]();var b=x[_0x4b1c("0x4e")]||this[_0x4b1c("0x11d6")][c],_=this[_0x4b1c("0x11d5")][c],e=this[_0x4b1c("0x3e")].mode==(esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]&&this.map.options[_0x4b1c("0x31a")])?23:12,t=null==x[_0x4b1c("0x1a3")]?6:x[_0x4b1c("0x1a3")],i=new(esmap[_0x4b1c("0x62f")])({name:x.name,x:x.x,y:x.y,image:b,imageStyle:x[_0x4b1c("0x331")],text:x[_0x4b1c("0x317")],textStyle:x.textStyle,height:t,seeThrough:x[_0x4b1c("0x16c")]||!1,showLevel:x.showLevel||e,scale:x[_0x4b1c("0x201")]||1,size:x[_0x4b1c("0xe0")]||_0x4b1c("0x335"),pickable:x[_0x4b1c("0x1f4")]||!0,renderOrder:x[_0x4b1c("0x172")],callback:function(){x[_0x4b1c("0x1b0")]&&x.callback(i)}});_.addMarker(i),this.navMarker[c]=i;var a=x[_0x4b1c("0x12b")]||this[_0x4b1c("0x3e")].id,n=this[_0x4b1c("0x3e")][_0x4b1c("0x136")](a),r=x.fnum||1;n[_0x4b1c("0x662")](r).addLayer(_)}}},{key:"setView",value:function(x){var c=this[_0x4b1c("0x3e")],b=null==x[_0x4b1c("0x1a5")]?1:x[_0x4b1c("0x1a5")],_="3D"===c[_0x4b1c("0x388")];x[_0x4b1c("0x1")](_0x4b1c("0x2c1"))&&_&&c[_0x4b1c("0xab8")]({angle:x[_0x4b1c("0x2c1")],time:b}),x[_0x4b1c("0x1")](_0x4b1c("0x31d"))?c[_0x4b1c("0x11fb")]({value:x[_0x4b1c("0x31d")],time:b}):x.hasOwnProperty(_0x4b1c("0x222"))&&c[_0x4b1c("0x9fe")]({value:x.scaleLevel,time:b}),x.hasOwnProperty("rotateAngle")&&c[_0x4b1c("0x254")]({angle:x[_0x4b1c("0x258")],time:b}),x.hasOwnProperty("coord")&&c.moveTo({x:x.coord.x,y:x[_0x4b1c("0x565")].y,time:.5*b,height:x[_0x4b1c("0x565")].z}),x[_0x4b1c("0x1ac")]&&setTimeout(x.onComplete,1e3*b)}},{key:_0x4b1c("0x11fc"),value:function(x){this[_0x4b1c("0x11fd")]||(this._originMaxDistance=this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0x2ad")]),x?this[_0x4b1c("0x3e")][_0x4b1c("0x266")].maxDistance=x:this.map[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=this._originMaxDistance}},{key:"setStartPoint",value:function(x){this[_0x4b1c("0x11f8")](x,0)}},{key:_0x4b1c("0x11fe"),value:function(x){this[_0x4b1c("0x11f8")](x,1)}},{key:_0x4b1c("0x11ff"),value:function(){this[_0x4b1c("0x3f2")][0]&&this[_0x4b1c("0x3f2")][1]&&(this[_0x4b1c("0x11e9")]=null,this[_0x4b1c("0x11f9")](),this[_0x4b1c("0x1200")]({drawRoute:!0}))}},{key:_0x4b1c("0x1201"),value:function(x){this.clearAll(),this[_0x4b1c("0x3f2")][0]={x:x[0].pointList[0].x,y:x[0][_0x4b1c("0x1202")][0].y,fnum:x[0][_0x4b1c("0x12e")]};var c=x[x.length-1][_0x4b1c("0x1202")];this[_0x4b1c("0x3f2")][1]={x:c[c[_0x4b1c("0x0")]-1].x,y:c[c.length-1].y,fnum:x[x[_0x4b1c("0x0")]-1][_0x4b1c("0x12e")]},this.outcome={result:x},this[_0x4b1c("0x1203")]=this[_0x4b1c("0x1204")][_0x4b1c("0xcd7")],this[_0x4b1c("0x1205")]();var b=this[_0x4b1c("0x1206")](this[_0x4b1c("0x1203")]);this[_0x4b1c("0x11de")]=b[0],this[_0x4b1c("0x1207")]=b[1],this[_0x4b1c("0x11d4")]=b[2],this[_0x4b1c("0x1208")]()}},{key:"_getFloorsPoints",value:function(){var x=this[_0x4b1c("0x1204")][_0x4b1c("0xcd7")];if(x){for(var c=[],b=null,_=null,e=0;e<x[_0x4b1c("0x0")];e++){var t=x[e],i=b==t.fnum;0==t[_0x4b1c("0x0")]&&0!=e&&e!=x[_0x4b1c("0x0")]-1||(i||(b=t[_0x4b1c("0x12e")],_&&c[_0x4b1c("0x12")](_),_={fnum:t[_0x4b1c("0x12e")],pointList:[]}),Array[_0x4b1c("0xf")][_0x4b1c("0x12")][_0x4b1c("0x4")](_[_0x4b1c("0x1202")],t[_0x4b1c("0x1202")]))}return _&&c[_0x4b1c("0x12")](_),this._groupsPoints=c,c}}},{key:"reset",value:function(){this[_0x4b1c("0x1200")]()}},{key:_0x4b1c("0x1209"),value:function(){for(var x=[],c=this.outcome[_0x4b1c("0xcd7")],b=0;b<c.length;b++)if(0==c[b].length&&1==c[b].pointList[_0x4b1c("0x0")]){var _=(0,o.default)({},c[b].pointList[0]);c[b][_0x4b1c("0x1202")][0].id;if(_.id){var e=this[_0x4b1c("0x11f7")].getNavNodeById(_[_0x4b1c("0x12b")],_.id);_[_0x4b1c("0x99")]=e[_0x4b1c("0x99")]||0,x.push(_)}}return x}},{key:_0x4b1c("0x120a"),value:function(x){var c,b=[],_=this[_0x4b1c("0x3b")],e=this[_0x4b1c("0x120b")],t=this.map,i=0;if(!esmap[_0x4b1c("0x87")].checkFunLevel(1))return[];for(var a=0;a<x.length-1;a++){var n=x[a];n[_0x4b1c("0x12b")]||(n.bid=this[_0x4b1c("0x3e")].id);var r=x[a+1];if(r[_0x4b1c("0x12b")]||(r[_0x4b1c("0x12b")]=this.map.id),n.x!==r.x||n.y!==r.y){!c&&(c=n.fnum);var s=this[_0x4b1c("0x11f7")][_0x4b1c("0x1200")]({bid:t[_0x4b1c("0xb79")],startPoint:n,endPoint:r,mode:_,ladderType:e,linkStartEnd:this[_0x4b1c("0x120c")],linkMinDistance:this[_0x4b1c("0x120d")],useAMap:!1,type:null});s&&(i+=s[_0x4b1c("0x120e")],s.result[_0x4b1c("0x1c")]((function(x,c,_){b[_0x4b1c("0x12")](x)})))}}for(var o={},f=0;f<b[_0x4b1c("0x0")];f++)for(var l=0;l<b[f][_0x4b1c("0x1202")][_0x4b1c("0x0")];l++)o[b[f][_0x4b1c("0x1202")][l].id]?l!=b[f][_0x4b1c("0x1202")][_0x4b1c("0x0")]-1&&(b[f][_0x4b1c("0x1202")][l].x+=.2,b[f][_0x4b1c("0x1202")][l].y+=.2):o[b[f][_0x4b1c("0x1202")][l].id]=1;for(var d=0;d<b[_0x4b1c("0x0")]-1;d++)b[d][_0x4b1c("0x12e")]==b[d+1].fnum&&0!=b[d].length&&0!=b[d+1][_0x4b1c("0x0")]&&(b[d][_0x4b1c("0x0")]+=b[d+1][_0x4b1c("0x0")],b[d].pointList=b[d][_0x4b1c("0x1202")][_0x4b1c("0x377")](b[d+1][_0x4b1c("0x1202")]),b.splice(d+1,1),d--);this[_0x4b1c("0x3f2")][0]={x:x[0].x,y:x[0].y,fnum:x[0][_0x4b1c("0x12e")],bid:x[0][_0x4b1c("0x12b")]},this[_0x4b1c("0x3f2")][1]={x:x[x[_0x4b1c("0x0")]-1].x,y:x[x[_0x4b1c("0x0")]-1].y,fnum:x[x[_0x4b1c("0x0")]-1][_0x4b1c("0x12e")],bid:x[x[_0x4b1c("0x0")]-1][_0x4b1c("0x12b")]},this[_0x4b1c("0x1204")]={result:b,isMultiPointsNav:!0,costDistance:i},this._naviResult=b,this[_0x4b1c("0x1205")]();x=this[_0x4b1c("0x1206")](this[_0x4b1c("0x1203")]);this[_0x4b1c("0x11de")]=x[0],this[_0x4b1c("0x1207")]=x[1],this[_0x4b1c("0x11d4")]=x[2]}},{key:_0x4b1c("0x120f"),value:function(x){var c=x[0],b=x[1];c[_0x4b1c("0x12b")]||(c.bid=map[_0x4b1c("0xb79")]),c[_0x4b1c("0x12e")]||(c.fnum=1),b[_0x4b1c("0x12b")]||(b[_0x4b1c("0x12b")]=map[_0x4b1c("0xb79")]),b[_0x4b1c("0x12e")]||(b[_0x4b1c("0x12e")]=1);var _=this[_0x4b1c("0x3e")][_0x4b1c("0x1b5")]({from:this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1b7")],to:this[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],coord:{x:c.x,y:c.y}}),e=this[_0x4b1c("0x3e")].transformCoord({from:this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1b7")],to:this.map[_0x4b1c("0x2d4")],coord:{x:b.x,y:b.y}});return[(0,o[_0x4b1c("0xc")])({},c,_),(0,o[_0x4b1c("0xc")])({},b,e)]}},{key:_0x4b1c("0x1210"),value:(b=(0,s[_0x4b1c("0xc")])(r[_0x4b1c("0xc")].mark((function x(){var c,b,_,e,t,i,a,n=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};return r[_0x4b1c("0xc")].wrap((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return n=(0,o[_0x4b1c("0xc")])({mode:1,type:_0x4b1c("0x1211")},n),c=this[_0x4b1c("0x120f")]([n[_0x4b1c("0x1af")],n.end]),b=c[0],_=c[1],e=n[_0x4b1c("0x3b")],t=this.map,x[_0x4b1c("0x286")]=8,this.routePlanner[_0x4b1c("0x1200")]({bid:t[_0x4b1c("0xb79")],startPoint:b,endPoint:_,mode:e,ladderType:this[_0x4b1c("0x120b")],linkStartEnd:this[_0x4b1c("0x120c")],linkMinDistance:this[_0x4b1c("0x120d")],useAMap:!0,type:n[_0x4b1c("0x78")]});case 8:i=x[_0x4b1c("0x337")],a=null,i[_0x4b1c("0x1202")]&&i.pointList[_0x4b1c("0x0")]>0&&(a=this[_0x4b1c("0x3e")][_0x4b1c("0x555")]({from:this[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],to:this[_0x4b1c("0x3e")][_0x4b1c("0x3e1")],coords:i[_0x4b1c("0x1202")]})),n[_0x4b1c("0x1b0")]&&n[_0x4b1c("0x1b0")](a);case 12:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return b[_0x4b1c("0x4")](this,arguments)})},{key:"getRouteResult",value:(c=(0,s[_0x4b1c("0xc")])(r[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){var c,b,_,e,t,i,a,s,f,l,d,u,h,g,v,p,m,A,y,C,I,E=this,w=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};return r.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return x.next=2,new(n[_0x4b1c("0xc")])((function(x){setTimeout(x,0)}));case 2:if(x.prev=2,c=w[_0x4b1c("0x1212")]||!1,b=w[_0x4b1c("0x1213")]||!1,_=w[_0x4b1c("0x78")]||"driving",!this.navData[0]||!this[_0x4b1c("0x3f2")][1]){x.next=59;break}if(e=this[_0x4b1c("0x3b")],t=this[_0x4b1c("0x3e")],i=this[_0x4b1c("0x120f")](this[_0x4b1c("0x3f2")]),a=i[0],s=i[1],!b){x[_0x4b1c("0x286")]=27;break}return this[_0x4b1c("0x11db")]=_0x4b1c("0x1214"),x.next=16,this.routePlanner[_0x4b1c("0x1200")]({bid:t.sceneId_,startPoint:a,endPoint:s,mode:e,ladderType:this[_0x4b1c("0x120b")],linkStartEnd:this.linkStartEnd,linkMinDistance:this[_0x4b1c("0x120d")],useAMap:b,type:_});case 16:f=x.sent,l=f[_0x4b1c("0x1215")],d=f[_0x4b1c("0x23c")],u=f.des,h=f[_0x4b1c("0x1202")],this[_0x4b1c("0x1216")]=u,this[_0x4b1c("0x1217")]=l[_0x4b1c("0x3e")]((function(x){var c=new(THREE[_0x4b1c("0x128")]);(0,o[_0x4b1c("0xc")])(c,x);var b=E.map[_0x4b1c("0x1b5")]({from:E[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],to:E[_0x4b1c("0x3e")].DEFAULT_COORDSYSTEM,coord:{x:x.x,y:x.z}});return c.x=b.x,c.z=b.y,c})),this[_0x4b1c("0x11d4")]=d,g=this[_0x4b1c("0x3e")][_0x4b1c("0x555")]({from:this[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],to:this[_0x4b1c("0x3e")][_0x4b1c("0x3e1")],coords:h}),c&&(v=new(esmap[_0x4b1c("0x637")])({id:"navLine",bid:0,points:g,style:this[_0x4b1c("0x10b6")]}),this[_0x4b1c("0x10b6")][_0x4b1c("0x172")]&&setTimeout((function(){v.renderOrder=E.lineStyle[_0x4b1c("0x172")]}),0),this[_0x4b1c("0x1218")]=v,this[_0x4b1c("0x3e")].drawLineMark(v)),this[_0x4b1c("0xa36")](_0x4b1c("0x481"),g),x.next=59;break;case 27:if(this.navMode=_0x4b1c("0x38f"),this[_0x4b1c("0x1204")]=this.routePlanner[_0x4b1c("0x1200")]({bid:t[_0x4b1c("0xb79")],startPoint:a,endPoint:s,mode:e,ladderType:this[_0x4b1c("0x120b")],linkStartEnd:this.linkStartEnd,linkMinDistance:this[_0x4b1c("0x120d")],useAMap:b,type:_}),this[_0x4b1c("0x1204")]){x[_0x4b1c("0x286")]=32;break}throw console.info(_0x4b1c("0x1219")),"无法到达!请重新选点";case 32:if(this[_0x4b1c("0x3e")].mode!=esmap.MapMode.City){x.next=51;break}p=0;case 34:if(!(p<this.outcome[_0x4b1c("0xcd7")][_0x4b1c("0x0")])){x[_0x4b1c("0x286")]=51;break}m=this[_0x4b1c("0x1204")][_0x4b1c("0xcd7")][p].pointList,x.t0=r.default[_0x4b1c("0x684")](m);case 37:if((x.t1=x.t0())[_0x4b1c("0x40f")]){x[_0x4b1c("0x286")]=48;break}if(A=x.t1[_0x4b1c("0x13a")],!(y=m[A])[_0x4b1c("0x121a")]){x[_0x4b1c("0x286")]=42;break}return x.abrupt(_0x4b1c("0x686"),37);case 42:C=this[_0x4b1c("0x3e")][_0x4b1c("0x1b5")]({from:this[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],to:this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1b7")],coord:{x:y.x,y:y.y}}),y.x=C.x,y.y=C.y,y[_0x4b1c("0x121a")]=!0,x.next=37;break;case 48:p++,x[_0x4b1c("0x286")]=34;break;case 51:this[_0x4b1c("0x1203")]=this.outcome.result,this[_0x4b1c("0x1205")](),I=this._naviDescriptions(this[_0x4b1c("0x1203")]),this[_0x4b1c("0x11de")]=I[0],this[_0x4b1c("0x1207")]=I[1],this[_0x4b1c("0x11d4")]=I[2],c&&this[_0x4b1c("0x1208")](),this[_0x4b1c("0xa36")]("success",this.outcome);case 59:x[_0x4b1c("0x286")]=65;break;case 61:x[_0x4b1c("0x285")]=61,x.t2=x[_0x4b1c("0x87c")](2),x.t2,this[_0x4b1c("0xa36")](_0x4b1c("0xe3"),x.t2);case 65:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this,[[2,61]])}))),function(){return c[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x121b"),value:function(){var x=this.map,c=this[_0x4b1c("0x1204")];for(var b in c.result){var _=c[_0x4b1c("0xcd7")][b].pointList;for(var e in _){var t=_[e],i=(0,o[_0x4b1c("0xc")])({},t);if(!i[_0x4b1c("0x121a")]){var a=x.transformCoord({from:x[_0x4b1c("0x2d4")],to:x[_0x4b1c("0x47")][_0x4b1c("0x1b7")],coord:{x:t.x,y:t.y}});i.x=a.x,i.y=a.y,i[_0x4b1c("0x121a")]=!0,_[e]=i}}}}},{key:_0x4b1c("0x121c"),value:function(){var x=A.get(this);x&&(this[_0x4b1c("0x3e")].mapPicker[_0x4b1c("0xc04")](x[_0x4b1c("0xf0")]),x&&(this[_0x4b1c("0x3e")][_0x4b1c("0xb40")](x),A[_0x4b1c("0xdb")](this,null)))}},{key:_0x4b1c("0x121d"),value:function(){for(var x=0;x<2;x++)this[_0x4b1c("0x11fa")][x]&&(this.navMarker[x][_0x4b1c("0xf3")](),this[_0x4b1c("0x11fa")][x]=null,this[_0x4b1c("0x3f2")][x]=null);this[_0x4b1c("0x1203")]=null}},{key:"clearNaviLines",value:function(){this[_0x4b1c("0x3e")][_0x4b1c("0xa3e")]("navLine")}},{key:_0x4b1c("0x545"),value:function(){this[_0x4b1c("0x19b")](),this[_0x4b1c("0x121d")](),this[_0x4b1c("0x11f9")](),this.clearLocationMarker(),this[_0x4b1c("0x3f2")][0]=null,this[_0x4b1c("0x3f2")][1]=null}},{key:_0x4b1c("0x121e"),value:function(x,c){var b=this;(c=null==c||c)&&b.clearNaviLines();for(var _=[],e=0;e<x[_0x4b1c("0x0")];e++){var t=x[e].point,i=(0,o[_0x4b1c("0xc")])({},t);if(i._trs)_.push(i);else{var a=b[_0x4b1c("0x3e")][_0x4b1c("0x1b5")]({from:b[_0x4b1c("0x3e")][_0x4b1c("0x2d4")],to:b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1b7")],coord:{x:t.x,y:t.y}});i.x=a.x,i.y=a.y,i[_0x4b1c("0x121a")]=!0,_[_0x4b1c("0x12")](i)}}b._drawlineByResults(_,c)}},{key:_0x4b1c("0x121f"),value:function(x,c){var b=this;(c=null==c||c)&&this[_0x4b1c("0x11f9")]();var _=new(esmap[_0x4b1c("0x637")])({id:"navLine",name:_0x4b1c("0x1220"),points:x,style:this[_0x4b1c("0x10b6")],renderOrder:this.lineStyle[_0x4b1c("0x172")]});this.lineStyle.renderOrder&&setTimeout((function(){_.renderOrder=b[_0x4b1c("0x10b6")].renderOrder}),0),this[_0x4b1c("0x1218")]=_,_0x4b1c("0x16a")==this[_0x4b1c("0x10b6")][_0x4b1c("0x78")]||_0x4b1c("0x61b")==this[_0x4b1c("0x10b6")][_0x4b1c("0x78")]?this[_0x4b1c("0x10b6")][_0x4b1c("0x1221")]=.3:this.lineStyle[_0x4b1c("0x1221")]=1,this[_0x4b1c("0x3e")][_0x4b1c("0xa41")](_)}},{key:"drawNaviLine",value:function(x,c){if(this[_0x4b1c("0x11f9")](),this[_0x4b1c("0x3f2")][0]&&this[_0x4b1c("0x3f2")][1]&&this[_0x4b1c("0x1204")]){this[_0x4b1c("0x10b6")].up=new THREE.Vector3(0,1,0),this.lineStyle[_0x4b1c("0x1222")]=!1,!this.autoClearNaviLine&&c&&this.clearNaviLines();this[_0x4b1c("0x121e")](this.combinePoints,this[_0x4b1c("0x1223")]),this[_0x4b1c("0x1224")](),this[_0x4b1c("0x1204")][_0x4b1c("0x1225")]&&this[_0x4b1c("0xa36")](_0x4b1c("0x481"),this[_0x4b1c("0x1204")])}}},{key:"_locMarkerToStartPoint",value:function(x){if(this[_0x4b1c("0x1203")]){var c=this._naviResult[0].pointList[0],b=this[_0x4b1c("0x1203")][0].fnum,_=this[_0x4b1c("0x1203")][0][_0x4b1c("0x12b")]||0;x=null==x?3:x,this[_0x4b1c("0x603")][_0x4b1c("0x22e")]({x:c.x,y:c.y,bid:_,fnum:b,offsetHeight:c.z+(x||1.01*this.offsetHeight)})}}},{key:_0x4b1c("0x1226"),value:function(x,c,b){return null==c&&(c=0),this[_0x4b1c("0x3e")].moveTo({x:x.x,y:x.y,time:c,FloorNum:x[_0x4b1c("0x12e")],callback:b})}},{key:"playAudio",value:function(x){if(this.audioPlay){for(var c=0;c<x.length;c++)typeof x[c]==_0x4b1c("0xd")&&x[c][_0x4b1c("0x2a6")](/\s/)&&x[_0x4b1c("0x5")][_0x4b1c("0x4")](x,[c,1][_0x4b1c("0x377")]((0,a[_0x4b1c("0xc")])(x[c][_0x4b1c("0x2c")](" "))));this.map[_0x4b1c("0x11f5")][_0x4b1c("0xf75")](x)}}},{key:_0x4b1c("0x1227"),value:function(x){I[x]&&this.lastNavCode!=I[x]&&(this[_0x4b1c("0x11e6")]=I[x],this[_0x4b1c("0xa36")]("navCodeChanged",this[_0x4b1c("0x11e6")]))}},{key:_0x4b1c("0x1228"),value:function(x){var c=this.map,b=c[_0x4b1c("0x1c3")].camera.fov;return{radius:"3D"==c[_0x4b1c("0x388")]?x/(2*Math[_0x4b1c("0x2f9")](b/2*Math.PI/180)):x/(2*Math.tan(b/2*Math.PI/180))}}},{key:_0x4b1c("0x1229"),value:function(x,c,b){}},{key:"_broadcast",value:function(x,c,b,_,e){var t=this,i=t.naviDescriptions[x],a=t[_0x4b1c("0x1207")][x],n=t[_0x4b1c("0x11de")][x+1],r=t[_0x4b1c("0x1207")][x+1],s=(t[_0x4b1c("0x11de")].length,a[_0x4b1c("0x23c")]-c),o=1==t[_0x4b1c("0x3b")]?t[_0x4b1c("0x1231")]+5:t[_0x4b1c("0x1231")]+12,f=t[_0x4b1c("0x3e")].mapService[_0x4b1c("0xaef")],l=null,d="",u=!1;if(b<=o)l=f[_0x4b1c("0xf52")]("即将到达目的地"),t.audioPlayed[_0x4b1c("0x1232")]||(t[_0x4b1c("0x1227")](_0x4b1c("0xf41")),t[_0x4b1c("0x1233")](["即将到达目的地"]),t[_0x4b1c("0x1234")][_0x4b1c("0x1232")]=!0);else if(b<=t.maxEnd)l=f[_0x4b1c("0xf52")](_0x4b1c("0x1235")),t[_0x4b1c("0x1234")][_0x4b1c("0x1236")]||(t[_0x4b1c("0x1234")][_0x4b1c("0x1236")]=!0);else if(t[_0x4b1c("0x2ac")]&&t[_0x4b1c("0x1229")](a,s,c),1==t[_0x4b1c("0x3b")])!a[_0x4b1c("0x1237")]&&s>=1&&(t[_0x4b1c("0x1227")](i[0]),d=[i[0],Math[_0x4b1c("0xfd")](c)-2,"米","后",i[2]],t.playAudio(d),a.manModeTipStarted=!0),c<=t[_0x4b1c("0x1238")]?(l=f[_0x4b1c("0xf52")](i[2]),a[_0x4b1c("0x1239")]||(t._setNavCode(i[2]),d=[i[2]],t[_0x4b1c("0x1233")](d),a[_0x4b1c("0x1239")]=!0),u=!0):c>=20&&s>=a[_0x4b1c("0x123a")]&&(t[_0x4b1c("0x1227")]("直行"),a[_0x4b1c("0x123a")]+=30,d=[Math[_0x4b1c("0xfd")](c)-2,"米","后",i[2]],t.playAudio(d));else if(!a[_0x4b1c("0x123b")]&&s>=1&&(d=[i[0],Math.ceil(c)-2,"米","后",i[2]],t[_0x4b1c("0x1233")](d),a.carModeTipStarted=!0),c<=12&&(l=r[_0x4b1c("0x23c")]<=12?f[_0x4b1c("0xf52")](i[2])+f[_0x4b1c("0xf52")]("后")+f[_0x4b1c("0xf52")](n[2]):f[_0x4b1c("0xf52")](i[2])),c<=12&&!a[_0x4b1c("0x123c")]){if(r[_0x4b1c("0x23c")]<12&&"终"!=r[_0x4b1c("0x123d")]){var h=i[2],g=n[2];i[2].indexOf("左")>-1?h="左转":i[2][_0x4b1c("0x114")]("右")>-1&&(h="右转"),n[2].indexOf("左")>-1?g="左转":n[2].indexOf("右")>-1&&(g="右转"),t[_0x4b1c("0x1227")](g),d=[h+"后"+g],t[_0x4b1c("0x1233")](d),u=!0}else d=[i[2]],t.playAudio(d),t[_0x4b1c("0x1227")](i[2]);a[_0x4b1c("0x123c")]=!0}else a[_0x4b1c("0x23c")]>=50&&c<=37?a[_0x4b1c("0x123e")]||(t[_0x4b1c("0x1233")](["请减速"]),a[_0x4b1c("0x123e")]=!0):s>=a.carWalkedCount&&(a.carWalkedCount+=40,d=[Math[_0x4b1c("0xfd")](c)-2,"米","后",i[2]],t[_0x4b1c("0x1233")](d));t[_0x4b1c("0x1207")][x][_0x4b1c("0x123f")]||(t[_0x4b1c("0x1207")][x].over=!0),l||(t[_0x4b1c("0x1227")](i[0]),l=f[_0x4b1c("0xf52")](i[0])+" "+Math.ceil(c)+" "+f.getDesFromNavLib("米")+" "+f[_0x4b1c("0xf52")]("后")+" "+f[_0x4b1c("0xf52")](i[2])),t[_0x4b1c("0x1240")]=l,_&&u?(null===this[_0x4b1c("0x1241")]&&(this[_0x4b1c("0x1241")]=(new Date)[_0x4b1c("0x86")]()),e-this._walkingCrossTime<1e3*this.crossPauseTime?this.timerDelta=0:0===this[_0x4b1c("0x11dc")]&&(this[_0x4b1c("0x11dc")]=.01086500000124215)):null!=this[_0x4b1c("0x1241")]&&(this._walkingCrossTime=null)}},{key:_0x4b1c("0x1242"),value:function(x,c){for(var b=x[_0x4b1c("0x12e")],_={x:x.x,y:x.y},e=this[_0x4b1c("0x3e")][_0x4b1c("0xb79")],a=this[_0x4b1c("0x11f7")].routeCore[_0x4b1c("0x89d")][e][_0x4b1c("0xd94")][b-1].Nodes,n=this[_0x4b1c("0x11f7")][_0x4b1c("0x1243")][_0x4b1c("0x89d")][e][_0x4b1c("0xd94")][b-1][_0x4b1c("0x3f3")],r=this[_0x4b1c("0x11f7")][_0x4b1c("0x1243")].dataList[e][_0x4b1c("0x1244")],s=(new i.default,new(t[_0x4b1c("0xc")])),o=new(i[_0x4b1c("0xc")]),f=0;f<this[_0x4b1c("0x1204")].result.length;f++){this[_0x4b1c("0x1204")][_0x4b1c("0xcd7")][f][_0x4b1c("0x1245")][_0x4b1c("0x1c")]((function(x){o[_0x4b1c("0xdd")](1*x)}))}for(var l in a){var d=a[l],h={x:d.X,y:d.Y};if((0,u[_0x4b1c("0x11d")])(h,x)<100){var g=r[d[_0x4b1c("0x3d8")]];if(g)for(var v in g){var p=1*g[v];if(!o[_0x4b1c("0x1246")](p)){var m=n[p];if(m&&!s.has(p)){var A=a[m[_0x4b1c("0xe75")]==d._id?m[_0x4b1c("0x5b2")]:m[_0x4b1c("0xe75")]];if(A){if((0,u.calcProjPoint)({x:_.x,y:_.y},{x:d.X,y:d.Y},{x:A.X,y:A.Y},{})<c)return!0;s[_0x4b1c("0xdb")](p,!0)}}}}}}return!1}},{key:_0x4b1c("0x1247"),value:function(x,c,b,_){var e=this,t=e.count,i=this[_0x4b1c("0x11db")],a=(new Date)[_0x4b1c("0x86")]();if(e.isCrossingFuti&&a-e[_0x4b1c("0x1248")]>250*e[_0x4b1c("0x1249")]&&(e[_0x4b1c("0x11e0")]=!1,e.crossFutiTime=(new Date).getTime()),!e.isCrossingFuti){var n="3"==e[_0x4b1c("0x11f7")][_0x4b1c("0x120b")]?3:1,r=e.reRouteDis?e[_0x4b1c("0x124a")]:8*n;if(x.offset>r)this._checkDeviated(c,x[_0x4b1c("0x158")])&&t[_0x4b1c("0x124b")]++;else t.deviateCount=0;if(t[_0x4b1c("0x124b")]>=e[_0x4b1c("0x124c")]){e[_0x4b1c("0x19b")](),e[_0x4b1c("0x11f4")]&&e[_0x4b1c("0x3e")][_0x4b1c("0x11f5")][_0x4b1c("0xf75")](["已重新规划路线"]);var s=c;if(e[_0x4b1c("0x603")][_0x4b1c("0x325")]({x:s.x,y:s.y,z:s.z||0}),e[_0x4b1c("0x3f2")][0].x=c.x,e[_0x4b1c("0x3f2")][0].y=c.y,e[_0x4b1c("0x3f2")][0][_0x4b1c("0x12e")]=c[_0x4b1c("0x12e")],e.emit(_0x4b1c("0x124d")),e.navMarker[0])if(e.navMarker[0].FloorNum!=c[_0x4b1c("0x12e")]){var f=e[_0x4b1c("0x11fa")][0][_0x4b1c("0x539")][_0x4b1c("0x1e4")],l=e[_0x4b1c("0x11fa")][0][_0x4b1c("0x539")].height,d=e[_0x4b1c("0x11fa")][0][_0x4b1c("0x4e")],u=e[_0x4b1c("0x11fa")][0].size_,h=(0,o[_0x4b1c("0xc")])({},e[_0x4b1c("0x3f2")][1]);e.clearMarkers(),e[_0x4b1c("0x124e")]({x:c.x,y:c.y,showLevel:f,fnum:c.fnum,height:l,url:d,size:u}),e[_0x4b1c("0x11fe")](h),e[_0x4b1c("0x11f9")](),e[_0x4b1c("0x1200")]({drawRoute:!0}),e.once(_0x4b1c("0x481"),(function(){t[_0x4b1c("0x124b")]=0,e[_0x4b1c("0x1af")](!0)}))}else e[_0x4b1c("0x11fa")][0].moveTo(c),e[_0x4b1c("0x11f9")](),e[_0x4b1c("0x1200")]({drawRoute:!0}),e[_0x4b1c("0x36b")]("success",(function(){t.deviateCount=0,e[_0x4b1c("0x1af")](!0)}));return}if(0!=t[_0x4b1c("0x124f")]&&t[_0x4b1c("0x124f")]<x[_0x4b1c("0x1250")]?t[_0x4b1c("0x1251")]++:t.backcount=0,b&&(t.backcount=0),0==t[_0x4b1c("0x1251")]||t[_0x4b1c("0x1251")]>=e[_0x4b1c("0x124c")]*n){var g=e[_0x4b1c("0x3e")][_0x4b1c("0x2c5")](x[_0x4b1c("0x2f7")]);if(g.fnum=x[_0x4b1c("0x2f7")][_0x4b1c("0x12e")],g[_0x4b1c("0x12b")]=x[_0x4b1c("0x2f7")][_0x4b1c("0x12b")],this[_0x4b1c("0xa36")]("walking",x),this._gps(g,x[_0x4b1c("0x258")],x[_0x4b1c("0x2f7")],x[_0x4b1c("0x268")],_),t.surDistance=x[_0x4b1c("0x1250")],x.remain<e[_0x4b1c("0x1231")]?t[_0x4b1c("0x1252")]++:t[_0x4b1c("0x1252")]=0,t[_0x4b1c("0x1252")]>e[_0x4b1c("0x1252")]||x.remain<=1){if(e.autoStop){var v=null;if(i==_0x4b1c("0x38f")&&(40004==e.navData[1][_0x4b1c("0x99")]?e.naviDescriptionsData[e[_0x4b1c("0x1207")][_0x4b1c("0x0")]-1][_0x4b1c("0x1253")]&&(v=e.naviDescriptionsData[e[_0x4b1c("0x1207")][_0x4b1c("0x0")]-1][_0x4b1c("0x1253")]):!e[_0x4b1c("0x1207")][e[_0x4b1c("0x1207")].length-1][_0x4b1c("0x123f")]&&e[_0x4b1c("0x1207")][e[_0x4b1c("0x1207")][_0x4b1c("0x0")]-2]&&e[_0x4b1c("0x1207")][e[_0x4b1c("0x1207")].length-2][_0x4b1c("0x123f")]&&(v=e.naviDescriptionsData[e[_0x4b1c("0x1207")].length-2][_0x4b1c("0x123d")])),e[_0x4b1c("0x19b")](),e._updateLinePass(0,!0),e[_0x4b1c("0x11f4")]&&e[_0x4b1c("0x1254")])if(v){v=v[_0x4b1c("0x114")]("左")<0?"右":"左";var p=_0x4b1c("0x1255")+v+"侧";this[_0x4b1c("0x1233")]([p,_0x4b1c("0xf40")])}else this.playAudio([_0x4b1c("0xf40")])}e[_0x4b1c("0x1256")](),e.emit(_0x4b1c("0x2d2")),!1===e[_0x4b1c("0x3e")].controls[_0x4b1c("0xc61")]&&(e[_0x4b1c("0x3e")].controls[_0x4b1c("0xc61")]=!0)}else if(e[_0x4b1c("0x11db")]==_0x4b1c("0x38f"))e[_0x4b1c("0x1257")](x[_0x4b1c("0x1258")],x[_0x4b1c("0x1259")],x.remain,x[_0x4b1c("0x125a")],a);else{var m=e.combinePoints[x[_0x4b1c("0x2cd")]][_0x4b1c("0x125b")];if(x[_0x4b1c("0x1250")]<=10){if(e[_0x4b1c("0x1240")]=_0x4b1c("0xf41"),x[_0x4b1c("0x1250")]<=1)return e.navTip=_0x4b1c("0x1235"),e[_0x4b1c("0x19b")](),e[_0x4b1c("0x1256")](),e[_0x4b1c("0xa36")](_0x4b1c("0x2d2")),void(!1===e[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0xc61")]&&(e.map.controls[_0x4b1c("0xc61")]=!0))}else e.navTip=e[_0x4b1c("0x1216")][m][_0x4b1c("0x125c")]}}}}},{key:"restoreState",value:function(){}},{key:_0x4b1c("0x125d"),value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{},c=(0,o[_0x4b1c("0xc")])({far:1.2,points:null},x),b=void 0;if(c[_0x4b1c("0x12c")]?b=c[_0x4b1c("0x12c")]:this[_0x4b1c("0x1204")]&&(b=this[_0x4b1c("0x1204")][_0x4b1c("0xcd7")][0][_0x4b1c("0x1202")]),b){var _=esmap[_0x4b1c("0x87")][_0x4b1c("0x698")](b),e=b[0][_0x4b1c("0x12e")],t=esmap.ESMapUtil[_0x4b1c("0x65c")](_),i=t[_0x4b1c("0x68f")]*c[_0x4b1c("0x519")];if(i<this.bestViewMinDistance&&(i=this[_0x4b1c("0x125e")]),"3D"!=this[_0x4b1c("0x3e")][_0x4b1c("0x388")]){var a=i/this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0xaaf")];this[_0x4b1c("0x3e")][_0x4b1c("0x9fe")]({value:a,raw:!0,time:1}),this[_0x4b1c("0x3e")][_0x4b1c("0x325")](t[_0x4b1c("0x2c7")]),this[_0x4b1c("0x3e")][_0x4b1c("0x254")](0)}else this.map[_0x4b1c("0x25f")]({x:t[_0x4b1c("0x2c7")].x,y:t[_0x4b1c("0x2c7")].y,z:1,fnum:e,radius:i,pitchAngle:1})}}},{key:_0x4b1c("0x19b"),value:function(){C={x:0,y:0},this[_0x4b1c("0x125f")]?(clearInterval(this[_0x4b1c("0x11f0")]),this[_0x4b1c("0x1260")]&&this[_0x4b1c("0x1260")].stop(),this[_0x4b1c("0x1261")]&&clearInterval(this[_0x4b1c("0x1261")]),this[_0x4b1c("0x3e")][_0x4b1c("0x9ba")]&&this[_0x4b1c("0x3e")][_0x4b1c("0x9ba")][_0x4b1c("0x19b")](),this[_0x4b1c("0x11f1")]&&this[_0x4b1c("0x11f1")].stop&&this._rotateId[_0x4b1c("0x19b")](),this._animateFun&&this[_0x4b1c("0x3e")][_0x4b1c("0x6b")](_0x4b1c("0x164"),this[_0x4b1c("0x1262")]),this[_0x4b1c("0x11ed")]=0,this[_0x4b1c("0x11ee")]=0,this[_0x4b1c("0x1263")]=null,this[_0x4b1c("0x1264")]=0,this[_0x4b1c("0x11ec")]=this[_0x4b1c("0x1265")]=null,this[_0x4b1c("0x11dd")][_0x4b1c("0x19b")](),this.isSimulating=!1,this[_0x4b1c("0x1266")]=null,this._isEnd_=!0):this.isNaving&&(this.isNaving=!1,this.count.deviateCount=0,this[_0x4b1c("0x106")][_0x4b1c("0x1252")]=0,this[_0x4b1c("0x106")][_0x4b1c("0x1251")]=0,this[_0x4b1c("0x106")][_0x4b1c("0x124f")]=0,window.clearInterval(this[_0x4b1c("0x11d9")]),this[_0x4b1c("0x11d9")]=0,this[_0x4b1c("0x11eb")].index=0,this[_0x4b1c("0x11eb")][_0x4b1c("0x1267")]=0,this[_0x4b1c("0x1268")]=20,this[_0x4b1c("0x11df")]={},this[_0x4b1c("0x11ea")]=[],this[_0x4b1c("0x11e8")]={}),this.curPathInfos={index:0,dis2next:0},this[_0x4b1c("0x1234")]={},this[_0x4b1c("0x11e1")]={},this._preGid=null,this[_0x4b1c("0x1263")]=null,this.moveTimer=null,this[_0x4b1c("0x1217")]=null,this.analysedData=null,this[_0x4b1c("0x1269")]=null,this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0x9be")]=!0,!1===this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0xc61")]&&(this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0xc61")]=!0)}},{key:"_updateLinePass",value:function(x,c){for(var b=this[_0x4b1c("0x1218")].o3d_[_0x4b1c("0xf1")],_=0,e=0;e<b[_0x4b1c("0x0")];e++)if(c)b[e][_0x4b1c("0x126a")]=1;else{var t=_;if(b[e][_0x4b1c("0x1f7")].indexOf(_0x4b1c("0x230"))<0?_+=b[e][_0x4b1c("0x0")]:b[e][_0x4b1c("0x1f7")].indexOf(_0x4b1c("0xa4b"))>=0&&(b[e][_0x4b1c("0x126a")]=1,_+=b[e][_0x4b1c("0x0")]),!b[e][_0x4b1c("0x165")][_0x4b1c("0x126b")]){if(b[e].name.indexOf(_0x4b1c("0x230"))<0||b[e][_0x4b1c("0x1f7")].indexOf(_0x4b1c("0xa4b"))>=0){if(x<_){b[e][_0x4b1c("0x126a")]=(x-t)/b[e][_0x4b1c("0x0")];break}}else b[e].userData[_0x4b1c("0x126b")]||(b[e-1]&&b[e-1].userData[_0x4b1c("0x126b")]?(b[e-1][_0x4b1c("0x126a")]=1,b[e][_0x4b1c("0x126a")]=1):b[e].passPercent=1);b[e].userData[_0x4b1c("0x126b")]=!0}}}},{key:"_linesVisible",value:function(){}},{key:"_onstartNavi",value:function(x,c){if(this[_0x4b1c("0x3f2")][0]&&this[_0x4b1c("0x3f2")][1]){this[_0x4b1c("0x11e9")]||(this[_0x4b1c("0x11e9")]=this[_0x4b1c("0x126d")]()[_0x4b1c("0x3e")]((function(x){return{x:x.x,y:x.z,z:x.y||0,distance:x[_0x4b1c("0x23c")],bid:x[_0x4b1c("0x12b")],fnum:x[_0x4b1c("0x12e")],index:x[_0x4b1c("0x126e")]}})));var b=this;(c=c||{})[_0x4b1c("0x126f")]||b.inTime;if(b[_0x4b1c("0x3e")][_0x4b1c("0x266")].zoomToCursor=!1,c.scaleLevel=c.scaleLevel||b[_0x4b1c("0x222")]||0,b[_0x4b1c("0x1270")]((0,g[_0x4b1c("0x1a2")])(c,_0x4b1c("0x1a3"),"zOffset",_0x4b1c("0x158"),1.01*b[_0x4b1c("0x28")])),(b._needDrawLines_||(0,g.getValues)(c,_0x4b1c("0x72c"),!1))&&b[_0x4b1c("0x1208")](null,!0),b[_0x4b1c("0x1271")]||this[_0x4b1c("0x1224")]([b[_0x4b1c("0x3f2")][0].fnum]),b[_0x4b1c("0x2ac")]&&b[_0x4b1c("0x1272")]){var _=b[_0x4b1c("0x3e")][_0x4b1c("0x136")](this.navData[0][_0x4b1c("0x12b")]);if(b[_0x4b1c("0x3e")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&_.id==b[_0x4b1c("0x3e")].id&&b[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x7f")]("tilesHidden")&&b[_0x4b1c("0x3e")][_0x4b1c("0x2b3")].toggleTilesLayer(!0),b[_0x4b1c("0x1271")]||(_.visibleFloorNums=[b.navData[0].fnum]),_[_0x4b1c("0x575")]!=b[_0x4b1c("0x3f2")][0].fnum)_.focusFloorNum={floornum:b[_0x4b1c("0x3f2")][0][_0x4b1c("0x12e")],time:.3},setTimeout((function(){b[_0x4b1c("0x122e")]({time:1.5,coord:{x:b[_0x4b1c("0x3f2")][0].x,y:b[_0x4b1c("0x3f2")][0].y},scaleLevel:b.scaleLevel,zoomLevel:b[_0x4b1c("0x31d")],tiltAngle:b.tiltAngle||10,onComplete:function(){x()}})}),300);else if(b.map[_0x4b1c("0x266")][_0x4b1c("0x1273")])if(b.flyToFocus){var t=b[_0x4b1c("0x3e")][_0x4b1c("0xa0f")](),i=b[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0xbcd")](b[_0x4b1c("0x31d")]||b[_0x4b1c("0x3e")][_0x4b1c("0x31d")]);b[_0x4b1c("0x3e")][_0x4b1c("0x25f")]({directionAngle:t.directionAngle,pitchAngle:b[_0x4b1c("0x2c1")],radius:i,x:b[_0x4b1c("0x3f2")][0].x,y:b[_0x4b1c("0x3f2")][0].y,z:this[_0x4b1c("0x3f2")][0][_0x4b1c("0x1a3")],time:1.5,callback:function(){x(),b[_0x4b1c("0x1274")]&&(b[_0x4b1c("0x3e")].controls[_0x4b1c("0xc61")]=!1)}})}else x(),b[_0x4b1c("0x1274")]&&(b[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0xc61")]=!1);else{var a=0;this[_0x4b1c("0x3f2")][0][_0x4b1c("0x12e")]&&(a=b[_0x4b1c("0x3e")][_0x4b1c("0x136")](this[_0x4b1c("0x3f2")][0].bid)[_0x4b1c("0x2d7")](this.navData[0].fnum)),b[_0x4b1c("0x122e")]({time:1.5,coord:{x:b[_0x4b1c("0x3f2")][0].x,y:b.navData[0].y,z:a+this[_0x4b1c("0x3f2")][0][_0x4b1c("0x1a3")]},scaleLevel:b.scaleLevel,zoomLevel:b[_0x4b1c("0x31d")],tiltAngle:b[_0x4b1c("0x2c1")]||10,onComplete:function(){x(),b[_0x4b1c("0x1274")]&&(b.map[_0x4b1c("0x266")][_0x4b1c("0xc61")]=!1)}})}}else!function(){if(b.map[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")].Building||b[_0x4b1c("0x3f2")][0][_0x4b1c("0x12b")]!=b[_0x4b1c("0x3e")].id){var c=b[_0x4b1c("0x3e")].getBuildingById(b[_0x4b1c("0x3f2")][0][_0x4b1c("0x12b")]);if(b.showMultiFloor){b._finalVisibleFloors?b._finalVisibleFloors[_0x4b1c("0x0")]=0:b[_0x4b1c("0x126c")]=[];var _=[],t=!0,i=!1,a=void 0;try{for(var n,r=(0,e[_0x4b1c("0xc")])(b.navData);!(t=(n=r[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);t=!0){var s=n[_0x4b1c("0x13a")];_.push(s[_0x4b1c("0x12e")])}}catch(x){i=!0,a=x}finally{try{!t&&r[_0x4b1c("0x28a")]&&r[_0x4b1c("0x28a")]()}finally{if(i)throw a}}var o=Math[_0x4b1c("0x2f5")][_0x4b1c("0x4")](Math,_);b[_0x4b1c("0x126c")]=c[_0x4b1c("0x679")][_0x4b1c("0x2db")]((function(x){return x<=o})),c[_0x4b1c("0x137")]=b[_0x4b1c("0x126c")]}else c[_0x4b1c("0x137")]=[b[_0x4b1c("0x3f2")][0][_0x4b1c("0x12e")]];c[_0x4b1c("0x575")]={floornum:b.navData[0].fnum,time:.3},setTimeout((function(){x()}),300)}else x()}()}}},{key:"start",value:function(){var x=this;x._onstartNavi((function(){x[_0x4b1c("0x11e4")]=!0}))}},{key:_0x4b1c("0x1275"),value:function(x){var c=this;c[_0x4b1c("0x1217")]||c[_0x4b1c("0xe9")](),c[_0x4b1c("0x1276")]((function(){c._isEnd_=!1,c._anim()}),x)}},{key:"walkTo",value:function(x,c){var b=this,_=x,e=_[_0x4b1c("0x23a")];if(!_[_0x4b1c("0x12e")]){var t=b.map[_0x4b1c("0x566")]();_[_0x4b1c("0x12e")]=t.focusFloorNum}if(typeof _.x===_0x4b1c("0x18f")&&typeof _.y===_0x4b1c("0x18f")){if(0==b[_0x4b1c("0x11dc")]||_.x!=C.x||_.y!=C.y){(b[_0x4b1c("0x11e4")]||b.isSimulating)&&function(){var x=b._naviConstraint(_);if(x){var t=0;if(b[_0x4b1c("0x1218")]&&b.lineObj[_0x4b1c("0xf0")])for(var i=0;i<b.lineObj[_0x4b1c("0xf0")][_0x4b1c("0xf1")].length;i++)if(b.lineObj[_0x4b1c("0xf0")].children[i][_0x4b1c("0x12e")]==x[_0x4b1c("0x565")][_0x4b1c("0x12e")]){t=b.lineObj.o3d_.children[i].passPercent;break}var a={remain:x[_0x4b1c("0x1250")],walk:b[_0x4b1c("0x11d4")]-x.remain,distanceToNext:x[_0x4b1c("0x1259")],angle:x.angle,point:x.coord,linesProgress:t,pIndex:x[_0x4b1c("0x2cd")],index:x.naviinfoindex,isReal:!0,descriptionIndex:x[_0x4b1c("0x1277")],offset:x[_0x4b1c("0x23c")],nexbid:x[_0x4b1c("0x1278")],nexfnum:x.nexfnum,disToNexBid:x[_0x4b1c("0x1279")],disToNexFnum:x[_0x4b1c("0x127a")],crossing:x[_0x4b1c("0x125a")]};a.walk&&(b[_0x4b1c("0x11ee")]||(b._preGid=b.navData[0][_0x4b1c("0x12e")]),b._preBid||(b[_0x4b1c("0x1263")]=b[_0x4b1c("0x3f2")][0].bid),c=c||!1,b[_0x4b1c("0x11eb")]={index:x[_0x4b1c("0x2cd")],desIndex:x.naviinfoindex,dis2next:a[_0x4b1c("0x1259")]},b[_0x4b1c("0x1247")](a,_,c,e))}}(),C.x=_.x,C.y=_.y}}else console[_0x4b1c("0xe3")]("坐标必须是数字")}},{key:_0x4b1c("0x127b"),value:function(x){var c=this;if(c[_0x4b1c("0x3f2")][0]&&c[_0x4b1c("0x3f2")][1]){for(var b={coord:{fnum:x[_0x4b1c("0x12e")]},distance:null,angle:0,balanceValue:null},_=c[_0x4b1c("0x11e9")],e={},t=function(x,c){var b=new(THREE[_0x4b1c("0x128")])(x.x,x.z,x.y),_=new THREE.Vector3(c.x,c.z,c.y);return b.distanceTo(_)},i=function(x){for(var c=0,b=_[_0x4b1c("0x0")]-1;b>x[_0x4b1c("0x2cd")];b--)if(b-1>x.index){var e=_[b],i=_[b-1];e[_0x4b1c("0x12e")]==i.fnum&&(c+=t(e,i))}return c+=t(_[x[_0x4b1c("0x2cd")]+1],x[_0x4b1c("0x565")])},a=i({coord:c[_0x4b1c("0x3e")]._coordThreeToMapScene(c.locationMarker.position),index:c[_0x4b1c("0x11eb")][_0x4b1c("0x2cd")]}),n=1;n<_[_0x4b1c("0x0")];n++){var r=_[n-1],s=_[n];if(r.fnum===x[_0x4b1c("0x12e")]&&s.fnum===x[_0x4b1c("0x12e")]){var f=(0,u[_0x4b1c("0x366")])(x,r,s,e);e.z=x.z||0;var l=a-i({index:r[_0x4b1c("0x2cd")],coord:e}),d=.5;c.isSimulating&&(d=-1/0),Math[_0x4b1c("0x23d")](l)<d&&0==(l*=10)&&(l=10);var h=.8*f+(f>1?Math[_0x4b1c("0x23d")](.2*l):0);(null==b[_0x4b1c("0x127d")]||h<b[_0x4b1c("0x127d")])&&(b.distance=f,b[_0x4b1c("0x127d")]=h,(0,o.default)(b.coord,e),b[_0x4b1c("0x258")]=c[_0x4b1c("0x239")](r,s),b[_0x4b1c("0x2cd")]=r[_0x4b1c("0x2cd")],b.fnum=r.fnum)}}if(null!=b[_0x4b1c("0x23c")]){var g=i(b);b[_0x4b1c("0x1250")]=g-c.toSubDis;var v=function(x){for(var b=c.naviDescriptionsData,_=c[_0x4b1c("0x11d4")]-x,e=1/0,t=null,i=0,a=0,n=null,r=1,s=null,o=1/0,f=!1,l=0;l<b[_0x4b1c("0x0")];l++){var d=b[l];if(_<d[_0x4b1c("0x127c")]&&null===n)i=d[_0x4b1c("0x91e")][_0x4b1c("0x12b")],a=d[_0x4b1c("0x127c")]-_,n=l,r=d[_0x4b1c("0x91e")][_0x4b1c("0x12e")];else if(0!=i&&(d[_0x4b1c("0x91e")].fnum!=r&&null===s&&(s=d[_0x4b1c("0x91e")][_0x4b1c("0x12e")],o=d[_0x4b1c("0x127c")]-_),d[_0x4b1c("0x91e")][_0x4b1c("0x12b")]!=i&&null===t&&(t=d[_0x4b1c("0x91e")][_0x4b1c("0x12b")],e=d[_0x4b1c("0x127c")]-_),null!=s&&null!=t))break}return b[n+1]&&(r==b[n+1][_0x4b1c("0x91e")][_0x4b1c("0x12e")]&&i==b[n+1][_0x4b1c("0x91e")][_0x4b1c("0x12b")]||(f=!0)),{distonex:a,index:n,distancetonexbid:e,bid:i,fnum:r,nexbid:t,nexfnum:s,disToNexBid:e,disToNexFnum:o,crossing:f}}(g-c[_0x4b1c("0x11e7")]);b.distanceToNext=v.distonex,b[_0x4b1c("0x1277")]=v[_0x4b1c("0x2cd")],b[_0x4b1c("0x565")].bid=v[_0x4b1c("0x12b")],b[_0x4b1c("0x565")].fnum=v[_0x4b1c("0x12e")],b[_0x4b1c("0x1278")]=v.nexbid,b[_0x4b1c("0x127e")]=v[_0x4b1c("0x127e")],b[_0x4b1c("0x1279")]=v[_0x4b1c("0x1279")],b[_0x4b1c("0x127a")]=v.disToNexFnum,b.crossing=v[_0x4b1c("0x125a")]}return b}}},{key:_0x4b1c("0x239"),value:function(x,c){var b=new(THREE[_0x4b1c("0x128")])(0,0,1),_=new(THREE[_0x4b1c("0x128")])(x.x,0,x.y),e=new(THREE[_0x4b1c("0x128")])(c.x,0,c.y).clone().sub(_)[_0x4b1c("0x301")](),t=e[_0x4b1c("0x231")](b)*THREE[_0x4b1c("0x215")][_0x4b1c("0x9f8")];return isNaN(t)&&(t=0),e[_0x4b1c("0x13e")]().cross(b).y>0?360-t:t}},{key:_0x4b1c("0x127f"),value:function(x,c,b){if(c>=b)return x[x[_0x4b1c("0x0")]-1];if(x){if(0==c)return x[0];for(var _,e,t=0,i=0,a=x[0],n=1;n<x.length;n++)if((_=x[n])[_0x4b1c("0x12e")]==a[_0x4b1c("0x12e")]){if((t+=(e=_[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](a))[_0x4b1c("0x0")]())>=c){e.normalize();var r=a[_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](e[_0x4b1c("0x13e")]().multiplyScalar(c-i));return r[_0x4b1c("0x12e")]=_.fnum,r[_0x4b1c("0x2cd")]=_[_0x4b1c("0x126e")],r.bid=_.bid,r}(a=_.clone()).fnum=_.fnum,a[_0x4b1c("0x2cd")]=_[_0x4b1c("0x126e")],a[_0x4b1c("0x12b")]=_[_0x4b1c("0x12b")],i=t}else(a=_[_0x4b1c("0x13e")]())[_0x4b1c("0x12e")]=_[_0x4b1c("0x12e")],a[_0x4b1c("0x2cd")]=_[_0x4b1c("0x126e")],a[_0x4b1c("0x12b")]=_[_0x4b1c("0x12b")];var s=(0,o.default)(new(THREE[_0x4b1c("0x128")]),x[x[_0x4b1c("0x0")]-1]);return s[_0x4b1c("0x2cd")]=s[_0x4b1c("0x126e")],s}}},{key:_0x4b1c("0x1280"),value:function(x,c){var b=this,_=x[_0x4b1c("0x12b")]||b.map.id;if(x.id){var e,t;if(b[_0x4b1c("0x3e")].mode==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&x[_0x4b1c("0x12b")]==b[_0x4b1c("0x3e")].id)return this[_0x4b1c("0x11e2")]="室内","室内";if(1==b[_0x4b1c("0x3b")]){if(!b[_0x4b1c("0x11f7")][_0x4b1c("0x1243")].dataList[_][_0x4b1c("0x1281")][_0x4b1c("0x1282")][x.id])return null;e=b.routePlanner[_0x4b1c("0x1243")][_0x4b1c("0x1283")][_][_0x4b1c("0x1281")].manModeAllScheme[x.id][0],t=b.routePlanner.routeCore[_0x4b1c("0x1283")][_][_0x4b1c("0x1284")][e]}else{if(!b[_0x4b1c("0x11f7")].routeCore[_0x4b1c("0x1283")][_][_0x4b1c("0x1281")][_0x4b1c("0x1285")][x.id])return null;e=b[_0x4b1c("0x11f7")][_0x4b1c("0x1243")][_0x4b1c("0x1283")][_][_0x4b1c("0x1281")].carModeScheme[x.id][0],t=b.routePlanner[_0x4b1c("0x1243")].dataList[_][_0x4b1c("0x1284")][e]}switch(1*t[_0x4b1c("0xd4c")]||0){case 1:return this.curLadder="楼梯","楼梯";case 2:return this[_0x4b1c("0x11e2")]="电梯","电梯";case 3:return this[_0x4b1c("0x11e2")]="扶梯","扶梯";case 4:case 5:return this[_0x4b1c("0x11e2")]="坡道","坡道"}}return"梯"}},{key:_0x4b1c("0x1206"),value:function(x){function c(x,c){var b=Math.PI/4,_=x/b,e=parseInt(_),t=_%1*b;return e%2==0?t>c&&(e+=1):t>=b-c&&(e+=1),e}function b(x,c){var b=c.angleTo(x);return c[_0x4b1c("0x13e")]()[_0x4b1c("0x230")](x).y<0&&(b=2*Math.PI-b),b}function _(x,_){if(_==x.length-1)return{index:x[x[_0x4b1c("0x0")]-1][_0x4b1c("0x2cd")]};var e=new(THREE[_0x4b1c("0x128")])(0,0,1),t=0==_?e:x[_][_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](x[_-1])[_0x4b1c("0x301")](),i=x[_+1][_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](x[_]),a=i[_0x4b1c("0x0")](),n=i[_0x4b1c("0x301")](),r=c(b(e,n),22.5*THREE[_0x4b1c("0x215")][_0x4b1c("0x660")]),s=b(t,n),o=c(s,22.5*THREE[_0x4b1c("0x215")][_0x4b1c("0x660")]),f=null;return x[_+1][_0x4b1c("0x12b")]!=x[_][_0x4b1c("0x12b")]&&(f=x[_+1][_0x4b1c("0x12b")]),{relField:o,relDesc:m[o],relAngle:s*THREE.Math[_0x4b1c("0x9f8")],absField:r,absDesc:p[r],distance:a,index:x[_][_0x4b1c("0x2cd")],crossBid:f}}function e(x,c){for(var b=x[_0x4b1c("0x3e")]((function(x,c){var b=(0,o.default)(new THREE.Vector3,x),_=a.map.coordMapToThree(x);return b.x=_.x,b.y=_.y,b.z=_.z,b.index=c,b})),e=[],t=0;t<b[_0x4b1c("0x0")];t++){var i=_(b,t);i[_0x4b1c("0x2f7")]=x[t],i[_0x4b1c("0x12e")]=c,e[_0x4b1c("0x12")](i)}var n=[e[0]];for(t=1;t<e[_0x4b1c("0x0")];t++)!e[t][_0x4b1c("0x1286")]&&(e[t][_0x4b1c("0x1287")]<=a[_0x4b1c("0x1288")]||360-e[t][_0x4b1c("0x1287")]<=a.combineAsset)?n[n[_0x4b1c("0x0")]-1][_0x4b1c("0x23c")]+=e[t][_0x4b1c("0x23c")]:n[_0x4b1c("0x12")](e[t]);return n}function t(x,c,b,_,e,t,i){var n=x[c],r=x[c+1],s=A[r[_0x4b1c("0x1289")]];if(a[_0x4b1c("0x128a")]=0,!s||a[_0x4b1c("0x128a")])if(_){if(a[_0x4b1c("0x128a")]=!1,!s){var o=a[_0x4b1c("0x3e")].getBuildingById(i);s="进入 "+a[_0x4b1c("0x1280")](r.point,b)+" "+(_>b?"上行":"下行")+" 前往 "+o.getFloor(_)[_0x4b1c("0x128b")]+" 层"}}else a[_0x4b1c("0x128a")]&&(a[_0x4b1c("0x128c")]=r.distance),s=_0x4b1c("0xf47");n[_0x4b1c("0x1286")]&&(s+=_0x4b1c("0x128d")+a.map[_0x4b1c("0x136")](n[_0x4b1c("0x1286")]).name);var f=[];return 0==c?f[_0x4b1c("0x12")]("直行",Math[_0x4b1c("0xfd")](n[_0x4b1c("0x23c")]),s):f.push("直行",Math[_0x4b1c("0xfd")](n[_0x4b1c("0x23c")]+(a._boo&&!_?r[_0x4b1c("0x23c")]:0)),s),f}function i(x,c,b,_,e,t,i){var n=x[c],r=x[c+1];if(!A[x[c+1][_0x4b1c("0x1289")]]||a[_0x4b1c("0x128a")])if(_){var s=_>b?"上":"下";r[_0x4b1c("0x128e")]=s}else r.relDesc="终";var o=n[_0x4b1c("0x23c")]+(a[_0x4b1c("0x128a")]&&!_?r[_0x4b1c("0x23c")]:0),f=r[_0x4b1c("0x1253")],l=!1,d=!1,u=!1,h=!1;return o<=40&&(u=!0),o<=20&&(l=!0),c==x[_0x4b1c("0x0")]-1&&(d=!0,h=!0),{startPoint:n[_0x4b1c("0x2f7")],startFloor:n[_0x4b1c("0x12e")],startIndex:n[_0x4b1c("0x2cd")],totalDisntance:n[_0x4b1c("0x127c")],endPoint:r[_0x4b1c("0x2f7")],manModeTipStarted:l,manWalkedCount:30,carWalkedCount:40,parkDir:f,manModeTipEnded:d,carModeTipStarted:u,carModeTipEnded:h,endFloor:r[_0x4b1c("0x12e")],endIndex:r[_0x4b1c("0x2cd")],startDirection:n[_0x4b1c("0x128f")],endDirection:r.relDesc,distance:o}}var a=this;a[_0x4b1c("0x1217")]=[],a._boo=!1,a._tailLen=0;for(var n,r,s,f,l,d=[],u=[],h=null,g=0,v=[],p=["北","东北","东","东南","南","西南","西","西北","北"],m=["前","右前","右","右后","后","左后","左","左前","前"],A=["继续直行","右前方直行","右转",_0x4b1c("0xf43"),"后退",_0x4b1c("0xf44"),"左转","左前方直行","继续直行"],y=null,C=0,I=null,E=0;E<x.length;E++){if(h=(n=x[E])[_0x4b1c("0x12e")],s=null,E<x[_0x4b1c("0x0")]-1)for(l=E;l<x[_0x4b1c("0x0")];l++)if(x[l][_0x4b1c("0x12e")]!=h){if(1===x[l][_0x4b1c("0x1202")][_0x4b1c("0x0")]){for(var w=l;w<x[_0x4b1c("0x0")];w++)if(x[w][_0x4b1c("0x1202")][_0x4b1c("0x0")]>1){I=x[w].fnum;break}}else I=x[l][_0x4b1c("0x12e")];s=x[l].fnum,f=x[l][_0x4b1c("0x12b")];break}null==s&&(I=null);var T=n[_0x4b1c("0x12b")];if(T,E<x[_0x4b1c("0x0")]-1)for(var k=E;k<x[_0x4b1c("0x0")];k++)if(x[k][_0x4b1c("0x12b")]!=T){x[k][_0x4b1c("0x12b")];break}var S,M=e(r=n.pointList,h);S=r[0].bid==a[_0x4b1c("0x3e")].id?a[_0x4b1c("0x3e")][_0x4b1c("0x136")](0):a[_0x4b1c("0x3e")].getBuildingById(r[0][_0x4b1c("0x12b")]),M.length>1&&Array[_0x4b1c("0xf")][_0x4b1c("0x12")][_0x4b1c("0x4")](a[_0x4b1c("0x1217")],M);a[_0x4b1c("0x1217")].length;if(1==M[_0x4b1c("0x0")]&&0!=n.length&&Array[_0x4b1c("0xf")][_0x4b1c("0x12")][_0x4b1c("0x4")](a.combinePoints,M),1==M.length){if(s&&0==n[_0x4b1c("0x0")]&&(y==h||null==y)){var R=a[_0x4b1c("0x1280")](M[0].point);R||(R=S.id);var L=S.getFloor(s),H=void 0;H=(H=s>1&&0==S.id?"室内":L.floorDesc)[_0x4b1c("0x2c")]("")[_0x4b1c("0x4f1")](" ");var D=[_0x4b1c("0x1290")+R+" 前往 "+H+" 层"];d[_0x4b1c("0x12")](D),u[_0x4b1c("0x12")]({startPoint:r[0],startDirection:s>h?"上":"下",startFloor:h,endFloor:s,endPoint:x[l][_0x4b1c("0x1202")][0]})}}else{for(var O=[(0,o.default)({},M[0])],P=1;P<M.length-1;P++){var N=(0,o.default)({},M[P]);Math.min(N[_0x4b1c("0x1287")],360-N[_0x4b1c("0x1287")])<=22.5&&!N[_0x4b1c("0x1286")]?O[O.length-1][_0x4b1c("0x23c")]+=N[_0x4b1c("0x23c")]:O[_0x4b1c("0x12")](N)}O[_0x4b1c("0x12")]((0,o.default)({},M[M[_0x4b1c("0x0")]-1])),40004==a.navData[1][_0x4b1c("0x99")]&&E==x[_0x4b1c("0x0")]-1&&O[_0x4b1c("0x0")]>=3&&(O.pop(),O[O[_0x4b1c("0x0")]-1].distance<8&&(a[_0x4b1c("0x11e7")]=O[O[_0x4b1c("0x0")]-1][_0x4b1c("0x23c")],O[O[_0x4b1c("0x0")]-1]={index:O[O.length-1][_0x4b1c("0x2cd")],point:O[O.length-1][_0x4b1c("0x2f7")],fnum:O[O[_0x4b1c("0x0")]-1].fnum,parkDir:O[O.length-1][_0x4b1c("0x128e")]}));for(var F=0;F<O[_0x4b1c("0x0")]-1&&!a[_0x4b1c("0x128a")];F++)C+=O[F][_0x4b1c("0x23c")],O[F][_0x4b1c("0x127c")]=C,d[_0x4b1c("0x12")](t(O,F,h,I,0,0,f)),u[_0x4b1c("0x12")](i(O,F,h,I))}if(y=h,M[_0x4b1c("0x0")]>1){var B=M[_0x4b1c("0x121")]((function(x,c){return x+(c[_0x4b1c("0x23c")]||0)}),0);v.push({fnum:h,distance:B}),g+=B}}return[d,u,g-=a[_0x4b1c("0x11e7")],v]}},{key:_0x4b1c("0x1291"),value:function(x,c,b,_,e){var t=this;function i(){t.locationMarker.fnum=x[_0x4b1c("0x12e")],t.locationMarker.visible=!0}if(t[_0x4b1c("0x11ee")]!=x[_0x4b1c("0x12e")]||t[_0x4b1c("0x1263")]!=x.bid){t[_0x4b1c("0x11ee")]=x[_0x4b1c("0x12e")],t._preBid=x[_0x4b1c("0x12b")],t._groupPointsIndex++,t[_0x4b1c("0x603")][_0x4b1c("0x191")]=!1;var a={x:-x.x-t[_0x4b1c("0x3e")][_0x4b1c("0x1e1")][_0x4b1c("0x2de")],y:x.z+t.map[_0x4b1c("0x1e1")].sceneZ_};a[_0x4b1c("0x12e")]=x[_0x4b1c("0x12e")],function(c){if(!t[_0x4b1c("0x1271")]){var b=t[_0x4b1c("0x3e")][_0x4b1c("0x136")](x[_0x4b1c("0x12b")]);0!=b.id&&(t[_0x4b1c("0x1292")]?b[_0x4b1c("0x137")]=t[_0x4b1c("0x126c")]:b[_0x4b1c("0x137")]=[x.fnum],b[_0x4b1c("0x575")]={fnum:x[_0x4b1c("0x12e")],notMove:!0});var _=t.locationMarker[_0x4b1c("0x1293")](),e=t[_0x4b1c("0x1294")][t._groupPointsIndex];e&&e.pointList&&e[_0x4b1c("0x1202")].length>0&&(_=t[_0x4b1c("0x1294")][t[_0x4b1c("0x1264")]].pointList[0]),_[_0x4b1c("0x12e")]=x.fnum,t[_0x4b1c("0x603")][_0x4b1c("0x22e")]({x:_.x,y:_.y,fnum:_[_0x4b1c("0x12e")],bid:x[_0x4b1c("0x12b")],offsetHeight:(_.z||0)+1.01*t.offsetHeight})}c?(t[_0x4b1c("0x3e")][_0x4b1c("0x1295")]=!0,t[_0x4b1c("0x1226")](a,t.inTime,(function(){var x=t[_0x4b1c("0x3e")].scaleLevels_[t[_0x4b1c("0x222")]]<.2?t.minScale:t[_0x4b1c("0x3e")][_0x4b1c("0x9cf")][t[_0x4b1c("0x222")]];t.map[_0x4b1c("0x9fe")]({value:x,time:t[_0x4b1c("0x126f")],onComplete:function(){t[_0x4b1c("0x11ef")]=!1,t[_0x4b1c("0x3e")][_0x4b1c("0x1295")]=!1}}),i(),t.changeTiltAngle&&(t[_0x4b1c("0x1260")]=new esmap.TWEEN.Tween(t.map).to({tiltAngle:t[_0x4b1c("0x2c1")]},1e3*t[_0x4b1c("0x126f")])[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ab")])[_0x4b1c("0x1af")]())}))):(i(),t[_0x4b1c("0x11ef")]=!1,t[_0x4b1c("0x3e")].isNaviAnimating=!1)}(!1),t[_0x4b1c("0xa36")](_0x4b1c("0x1296"),x[_0x4b1c("0x12e")])}t[_0x4b1c("0x260")]&&(null===t[_0x4b1c("0x1269")]||!isNaN(c)&&Math[_0x4b1c("0x23d")](t.lastAngle-c)>.1)&&(t._rotateId=t[_0x4b1c("0x3e")].rotateTo({angle:c,time:.6}));var n=1;if(e&&t[_0x4b1c("0x1269")]!=c){var r=-c;r<0&&(r=360+r),t[_0x4b1c("0x603")].rotateTo({angle:r,time:t[_0x4b1c("0x1297")]}),n=.2}t.lastAngle=c;var s={x:b.x,y:b.y,z:b.z+1.01*t[_0x4b1c("0x28")],time:n};t.locationMarker.visible||(t.locationMarker.visible=!0),t[_0x4b1c("0x125f")]?s[_0x4b1c("0x1a5")]=0:null!=t[_0x4b1c("0x11da")]&&(s.time=t[_0x4b1c("0x11da")]);var o={x:s.x,y:s.y,z:s.z};o[_0x4b1c("0x1a5")]=s[_0x4b1c("0x1a5")],t[_0x4b1c("0x603")][_0x4b1c("0x325")](o),t[_0x4b1c("0x1218")][_0x4b1c("0xf0")][_0x4b1c("0xf1")][0]&&_&&t._updateLinePass(_);var f=t[_0x4b1c("0x1298")],l=1;!f&&t[_0x4b1c("0x125f")]&&(l=0);var d=(new Date)[_0x4b1c("0x86")]();if(d-t.moveTimer>1e3*f+1e3*l){var u=0;b.bid&&b[_0x4b1c("0x12e")]&&(u=t[_0x4b1c("0x3e")].getBuildingById(b[_0x4b1c("0x12b")])[_0x4b1c("0x2d7")](b[_0x4b1c("0x12e")])),t[_0x4b1c("0x2ac")]&&t[_0x4b1c("0x3e")].moveTo({x:o.x,y:o.y,height:u+o.z,time:l}),t[_0x4b1c("0x11e5")]=d}}},{key:_0x4b1c("0x1299"),value:function(){var x=this;x[_0x4b1c("0x11f0")]&&clearInterval(x[_0x4b1c("0x11f0")]);var c=x[_0x4b1c("0x126d")]();x[_0x4b1c("0x11dd")][_0x4b1c("0x1af")](),x.isSimulating=!0,x._groupPointsIndex=0,x[_0x4b1c("0x128c")]=0,x[_0x4b1c("0x11f0")]=setInterval((function(){if(!x[_0x4b1c("0x11e3")]){var b=x.timerDelta;if(x[_0x4b1c("0x129a")]=x[_0x4b1c("0x2d8")]*b,!x._changeFnumIng&&!x.pause&&(x[_0x4b1c("0x11ed")]+=x[_0x4b1c("0x129a")],0!=x[_0x4b1c("0x11ed")])){var _=x[_0x4b1c("0x127f")](c,x[_0x4b1c("0x11ed")]),e=x[_0x4b1c("0x11d4")]-x[_0x4b1c("0x11ed")],t=(0,o.default)({},_),i=(0,o.default)(new THREE.Vector3,_);t.y;if(!_)return void(x[_0x4b1c("0x11e3")]=!0);if(e<=0&&(x._isEnd_=!0,x[_0x4b1c("0x603")].setPosition({x:i.x,y:i.z,bid:i.bid,fnum:i[_0x4b1c("0x12e")],height:i.y+1.01*x[_0x4b1c("0x28")]})),x[_0x4b1c("0x11db")]==_0x4b1c("0x38f"))x[_0x4b1c("0x129b")]({fnum:i[_0x4b1c("0x12e")],x:i.x,y:i.z,z:i.y,orientToPath:!0});else{var a={x:i.x,y:i.z,z:i.y},n=0;if(c[_[_0x4b1c("0x2cd")]]){var r={x:c[_[_0x4b1c("0x2cd")]].x,y:c[_[_0x4b1c("0x2cd")]].z,z:c[_[_0x4b1c("0x2cd")]].y};n=x.getRouteAngle(a,r)}x[_0x4b1c("0x1247")]({angle:n,remain:e,walk:x[_0x4b1c("0x11ed")],point:a,fnum:_.fnum||1,index:_[_0x4b1c("0x2cd")]-1},a,100,!0)}}}}),10)}},{key:_0x4b1c("0x126d"),value:function(){if(this[_0x4b1c("0x3f2")][0]&&this[_0x4b1c("0x3f2")][1]){if(this[_0x4b1c("0x11db")]==_0x4b1c("0x1214")){var x=-1,c=this[_0x4b1c("0x1217")].map((function(c,b){var _=new(THREE[_0x4b1c("0x128")])(c.x,0,c.z);return _[_0x4b1c("0x12e")]=c[_0x4b1c("0x12e")]||1,_[_0x4b1c("0x12b")]=c.bid||0,_[_0x4b1c("0x126e")]=b,_[_0x4b1c("0x129c")]=c[_0x4b1c("0x125b")],x=b,_})),b=this[_0x4b1c("0x1217")][this.combinePoints.length-1];return(_=new(THREE[_0x4b1c("0x128")])(b.x,0,b.z))[_0x4b1c("0x12e")]=b.endFloor,_[_0x4b1c("0x126e")]=x+1,_.bid=b[_0x4b1c("0x12b")],c[_0x4b1c("0x12")](_),c}var _;x=-1,c=this.combinePoints[_0x4b1c("0x3e")]((function(c,b){var _=new THREE.Vector3(c[_0x4b1c("0x2f7")].x,c[_0x4b1c("0x2f7")].z,c.point.y);return _[_0x4b1c("0x12e")]=c[_0x4b1c("0x2f7")][_0x4b1c("0x12e")],_[_0x4b1c("0x126e")]=b,_[_0x4b1c("0x23c")]=c[_0x4b1c("0x23c")],_[_0x4b1c("0x12b")]=c[_0x4b1c("0x2f7")][_0x4b1c("0x12b")],x=b,_})),b=this[_0x4b1c("0x1217")][this.combinePoints[_0x4b1c("0x0")]-1];return(_=new THREE.Vector3(b[_0x4b1c("0x2f7")].x,b.point.z,b.point.y)).fnum=b[_0x4b1c("0x2f7")][_0x4b1c("0x12e")],_[_0x4b1c("0x126e")]=x+1,_.distance=b[_0x4b1c("0x23c")],_.bid=b[_0x4b1c("0x2f7")][_0x4b1c("0x12b")],c[_0x4b1c("0x12")](_),c}}},{key:"getLineInfo",value:function(x){for(var c=this[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0xb00")][_0x4b1c("0xd94")],b=0;b<c[_0x4b1c("0x0")];b++){if(c[b][_0x4b1c("0x3f3")][x])return{floornum:c[b].floornum}}return null}},{key:_0x4b1c("0x129d"),value:function(x){for(var c in this[_0x4b1c("0x3e")].tileService.navData){var b=map[_0x4b1c("0x2b3")][_0x4b1c("0x3f2")][c];if(b[_0x4b1c("0x3f3")][x])return b}return!1}},{key:_0x4b1c("0x129e"),value:function(x){for(var c in this[_0x4b1c("0x11f7")][_0x4b1c("0x1243")][_0x4b1c("0x1283")][this.map[_0x4b1c("0xb79")]]={isReload:!0,allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}},this.routePlanner[_0x4b1c("0x1243")].source[this[_0x4b1c("0x3e")][_0x4b1c("0xb79")]]=null,this.map.tileService.navData){var b=map.tileService.navData[c],_={},t=b.Nodes,i={},a=!0,n=!1,r=void 0;try{for(var s,f=(0,e.default)(x);!(a=(s=f[_0x4b1c("0x286")]()).done);a=!0){var l=s[_0x4b1c("0x13a")];i[l.id]=l[_0x4b1c("0x71e")]}}catch(x){n=!0,r=x}finally{try{!a&&f.return&&f[_0x4b1c("0x28a")]()}finally{if(n)throw r}}for(var d in b[_0x4b1c("0x3f3")]){var u=(0,o[_0x4b1c("0xc")])({},b[_0x4b1c("0x3f3")][d]);if(u[_0x4b1c("0x3d8")]&&i.hasOwnProperty(u._id))switch(i[u[_0x4b1c("0x3d8")]]){case 0:continue;case 1:_[d]=u;break;case 2:u[_0x4b1c("0x3fe")]="1",_[d]=u;break;case 3:u.direction="1";var h=u.sid;u[_0x4b1c("0xe75")]=u[_0x4b1c("0x5b2")],u[_0x4b1c("0x5b2")]=h,_[d]=u;break;case 4:u.direction="0",_[d]=u}else _[d]=u}var g={floornum:1,Lines:_,Nodes:t};this[_0x4b1c("0x11f7")][_0x4b1c("0x1243")].preprocessTileNav(g)}}},{key:"updateNavData",value:function(x){var c=this[_0x4b1c("0x3e")],b=this[_0x4b1c("0x3e")][_0x4b1c("0xb79")],e=null;if(c[_0x4b1c("0x3b")]!==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")])if((e=c[_0x4b1c("0x566")]()[_0x4b1c("0xb00")])[_0x4b1c("0xd94")]&&e[_0x4b1c("0xd94")][_0x4b1c("0x0")]){for(var t=(0,_[_0x4b1c("0xc")])({},b,{}),i=0;i<x[_0x4b1c("0x0")];i++){var a=x[i],n=a[_0x4b1c("0xc0b")];if(!n){var r=this.getLineInfo(a.id);if(!r){console[_0x4b1c("0xe3")](_0x4b1c("0x129f")+a.id);continue}n=r[_0x4b1c("0xc0b")]}t[b][n]||(t[b][n]={}),t[b][n][a.id]=a[_0x4b1c("0x71e")]}for(var s in t){for(var f=t[s],l={navs:[]},d=0;d<e.navs.length;d++){var u=e[_0x4b1c("0xd94")][d],h=u.floornum,g={},v=u[_0x4b1c("0xd4d")],p=f[h];for(var m in u[_0x4b1c("0x3f3")]){var A=(0,o[_0x4b1c("0xc")])({},u.Lines[m]);if(p&&p[_0x4b1c("0x1")](m))switch(p[m]){case 0:continue;case 1:g[m]=A;break;case 2:A[_0x4b1c("0x3fe")]="1",g[m]=A;break;case 3:A[_0x4b1c("0x3fe")]="1";var y=A.sid;A[_0x4b1c("0xe75")]=A.eid,A.eid=y,g[m]=A;break;case 4:A[_0x4b1c("0x3fe")]="0",g[m]=A}else g[m]=A}l[_0x4b1c("0xd94")][_0x4b1c("0x12")]({floornum:h,Lines:g,Nodes:v})}this[_0x4b1c("0x11f7")][_0x4b1c("0x1243")][_0x4b1c("0x1283")][s]={isReload:!0,allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}},this[_0x4b1c("0x11f7")][_0x4b1c("0x1243")][_0x4b1c("0x89d")][s]=l,this.routePlanner[_0x4b1c("0x1243")][_0x4b1c("0x12a0")](s,l[_0x4b1c("0xd94")])}}else console[_0x4b1c("0xe3")]("源数据不存在: "+bid);else this[_0x4b1c("0x129e")](x)}},{key:_0x4b1c("0x12a1"),get:function(){return this.navData[0]}},{key:_0x4b1c("0x12a2"),get:function(){return this.navData[1]}},{key:_0x4b1c("0x12a3"),get:function(){return this._groupsPoints}},{key:_0x4b1c("0x3b"),get:function(){return p[_0x4b1c("0xde")](this)},set:function(x){this.mode!=x?(p[_0x4b1c("0xdb")](this,x),this[_0x4b1c("0x11ff")]()):p.set(this,x)}},{key:_0x4b1c("0x1240"),get:function(){return y[_0x4b1c("0xde")](this)},set:function(x){var c=this[_0x4b1c("0x1240")];y.set(this,x),c!=x&&this[_0x4b1c("0xa36")](_0x4b1c("0x12a4"),x)}},{key:_0x4b1c("0x120b"),get:function(){return m[_0x4b1c("0xde")](this)},set:function(x){this.ladderType!=x?(m.set(this,x),this[_0x4b1c("0x11ff")]()):m[_0x4b1c("0xdb")](this,x)}},{key:"locationMarker",get:function(){if(!A[_0x4b1c("0xde")](this)){var x=this[_0x4b1c("0x12a5")];x[_0x4b1c("0x4e")]=this[_0x4b1c("0x12a6")]||_0x4b1c("0x12a7"),x[_0x4b1c("0xe0")]=this[_0x4b1c("0x12a8")]||50,x[_0x4b1c("0x1096")]=this[_0x4b1c("0x12a9")],x[_0x4b1c("0x16c")]=this.locationMarkerSeeThough,x.x=0,x.y=0,A[_0x4b1c("0xdb")](this,new(esmap[_0x4b1c("0x62b")])(x)),this[_0x4b1c("0x3e")].addLocationMarker(A[_0x4b1c("0xde")](this))}return A[_0x4b1c("0xde")](this)},set:function(x){x instanceof esmap[_0x4b1c("0x62b")]&&(A[_0x4b1c("0xdb")](this,x),this[_0x4b1c("0x3e")][_0x4b1c("0x12aa")](A[_0x4b1c("0xde")](this)))}}]),x}();c.default=E},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=r(b(15)),e=r(b(9)),t=r(b(0)),i=r(b(1)),a=r(b(366)),n=b(84);function r(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var s=function(){function x(){(0,t[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x1243")]=new(a[_0x4b1c("0xc")]),this[_0x4b1c("0x1204")]=null,this[_0x4b1c("0x11d3")]=null}return(0,i[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x12ab"),value:function(x){for(var c={distance:x[_0x4b1c("0x36")][0][_0x4b1c("0x23c")],posList:[]},b=x[_0x4b1c("0x36")][0][_0x4b1c("0x12ac")],_=0,e=0,t=b[_0x4b1c("0x0")];e<t;e++)for(var i=b[e],a=this[_0x4b1c("0x12ad")](i.polyline),r=this[_0x4b1c("0x12ae")](a),s=e==b.length-1?r.length:r.length-1,o=0;o<s;o++){var f=r[o],l=(new(THREE[_0x4b1c("0x128")])).copy(f);if(l[_0x4b1c("0x125b")]=e,c[_0x4b1c("0x12af")][_0x4b1c("0x12")](l),c[_0x4b1c("0x12af")].length>1){var d=c[_0x4b1c("0x12af")][c[_0x4b1c("0x12af")][_0x4b1c("0x0")]-2],u=c[_0x4b1c("0x12af")][c[_0x4b1c("0x12af")].length-1];_+=(0,n.DistanceofTwoPts)({x:d.x,y:d.z},{x:u.x,y:u.z})}}return c[_0x4b1c("0x12b0")]=_,c}},{key:"requestAMapData",value:function(x,c){var b=this;return new e.default((function(_,e){var t=c.url+"?",i=!1;for(var a in c[_0x4b1c("0x1c6")])i&&(t+="&"),t+=a+"="+c[_0x4b1c("0x1c6")][a],i=!0;esmap[_0x4b1c("0x5f6")][_0x4b1c("0xde")]({url:t})[_0x4b1c("0x481")]((function(c){var t=JSON[_0x4b1c("0x71")](c);if("1"===t[_0x4b1c("0x2dc")]||0===t[_0x4b1c("0x12b1")]){var i,a=null;x!==_0x4b1c("0x12b2")?(i=t[_0x4b1c("0x12b3")][_0x4b1c("0x36")][0],a=t[_0x4b1c("0x12b3")]):(i=t[_0x4b1c("0x569")][_0x4b1c("0x36")][0],a=t[_0x4b1c("0x569")]);for(var n=b[_0x4b1c("0x12ab")](a),r=n[_0x4b1c("0x12b0")],s=[],o=n[_0x4b1c("0x12af")],f=null,l=0;l<o[_0x4b1c("0x0")];l++){var d=o[l];f&&d.x===f.x&&d.z===f.z||(s[_0x4b1c("0x12")]({x:d.x,y:d.z}),f=d)}_({pointList:s,rawPointList:n[_0x4b1c("0x12af")],distance:r,des:i.steps})}else e(),b[_0x4b1c("0xa36")](_0x4b1c("0x12b4"),0)}))}))}},{key:"splitLLStrToPoints",value:function(x){var c=x[_0x4b1c("0x2c")](";"),b=[],e=!0,t=!1,i=void 0;try{for(var a,n=(0,_[_0x4b1c("0xc")])(c);!(e=(a=n[_0x4b1c("0x286")]()).done);e=!0){var r=a[_0x4b1c("0x13a")][_0x4b1c("0x2c")](","),s=[parseFloat(r[0]),parseFloat(r[1])];b.push(s)}}catch(x){t=!0,i=x}finally{try{!e&&n[_0x4b1c("0x28a")]&&n.return()}finally{if(t)throw i}}return b}},{key:_0x4b1c("0x12ae"),value:function(x){var c=[],b=!0,e=!1,t=void 0;try{for(var i,a=(0,_[_0x4b1c("0xc")])(x);!(b=(i=a[_0x4b1c("0x286")]()).done);b=!0){var n=i[_0x4b1c("0x13a")],r=esmap[_0x4b1c("0x87")][_0x4b1c("0xfa")](n[0],n[1]);c[_0x4b1c("0x12")](new(THREE[_0x4b1c("0x128")])(r[0],0,r[1]))}}catch(x){e=!0,t=x}finally{try{!b&&a[_0x4b1c("0x28a")]&&a.return()}finally{if(e)throw t}}return c}},{key:_0x4b1c("0x12b5"),value:function(x,c,b){var _="";return x===_0x4b1c("0x1211")&&(_=_0x4b1c("0x12b6")),x===_0x4b1c("0x12b7")&&(_="https://restapi.amap.com/v3/direction/walking"),x===_0x4b1c("0x12b2")&&(_=_0x4b1c("0x12b8")),{url:_,param:{origin:c[0][_0x4b1c("0x64d")](6)+","+c[1].toFixed(6),destination:b[0][_0x4b1c("0x64d")](6)+","+b[1][_0x4b1c("0x64d")](6),output:_0x4b1c("0xff"),key:this[_0x4b1c("0x11d3")]}}}},{key:_0x4b1c("0x1200"),value:function(x){var c=x[_0x4b1c("0x12b")],b=x[_0x4b1c("0x91e")],_=x[_0x4b1c("0x91f")],e=x[_0x4b1c("0x3b")],t=x[_0x4b1c("0x120b")],i=x[_0x4b1c("0x120c")],a=x[_0x4b1c("0x120d")],n=x[_0x4b1c("0x1213")],r=x.type,s=esmap[_0x4b1c("0x87")].Mercator2lonLat(b.x,b.y),o=esmap[_0x4b1c("0x87")][_0x4b1c("0xf6")](_.x,_.y);if(n){var f=this[_0x4b1c("0x12b5")](r,s,o);return this[_0x4b1c("0x12b9")](r,f)}return this[_0x4b1c("0x1243")].getNaviResult({linkMinDistance:a,linkStartEnd:i,bid:c,startPoint:b,endPoint:_,mode:e,ladderType:t})}},{key:_0x4b1c("0x12ba"),value:function(x,c){return this[_0x4b1c("0x1243")][_0x4b1c("0x12bb")](x,c)}},{key:_0x4b1c("0x12bc"),value:function(x){this[_0x4b1c("0x1243")][_0x4b1c("0x89d")]=x}},{key:_0x4b1c("0x12bd"),value:function(x,c,b,_){return this[_0x4b1c("0x1243")].getNaviResultBetbuildings(x,c,b,_)}},{key:_0x4b1c("0x12be"),value:function(x){this[_0x4b1c("0x1243")].preferCrosses=[];for(var c=0;c<x[_0x4b1c("0x0")];c++)this[_0x4b1c("0x1243")][_0x4b1c("0x12bf")][_0x4b1c("0x12")](x[c]+"")}}]),x}();c[_0x4b1c("0xc")]=s},function(x,c,b){"use strict";(function(x){Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=v(b(6)),e=v(b(78)),t=v(b(7)),i=v(b(367)),a=v(b(33)),n=v(b(22)),r=v(b(47)),s=v(b(8)),o=v(b(9)),f=v(b(2)),l=v(b(0)),d=v(b(1)),u=b(84),h=b(19),g=b(368);function v(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var p=function(){function c(){(0,l[_0x4b1c("0xc")])(this,c);var x=esmap[_0x4b1c("0x32")].instance;this[_0x4b1c("0x1283")]={},this[_0x4b1c("0x89d")]={},this[_0x4b1c("0x12bf")]=[],this[_0x4b1c("0x120d")]=5,this.linkStartEnd=!0,this[_0x4b1c("0x12c0")]={},this[_0x4b1c("0x12c1")]={},this[_0x4b1c("0x12c2")]=x.id,this[_0x4b1c("0x12c3")]={},this[_0x4b1c("0x12c4")]={},this[_0x4b1c("0x12c5")]=1,this[_0x4b1c("0x12c6")]()}var b;return(0,d[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x12c7"),value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];return x===c.id||0===x||!!c[_0x4b1c("0x136")](x)}},{key:"preprocessMain",value:function(){var x=this,c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=c[_0x4b1c("0x2b3")][_0x4b1c("0x3f2")],_=c.id;for(var e in this[_0x4b1c("0x1283")][_]||(this[_0x4b1c("0x1283")][_]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}}),b){var t=b[e];t.Lines&&t[_0x4b1c("0xd4d")]&&this[_0x4b1c("0x12c8")](t)}c.on(_0x4b1c("0x12c9"),(function(c){c[_0x4b1c("0x12b")];var b=c.data;x[_0x4b1c("0x12c8")](b)}));var i=c[_0x4b1c("0xaeb")][_0x4b1c("0x3f2")];for(var a in i){var n=i[a];this[_0x4b1c("0x12a0")](a,n)}c.on(_0x4b1c("0xf9c"),(function(c){var b=c[_0x4b1c("0x12b")],_=c.data;x[_0x4b1c("0x12a0")](b,_)}))}},{key:"computeCityLinePoints",value:function(x){var c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],b=c.id,_=x[_0x4b1c("0x400")][_0x4b1c("0x2a1")](2,x[_0x4b1c("0x400")][_0x4b1c("0x0")]-2)[_0x4b1c("0x2c")](/,/),e={x:0,y:0},t=[];if(0==_.length)return!1;for(var i={x:0,y:0,z:0},a=0;a<_[_0x4b1c("0x0")];a++){var n=_[a].split(" "),r=1*n[2]||0,s=c[_0x4b1c("0x1b5")]({from:c[_0x4b1c("0x3e1")],to:c[_0x4b1c("0x2d4")],coord:{x:1*n[0]+e.x+i.x,y:1*n[1]+e.y+i.y}});t[_0x4b1c("0x12")]({X:s.x,Y:s.y,bid:b,fnum:1,offset:r+i.z}),0==a&&(e.x=1*n[0],e.y=1*n[1])}return t}},{key:_0x4b1c("0x12c8"),value:function(x){var c=this,b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].id;c[_0x4b1c("0x89d")][b]||(c[_0x4b1c("0x89d")][b]={navs:[{floornum:1,Lines:{},Nodes:{}}]}),(0,f[_0x4b1c("0xc")])(c[_0x4b1c("0x89d")][b].navs[0][_0x4b1c("0x3f3")],x[_0x4b1c("0x3f3")]),(0,f[_0x4b1c("0xc")])(c[_0x4b1c("0x89d")][b][_0x4b1c("0xd94")][0][_0x4b1c("0xd4d")],x[_0x4b1c("0xd4d")]);var _=c.dataList[b].allPointMap,e=c.dataList[b][_0x4b1c("0x1284")],t=c[_0x4b1c("0x1283")][b].nearbyLine,i=x,a=i[_0x4b1c("0xd4d")];for(var n in a){var r=a[n];r[_0x4b1c("0x12e")]=1,r[_0x4b1c("0x12b")]=b,_[n]=r}var s=i[_0x4b1c("0x3f3")];for(var n in s)s[n][_0x4b1c("0x0")]=s[n][_0x4b1c("0x695")],e[n]=s[n];for(var o in s){var l=s[o],d=null;if(l[_0x4b1c("0x12c")]&&l[_0x4b1c("0x12c")][_0x4b1c("0x0")]>=3)d=this[_0x4b1c("0x12ca")](l);else{var u=this[_0x4b1c("0x12ca")](l);u[_0x4b1c("0x0")]>=3&&(d=u)}var h=l.sid,g=l[_0x4b1c("0x5b2")];if(d){var v=h+"_"+g,p=g+"_"+h;this[_0x4b1c("0x12c3")][v]=d,this[_0x4b1c("0x12c3")][p]=d.slice().reverse()}var m=o;if(t[h])t[h][_0x4b1c("0x12")](m);else{var A=[m];t[h]=A}if(t[g])t[g][_0x4b1c("0x12")](m);else{A=[m];t[g]=A}}}},{key:_0x4b1c("0x12cb"),value:function(){var x=this,c=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].id;for(var b in this[_0x4b1c("0x12c4")]){var _=this.linkPoints[b];_.length>=2&&function(){for(var b=function(b){var t=_[b],i=_[_0x4b1c("0x1e5")](b+1)[_0x4b1c("0x2db")]((function(x){var c=(0,u[_0x4b1c("0x11d")])({x:t[_0x4b1c("0x2f7")].X,y:t[_0x4b1c("0x2f7")].Y},{x:x.point.X,y:x[_0x4b1c("0x2f7")].Y});return x[_0x4b1c("0x12b")]!=t.bid&&c<=10}));if(1===i[_0x4b1c("0x0")]){var a=_[_0x4b1c("0x12cc")]((function(x){return x[_0x4b1c("0x2f7")][_0x4b1c("0x3d8")]===i[0].point._id})),n=t.point,r=i[0][_0x4b1c("0x2f7")],s={sid:n[_0x4b1c("0x3d8")],eid:r[_0x4b1c("0x3d8")],length:1,bstair:"0",direction:"0",efnum:r[_0x4b1c("0x12e")],rank:1e3,_id:x[_0x4b1c("0x12c5")]};x.linkPointsId++,x[_0x4b1c("0x1283")][c][_0x4b1c("0x1284")][s._id]=s,x.dataList[c].nearbyLine[n[_0x4b1c("0x3d8")]][_0x4b1c("0x12")](s[_0x4b1c("0x3d8")]),x[_0x4b1c("0x1283")][c].nearbyLine[r[_0x4b1c("0x3d8")]][_0x4b1c("0x12")](s[_0x4b1c("0x3d8")]),_[_0x4b1c("0x5")](a,1),_[_0x4b1c("0x5")](b,1),b--}e=b},e=0;e<_.length;e++)b(e)}()}}},{key:_0x4b1c("0x12cd"),value:function(x,c){var b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];return new(o[_0x4b1c("0xc")])((function(_){esmap[_0x4b1c("0x87")][_0x4b1c("0x4f5")](b,{bid:x,fnum:c},{nodeType:5},(function(x){return _(x)}))}))}},{key:_0x4b1c("0x12ce"),value:function(x,c){for(var b=this[_0x4b1c("0x12c1")][x],_=0;_<b[_0x4b1c("0x0")];_++)if(esmap[_0x4b1c("0x87")][_0x4b1c("0x3d3")](c,b[_][_0x4b1c("0x12c")])){this[_0x4b1c("0x12c0")][b[_].id]||(this[_0x4b1c("0x12c0")][b[_].id]=[]),this[_0x4b1c("0x12c0")][b[_].id].push(c.id);break}}},{key:_0x4b1c("0x12a0"),value:(b=(0,s.default)(t[_0x4b1c("0xc")][_0x4b1c("0x283")]((function c(b,_){var e,s,o,f,l,d,u,h,g,v,p,m,A,y,C,I,E,w,T,k,S,M,R,L,H,D,O,P,N,F,B,z,U,V,j,Z,Y,W,G,X,Q,J,K,q,$,xx,cx,bx,_x,ex,tx;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(c){for(;;)switch(c.prev=c[_0x4b1c("0x286")]){case 0:if("development"==x[_0x4b1c("0xd26")]&&console[_0x4b1c("0x226")](_0x4b1c("0x12cf"),b,_),e=this,s=esmap.ESMap[_0x4b1c("0x3a")],!e[_0x4b1c("0x1283")][b]||e.dataList[b][_0x4b1c("0x12d0")]||!e[_0x4b1c("0x89d")][b]){c.next=5;break}return c.abrupt(_0x4b1c("0x28a"));case 5:o=s.id,this[_0x4b1c("0x89d")][b]={navs:_},this[_0x4b1c("0x120b")]=null,this[_0x4b1c("0x12d1")]=[],f={},l={1:[],2:[],3:[],6:[]},d={},u={},h={},g=_,v=s.getBuildingById(b),p=v[_0x4b1c("0x47")].undergroundOffset,m=0;case 18:if(!(m<g[_0x4b1c("0x0")])){c.next=87;break}if(A=g[m],y=A.floornum,esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x3b")]!==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]){c[_0x4b1c("0x286")]=27;break}return this[_0x4b1c("0x12c1")][y]=[],c[_0x4b1c("0x286")]=25,this[_0x4b1c("0x12cd")](b,y);case 25:for(I in C=c[_0x4b1c("0x337")])E=C[I],w=E[_0x4b1c("0x12c")][_0x4b1c("0x3e")]((function(x){return{x:-x.x,y:x.y}})),this[_0x4b1c("0x12c1")][y].push({id:E.ID,points:w});case 27:if(A){c[_0x4b1c("0x286")]=29;break}return c[_0x4b1c("0x293")]("continue",84);case 29:for(k in T=A[_0x4b1c("0xd4d")]){if((S=T[k])[_0x4b1c("0x12e")]=y,esmap[_0x4b1c("0x32")].instance[_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")].Building&&(M={x:S.X,y:S.Y,id:S[_0x4b1c("0x3d8")]},this.assignToRoom(y,M)),S.tid&&11==S.tid)if(1==(R=y-p)){if(o!=b)if((L=this[_0x4b1c("0x12d2")]({bid:o,x:S.X,y:S.Y}))[_0x4b1c("0x695")]<15){if(H=L[_0x4b1c("0x886")][_0x4b1c("0x3d8")]){for(D=e[_0x4b1c("0x1283")][o][_0x4b1c("0x1244")][H],O=0;O<D[_0x4b1c("0x0")];O++)(P=e[_0x4b1c("0x1283")][o][_0x4b1c("0x1284")][D[O]])[_0x4b1c("0xe75")]==H?P[_0x4b1c("0xe75")]=S._id:P[_0x4b1c("0x5b2")]=S[_0x4b1c("0x3d8")];e[_0x4b1c("0x1283")][o][_0x4b1c("0x1244")][S[_0x4b1c("0x3d8")]]=D,delete e.dataList[o][_0x4b1c("0x12d3")][H]}}else this[_0x4b1c("0x12c4")][R]||(this[_0x4b1c("0x12c4")][R]=[]),this[_0x4b1c("0x12c4")][R][_0x4b1c("0x12")]({bid:b,fnum:y,point:S,uoffset:p}),_0x4b1c("0x12d4"),_0x4b1c("0x12d5"),_0x4b1c("0x12d6"),S._id}else this[_0x4b1c("0x12c4")][R]||(this[_0x4b1c("0x12c4")][R]=[]),this[_0x4b1c("0x12c4")][R][_0x4b1c("0x12")]({bid:b,fnum:y,point:S,uoffset:p});o!=b&&(S[_0x4b1c("0x12b")]=b,e[_0x4b1c("0x1283")][o][_0x4b1c("0x12d3")][k]&&_0x4b1c("0x12d7"),e.dataList[o][_0x4b1c("0x12d3")][k]=S),d[k]=S}for(F in N=A[_0x4b1c("0x3f3")])o!=b&&(e[_0x4b1c("0x1283")][o][_0x4b1c("0x1284")][F]&&_0x4b1c("0x12d8"),e[_0x4b1c("0x1283")][o].allLineMap[F]=N[F]),N[F][_0x4b1c("0x12b")]=b,u[F]=N[F];c.t0=t[_0x4b1c("0xc")][_0x4b1c("0x684")](N);case 34:if((c.t1=c.t0())[_0x4b1c("0x40f")]){c[_0x4b1c("0x286")]=84;break}if(B=c.t1[_0x4b1c("0x13a")],z=N[B],U=z[_0x4b1c("0xe75")],V=z[_0x4b1c("0x5b2")],j=B,Z=z.bstair,Y=["1","2","3","6"],y==z[_0x4b1c("0xf12")]){c[_0x4b1c("0x286")]=79;break}if(!(Y[_0x4b1c("0x114")](Z)<0)){c[_0x4b1c("0x286")]=48;break}f[U]?f[U][_0x4b1c("0x12")](j):(W=[j],f[U]=W),f[V]?f[V].push(j):(W=[j],f[V]=W),c[_0x4b1c("0x286")]=77;break;case 48:if("5"==Z||"0"==Z||"6"==Z){c[_0x4b1c("0x286")]=77;break}if(G=l[Z]){c[_0x4b1c("0x286")]=53;break}return _0x4b1c("0x12d9"),c.abrupt(_0x4b1c("0x28a"));case 53:if(0!=G[_0x4b1c("0x0")]){c[_0x4b1c("0x286")]=57;break}G.push({pointids:[U,V],fnums:[y,z[_0x4b1c("0xf12")]],lineids:[B],ladderType:Z,crosses:(X={},(0,r[_0x4b1c("0xc")])(X,U,[B]),(0,r.default)(X,V,[B]),X),fnumPoints:[(Q={},(0,r[_0x4b1c("0xc")])(Q,U,{at:y,to:z[_0x4b1c("0xf12")]}),(0,r[_0x4b1c("0xc")])(Q,V,{at:z[_0x4b1c("0xf12")],to:y}),Q)]}),c.next=77;break;case 57:J=0;case 58:if(!(J<G[_0x4b1c("0x0")])){c[_0x4b1c("0x286")]=77;break}if(!((K=G[J]).pointids[_0x4b1c("0x114")](U)>-1||K.pointids[_0x4b1c("0x114")](V)>-1)){c[_0x4b1c("0x286")]=73;break}return K.pointids[_0x4b1c("0x12")](U,V),K[_0x4b1c("0x669")][_0x4b1c("0x12")](y,z[_0x4b1c("0xf12")]),K[_0x4b1c("0x12da")].push(B),K[_0x4b1c("0x12da")]=[][_0x4b1c("0x377")]((0,n.default)(new a.default(K[_0x4b1c("0x12da")]))),K.fnums=[][_0x4b1c("0x377")]((0,n[_0x4b1c("0xc")])(new(a[_0x4b1c("0xc")])(K[_0x4b1c("0x669")]))),K.pointids=[].concat((0,n[_0x4b1c("0xc")])(new a.default(K[_0x4b1c("0x12db")]))),K[_0x4b1c("0x12dc")][_0x4b1c("0x12")]((q={},(0,r[_0x4b1c("0xc")])(q,U,{at:y,to:z[_0x4b1c("0xf12")]}),(0,r[_0x4b1c("0xc")])(q,V,{at:z[_0x4b1c("0xf12")],to:y}),q)),K[_0x4b1c("0x12dd")][U]?K[_0x4b1c("0x12dd")][U].push(B):K[_0x4b1c("0x12dd")][U]=[B],2==K.crosses[U][_0x4b1c("0x0")]&&K[_0x4b1c("0x12dd")][U][0]==K[_0x4b1c("0x12dd")][U][1]&&K[_0x4b1c("0x12dd")][U][_0x4b1c("0x5")](1,1),K[_0x4b1c("0x12dd")][V]?K.crosses[V][_0x4b1c("0x12")](B):K[_0x4b1c("0x12dd")][V]=[B],2==K[_0x4b1c("0x12dd")][V][_0x4b1c("0x0")]&&K[_0x4b1c("0x12dd")][V][0]==K[_0x4b1c("0x12dd")][V][1]&&K.crosses[V].splice(1,1),c[_0x4b1c("0x293")](_0x4b1c("0xafb"),77);case 73:J==G.length-1&&G[_0x4b1c("0x12")]({pointids:[U,V],fnums:[y,z[_0x4b1c("0xf12")]],lineids:[B],ladderType:Z,fnumPoints:[($={},(0,r[_0x4b1c("0xc")])($,U,{at:y,to:z[_0x4b1c("0xf12")]}),(0,r.default)($,V,{at:z[_0x4b1c("0xf12")],to:y}),$)],crosses:(xx={},(0,r.default)(xx,U,[B]),(0,r.default)(xx,V,[B]),xx)});case 74:J++,c[_0x4b1c("0x286")]=58;break;case 77:c[_0x4b1c("0x286")]=82;break;case 79:o!=b&&((cx=e[_0x4b1c("0x1283")][o][_0x4b1c("0x1244")])[U]?cx[U][_0x4b1c("0x12")](j):(bx=[j],cx[U]=bx),cx[V]?cx[V][_0x4b1c("0x12")](j):(_x=[j],cx[V]=_x)),h[U]?h[U].push(j):(W=[j],h[U]=W),h[V]?h[V][_0x4b1c("0x12")](j):(W=[j],h[V]=W);case 82:c.next=34;break;case 84:m++,c.next=18;break;case 87:this[_0x4b1c("0x12cb")](),ex=[].concat((0,n[_0x4b1c("0xc")])(l[1]),(0,n[_0x4b1c("0xc")])(l[2]),(0,n[_0x4b1c("0xc")])(l[3])),tx={},ex[_0x4b1c("0x1c")]((function(x){tx=(0,i[_0x4b1c("0xc")])({},tx,x[_0x4b1c("0x12dd")])})),tx=(0,i[_0x4b1c("0xc")])({},tx,f),e[_0x4b1c("0x1283")][o].crossSchemes[_0x4b1c("0x12de")]=[][_0x4b1c("0x377")]((0,n[_0x4b1c("0xc")])(ex),(0,n[_0x4b1c("0xc")])(e[_0x4b1c("0x1283")][o][_0x4b1c("0x1281")][_0x4b1c("0x12de")])),e[_0x4b1c("0x1283")][o][_0x4b1c("0x1281")][_0x4b1c("0x1282")]=(0,i[_0x4b1c("0xc")])({},tx,e.dataList[o].crossSchemes[_0x4b1c("0x1282")],e[_0x4b1c("0x1283")][o][_0x4b1c("0x1281")][_0x4b1c("0x1285")]),e[_0x4b1c("0x1283")][o][_0x4b1c("0x1281")].carModeScheme=(0,i[_0x4b1c("0xc")])({},f,e[_0x4b1c("0x1283")][o][_0x4b1c("0x1281")].carModeScheme),e[_0x4b1c("0x1283")][b]={allPointMap:d,allLineMap:u,nearbyLine:h,crossSchemes:{carModeScheme:f,manModeScheme:ex,manModeAllScheme:tx}},x[_0x4b1c("0xd26")]==_0x4b1c("0xd27")&&console[_0x4b1c("0x226")]("preprocessComplete"),s[_0x4b1c("0xe7")](_0x4b1c("0x12df"),{bid:b});case 98:case _0x4b1c("0x2a0"):return c[_0x4b1c("0x19b")]()}}),c,this)}))),function(x,c){return b[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x12e0"),value:function(x){this[_0x4b1c("0x120c")]=x[_0x4b1c("0x120c")],this[_0x4b1c("0x120d")]=x[_0x4b1c("0x120d")];var c=x.mode;this[_0x4b1c("0x12d1")]=[],x[_0x4b1c("0x91e")][_0x4b1c("0x12e")]||(x.startPoint[_0x4b1c("0x12e")]=1),x[_0x4b1c("0x91f")][_0x4b1c("0x12e")]||(x.endPoint[_0x4b1c("0x12e")]=1);var b=this[_0x4b1c("0x12e1")](x[_0x4b1c("0x91e")][_0x4b1c("0x12b")],x[_0x4b1c("0x91e")].fnum),_=this.getSource(x[_0x4b1c("0x91f")][_0x4b1c("0x12b")],x.endPoint.fnum);if(!b||!_)return console[_0x4b1c("0x226")](_0x4b1c("0x12e2")),[new esmap.ESNaviResult(x.startPoint[_0x4b1c("0x12b")],x[_0x4b1c("0x12e3")],0,[])];var e=this[_0x4b1c("0x12e4")](x[_0x4b1c("0x91e")][_0x4b1c("0x12b")],x[_0x4b1c("0x91e")],c),t=this[_0x4b1c("0x12e4")](x.endPoint[_0x4b1c("0x12b")],x[_0x4b1c("0x91f")],c);if(!e||!t)return null;var i=b[_0x4b1c("0xd4d")][e._id],a=_[_0x4b1c("0xd4d")][t[_0x4b1c("0x3d8")]];return i&&a?(x[_0x4b1c("0x91f")].id=t[_0x4b1c("0x3d8")],this[_0x4b1c("0x12e5")]({startPoint:x[_0x4b1c("0x91e")],endPoint:x[_0x4b1c("0x91f")],mode:x.mode,ladderType:x[_0x4b1c("0x120b")]})):(console[_0x4b1c("0x291")]("请重新选点"),null)}},{key:_0x4b1c("0x12bb"),value:function(x,c){for(var b=this[_0x4b1c("0x89d")][x].navs,_=0;_<b[_0x4b1c("0x0")];_++){var e=b[_].Nodes;if(e[c])return e[c]}return null}},{key:_0x4b1c("0x12e1"),value:function(x,c){for(var b=this.source[x][_0x4b1c("0xd94")],_=0;_<b[_0x4b1c("0x0")];_++)if(b[_][_0x4b1c("0xc0b")]==c)return b[_]}},{key:_0x4b1c("0x12e5"),value:function(x){var c=null,b=this,t=x[_0x4b1c("0x91e")],a=x[_0x4b1c("0x91f")],n=t[_0x4b1c("0x12e")],r=a[_0x4b1c("0x12e")],s=x[_0x4b1c("0x3b")],o=x[_0x4b1c("0x120b")],l=x.noEntryPoint,d=this[_0x4b1c("0x12c2")],h=this[_0x4b1c("0x12e4")](t.bid,x[_0x4b1c("0x91e")],x[_0x4b1c("0x3b")],l),v=this[_0x4b1c("0x12e4")](a.bid,x[_0x4b1c("0x91f")],s,l),p=h._id,m=v[_0x4b1c("0x3d8")],A=esmap.ESMap[_0x4b1c("0x3a")],y=A[_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")];if(p==m)return null;var C=null,I=b[_0x4b1c("0x1283")][d].allPointMap;if(1==s)if(n==r||t[_0x4b1c("0x12b")]!=a.bid)(C=this[_0x4b1c("0x12e6")]({},p,m,s,d,o))&&0!=C.length||(C=this[_0x4b1c("0x12e6")](b[_0x4b1c("0x1283")][d].crossSchemes[_0x4b1c("0x1282")],p,m,s,d,o));else{var E=[],w=b.dataList[d][_0x4b1c("0x1281")][_0x4b1c("0x12de")];(0,e[_0x4b1c("0xc")])(w)[_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0x3ff")]=0,x[_0x4b1c("0xb03")]=!1,x[_0x4b1c("0x669")][_0x4b1c("0x114")](n)>-1&&x[_0x4b1c("0x669")].indexOf(r)>-1&&(1==o?(Math[_0x4b1c("0x23d")](n-r)>=3&&2==x.ladderType&&(x[_0x4b1c("0x3ff")]+=20),E[_0x4b1c("0x12")](x)):2==o&&2==x.ladderType?E.push(x):(3==o&&1==x[_0x4b1c("0x120b")]||4==o&&3==x[_0x4b1c("0x120b")])&&E[_0x4b1c("0x12")](x))})),E[_0x4b1c("0x1c")]((function(x){for(var c,b=void 0,_=r-n>0,e=0;e<x[_0x4b1c("0x12dc")][_0x4b1c("0x0")];e++){var i=x.fnumPoints[e];if(c&&b)break;for(var s in i){var o=i[s].to-i[s].at>0;i[s].at==n&&o==_?c=s:i[s].at==r&&o==!_&&(b=s)}}if(c&&b){var f=null;if(p==c)f=.001;else{var l=I[c],d=(0,u[_0x4b1c("0x11d")])(t,{x:l.X,y:l.Y}),h=I[b];f=d+(0,u.DistanceofTwoPts)(a,{x:h.X,y:h.Y})+(0,g.manhattenCost)({X:t.x,Y:t.y},l)}x[_0x4b1c("0x3ff")]+=500/f}})),E.sort((function(x,c){return c[_0x4b1c("0x3ff")]-x.rank}));for(var T=0;T<E[_0x4b1c("0x0")];T++)if(!E[T][_0x4b1c("0xb03")])try{if((C=this[_0x4b1c("0x12e6")](E[T][_0x4b1c("0x12dd")],p,m,s,d,o))&&0!=C[_0x4b1c("0x0")])break;continue}catch(x){continue}if(!C||0==C[_0x4b1c("0x0")]){var k=null;if(this.preferCrosses[_0x4b1c("0x0")]>0)for(var S in k={},b[_0x4b1c("0x1283")][d][_0x4b1c("0x1281")][_0x4b1c("0x1282")]){for(var M=!1,R=b.dataList[d][_0x4b1c("0x1281")].manModeAllScheme[S],L=0;L<R[_0x4b1c("0x0")];L++)if(this[_0x4b1c("0x12bf")].indexOf(R[L])>-1){M=!0;break}M&&(k[S]=R)}if(1==o)k&&(C=this.getShortestPath(k,p,m,s,d,o));else{var H={};for(var D in b[_0x4b1c("0x1283")][d][_0x4b1c("0x1281")][_0x4b1c("0x12de")])"1"==b[_0x4b1c("0x1283")][d].crossSchemes[_0x4b1c("0x12de")][D].ladderType&&3==o?H=(0,i.default)({},H,b.dataList[d][_0x4b1c("0x1281")].manModeScheme[D][_0x4b1c("0x12dd")]):"2"==b[_0x4b1c("0x1283")][d][_0x4b1c("0x1281")][_0x4b1c("0x12de")][D][_0x4b1c("0x120b")]&&2==o?H=(0,i[_0x4b1c("0xc")])({},H,b[_0x4b1c("0x1283")][d][_0x4b1c("0x1281")][_0x4b1c("0x12de")][D][_0x4b1c("0x12dd")]):"3"==b[_0x4b1c("0x1283")][d][_0x4b1c("0x1281")][_0x4b1c("0x12de")][D][_0x4b1c("0x120b")]&&4==o&&(H=(0,i[_0x4b1c("0xc")])({},H,b[_0x4b1c("0x1283")][d][_0x4b1c("0x1281")].manModeScheme[D].crosses));k&&(C=this[_0x4b1c("0x12e6")](k,p,m,s,d,o)),C&&0!=C.length||(C=this[_0x4b1c("0x12e6")](H,p,m,s,d,o))}C&&0!=C.length||(C=this[_0x4b1c("0x12e6")](b[_0x4b1c("0x1283")][d][_0x4b1c("0x1281")][_0x4b1c("0x1282")],p,m,s,d,o))}}else if(n==r)C=this[_0x4b1c("0x12e6")]({},p,m,s,d,o);else{var O=b[_0x4b1c("0x1283")][d][_0x4b1c("0x1281")].carModeScheme;C=this[_0x4b1c("0x12e6")](O,p,m,s,d,o)}if(C&&C[_0x4b1c("0x12e7")]&&0!=C[_0x4b1c("0x12e7")][_0x4b1c("0x0")]){x.isMulti&&(this[_0x4b1c("0x12d1")]=this[_0x4b1c("0x12d1")][_0x4b1c("0x377")](C[_0x4b1c("0x12e8")]));for(var P=C.walkPath,N=C[_0x4b1c("0x120e")],F=C.walkLines,B={x:I[P[0]].X,y:I[P[0]].Y,z:I[P[0]].Z||0,fnum:I[P[0]][_0x4b1c("0x12e")],id:I[P[0]][_0x4b1c("0x3d8")],bid:I[P[0]][_0x4b1c("0x12b")]||d},z=[new(esmap[_0x4b1c("0x632")])(B[_0x4b1c("0x12b")],n,N,[B])],U=0;U<P[_0x4b1c("0x0")]-1;U++){var V=P[U],j=P[U+1];if((typeof V===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_[_0x4b1c("0xc")])(V))!=_0x4b1c("0x1d")&&(typeof j===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,_.default)(j))!=_0x4b1c("0x1d")){var Z=V+"_"+j;if(this[_0x4b1c("0x12c3")][Z]){for(var Y=[],W=this.nodeLinkMap[Z].length,G=0;G<W;G++)if(0!=G&&G!=W-1){var X=(0,f.default)({},this[_0x4b1c("0x12c3")][Z][G]);Y[_0x4b1c("0x12")](X)}P[_0x4b1c("0x5")][_0x4b1c("0x4")](P,[U+1,0][_0x4b1c("0x377")](Y)),U+=Y[_0x4b1c("0x0")]}}}for(var Q=0;Q<P[_0x4b1c("0x0")]-1;Q++){var J=void 0,K=(J="object"!=(0,_[_0x4b1c("0xc")])(P[Q])?I[P[Q]]:P[Q]).fnum,q=void 0,$=(q=(0,_[_0x4b1c("0xc")])(P[Q+1])!=_0x4b1c("0x1d")?I[P[Q+1]]:P[Q+1]).fnum,xx=z[z.length-1],cx=J.bid||this.baseSceneId,bx=q[_0x4b1c("0x12b")]||this[_0x4b1c("0x12c2")],_x=A[_0x4b1c("0x136")](cx);cx!=this.baseSceneId&&_x||(_x=A[_0x4b1c("0x136")](0));var ex=A.getBuildingById(bx);bx!=this[_0x4b1c("0x12c2")]&&ex||(ex=A[_0x4b1c("0x136")](0));var tx=cx!=bx;if(K-_x[_0x4b1c("0x47")].undergroundOffset==$-ex[_0x4b1c("0x47")][_0x4b1c("0xcb1")])tx&&xx.pointList[xx.pointList[_0x4b1c("0x0")]-1]&&(xx[_0x4b1c("0x1202")][xx[_0x4b1c("0x1202")][_0x4b1c("0x0")]-1][_0x4b1c("0x12e9")]=!0),void 0===q._id&&void 0===q.Z&&(q.Z=q[_0x4b1c("0x158")]),xx[_0x4b1c("0x1202")][_0x4b1c("0x12")]({x:q.X,y:q.Y,z:q.Z||0,bid:bx,fnum:q.fnum,id:q[_0x4b1c("0x3d8")],entries:tx}),F[Q]&&xx[_0x4b1c("0x1245")].push(F[Q]);else{J.X,J.Y,q.Z,J.fnum,J._id;var ix={x:q.X,y:q.Y,z:q.Z||0,bid:bx,fnum:q[_0x4b1c("0x12e")],id:q[_0x4b1c("0x3d8")]};z.push(new(esmap[_0x4b1c("0x632")])(bx,$,N,[ix]))}}for(var ax=0;ax<z[_0x4b1c("0x0")];ax++)if(0==z[ax].pointList[_0x4b1c("0x0")])z.splice(ax,1),ax--;else if(y)for(var nx=z[ax][_0x4b1c("0x1202")],rx=0;rx<nx[_0x4b1c("0x0")];rx++)nx[rx][_0x4b1c("0x12b")]==this[_0x4b1c("0x12c2")]&&1!=nx[rx][_0x4b1c("0x12e")]&&(nx[rx][_0x4b1c("0x12e")]=1);for(var sx=1;sx<z.length-1;sx++){var ox=z[sx];0!=ox[_0x4b1c("0x0")]&&1==ox[_0x4b1c("0x1202")][_0x4b1c("0x0")]&&z[sx-1][_0x4b1c("0x12e")]==ox[_0x4b1c("0x12e")]&&z[sx+1].fnum==ox.fnum&&(z[_0x4b1c("0x5")](sx-1,3),sx-=3)}if(this[_0x4b1c("0x120c")]){var fx=this[_0x4b1c("0x120d")];if(z[0]&&z[0][_0x4b1c("0x1202")][_0x4b1c("0x0")]>=2){var lx=new(THREE[_0x4b1c("0x128")])(z[0][_0x4b1c("0x1202")][0].x,0,z[0][_0x4b1c("0x1202")][0].y),dx=new THREE.Vector3(t.x,0,t.y),ux=new(THREE[_0x4b1c("0x128")])(z[0][_0x4b1c("0x1202")][1].x,0,z[0][_0x4b1c("0x1202")][1].y),hx=lx[_0x4b1c("0x231")](dx),gx=lx[_0x4b1c("0x231")](ux),vx=lx.distanceTo(dx),px=n;if(Math[_0x4b1c("0x23d")](hx-gx)<=90){var mx={};(0,u[_0x4b1c("0x366")])({x:t.x,y:t.y},{x:z[0][_0x4b1c("0x1202")][0].x,y:z[0][_0x4b1c("0x1202")][0].y},{x:z[0][_0x4b1c("0x1202")][1].x,y:z[0][_0x4b1c("0x1202")][1].y},mx),z[0][_0x4b1c("0x1202")][0].x=mx.x,z[0].pointList[0].y=mx.y}vx>=fx&&z[0][_0x4b1c("0x1202")][_0x4b1c("0xf83")]({x:t.x,y:t.y,z:t.Z||0,bid:t[_0x4b1c("0x12b")],fnum:px})}if(z[z[_0x4b1c("0x0")]-1]&&z[z[_0x4b1c("0x0")]-1].pointList.length>=2){var Ax=z[z[_0x4b1c("0x0")]-1][_0x4b1c("0x1202")],yx=new THREE.Vector3(Ax[Ax[_0x4b1c("0x0")]-1].x,0,Ax[Ax[_0x4b1c("0x0")]-1].y),Cx=new(THREE[_0x4b1c("0x128")])(a.x,0,a.y),Ix=new(THREE[_0x4b1c("0x128")])(Ax[Ax[_0x4b1c("0x0")]-2].x,0,Ax[Ax.length-2].y),Ex=yx[_0x4b1c("0x231")](Cx),wx=yx.angleTo(Ix),Tx=yx[_0x4b1c("0x124")](Cx),kx=r;if(Math.abs(Ex-wx)<=90){var Sx={};(0,u[_0x4b1c("0x366")])({x:a.x,y:a.y},{x:Ax[Ax.length-1].x,y:Ax[Ax[_0x4b1c("0x0")]-1].y},{x:Ax[Ax.length-2].x,y:Ax[Ax[_0x4b1c("0x0")]-2].y},Sx),Ax[Ax[_0x4b1c("0x0")]-1].x=Sx.x,Ax[Ax[_0x4b1c("0x0")]-1].y=Sx.y}Tx>=fx&&Ax[_0x4b1c("0x12")]({x:a.x,y:a.y,z:a.Z||0,bid:a[_0x4b1c("0x12b")],fnum:kx})}}for(var Mx=0,Rx=0;Rx<z[_0x4b1c("0x0")];Rx++){var Lx=z[Rx];if(Lx[_0x4b1c("0x1202")][_0x4b1c("0x0")]>=2)for(var Hx=Lx[_0x4b1c("0x1202")],Dx=0;Dx<Hx[_0x4b1c("0x0")]-1;Dx++){var Ox=Hx[Dx],Px=Hx[Dx+1];Mx+=Math.sqrt(Math[_0x4b1c("0xf5")](Ox.x-Px.x,2)+Math.pow(Ox.y-Px.y,2))}}c={costDistance:Mx,result:z}}return c}},{key:_0x4b1c("0x12e6"),value:function(x,c,b,_,e,t){if(c!=b){var i=this,a=i[_0x4b1c("0x1283")][e][_0x4b1c("0x12d3")],n=i[_0x4b1c("0x1283")][e][_0x4b1c("0x1284")],r=i[_0x4b1c("0x1283")][e][_0x4b1c("0x1244")],s={};s[_0x4b1c("0x91f")]=c,s[_0x4b1c("0x120e")]=0,s[_0x4b1c("0x12eb")]=0,s[_0x4b1c("0x12e7")]=[c],s.walkLines=[];for(var o=[],f=[],l=a[b],d=r[b],u=1;u<1e4&&s;u++){if(s[_0x4b1c("0x91f")]==b)return s;if((0,h[_0x4b1c("0x1101")])(o,s.endPoint))f[_0x4b1c("0x42b")](this[_0x4b1c("0x12ec")](_0x4b1c("0x12eb"))),s=f[0],f[_0x4b1c("0x3")]();else{var g=this.updateNewShortestPathList(c,s,a,n,r,x,o,_,l,e,t);o[_0x4b1c("0x12")](s[_0x4b1c("0x91f")]);for(var v=0;v<g[_0x4b1c("0x0")];v++)f[_0x4b1c("0x12")](g[v]);if(f[_0x4b1c("0x42b")](this._compare(_0x4b1c("0x12eb"))),!(s=f[0]))return[];var p=r[s[_0x4b1c("0x91f")]];if(d&&p&&1==p[_0x4b1c("0x0")]&&1!=u)0!=p[_0x4b1c("0x2db")]((function(x){return d[_0x4b1c("0x114")](x)>=0}))[_0x4b1c("0x0")]||x[s.endPoint]||o[_0x4b1c("0x12")](s[_0x4b1c("0x91f")]);f[_0x4b1c("0x3")]()}}return[]}console[_0x4b1c("0x291")](_0x4b1c("0x12ea"))}},{key:_0x4b1c("0x12ed"),value:function(x,c,b,_,e,t,i,a,n,r,s){var o=[],f=c[_0x4b1c("0x91f")],l={2:2,3:1,4:3,1:999},d=b[f].bid||0;if(!this[_0x4b1c("0x12c7")](d))return[];if(e[f])for(var v=e[f],p=0;p<v[_0x4b1c("0x0")];p++){var m=(C=_[y=v[p]])[_0x4b1c("0x12b")]||0;if(this[_0x4b1c("0x12c7")](m)){var A=C.eid;if(!(0,h[_0x4b1c("0x1101")])(this[_0x4b1c("0x12d1")],y)&&(2!=a||"4"==C[_0x4b1c("0xd4c")]||"5"==C[_0x4b1c("0xd4c")])){if(f==C[_0x4b1c("0x5b2")]){if(2==a&&"1"==C.direction)continue;if(1==a&&"1"==C[_0x4b1c("0x3fe")]&&("0"==C[_0x4b1c("0xd4c")]||"4"==C[_0x4b1c("0xd4c")]||"6"==C[_0x4b1c("0xd4c")]))continue;if(1==a&&"8"==C[_0x4b1c("0xd4c")])continue;A=C[_0x4b1c("0xe75")]}if(!(0,h[_0x4b1c("0x1101")])(i,A))(I=(0,g[_0x4b1c("0x12ee")])(c))[_0x4b1c("0x91f")]=A,I[_0x4b1c("0x12e7")][_0x4b1c("0x12")](A),I.walkLines.push(y),I[_0x4b1c("0x120e")]+=C[_0x4b1c("0x0")],1e3!=C[_0x4b1c("0x3ff")]&&(I[_0x4b1c("0x120e")]+=1e3/C.rank),b[A]||console[_0x4b1c("0x291")](_0x4b1c("0x12ef")),I[_0x4b1c("0x12eb")]=(0,g[_0x4b1c("0x12f0")])(b[A],n,1),I[_0x4b1c("0x12eb")]+=I[_0x4b1c("0x120e")],o[_0x4b1c("0x12")](I)}}}if(t[f])for(v=t[f],p=0;p<v.length;p++){var y,C;A=(C=_[y=v[p]])[_0x4b1c("0x5b2")];if(1*f==C[_0x4b1c("0x5b2")]){if(2==a&&"1"==C.direction)continue;if(1==a&&"1"==C[_0x4b1c("0x3fe")]&&("1"==C[_0x4b1c("0xd4c")]||"3"==C[_0x4b1c("0xd4c")]))continue;A=C.sid}if(!(0,h[_0x4b1c("0x1101")])(i,A)){var I;(I=(0,g[_0x4b1c("0x12ee")])(c))[_0x4b1c("0x91f")]=A,I[_0x4b1c("0x12e7")][_0x4b1c("0x12")](A),I[_0x4b1c("0x12e8")].push(y);var E=1e3;1e3!=C[_0x4b1c("0x3ff")]&&(E=C[_0x4b1c("0x3ff")]);var w,T=null;if(x==f||n[_0x4b1c("0x3d8")]==f)T=.001;else{var k=b[f],S=b[x],M=(0,u[_0x4b1c("0x11d")])({x:S.X,y:S.Y},{x:k.X,y:k.Y}),R=b[A];T=M+(0,u[_0x4b1c("0x11d")])({x:n.X,y:n.Y},{x:R.X,y:R.Y})+(0,g[_0x4b1c("0x12f0")])(S,k)}E+=T;for(var L=this[_0x4b1c("0x89d")][r][_0x4b1c("0xd94")],H=0;H<L.length;H++)if(L[H][_0x4b1c("0xd4d")][C[_0x4b1c("0xe75")]]){w=H;break}w&&C[_0x4b1c("0xf12")]&&Math[_0x4b1c("0x23d")](w-C.efnum)>1&&(I[_0x4b1c("0x120e")]+=10);var D=l[s]==1*C[_0x4b1c("0xd4c")]?1:20;I[_0x4b1c("0x120e")]+=D+1e3/E,o[_0x4b1c("0x12")](I)}}return o}},{key:_0x4b1c("0x12e4"),value:function(x,c,b,_){var e=this[_0x4b1c("0x12e1")](x,c[_0x4b1c("0x12e")]),t=c[_0x4b1c("0x12f1")]||{x:c.x,y:c.y},i=e[_0x4b1c("0xd4d")],a=[1/0,0],n=[];if(esmap[_0x4b1c("0x32")].instance.mode===esmap[_0x4b1c("0x41")].Building){var r=this[_0x4b1c("0x12c1")][c[_0x4b1c("0x12e")]||c[_0x4b1c("0xc0b")]],s=null;for(var o in r){var f=r[o][_0x4b1c("0x12c")];if(esmap[_0x4b1c("0x87")].pointInArea(t,f)){s=r[o].id;break}}s&&(n=this[_0x4b1c("0x12c0")][s]||[])}if(2==b){for(var l in i)if(!(esmap[_0x4b1c("0x32")].instance[_0x4b1c("0x3b")]===esmap.MapMode[_0x4b1c("0x1e2")]&&n.length>0&&n[_0x4b1c("0x114")](1*l)<0)){var d=i[l];if(!_||!d[_0x4b1c("0x99")]||11!=d.tid)if(4==d[_0x4b1c("0x99")]||5==d[_0x4b1c("0x99")]||54==d[_0x4b1c("0x99")])(u=Math[_0x4b1c("0x23d")](Math.sqrt(Math[_0x4b1c("0xf5")](d.X-t.x,2)+Math[_0x4b1c("0xf5")](d.Y-t.y,2))))<a[0]&&(a[0]=u,a[1]=l)}}else for(var l in i)if(!(esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")].mode===esmap.MapMode[_0x4b1c("0x1e2")]&&n[_0x4b1c("0x0")]>0&&n[_0x4b1c("0x114")](1*l)<0)){var u;d=i[l];if(!_||!d[_0x4b1c("0x99")]||11!=d[_0x4b1c("0x99")])(u=Math.abs(Math[_0x4b1c("0x120")](Math[_0x4b1c("0xf5")](d.X-t.x,2)+Math.pow(d.Y-t.y,2))))<a[0]&&(a[0]=u,a[1]=l)}return i[a[1]]}},{key:_0x4b1c("0x12f2"),value:function(x){var c=this[_0x4b1c("0x89d")][x[_0x4b1c("0x12b")]].navs,b=[];return c[_0x4b1c("0x1c")]((function(x){var c=x[_0x4b1c("0xd4d")];for(var _ in c){var e=c[_];e[_0x4b1c("0x99")]&&11==e[_0x4b1c("0x99")]&&b.push(e)}})),b}},{key:"_getNearestGate",value:function(x,c){var b=this.source[x[_0x4b1c("0x12b")]][_0x4b1c("0xd94")],_=[1/0,0,{},1];return b[_0x4b1c("0x1c")]((function(c){var b=c[_0x4b1c("0xd4d")],e=c[_0x4b1c("0xc0b")];for(var t in b){var i=b[t];if(i.tid&&11==i[_0x4b1c("0x99")]){var a=Math[_0x4b1c("0x23d")](Math.sqrt(Math[_0x4b1c("0xf5")](i.X-x.x,2)+Math.pow(i.Y-x.y,2)));a<_[0]&&(_[0]=a,_[1]=t,_[2]=i,_[3]=e)}}})),{node:_[2],fnum:_[3],dis:_[0]}}},{key:_0x4b1c("0x12ec"),value:function(x){return function(c,b){return c[x]-b[x]}}}]),c}();c[_0x4b1c("0xc")]=p}).call(this,b(62))},,function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _,e=b(6),t=(_=e)&&_[_0x4b1c("0xb")]?_:{default:_};c[_0x4b1c("0x12f0")]=function(x,c){return Math[_0x4b1c("0x23d")](x.X-c.X)+Math.abs(x.Y-c.Y)},c[_0x4b1c("0x12ee")]=function x(c){var b;if((void 0===c?_0x4b1c("0x8"):(0,t.default)(c))==_0x4b1c("0x1d"))if(null===c)b=null;else if(c instanceof Array){b=[];for(var _=0,e=c.length;_<e;_++)b[_0x4b1c("0x12")](x(c[_]))}else for(var i in b={},c)b[i]=x(c[i]);else b=c;return b}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(c,b,e,t){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x12e")]=b,this[_0x4b1c("0x12b")]=c,this[_0x4b1c("0x0")]=e,this[_0x4b1c("0x1202")]=t,this.lineList=[]}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x12f3"),value:function(){return this[_0x4b1c("0x12e")]}},{key:"getLength",value:function(){return this[_0x4b1c("0x0")]}},{key:"getPointList",value:function(){for(var x=[],c=0,b=this[_0x4b1c("0x1202")][_0x4b1c("0x0")];c<b;c++)x[_0x4b1c("0x12")]({x:this.pointList[c].x,y:this[_0x4b1c("0x1202")][c].y,fnum:this.fnum});return x}}]),x}();c[_0x4b1c("0xc")]=i},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=l(b(9)),e=l(b(7)),t=l(b(8)),i=l(b(2)),a=l(b(0)),n=l(b(1)),r=b(65),s=b(42),o=l(b(110)),f=l(b(26));function l(x){return x&&x.__esModule?x:{default:x}}var d=function(){function x(c){(0,a[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x514")]=(0,i[_0x4b1c("0xc")])({type:"building",useCrst:!0,merge:!0,model:"",url:"",bid:0,fnum:1,gid:0,id:null,name:"",bclick:!1,points:[],height:0,repeatset:1,heightset:1,thickset:1,showLevel:12.5,error:null,created:null},c),this.ID=this[_0x4b1c("0x514")].id,this.name=this[_0x4b1c("0x514")][_0x4b1c("0x1f7")],this.o3d_=new THREE.Object3D,this[_0x4b1c("0x123")]=6,this[_0x4b1c("0xf0")].datas_=this,this.o3d_[_0x4b1c("0x1f7")]="_root_",this[_0x4b1c("0x195")]=this.o3d_.uuid,this.isWall=!0,this[_0x4b1c("0x4e")]=this[_0x4b1c("0x514")][_0x4b1c("0x4e")],this[_0x4b1c("0x3e")]=esmap[_0x4b1c("0x32")].instance,this[_0x4b1c("0xa27")]=!1,this[_0x4b1c("0x1120")]=!1,this[_0x4b1c("0x108")]=null,this._modelObj=null,this[_0x4b1c("0x211")](),this.init(),this[_0x4b1c("0x3e")][_0x4b1c("0x31d")]<this[_0x4b1c("0x514")][_0x4b1c("0x1e4")]&&(this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1)}var c;return(0,n.default)(x,[{key:_0x4b1c("0x211"),value:function(){var x=this;this[_0x4b1c("0x3e")].on(_0x4b1c("0x3c0"),(function(){var c=x[_0x4b1c("0x3e")][_0x4b1c("0x31d")];x[_0x4b1c("0xf0")]&&(c<x[_0x4b1c("0x514")].showLevel?x.o3d_.visible&&(x[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1):x[_0x4b1c("0xf0")][_0x4b1c("0x191")]||(x[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!0))}))}},{key:_0x4b1c("0xf3"),value:function(){var x=this[_0x4b1c("0x3e")].mapPicker.watchingList[this[_0x4b1c("0x514")][_0x4b1c("0x12b")]];if(x){var c=x[_0x4b1c("0x114")](this.o3d_);c>-1&&x.splice(c,1)}this[_0x4b1c("0xf0")]&&(this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=!1,this[_0x4b1c("0xf0")][_0x4b1c("0x108")]&&this[_0x4b1c("0xf0")][_0x4b1c("0x108")][_0x4b1c("0x2ea")](this.o3d_),(0,r[_0x4b1c("0xec")])(this[_0x4b1c("0xf0")],!1))}},{key:"init",value:(c=(0,t.default)(e[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){var c,b,_,t,i,a,n,r,l,d,u,h,g,v,p,m;return e[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:if(!this.inited){x[_0x4b1c("0x286")]=2;break}return x.abrupt(_0x4b1c("0x28a"));case 2:if(c=this[_0x4b1c("0x3e")],b=this[_0x4b1c("0x514")],_=b[_0x4b1c("0x12b")],t=b.points,i=b[_0x4b1c("0x427")],a=b[_0x4b1c("0x78")],0!=t[_0x4b1c("0x0")]){x.next=9;break}return console[_0x4b1c("0xe3")](_0x4b1c("0x12f4")),this[_0x4b1c("0xa27")]=!0,x.abrupt(_0x4b1c("0x28a"));case 9:return(n=this[_0x4b1c("0x3e")][_0x4b1c("0x218")](_))||(n=this[_0x4b1c("0x3e")][_0x4b1c("0x136")](_)),n||(r=_[_0x4b1c("0x2c")]("_"),l=(0,s.getTileBound)(1*r[0],1*r[1],c[_0x4b1c("0x47")][_0x4b1c("0x1b4")],!0),d=(l[_0x4b1c("0xf7")]-l[_0x4b1c("0xfb")])/2+l.minx,u=(l[_0x4b1c("0xf8")]-l[_0x4b1c("0xfc")])/2+l[_0x4b1c("0xfc")],(h=new(o[_0x4b1c("0xc")])({id:_,map:c})).center=[d,u],h.buildingType=1,h[_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0xdb")](0,0,0),c[_0x4b1c("0x1e1")][_0x4b1c("0xd63")]()[_0x4b1c("0xdd")](h[_0x4b1c("0xf0")]),n=h),g=null,1==n[_0x4b1c("0x21a")]?n[_0x4b1c("0x3f6")].getOrCreateLayerByName(_0x4b1c("0x12f5"),esmap.ESLayerType[_0x4b1c("0x1df")])[_0x4b1c("0xf0")][_0x4b1c("0xdd")](this[_0x4b1c("0xf0")]):(g=n,n.getFloor(this[_0x4b1c("0x514")].fnum)[_0x4b1c("0x3f7")](_0x4b1c("0x12f5"),esmap[_0x4b1c("0x3cd")].MODEL3D)[_0x4b1c("0xf0")][_0x4b1c("0xdd")](this[_0x4b1c("0xf0")])),this[_0x4b1c("0x108")]=n,this[_0x4b1c("0x26b")]=n[_0x4b1c("0x26b")],this[_0x4b1c("0x4e")].indexOf(_0x4b1c("0x12f6"))<0&&(v=this[_0x4b1c("0x514")][_0x4b1c("0x1e6")].replace(".gltf",""),a==_0x4b1c("0x54")?this[_0x4b1c("0x4e")]=f[_0x4b1c("0xc")][_0x4b1c("0x680")](_0x4b1c("0x5e"),{filename:v,buildingId:this[_0x4b1c("0x514")][_0x4b1c("0x12b")],modeltoken:c.__mtn}):this.url=f[_0x4b1c("0xc")][_0x4b1c("0x680")]("tileModel",{filename:v,modeltoken:c[_0x4b1c("0xab")]}),this[_0x4b1c("0x4e")]=this.url.replace(/([^:]\/)\/+/g,"$1")),x[_0x4b1c("0x286")]=20,this[_0x4b1c("0x12f7")]();case 20:(p=x[_0x4b1c("0x337")])?(m=p[_0x4b1c("0x102")][_0x4b1c("0x13e")](),this[_0x4b1c("0x12f8")]=m,this[_0x4b1c("0x12f9")]=p,i&&this[_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x3ec")](this[_0x4b1c("0xf0")],_),this[_0x4b1c("0x21d")]={x:t[0].x,y:t[0].y},this.inited=!0,this[_0x4b1c("0x12fa")](t,g),this[_0x4b1c("0x514")][_0x4b1c("0x12fb")]&&this[_0x4b1c("0x514")][_0x4b1c("0x12fb")](this)):(this.inited=!0,this[_0x4b1c("0x514")][_0x4b1c("0xe3")]&&this[_0x4b1c("0x514")].error(this));case 22:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return c[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x12fa"),value:function(x,c){if(this.inited){for(;this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][_0x4b1c("0x0")]>0;){this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0];this[_0x4b1c("0xf0")].children[_0x4b1c("0xe2")]()}var b=this[_0x4b1c("0x514")][_0x4b1c("0x12fc")],_=this._modelObj,e=this,t=this[_0x4b1c("0x514")],a=t[_0x4b1c("0x1e6")],n=t[_0x4b1c("0x12fd")],r=t.heightset,s=t.height,o=t.id,f=t.repeatset,l=t[_0x4b1c("0x11e")];this[_0x4b1c("0x514")][_0x4b1c("0x12c")]=x,this[_0x4b1c("0x514")][_0x4b1c("0x11e")]=!1;var d=this[_0x4b1c("0x3e")],u=(new THREE.Box3)[_0x4b1c("0x2e6")](this[_0x4b1c("0x12f8")]),h=u[_0x4b1c("0x2f5")].x-u.min.x,g=[];x[_0x4b1c("0x1c")]((function(x){var c=x;b&&(c=d.transformCoord({from:d[_0x4b1c("0x3e1")],to:d[_0x4b1c("0x2d4")],coord:{x:x.x,y:x.y}})),g.push(new(THREE[_0x4b1c("0x552")])(c.x,c.y))}));var v=[],p=h/f;if(this[_0x4b1c("0x12fe")](g,0,v,p,h),0==v.length)return console[_0x4b1c("0x424")](_0x4b1c("0x12ff")+o+_0x4b1c("0x1300")+a),void(this[_0x4b1c("0xa27")]=!0);var m=[];if(v.forEach((function(x,b){var _=new(THREE[_0x4b1c("0x128")])(parseFloat(x.scale),parseFloat(r),parseFloat(n));0==_.x&&(_.x=1),0==_.y&&(_.y=1),0==_.z&&(_.z=1);var t=Math.PI/180,i=new(THREE[_0x4b1c("0x206")])(0,parseFloat(x[_0x4b1c("0x258")])*t,0),f=null;(f=e[_0x4b1c("0x3e")].mode===esmap[_0x4b1c("0x41")].City&&c?e[_0x4b1c("0x3e")].buildingService._buildingCoordToThree(x,c):e.map[_0x4b1c("0x2c5")](x,!0)).y=0,f.y+=parseFloat(s),m.push({id:o+"-"+b,model:a,rotation:i,position:f,scale:_})})),l){_.traverse((function(x){x[_0x4b1c("0xf4")]&&(x[_0x4b1c("0xf4")]=x[_0x4b1c("0xf4")].clone())}));var A=(0,i[_0x4b1c("0xc")])({},this[_0x4b1c("0x12f9")],{scene:_,scenes:[_]}),y=this[_0x4b1c("0x26b")].GLTFMergeTool[_0x4b1c("0x11e")](A,m);y||console[_0x4b1c("0xe3")](_0x4b1c("0x1301")),this[_0x4b1c("0xf0")].add(y),this[_0x4b1c("0xf0")].userData[_0x4b1c("0xad6")]=!0}else{_[_0x4b1c("0x103")]((function(x){x[_0x4b1c("0xf4")]&&(x[_0x4b1c("0xf4")]=x[_0x4b1c("0xf4")].clone())}));for(var C=0;C<m[_0x4b1c("0x0")];C++){var I=m[C],E=_[_0x4b1c("0x13e")](!0);(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](E)[_0x4b1c("0x2e7")](E[_0x4b1c("0x105")]),E.position[_0x4b1c("0x253")](-1);var w=new(THREE[_0x4b1c("0x214")]);w[_0x4b1c("0xdd")](E),E[_0x4b1c("0x165")].id=I.id,w[_0x4b1c("0x202")][_0x4b1c("0x20b")](I[_0x4b1c("0x202")]),w[_0x4b1c("0x201")][_0x4b1c("0x20b")](I[_0x4b1c("0x201")]),w[_0x4b1c("0x105")][_0x4b1c("0x20b")](I[_0x4b1c("0x105")]),this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](w)}}this[_0x4b1c("0x21d")]={x:x[0].x,y:x[0].y}}}},{key:_0x4b1c("0x12f7"),value:function(){var x=this,c=this.configs[_0x4b1c("0x1e6")];return new _.default((function(b){if(x.map.mapService.modelStore[c])b(x[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x2a2")][c].gltfObj);else{if(!x[_0x4b1c("0x26b")].loadingList[c]){var _={name:_0x4b1c("0xddb"),layerid:x[_0x4b1c("0x195")],model:x[_0x4b1c("0x514")][_0x4b1c("0x1e6")],url:x.url,id:_0x4b1c("0xddb"),bclick:0,fnum:1,iswall:!0,gid:0,scale:new THREE.Vector3(1,1,1),rotation:new THREE.Vector3(0,0,0),position:new(THREE[_0x4b1c("0x128")])(1,1,1),parent:new(THREE[_0x4b1c("0x1dd")])};x[_0x4b1c("0x26b")][_0x4b1c("0xdb4")](_)}x[_0x4b1c("0x3e")].on("modelPrefetched",(function(x){x[_0x4b1c("0x1f7")]==c&&b(x[_0x4b1c("0x2e5")])})),x[_0x4b1c("0x3e")].on("modelPrefetchFailed",(function(x){x.name==c&&b(null)}))}}))}},{key:_0x4b1c("0x12fe"),value:function(x,c,b,_,e){if(c==x.length-1)return!0;var t,i,a,n,r,s,o=x[c],f=x[c+1],l=f[_0x4b1c("0x13e")]().sub(o),d=_/2,u=(t=f,i=o,a=new(THREE[_0x4b1c("0x128")])(1,0,0),n=new THREE.Vector3(t.x,0,t.y),r=new(THREE[_0x4b1c("0x128")])(i.x,0,i.y)[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](n)[_0x4b1c("0x301")](),s=r.angleTo(a)*THREE[_0x4b1c("0x215")][_0x4b1c("0x9f8")],r.clone()[_0x4b1c("0x230")](a).y>0?s:360-s),h=l[_0x4b1c("0x0")]();if(l[_0x4b1c("0x301")](),0!=h){if(h>_){var g=Math[_0x4b1c("0x20f")](h/_),v=h%_,p=o[_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](l[_0x4b1c("0x13e")]()[_0x4b1c("0x253")](d));p[_0x4b1c("0x258")]=u,p[_0x4b1c("0x201")]=_/e,b[_0x4b1c("0x12")](p);for(var m=1;m<g;m++){var A=b[b[_0x4b1c("0x0")]-1].clone()[_0x4b1c("0xdd")](l[_0x4b1c("0x13e")]().multiplyScalar(_));A.angle=u,A[_0x4b1c("0x201")]=_/e,b[_0x4b1c("0x12")](A)}if(v>0)if(v>=e/2){var y=b[b[_0x4b1c("0x0")]-1].clone()[_0x4b1c("0xdd")](l[_0x4b1c("0x13e")]()[_0x4b1c("0x253")](d+v/2));y[_0x4b1c("0x258")]=u,y[_0x4b1c("0x201")]=v/e,b[_0x4b1c("0x12")](y)}else{var C=b[b[_0x4b1c("0x0")]-1];C[_0x4b1c("0x201")]=(v+_)/e;var I=C.clone()[_0x4b1c("0xdd")](l[_0x4b1c("0x13e")]()[_0x4b1c("0x253")](v/2));C.x=I.x,C.y=I.y}}else{var E=o[_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](l[_0x4b1c("0x13e")]()[_0x4b1c("0x253")](h/2));E.angle=u,E[_0x4b1c("0x201")]=h/e,b[_0x4b1c("0x12")](E)}this[_0x4b1c("0x12fe")](x,++c,b,_,e)}}},{key:_0x4b1c("0x2a9"),value:function(x){var c=!1===x,b=this[_0x4b1c("0x514")][_0x4b1c("0x11e")];this[_0x4b1c("0xf0")][_0x4b1c("0x103")]((function(_){if(_[_0x4b1c("0xf4")])if(_.material instanceof Array)if(b)_[_0x4b1c("0xf4")][0][_0x4b1c("0x165")][_0x4b1c("0xad7")]||(_[_0x4b1c("0xf4")][0][_0x4b1c("0x165")][_0x4b1c("0xad7")]=_[_0x4b1c("0xf4")][0][_0x4b1c("0x420")][_0x4b1c("0x13e")]()),c?(_.material[0][_0x4b1c("0x420")]=_[_0x4b1c("0xf4")][0][_0x4b1c("0x165")][_0x4b1c("0xad7")],_[_0x4b1c("0xf4")][0][_0x4b1c("0x165")].originEMS=null):_[_0x4b1c("0xf4")][0].emissive=new(THREE[_0x4b1c("0x146")])(x);else for(var e=0;e<_[_0x4b1c("0xf4")][_0x4b1c("0x0")];e++){var t=_.material[e][_0x4b1c("0x13e")]();t[_0x4b1c("0x1")](_0x4b1c("0x420"))&&(t[_0x4b1c("0x165")][_0x4b1c("0xad7")]||(t.userData.originEMS=t[_0x4b1c("0x420")].clone()),t[_0x4b1c("0x420")]=c?t[_0x4b1c("0x165")][_0x4b1c("0xad7")]instanceof THREE[_0x4b1c("0x146")]?t[_0x4b1c("0x165")][_0x4b1c("0xad7")]:new(THREE[_0x4b1c("0x146")])(t[_0x4b1c("0x165")][_0x4b1c("0xad7")]):new THREE.Color(x),_.material[e]=t,t.needsUpdate=!0)}else{var i=_[_0x4b1c("0xf4")];i[_0x4b1c("0x1")]("emissive")&&(c?i[_0x4b1c("0x420")]=new THREE.Color(i[_0x4b1c("0x165")][_0x4b1c("0xad7")]):((i=_[_0x4b1c("0xf4")][_0x4b1c("0x13e")]()).userData[_0x4b1c("0xad7")]||(i[_0x4b1c("0x165")][_0x4b1c("0xad7")]=_[_0x4b1c("0xf4")][_0x4b1c("0x420")][_0x4b1c("0x5ef")]()),i[_0x4b1c("0x420")]=new(THREE[_0x4b1c("0x146")])(x),_[_0x4b1c("0xf4")]=i),_[_0x4b1c("0xf4")].needsUpdate=!0)}}))}}]),x}();c[_0x4b1c("0xc")]=d},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=f(b(5)),e=f(b(6)),t=f(b(0)),i=f(b(1)),a=f(b(10)),n=f(b(11)),r=f(b(79)),s=b(4),o=f(b(26));function f(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var l=function(x){function c(x){(0,t[_0x4b1c("0xc")])(this,c);var b=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],i=b.mapView[_0x4b1c("0x2e7")]();0==x.x&&(x.x=i.x),0==x.y&&(x.y=i.y);var n=b[_0x4b1c("0x238")]({x:x.x,y:x.y,z:x[_0x4b1c("0x1a3")]||0}),r=void 0;if((0,e[_0x4b1c("0xc")])(x[_0x4b1c("0x258")])===_0x4b1c("0x1d"))r={x:THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](x[_0x4b1c("0x258")].x||0),y:THREE[_0x4b1c("0x215")][_0x4b1c("0x259")](x[_0x4b1c("0x258")].y||0),z:THREE.Math.degToRad(x[_0x4b1c("0x258")].z||0)};else{var f;if(isNaN(x.angle)&&null!=x[_0x4b1c("0x258")])return f=console[_0x4b1c("0xe3")](_0x4b1c("0x1302")),(0,a.default)(A,f);r={x:0,y:THREE[_0x4b1c("0x215")][_0x4b1c("0x259")]((0,s.getValue)(x,_0x4b1c("0x258"),0)),z:0}}var l=(0,s[_0x4b1c("0x13")])(x,_0x4b1c("0xe0"),1),d="object"===(typeof l===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,e[_0x4b1c("0xc")])(l))?{x:l.x||1,y:l.y||1,z:l.z||1}:{x:l,y:l,z:l},u=(0,s[_0x4b1c("0x13")])(x,_0x4b1c("0x4e"),_0x4b1c("0x1e6")),h="",g=u[_0x4b1c("0x287")]("/");h=g>=0?u[_0x4b1c("0x1e5")](g+1):u,b[_0x4b1c("0x7e")][_0x4b1c("0x7f")]("sk")&&u[_0x4b1c("0x114")]("http")<0&&(h=u||x.name,u=u[_0x4b1c("0x14c")](/\.gltf$/,"")+_0x4b1c("0x82"),u=b[_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")].Building?o.default[_0x4b1c("0x680")]("buildingModel",{filename:u,modeltoken:b[_0x4b1c("0xab")],buildingId:b.id}):o.default[_0x4b1c("0x680")](_0x4b1c("0x60"),{filename:u,modeltoken:b.__mtn}));var v=(0,s[_0x4b1c("0x13")])(x,"id",1),p=b.mode==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?20:12,m=(0,s[_0x4b1c("0x13")])(x,"bid",b.id),A=(0,a[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,_[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this,{model:h,ID:v,bid:m,url:u,alias:_0x4b1c("0xa76"),scale:d,rotation:r,position:n,name:x.name||"es3dmarker",pickable:x[_0x4b1c("0x1f4")],onError:x[_0x4b1c("0x10b4")]||null,callback:x[_0x4b1c("0x1b0")]||x.onComplete||null,clickAnimation:(0,s.getValue)(x,"clickAnimation",!1)}));return A[_0x4b1c("0x1109")]=!x[_0x4b1c("0x1")](_0x4b1c("0x1109"))||x[_0x4b1c("0x1109")],A.data=x.data||null,A.o3d_[_0x4b1c("0x105")].y=n.y,A[_0x4b1c("0x16c")]=null!=x.seeThrough&&x[_0x4b1c("0x16c")],A[_0x4b1c("0x11e")]=null!=x.merge&&x[_0x4b1c("0x11e")],A[_0x4b1c("0xdd8")]=!0,A[_0x4b1c("0x1e4")]=(0,s[_0x4b1c("0x13")])(x,"showLevel",p),A}return(0,n[_0x4b1c("0xc")])(c,x),(0,i[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x19b"),value:function(){this[_0x4b1c("0xf0")].stop()}},{key:_0x4b1c("0x1a3"),get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x105")].y},set:function(x){this.o3d_.position.y=x}}]),c}(r[_0x4b1c("0xc")]);l.ESModel3D=r[_0x4b1c("0xc")],c[_0x4b1c("0xc")]=l},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(112));function i(x){return x&&x.__esModule?x:{default:x}}var a=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x),this.map_=c;var b=c[_0x4b1c("0x47")],e=c[_0x4b1c("0x1c3")][_0x4b1c("0xbd5")].domElement;this[_0x4b1c("0x1303")]=e.getBoundingClientRect();this[_0x4b1c("0x1303")];var i=b[_0x4b1c("0x37e")],a=(0,t[_0x4b1c("0xc")])(_0x4b1c("0x1c8"))[_0x4b1c("0x23")]({position:_0x4b1c("0x73d"),bottom:b[_0x4b1c("0x37d")][1]+"px",left:b[_0x4b1c("0x37d")][0]+"px",width:i+"px",height:_0x4b1c("0x1d1"),webkitTextSizeAdjust:_0x4b1c("0x60b"),msTextSizeAdjust:_0x4b1c("0x60b")})[_0x4b1c("0x45e")];e[_0x4b1c("0x1d7")](a);var n=(0,t[_0x4b1c("0xc")])(_0x4b1c("0x1c8"))[_0x4b1c("0x23")]({position:_0x4b1c("0x73d"),overflow:_0x4b1c("0xb9b"),fontSize:"11px",fontFamily:_0x4b1c("0x1304"),textAlign:_0x4b1c("0x12d"),color:_0x4b1c("0x381"),width:"100%",cursor:_0x4b1c("0xc"),lineHeight:_0x4b1c("0x1305"),textShadow:"rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) -1px 0px 6px, rgb(0, 0, 0) 0px 0px 2px, rgb(0, 0, 0) 0px 1px 4px"})[_0x4b1c("0x45e")];a.appendChild(n),this[_0x4b1c("0x1306")]=n;var r=(0,t[_0x4b1c("0xc")])(_0x4b1c("0x1c8"))[_0x4b1c("0x23")]({position:_0x4b1c("0x73d"),overflow:_0x4b1c("0xb9b"),background:"#fff",width:_0x4b1c("0x1ca"),height:_0x4b1c("0x1307"),fontSize:"0",bottom:_0x4b1c("0x1308")})[_0x4b1c("0x45e")];a[_0x4b1c("0x1d7")](r);var s=(0,t[_0x4b1c("0xc")])("div")[_0x4b1c("0x23")]({position:_0x4b1c("0x73d"),overflow:"hidden",background:_0x4b1c("0x381"),width:_0x4b1c("0x1309"),height:"7px",fontSize:"0",bottom:"0",right:_0x4b1c("0x1308")})[_0x4b1c("0x45e")];a[_0x4b1c("0x1d7")](s);var o=(0,t.default)(_0x4b1c("0x1c8"))[_0x4b1c("0x23")]({position:_0x4b1c("0x73d"),overflow:_0x4b1c("0xb9b"),background:_0x4b1c("0x381"),width:_0x4b1c("0x1309"),height:"7px",fontSize:"0",bottom:"0",left:_0x4b1c("0x1308")})[_0x4b1c("0x45e")];a[_0x4b1c("0x1d7")](o);var f=(0,t[_0x4b1c("0xc")])(_0x4b1c("0x1c8")).style({position:_0x4b1c("0x73d"),overflow:"hidden",background:_0x4b1c("0x10e0"),width:_0x4b1c("0x1ca"),height:_0x4b1c("0x1309"),fontSize:"0",bottom:"0"})[_0x4b1c("0x45e")];a[_0x4b1c("0x1d7")](f);var l=(0,t[_0x4b1c("0xc")])(_0x4b1c("0x1c8"))[_0x4b1c("0x23")]({position:_0x4b1c("0x73d"),overflow:_0x4b1c("0xb9b"),background:_0x4b1c("0x10e0"),width:"1px",height:_0x4b1c("0x130a"),fontSize:"0",bottom:"0",left:"0"})[_0x4b1c("0x45e")];a[_0x4b1c("0x1d7")](l);var d=(0,t[_0x4b1c("0xc")])("div")[_0x4b1c("0x23")]({position:_0x4b1c("0x73d"),overflow:_0x4b1c("0xb9b"),background:_0x4b1c("0x10e0"),width:"1px",height:"6px",fontSize:"0",bottom:"0",right:"0"})[_0x4b1c("0x45e")];a[_0x4b1c("0x1d7")](d),this[_0x4b1c("0x130b")]=a[_0x4b1c("0x4df")](),this.barBoxer=a}return(0,e[_0x4b1c("0xc")])(x,[{key:"DistanceofTwoPts",value:function(x,c){return Math[_0x4b1c("0x120")]((x.x-c.x)*(x.x-c.x)+(x.y-c.y)*(x.y-c.y))}},{key:_0x4b1c("0xb1c"),value:function(){var x=this;if("3D"!=this[_0x4b1c("0xcf5")].viewMode_){var c=this.map_[_0x4b1c("0xa61")](x.barBox[_0x4b1c("0x359")]-x[_0x4b1c("0x1303")][_0x4b1c("0x359")],x[_0x4b1c("0x130b")][_0x4b1c("0x35b")]-x[_0x4b1c("0x1303")][_0x4b1c("0x35b")],0),b=this[_0x4b1c("0xcf5")][_0x4b1c("0xa61")](x[_0x4b1c("0x130b")][_0x4b1c("0x35a")]-x[_0x4b1c("0x1303")][_0x4b1c("0x359")],x[_0x4b1c("0x130b")].top-x[_0x4b1c("0x1303")][_0x4b1c("0x35b")],0);if(c&&b){var _=x[_0x4b1c("0x11d")](c,b),e=void 0;e=_<50?_[_0x4b1c("0x64d")](1)+_0x4b1c("0x130c"):_>=50&&_<1e3?_[_0x4b1c("0x64d")](0)+"&nbsp;米":(_/1e3)[_0x4b1c("0x64d")](1)+_0x4b1c("0x130d"),x.textBox[_0x4b1c("0x1d6")]=e}}else{var t=60*this.map_[_0x4b1c("0x1c3")][_0x4b1c("0xbe3")],i=void 0;i=t<50?t.toFixed(1)+"&nbsp;米":t>=50&&t<1e3?t[_0x4b1c("0x64d")](0)+_0x4b1c("0x130c"):(t/1e3)[_0x4b1c("0x64d")](1)+_0x4b1c("0x130d"),this[_0x4b1c("0x1306")][_0x4b1c("0x1d6")]=i}}},{key:"visible",set:function(x){x?this[_0x4b1c("0x130e")].style[_0x4b1c("0x1cb")]=_0x4b1c("0x11b5"):this[_0x4b1c("0x130e")][_0x4b1c("0x23")].display="none"},get:function(){return this[_0x4b1c("0x130e")][_0x4b1c("0x23")][_0x4b1c("0x1cb")]!=_0x4b1c("0x60b")}}]),x}();c[_0x4b1c("0xc")]=a},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=f(b(2)),e=f(b(6)),t=f(b(22)),i=f(b(0)),a=f(b(1)),n=f(b(33)),r=b(19),s=b(65),o=b(4);function f(x){return x&&x.__esModule?x:{default:x}}var l=new(n[_0x4b1c("0xc")]),d=function(){function x(c){(0,i.default)(this,x);var b=esmap.ESMap[_0x4b1c("0x3a")];this.hideOnCreated=!1,this[_0x4b1c("0xb9b")]=!1,this.locked=!1,this._animateState={},this[_0x4b1c("0x535")]=c,this[_0x4b1c("0x535")].size=_0x4b1c("0x140"),_0x4b1c("0x140")==this.options_.size?(this.w_=this.options_[_0x4b1c("0x1c9")]?this[_0x4b1c("0x535")].width:300,this.h_=this[_0x4b1c("0x535")][_0x4b1c("0x1a3")]?this[_0x4b1c("0x535")].height:150,this.padding_=10):(this.w_=32,this.h_=32,this[_0x4b1c("0x11b6")]=8),this[_0x4b1c("0x130f")]=_0x4b1c("0x11ba"),this[_0x4b1c("0x11bb")]=this[_0x4b1c("0x535")][_0x4b1c("0xd3b")]?this[_0x4b1c("0x535")].borderRadius:_0x4b1c("0x130a"),this.screenCoord_=this[_0x4b1c("0x535")][_0x4b1c("0x1310")]?this[_0x4b1c("0x535")].screenCoord:null,this[_0x4b1c("0x743")]=!!this[_0x4b1c("0x535")][_0x4b1c("0x743")]&&this[_0x4b1c("0x535")][_0x4b1c("0x743")],this.className=this[_0x4b1c("0x535")][_0x4b1c("0x4ea")]?this[_0x4b1c("0x535")].className:null,this[_0x4b1c("0x12b")]=this[_0x4b1c("0x535")].mapCoord[_0x4b1c("0x12b")]?this.options_.mapCoord[_0x4b1c("0x12b")]:0,this[_0x4b1c("0x1311")]=this[_0x4b1c("0x535")].marker?this[_0x4b1c("0x535")].marker:null,this[_0x4b1c("0x1312")]=this[_0x4b1c("0x535")][_0x4b1c("0x21d")]?this.options_.mapCoord:null,this.showLevel_=this[_0x4b1c("0x535")][_0x4b1c("0x1e4")]?this[_0x4b1c("0x535")][_0x4b1c("0x1e4")]:null,this[_0x4b1c("0x1312")]&&this[_0x4b1c("0x1312")].height&&(this[_0x4b1c("0x1312")].z=this[_0x4b1c("0x1312")].height),this[_0x4b1c("0x1313")]=this[_0x4b1c("0x535")].transformOrigin?this.options_.transformOrigin:_0x4b1c("0x1314"),this[_0x4b1c("0x1315")]=this.options_[_0x4b1c("0x1316")]?this[_0x4b1c("0x535")].translateStyle:_0x4b1c("0x1317");var _=void 0;if(_=this.options_.hasOwnProperty("id")&&null!=this[_0x4b1c("0x535")].id?this[_0x4b1c("0x535")].id:(0,r[_0x4b1c("0x1b")])(8),this.ID=_,l[_0x4b1c("0x1246")](this.ID)&&console[_0x4b1c("0x424")](_0x4b1c("0x1318")+this.ID),l[_0x4b1c("0xdd")](this.ID),this[_0x4b1c("0x1312")]){null==this[_0x4b1c("0x1312")].x&&(this[_0x4b1c("0x1312")].x=b[_0x4b1c("0x12d")].x),null==this.mapCoord_.y&&(this[_0x4b1c("0x1312")].y=b[_0x4b1c("0x12d")].y);var e=b[_0x4b1c("0xb11")]({x:this[_0x4b1c("0x1312")].x,y:this[_0x4b1c("0x1312")].y});this[_0x4b1c("0x1312")].x=e.x,this[_0x4b1c("0x1312")].y=e.y}this[_0x4b1c("0x304")]=null,this[_0x4b1c("0x21f")]=null,Array[_0x4b1c("0x32f")](this[_0x4b1c("0x101c")])?(this.minShowLevel=Math[_0x4b1c("0x2f6")][_0x4b1c("0x4")](Math,(0,t[_0x4b1c("0xc")])(this[_0x4b1c("0x101c")])),this[_0x4b1c("0x21f")]=Math[_0x4b1c("0x2f5")][_0x4b1c("0x4")](Math,(0,t[_0x4b1c("0xc")])(this.showLevel_))):this[_0x4b1c("0x21f")]=this.showLevel_,this[_0x4b1c("0x1319")]=null,this[_0x4b1c("0x1312")]&&!this[_0x4b1c("0x1312")][_0x4b1c("0x12e")]&&(this.mapCoord_.fnum=1,this.options_[_0x4b1c("0x21d")][_0x4b1c("0x12e")]=1),this.options_[_0x4b1c("0x21d")][_0x4b1c("0x12b")]||(this[_0x4b1c("0x535")][_0x4b1c("0x21d")].bid=0),this[_0x4b1c("0x131a")]&&this[_0x4b1c("0x131a")][_0x4b1c("0x1a3")]&&(this[_0x4b1c("0x131a")].z=this[_0x4b1c("0x131a")].height),this.building=b.getBuildingById(this.bid),(this[_0x4b1c("0x131a")]||this[_0x4b1c("0x1312")])&&(this.IsScreenCoord=!!this[_0x4b1c("0x131a")],this.$=function(x){return document.querySelector(x)},this[_0x4b1c("0x131b")]=null==this[_0x4b1c("0x535")][_0x4b1c("0x1d0")]?20:this[_0x4b1c("0x535")].padding,this[_0x4b1c("0x131c")]=this.h_-2*this[_0x4b1c("0x131b")],this[_0x4b1c("0x131d")]=this[_0x4b1c("0x535")][_0x4b1c("0x7be")]?this[_0x4b1c("0x535")][_0x4b1c("0x7be")]:null,this[_0x4b1c("0x131e")]=this[_0x4b1c("0x535")].borderStyle?this[_0x4b1c("0x535")].borderStyle:_0x4b1c("0x131f"),this[_0x4b1c("0x1320")]=this[_0x4b1c("0x535")][_0x4b1c("0x1320")]?this.options_[_0x4b1c("0x1320")]:_0x4b1c("0x1321"),this[_0x4b1c("0x1ce")]=this[_0x4b1c("0x535")][_0x4b1c("0x1ce")]?this[_0x4b1c("0x535")][_0x4b1c("0x1ce")]:"255,255,255",this[_0x4b1c("0x1322")]=this[_0x4b1c("0x535")][_0x4b1c("0x1322")]?this[_0x4b1c("0x535")][_0x4b1c("0x1322")]:1,this[_0x4b1c("0x129")]=1,this.updateSize_=null!=this[_0x4b1c("0x535")].updateSize&&this[_0x4b1c("0x535")].updateSize,this.map=b,this[_0x4b1c("0xab6")]=null,this.scaleRate=1,this.computedScale=1,this[_0x4b1c("0x1323")]())}return(0,a[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x1e4"),set:function(x){null!==x&&(this[_0x4b1c("0x101c")]=x,Array[_0x4b1c("0x32f")](x)?(this[_0x4b1c("0x304")]=Math[_0x4b1c("0x2f6")][_0x4b1c("0x4")](Math,(0,t.default)(x)),this[_0x4b1c("0x21f")]=Math[_0x4b1c("0x2f5")].apply(Math,(0,t[_0x4b1c("0xc")])(x))):this.maxShowLevel=x)},get:function(){return this[_0x4b1c("0x101c")]}}]),x}();d[_0x4b1c("0xf")]={_tryInit:function(){var x=this,c=this,b=this[_0x4b1c("0x3e")],_=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));if(_[_0x4b1c("0x23")][_0x4b1c("0x1324")]=_0x4b1c("0x1314"),_[_0x4b1c("0xbfd")]=function(x){x[_0x4b1c("0x379")]()},_[_0x4b1c("0xbff")]=function(x){c.map[_0x4b1c("0x266")][_0x4b1c("0xc6a")](),x.stopPropagation()},_.ontouchstart=function(x){x[_0x4b1c("0x379")]()},_[_0x4b1c("0x11a0")]=function(x){x[_0x4b1c("0x379")]()},_.ontouchmove=function(x){x.stopPropagation()},!this[_0x4b1c("0x4ea")]&&this[_0x4b1c("0x131d")]){this[_0x4b1c("0x131d")]=_0x4b1c("0x1325")+this[_0x4b1c("0x131c")]+_0x4b1c("0x1326")+this[_0x4b1c("0x131d")]+_0x4b1c("0x1327"),_[_0x4b1c("0x23")].width=this.w_+"px",_.style[_0x4b1c("0x1a3")]=this.h_+"px",_.style.position=_0x4b1c("0x1183"),_.setAttribute(_0x4b1c("0xbe6"),_0x4b1c("0x1328")),_.style.padding=this[_0x4b1c("0x131b")]+"px",_[_0x4b1c("0x23")][_0x4b1c("0x1ce")]=_0x4b1c("0x646")+this[_0x4b1c("0x1ce")]+","+this[_0x4b1c("0x129")]+")",_.style[_0x4b1c("0x936")]=this.borderStyle_,_[_0x4b1c("0x23")][_0x4b1c("0xd3b")]=this[_0x4b1c("0x11bb")],_[_0x4b1c("0x23")][_0x4b1c("0x1d2")]=_0x4b1c("0x1d3");var e=document[_0x4b1c("0x21")](_0x4b1c("0xd3f"));e[_0x4b1c("0x1d4")](_0x4b1c("0xbe6"),_0x4b1c("0x1329")),e.style[_0x4b1c("0x1c9")]=0,e.style[_0x4b1c("0x1a3")]=0,e[_0x4b1c("0x23")][_0x4b1c("0x336")]=0,e[_0x4b1c("0x23")][_0x4b1c("0x73e")]=_0x4b1c("0xb9b"),e[_0x4b1c("0x23")][_0x4b1c("0x105")]="absolute",e[_0x4b1c("0x23")][_0x4b1c("0x132a")]="20px",e.style[_0x4b1c("0x132b")]="solid dashed dashed",e[_0x4b1c("0x23")].borderColor=this[_0x4b1c("0x1320")]+" transparent transparent",e[_0x4b1c("0x23")][_0x4b1c("0x359")]=this.w_/2-25+"px",e[_0x4b1c("0x23")][_0x4b1c("0x35c")]=_0x4b1c("0x132c");var t=document[_0x4b1c("0x21")](_0x4b1c("0xd3f"));t[_0x4b1c("0x1d4")]("class",_0x4b1c("0xd40")),t[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=0,t[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=0,t[_0x4b1c("0x23")][_0x4b1c("0x336")]=0,t[_0x4b1c("0x23")][_0x4b1c("0x73e")]=_0x4b1c("0x335"),t[_0x4b1c("0x23")][_0x4b1c("0x105")]="absolute",t.style[_0x4b1c("0x132b")]="solid dashed dashed",t[_0x4b1c("0x23")][_0x4b1c("0x132a")]="20px",t.style[_0x4b1c("0x1320")]=_0x4b1c("0x646")+this[_0x4b1c("0x1ce")]+","+this[_0x4b1c("0x129")]+_0x4b1c("0xd42"),t.style[_0x4b1c("0x359")]=this.w_/2-25+"px",t[_0x4b1c("0x23")][_0x4b1c("0x35c")]=_0x4b1c("0x132d");var i=document[_0x4b1c("0x21")]("input");i.type="button",i[_0x4b1c("0x13a")]="✖",i[_0x4b1c("0x23")][_0x4b1c("0x105")]=_0x4b1c("0x73d"),i[_0x4b1c("0x23")][_0x4b1c("0x35a")]=_0x4b1c("0xf7b"),i[_0x4b1c("0x23")][_0x4b1c("0x35b")]=_0x4b1c("0x114b"),i[_0x4b1c("0x23")][_0x4b1c("0xac3")]=_0x4b1c("0x132e"),i[_0x4b1c("0x23")][_0x4b1c("0x1c9")]="24px",i[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=_0x4b1c("0x132f"),i[_0x4b1c("0x23")][_0x4b1c("0x936")]=0,i[_0x4b1c("0x23")].webkitAppearance=_0x4b1c("0x60b"),i[_0x4b1c("0x23")].padding="0",i[_0x4b1c("0x1330")]=this[_0x4b1c("0x1331")][_0x4b1c("0xe")](this),i[_0x4b1c("0x11a0")]=this[_0x4b1c("0x1331")][_0x4b1c("0xe")](this),_[_0x4b1c("0x1d7")](i),_[_0x4b1c("0x1d7")](e),_[_0x4b1c("0x1d7")](t)}else this.className&&_[_0x4b1c("0x1d4")](_0x4b1c("0xbe6"),this[_0x4b1c("0x4ea")]);var a=b[_0x4b1c("0x136")](this[_0x4b1c("0x12b")]),n=a[_0x4b1c("0x662")](this.options_[_0x4b1c("0x21d")][_0x4b1c("0x12e")]),r=new(THREE[_0x4b1c("0x1dd")]);r[_0x4b1c("0x165")].id=this.ID,r[_0x4b1c("0x1f7")]=_0x4b1c("0xb4b"),n[_0x4b1c("0xf0")][_0x4b1c("0xdd")](r),a.on(_0x4b1c("0x17a"),(function(c){c[_0x4b1c("0x114")](x.options_.mapCoord[_0x4b1c("0x12e")])<0?x[_0x4b1c("0x1332")]=!1:x.hidden&&(x[_0x4b1c("0x1332")]=!0)}));var s=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));s.appendChild(_);var o=new(THREE[_0x4b1c("0x73c")])(s);this[_0x4b1c("0x12fb")]=!1;var f=b[_0x4b1c("0x2c5")](this[_0x4b1c("0x535")][_0x4b1c("0x21d")]);r[_0x4b1c("0x105")][_0x4b1c("0x20b")](f);var l=this[_0x4b1c("0x535")][_0x4b1c("0x21d")][_0x4b1c("0x1a3")]||0;r[_0x4b1c("0x105")].y=l,r[_0x4b1c("0x1333")]=l,o[_0x4b1c("0x1311")]=this[_0x4b1c("0x1311")],o[_0x4b1c("0xef")]={nodeType:100};var d=_[_0x4b1c("0x4df")](),u=d[_0x4b1c("0x1c9")],h=d[_0x4b1c("0x1a3")];o.width_=u,o[_0x4b1c("0x315")]=h,o[_0x4b1c("0x165")][_0x4b1c("0x744")]=1,o.userData[_0x4b1c("0x743")]=this[_0x4b1c("0x743")],r[_0x4b1c("0xdd")](o),this.cssObject=o,r[_0x4b1c("0x1015")]=64,r.height_=64,this[_0x4b1c("0xd48")]=r,r[_0x4b1c("0xef")]=this,c[_0x4b1c("0x1311")]&&(_[_0x4b1c("0x23")].bottom=l+"px");var g=function(){c.bindMarker&&c[_0x4b1c("0x1311")][_0x4b1c("0xf0")]&&(r.position.y=c[_0x4b1c("0x1311")].o3d_[_0x4b1c("0x105")].y);var x=r[_0x4b1c("0x21c")](new(THREE[_0x4b1c("0x128")])),b=c[_0x4b1c("0x3e")][_0x4b1c("0xb07")](x,!0),_=c[_0x4b1c("0x1332")];b&&c.inLevel&&_?c[_0x4b1c("0xb9b")]&&c[_0x4b1c("0x1334")](!0):!c[_0x4b1c("0xb9b")]&&c.setVisible(!1)},v=function(){if(c[_0x4b1c("0x1335")]){var x=esmap.MapObjectUtils.getPerspectiveScale(o,c.map[_0x4b1c("0x1c3")]);c.originalScale||(x.meterperpixel<=0?c[_0x4b1c("0x24f")]=1:c[_0x4b1c("0x24f")]=x[_0x4b1c("0x1021")]);var b=c.originalScale/x.meterperpixel;b<=0&&(b=c[_0x4b1c("0x24f")]);var _=Math[_0x4b1c("0x2f6")](c[_0x4b1c("0x1322")],b);o[_0x4b1c("0x165")][_0x4b1c("0x744")]=_,c[_0x4b1c("0x744")]=_}},p=c.map[_0x4b1c("0x47")][_0x4b1c("0x31a")];function m(x){if(c[_0x4b1c("0x3e")][_0x4b1c("0x3b")]!=esmap.MapMode[_0x4b1c("0x42")]&&p){var b=c[_0x4b1c("0x3e")].scaleLevel;if(c[_0x4b1c("0x440")])return;b>c.showLevel_?c[_0x4b1c("0xb9b")]||(c[_0x4b1c("0x1334")](!1),c[_0x4b1c("0x1336")]=!1,c[_0x4b1c("0x1319")]&&c[_0x4b1c("0x1319")](!1)):c.hidden&&(c[_0x4b1c("0x1334")](!0),c[_0x4b1c("0x1336")]=!0,c[_0x4b1c("0x1319")]&&c[_0x4b1c("0x1319")](!0))}else{if(c.locked)return;null!=c[_0x4b1c("0x304")]&&null!=c.maxShowLevel?x<c.minShowLevel||x>c[_0x4b1c("0x21f")]?(c.inLevel=!1,c[_0x4b1c("0xb9b")]||(c[_0x4b1c("0x1334")](!1),c[_0x4b1c("0x1319")]&&c[_0x4b1c("0x1319")](!1))):(c[_0x4b1c("0x1336")]=!0,c[_0x4b1c("0xb9b")]||(c[_0x4b1c("0x1334")](!0),c[_0x4b1c("0x1319")]&&c.onVisibleCallBack(!0))):x<c[_0x4b1c("0x101c")]?(c[_0x4b1c("0x1336")]=!1,c[_0x4b1c("0xb9b")]||(c[_0x4b1c("0x1334")](!1),c.onVisibleCallBack&&c[_0x4b1c("0x1319")](!1))):(c[_0x4b1c("0x1336")]=!0,c.hidden||(c.setVisible(!0),c.onVisibleCallBack&&c.onVisibleCallBack(!0)))}}c[_0x4b1c("0x101c")]?c[_0x4b1c("0x3e")][_0x4b1c("0x3b")]!=esmap[_0x4b1c("0x41")].City&&p?c[_0x4b1c("0x3e")][_0x4b1c("0x222")]<c[_0x4b1c("0x101c")]?c[_0x4b1c("0x1336")]=!0:c.inLevel=!1:null!=c.minShowLevel&&null!=c[_0x4b1c("0x21f")]?c.map[_0x4b1c("0x31d")]<c[_0x4b1c("0x304")]||c[_0x4b1c("0x3e")][_0x4b1c("0x31d")]>c[_0x4b1c("0x21f")]?c[_0x4b1c("0x1336")]=!1:c.inLevel=!0:c[_0x4b1c("0x3e")].zoomLevel<c[_0x4b1c("0x101c")]?c[_0x4b1c("0x1336")]=!1:c.inLevel=!0:c.inLevel=!0,c[_0x4b1c("0x3e")].on(_0x4b1c("0x164"),g),c[_0x4b1c("0x177")]=g,c[_0x4b1c("0x1337")]=v,c.map.on(_0x4b1c("0x179"),v),c[_0x4b1c("0x101c")]&&(m(c[_0x4b1c("0x3e")].zoomLevel),c[_0x4b1c("0x3e")].on(_0x4b1c("0x179"),(function(x){m(x)}))),this.content_&&_[_0x4b1c("0x1338")](_0x4b1c("0x1339"),this[_0x4b1c("0x131d")]),this[_0x4b1c("0xab6")]=_,this[_0x4b1c("0x1332")]=!0,n[_0x4b1c("0xf0")][_0x4b1c("0x191")]||(this.setVisible(!1),this[_0x4b1c("0x1332")]=!1),document[_0x4b1c("0x37")]("popMakerCreated",(function(x){x[_0x4b1c("0x74e")]==s&&(c[_0x4b1c("0x1336")]||c[_0x4b1c("0x1334")](!1),c[_0x4b1c("0x12fb")]||(c[_0x4b1c("0x535")].created&&c.options_[_0x4b1c("0x12fb")](_.children[0],c),c[_0x4b1c("0x12fb")]=!0))}))},onUpdatePosition:function(x){var c=this,b=this;b[_0x4b1c("0x133b")]=function(c){var _={x:c[_0x4b1c("0x1050")].x,y:c[_0x4b1c("0x1050")].y,display:c[_0x4b1c("0x1050")][_0x4b1c("0x1cb")],zIndex:b.cssObject.element[_0x4b1c("0x23")].zIndex};b.locked||b[_0x4b1c("0x1336")]||(_.display="none");var e=1;if(b.updateSize_){var t=esmap[_0x4b1c("0x277")][_0x4b1c("0x101e")](b[_0x4b1c("0xd48")],b[_0x4b1c("0x3e")][_0x4b1c("0x1c3")]);b.originalScale||(b[_0x4b1c("0x24f")]=t[_0x4b1c("0x1021")]);var i=b[_0x4b1c("0x24f")]/t[_0x4b1c("0x1021")];i<=0&&(i=b[_0x4b1c("0x24f")]),e=Math[_0x4b1c("0x2f6")](b.maxScale,i)}x(_0x4b1c("0x4ef")+b[_0x4b1c("0x1315")]+_0x4b1c("0x745")+_.x+_0x4b1c("0x4ed")+_.y+_0x4b1c("0x133a")+e+")",_)},this.cssObject[_0x4b1c("0x37")](_0x4b1c("0x164"),b[_0x4b1c("0x133b")]),this[_0x4b1c("0x133c")][_0x4b1c("0x37")]("removed",(function(){x(_0x4b1c("0xbc6"),{display:_0x4b1c("0x60b")}),c[_0x4b1c("0x133c")].removeEventListener(_0x4b1c("0x164"),b[_0x4b1c("0x133b")])}))},onVisibleChanged:function(x){this[_0x4b1c("0x1319")]=x},getMapCoord_Z:function(x,c){return c?this[_0x4b1c("0x54")][_0x4b1c("0x2d7")](x)+c:this[_0x4b1c("0x54")][_0x4b1c("0x2d7")](x)+2},getMapCoord_:function(x){if(_0x4b1c("0x1d")!=(typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,e.default)(x))||!x.x||!x.y||!x[_0x4b1c("0x12e")])return null;var c={x:x.x,y:x.y,z:this[_0x4b1c("0x133d")](x[_0x4b1c("0x12e")],x.z)};return this[_0x4b1c("0x3e")].coordScreenToMap(c.x,c.y,c.z)},getScreenCoord_:function(x){return _0x4b1c("0x1d")==(typeof x===_0x4b1c("0x8")?_0x4b1c("0x8"):(0,e[_0x4b1c("0xc")])(x))&&x.x&&x.y&&x.z?this[_0x4b1c("0x3e")][_0x4b1c("0xb45")](x.x,x.y,x.z):null},bindCloseClick_:function(){this[_0x4b1c("0x499")](),this[_0x4b1c("0x535")][_0x4b1c("0x133e")]&&_0x4b1c("0x1e")==typeof this[_0x4b1c("0x535")].closed&&this[_0x4b1c("0x535")][_0x4b1c("0x133e")](!0)},close:function(){if(this[_0x4b1c("0xab6")]){var x=this[_0x4b1c("0x54")][_0x4b1c("0x662")](this.mapCoord_[_0x4b1c("0x12e")]);this[_0x4b1c("0xd48")].remove(this[_0x4b1c("0xd48")][_0x4b1c("0xf1")][0]),x.o3d_[_0x4b1c("0x2ea")](this[_0x4b1c("0xd48")]),l[_0x4b1c("0xe4")](this.ID),this.popDiv_[_0x4b1c("0x23")].display=_0x4b1c("0x60b"),this[_0x4b1c("0x535")][_0x4b1c("0x133e")]&&"function"==typeof this.options_[_0x4b1c("0x133e")]&&this[_0x4b1c("0x535")][_0x4b1c("0x133e")](!0),this.map.off("update",this[_0x4b1c("0x177")])}},setVisible:function(x){this[_0x4b1c("0x440")]||(x?(this[_0x4b1c("0xab6")]&&(this[_0x4b1c("0xab6")].style[_0x4b1c("0x1cb")]=_0x4b1c("0x11b5"),this.hidden=!1),this[_0x4b1c("0x133c")].visible=!0):(this[_0x4b1c("0xab6")]&&(this.popDiv_.style[_0x4b1c("0x1cb")]="none",this[_0x4b1c("0xb9b")]=!0),this.cssObject[_0x4b1c("0x191")]=!1))},hide:function(){this[_0x4b1c("0x440")]||(this[_0x4b1c("0x440")]=!0),this[_0x4b1c("0xab6")]&&(this[_0x4b1c("0xab6")][_0x4b1c("0x23")].display=_0x4b1c("0x60b"),this.hidden=!0),this.cssObject[_0x4b1c("0x191")]=!1},show:function(){this[_0x4b1c("0x440")]||(this.locked=!0),this[_0x4b1c("0xab6")]&&(this[_0x4b1c("0xab6")].style.display=_0x4b1c("0x11b5"),this[_0x4b1c("0xb9b")]=!1),this[_0x4b1c("0x133c")][_0x4b1c("0x191")]=!0},toggle:function(){this[_0x4b1c("0xab6")]&&(this[_0x4b1c("0xab6")].style[_0x4b1c("0x1cb")]==_0x4b1c("0x60b")?this[_0x4b1c("0xab6")][_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0x11b5"):this[_0x4b1c("0xab6")][_0x4b1c("0x23")][_0x4b1c("0x1cb")]=_0x4b1c("0x60b"))},setHeight:function(x){this[_0x4b1c("0xd48")][_0x4b1c("0x105")].y=x},moveTo:function(x){var c=this._animateState[_0x4b1c("0x325")];x=(0,_.default)({},x);var b={x:(0,o[_0x4b1c("0x13")])(x,"x",this[_0x4b1c("0x1312")].x),y:(0,o[_0x4b1c("0x13")])(x,"y",this[_0x4b1c("0x1312")].y),z:(0,o[_0x4b1c("0x13")])(x,"z",this[_0x4b1c("0xd48")][_0x4b1c("0x105")].y)};c&&c.stop();var e=(0,s.userCoordToThree)(b);x.x=e.x,x.y=e.y,x.z=e.z;var t=esmap.MapObjectUtils[_0x4b1c("0x325")][_0x4b1c("0x2")](this[_0x4b1c("0xd48")],x);this[_0x4b1c("0x326")][_0x4b1c("0x325")]=t}},c.default=d},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=p(b(6)),e=p(b(9)),t=p(b(2)),i=p(b(0)),a=p(b(1)),n=p(b(15)),r=p(b(64)),s=p(b(63)),o=p(b(375)),f=p(b(377)),l=p(b(26)),d=p(b(35)),u=b(113),h=b(27),g=b(43),v=b(66);function p(x){return x&&x.__esModule?x:{default:x}}var m=new(r[_0x4b1c("0xc")]),A={x:0,y:0},y=function(){var x=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];x[h._strd_](),window[h[_0x4b1c("0xd7")]]((function(){return x[h._dusc_]()}),0)};function C(x,c){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_=new RegExp(c,"g"),e=x[_0x4b1c("0x1e5")](b)[_0x4b1c("0x4f5")](_);return-1===e?-1:e+b}var I=!1,E=function(){function x(c,b,_){var e=this;(0,i[_0x4b1c("0xc")])(this,x),m.set(_0x4b1c("0x567"),null),this.id=c,this[_0x4b1c("0x1f7")]="",this[_0x4b1c("0xafc")]=null,this[_0x4b1c("0x3e")]=_,this[_0x4b1c("0x1340")]=1,this[_0x4b1c("0x12d")],this[_0x4b1c("0xea7")]=[],this[_0x4b1c("0x679")]=[],this[_0x4b1c("0x1341")]=[],this[_0x4b1c("0x989")]={},this[_0x4b1c("0xb01")]={},this[_0x4b1c("0x1342")]={},this.o3d_=new(THREE[_0x4b1c("0x214")]),this[_0x4b1c("0xf0")][_0x4b1c("0xef")]=this,this.sourceData=null,this[_0x4b1c("0x33")]=this[_0x4b1c("0x3e")].mapScene[_0x4b1c("0x33")],this[_0x4b1c("0x47")]=b,null==this[_0x4b1c("0x47")].mergeModels&&(this[_0x4b1c("0x47")][_0x4b1c("0x384")]=!0),this[_0x4b1c("0x1343")]={},this[_0x4b1c("0x1344")]=[],this.animating_=!1,this[_0x4b1c("0x1345")]={},this[_0x4b1c("0xdbc")]={},this.isLoadedAll=!1,this.modelLoadManager=new(o[_0x4b1c("0xc")])(this),this.meshLoader=new(f[_0x4b1c("0xc")])(this),this[_0x4b1c("0x1346")]=!1,this[_0x4b1c("0x10f9")]=0,em[_0x4b1c("0x1e0")][_0x4b1c("0xfa3")](this),this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")].Building&&this[_0x4b1c("0x3e")].on(_0x4b1c("0x9e2"),(function(x){x==esmap.ESViewMode[_0x4b1c("0xaa8")]&&e[_0x4b1c("0x137")][_0x4b1c("0x0")]>1&&(e.visibleFloorNums=[e[_0x4b1c("0x575")]])}),null,this.id),this.scaleLevels_=[],this[_0x4b1c("0x78")]=0,d[_0x4b1c("0xc")].register(this.id)}return(0,a[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x1347"),value:function(x){var c=this;return x[_0x4b1c("0x3e")]((function(x){return(0,t[_0x4b1c("0xc")])({},x,{x:x.x+c.offset.x,y:x.y+c.offset.y})}))}},{key:_0x4b1c("0x1348"),value:function(x){for(var c=0;c<this.listFloors[_0x4b1c("0x0")];c++){if(this[_0x4b1c("0x1349")][c].NameEn[_0x4b1c("0xb6d")]()==x)return this.listFloors[c].floornum}return console[_0x4b1c("0xe3")](_0x4b1c("0x134a")+x),null}},{key:_0x4b1c("0x134b"),value:function(x){var c=this,b=this[_0x4b1c("0x3e")],_=b.mode===esmap[_0x4b1c("0x41")].City;try{var e=[];return this.floors_[x].floorBaseDatas[_0x4b1c("0x1c")]((function(x){var t={points:[],holes:[]};x[_0x4b1c("0x12c")][_0x4b1c("0x1c")]((function(x){t[_0x4b1c("0x12c")][_0x4b1c("0x12")]({x:-x.x,y:x.y})})),x[_0x4b1c("0x547")][_0x4b1c("0x1c")]((function(x){var c=[];x.forEach((function(x){c[_0x4b1c("0x12")]({x:-x.x,y:x.y})})),t.holes.push(c)})),_&&(t[_0x4b1c("0x12c")]=t[_0x4b1c("0x12c")].map((function(x){return{x:x.x+c[_0x4b1c("0xa94")].x+c[_0x4b1c("0x158")].x,y:x.y+c[_0x4b1c("0xa94")].y-c[_0x4b1c("0x158")].y}})),t[_0x4b1c("0x547")][_0x4b1c("0x1c")]((function(x){x=b.transformCoordArray({from:b[_0x4b1c("0x2d4")],to:b.DEFAULT_COORDSYSTEM,coords:x})}))),e[_0x4b1c("0x12")](t)})),e}catch(x){return console[_0x4b1c("0x291")](_0x4b1c("0x134c")),null}}},{key:"changeFocusFloor",value:function(x,c){var b=this;return new(e[_0x4b1c("0xc")])((function(_){var e=b;if(2==e[_0x4b1c("0x47")].focusMode)e[_0x4b1c("0x137")]=[x];else{var t=e.floorNums[_0x4b1c("0x42b")](),i=[];for(var a in t)t[a]<=x&&i[_0x4b1c("0x12")](t[a]);e.visibleFloorNums=i}e.focusFloorNum={fnum:x,callback:function(){c&&c(),_()}}}))}},{key:"asyncLoadRoads",value:function(x,c,b){var _=this,e=new THREE.Promise,t=x[_0x4b1c("0x3ef")],i=this[_0x4b1c("0x3cb")],a=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0x134d")]);return c[_0x4b1c("0xdd")](a[_0x4b1c("0xf0")]),setTimeout((function(){for(var x=0;x<t.length;x++){for(var c=t[x],a=0;a<c[_0x4b1c("0x12c")][_0x4b1c("0x0")];a++)c[_0x4b1c("0x12c")][a].x=-c[_0x4b1c("0x12c")][a].x,c[_0x4b1c("0x12c")][a][_0x4b1c("0x12e")]=b;var n=l[_0x4b1c("0xc")][_0x4b1c("0x680")](_0x4b1c("0x5c"),{filename:c[_0x4b1c("0x55d")],type:_0x4b1c("0xe98"),buildingId:_.id});c[_0x4b1c("0x55d")];var r={lineType:esmap[_0x4b1c("0xa4d")][_0x4b1c("0x127")],lineWidth:5,noAnimate:!0,color:"#FFFFFF",smooth:!1,pickable:!0,offsetHeight:0,lineWidthMeter:!0};if(r[_0x4b1c("0x4e")]=n,c.RoomLogoSize){var s=c[_0x4b1c("0xe96")][_0x4b1c("0x2c")](",");1*s[1]?(r[_0x4b1c("0x15f")]=1*s[1],r.up=new(THREE[_0x4b1c("0x128")])(0,1,0)):(r[_0x4b1c("0x15f")]=1*s[0],r.up=new(THREE[_0x4b1c("0x128")])(1,0,0)),r.offsetHeight=c.RoomHigh;var o=new esmap.ESLineMarker({id:c[_0x4b1c("0x666")],points:c[_0x4b1c("0x12c")],style:r});o[_0x4b1c("0x3de")]=c,o.FloorNum=b,_[_0x4b1c("0x3e")][_0x4b1c("0xa41")](o),i.pop(c[_0x4b1c("0x666")])}}e.resolve()}),_[_0x4b1c("0x1034")]),e}},{key:_0x4b1c("0xa99"),value:function(x){var c,b=this,_=b[_0x4b1c("0x679")],e=!1,t=!1;x instanceof Object?(e=x[_0x4b1c("0x1")](_0x4b1c("0x134e"))?x[_0x4b1c("0x134e")]:e,t=!!x[_0x4b1c("0x1")](_0x4b1c("0x134f"))&&x[_0x4b1c("0x134f")],c=x.id,_=x[_0x4b1c("0x12e")]?x[_0x4b1c("0x12e")]:_):typeof x==_0x4b1c("0x18f")&&(c=x);var i=null;return esmap[_0x4b1c("0x87")][_0x4b1c("0x4f5")](this[_0x4b1c("0x3e")],{fnum:_,bid:this.id},{nodeType:5,ID:c},(function(x){if(0!=x[_0x4b1c("0x0")]){if(e)b[_0x4b1c("0x3e")][_0x4b1c("0x9b9")][0]&&b[_0x4b1c("0x3e")][_0x4b1c("0x9b9")][0].ID==x[0].ID||(b[_0x4b1c("0x3e")][_0x4b1c("0xa8d")](),b[_0x4b1c("0x3e")].storeSelect(x[0]));var c=x[0];if(t){var _=c[_0x4b1c("0xf0")][_0x4b1c("0xf2")],a=_[_0x4b1c("0x446")];_.userData.groups=a,_[_0x4b1c("0x17f")](),b[_0x4b1c("0x3e")][_0x4b1c("0x1350")](c[_0x4b1c("0x46b")][0],c.faceRange[1],a)[_0x4b1c("0x1c")]((function(x){_.addGroup(x.start,x.count,x[_0x4b1c("0x448")])})),c[_0x4b1c("0x1351")]=!0}else if(c[_0x4b1c("0x1351")]){var n=c[_0x4b1c("0xf0")].geometry;n[_0x4b1c("0x17f")](),n[_0x4b1c("0x165")][_0x4b1c("0x446")].forEach((function(x){n.addGroup(x[_0x4b1c("0x1af")],x[_0x4b1c("0x106")],x[_0x4b1c("0x448")])})),c[_0x4b1c("0x1351")]=!1}i=x[0]}})),i}},{key:_0x4b1c("0x1155"),value:function(x){var c,b=this,_=1,e=null,t=x;t instanceof Object?(_=null==t.time?1:t[_0x4b1c("0x1a5")],c=1*t[_0x4b1c("0x1a3")],e=t.callback||null):c=1*t;for(var i=0;i<b.animatingId_[_0x4b1c("0x0")];i++)b[_0x4b1c("0x1344")][i][_0x4b1c("0x19b")]();b.animatingId_=[];var a=b[_0x4b1c("0x575")],n=b.originFloorHeights[2]-b[_0x4b1c("0x1345")][1];if(this[_0x4b1c("0x10f9")]!=t){this.floorSpanOffset=c;var r=b.floorNums;b.animating_=!0;for(var s=b[_0x4b1c("0x47")].focusMode,o=function(){if(1==s){if(r[f]===a)return _0x4b1c("0x686")}else c;var t=r[f];l=b[_0x4b1c("0x662")](t)[_0x4b1c("0xf0")];var i=void 0;i=2==s?b[_0x4b1c("0x1345")][t]+(t-1)*c:(t-a)*(c+n),d=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(l.position).to({y:i},1e3*_).easing(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ae")])[_0x4b1c("0x1ac")]((function(){b[_0x4b1c("0x1352")]&&e&&e(),b[_0x4b1c("0x1352")]=!1,b.emit(_0x4b1c("0x1353"),{span:x}),t===r[_0x4b1c("0x0")]&&b[_0x4b1c("0xa36")](_0x4b1c("0x10fb"),{span:x})}))[_0x4b1c("0x174")]((function(x){b[_0x4b1c("0xa36")](_0x4b1c("0x139"),{fnum:t,value:x.y})}))[_0x4b1c("0x1af")](),b[_0x4b1c("0x1344")][_0x4b1c("0x12")](d)},f=0;f<r[_0x4b1c("0x0")];f++){var l,d;o();_0x4b1c("0x686")}}}},{key:_0x4b1c("0x1354"),value:function(x){return this[_0x4b1c("0xb01")][x]}},{key:_0x4b1c("0x662"),value:function(x){var c=this.o3dFloors_[x];return null==c?null:c[_0x4b1c("0xef")]}},{key:_0x4b1c("0x2d7"),value:function(x){return this.getO3dFloor(x).position.y}},{key:"enter",value:function(){var x=this[_0x4b1c("0x3e")][_0x4b1c("0x47")].showBuildingMode,c=null,b={time:1,scaleZ:.25};if(x===esmap[_0x4b1c("0xc58")][_0x4b1c("0xd10")])c=esmap[_0x4b1c("0xc58")].SINGLE;else if(x===esmap[_0x4b1c("0xc58")][_0x4b1c("0xd0e")])c=esmap[_0x4b1c("0xc58")][_0x4b1c("0xd0e")];else{if(x===esmap.ShowBuildingMode[_0x4b1c("0xc6b")])return;c=x[_0x4b1c("0x3b")],(0,t.default)(b,x)}var _={mode:c};(0,t[_0x4b1c("0xc")])(_,b),this[_0x4b1c("0x1355")]=_,this[_0x4b1c("0x3e")][_0x4b1c("0x2b3")].toggleTilesLayer(!1),this.options[_0x4b1c("0x1356")]=!0,this.entered=!0,this[_0x4b1c("0xa36")](_0x4b1c("0xd11")),this[_0x4b1c("0x3e")][_0x4b1c("0xe7")]("buildingEnter",this)}},{key:_0x4b1c("0xd15"),value:function(){var x=this;return new e.default((function(c){if(!x[_0x4b1c("0x1355")])return c(),void x[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0x1357"),x);x.map[_0x4b1c("0x2b3")][_0x4b1c("0xd96")](!0),x[_0x4b1c("0x47")].focusAnimateMode=!1,x[_0x4b1c("0x1346")]=!1,x.emit("exit"),x[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0x1357"),x),c()}))}},{key:_0x4b1c("0x1358"),value:function(x,c){var b=this.floors_[x];b[_0x4b1c("0x1359")]=c;var _=new(esmap[_0x4b1c("0x53d")])(this,b)[_0x4b1c("0xf0")];_.visible=!0,_[_0x4b1c("0x1044")]=b,_[_0x4b1c("0x105")][_0x4b1c("0xdb")](0,b[_0x4b1c("0xb3c")],0),this[_0x4b1c("0xb01")][x]=_,this[_0x4b1c("0xf0")][_0x4b1c("0xdd")](_),this[_0x4b1c("0x1345")][x]=_.position.clone().y}},{key:"focusFloor_",value:function(x,c){var b=this;b[_0x4b1c("0x1340")]=x,c=c||{};var _=this[_0x4b1c("0xb00")][_0x4b1c("0xb3b")],e=b[_0x4b1c("0x3e")][_0x4b1c("0x266")];if(this.map){var t=-this.o3dFloors_[x][_0x4b1c("0x105")].y,i=c[_0x4b1c("0x10ed")]||!1,a=0;for(var n in this[_0x4b1c("0x1345")]&&(a=this[_0x4b1c("0x1345")][this.options[_0x4b1c("0xcb1")]+1]),_){var r=_[n][_0x4b1c("0xc0b")],s=this.o3dFloors_[r];if(r==x){var o=new(THREE[_0x4b1c("0x128")]);o.y=this[_0x4b1c("0xb01")][x].position.y,this[_0x4b1c("0x47")][_0x4b1c("0x576")]&&esmap[_0x4b1c("0x87")][_0x4b1c("0x66e")]({fnum:x,bid:b.id,time:0,isCloneMat:!0});var f=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x658")].position[_0x4b1c("0x13e")](),l=this[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x13e")](),d=f.y-l.y;o.x=l.x,o.z=l.z;var u=o[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](l),h=o.y+d-f.y,g=null==c.time?this[_0x4b1c("0x47")][_0x4b1c("0x1356")]?this[_0x4b1c("0x47")].focusAnimateTime:0:c[_0x4b1c("0x1a5")];if(b[_0x4b1c("0x3e")][_0x4b1c("0x9ba")]&&b[_0x4b1c("0x3e")][_0x4b1c("0x9ba")][_0x4b1c("0x19b")](),2==b[_0x4b1c("0x47")].focusMode)c[_0x4b1c("0x135a")]?(b[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x105")].y=f.y+h,e.target.y=o.y,e[_0x4b1c("0x164")]()):b[_0x4b1c("0x47")][_0x4b1c("0x1356")]&&(this[_0x4b1c("0x9ba")]&&this[_0x4b1c("0x9ba")].stop(),this.__moveToId=new(esmap.TWEEN[_0x4b1c("0x1a7")])({value:0}).to({value:1},1e3*g)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")].Circular[_0x4b1c("0x1ae")])[_0x4b1c("0x174")]((function(x,c){b[_0x4b1c("0x3e")]&&(b[_0x4b1c("0x3e")].mapView[_0x4b1c("0x658")][_0x4b1c("0x105")].y=f.y+h*c,e[_0x4b1c("0x2c7")].y=l.y+u.y*c,e.update())}))[_0x4b1c("0x1ac")]((function(b){c[_0x4b1c("0x1b0")]&&c[_0x4b1c("0x1b0")](x)})).start());else{s.position.fnum=r;var v=s[_0x4b1c("0x105")][_0x4b1c("0x13e")]();if(s[_0x4b1c("0x165")].hasOwnProperty(_0x4b1c("0xa43"))||(s[_0x4b1c("0x165")][_0x4b1c("0xa43")]=v.y),v.fnum=r,v.y=v.y+t+this.baseHigh,i){if(b[_0x4b1c("0x1345")][r]=v.y,map[_0x4b1c("0x47")][_0x4b1c("0xd87")]===esmap[_0x4b1c("0x622")][_0x4b1c("0x11a9")])return}else v.y=a;c[_0x4b1c("0x135a")]?(s[_0x4b1c("0x105")].copy(v),b[_0x4b1c("0xa36")](_0x4b1c("0x139"),{value:v.y,fnum:r})):new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(s[_0x4b1c("0x105")]).to(v,800)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a9")].Circular[_0x4b1c("0x1ae")])[_0x4b1c("0x174")]((function(x){b[_0x4b1c("0xa36")](_0x4b1c("0x139"),{value:x.y,fnum:x[_0x4b1c("0x12e")]})})).onComplete((function(){})).start()}}else if(s&&s[_0x4b1c("0x191")]&&this[_0x4b1c("0x47")][_0x4b1c("0x576")]&&esmap[_0x4b1c("0x87")].setFloorAlpha({bid:this.id,fnum:r,alpha:this[_0x4b1c("0x47")][_0x4b1c("0xdbd")],isCloneMat:!0,time:0}),s&&1==b.options[_0x4b1c("0xcc0")]){var p=s[_0x4b1c("0x105")][_0x4b1c("0x13e")]();s[_0x4b1c("0x105")][_0x4b1c("0x12e")]=r,s[_0x4b1c("0x165")][_0x4b1c("0x1")](_0x4b1c("0xa43"))||(s.userData.originHeight=p.y);s[_0x4b1c("0x165")][_0x4b1c("0xa43")];p.y=p.y+t,p.fnum=r,i&&(b.originFloorHeights[r]=p.y),new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(s.position).to(p,800)[_0x4b1c("0x1a8")](esmap.TWEEN[_0x4b1c("0x1a9")][_0x4b1c("0x135b")][_0x4b1c("0x1ae")])[_0x4b1c("0x1ac")]((function(){}))[_0x4b1c("0x174")]((function(x){b[_0x4b1c("0xa36")](_0x4b1c("0x139"),{value:x.y,fnum:x[_0x4b1c("0x12e")]})}))[_0x4b1c("0x1af")]()}}}}},{key:_0x4b1c("0x135c"),value:function(x,c){var b=this.getO3dFloor(x);if(b){var _=this[_0x4b1c("0x1342")][x][_0x4b1c("0x1359")];this[_0x4b1c("0x135d")](_,b,x,!0)}}},{key:_0x4b1c("0xcc4"),value:function(x,c,b){var _=this;x==c[_0x4b1c("0x0")]?(x=0,b&&b()):_[_0x4b1c("0x1341")][_0x4b1c("0x114")](c[x])>-1?(x++,_.asyncLoadFloors(x,c,b)):setTimeout((function(){_[_0x4b1c("0x135e")](c[x],(function(){x++,_[_0x4b1c("0xcc4")](x,c,b)}),x==c.length-1)}),0)}},{key:"loadFloor",value:function(x,c,b){var _,e=this;(e[_0x4b1c("0x3e")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")].Building&&function(x){if(!I){var c=esmap.ESMap.instance,b=c[_0x4b1c("0x47")].s&&c[_0x4b1c("0x47")].k,_=!1;if(!b||(_=c.buildingService._uo(x[h._tk_]))){if((0,g._isemvht)(c.id))return!0;if(!(b&&_||"share"===x[h[_0x4b1c("0xc1")]])){var e=(0,u[_0x4b1c("0x45f")])(document[h[_0x4b1c("0x92")]]);if(v.WDL[_0x4b1c("0x114")](e)<0){var t=x[h[_0x4b1c("0xbf")]][_0x4b1c("0x2c")](",");if(t.length>0){var i=!1,a=!0,r=!1,s=void 0;try{for(var o,f=(0,n[_0x4b1c("0xc")])(t);!(a=(o=f[_0x4b1c("0x286")]())[_0x4b1c("0x40f")]);a=!0){var l=o[_0x4b1c("0x13a")];C(document[h[_0x4b1c("0x92")]],l)>=0&&(i=!0)}}catch(x){r=!0,s=x}finally{try{!a&&f[_0x4b1c("0x28a")]&&f[_0x4b1c("0x28a")]()}finally{if(r)throw s}}i||y()}}}I=!0}}}(e[_0x4b1c("0xb00")]),x>e.sourceData[_0x4b1c("0xb3b")][_0x4b1c("0x0")])||(e[_0x4b1c("0x1342")][x]=e.sourceData[_0x4b1c("0xb3b")][x-1],e[_0x4b1c("0x3e")][_0x4b1c("0xaeb")][_0x4b1c("0x135f")](e,x,(function(_){e.toLoaded[x][_0x4b1c("0x1fe")]=_.modelsCount,e[_0x4b1c("0x1341")].push(x),e[_0x4b1c("0x1358")](x,_),e[_0x4b1c("0x47")][_0x4b1c("0xcc1")]==_0x4b1c("0x35b")?b&&(e[_0x4b1c("0x47")][_0x4b1c("0xcc1")]=x,e[_0x4b1c("0x575")]=x):x==e[_0x4b1c("0x47")].focusFloor&&(e.focusFloorNum={notMove:!0,isInit:!0,floornum:e.options[_0x4b1c("0xcc1")],time:.3}),e[_0x4b1c("0x1360")](x,(function(c){c[_0x4b1c("0xef")][_0x4b1c("0x123")]==esmap.ESNodeType[_0x4b1c("0x690")]&&(c[_0x4b1c("0xf4")]=e[_0x4b1c("0xfbb")](c[_0x4b1c("0x1044")][_0x4b1c("0x1361")]),c[_0x4b1c("0x165")]={sid:e[_0x4b1c("0xb79")],fnum:x},!e.map[_0x4b1c("0x47")][_0x4b1c("0xdbb")]&&e[_0x4b1c("0x3e")].mapPicker[_0x4b1c("0x1362")](e.id,c))}),function(){c&&c(x)}[_0x4b1c("0xe")](e),(function(){}),b)})),e[_0x4b1c("0x3e")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]&&((_=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")])[_0x4b1c("0x133f")][_0x4b1c("0x526")]&&_[_0x4b1c("0x133f")][_0x4b1c("0x526")].isInitSprite&&_[_0x4b1c("0x133f")].sprite_[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x316")][_0x4b1c("0x4d7")]||y()))}},{key:"handleLine",value:function(x,c,b){if(!(x[_0x4b1c("0x3ff")]<15)){console[_0x4b1c("0x226")](x);x.direction;var _=x[_0x4b1c("0xd4c")][_0x4b1c("0x2a1")](2,x[_0x4b1c("0xd4c")].length-2)[_0x4b1c("0x2c")](/,/),e=this,t={x:0,y:0},i=[],a=e[_0x4b1c("0x3e")].__ro.split(","),n=1*a[0],r=1*a[1],o=1*a[2];if(0!=_[_0x4b1c("0x0")]){for(var f=0;f<_[_0x4b1c("0x0")];f++){var l=_[f].split(" "),d=new THREE.Vector3(-(1*l[0]+t.x+n),o-.3,1*l[1]+t.y+r);d[_0x4b1c("0x12e")]=1,d.bid=0,d[_0x4b1c("0x158")]=0,i[_0x4b1c("0x12")](d),0==f&&(t.x=1*l[0],t.y=1*l[1])}var u=e[_0x4b1c("0x3e")][_0x4b1c("0x47")].roadStyle[_0x4b1c("0x15f")],h=new(s[_0x4b1c("0xc")])(i,{color:e[_0x4b1c("0x3e")][_0x4b1c("0x47")].roadStyle[_0x4b1c("0x147")],isMapRoad:!0,roadType:x.rank,lineWidthMeter:!0,lineWidth:u,lineType:e.map[_0x4b1c("0x47")].roadStyle.lineType,offsetHeight:Math[_0x4b1c("0x2e")]()+2,url:e[_0x4b1c("0x3e")][_0x4b1c("0x47")].roadStyle[_0x4b1c("0x4e")]},!1);h[_0x4b1c("0x1363")]=2e-5*e[_0x4b1c("0x3e")].options[_0x4b1c("0x3fd")][_0x4b1c("0x2d8")],h[_0x4b1c("0x1f7")]=b,e.o3d_[_0x4b1c("0xdd")](h)}}}},{key:_0x4b1c("0x1364"),value:function(){var x=this,c=x[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x3f2")][x.id];if(c){var b=c.navs[0].Lines,_=0;for(var e in b)_++,x[_0x4b1c("0x3f4")](b[e],_,x.id)}}},{key:"forEachFloor",value:function(x,c,b,_,e){var t=this.getO3dFloor(x);if(t){this[_0x4b1c("0x137")][_0x4b1c("0x114")](x)<0&&(t[_0x4b1c("0x191")]=!1);var i=this[_0x4b1c("0x1342")][x][_0x4b1c("0x1359")],a=this;a.asyncBuidExtents(i,t,x,!1)[_0x4b1c("0x323")]((function(){b(),_&&_(),a[_0x4b1c("0x33")][_0x4b1c("0x3c9")](i,x,a),a[_0x4b1c("0x33")][_0x4b1c("0x3ca")](i,x,a)}))[_0x4b1c("0x323")](a.asyncBuildPOIs[_0x4b1c("0xe")](a,i,t,x))[_0x4b1c("0x323")](a[_0x4b1c("0x1365")][_0x4b1c("0xe")](a,i,t,x))[_0x4b1c("0x323")](a.asyncLoadRoads[_0x4b1c("0xe")](a,i,t,x))}}},{key:_0x4b1c("0x135d"),value:function(x,c,b,_){var e=this,t=new(THREE[_0x4b1c("0x5f7")]),i=x[_0x4b1c("0x1366")],a=e[_0x4b1c("0x1342")][b],n=(a[_0x4b1c("0xea8")],e[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0xfa9")][e[_0x4b1c("0x72")]]),r=n.floorStyleBase[b]?n[_0x4b1c("0xff7")][b][_0x4b1c("0x1a3")]:n[_0x4b1c("0xff7")][0]?n.floorStyleBase[0].height:1;return e.thicks[b]=r,a.floorBaseDatas=i[0][_0x4b1c("0x1367")],setTimeout((function(){e[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x9fc")]&&e[_0x4b1c("0x21a")]==esmap[_0x4b1c("0x621")][_0x4b1c("0xb29")]&&!_?e[_0x4b1c("0xdbc")][b][_0x4b1c("0x5fd")]--:e[_0x4b1c("0x33")][_0x4b1c("0x1368")](x,b,r,e),t[_0x4b1c("0xdf")]()}),e.asyncWaitTime),t}},{key:"asyncBuildPOIs",value:function(x,c,b){var _=this,e=this[_0x4b1c("0x3e")][_0x4b1c("0x1e1")],t=new(THREE[_0x4b1c("0x5f7")]),i=_[_0x4b1c("0x47")][_0x4b1c("0x3df")],a=this.progressHandler,n=this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]==esmap.MapMode[_0x4b1c("0x42")];if(_[_0x4b1c("0x47")][_0x4b1c("0x3a3")])return e[_0x4b1c("0x1369")]=null,setTimeout((function(){for(var r in x[_0x4b1c("0x136a")]){var s=x[_0x4b1c("0x136a")][r],o=new esmap.ESLayer(esmap.ESLayerType[_0x4b1c("0x3d2")]);c[_0x4b1c("0xdd")](o.o3d_),o[_0x4b1c("0xf0")][_0x4b1c("0x3cf")]=new(esmap[_0x4b1c("0x3d0")]);var f=s.pois;for(var l in f){var d=f[l],u=d[_0x4b1c("0x316")];d[_0x4b1c("0x316")]||(u=d.Typeid);var h=e[_0x4b1c("0x3e6")][_0x4b1c("0x3e7")](_[_0x4b1c("0x72")],u,_.id,2);d.url=h;var g=new(esmap[_0x4b1c("0x3e8")])(d),v=g[_0x4b1c("0xf0")];g[_0x4b1c("0x12b")]=_.id,v[_0x4b1c("0x1d9")]({type:_0x4b1c("0x31c")}),o[_0x4b1c("0xf0")].add(v),a[_0x4b1c("0xe2")](d[_0x4b1c("0x666")]),v.data_[_0x4b1c("0x3df")]=i;var p=d[_0x4b1c("0x305")]||3,m=void 0;if(n)m=_[_0x4b1c("0x3e")][_0x4b1c("0xaeb")][_0x4b1c("0xe8d")]({x:d.X,y:d.Y},_);else{var A=_.map.transformCoord({from:_[_0x4b1c("0x3e")][_0x4b1c("0x3e1")],to:_[_0x4b1c("0x3e")].coordSystem,coord:{x:d.X,y:d.Y}});m=_[_0x4b1c("0x3e")][_0x4b1c("0x2c5")](A)}v[_0x4b1c("0x105")][_0x4b1c("0xdb")](m.x,p,m.z),v.type_="POI",v[_0x4b1c("0x12d")][_0x4b1c("0xdb")](d[_0x4b1c("0x12d")].x,d[_0x4b1c("0x12d")].y),v[_0x4b1c("0x165")][_0x4b1c("0x1f5")]=v[_0x4b1c("0x105")],v[_0x4b1c("0x3ea")].multiplyMatrices(e[_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x3e3")],v[_0x4b1c("0x3eb")]),!e[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xdbb")]&&e[_0x4b1c("0x3e")][_0x4b1c("0x232")].addObject(v,_.id)}}e.map[_0x4b1c("0xe7")]("loadLayerComplete",{bid:_.id,fnum:b,type:_0x4b1c("0x5fe")}),_[_0x4b1c("0xdbc")][b][_0x4b1c("0x60c")]--,_[_0x4b1c("0x136b")](b),t[_0x4b1c("0xdf")]()}),e[_0x4b1c("0x1034")]),t;_.toLoaded[b].poi=0}},{key:_0x4b1c("0x1365"),value:function(x,c,b){var _=this,e=new THREE.Promise,t=(_[_0x4b1c("0x3e")][_0x4b1c("0x1e1")],_.options[_0x4b1c("0x3df")]),i=this[_0x4b1c("0x3cb")],a=this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x42")];if(_[_0x4b1c("0x47")][_0x4b1c("0x3a4")])return setTimeout((function(){for(var n in x[_0x4b1c("0x136c")]){var r=x.labellayers[n],s=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0x3ce")]);c.add(s[_0x4b1c("0xf0")]),s[_0x4b1c("0xf0")][_0x4b1c("0x3cf")]=new(esmap[_0x4b1c("0x3d0")]);var o=r[_0x4b1c("0x136d")];for(var f in o){var l=o[f];if(""!=l[_0x4b1c("0x1f7")]){var d=void 0;if(a)d=_[_0x4b1c("0x3e")].buildingService[_0x4b1c("0xe8d")]({x:l.X,y:l.Y},_),l[_0x4b1c("0x12b")]=_.id;else{var u=_[_0x4b1c("0x3e")][_0x4b1c("0x1b5")]({from:_[_0x4b1c("0x3e")].DEFAULT_COORDSYSTEM,to:_.map[_0x4b1c("0x2d4")],coord:{x:l.X,y:l.Y}});d=_[_0x4b1c("0x3e")][_0x4b1c("0x2c5")](u)}var h=l[_0x4b1c("0x305")]||2.5,g=_[_0x4b1c("0x3e")][_0x4b1c("0x13f")].themeList[_[_0x4b1c("0x72")]][_0x4b1c("0xff1")][_0x4b1c("0xc")];l[_0x4b1c("0x12b")]=_.id,_.map[_0x4b1c("0x47")][_0x4b1c("0x136e")]&&(l[_0x4b1c("0x12d")]=l[_0x4b1c("0x12d")]);var v=new(esmap[_0x4b1c("0x62a")])(l,g).o3d_;v[_0x4b1c("0x312")]=!0,v.dispatchEvent({type:"onBeforeAdd"}),s[_0x4b1c("0xf0")][_0x4b1c("0xdd")](v),v[_0x4b1c("0x3de")][_0x4b1c("0x3df")]=t,v[_0x4b1c("0x12d")][_0x4b1c("0xdb")](l[_0x4b1c("0x12d")].x,l[_0x4b1c("0x12d")].y),v.position[_0x4b1c("0xdb")](d.x,h,d.z),v.userData[_0x4b1c("0x1f5")]=v[_0x4b1c("0x105")][_0x4b1c("0x13e")](),i[_0x4b1c("0xe2")](l.oid),v[_0x4b1c("0x3ea")].multiplyMatrices(_.map[_0x4b1c("0x26a")].matrixWorldInverse,v[_0x4b1c("0x3eb")]),!_[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xdbb")]&&_[_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x3ec")](v,_.id)}}}_[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0x136f"),{bid:_.id,fnum:b,type:_0x4b1c("0x688")}),_[_0x4b1c("0xdbc")][b][_0x4b1c("0x688")]--,_[_0x4b1c("0x136b")](b),e[_0x4b1c("0xdf")]()}),_[_0x4b1c("0x1034")]),e;_[_0x4b1c("0xdbc")][b][_0x4b1c("0x688")]=0}},{key:_0x4b1c("0x136b"),value:function(x){if(0==this.id)return!0;var c=this[_0x4b1c("0xdbc")];for(var b in c[x])if("model3D"!=b&&c[x][b])return!1;for(var _ in this.options[_0x4b1c("0x1370")]&&this[_0x4b1c("0x47")][_0x4b1c("0x1370")](x),this[_0x4b1c("0x3e")][_0x4b1c("0xe7")]("floorLoaded",{fnum:x,bid:this.id}),this[_0x4b1c("0x47")][_0x4b1c("0x576")]&&this.options.focusFloor!=x&&esmap[_0x4b1c("0x87")][_0x4b1c("0x66a")]({bid:this.id,fnum:x,alpha:this[_0x4b1c("0x47")][_0x4b1c("0xdbd")],time:0,isCloneMat:!0}),c)if(_!=x)for(var e in c[_])if(e!=_0x4b1c("0x1fe")&&c[_][e])return!1;var t=!0;for(var _ in c){if(!t)break;for(var e in c[_])if(c[_][e]){t=!1;break}}return t&&!this[_0x4b1c("0x1371")]&&(this[_0x4b1c("0x1371")]=!0,this[_0x4b1c("0xa36")](_0x4b1c("0xa35")),this[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xa35"),{bid:this.id})),this.map[_0x4b1c("0x68b")][_0x4b1c("0x114")](this)<0&&(this[_0x4b1c("0x3e")][_0x4b1c("0x68b")][_0x4b1c("0x12")](this),this.meshHandler[_0x4b1c("0x34")][_0x4b1c("0x719")](),this[_0x4b1c("0x33")][_0x4b1c("0x34")].closeAll(),this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3a2")]&&this[_0x4b1c("0xa12")][_0x4b1c("0xe19")](),0!=this.id&&this[_0x4b1c("0x3e")].fire("buildingLoadComplete",this),this[_0x4b1c("0x3e")][_0x4b1c("0x2b3")][_0x4b1c("0xa3a")][this.id]&&(this.map[_0x4b1c("0x2b3")][_0x4b1c("0xa3a")][this.id][_0x4b1c("0xb02")]=!0),this.map[_0x4b1c("0x3b")]!=esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]&&this.id!=this[_0x4b1c("0x3e")].tileService[_0x4b1c("0xd07")]||(this.map[_0x4b1c("0xe7")]("preLoadComplete",{}),esmap[_0x4b1c("0x32")][_0x4b1c("0xaf7")]=!1,this.map[_0x4b1c("0xe7")](_0x4b1c("0x9e0"),{bid:this.id}))),!0}},{key:_0x4b1c("0x3a2"),value:function(){this[_0x4b1c("0xa12")][_0x4b1c("0xe19")]()}},{key:_0x4b1c("0x1372"),value:function(x){var c=!0,b=!1,_=void 0;try{for(var e,t=(0,n[_0x4b1c("0xc")])(this[_0x4b1c("0x679")]);!(c=(e=t.next())[_0x4b1c("0x40f")]);c=!0){var i=e[_0x4b1c("0x13a")],a=this[_0x4b1c("0x662")](i)[_0x4b1c("0x3f8")](esmap.ESLayerType[_0x4b1c("0x1df")]),r=!0,s=!1,o=void 0;try{for(var f,l=(0,n[_0x4b1c("0xc")])(a);!(r=(f=l[_0x4b1c("0x286")]()).done);r=!0){var d=f[_0x4b1c("0x13a")];if(d[_0x4b1c("0x1373")]){d[_0x4b1c("0x191")]=x;break}}}catch(x){s=!0,o=x}finally{try{!r&&l[_0x4b1c("0x28a")]&&l[_0x4b1c("0x28a")]()}finally{if(s)throw o}}}}catch(x){b=!0,_=x}finally{try{!c&&t[_0x4b1c("0x28a")]&&t[_0x4b1c("0x28a")]()}finally{if(b)throw _}}}},{key:_0x4b1c("0x3cb"),get:function(){return d.default.get(this.id)}},{key:_0x4b1c("0x158"),get:function(){return A},set:function(x){A=x}},{key:_0x4b1c("0x72"),get:function(){return m[_0x4b1c("0xde")](_0x4b1c("0x567"))},set:function(x){m[_0x4b1c("0xdb")](_0x4b1c("0x567"),x)}},{key:_0x4b1c("0x567"),get:function(){return this[_0x4b1c("0x3e")][_0x4b1c("0x13f")].themeList[this[_0x4b1c("0x72")]]}},{key:"visible",set:function(x){this[_0x4b1c("0xf0")]&&(this[_0x4b1c("0xf0")][_0x4b1c("0x191")]=x)},get:function(){if(this[_0x4b1c("0xf0")])return this[_0x4b1c("0xf0")][_0x4b1c("0x191")]}},{key:_0x4b1c("0x222"),get:function(){for(var x=this[_0x4b1c("0x3e")][_0x4b1c("0x266")].object[_0x4b1c("0x105")],c=this[_0x4b1c("0x3e")][_0x4b1c("0x238")](this[_0x4b1c("0x12d")]),b=x[_0x4b1c("0x124")](c)/this[_0x4b1c("0xe8c")],_=0;_<this[_0x4b1c("0x9cf")][_0x4b1c("0x0")];_++)if(Math[_0x4b1c("0x23d")](this[_0x4b1c("0x9cf")][_]-b)>.001&&b<this[_0x4b1c("0x9cf")][_])return _-1<0?0:_-1;return _-1<0?0:_-1}},{key:_0x4b1c("0x1374"),get:function(){return this[_0x4b1c("0xb00")].FloorBarName[_0x4b1c("0x2c")](",")||null}},{key:"listFloors",get:function(){return this[_0x4b1c("0xb00")][_0x4b1c("0xb3b")]}},{key:_0x4b1c("0x575"),set:function(x){if(!this[_0x4b1c("0x3e")][_0x4b1c("0x1295")]){var c=!1,b=null,e=this[_0x4b1c("0x3e")].mode===esmap[_0x4b1c("0x41")].City,t=null,i=this;if("object"==(void 0===x?"undefined":(0,_[_0x4b1c("0xc")])(x))&&(t=x,c=x[_0x4b1c("0x10ed")],b=x[_0x4b1c("0x1b0")],x=null==x[_0x4b1c("0xc0b")]?x.fnum:x[_0x4b1c("0xc0b")]),this[_0x4b1c("0x1340")]!=x){if(i[_0x4b1c("0x3e")][_0x4b1c("0xf9d")]!=this&&(i.map[_0x4b1c("0xf9d")]=this,1!=i[_0x4b1c("0x21a")]&&i[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0x1376"),this)),i[_0x4b1c("0x47")][_0x4b1c("0xcb1")]&&2==i[_0x4b1c("0x47")].focusMode){var a=i[_0x4b1c("0xd95")];if(x<=i[_0x4b1c("0x47")][_0x4b1c("0xcb1")]){for(var n=i[_0x4b1c("0x3e")][_0x4b1c("0x1e1")].buildingScene_,r=0;r<n[_0x4b1c("0xf1")].length;r++){var s=n[_0x4b1c("0xf1")][r];e&&s.datas_.id==this[_0x4b1c("0x3e")].id||s.datas_.id!=this.id&&s.visible&&(s[_0x4b1c("0x191")]=!1,i[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0x1377"),i.map[_0x4b1c("0xb62")]))}i.map.mapScene[_0x4b1c("0xa33")][_0x4b1c("0x165")][_0x4b1c("0x1378")]=!0}else{if(i[_0x4b1c("0x3e")][_0x4b1c("0x1e1")].buildingScene_[_0x4b1c("0x165")][_0x4b1c("0x1378")])for(var o=i.map.mapScene[_0x4b1c("0xa33")],f=0;f<o[_0x4b1c("0xf1")].length;f++){var l=o[_0x4b1c("0xf1")][f];e&&l[_0x4b1c("0xef")].id==this.map.id||(l[_0x4b1c("0x191")]||(l.visible=!0,i[_0x4b1c("0x3e")].fire(_0x4b1c("0x1377"),i[_0x4b1c("0x3e")][_0x4b1c("0xb62")])))}new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(i[_0x4b1c("0xf0")].position).to({y:a},1e3).easing(esmap.TWEEN[_0x4b1c("0x1a9")].Quadratic[_0x4b1c("0x1ae")])[_0x4b1c("0x1af")]()}}(-1!=this[_0x4b1c("0x1340")]||(this[_0x4b1c("0x1340")]=x,this[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0x9e1"),{floornum:x,bid:this.id}),this[_0x4b1c("0x47")][_0x4b1c("0x1379")]))&&(esmap.ESMap.IsMapLoading&&!t||(this[_0x4b1c("0xb01")][x]?(this[_0x4b1c("0x1375")](x,t),c||(this[_0x4b1c("0xa36")](_0x4b1c("0x9e1"),x),this.map[_0x4b1c("0xe7")](_0x4b1c("0x9e1"),{floornum:x,bid:this.id}))):this.on(_0x4b1c("0x137a"),(function b(_){_==x&&(i[_0x4b1c("0x6b")]("floorLoaded",b),i[_0x4b1c("0x1375")](x,t),c&&(i[_0x4b1c("0xa36")](_0x4b1c("0x9e1"),x),i[_0x4b1c("0x3e")][_0x4b1c("0xe7")]("focusFloorNumChanged",{floornum:x,bid:i.id})))}))))}else b&&b()}},get:function(){return this[_0x4b1c("0x1340")]}},{key:_0x4b1c("0x137b"),get:function(){return this.sourceData[_0x4b1c("0xd94")]}},{key:_0x4b1c("0x137"),get:function(){return this[_0x4b1c("0xea7")]},set:function(x){if(this[_0x4b1c("0xea7")][_0x4b1c("0x2f")]()!=x.toString()&&x[_0x4b1c("0x0")]>0){for(var c in this[_0x4b1c("0xea7")]=x,this.map[_0x4b1c("0x1c3")].scene[_0x4b1c("0xf1")][_0x4b1c("0x1c")]((function(c){c[_0x4b1c("0xef")]instanceof esmap[_0x4b1c("0x62b")]&&x[_0x4b1c("0x114")](c[_0x4b1c("0xef")][_0x4b1c("0xc0b")])>-1&&(c[_0x4b1c("0xef")][_0x4b1c("0x191")]=!0)})),this.o3dFloors_){var b=this[_0x4b1c("0xb01")][c];b.visible=x.indexOf(b[_0x4b1c("0x1044")].floornum)>=0}this[_0x4b1c("0xa36")](_0x4b1c("0x17a"),x),this[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0x17a"),{bid:this.id,fnums:x})}}}]),x}();c[_0x4b1c("0xc")]=E},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=l(b(78)),e=l(b(9)),t=l(b(7)),i=l(b(8)),a=l(b(0)),n=l(b(1)),r=l(b(79)),s=l(b(111)),o=l(b(376)),f=l(b(35));function l(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var d=0;function u(x){if(x){if(x.datas_&&x.datas_[_0x4b1c("0xf0")]&&(x[_0x4b1c("0xef")][_0x4b1c("0xf0")]=void 0,x[_0x4b1c("0xef")]=void 0),x.children)for(var c=0;c<x[_0x4b1c("0xf1")].length;c++)u(x.children[c]);x[_0x4b1c("0xf2")]&&(x[_0x4b1c("0xf2")][_0x4b1c("0xf3")](),x.geometry=void 0),x[_0x4b1c("0xf4")]&&(x[_0x4b1c("0xf4")]instanceof Array?x[_0x4b1c("0xf4")].forEach((function(x){x&&(x[_0x4b1c("0x3e")]&&(x[_0x4b1c("0x3e")][_0x4b1c("0xf3")](),x.map=void 0),x[_0x4b1c("0xf3")](),x=void 0)})):(x[_0x4b1c("0xf4")].dispose(),x[_0x4b1c("0xf4")]=void 0))}x=void 0}var h=function(){function x(c){(0,a[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x102")]=c[_0x4b1c("0x3e")].mapScene,this[_0x4b1c("0x559")]=this[_0x4b1c("0x102")].modelLoader,this.loadingList={},this.toLoadedCount=0,this[_0x4b1c("0xdc8")]=1,this.concurrencyLimit=20,this[_0x4b1c("0xdab")]=0,this[_0x4b1c("0xdb1")]={},this[_0x4b1c("0xa1d")]=[],this[_0x4b1c("0xd9e")]=[],this[_0x4b1c("0xa1e")]=[],this[_0x4b1c("0x137c")]={},this[_0x4b1c("0x26d")]=!1,this[_0x4b1c("0x26e")]=!1,this[_0x4b1c("0xda5")]={},this[_0x4b1c("0xda6")]={},this[_0x4b1c("0xdb7")]={},this[_0x4b1c("0xda7")]=null,this[_0x4b1c("0xda8")]=50,this[_0x4b1c("0xda9")]=1e4,this.GLTFMergeTool=new(s[_0x4b1c("0xc")]),this[_0x4b1c("0x384")]=!c.map.options[_0x4b1c("0x1f6")]&&(null==c.map.options[_0x4b1c("0x137d")]?c[_0x4b1c("0x3e")].options[_0x4b1c("0x137e")]:c.map[_0x4b1c("0x47")][_0x4b1c("0x137d")]),this[_0x4b1c("0x3c7")]={modelTypesCount:0,roomModelsCount:0,bimModelsCount:0},this[_0x4b1c("0xb09")]=new THREE.Frustum;var b=this;c[_0x4b1c("0x3e")].on("mapDispose",(function(){d=0,b[_0x4b1c("0xdab")]=0,b[_0x4b1c("0x3c7")][_0x4b1c("0x671")]=0,b.modelStatic[_0x4b1c("0x3c8")]=0}),null,c.id),this[_0x4b1c("0x12b")]=c.id,this[_0x4b1c("0x54")]=c,this[_0x4b1c("0xf8c")]=new(o[_0x4b1c("0xc")])(c),this[_0x4b1c("0x3a9")]=c[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3a9")],this[_0x4b1c("0xcf1")]={},this[_0x4b1c("0x3a9")]&&(this.dracoLoader=new THREE.DRACOLoader,THREE[_0x4b1c("0x754")].setDecoderPath(c[_0x4b1c("0x3e")].buildingService[_0x4b1c("0xeb4")][_0x4b1c("0x62")]),THREE[_0x4b1c("0x754")][_0x4b1c("0x7a6")]({type:"wasm"}),this.loader[_0x4b1c("0x137f")](this.dracoLoader))}var c,b,l,h,g;return(0,n.default)(x,[{key:_0x4b1c("0xdae"),value:function(){this[_0x4b1c("0xb09")][_0x4b1c("0xa27")]||(this[_0x4b1c("0xb09")][_0x4b1c("0xc0d")]((new THREE.Matrix4)[_0x4b1c("0x3e2")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")].currentCamera[_0x4b1c("0x753")],this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x3e3")])),this[_0x4b1c("0xb09")][_0x4b1c("0xa27")]=!0)}},{key:"updateFrustum",value:function(){this[_0x4b1c("0xb09")][_0x4b1c("0xc0d")]((new(THREE[_0x4b1c("0x240")]))[_0x4b1c("0x3e2")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x753")],this.scene[_0x4b1c("0x3e")].currentCamera[_0x4b1c("0x3e3")]))}},{key:_0x4b1c("0x1380"),value:function(){this.bimLoader[_0x4b1c("0x1af")]()}},{key:_0x4b1c("0x1381"),value:function(x){this[_0x4b1c("0x3c7")].bimModelsCount++,this[_0x4b1c("0xf8c")][_0x4b1c("0x1382")](x)}},{key:_0x4b1c("0xdaf"),value:function(x,c){var b=arguments[_0x4b1c("0x0")]>2&&void 0!==arguments[2]&&arguments[2],_=x[_0x4b1c("0x1e6")],e=x.url,t=x[_0x4b1c("0x12e")];if(this[_0x4b1c("0xcf1")][_])t&&this.building.toLoaded[t][_0x4b1c("0x1fe")]--;else if(c=c||!1,this.scene[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xaf9")]&&x.rank<24&&(x.rank=24),!(_.indexOf("__singlemesh")>-1&&this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")].quality==_0x4b1c("0x5d3"))){if(this[_0x4b1c("0xda2")]++,_[_0x4b1c("0x114")](_0x4b1c("0xdb0"))>-1&&(c=!0),!this[_0x4b1c("0x1383")](x)&&!b&&this[_0x4b1c("0x102")][_0x4b1c("0x3e")].options[_0x4b1c("0xaf9")])return this.classifyByfNum(x),void(x[_0x4b1c("0x1384")]=c);this[_0x4b1c("0x384")]&&!c?(this[_0x4b1c("0x2a2")][_]||this[_0x4b1c("0xda1")][_]||(this.loadingList[_]=!0,this[_0x4b1c("0x2e9")](_,e)),this[_0x4b1c("0xdb1")][t]||(this[_0x4b1c("0xdb1")][t]={}),this.mergeQueue[t][_]||(this.mergeQueue[t][_]=[]),this.mergeQueue[t][_].push(x)):x.rank>=24?(this[_0x4b1c("0x2a2")][_]||this.loadingList[_]||(this[_0x4b1c("0xda1")][_]=!0,this[_0x4b1c("0x2e9")](_,e)),this.requisitesQueue[_0x4b1c("0x12")](x),this.rankRequisites()):(this[_0x4b1c("0xb09")][_0x4b1c("0x92e")](x[_0x4b1c("0x105")])&&(this.modelStore[_]||this[_0x4b1c("0xda1")][_]||(this.loadingList[_]=!0,this[_0x4b1c("0x2e9")](_,e))),this[_0x4b1c("0xdb3")](x))}}},{key:"rankRequisites",value:function(){this[_0x4b1c("0xd9e")][_0x4b1c("0x42b")]((function(x,c){return c.rank-x[_0x4b1c("0x3ff")]}))}},{key:"addUserModel",value:function(x){var c=x[_0x4b1c("0x1e6")],b=x[_0x4b1c("0x4e")];this.failed[c]||(this[_0x4b1c("0xda2")]++,this.modelStore[c]||this.loadingList[c]||(this[_0x4b1c("0xda1")][c]=!0,this[_0x4b1c("0x2e9")](c,b)),x.merge?(this[_0x4b1c("0xdb7")][x.layerid]||(this[_0x4b1c("0xdb7")][x[_0x4b1c("0xdb8")]]={}),this.userMergeQueue[x[_0x4b1c("0xdb8")]][c]||(this[_0x4b1c("0xdb7")][x[_0x4b1c("0xdb8")]][c]=[]),this[_0x4b1c("0xdb7")][x[_0x4b1c("0xdb8")]][c].push(x)):this[_0x4b1c("0xdb3")](x))}},{key:_0x4b1c("0x1af"),value:(g=(0,i[_0x4b1c("0xc")])(t[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return x.next=2,this[_0x4b1c("0xdce")](c);case 2:if(!(this.requisitesQueue[_0x4b1c("0x0")]>0)){x[_0x4b1c("0x286")]=5;break}return x[_0x4b1c("0x286")]=5,this[_0x4b1c("0xdc0")]();case 5:case _0x4b1c("0x2a0"):return x.stop()}}),x,this)}))),function(x){return g.apply(this,arguments)})},{key:"startLoadModelsByFLoor",value:function(x,c){var b=this,_=b[_0x4b1c("0xdb1")][c],e=f[_0x4b1c("0xc")][_0x4b1c("0xde")](x.id);for(var t in _){var i=_[t],a=!1;if(b[_0x4b1c("0x2a2")][t]&&i[_0x4b1c("0x0")]>0){i[0].iswall&&(a=!0),!a&&t[_0x4b1c("0x114")]("__singlemesh")<0&&(b[_0x4b1c("0xdab")]+=i[_0x4b1c("0x0")]);for(var n=(new THREE.Box3)[_0x4b1c("0x2e6")](b.modelStore[t][_0x4b1c("0x2e5")][_0x4b1c("0x102")]),r=i[0][_0x4b1c("0x108")],s=i[0][_0x4b1c("0x4e")],o=n.max.y-n.min.y,l=0;l<i[_0x4b1c("0x0")];l++){var u=i[l],h=o*u.scale.y,g=h+u[_0x4b1c("0x105")].y-h/2;u[_0x4b1c("0x305")]=1*g[_0x4b1c("0x64d")](2),u[_0x4b1c("0x123")]=esmap.ESNodeType[_0x4b1c("0x1df")],u.ID=u.id;var v=b[_0x4b1c("0x102")].map[_0x4b1c("0x20d")](u[_0x4b1c("0x105")]);u.mapCoord=v}if(0!=b[_0x4b1c("0x2a2")][t][_0x4b1c("0x2e5")][_0x4b1c("0x267")].length){for(var p=0;p<i[_0x4b1c("0x0")];p++)b[_0x4b1c("0xdaf")](i[p],!0);b[_0x4b1c("0xdb1")][c][t]=[];continue}var m=b[_0x4b1c("0x67c")][_0x4b1c("0x11e")](b[_0x4b1c("0x2a2")][t].gltfObj,i);if(!m){for(var A=0;A<i[_0x4b1c("0x0")];A++)i[A][_0x4b1c("0x11e")]=!1,d-=1,b[_0x4b1c("0xdaf")](i[A]);return void(b[_0x4b1c("0xdb1")][c][t]=[])}m[_0x4b1c("0x1f7")]=_0x4b1c("0x107"),m[_0x4b1c("0x165")].merged=!0,m[_0x4b1c("0xef")]={isWall:a,model:t,bid:b[_0x4b1c("0x54")].id,bType:2,FloorNum:c,nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")],brothers:i,animations:[],o3d_:m,url:s},m[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1fe")],i[0][_0x4b1c("0x427")]&&(2==x[_0x4b1c("0x21a")]?!b.scene[_0x4b1c("0x3e")].options[_0x4b1c("0xdbb")]&&b[_0x4b1c("0x102")][_0x4b1c("0x3e")].mapPicker[_0x4b1c("0x3ec")](m,x.id):b[_0x4b1c("0x102")][_0x4b1c("0x3e")].mapPicker[_0x4b1c("0x3ec")](m,x.id)),r[_0x4b1c("0xdd")](m);for(var y=[],C=0;C<i.length;C++)y[_0x4b1c("0x12")](i[C].id),i[C][_0x4b1c("0xf0")]=m;var I=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](m),E={};[I[_0x4b1c("0x2f5")].x-I.min.x,I[_0x4b1c("0x2f5")].z-I.min.z,I[_0x4b1c("0x2f5")].y-I[_0x4b1c("0x2f6")].y][_0x4b1c("0x42b")](),E[_0x4b1c("0x2f4")]=I,m[_0x4b1c("0x165")][_0x4b1c("0x2f3")]=E,b[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x674")]-=i[_0x4b1c("0x0")],b.scene[_0x4b1c("0x3e")].fire(_0x4b1c("0xdbf"),m[_0x4b1c("0xef")]),x[_0x4b1c("0xdbc")][c][_0x4b1c("0x1fe")]-=i.length,x[_0x4b1c("0x136b")](c),e[_0x4b1c("0xe1")](y),2==x.buildingType&&x.options[_0x4b1c("0x576")]&&x[_0x4b1c("0x47")][_0x4b1c("0xdbd")]<1&&x.focusFloorNum!=c&&esmap.ESMapUtil[_0x4b1c("0x66a")]({bid:x.id,fnum:c,alpha:x[_0x4b1c("0x47")][_0x4b1c("0xdbd")],time:0,isCloneMat:!0}),b[_0x4b1c("0xdb1")][c][t]=[]}}}},{key:"applyRequisitToMap",value:function(){var x=this;return new(e[_0x4b1c("0xc")])((function(c){for(var b=0,_=0;_<x[_0x4b1c("0xd9e")][_0x4b1c("0x0")];_++){var e=x.requisitesQueue[_];if(b>=x[_0x4b1c("0xda3")])break;x[_0x4b1c("0x2a2")][e[_0x4b1c("0x1e6")]]?(x[_0x4b1c("0xd9e")][_0x4b1c("0x5")](_,1),_--,x[_0x4b1c("0xdcf")](e),b++):x[_0x4b1c("0xda1")][e[_0x4b1c("0x1e6")]]||(x[_0x4b1c("0xda1")][e[_0x4b1c("0x1e6")]]=!0,x[_0x4b1c("0x2e9")](e.model,e[_0x4b1c("0x4e")]))}c()}))}},{key:_0x4b1c("0xdc1"),value:function(){var x=this;if(x[_0x4b1c("0x384")]&&x.scene[_0x4b1c("0x3e")][_0x4b1c("0x26c")]&&!this[_0x4b1c("0x26e")]&&x[_0x4b1c("0x102")][_0x4b1c("0x3e")].options[_0x4b1c("0x382")]){for(var c=x.scene[_0x4b1c("0x3e")][_0x4b1c("0x222")],b=x.building[_0x4b1c("0x679")],_=0;_<b[_0x4b1c("0x0")];_++){var e=x[_0x4b1c("0x54")].getFloor(b[_]);if(!e)return;var t=e[_0x4b1c("0xa6e")](_0x4b1c("0xdc2"))[0];if(!t)return;var i=t.o3d_[_0x4b1c("0xf1")];this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x9f1")]?this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x64c")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x105")]):this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](this[_0x4b1c("0x102")].map[_0x4b1c("0x26a")][_0x4b1c("0x105")]);for(var a=0;a<i[_0x4b1c("0x0")];a++){for(var n=i[a],r=n[_0x4b1c("0xef")].brothers,s=[],o=[],f=0;f<r[_0x4b1c("0x0")];f++){var l=r[f],d=l[_0x4b1c("0x105")].clone();d.project(this.scene.map[_0x4b1c("0x26a")]);var u=!1;(Math[_0x4b1c("0x23d")](d.x)>=1.5||Math[_0x4b1c("0x23d")](d.y)>=1.5)&&(u=!0);var h=x[_0x4b1c("0x67c")].isModelVisible(n,l.id);l.showLevel<c||u?h&&s.push(l.id):!h&&o[_0x4b1c("0x12")](l.id)}x[_0x4b1c("0x67c")][_0x4b1c("0x458")](n,s,!1),x[_0x4b1c("0x67c")][_0x4b1c("0x458")](n,o,!0)}}this[_0x4b1c("0x26e")]=!0}}},{key:_0x4b1c("0xdc3"),value:function(){var x=this;if(!x[_0x4b1c("0x384")]&&x[_0x4b1c("0x102")][_0x4b1c("0x3e")].enableCollide&&!this[_0x4b1c("0x26e")]){var c=x[_0x4b1c("0x54")],b=new(THREE[_0x4b1c("0xdaa")]);b.setFromMatrix((new(THREE[_0x4b1c("0x240")]))[_0x4b1c("0x3e2")](this[_0x4b1c("0x102")].map[_0x4b1c("0x26a")].projectionMatrix,this[_0x4b1c("0x102")].map[_0x4b1c("0x26a")][_0x4b1c("0x3e3")]));for(var _=c[_0x4b1c("0x679")],e=0;e<_.length;e++){var t=c[_0x4b1c("0x662")](_[e]);if(!t)return;var i=t[_0x4b1c("0xa6e")]("mapmodel3ds")[0];if(!i)return;var a=i[_0x4b1c("0xf0")][_0x4b1c("0xf1")];this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x9f1")]?this[_0x4b1c("0x102")].map[_0x4b1c("0x64c")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")].position):this[_0x4b1c("0x102")][_0x4b1c("0x3e")].controls[_0x4b1c("0x2c7")][_0x4b1c("0x124")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")].position);for(var n=0;n<a[_0x4b1c("0x0")];n++){var r=a[n],s=(r.position,r[_0x4b1c("0x165")].modelinfo[_0x4b1c("0xdc4")],r[_0x4b1c("0x165")][_0x4b1c("0x2f3")][_0x4b1c("0x2f4")]);b[_0x4b1c("0x92f")](s)||(x[_0x4b1c("0xa1e")][_0x4b1c("0x12")](r[_0x4b1c("0x165")][_0x4b1c("0x2f3")]),r[_0x4b1c("0xef")][_0x4b1c("0xf3")](),n--)}}this[_0x4b1c("0x26e")]=!0}}},{key:"applyMergeToMap",value:function(x,c,b,_){var t=this;return new e.default((function(e){if(t[_0x4b1c("0x2a2")][b]&&c[_0x4b1c("0x0")]>0){t.mapModelsCount+=c[_0x4b1c("0x0")];var i=c[0][_0x4b1c("0x108")],a=c[0][_0x4b1c("0x4e")],n=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](t.modelStore[b][_0x4b1c("0x2e5")][_0x4b1c("0x102")]),r=(n.max.y-n[_0x4b1c("0x2f6")].y)/2,s=0,o=0;if(0!=t[_0x4b1c("0x2a2")][b][_0x4b1c("0x2e5")][_0x4b1c("0x267")][_0x4b1c("0x0")]){for(var f=0;f<c[_0x4b1c("0x0")];f++)c[f][_0x4b1c("0x11e")]=!1,d-=1,t.addUserModel(c[f]);return void(t[_0x4b1c("0xdb7")][_][b]=[])}for(var l=!1,h=!1,g=0;g<c[_0x4b1c("0x0")];g++){c[g][_0x4b1c("0x105")].y+=r*c[g][_0x4b1c("0x201")].y,0==g&&c[g][_0x4b1c("0xdba")]&&(l=!0),2==x[_0x4b1c("0x21a")]&&(0==x.id?(s=0,o=0):(s=x.sourceData.DefaultCenX-t[_0x4b1c("0x102")].sceneX_,o=x.sourceData[_0x4b1c("0xd92")]-t.scene[_0x4b1c("0x2df")]));var v=c[g][_0x4b1c("0x105")];c[g].position.x=v.x-s,c[g].position.z=v.z-o,c[g].seeThrough&&!h&&(h=!0)}var p=t[_0x4b1c("0x67c")].merge(t.modelStore[b].gltfObj,c);if(!p){for(var m=0;m<c[_0x4b1c("0x0")];m++)c[m][_0x4b1c("0x11e")]=!1,d-=1,t.addUserModel(c[m]);return void(t[_0x4b1c("0xdb7")][_][b]=[])}p[_0x4b1c("0x1f7")]="_root_";var A=c[0][_0x4b1c("0x12e")];p[_0x4b1c("0x165")][_0x4b1c("0xa74")]=!0;p[_0x4b1c("0xef")]={isWall:l,model:b,bid:x.id,FloorNum:A,nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")],brothers:c,animations:[],url:a,bType:2,o3d_:p,dispose:function(x){(x=x||this)[_0x4b1c("0x191")]=!1;var c=x[_0x4b1c("0x108")];return c?(c[_0x4b1c("0x2ea")](x),u(x),!0):void 0}.bind(p)},p[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")].model3D,h&&p[_0x4b1c("0x103")]((function(x){x[_0x4b1c("0xf4")]&&(x[_0x4b1c("0xf4")]instanceof Array?x[_0x4b1c("0xf4")][_0x4b1c("0x3e")]((function(x){x.depthTest=!1})):x[_0x4b1c("0xf4")][_0x4b1c("0x16d")]=!1)}));var y=c[0][_0x4b1c("0x427")];for(var C in y&&(2==x[_0x4b1c("0x21a")]?!t[_0x4b1c("0x102")].map[_0x4b1c("0x47")][_0x4b1c("0xdbb")]&&t[_0x4b1c("0x102")][_0x4b1c("0x3e")].mapPicker[_0x4b1c("0x3ec")](p,x.id):t[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x3ec")](p,x.id)),i[_0x4b1c("0xdd")](p),c)c[C].o3d_=p;t[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x7e")].modelLoadCount-=c[_0x4b1c("0x0")],t[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xdbf"),p.datas_),x[_0x4b1c("0xdbc")][A][_0x4b1c("0x1fe")]-=c.length,x.checkLoadedAll(A),x[_0x4b1c("0x47")].focusAlphaMode&&x[_0x4b1c("0x47")][_0x4b1c("0xdbd")]<1&&x.focusFloorNum!=A&&esmap.ESMapUtil[_0x4b1c("0x66a")]({bid:x.id,alpha:x[_0x4b1c("0x47")][_0x4b1c("0xdbd")],fnum:A,time:0,isCloneMat:!0}),t[_0x4b1c("0xdb7")][_][b]=[]}e()}))}},{key:_0x4b1c("0xdc6"),value:(h=(0,i.default)(t.default[_0x4b1c("0x283")]((function x(c,b){var _,e,i,a,n;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:for(i in e=(_=this).userMergeQueue[b])e[i][_0x4b1c("0x0")];x.t0=t[_0x4b1c("0xc")][_0x4b1c("0x684")](e);case 5:if((x.t1=x.t0())[_0x4b1c("0x40f")]){x[_0x4b1c("0x286")]=12;break}return a=x.t1[_0x4b1c("0x13a")],n=e[a],x.next=10,_.applyMergeToMap(c,n,a,b);case 10:x[_0x4b1c("0x286")]=5;break;case 12:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x,c){return h[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0xdb5"),value:function(){var x=this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x7e")]._o1||0;return d>x||0==x}},{key:_0x4b1c("0xdc7"),value:function(){var x=this,c=this[_0x4b1c("0x54")];if(this[_0x4b1c("0x384")]&&x[_0x4b1c("0xdab")]<x[_0x4b1c("0x3c7")][_0x4b1c("0x3c8")])for(var b in this[_0x4b1c("0xda5")])this.mapModelLoadStatus[b]&&this[_0x4b1c("0xdbe")](c,b);for(var _ in this.userMergeQueue)this[_0x4b1c("0xda6")][_]&&this[_0x4b1c("0xdc6")](c,_);if(this[_0x4b1c("0xdc8")]&&x.requisitesQueue[_0x4b1c("0x0")]>0&&x[_0x4b1c("0x1af")](),this[_0x4b1c("0xdc8")]&&x[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26c")]&&(x.queue[_0x4b1c("0x0")]>0||x[_0x4b1c("0xa1e")][_0x4b1c("0x0")]>0)){if(!this[_0x4b1c("0x26d")]){var e=x[_0x4b1c("0x102")].map[_0x4b1c("0x9f1")];if(this[_0x4b1c("0xda7")]||(this[_0x4b1c("0xda7")]=e?this[_0x4b1c("0x102")][_0x4b1c("0x3e")].firstPersonControls[_0x4b1c("0x2c7")].clone():this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x266")].target[_0x4b1c("0x13e")]()),x.queue=x[_0x4b1c("0xa1d")][_0x4b1c("0x377")](x[_0x4b1c("0xa1e")]),x[_0x4b1c("0xa1e")]=[],x[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")].dynamicLoadModels){var t=new(THREE[_0x4b1c("0xdaa")]);e?this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x64c")][_0x4b1c("0x2c7")][_0x4b1c("0x124")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x105")]):this.scene[_0x4b1c("0x3e")].controls[_0x4b1c("0x2c7")].distanceTo(this[_0x4b1c("0x102")].map[_0x4b1c("0x26a")][_0x4b1c("0x105")]);var i=e?this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x64c")][_0x4b1c("0x2c7")]:this.scene[_0x4b1c("0x3e")][_0x4b1c("0x266")][_0x4b1c("0x2c7")];t.setFromMatrix((new THREE.Matrix4)[_0x4b1c("0x3e2")](this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x753")],this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x3e3")]));for(var a=0;a<x[_0x4b1c("0xa1d")].length;a++){if(x[_0x4b1c("0xa1d")][a][_0x4b1c("0xdc9")]=1/x[_0x4b1c("0xa1d")][a][_0x4b1c("0x105")][_0x4b1c("0x124")](i),x.queue[a].box3){if(!t[_0x4b1c("0x92f")](x.queue[a][_0x4b1c("0x2f4")])){x[_0x4b1c("0xa1e")][_0x4b1c("0x12")](x[_0x4b1c("0xa1d")][a]),x.queue[_0x4b1c("0x5")](a,1),a--;continue}x[_0x4b1c("0xa1d")][a][_0x4b1c("0xdc9")]=1/x[_0x4b1c("0xa1d")][a][_0x4b1c("0x105")][_0x4b1c("0x124")](i)}}for(var n=c[_0x4b1c("0x662")](1).getLayersByNames(_0x4b1c("0xa6f"))[0].o3d_.children,r=[],s=0;s<n[_0x4b1c("0x0")];s++){var o=n[s],f=(o.userData[_0x4b1c("0x2f3")][_0x4b1c("0xdc4")],x[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0xdcb")],{modelrank:1/o[_0x4b1c("0x105")][_0x4b1c("0x124")](i),model:o,ind:s});r[_0x4b1c("0x12")](f)}var l=[];(l=[][_0x4b1c("0x377")](r,x[_0x4b1c("0xa1d")]))[_0x4b1c("0x42b")]((function(x,c){return c.modelrank-x[_0x4b1c("0xdc9")]}));var d=[];if(l[_0x4b1c("0x0")]>x[_0x4b1c("0xda9")]){d=l[_0x4b1c("0x5")](x[_0x4b1c("0xda9")]);for(var u=0;u<d[_0x4b1c("0x0")];u++)d[u][_0x4b1c("0x1")](_0x4b1c("0xdcc"))?(x[_0x4b1c("0xa1e")][_0x4b1c("0x12")](d[u][_0x4b1c("0x1e6")][_0x4b1c("0x165")].modelinfo),d[u].model[_0x4b1c("0xef")][_0x4b1c("0xf3")](),d[u][_0x4b1c("0x1e6")]=null):x[_0x4b1c("0xa1e")][_0x4b1c("0x12")](d[u]),d.splice(u,1),u--}for(var h=0;h<l[_0x4b1c("0x0")];h++)l[h][_0x4b1c("0x1")]("ind")&&(l[_0x4b1c("0x5")](h,1),h--);x.queue=l}this[_0x4b1c("0xdcd")](),this[_0x4b1c("0x26d")]=!0,this[_0x4b1c("0xda7")]=e?this.scene[_0x4b1c("0x3e")].firstPersonControls[_0x4b1c("0x2c7")].clone():this[_0x4b1c("0x102")].map[_0x4b1c("0x266")].target[_0x4b1c("0x13e")]()}x[_0x4b1c("0x1af")](c)}this[_0x4b1c("0x102")][_0x4b1c("0x3e")].options.isLazyLoadModel3D&&0!==c[_0x4b1c("0x222")]&&this[_0x4b1c("0x1385")](c[_0x4b1c("0x222")],c.focusFloorNum)}},{key:_0x4b1c("0xdb3"),value:function(x){for(var c=this[_0x4b1c("0x102")][_0x4b1c("0x3e")].firstPersonMode?this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x64c")][_0x4b1c("0x2c7")]:this[_0x4b1c("0x102")].map[_0x4b1c("0x266")][_0x4b1c("0x2c7")],b=this[_0x4b1c("0xa1d")][_0x4b1c("0x0")],_=x[_0x4b1c("0x105")][_0x4b1c("0x124")](c),e=0;e<b;e++){if(this[_0x4b1c("0xa1d")][e][_0x4b1c("0x105")].distanceTo(c)>=_)return void this[_0x4b1c("0xa1d")][_0x4b1c("0x5")](e,0,x)}this[_0x4b1c("0xa1e")][_0x4b1c("0x12")](x),this.scene[_0x4b1c("0x3e")][_0x4b1c("0x26c")]=!0}},{key:"rankAllModels",value:function(){var x=this[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x9f1")]?this.scene[_0x4b1c("0x3e")].firstPersonControls[_0x4b1c("0x2c7")]:this.scene[_0x4b1c("0x3e")].controls[_0x4b1c("0x2c7")];this[_0x4b1c("0xa1d")][_0x4b1c("0x0")];this.queue.sort((function(c,b){return c.position[_0x4b1c("0x124")](x)-b[_0x4b1c("0x105")].distanceTo(x)})),this[_0x4b1c("0xa1d")]}},{key:_0x4b1c("0xdce"),value:function(){var x=this;return new(e[_0x4b1c("0xc")])((function(c){for(var b=0,_=0;_<x.queue.length;_++){var e=x.queue[_];if(b>=x[_0x4b1c("0xda3")])break;x[_0x4b1c("0x2a2")][e[_0x4b1c("0x1e6")]]?(x.queue[_0x4b1c("0x5")](_,1),_--,x[_0x4b1c("0xdcf")](e),b++):x.loadingList[e[_0x4b1c("0x1e6")]]||(x[_0x4b1c("0xda1")][e[_0x4b1c("0x1e6")]]=!0,x[_0x4b1c("0x2e9")](e[_0x4b1c("0x1e6")],e[_0x4b1c("0x4e")]))}c()}))}},{key:"loadExist",value:function(x){var c,b=this,_=this[_0x4b1c("0x54")],e=x[_0x4b1c("0x1e6")],t=b.modelStore[e][_0x4b1c("0x2e5")][_0x4b1c("0x102")],i=b.modelStore[e].animNames,a=i[_0x4b1c("0x0")]>0,n=!1;t.children.forEach((function(x){(x instanceof THREE.SkinnedMesh||x instanceof THREE.Bone)&&(n=!0)})),(c=n||a?THREE[_0x4b1c("0x1386")].clone(t):t[_0x4b1c("0x13e")](!0))[_0x4b1c("0x103")]((function(x){x.material&&(x[_0x4b1c("0xf4")]=x[_0x4b1c("0xf4")][_0x4b1c("0x13e")]())})),b.apply(c,x,i,_)}},{key:_0x4b1c("0x4"),value:function(x,c,b){var t=this,i=this,a=this[_0x4b1c("0x54")],n=f[_0x4b1c("0xc")][_0x4b1c("0xde")](a.id);return new(e[_0x4b1c("0xc")])((function(e){b=b||[];var s=i[_0x4b1c("0x102")][_0x4b1c("0x3e")].mapPicker,o=c[_0x4b1c("0x12e")],f=null,l=null;x[_0x4b1c("0x103")]((function(x){x&&x[_0x4b1c("0x1f7")]&&x.name[_0x4b1c("0x114")](_0x4b1c("0xdd4"))>-1&&(f=x,l=x[_0x4b1c("0x108")])})),f&&l[_0x4b1c("0x2ea")](f);var u=(new(THREE[_0x4b1c("0x2eb")])).setFromObject(x);u[_0x4b1c("0x2e7")](x[_0x4b1c("0x105")]),x[_0x4b1c("0x105")][_0x4b1c("0x253")](-1),f&&l[_0x4b1c("0xdd")](f);var h,g,v=u[_0x4b1c("0x2f5")].y-u[_0x4b1c("0x2f6")].y;u[_0x4b1c("0x2f5")].x,u[_0x4b1c("0x2f6")].x;h=v<1?15:20,h*=c[_0x4b1c("0x201")].y;var p=c[_0x4b1c("0x1f8")]||!1;if(c.marker){d++;var m=c[_0x4b1c("0x4e")].lastIndexOf("/"),A=c[_0x4b1c("0x4e")];m>-1&&(A=c[_0x4b1c("0x4e")][_0x4b1c("0x1e5")](m+1)),g=c.marker,c[_0x4b1c("0xdd8")].addTo=c[_0x4b1c("0x108")],c[_0x4b1c("0xdd8")][_0x4b1c("0xdd9")]=c[_0x4b1c("0xdd9")],c[_0x4b1c("0xdd8")][_0x4b1c("0x1ff")]=x,i[_0x4b1c("0x102")][_0x4b1c("0x3e")].mapService[_0x4b1c("0x7f")]("sk")||(c[_0x4b1c("0xdd8")][_0x4b1c("0x1e6")]=A),c[_0x4b1c("0xdd8")][_0x4b1c("0x267")]=b,c.marker.isChildNode=p,c.marker[_0x4b1c("0x39")](),c.marker.on(_0x4b1c("0x228"),(function(){d--})),c[_0x4b1c("0xdba")]&&(c[_0x4b1c("0xdd8")][_0x4b1c("0x42d")]=!0)}else{var y=c[_0x4b1c("0x105")];c[_0x4b1c("0x105")].x=y.x-0,c[_0x4b1c("0x105")].y=y.y,c[_0x4b1c("0x105")].z=y.z-0;var C=c[_0x4b1c("0x3ff")];i.scene.map[_0x4b1c("0x3b")]!=esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&!1!==i[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x31a")]||(C=i[_0x4b1c("0x102")][_0x4b1c("0x3e")].buildingService[_0x4b1c("0xe9e")](c[_0x4b1c("0x3ff")],i.building)),g=new(r[_0x4b1c("0xc")])({name:c[_0x4b1c("0x1f7")],fnum:c.fnum,ID:c.id,dataID:c[_0x4b1c("0x219")],url:c[_0x4b1c("0x4e")],gid:c[_0x4b1c("0xc14")],mapId:c[_0x4b1c("0x3c")],bid:a.id,bType:a[_0x4b1c("0x21a")],model:c[_0x4b1c("0x1e6")],callback:c[_0x4b1c("0x1b0")],top:c[_0x4b1c("0x35b")],rotation:c[_0x4b1c("0x202")],position:c.position,scale:c[_0x4b1c("0x201")],scaleRate:h,showLevel:C,child:x,addTo:c[_0x4b1c("0x108")],isChildNode:p,animations:b}),c[_0x4b1c("0xdba")]&&(g.isWall=!0),g.init(),c[_0x4b1c("0xddc")]&&c.brief.MA&&(0,_[_0x4b1c("0xc")])(c[_0x4b1c("0xddc")].MA)[_0x4b1c("0x1c")]((function(x){var c=x.n,_=x.t,e=x.dt,t=x.l;b[_0x4b1c("0xddd")]((function(x){return x==c}))?g[_0x4b1c("0x269")]({name:c,time:_,delay:e,loop:t}):console[_0x4b1c("0xe3")](_0x4b1c("0xdde")+c+_0x4b1c("0xddf"))})),t.scene[_0x4b1c("0x3e")][_0x4b1c("0x7e")].modelLoadCount--,c[_0x4b1c("0xdba")]||a[_0x4b1c("0xdbc")]&&a.toLoaded[o]&&a.toLoaded[o][_0x4b1c("0x1fe")]--,a.checkLoadedAll(),g.ID!=_0x4b1c("0xddb")&&n[_0x4b1c("0xe2")](g.ID)}b.indexOf("onload")>-1&&g[_0x4b1c("0x269")]({name:_0x4b1c("0x7b0"),time:2});var I=g.o3d_,E=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](I),w=[E[_0x4b1c("0x2f5")].x-E.min.x,E.max.z-E[_0x4b1c("0x2f6")].z,E[_0x4b1c("0x2f5")].y-E[_0x4b1c("0x2f6")].y];w[_0x4b1c("0x42b")](),c[_0x4b1c("0xdc4")]=w[1]*w[2],c[_0x4b1c("0x2f4")]=E,I[_0x4b1c("0x165")][_0x4b1c("0x2f3")]=c,2==a[_0x4b1c("0x21a")]?i[_0x4b1c("0x272")](a,I):t[_0x4b1c("0xde0")](I),c.id!=_0x4b1c("0x1387")&&(c[_0x4b1c("0x427")]||i[_0x4b1c("0x102")][_0x4b1c("0x3e")].options[_0x4b1c("0x1f6")])&&(2==a[_0x4b1c("0x21a")]?c[_0x4b1c("0xdd8")]?s[_0x4b1c("0x3ec")](I,a.id):i.scene.map[_0x4b1c("0x47")][_0x4b1c("0xdbb")]||s[_0x4b1c("0x3ec")](I,a.id):s[_0x4b1c("0x3ec")](I,a.id)),g[_0x4b1c("0x3c")]&&(t[_0x4b1c("0x102")].map[_0x4b1c("0x7e")].targetAndBuildingList[g[_0x4b1c("0x3c")]]=g),t[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x2b3")].checkToLoadedBuildings(),g[_0x4b1c("0x1b0")]&&g[_0x4b1c("0x1b0")](g[_0x4b1c("0xdd9")]?g[_0x4b1c("0xdd9")]:g),t[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xdbf"),g),e()}))}},{key:_0x4b1c("0x2e9"),value:function(x,c,b){var _=this,e=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],t=e[_0x4b1c("0x13f")][_0x4b1c("0xfad")],i=esmap[_0x4b1c("0x1fd")].model3D;if(e[_0x4b1c("0x47")].editMode&&!1,!this[_0x4b1c("0xcf1")][x]){var a=null;a=e[_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?e[_0x4b1c("0xaeb")].service[_0x4b1c("0x7f")]("bid"):_.bid,this[_0x4b1c("0x559")][_0x4b1c("0x187")](c,(function(c){_[_0x4b1c("0xda2")]--,_[_0x4b1c("0x3c7")][_0x4b1c("0x671")]++,_.loadingList[x]=!1;var a=new(THREE[_0x4b1c("0x28c")])(c[_0x4b1c("0x102")]);a.watching=!1;var n=[];c[_0x4b1c("0x267")][_0x4b1c("0x1c")]((function(x){n[_0x4b1c("0x12")](x[_0x4b1c("0x1f7")].toLocaleLowerCase())})),c.scene[_0x4b1c("0x103")]((function(x){x[_0x4b1c("0x172")]=i,x[_0x4b1c("0x165")].hasOwnProperty(_0x4b1c("0x191"))&&(x[_0x4b1c("0x191")]=Boolean(x.userData[_0x4b1c("0x191")])),x[_0x4b1c("0xf4")]&&x.material[_0x4b1c("0xde2")]&&(x[_0x4b1c("0xf4")][_0x4b1c("0x1f7")][_0x4b1c("0x114")](_0x4b1c("0x1388"))>-1&&(x[_0x4b1c("0xf4")]=new(THREE[_0x4b1c("0x144")])({color:x.material[_0x4b1c("0x147")],map:x[_0x4b1c("0xf4")][_0x4b1c("0x3e")],transparent:x[_0x4b1c("0xf4")].transparent,opacity:x[_0x4b1c("0xf4")].opacity})),x[_0x4b1c("0xf4")][_0x4b1c("0x143")]||(x.material[_0x4b1c("0x143")]=.9),x[_0x4b1c("0xf4")].map&&(x.material[_0x4b1c("0x3e")][_0x4b1c("0x1f7")].indexOf("jpg")>-1&&(x[_0x4b1c("0xf4")][_0x4b1c("0x145")]=!1),t||(x[_0x4b1c("0xf4")][_0x4b1c("0x3e")].encoding=THREE.LinearEncoding)),!c[_0x4b1c("0x102")].userData[_0x4b1c("0xde4")]&&x[_0x4b1c("0xf4")][_0x4b1c("0x1f7")][_0x4b1c("0x114")](_0x4b1c("0x2f1"))>=0&&(c.scene[_0x4b1c("0x165")][_0x4b1c("0xde4")]=!0))}));var r=null;c.parser&&c.parser[_0x4b1c("0xff")]&&c[_0x4b1c("0xfe")][_0x4b1c("0xff")].ms&&(r=c[_0x4b1c("0xfe")][_0x4b1c("0xff")].ms),_[_0x4b1c("0x2a2")][x]={mixer:a,gltfObj:c,queue:[],animations:c[_0x4b1c("0x267")],animNames:n,ms:r},b&&b(c),e.fire(_0x4b1c("0xdad"),{name:x,gltfObj:c}),_[_0x4b1c("0x26d")]=!1}),(function(){}),(function(b){_[_0x4b1c("0x3c7")][_0x4b1c("0x671")]++,_[_0x4b1c("0xcf1")][x]=!0;var t=_[_0x4b1c("0x54")],i=f[_0x4b1c("0xc")][_0x4b1c("0xde")](t.id),a=null;for(var n in _.mergeQueue){var r=_.mergeQueue[n];for(var s in r)if(_[_0x4b1c("0xcf1")][s]){var o=r[s][_0x4b1c("0x0")];if(o>0){var l=r[s][_0x4b1c("0x3e")]((function(x){return x.id}));r[s]=[],t[_0x4b1c("0xdbc")][n].model3D-=o,t[_0x4b1c("0x136b")](n),i[_0x4b1c("0xe1")](l)}}}for(var d=0;d<_[_0x4b1c("0xd9e")][_0x4b1c("0x0")];d++)if(_[_0x4b1c("0xd9e")][d][_0x4b1c("0x1e6")]==x){var u=_[_0x4b1c("0xd9e")][d].id;a=u,_.requisitesQueue[d][_0x4b1c("0x10b4")]&&_[_0x4b1c("0xd9e")][d][_0x4b1c("0x10b4")](_[_0x4b1c("0xa1d")][d]);var h=_[_0x4b1c("0xd9e")][d][_0x4b1c("0x12e")];if(!h)continue;_[_0x4b1c("0xd9e")][d].name!=_0x4b1c("0xddb")&&(0!=t.id&&t[_0x4b1c("0xdbc")][_.requisitesQueue[d][_0x4b1c("0x12e")]].model3D--,i[_0x4b1c("0xe2")](u)),_[_0x4b1c("0xd9e")].splice(d,1),d--,t[_0x4b1c("0x136b")](h)}for(var g=0;g<_[_0x4b1c("0xa1d")][_0x4b1c("0x0")];g++)if(_[_0x4b1c("0xa1d")][g][_0x4b1c("0x1e6")]==x){a=v;var v=_[_0x4b1c("0xa1d")][g].id;_.queue[g][_0x4b1c("0x10b4")]&&_.queue[g][_0x4b1c("0x10b4")](_[_0x4b1c("0xa1d")][g]);var p=_[_0x4b1c("0xa1d")][g].fnum;if(!p)continue;"wallModelPrefetch"!=_[_0x4b1c("0xa1d")][g][_0x4b1c("0x1f7")]&&(0!=t.id&&t[_0x4b1c("0xdbc")][_[_0x4b1c("0xa1d")][g][_0x4b1c("0x12e")]][_0x4b1c("0x1fe")]--,i[_0x4b1c("0xe2")](v)),_[_0x4b1c("0xa1d")][_0x4b1c("0x5")](g,1),g--,t[_0x4b1c("0x136b")](p)}for(var m=0;m<_[_0x4b1c("0xa1e")][_0x4b1c("0x0")];m++)if(_[_0x4b1c("0xa1e")][m][_0x4b1c("0x1e6")]==x){var A=_.toAddQueue[m][_0x4b1c("0x12e")],y=_[_0x4b1c("0xa1e")][m].id;if(a=y,!A)continue;"wallModelPrefetch"!=_.toAddQueue[m][_0x4b1c("0x1f7")]&&(0!=t.id&&t[_0x4b1c("0xdbc")][_.toAddQueue[m].fnum].model3D--,i[_0x4b1c("0xe2")](y)),_[_0x4b1c("0xa1e")][_0x4b1c("0x5")](m,1),m--,t[_0x4b1c("0x136b")](A)}e[_0x4b1c("0xe7")](_0x4b1c("0x1389"),{name:x,id:a});var C="模型加载失败:"+c;console[_0x4b1c("0xe3")](C,b&&b.toString&&b[_0x4b1c("0x2f")]()),"buffererror"===b&&e[_0x4b1c("0x47")].editMode&&e[_0x4b1c("0x7e")][_0x4b1c("0x7f")]("sk")&&e[_0x4b1c("0x7e")][_0x4b1c("0x873")][_0x4b1c("0x70b")]&&(e.mapService[_0x4b1c("0x873")][_0x4b1c("0x70b")]=!1,e.mapService[_0x4b1c("0x873")][_0x4b1c("0xcdc")]([e.id])),_[_0x4b1c("0xda2")]--}),a)}}},{key:_0x4b1c("0x138a"),value:function(x){var c=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1fe")];obj[_0x4b1c("0x172")]=c,x.needsUpdate=!0}},{key:_0x4b1c("0xde0"),value:(l=(0,i[_0x4b1c("0xc")])(t.default.mark((function x(c){var b;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x.next){case 0:b=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1fe")],c[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xf4")]){if(x[_0x4b1c("0xf4")]instanceof Array)for(var c=0;c<x[_0x4b1c("0xf4")][_0x4b1c("0x0")];c++)x[_0x4b1c("0xf4")][c];x.renderOrder=b}}));case 2:case"end":return x.stop()}}),x,this)}))),function(x){return l[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x272"),value:(b=(0,i.default)(t[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c,b){var _,e,i;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:_=b.datas_.FloorNum,e=c[_0x4b1c("0xb01")][_],i=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1fe")],e&&e[_0x4b1c("0x191")]&&(c[_0x4b1c("0x47")][_0x4b1c("0xdbd")],b[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0xf4")]){if(x[_0x4b1c("0xf4")]instanceof Array)for(var c=0;c<x[_0x4b1c("0xf4")][_0x4b1c("0x0")];c++)x[_0x4b1c("0xf4")][c];x[_0x4b1c("0x172")]=i}})));case 6:case _0x4b1c("0x2a0"):return x.stop()}}),x,this)}))),function(x,c){return b[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x1383"),value:function(x){return x[_0x4b1c("0x3ff")]>=30}},{key:_0x4b1c("0x138b"),value:(c=(0,i[_0x4b1c("0xc")])(t[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c,b){var _;return t[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:if(c[_0x4b1c("0x0")]){x[_0x4b1c("0x286")]=2;break}return x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 2:_=0;case 3:if(!(_<c.length)){x[_0x4b1c("0x286")]=13;break}if(!(c[_][_0x4b1c("0x3ff")]>b)){x[_0x4b1c("0x286")]=10;break}return this[_0x4b1c("0xdaf")](c[_],c[_][_0x4b1c("0x1384")],!0),c[_0x4b1c("0x5")](_,1),_--,x[_0x4b1c("0x286")]=10,new(e[_0x4b1c("0xc")])((function(x){setTimeout((function(){x()}),0)}));case 10:_++,x[_0x4b1c("0x286")]=3;break;case 13:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(x,b){return c[_0x4b1c("0x4")](this,arguments)})},{key:_0x4b1c("0x138c"),value:function(x){var c=x[_0x4b1c("0x12e")];this.delayLoadQueue[_0x4b1c("0x1")](c)?this[_0x4b1c("0x137c")][c][_0x4b1c("0x12")](x):this.delayLoadQueue[c]=[x]}},{key:_0x4b1c("0x1385"),value:function(x,c){var b=this[_0x4b1c("0x137c")][c];b&&this[_0x4b1c("0x138b")](b,x)}},{key:_0x4b1c("0x2a2"),get:function(){return this.scene[_0x4b1c("0x3e")].mapService[_0x4b1c("0x2a2")]},set:function(x){this.scene.map[_0x4b1c("0x7e")][_0x4b1c("0x2a2")]=x}}]),x}();c[_0x4b1c("0xc")]=h},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=d(b(22)),e=d(b(71)),t=d(b(2)),i=d(b(7)),a=d(b(8)),n=d(b(9)),r=d(b(0)),s=d(b(1)),o=d(b(141)),f=d(b(26)),l=d(b(35));function d(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var u=function(){function x(c){var b=this;(0,r[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x138d")]={},this[_0x4b1c("0x12d")]=null,this[_0x4b1c("0x138e")]={},this.allDataMap={},this[_0x4b1c("0x138f")]={},this[_0x4b1c("0x1390")]={},this.building=c,this[_0x4b1c("0xcc8")]=2592e5,this.scene=c.map.mapScene,this[_0x4b1c("0x3e")]=c[_0x4b1c("0x3e")],this[_0x4b1c("0xa72")]={},this[_0x4b1c("0x2a2")]={},this[_0x4b1c("0xd8")]=0,this[_0x4b1c("0x1391")]=0,this[_0x4b1c("0x1392")]=0,this[_0x4b1c("0x1052")]=null,this[_0x4b1c("0xf8d")]={},this[_0x4b1c("0x1393")]=[],this[_0x4b1c("0x1394")]=null,this[_0x4b1c("0x964")]=!1,this[_0x4b1c("0x1395")]=this[_0x4b1c("0x3e")].options.mergeModel3D;var _=this,e=null;this.startTime=null,this.db=null,this[_0x4b1c("0x1396")]=!1,this[_0x4b1c("0x3e")].on(_0x4b1c("0xb9f"),(function(){b[_0x4b1c("0x1396")]=!0}),null,c.id),this[_0x4b1c("0x3e")].on(_0x4b1c("0x192"),(function(){b[_0x4b1c("0x1396")]&&(_[_0x4b1c("0x964")]=!0,window[_0x4b1c("0x26f")](e))}),null,c.id),this.map.on(_0x4b1c("0x9df"),(function(){_.userIntersecting||_.handleTanks()}),null,c.id),this[_0x4b1c("0x3e")].on(_0x4b1c("0x9ce"),(function(){b[_0x4b1c("0x1396")]=!1,e=setTimeout((function(){_[_0x4b1c("0x964")]=!1}),800)}),null,c.id)}var c;return(0,s[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x39"),value:function(x){for(var c=this[_0x4b1c("0x54")],b=0;b<c.floorNums[_0x4b1c("0x0")];b++){var _=c.floorNums[b],e=c[_0x4b1c("0x662")](_)[_0x4b1c("0xa6e")](_0x4b1c("0xa6f"));e[0]?this[_0x4b1c("0xa72")][_]=e[0][_0x4b1c("0xf0")]:console[_0x4b1c("0x226")](_0x4b1c("0x1397"))}this[_0x4b1c("0x1398")]=x[_0x4b1c("0x1398")],this[_0x4b1c("0xe0")]=x.onesize,this[_0x4b1c("0x1391")]=x[_0x4b1c("0x1391")],this.total=x[_0x4b1c("0xd8")]}},{key:_0x4b1c("0x1399"),value:function(){if(this[_0x4b1c("0x1393")][_0x4b1c("0x0")]>0){var x=this.tanks[_0x4b1c("0x3")]();this[_0x4b1c("0x1395")]?this[_0x4b1c("0x139a")](x):this.onQueueUnMerged(x),this[_0x4b1c("0x139b")]()}}},{key:_0x4b1c("0x1053"),value:function(x){x[_0x4b1c("0x1050")]==_0x4b1c("0x1051")?this[_0x4b1c("0x1393")][_0x4b1c("0x12")](x):x[_0x4b1c("0x1050")]==_0x4b1c("0x1052")&&this[_0x4b1c("0x139c")](x),this[_0x4b1c("0x139b")]()}},{key:_0x4b1c("0x139d"),value:function(x,c){var b=this.db[_0x4b1c("0xcd5")]([x],"readwrite")[_0x4b1c("0xcd6")](x)[_0x4b1c("0xcd1")](c);b[_0x4b1c("0xcd2")]=function(x){},b.onerror=function(x){}}},{key:_0x4b1c("0x139e"),value:function(x,c){var b=this.db;return new(n[_0x4b1c("0xc")])((function(_){var e=b.transaction([x],_0x4b1c("0xcd0"))[_0x4b1c("0xcd6")](x)[_0x4b1c("0xdd")](c);e[_0x4b1c("0xcd2")]=function(x){_()},e[_0x4b1c("0x623")]=function(x){}}))}},{key:_0x4b1c("0x139b"),value:function(){if(this[_0x4b1c("0x1391")]&&this[_0x4b1c("0x1392")]===this[_0x4b1c("0x1391")]&&this.queues){var x=(new Date)[_0x4b1c("0x86")]()-this[_0x4b1c("0xcc7")];console[_0x4b1c("0x291")](_0x4b1c("0x139f")+x+"ms"),this[_0x4b1c("0x138e")]=null,this[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0x13a0"),{}),this[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0xa35"),{bid:this.building.id})}}},{key:_0x4b1c("0x13a1"),value:function(x){var c=this;return new(n[_0x4b1c("0xc")])((function(b,_){var e=c.db[_0x4b1c("0xcd5")](_0x4b1c("0x13a2"))[_0x4b1c("0xcd6")](_0x4b1c("0x13a2"))[_0x4b1c("0xde")](x);e[_0x4b1c("0xcd2")]=function(){var x=e[_0x4b1c("0xcd7")];b(x||null)},e.onerror=function(x){console[_0x4b1c("0x226")](x),_(null)}}))}},{key:_0x4b1c("0xce8"),value:function(){var x={db:_0x4b1c("0xce3"),collections:["bimDatas","bimInfos",_0x4b1c("0x13a2")]},c=window[_0x4b1c("0xcda")].open(x.db);c.onsuccess=function(){for(var b=c[_0x4b1c("0xcd7")],_=x[_0x4b1c("0x13a3")],e=0;e<_[_0x4b1c("0x0")];e++){var t=_[e];b[_0x4b1c("0xce7")].contains(t)&&b[_0x4b1c("0xce8")](t)}}}},{key:_0x4b1c("0x13a4"),value:function(){var x={db:_0x4b1c("0xce3"),collections:[_0x4b1c("0x13a5"),_0x4b1c("0x1052"),_0x4b1c("0x13a2")]},c=window.indexedDB.open(x.db);c.onsuccess=function(){for(var b=c.result,_=x[_0x4b1c("0x13a3")],e=0;e<_[_0x4b1c("0x0")];e++){var t=_[e],i=b[_0x4b1c("0xcd5")]([t],"readwrite").objectStore(t)[_0x4b1c("0x719")]();i[_0x4b1c("0xcd2")]=function(x){},i[_0x4b1c("0x623")]=function(x){}}}}},{key:"start",value:(c=(0,a[_0x4b1c("0xc")])(i[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){var c,b,_,e,t,a,n,r,s,o;return i[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return this.startTime=(new Date).getTime(),x[_0x4b1c("0x286")]=3,this[_0x4b1c("0xcc9")]({db:_0x4b1c("0xce3"),version:2});case 3:if(c=x[_0x4b1c("0x337")],b=!0,c){x.next=23;break}return _0x4b1c("0x13a6"),b=!1,x[_0x4b1c("0x286")]=10,this[_0x4b1c("0x13a7")]();case 10:if(_=x.sent){x[_0x4b1c("0x286")]=14;break}return console[_0x4b1c("0xe3")](_0x4b1c("0x13a8")),x[_0x4b1c("0x293")]("return");case 14:for(this[_0x4b1c("0x39")](_),this.bimSetData=_,e=this[_0x4b1c("0x3e")][_0x4b1c("0xb79")],_[_0x4b1c("0x681")]=e,_.id=e,t=0;t<this.pages;t++)this.dispatchBimPageByControlIndex(t,!1,b);return this[_0x4b1c("0x13a9")](_0x4b1c("0x291"),!1,b),x[_0x4b1c("0x293")]("return");case 23:return this.db=c,x[_0x4b1c("0x286")]=26,this[_0x4b1c("0x13a7")]();case 26:if(a=x[_0x4b1c("0x337")]){x[_0x4b1c("0x286")]=30;break}return console[_0x4b1c("0xe3")]("bimset not exist!"),x[_0x4b1c("0x293")](_0x4b1c("0x28a"));case 30:return this[_0x4b1c("0x39")](a),this[_0x4b1c("0x1394")]=a,n=this[_0x4b1c("0x3e")][_0x4b1c("0xb79")],a.bids=n,a.id=n,x.next=37,this[_0x4b1c("0x13a1")](n);case 37:if(r=x[_0x4b1c("0x337")],s=!0,r){x[_0x4b1c("0x286")]=47;break}return x[_0x4b1c("0x286")]=42,this.clearCache();case 42:return x[_0x4b1c("0x286")]=44,this[_0x4b1c("0x139e")](_0x4b1c("0x13a2"),a);case 44:s=!1,x[_0x4b1c("0x286")]=53;break;case 47:if(s=a[_0x4b1c("0x13aa")]===r[_0x4b1c("0x13aa")]){x[_0x4b1c("0x286")]=53;break}return x.next=51,this[_0x4b1c("0x13ab")]();case 51:return x[_0x4b1c("0x286")]=53,this[_0x4b1c("0x139d")](_0x4b1c("0x13a2"),a);case 53:for(o=0;o<this.pages;o++)this[_0x4b1c("0x13a9")](o,s,b);this[_0x4b1c("0x13a9")](_0x4b1c("0x291"),s,b);case 55:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return c[_0x4b1c("0x4")](this,arguments)})},{key:"clearCache",value:function(){var x=this.db,c=this[_0x4b1c("0x3e")].sceneId_,b=new n.default((function(b){x[_0x4b1c("0xcd5")](_0x4b1c("0x13a5"),"readwrite")[_0x4b1c("0xcd6")](_0x4b1c("0x13a5"))[_0x4b1c("0x13ac")]()[_0x4b1c("0xcd2")]=function(x){var _=x[_0x4b1c("0x2c7")][_0x4b1c("0xcd7")];_?(_.value[_0x4b1c("0x681")]==c&&_.delete(),_[_0x4b1c("0x686")]()):b()}})),_=new(n[_0x4b1c("0xc")])((function(b){x.transaction(_0x4b1c("0x1052"),_0x4b1c("0xcd0"))[_0x4b1c("0xcd6")](_0x4b1c("0x1052")).openCursor()[_0x4b1c("0xcd2")]=function(x){var _=x[_0x4b1c("0x2c7")][_0x4b1c("0xcd7")];_?(_[_0x4b1c("0x13a")][_0x4b1c("0x681")]==c&&_[_0x4b1c("0xe4")](),_[_0x4b1c("0x686")]()):b()}})),e=new n.default((function(b){x.transaction(_0x4b1c("0x13a2"),_0x4b1c("0xcd0"))[_0x4b1c("0xcd6")]("bimSets")[_0x4b1c("0x13ac")]()[_0x4b1c("0xcd2")]=function(x){var _=x[_0x4b1c("0x2c7")][_0x4b1c("0xcd7")];_?(_.value[_0x4b1c("0x681")]==c&&_[_0x4b1c("0xe4")](),_[_0x4b1c("0x686")]()):b()}}));return n[_0x4b1c("0xc")][_0x4b1c("0x68a")]([b,_,e])}},{key:_0x4b1c("0x13a7"),value:function(){var x=this[_0x4b1c("0x54")].id,c=f[_0x4b1c("0xc")][_0x4b1c("0x680")](_0x4b1c("0x5c"),{filename:x+"-bimset.bin",type:"",buildingId:x,isBim:!0});return new(n[_0x4b1c("0xc")])((function(x,b){o.default[_0x4b1c("0x486")]({url:c})[_0x4b1c("0x481")]((function(c){x(c)})).error(b)}))}},{key:_0x4b1c("0x13ad"),value:function(x){return x[_0x4b1c("0x2a6")](/^(https?:\/\/)/)?x:x[_0x4b1c("0x14c")](/([^:]\/)\/+/g,"$1")}},{key:"dispatchBimPageByControlIndex",value:function(x,c,b){var _=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x62")],e=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3aa")],t=this[_0x4b1c("0x3e")].options[_0x4b1c("0x137e")],i=(window[_0x4b1c("0x7b")][_0x4b1c("0x85")],this[_0x4b1c("0x54")].id),a=f[_0x4b1c("0xc")].getPath("buildingAsset",{filename:i+_0x4b1c("0x13ae")+x+".bin",type:"",isBim:!0,buildingId:i});a=this.replaceExtraSlashes(a),this[_0x4b1c("0x102")][_0x4b1c("0x33")].modelWorker[_0x4b1c("0x1048")]({messageType:2,url:a,mapDataSrc:_,mapid:i,sceneX:this.scene[_0x4b1c("0x2de")],sceneZ:this[_0x4b1c("0x102")].sceneZ_,datas:this[_0x4b1c("0x138e")],controlIndex:x,useCache:c,useIDB:b,mergeMode:t,devMode:e},this.building)}},{key:_0x4b1c("0x13af"),value:function(x){for(var c={},b=this.bimInfos.nlist,_=0;_<x.length;_++){var e=x[_][_0x4b1c("0x2c")]("-"),t=b[e[0]],i=b[e[1]];c[t]=i}return c}},{key:"getInfo",value:function(x){if(!this.bimInfos)return null;var c=this.bimInfos[_0x4b1c("0x13b0")],b=this[_0x4b1c("0x1052")][_0x4b1c("0x13b1")];for(var _ in c){var e=c[_];if(x==e.bimid){var t=e[_0x4b1c("0x291")],i={};for(var a in t){var n=b[a];n||(n=a);var r=t[a].idx,s=this.getDesFromNlist(r);i[n]=s}return{bimid:e.bimid,infoList:i,uuid:e[_0x4b1c("0x195")]}}}return null}},{key:"bindBimInfo",value:function(){var x=this[_0x4b1c("0x138e")];for(var c in x){var b=x[c];for(var _ in b)for(var e=b[_],t=0;t<e[_0x4b1c("0x0")];t++){var i=e[t],a=this.getInfo(i.id);this[_0x4b1c("0xf8d")][i.id]=a,a?(e[t][_0x4b1c("0x195")]=a.uuid,e[t][_0x4b1c("0xf8f")]=a[_0x4b1c("0xf8f")],e[t].bimId=a[_0x4b1c("0x13b3")]):console[_0x4b1c("0x226")](_0x4b1c("0x13b2")+i.id)}}}},{key:_0x4b1c("0x139c"),value:function(x){this[_0x4b1c("0x1052")]=x[_0x4b1c("0x569")]}},{key:_0x4b1c("0x13b4"),value:function(x){var c=x.data,b=this[_0x4b1c("0x54")].id,_=this[_0x4b1c("0x54")][_0x4b1c("0x72")];for(var e in this[_0x4b1c("0x12d")]||(this[_0x4b1c("0x12d")]=x.center),c){var t=c[e];for(var i in t)for(var a=t[i],n=0;n<a.length;n++){var r=a[n];if(r)for(var s=0;s<r[_0x4b1c("0x0")];s++){var o,f=new(THREE[_0x4b1c("0x214")]),l=r[s],d=l.groupInfo[0].id,u=l[_0x4b1c("0x105")],h=l.uv,g=l[_0x4b1c("0x583")],v=l[_0x4b1c("0x23")],p=l[_0x4b1c("0x2cd")];o=v;var m=new(THREE[_0x4b1c("0x581")]);m[_0x4b1c("0x43e")](new THREE.BufferAttribute(p,1)),m[_0x4b1c("0x43c")](_0x4b1c("0x105"),new THREE.BufferAttribute(u,3)),m[_0x4b1c("0x43c")]("uv",new(THREE[_0x4b1c("0x43b")])(h,2)),m[_0x4b1c("0x437")](),m[_0x4b1c("0x16b")](),m[_0x4b1c("0x180")](0,m[_0x4b1c("0x2cd")][_0x4b1c("0x106")],0),m[_0x4b1c("0x165")][_0x4b1c("0x42e")]=g;var A=this[_0x4b1c("0x3e")][_0x4b1c("0x13f")][_0x4b1c("0x1008")](_,v,""),y=A[_0x4b1c("0x13e")]();y[_0x4b1c("0x147")]=new THREE.Color(1,0,0);var C=[A,y],I=new(THREE[_0x4b1c("0x197")])(m,C);f.add(I),f[_0x4b1c("0x165")][_0x4b1c("0xa74")]=!0;var E=this[_0x4b1c("0x12d")],w=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](f);f.userData[_0x4b1c("0x2f3")]={box3:w};var T=w[_0x4b1c("0x2f5")].y-w[_0x4b1c("0x2f6")].y,k=this.map[_0x4b1c("0x47")][_0x4b1c("0x1f6")],S=this[_0x4b1c("0x13b5")][d],M=S.offset[_0x4b1c("0x2c")](","),R=new(THREE[_0x4b1c("0x128")])(E.x+1*M[0],0+1*M[1],E.z+1*M[2]),L={};L.position=R,L.Height=T*S[_0x4b1c("0x201")].y+L.position.y-T/2,L[_0x4b1c("0x79")]=!0,L[_0x4b1c("0x56c")]=1*o,L[_0x4b1c("0x219")]=S[_0x4b1c("0x219")],L.bclick=S[_0x4b1c("0x427")],L.nodeType=esmap.ESNodeType[_0x4b1c("0x1df")],L.ID=d,L.id=d,L[_0x4b1c("0x1f7")]=S[_0x4b1c("0x1f7")],L[_0x4b1c("0x210")]=1*i,L[_0x4b1c("0x12b")]=b,L[_0x4b1c("0xf0")]=f,L.rotate=S[_0x4b1c("0xcae")],L[_0x4b1c("0x201")]=S[_0x4b1c("0x201")],L.offset=S[_0x4b1c("0x158")],L[_0x4b1c("0x21d")]=this.map[_0x4b1c("0x20d")](R),k&&(L[_0x4b1c("0x427")]=1);var H=[L];f[_0x4b1c("0xef")]={bid:b,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:i,model:e,brothers:H,o3d_:f};var D=L[_0x4b1c("0x427")];f[_0x4b1c("0x1f7")]=_0x4b1c("0x107"),this[_0x4b1c("0xa72")][i].add(f),D&&this.map[_0x4b1c("0x232")][_0x4b1c("0x3ec")](f,b)}else console[_0x4b1c("0x424")](e+"模型数据为空")}}this[_0x4b1c("0x1392")]++}},{key:_0x4b1c("0x139a"),value:function(x){var c=x[_0x4b1c("0x569")],b=this[_0x4b1c("0x54")].id,_=l.default.get(b),e=this[_0x4b1c("0x54")][_0x4b1c("0x72")];for(var i in this.center||(this[_0x4b1c("0x12d")]=x[_0x4b1c("0x12d")]),c){var a=c[i];for(var n in a){for(var r=a[n],s=new(THREE[_0x4b1c("0x214")]),o=0,f=0;f<r[_0x4b1c("0x0")];f++){var d=r[f];if(d)for(var u=0;u<d.length;u++){var h=d[u],g=h[_0x4b1c("0x105")],v=h.uv,p=h[_0x4b1c("0x583")],m=h[_0x4b1c("0x23")],A=h[_0x4b1c("0x2cd")];o=m;var y=new THREE.BufferGeometry;y[_0x4b1c("0x43e")](new THREE.BufferAttribute(A,1)),y.addAttribute("position",new(THREE[_0x4b1c("0x43b")])(g,3)),y.addAttribute("uv",new THREE.BufferAttribute(v,2)),y[_0x4b1c("0x437")](),y[_0x4b1c("0x16b")](),y[_0x4b1c("0x180")](0,y[_0x4b1c("0x2cd")][_0x4b1c("0x106")],0),y[_0x4b1c("0x165")][_0x4b1c("0x42e")]=p;var C=this.map.mapTheme.getModelMaterial(e,m,""),I=C[_0x4b1c("0x13e")]();I[_0x4b1c("0x147")]=new(THREE[_0x4b1c("0x146")])(1,0,0);var E=[C,I],w=new(THREE[_0x4b1c("0x197")])(y,E);s.add(w)}else console[_0x4b1c("0x424")](i+_0x4b1c("0x13b6"))}var T=this[_0x4b1c("0x138e")][i][n],k=this[_0x4b1c("0x12d")],S=(new(THREE[_0x4b1c("0x2eb")]))[_0x4b1c("0x2e6")](s);s[_0x4b1c("0x165")][_0x4b1c("0xa74")]=!0,s[_0x4b1c("0x165")].modelinfo={box3:S};var M=S[_0x4b1c("0x2f5")].y-S[_0x4b1c("0x2f6")].y,R=this[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")];T=T[_0x4b1c("0x3e")]((function(x){return(0,t[_0x4b1c("0xc")])({},x)}));for(var L=[],H=0;H<T[_0x4b1c("0x0")];H++){L.push(T[H].id);var D=this[_0x4b1c("0x13b5")][T[H].id],O=D[_0x4b1c("0x158")].split(","),P=new(THREE[_0x4b1c("0x128")])(k.x+1*O[0],0+1*O[1],k.z+1*O[2]);T[H].position=P,T[H].Height=M*D.scale.y+T[H][_0x4b1c("0x105")].y-M/2,T[H].isBim=!0,T[H][_0x4b1c("0x56c")]=1*o,T[H][_0x4b1c("0x219")]=D[_0x4b1c("0x219")],T[H][_0x4b1c("0x427")]=D[_0x4b1c("0x427")],T[H][_0x4b1c("0x1f7")]=D.name,T[H][_0x4b1c("0x123")]=esmap[_0x4b1c("0x131")][_0x4b1c("0x1df")],T[H].ID=T[H].id,T[H][_0x4b1c("0x210")]=1*n,T[H][_0x4b1c("0x12b")]=b,T[H][_0x4b1c("0x21d")]=this[_0x4b1c("0x3e")][_0x4b1c("0x20d")](P),R&&(T[H].bclick=1)}s[_0x4b1c("0xef")]={bid:b,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:n,model:i,brothers:T,o3d_:s};var N=T[0][_0x4b1c("0x427")];s[_0x4b1c("0x1f7")]=_0x4b1c("0x107"),this[_0x4b1c("0xa72")][n][_0x4b1c("0xdd")](s),_[_0x4b1c("0xe1")](L),N&&this.map[_0x4b1c("0x232")][_0x4b1c("0x3ec")](s,b)}}this[_0x4b1c("0x1392")]++}},{key:_0x4b1c("0x1382"),value:function(x){this[_0x4b1c("0x138e")][x[_0x4b1c("0x1e6")]]||(this.queues[x[_0x4b1c("0x1e6")]]={}),this[_0x4b1c("0x138e")][x[_0x4b1c("0x1e6")]][x.fnum]||(this[_0x4b1c("0x138e")][x[_0x4b1c("0x1e6")]][x[_0x4b1c("0x12e")]]=[]),x[_0x4b1c("0xcae")]||(x[_0x4b1c("0xcae")]=_0x4b1c("0xd5e"));var c={x:1,y:1,z:1};x[_0x4b1c("0x201")]&&(c.x=x[_0x4b1c("0x201")].x,c.y=x.scale.y,c.z=x[_0x4b1c("0x201")].z),this[_0x4b1c("0x138e")][x[_0x4b1c("0x1e6")]][x[_0x4b1c("0x12e")]][_0x4b1c("0x12")]({id:x.id,offset:x[_0x4b1c("0x158")],rotate:x[_0x4b1c("0xcae")],scale:c,center:{x:x.x,y:x.y}}),this[_0x4b1c("0x13b5")][x.id]=x}},{key:_0x4b1c("0x13b7"),value:function(x){var c=this;return new(n[_0x4b1c("0xc")])((function(b,_){var e=window[_0x4b1c("0xcda")][_0x4b1c("0x2dd")](x.db,x[_0x4b1c("0x84")]);e[_0x4b1c("0xcd2")]=function(){c.db=e.db,b(!0)},e.onerror=function(){var x=e[_0x4b1c("0xcea")];console[_0x4b1c("0xe3")](x),_(!1)},e[_0x4b1c("0xce6")]=function(c){var b=c[_0x4b1c("0x2c7")].result;b[_0x4b1c("0xce7")][_0x4b1c("0x4e6")](_0x4b1c("0x13a5"))&&b[_0x4b1c("0xce8")](_0x4b1c("0x13a5")),b[_0x4b1c("0xce7")][_0x4b1c("0x4e6")](_0x4b1c("0x1052"))&&b.deleteObjectStore(_0x4b1c("0x1052")),b.objectStoreNames[_0x4b1c("0x4e6")]("bimSets")&&b[_0x4b1c("0xce8")](_0x4b1c("0x13a2"));for(var _=0;_<x[_0x4b1c("0x13a3")][_0x4b1c("0x0")];_++){var e=x[_0x4b1c("0x13a3")][_];if(e==_0x4b1c("0x13a5"))b[_0x4b1c("0x13b8")](e,{keyPath:"id"}).createIndex("myIndex",[_0x4b1c("0x681"),_0x4b1c("0x13b9")],{unique:!1});else if("bimSets"==e){b[_0x4b1c("0x13b8")](e,{keyPath:"id"})[_0x4b1c("0x685")]("myIndex",[_0x4b1c("0x681")],{unique:!0})}else if(e==_0x4b1c("0x1052")){b[_0x4b1c("0x13b8")](e,{keyPath:_0x4b1c("0x681")})[_0x4b1c("0x685")](_0x4b1c("0x13ba"),[_0x4b1c("0x681")],{unique:!0})}}}}))}},{key:_0x4b1c("0xcc9"),value:function(x){return new(n[_0x4b1c("0xc")])((function(c,b){var _=window[_0x4b1c("0xcda")].open(x.db,x.version);_.onupgradeneeded=function(x){var c=x.target[_0x4b1c("0xcd7")],b=x[_0x4b1c("0x2c7")][_0x4b1c("0xcd5")];c[_0x4b1c("0xce7")][_0x4b1c("0x4e6")]("bimDatas")?b[_0x4b1c("0xcd6")](_0x4b1c("0x13a5"))[_0x4b1c("0x719")]():c[_0x4b1c("0x13b8")](_0x4b1c("0x13a5"),{keyPath:"id"})[_0x4b1c("0x685")](_0x4b1c("0x13ba"),[_0x4b1c("0x681"),_0x4b1c("0x13b9")],{unique:!1});c.objectStoreNames[_0x4b1c("0x4e6")](_0x4b1c("0x1052"))?b.objectStore(_0x4b1c("0x1052"))[_0x4b1c("0x719")]():c[_0x4b1c("0x13b8")]("bimInfos",{keyPath:_0x4b1c("0x681")})[_0x4b1c("0x685")](_0x4b1c("0x13ba"),[_0x4b1c("0x681")],{unique:!0});c.objectStoreNames.contains(_0x4b1c("0x13a2"))?b[_0x4b1c("0xcd6")]("bimSets")[_0x4b1c("0x719")]():c[_0x4b1c("0x13b8")](_0x4b1c("0x13a2"),{keyPath:"id"}).createIndex(_0x4b1c("0x13ba"),[_0x4b1c("0x681")],{unique:!0})},_.onsuccess=function(){var x=_[_0x4b1c("0xcd7")];c(x)},_[_0x4b1c("0x623")]=function(){var x=_[_0x4b1c("0xcea")];console[_0x4b1c("0xe3")](_0x4b1c("0xceb"),x),c(!1)}}))}},{key:_0x4b1c("0x13bb"),value:function(){var x,c=function(x){return new(n[_0x4b1c("0xc")])((function(c){var t,i=indexedDB[_0x4b1c("0x2dd")](x);i[_0x4b1c("0x623")]=function(x){alert(_0x4b1c("0x13bd"))},i[_0x4b1c("0xcd2")]=function(x){t=x[_0x4b1c("0x2c7")].result,function(x,_){var t=x[_0x4b1c("0x121")]((function(x,c){return x[_0x4b1c("0x12")](function(x,c){var b=this;return new(n[_0x4b1c("0xc")])((function(_,t){if(null==x)return t();var i=0,a=(x=event[_0x4b1c("0x2c7")][_0x4b1c("0xcd7")]).transaction([c])[_0x4b1c("0xcd6")](c).openCursor();a[_0x4b1c("0xcd2")]=function(x){var c=x.target[_0x4b1c("0xcd7")];if(c){var b=c.value,t=(0,e.default)(b);i+=t.length,c[_0x4b1c("0x686")]()}else _(i)}.bind(b),a[_0x4b1c("0x623")]=function(x){t(_0x4b1c("0x13bc")+c+": "+x)}}))}(_,c)),x}),[]);n[_0x4b1c("0xc")][_0x4b1c("0x68a")](t).then((function(c){_0x4b1c("0x13be"),_[_0x4b1c("0x1f7")],_0x4b1c("0x13bf"),x.forEach((function(x,_){console[_0x4b1c("0x226")](_0x4b1c("0x13c0")+x+_0x4b1c("0x13c1")+b(c[_]))}));var e=c[_0x4b1c("0x121")]((function(x,c){return x+c}),0);console[_0x4b1c("0x226")]("TOTAL: "+b(e))}))[_0x4b1c("0x323")](c)}([][_0x4b1c("0x377")]((0,_[_0x4b1c("0xc")])(t[_0x4b1c("0xce7")])),t)}}))},b=function(x){var c=1024;if(Math[_0x4b1c("0x23d")](x)<c)return x+" B";var b=["KB","MB","GB","TB","PB","EB","ZB","YB"],_=-1;do{x/=c,++_}while(Math.abs(x)>=c&&_<b[_0x4b1c("0x0")]-1);return x.toFixed(1)+" "+b[_]},t=(x=(0,a[_0x4b1c("0xc")])(i[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(){var b=this;return i[_0x4b1c("0xc")].wrap((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:return console[_0x4b1c("0x1a5")](_0x4b1c("0x13c2")),x[_0x4b1c("0x286")]=3,indexedDB[_0x4b1c("0x13c3")]()[_0x4b1c("0x323")](function(){var x=(0,a.default)(i.default.mark((function x(_){var e;return i[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x.next){case 0:e=0;case 1:if(!(e<_[_0x4b1c("0x0")])){x[_0x4b1c("0x286")]=7;break}return x[_0x4b1c("0x286")]=4,c(_[e].name);case 4:e++,x[_0x4b1c("0x286")]=1;break;case 7:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,b)})));return function(c){return x[_0x4b1c("0x4")](this,arguments)}}());case 3:console[_0x4b1c("0x13c4")](_0x4b1c("0x13c2"));case 4:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return x[_0x4b1c("0x4")](this,arguments)});t()}}]),x}();c[_0x4b1c("0xc")]=u},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=d(b(7)),e=d(b(8)),t=d(b(22)),i=d(b(0)),a=d(b(1)),n=b(32),r=d(b(114)),s=d(b(26)),o=d(b(152)),f=(b(4),b(66)),l=b(27);function d(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var u=null,h=function(){function x(c){var b=this;(0,i.default)(this,x),this[_0x4b1c("0x54")]=c;var _=c[_0x4b1c("0x3e")].mapScene;this[_0x4b1c("0x102")]=_,this[_0x4b1c("0xa14")]={},this[_0x4b1c("0xa15")]={},this[_0x4b1c("0xa16")]={},this.modelLineLayers={},this.toHandle={},this[_0x4b1c("0x13c5")]={},this[_0x4b1c("0xa19")]={},this[_0x4b1c("0xa1a")]={},this[_0x4b1c("0xa1c")]={},this[_0x4b1c("0xa17")]=[],this[_0x4b1c("0xa18")]=[],this.modelManagerStarted=!1,this[_0x4b1c("0xe15")]=new(o[_0x4b1c("0xc")])(this);var e=this[_0x4b1c("0x102")][_0x4b1c("0x3e")];e.on("update",(function(){b[_0x4b1c("0xe15")][_0x4b1c("0x586")]()}));e.on("scaleLevelChanged",(function(x){x.level}),null,c.id)}return(0,a[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x13c6"),value:function(x){var c=this;for(var b in c[_0x4b1c("0xa1c")])if(x>=1*b){if(c.dynamicShows[b][_0x4b1c("0x191")]){for(var _=c[_0x4b1c("0xa1c")][b].queue,e=function(x){var b=_[x].model.geometry,e=b[_0x4b1c("0x446")];b.userData[_0x4b1c("0x446")]=e,b[_0x4b1c("0x17f")]();var t=_[x][_0x4b1c("0x13c7")],i=[];t[_0x4b1c("0x1c")]((function(x){i=c[_0x4b1c("0x102")][_0x4b1c("0x3e")][_0x4b1c("0x1350")](x[0],x[1],e),e=i})),i[_0x4b1c("0x1c")]((function(x){b[_0x4b1c("0x180")](x.start,x[_0x4b1c("0x106")],x[_0x4b1c("0x448")])}));var a=new(THREE[_0x4b1c("0x144")]);a[_0x4b1c("0x191")]=!1,_[x][_0x4b1c("0x1e6")][_0x4b1c("0xf4")][100]=a},t=0;t<_[_0x4b1c("0x0")];t++)e(t);c[_0x4b1c("0xa1c")][b][_0x4b1c("0x191")]=!1}}else if(!c[_0x4b1c("0xa1c")][b][_0x4b1c("0x191")]){var i=c.dynamicShows[b][_0x4b1c("0xa1d")],a=function(x){var c=i[x].model[_0x4b1c("0xf2")];if(!c.userData[_0x4b1c("0x446")])return _0x4b1c("0x686");c[_0x4b1c("0x17f")](),c[_0x4b1c("0x165")].groups[_0x4b1c("0x1c")]((function(x){c[_0x4b1c("0x180")](x[_0x4b1c("0x1af")],x[_0x4b1c("0x106")],x[_0x4b1c("0x448")])}))};for(t=0;t<i.length;t++){a(t);_0x4b1c("0x686")}c[_0x4b1c("0xa1c")][b][_0x4b1c("0x191")]=!0}}},{key:_0x4b1c("0x1056"),value:function(x){var c=this.building,b=this[_0x4b1c("0x3cb")],_=this[_0x4b1c("0x102")],e=c.id,t=c.themeID,i=_[_0x4b1c("0x3e6")][_0x4b1c("0xfa9")][t],a=x[_0x4b1c("0xdf8")],n=x[_0x4b1c("0x12e")],r=c[_0x4b1c("0x1354")](n),o=c[_0x4b1c("0x1342")][n],f=(c[_0x4b1c("0x47")][_0x4b1c("0x73")],x[_0x4b1c("0x446")]),l=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")].FLOOR_BASE);r.add(l[_0x4b1c("0xf0")]),c[_0x4b1c("0x78")]>=100&&(l[_0x4b1c("0x191")]=!1);var d=c[_0x4b1c("0xb00")],u=!1;u=Array[_0x4b1c("0x32f")](_[_0x4b1c("0x3e")][_0x4b1c("0x47")].hideFloorBase)?_[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xa39")][_0x4b1c("0x114")](n)>-1:_[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xa39")];var h,g=Math[_0x4b1c("0x2f5")](d[_0x4b1c("0x5a7")]-d[_0x4b1c("0x5a3")],d.maxY-d[_0x4b1c("0x5a6")]),v=0;for(var p in g>1e3&&(v=g/300),_[_0x4b1c("0x3e")].on(_0x4b1c("0x13c8"),(function(x){var c=-x/2.95*v;l[_0x4b1c("0xf0")]&&(l[_0x4b1c("0xf0")][_0x4b1c("0x105")].y=c)}),null,e),a){var m=i[_0x4b1c("0xff7")][n];null==m&&(m=i.floorStyleBase[0]);var A=i[_0x4b1c("0xfab")],y=_[_0x4b1c("0x3e6")][_0x4b1c("0xfac")],C=null,I=null;m&&((m[_0x4b1c("0x147")]||0===m[_0x4b1c("0x147")])&&(A=m[_0x4b1c("0x147")]),(m[_0x4b1c("0x129")]||0===m[_0x4b1c("0x129")])&&(y=m[_0x4b1c("0x129")]),m.image&&(C=m[_0x4b1c("0x316")],I=m.imagesize)),o[_0x4b1c("0x316")]&&(C=o[_0x4b1c("0x316")],I=o[_0x4b1c("0xeea")]);var E,w=new(THREE[_0x4b1c("0x581")]);w.addAttribute("position",new(THREE[_0x4b1c("0x43b")])(x[_0x4b1c("0xe02")],3)),w[_0x4b1c("0x43c")](_0x4b1c("0x140"),new(THREE[_0x4b1c("0x43b")])(x[_0x4b1c("0x13c9")],3)),w[_0x4b1c("0x43c")]("uv",new(THREE[_0x4b1c("0x43b")])(x[_0x4b1c("0xe08")],2)),w[_0x4b1c("0x43c")](_0x4b1c("0x9a6"),new(THREE[_0x4b1c("0x43b")])(x[_0x4b1c("0x9a6")],2)),E=m[_0x4b1c("0x8f1")]?new THREE.MeshLambertMaterial({color:A,transparent:1*y!=1,opacity:y}):new(THREE[_0x4b1c("0x144")])({color:A,transparent:1*y!=1,opacity:y});var T=new(THREE[_0x4b1c("0x197")])(w,[E]);T[_0x4b1c("0x202")][_0x4b1c("0xdb")](Math.PI/2,0,0,"XYZ"),T[_0x4b1c("0x105")][_0x4b1c("0x899")](esmap.ESMapConfiguration[_0x4b1c("0x13ca")]),T[_0x4b1c("0x172")]=esmap.ESRenderOrder.floorBase,T[_0x4b1c("0xef")]={floor:n,FloorNum:n,bid:e,nodeType:esmap.ESNodeType[_0x4b1c("0xc17")],bType:2},u&&(E[_0x4b1c("0x191")]=!1,T[_0x4b1c("0x191")]=!1);var k=[],S=0;if(f[0].forEach((function(x){var c=0;x[_0x4b1c("0x1c")]((function(x){k[_0x4b1c("0x12")]({start:x[_0x4b1c("0x1af")]+S,count:x[_0x4b1c("0x106")],materialIndex:x[_0x4b1c("0x448")]}),c+=x.count})),S+=c})),C&&C[_0x4b1c("0x0")]>1){var M=I.split(","),R=[Number(M[0]),Number(M[1])],L=T[_0x4b1c("0xf4")][0],H=L[_0x4b1c("0x13e")]();try{h=void 0,h=s[_0x4b1c("0xc")][_0x4b1c("0x680")](_0x4b1c("0x5a"),{themeID:t,filename:C,buildingId:c.id}),esmap.ESMapUtil[_0x4b1c("0x696")](h,(function(x){!function(x,b){b.wrapS=b[_0x4b1c("0x18c")]=THREE[_0x4b1c("0x18d")],b.anisotropy=_[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x360")][_0x4b1c("0x361")][_0x4b1c("0x362")](),b[_0x4b1c("0x8a6")]=1006,b[_0x4b1c("0x18a")]=1008;var e=c.floorEdges[x],t=(e.maxx-e[_0x4b1c("0xfb")])/2+e[_0x4b1c("0xfb")],i=(e.maxy,e[_0x4b1c("0xfc")],e[_0x4b1c("0xfc")],c.sourceData[_0x4b1c("0xcba")]),a=c[_0x4b1c("0xb00")][_0x4b1c("0xd92")];Math[_0x4b1c("0x23d")](t),Math[_0x4b1c("0x23d")](i),Math[_0x4b1c("0x23d")](i),Math[_0x4b1c("0x23d")](a);var n=M[2]*THREE.Math.DEG2RAD;b[_0x4b1c("0x158")][_0x4b1c("0xdb")](0,0),b.center[_0x4b1c("0xdb")](.5,.5),b[_0x4b1c("0x157")][_0x4b1c("0xdb")](R[0],R[1]),b.rotation=isNaN(n)?0:n,L.map=b,L.color.set(16777215),b[_0x4b1c("0x188")]=!0,L[_0x4b1c("0x188")]=!0;var r=[L,H];k[_0x4b1c("0x1c")]((function(x){w[_0x4b1c("0x180")](x[_0x4b1c("0x1af")],x[_0x4b1c("0x106")],x.materialIndex)})),u&&(r.visible=!1),T[_0x4b1c("0xf4")]=r}(n,x)}),null,(function(){w[_0x4b1c("0x17f")](),w[_0x4b1c("0x180")](0,w[_0x4b1c("0x104")][_0x4b1c("0x105")].count,0)}))}catch(x){w[_0x4b1c("0x17f")](),w[_0x4b1c("0x180")](0,w[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")],0)}}else w[_0x4b1c("0x180")](0,w[_0x4b1c("0x104")].position[_0x4b1c("0x106")],0);w[_0x4b1c("0x165")][_0x4b1c("0x446")]=k,l[_0x4b1c("0xf0")][_0x4b1c("0xdd")](T),!_[_0x4b1c("0x3e")][_0x4b1c("0x47")].disableIndoorClick&&_[_0x4b1c("0x3e")][_0x4b1c("0x232")].addObject(T,e),_[_0x4b1c("0x3e")][_0x4b1c("0xe7")](_0x4b1c("0x136f"),{fnum:n,type:"extent"})}c.toLoaded[n][_0x4b1c("0x5fd")]--,c.checkLoadedAll(n),b[_0x4b1c("0xe2")]("FLOORBASE"+n),x[_0x4b1c("0x13c9")]=null,x[_0x4b1c("0xe08")]=null,x[_0x4b1c("0x13cb")]=null,x.vertices=null,x.types=null,x=null}},{key:"mergeExcludes",value:function(x){for(var c=0;c<x[_0x4b1c("0x0")];c++){var b=x[c],_=x[c+1];_&&b[1]==_[0]&&(x[c][1]=_[1],x[_0x4b1c("0x5")](c+1,1),c--)}}},{key:_0x4b1c("0x1057"),value:function(x){var c=this,b=this[_0x4b1c("0x102")],_=x[_0x4b1c("0x12e")],e=this.building,i=e.id,a=e[_0x4b1c("0x72")],r=(b[_0x4b1c("0x3e6")][_0x4b1c("0xfa9")][a],x[_0x4b1c("0xdf5")]),s=null,o=x[_0x4b1c("0x446")],d=e.getO3dFloor(_),u=i+"_"+_+"_"+r,h=b[_0x4b1c("0x3e")][_0x4b1c("0x3b")]==esmap.MapMode[_0x4b1c("0x42")];b.map[_0x4b1c("0x47")][_0x4b1c("0x384")]||(u=x[_0x4b1c("0x577")]);var g=this[_0x4b1c("0x3cb")];if(x[_0x4b1c("0xdf8")]&&d){if(x[_0x4b1c("0x13cc")]&&x[_0x4b1c("0x13cc")][_0x4b1c("0x0")]>0&&g[_0x4b1c("0xe1")](x[_0x4b1c("0x13cc")]),r)if(this.modelLayers[_])s=this.modelLayers[_];else{var v=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0x690")],{});this[_0x4b1c("0xa14")][_]=v,d[_0x4b1c("0xdd")](v.o3d_),s=v}else if(this[_0x4b1c("0xa15")][_])s=this.baseLayers[_];else{var p=new esmap.ESLayer(esmap.ESLayerType[_0x4b1c("0xa8a")],{});this.baseLayers[_]=p,d.add(p[_0x4b1c("0xf0")]),s=p}if(s[_0x4b1c("0xf0")]){var m=e[_0x4b1c("0xb00")][l[_0x4b1c("0xc0")]],A=m<32503514?m:m/1e3,y=f[_0x4b1c("0xc9f")][_0x4b1c("0x114")](esmap[_0x4b1c("0x87")][_0x4b1c("0x88")](window[l[_0x4b1c("0xb9")]][_0x4b1c("0x7c")]))>-1;if(!((new Date).getTime()>1e6*A)||y){var C=x[_0x4b1c("0xdf8")],I=x.showBase,E=0,w={points:x.pointGeometrys,types:{},fnum:_},T=[];for(var k in C){var S=C[k],M=o[k];if(S){var R=k;if(0!=S.brothers[_0x4b1c("0x0")]||S[_0x4b1c("0x928")]||S[_0x4b1c("0x13cd")]){R=1==S[_0x4b1c("0x469")][_0x4b1c("0x0")]?S.brothers[0][_0x4b1c("0x56c")]:S[_0x4b1c("0x928")]&&S[_0x4b1c("0x928")][_0x4b1c("0x469")][_0x4b1c("0x0")]>0?S[_0x4b1c("0x928")][_0x4b1c("0x469")][0][_0x4b1c("0x56c")]:S[_0x4b1c("0x13cd")]&&S[_0x4b1c("0x13cd")][_0x4b1c("0x469")].length>0?S.tubes[_0x4b1c("0x469")][0][_0x4b1c("0x56c")]:S.brothers[0][_0x4b1c("0x56c")];var L,H,D,O,P,N,F,B,z,U,V=b[_0x4b1c("0x3e6")][_0x4b1c("0x1008")](a,R,""),j={},Z=b[_0x4b1c("0x3e6")][_0x4b1c("0x1005")](a,R);if(j[_0x4b1c("0x5ac")]=R,j.lineTheme=Z,j.id=x[_0x4b1c("0xa5e")]?R:k,j[_0x4b1c("0xdfc")]=S[_0x4b1c("0xdfd")],w[_0x4b1c("0xdf8")][k]=j,S.lineIndex,0!=S.brothers[_0x4b1c("0x0")])!function(){L=[],H=new(THREE[_0x4b1c("0x581")]),D=x[_0x4b1c("0xe02")][_0x4b1c("0x54a")](3*E,3*(E+S[_0x4b1c("0xdfc")])),O=x[_0x4b1c("0x13c9")][_0x4b1c("0x54a")](3*E,3*(S[_0x4b1c("0xdfc")]+E)),x[_0x4b1c("0x582")]&&(P=x[_0x4b1c("0x582")][_0x4b1c("0x54a")](E,E+S[_0x4b1c("0xdfc")])),x[_0x4b1c("0xe03")]&&(N=x[_0x4b1c("0xe03")][_0x4b1c("0x54a")](E,E+S.groupIndex)),F=x.uvs[_0x4b1c("0x54a")](2*E,2*(S[_0x4b1c("0xdfc")]+E)),H[_0x4b1c("0x43c")](_0x4b1c("0x105"),new(THREE[_0x4b1c("0x43b")])(D,3)),H[_0x4b1c("0x43c")](_0x4b1c("0x140"),new(THREE[_0x4b1c("0x43b")])(O,3)),H[_0x4b1c("0x43c")]("uv",new(THREE[_0x4b1c("0x43b")])(F,2)),P&&H[_0x4b1c("0x43c")](_0x4b1c("0x582"),new(THREE[_0x4b1c("0x43b")])(P,1)),N&&H[_0x4b1c("0x43c")]("isSelectFlags",new(THREE[_0x4b1c("0x43b")])(N,1)),x.normalizeUvs&&(B=x[_0x4b1c("0x13ce")].subarray(2*E,2*(S[_0x4b1c("0xdfc")]+E)),H[_0x4b1c("0x43c")](_0x4b1c("0x541"),new THREE.BufferAttribute(B,2))),H[_0x4b1c("0x165")][_0x4b1c("0x583")]=M,L[_0x4b1c("0x12")](V),V[_0x4b1c("0x1f7")]="top",E+=S[_0x4b1c("0xdfc")],b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x384")],H[_0x4b1c("0x180")](0,H[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")],0),z=new THREE.Mesh(H,L),null!=b.map[_0x4b1c("0x47")][_0x4b1c("0x3a5")]?b.map.options.hideRoomLogoMeshes&&999==R&&(z[_0x4b1c("0x191")]=!1,z[_0x4b1c("0xf2")][_0x4b1c("0x17f")](),z[_0x4b1c("0xf2")][_0x4b1c("0x913")][_0x4b1c("0x106")]=0):999!=R||b[_0x4b1c("0x3e")][_0x4b1c("0x47")].editMode||(z[_0x4b1c("0x191")]=!1,z[_0x4b1c("0xf2")].clearGroups(),z.geometry[_0x4b1c("0x913")][_0x4b1c("0x106")]=0),z[_0x4b1c("0x165")][_0x4b1c("0xac6")]=L[_0x4b1c("0x0")]-1,z[_0x4b1c("0x202")][_0x4b1c("0xdb")](Math.PI/2,0,0,_0x4b1c("0xbb4")),z.datas_={FloorNum:_,brothers:S[_0x4b1c("0x469")],RoomStyle:R,o3d_:z,nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x690")],bid:e.id,bType:2},z[_0x4b1c("0x1f7")]=R,b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x384")]||(z[_0x4b1c("0xef")].name=S[_0x4b1c("0x469")][0][_0x4b1c("0x1f7")],z[_0x4b1c("0xef")].RoomHigh=S.brothers[0][_0x4b1c("0x668")],z[_0x4b1c("0xef")][_0x4b1c("0x3dd")]=S[_0x4b1c("0x469")][0].ShowLevel,z[_0x4b1c("0xef")][_0x4b1c("0xdf2")]=S[_0x4b1c("0x469")][0].TextureType,z[_0x4b1c("0xef")][_0x4b1c("0x2f2")]=S[_0x4b1c("0x469")][0][_0x4b1c("0x2f2")],z.datas_.mapCoord=S[_0x4b1c("0x469")][0][_0x4b1c("0x21d")]),U={};var t=[];S.brothers[_0x4b1c("0x1c")]((function(x){t[_0x4b1c("0x12")](x.ID),h&&(x[_0x4b1c("0x21d")]=b[_0x4b1c("0x3e")].buildingService[_0x4b1c("0xe8e")](x.mapCoord,e)),x[_0x4b1c("0x3e0")]=2,x[_0x4b1c("0xf0")]=z;var _=H[_0x4b1c("0x165")].groupInfo[x.ID][1];x[_0x4b1c("0x46a")]=[_.start,_.start+_[_0x4b1c("0x106")]],x.TextureType>=3&&(c.modelTextureMeshs[x.ID]=z);var i=x[_0x4b1c("0x3dd")];0!=i&&24!=i&&(U[i]||(U[i]={model:z,excludes:[]}),U[i].excludes[_0x4b1c("0x12")](x[_0x4b1c("0x46b")]),c[_0x4b1c("0x13cf")](U[i][_0x4b1c("0x13c7")]))})),T[_0x4b1c("0x12")](U),z[_0x4b1c("0xb7e")]=!1,1==r?z.renderOrder=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1e6")]:z[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1e6")],Z[_0x4b1c("0x172")]&&(z[_0x4b1c("0x172")]=Z.renderOrder),s[_0x4b1c("0xf0")][_0x4b1c("0xdd")](z),g[_0x4b1c("0xe1")](t),(I||x[_0x4b1c("0xdf5")])&&!b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0xdbb")]&&b[_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x3ec")](z,i)}();var Y=C[k][_0x4b1c("0x928")];if(Y&&0!=Y[_0x4b1c("0x469")][_0x4b1c("0x0")]){var W=[V],G=[];Y[_0x4b1c("0x13d0")][_0x4b1c("0x1c")]((function(x){G[_0x4b1c("0x12")](x.geometry)}));for(var X=n.BufferGeometryUtils.mergeBufferGeometries(G,!0),Q=X[_0x4b1c("0x446")],J=0;J<Q[_0x4b1c("0x0")];J++)Q[J][_0x4b1c("0x448")]=0;X[_0x4b1c("0x17f")](),X[_0x4b1c("0x180")](0,X[_0x4b1c("0x2cd")].count,0);var K=new(THREE[_0x4b1c("0x197")])(X,W);K[_0x4b1c("0x1f7")]="plane",K[_0x4b1c("0x165")].selectMatIndex=W.length-1,K.rotation[_0x4b1c("0xdb")](Math.PI/2,0,0,"XYZ"),K.userData[_0x4b1c("0x446")]=Q;for(var q=0;q<Y[_0x4b1c("0x469")][_0x4b1c("0x0")];q++){var $=Y[_0x4b1c("0x469")][q];Y[_0x4b1c("0x469")][q][_0x4b1c("0xf0")]=K,$.TextureType>=3&&(c[_0x4b1c("0xa19")][$.ID]=K,$[_0x4b1c("0x46a")]=[0,0]),h&&($.mapCoord=b[_0x4b1c("0x3e")][_0x4b1c("0xaeb")][_0x4b1c("0xe8e")]($[_0x4b1c("0x21d")],e)),$[_0x4b1c("0x3e0")]=2}K[_0x4b1c("0xef")]={FloorNum:_,bid:e.id,brothers:Y.brothers,o3d_:z,nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x690")],bType:2},K[_0x4b1c("0xb7e")]=!1,K[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1e6")],null!=b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3a5")]?b[_0x4b1c("0x3e")].options.hideRoomLogoMeshes&&999==R&&(K[_0x4b1c("0x191")]=!1,modelMmodelMesh2esh[_0x4b1c("0xf2")][_0x4b1c("0x17f")](),K[_0x4b1c("0xf2")][_0x4b1c("0x913")].count=0):999!=R||b[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")]||(K[_0x4b1c("0x191")]=!1,K[_0x4b1c("0xf2")][_0x4b1c("0x17f")](),K[_0x4b1c("0xf2")][_0x4b1c("0x913")][_0x4b1c("0x106")]=0),s[_0x4b1c("0xf0")][_0x4b1c("0xdd")](K),(I||x[_0x4b1c("0xdf5")])&&!b[_0x4b1c("0x3e")].options[_0x4b1c("0xdbb")]&&b.map.mapPicker.addObject(K,i)}var xx=C[k].tubes;if(xx&&xx[_0x4b1c("0x469")][_0x4b1c("0x0")]>0){var cx=[V],bx=C[k][_0x4b1c("0x13d1")],_x=new(THREE[_0x4b1c("0x581")]);_x[_0x4b1c("0x43e")](new(THREE[_0x4b1c("0x43b")])(bx[_0x4b1c("0x2cd")][_0x4b1c("0x439")],1)),_x[_0x4b1c("0x43c")](_0x4b1c("0x105"),new(THREE[_0x4b1c("0x43b")])(bx[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x439")],3)),_x[_0x4b1c("0x43c")](_0x4b1c("0x140"),new(THREE[_0x4b1c("0x43b")])(bx[_0x4b1c("0x104")][_0x4b1c("0x140")][_0x4b1c("0x439")],3)),_x.addAttribute("uv",new(THREE[_0x4b1c("0x43b")])(bx[_0x4b1c("0x104")].uv[_0x4b1c("0x439")],2)),_x[_0x4b1c("0x17f")](),_x[_0x4b1c("0x180")](0,_x[_0x4b1c("0x2cd")].count,0);for(var ex=new(THREE[_0x4b1c("0x197")])(_x,cx),tx=[],ix=0;ix<xx[_0x4b1c("0x469")][_0x4b1c("0x0")];ix++)tx[_0x4b1c("0x12")](xx[_0x4b1c("0x469")][ix].ID),xx.brothers[ix].o3d_=ex;ex[_0x4b1c("0xef")]={name:_0x4b1c("0x13d2"),nodeType:5,brothers:xx[_0x4b1c("0x469")],o3d_:ex,bid:e.id,bType:2},!b.map.options[_0x4b1c("0xdbb")]&&b.map[_0x4b1c("0x232")][_0x4b1c("0x3ec")](ex,i),s[_0x4b1c("0xf0")][_0x4b1c("0xdd")](ex),g[_0x4b1c("0xe1")](tx)}}}}var ax,nx=b.map.mapTheme[_0x4b1c("0xfa9")][e[_0x4b1c("0x72")]][_0x4b1c("0xdf4")];if(null!=e[_0x4b1c("0x47")][_0x4b1c("0xdf4")]&&(nx=e[_0x4b1c("0x47")][_0x4b1c("0xdf4")]),nx){var rx=this[_0x4b1c("0xdfe")](w,x.isMerge);T[_0x4b1c("0x1c")]((function(x){for(var b in x)c[_0x4b1c("0xa1c")][b]||(c[_0x4b1c("0xa1c")][b]={queue:[],visible:!0}),x[b].line=rx,c[_0x4b1c("0xa1c")][b][_0x4b1c("0xa1d")][_0x4b1c("0x12")](x[b])}))}if(!this[_0x4b1c("0xa13")][_]){this[_0x4b1c("0xa13")][_]={};var sx=new esmap.ESLayer(esmap.ESLayerType[_0x4b1c("0xa77")],{});d[_0x4b1c("0xdd")](sx[_0x4b1c("0xf0")]);var ox=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")].MODEL3D);ox.name=_0x4b1c("0xa6f"),ox[_0x4b1c("0x1373")]=!0,d[_0x4b1c("0xdd")](ox.o3d_),this[_0x4b1c("0xa13")][_][_0x4b1c("0x13d3")]=sx,this[_0x4b1c("0xa13")][_].rmodellayer=ox,this[_0x4b1c("0xa13")][_][_0x4b1c("0xdf7")]=[],this[_0x4b1c("0xa13")][_][_0x4b1c("0x13c5")]=[],this[_0x4b1c("0xa13")][_][_0x4b1c("0x13d4")]={},this[_0x4b1c("0xa13")][_][_0x4b1c("0x13d5")]=[],this[_0x4b1c("0xa1a")][_]=[]}if(x[_0x4b1c("0xe0f")]&&x[_0x4b1c("0xe0f")].length>0&&(this[_0x4b1c("0xe15")][_0x4b1c("0x57d")](u,x[_0x4b1c("0xe0f")]),this.modelImageLoader[_0x4b1c("0x57c")](u,this[_0x4b1c("0xa13")][_][_0x4b1c("0x13d3")][_0x4b1c("0xf0")],{bid:i,bType:2})),x[_0x4b1c("0x13d6")]&&(this[_0x4b1c("0xa13")][_].bimModelDatas=this.toHandle[_][_0x4b1c("0x13d5")][_0x4b1c("0x377")](x.bimModelData)),x[_0x4b1c("0x13d7")])if(b[_0x4b1c("0x3e")].options.mergeModels)(ax=this[_0x4b1c("0xa18")])[_0x4b1c("0x12")][_0x4b1c("0x4")](ax,(0,t[_0x4b1c("0xc")])(x[_0x4b1c("0x13d7")]));else this.modelTextureDatas[_0x4b1c("0x12")](x[_0x4b1c("0x13d7")]);this[_0x4b1c("0xa13")][_][_0x4b1c("0xdf7")]=this[_0x4b1c("0xa13")][_][_0x4b1c("0xdf7")][_0x4b1c("0x377")](x[_0x4b1c("0x13d8")]),0!=x[_0x4b1c("0xe12")][_0x4b1c("0x0")]&&this.modelImageLoader[_0x4b1c("0xe16")](u,{index:x.modelImageIndex,pos:x.modelImagePos,uv:x[_0x4b1c("0xe13")],nor:x[_0x4b1c("0xe17")],hideFlags:x[_0x4b1c("0xe14")],groups:x[_0x4b1c("0xe18")],groupsCopy:x[_0x4b1c("0xe10")],fnum:_}),x.layerType?e[_0x4b1c("0xdbc")][_][_0x4b1c("0x1e6")]>0&&e[_0x4b1c("0xdbc")][_][_0x4b1c("0x1e6")]--:e[_0x4b1c("0xdbc")][_][_0x4b1c("0x600")]>0&&e[_0x4b1c("0xdbc")][_].modelBase--,e[_0x4b1c("0x136b")](_),x[_0x4b1c("0xe08")]=null,x[_0x4b1c("0x13cb")]=null,x[_0x4b1c("0x13c9")]=null,x[_0x4b1c("0xe02")]=null,x[_0x4b1c("0xdf8")]=null,this[_0x4b1c("0xe15")][u]&&this[_0x4b1c("0xe15")][_0x4b1c("0x587")](u)}}}}},{key:"loadModelTextures",value:function(x){function c(x,c){c[_0x4b1c("0x8a7")]=c[_0x4b1c("0x18c")]=THREE[_0x4b1c("0x18d")];var b=x[_0x4b1c("0xcae")]*THREE[_0x4b1c("0x215")][_0x4b1c("0x660")];return x.repeatType||c[_0x4b1c("0x157")][_0x4b1c("0xdb")](x[_0x4b1c("0xe0")][0],x[_0x4b1c("0xe0")][1]),c[_0x4b1c("0x158")].set(x.offset.x,x[_0x4b1c("0x158")].y),c[_0x4b1c("0x202")]=isNaN(b)?0:b,c[_0x4b1c("0x188")]=!0,c}var b=this[_0x4b1c("0x102")],_=void 0,e=x[0].id,t=x[0].RS,i=this[_0x4b1c("0x54")][_0x4b1c("0x72")],a=1*b[_0x4b1c("0x3e6")][_0x4b1c("0x1005")](i,t)[_0x4b1c("0x273")],n=this[_0x4b1c("0xa19")][e];if(n){n[_0x4b1c("0xf2")].attributes.uv[_0x4b1c("0x439")],x[0].repeatType&&n.geometry.addAttribute("uv",n[_0x4b1c("0xf2")][_0x4b1c("0x435")](_0x4b1c("0x541")));var s=b[_0x4b1c("0x3e6")][_0x4b1c("0xfa9")][i][_0x4b1c("0xff5")][t]?b[_0x4b1c("0x3e6")][_0x4b1c("0xfa9")][i][_0x4b1c("0xff5")][t][_0x4b1c("0x147")]:b[_0x4b1c("0x3e6")][_0x4b1c("0xfa9")][i].roomStyle[0].color;s[_0x4b1c("0x114")]("#")<0&&(s=esmap.ESMapUtil.colorRGB2Hex(s));var o=new r.default({colorStr:s});o[_0x4b1c("0x468")](n),n[_0x4b1c("0x165")].computedTopFace=!0;var f=n[_0x4b1c("0xf4")][0].color.getStyle();if(1==x[_0x4b1c("0x0")]){var l=x[0],d=b.map.mapService[_0x4b1c("0x364")][_0x4b1c("0x13da")][l[_0x4b1c("0x55d")]][_0x4b1c("0x13e")]();d=c(l,d);var u=document.createElement("canvas");u[_0x4b1c("0x1c9")]=16,u[_0x4b1c("0x1a3")]=16;var h=u[_0x4b1c("0x332")]("2d");h[_0x4b1c("0x33e")]=f,h[_0x4b1c("0x9b0")](0,0,16,16);var g=new(THREE[_0x4b1c("0x35e")])(u);g.needsUpdate=!0,3==l[_0x4b1c("0xdf2")]?(_=o[_0x4b1c("0x46d")]({topTexture:d,sideTexture:g}))[_0x4b1c("0x1f7")]=_0x4b1c("0x46e"):(_=o[_0x4b1c("0x46d")]({topTexture:g,sideTexture:d})).name="sideTexture",_[_0x4b1c("0x165")].info=l,_[_0x4b1c("0x188")]=!0,n[_0x4b1c("0xf4")]=[_]}else{var v=x[0],p=b[_0x4b1c("0x3e")][_0x4b1c("0x7e")].ResourcePool.roomTexturePool[v[_0x4b1c("0x55d")]][_0x4b1c("0x13e")]();p=c(v,p);var m,A,y=x[1],C=b.map.mapService[_0x4b1c("0x364")][_0x4b1c("0x13da")][y[_0x4b1c("0x55d")]][_0x4b1c("0x13e")]();C=c(y,C),3==v[_0x4b1c("0xdf2")]?(m=p,A=C):(m=C,A=p),(_=o[_0x4b1c("0x46d")]({topTexture:m,sideTexture:A}))[_0x4b1c("0x188")]=!0,_.name="doubleTexture",_.userData.info=v,n[_0x4b1c("0xf4")]=[_]}a<1&&(_.transparent=!0,_[_0x4b1c("0x129")]=a),n[_0x4b1c("0xf2")][_0x4b1c("0x104")].uv[_0x4b1c("0x439")]}else console[_0x4b1c("0xe3")](esmap[_0x4b1c("0x288")][_0x4b1c("0x13d9")]+":"+e)}},{key:_0x4b1c("0xe19"),value:function(){var x,c,b=(x=(0,e[_0x4b1c("0xc")])(_[_0x4b1c("0xc")][_0x4b1c("0x283")]((function x(c){var b,e,t,r,s,o;return _[_0x4b1c("0xc")][_0x4b1c("0x284")]((function(x){for(;;)switch(x[_0x4b1c("0x285")]=x[_0x4b1c("0x286")]){case 0:for(r in b=i[_0x4b1c("0xa13")][c][_0x4b1c("0xdf7")],e=a[_0x4b1c("0x3e")].firstPersonMode?a[_0x4b1c("0x3e")][_0x4b1c("0x64c")][_0x4b1c("0x2c7")]:a.map.controls[_0x4b1c("0x2c7")],t=[],b)s=i[_0x4b1c("0xe1a")](b[r],c),delete i[_0x4b1c("0xa13")][c].model3data[r],s&&(s[_0x4b1c("0x3ff")]>28?n[_0x4b1c("0x26b")].addMapModel(s):(s[_0x4b1c("0xe1c")]=s[_0x4b1c("0x105")][_0x4b1c("0x124")](e),t[_0x4b1c("0x12")](s)));for(t[_0x4b1c("0x42b")]((function(x,c){return x.viewrank-c[_0x4b1c("0xe1c")]}));t[_0x4b1c("0x0")]>0;)o=t[_0x4b1c("0x3")](),n[_0x4b1c("0x26b")].addMapModel(o);n.modelLoadManager[_0x4b1c("0xda5")][c]=!0;case 7:case"end":return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(c){return x[_0x4b1c("0x4")](this,arguments)}),t=(c=(0,e.default)(_.default[_0x4b1c("0x283")]((function x(){var c,e;return _.default[_0x4b1c("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4b1c("0x286")]){case 0:x.t0=_[_0x4b1c("0xc")][_0x4b1c("0x684")](n.floorNums);case 1:if((x.t1=x.t0()).done){x[_0x4b1c("0x286")]=10;break}if(c=x.t1[_0x4b1c("0x13a")],e=n[_0x4b1c("0x679")][c],i.toHandle[e]){x[_0x4b1c("0x286")]=6;break}return x[_0x4b1c("0x293")](_0x4b1c("0x686"),1);case 6:b(e),r(e),x.next=1;break;case 10:n[_0x4b1c("0x78")]>=100&&n[_0x4b1c("0x26b")][_0x4b1c("0x1380")]();case 11:case _0x4b1c("0x2a0"):return x[_0x4b1c("0x19b")]()}}),x,this)}))),function(){return c.apply(this,arguments)}),i=this,a=i[_0x4b1c("0x102")],n=this[_0x4b1c("0x54")];function r(x){var c=i[_0x4b1c("0xa13")][x][_0x4b1c("0x13d5")],b=[];for(var _ in c){var e=c[_];b[_0x4b1c("0x12")](i[_0x4b1c("0x13db")](e))}for(i[_0x4b1c("0xa13")][x][_0x4b1c("0x13d5")]=[];b[_0x4b1c("0x0")]>0;){var t=b[_0x4b1c("0x3")]();n[_0x4b1c("0x26b")].addBimModel(t)}}t()[_0x4b1c("0x323")]((function(){i[_0x4b1c("0xde9")]||(a.map.on(_0x4b1c("0x164"),(function(){i[_0x4b1c("0x13dc")](),a[_0x4b1c("0x3e")][_0x4b1c("0x47")].dynamicLoadModels?(a.map[_0x4b1c("0x64c")][_0x4b1c("0x70b")]&&(u=setTimeout((function(){n[_0x4b1c("0x26b")][_0x4b1c("0x26d")]=!1,n[_0x4b1c("0x26b")].viewRangeUpdated=!1,u&&window.clearTimeout(u)}),100)),n.modelLoadManager.disposeInvisible(),n[_0x4b1c("0x26b")].invisibleMergeModels(),n.modelLoadManager[_0x4b1c("0xdc7")]()):(n[_0x4b1c("0x26b")][_0x4b1c("0xdc1")](),n.modelLoadManager[_0x4b1c("0xdc7")]())}),null,n.id),i[_0x4b1c("0xde9")]=!0)}))}},{key:_0x4b1c("0x55b"),value:function(x,c){var b=this,_=b.scene,e=x[_0x4b1c("0x12e")],t=this[_0x4b1c("0x54")],i=_[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x364")][_0x4b1c("0x55c")][x[_0x4b1c("0x55d")]],a=this[_0x4b1c("0x3cb")];_.map.options[_0x4b1c("0x55f")]&&(THREE[_0x4b1c("0x215")][_0x4b1c("0x560")](i[_0x4b1c("0x316")].width)&&THREE[_0x4b1c("0x215")].isPowerOfTwo(i[_0x4b1c("0x316")][_0x4b1c("0x1a3")])||(i[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x561")],i[_0x4b1c("0x363")]=!1,i[_0x4b1c("0x562")][_0x4b1c("0x0")]=0,i.needsUpdate=!0));var n=t[_0x4b1c("0x47")][_0x4b1c("0x384")]?x[_0x4b1c("0xdf5")]:x.id,r=b[_0x4b1c("0xa13")][e][_0x4b1c("0x13d4")][n].material,s=x[_0x4b1c("0x563")],o=_.map.options[_0x4b1c("0x564")];if(t[_0x4b1c("0x47")].mergeModels||(b[_0x4b1c("0xa13")][e].modelImageMeshs[n][_0x4b1c("0xef")][_0x4b1c("0x21d")]={x:x[_0x4b1c("0x565")].x,y:x[_0x4b1c("0x565")].y}),!r[s]){var f=new(THREE[_0x4b1c("0x144")])({transparent:!0,side:THREE[_0x4b1c("0x15c")],depthWrite:!0,map:i});f.onBeforeCompile=function(x){x[_0x4b1c("0x14a")]=x[_0x4b1c("0x14a")][_0x4b1c("0x14c")]("#include <uv_pars_vertex>",_0x4b1c("0x13dd")),x.vertexShader=x[_0x4b1c("0x14a")].replace(_0x4b1c("0x14d"),_0x4b1c("0x56e")),x[_0x4b1c("0x150")]=x[_0x4b1c("0x150")][_0x4b1c("0x14c")](_0x4b1c("0x14e"),"\n                   uniform float opacity; \n                   varying float hideFlag;\n                   "),x[_0x4b1c("0x150")]=x[_0x4b1c("0x150")][_0x4b1c("0x14c")](_0x4b1c("0x151"),"\n                   vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                   if(hideFlag > 0.0){\n                       discard;\n                   }\n                   gl_FragColor = resultColor;\n                   ")},f.name=x[_0x4b1c("0x55d")],f[_0x4b1c("0x165")][_0x4b1c("0x572")]=x,f.name[_0x4b1c("0x114")](_0x4b1c("0x573"))>0?f[_0x4b1c("0x145")]=!1:f[_0x4b1c("0x574")]=o,t[_0x4b1c("0x575")]!=e&&t[_0x4b1c("0x47")].focusAlphaMode&&(f[_0x4b1c("0x165")][_0x4b1c("0x271")]=f.transparent,f[_0x4b1c("0x165")][_0x4b1c("0x129")]=f[_0x4b1c("0x129")],f.opacity=t[_0x4b1c("0x47")][_0x4b1c("0xdbd")]),t[_0x4b1c("0x47")][_0x4b1c("0x384")]?r[s]=f:(b.toHandle[e][_0x4b1c("0x13d4")][n][_0x4b1c("0xf4")][_0x4b1c("0x12")](f),b.toHandle[e][_0x4b1c("0x13d4")][n][_0x4b1c("0xef")][_0x4b1c("0x577")]=x.id,b[_0x4b1c("0xa13")][e][_0x4b1c("0x13d4")][n].datas_[_0x4b1c("0x55d")]=x[_0x4b1c("0x55d")]),a[_0x4b1c("0xe2")](x.id)}}},{key:_0x4b1c("0x13dc"),value:function(){var x=this,c=this.scene;if(x[_0x4b1c("0xa18")][_0x4b1c("0x0")]>0)for(var b=0;b<x.modelTextureDatas[_0x4b1c("0x0")];b++)if(0!=x[_0x4b1c("0xa18")][b].length){for(var _=!0,e=0;e<x.modelTextureDatas[b][_0x4b1c("0x0")];e++){var t=x[_0x4b1c("0xa18")][b][e];if(!c[_0x4b1c("0x3e")][_0x4b1c("0x7e")][_0x4b1c("0x364")][_0x4b1c("0x13da")][t.RoomLogo]){if(null!==c[_0x4b1c("0x3e")].mapService[_0x4b1c("0x364")][_0x4b1c("0x13da")][t.RoomLogo]){_=!1;break}x[_0x4b1c("0xa18")][b][_0x4b1c("0x5")](e,1),e--}}_&&x[_0x4b1c("0xa18")][b].length>0&&(x[_0x4b1c("0x13de")](x[_0x4b1c("0xa18")][b]),x.modelTextureDatas[_0x4b1c("0x5")](b,1),b--)}else x[_0x4b1c("0xa18")][_0x4b1c("0x5")](b,1),b--}},{key:_0x4b1c("0x13db"),value:function(x){if(x.position={x:-x.x,z:x.y},x.nodeType=6,x[_0x4b1c("0x201")]){var c=x[_0x4b1c("0x201")].split(",");x[_0x4b1c("0x201")]=new(THREE[_0x4b1c("0x128")])(1*c[0],1*c[1],1*c[2])}else x[_0x4b1c("0x201")]=new THREE.Vector3(1,1,1);return x[_0x4b1c("0x202")]||(x[_0x4b1c("0x202")]=new(THREE[_0x4b1c("0x128")])(0,0,0)),x}},{key:"loadModel",value:function(x,c,b){var _,e=this[_0x4b1c("0x102")],t=this[_0x4b1c("0x54")],i=this[_0x4b1c("0x54")].id,a=(e[_0x4b1c("0x3e")].options[_0x4b1c("0x99")],this[_0x4b1c("0x3cb")]),n=e[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")],r=e[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x62")]+e[_0x4b1c("0x3e")][_0x4b1c("0xb79")]+_0x4b1c("0xae")+x.model[_0x4b1c("0x14c")](_0x4b1c("0x82"),"")+_0x4b1c("0x82"),o=e[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x3ab")]==_0x4b1c("0x5d3")&&!e[_0x4b1c("0x3e")][_0x4b1c("0x47")][_0x4b1c("0x1f6")],f=x[_0x4b1c("0x1e6")].replace(_0x4b1c("0x82"),"");(r=(r=s.default.getPath("buildingModel",{filename:f,buildingId:i,modeltoken:e[_0x4b1c("0x3e")][_0x4b1c("0xab")]}))[_0x4b1c("0x14c")](/([^:]\/)\/+/g,"$1"),b)?_=b:_=this[_0x4b1c("0xa13")][c]?this.toHandle[c][_0x4b1c("0xe1d")][_0x4b1c("0xf0")]:e[_0x4b1c("0xb01")][c].datas_[_0x4b1c("0x3f8")](esmap.ESLayerType[_0x4b1c("0x1df")])[0][_0x4b1c("0xf0")];if(x[_0x4b1c("0x1e6")]){if(1*x[_0x4b1c("0x35b")]==3){var l=x[_0x4b1c("0xe1f")][_0x4b1c("0x12c")][_0x4b1c("0x3e")]((function(x){return x.x*=-1,x})),d=x[_0x4b1c("0x158")][_0x4b1c("0x2c")](",")[1];return new(esmap[_0x4b1c("0x633")])({type:_0x4b1c("0x54"),useCrst:!1,merge:!0,bid:i,model:x[_0x4b1c("0x1e6")],fnum:c,bclick:!!n,points:l,gid:x.gid||0,error:function(x){a[_0x4b1c("0xe2")](x.ID),t[_0x4b1c("0xdbc")][c][_0x4b1c("0x1fe")]--},created:function(x){a[_0x4b1c("0xe2")](x.ID),t.toLoaded[c][_0x4b1c("0x1fe")]--},repeatset:1,thickset:1,heightset:1,name:x[_0x4b1c("0x1f7")],id:x.id,height:1*d})[_0x4b1c("0x12b")]=i,null}if(o&&x[_0x4b1c("0x1e6")][_0x4b1c("0x114")](_0x4b1c("0xd6e"))>=0){var u=t[_0x4b1c("0x26b")];return u[_0x4b1c("0x2a2")][x[_0x4b1c("0x1e6")]]||u[_0x4b1c("0xda1")][x[_0x4b1c("0x1e6")]]||(u[_0x4b1c("0xda1")][x[_0x4b1c("0x1e6")]]=!0,t[_0x4b1c("0x26b")][_0x4b1c("0x2e9")](x.model,r)),!1}var h=new THREE.Vector3(1,1,1);if(x[_0x4b1c("0x201")]){var g=x[_0x4b1c("0x201")].split(",");h=new THREE.Vector3(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]))}var v=0;if(x[_0x4b1c("0xcae")]){var p=Math.PI/180,m=x.rotate[_0x4b1c("0x2c")](",");v=1*m[1];var A=new(THREE[_0x4b1c("0x206")])(parseFloat(m[0])*p,parseFloat(m[1])*p,parseFloat(m[2])*p)}var y=new(THREE[_0x4b1c("0x128")])(x.x,x.y,0),C=new(THREE[_0x4b1c("0x128")])(-x.x-e[_0x4b1c("0x2de")],0,x.y-e[_0x4b1c("0x2df")]);if(e[_0x4b1c("0x3e")][_0x4b1c("0x3b")]===esmap.MapMode[_0x4b1c("0x42")]&&(C=new(THREE[_0x4b1c("0x128")])(-x.x-t[_0x4b1c("0xb00")][_0x4b1c("0xcba")],0,x.y-t.sourceData[_0x4b1c("0xd92")]),y=e[_0x4b1c("0x3e")][_0x4b1c("0x20d")](C,t)),x[_0x4b1c("0x158")]){var I=x[_0x4b1c("0x158")][_0x4b1c("0x2c")](",");C.x+=parseFloat(I[0]),C.y+=parseFloat(I[1]),C.z+=parseFloat(I[2]),y.x-=parseFloat(I[0]),y.z+=parseFloat(I[1]),y.y+=parseFloat(I[2])}x[_0x4b1c("0x1e6")][_0x4b1c("0x114")](_0x4b1c("0x82"))<0&&(x[_0x4b1c("0x1e6")]+=_0x4b1c("0x82"));var E={brief:x[_0x4b1c("0xddc")],bid:i,bType:2,rank:x.rank,name:x[_0x4b1c("0x1f7")],dataID:x[_0x4b1c("0x219")],model:x[_0x4b1c("0x1e6")],angle:v,mapId:null,url:r,scale:h,gid:x.gid||0,rotation:A,position:C,data_:{CenX:x.x,CenY:x.y,scale:x[_0x4b1c("0x201")]||null,rotate:x[_0x4b1c("0xcae")]||null,offset:x.offset||null},parent:_,id:x.id,bclick:x[_0x4b1c("0x427")],typeID:x[_0x4b1c("0xe1f")][_0x4b1c("0x3e5")],mapCoord:y,callbackparams:x.callbackparams||null,callback:function(){},fnum:c};return n&&(E[_0x4b1c("0xe1f")]=x[_0x4b1c("0xe1f")]),E}}},{key:_0x4b1c("0xdfe"),value:function(x,c){var b,_=x.fnum;x.id;this.modelLineLayers[_]?b=this[_0x4b1c("0xde8")][_]:((b=new(esmap[_0x4b1c("0x3d1")])(esmap[_0x4b1c("0x3cd")][_0x4b1c("0xe20")],{})).name=_0x4b1c("0xdf4"),this[_0x4b1c("0x54")][_0x4b1c("0x1354")](_)[_0x4b1c("0xdd")](b[_0x4b1c("0xf0")]),this[_0x4b1c("0xde8")][_]=b);var e=x[_0x4b1c("0xdf8")];if(c){var t=new(THREE[_0x4b1c("0x581")]);t[_0x4b1c("0x43c")](_0x4b1c("0x105"),new(THREE[_0x4b1c("0x43b")])(x[_0x4b1c("0x12c")],3));var i=[],a=0;for(var n in e){var r=e[n].lineTheme,s={precision:_0x4b1c("0xbae"),color:r[_0x4b1c("0xe23")],linewidth:r.strokewidth>5?5:r[_0x4b1c("0xe24")]},o=new(THREE[_0x4b1c("0xe21")])(s);void 0!==r[_0x4b1c("0x273")]&&0==r[_0x4b1c("0x273")]&&(o.visible=!1),o.name=n,i[_0x4b1c("0x12")](o),t.addGroup(a,e[n].groupIndex,i[_0x4b1c("0x0")]-1),e[n][_0x4b1c("0x13df")]=a,a+=e[n][_0x4b1c("0xdfc")],1*n==999&&(o[_0x4b1c("0x191")]=!1)}var f=new(THREE[_0x4b1c("0xe22")])(t,i);return f[_0x4b1c("0xb7e")]=!1,f[_0x4b1c("0xef")]={nodeType:esmap[_0x4b1c("0x131")][_0x4b1c("0x132")],id:1},f.rotation[_0x4b1c("0xdb")](Math.PI/2,0,0,"XYZ"),f[_0x4b1c("0x172")]=esmap.ESRenderOrder.lineObject,f[_0x4b1c("0x165")][_0x4b1c("0x583")]=e,b[_0x4b1c("0xf0")][_0x4b1c("0xdd")](f),f}if(0!=x.points[_0x4b1c("0x0")]){for(var l in e){var d=new THREE.BufferGeometry,u=0,h=x[_0x4b1c("0x12c")][_0x4b1c("0x54a")](3*u,3*(u+e[l][_0x4b1c("0xdfc")]));d[_0x4b1c("0x43c")](_0x4b1c("0x105"),new(THREE[_0x4b1c("0x43b")])(h,3));var g=e[l][_0x4b1c("0xdfb")],v=[],p={precision:_0x4b1c("0xbae"),color:g[_0x4b1c("0xe23")],linewidth:g.strokewidth>5?5:g[_0x4b1c("0xe24")]},m=new THREE.LineBasicMaterial(p);v[_0x4b1c("0x12")](m),d[_0x4b1c("0x180")](u,e[l].groupIndex,v[_0x4b1c("0x0")]-1),u+=e[l][_0x4b1c("0xdfc")];var A=new THREE.LineSegments(d,v);A[_0x4b1c("0xb7e")]=!1,A[_0x4b1c("0xef")]={nodeType:esmap[_0x4b1c("0x131")].LINE,id:1*e[l].id,bid:this[_0x4b1c("0x54")].id,bType:2},A[_0x4b1c("0x202")][_0x4b1c("0xdb")](Math.PI/2,0,0,_0x4b1c("0xbb4")),A[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")].lineObject,1*l==999&&(m.visible=!1,d[_0x4b1c("0x17f")](),d.drawRange[_0x4b1c("0x106")]=0),b[_0x4b1c("0xf0")][_0x4b1c("0xdd")](A)}return A}}},{key:_0x4b1c("0x3cb"),get:function(){return this[_0x4b1c("0x54")][_0x4b1c("0x3cb")]}}]),x}();c[_0x4b1c("0xc")]=h},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=a(b(2)),e=a(b(0)),t=a(b(1)),i=b(19);function a(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var n=function(){function x(c){(0,e[_0x4b1c("0xc")])(this,x);var b=(0,_[_0x4b1c("0xc")])({id:1,bid:0,showLevel:null,style:{alpha:.8,lineType:esmap[_0x4b1c("0xa4d")].FULL,isMapRoad:0},renderOrder:esmap[_0x4b1c("0x1fd")][_0x4b1c("0x173")]},c);this[_0x4b1c("0xcf5")]=esmap.ESMap[_0x4b1c("0x3a")],this.ID=b.id||0,this[_0x4b1c("0x1f7")]=b.name||"",this.points=b.points||[],this[_0x4b1c("0x23")]=b[_0x4b1c("0x23")]||this[_0x4b1c("0xcf5")].mapTheme.navigateStyle_,this[_0x4b1c("0xf0")]=new(THREE[_0x4b1c("0x214")]),this.o3d_.name="_root_",this[_0x4b1c("0xf0")][_0x4b1c("0xef")]=this,this[_0x4b1c("0x123")]=esmap[_0x4b1c("0x131")][_0x4b1c("0xacb")],this[_0x4b1c("0x47")]=b,this._props={showLevel:null,minShowLevel:null,maxShowLevel:null,visibleLock:!1,isCityMode:!1,eventId:(0,i[_0x4b1c("0x1b")])(8)},this.showLevel=b.showLevel,this[_0x4b1c("0x211")]()}return(0,t[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0xf3"),value:function(){for(var x=this[_0x4b1c("0xf0")][_0x4b1c("0xf1")],c=x[_0x4b1c("0x0")]-1;c>=0;c--)x[c][_0x4b1c("0xf3")](),this.o3d_[_0x4b1c("0x2ea")](x[c]);this[_0x4b1c("0xf0")][_0x4b1c("0x108")]&&this[_0x4b1c("0xf0")][_0x4b1c("0x108")].remove(this[_0x4b1c("0xf0")])}},{key:"bindEvents",value:function(){var x=this;this[_0x4b1c("0x1e3")][_0x4b1c("0x319")]=this.map_.mode===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")];var c=function(c){var b=c,_=x._props,e=_.minShowLevel,t=_.maxShowLevel,i=_.isCityMode,a=_[_0x4b1c("0x220")];if(null!==x[_0x4b1c("0x1e4")]&&!a){var n=x[_0x4b1c("0x47")].useScaleLevel;if(i||!n)if(null!=e&&null!=t){if(b<e||b>t)return void(x[_0x4b1c("0x191")]=!1);x[_0x4b1c("0x191")]=!0}else null!=t&&null===e&&(x[_0x4b1c("0x191")]=!(b<t));else{if(b=x[_0x4b1c("0x13e0")],null!=e&&b<e)return void(x[_0x4b1c("0x191")]=!1);b>t?x.visible=!1:x[_0x4b1c("0x191")]=!0}}};this[_0x4b1c("0xcf5")].on("zoomed",c,null,this.map_.id),this[_0x4b1c("0xf0")][_0x4b1c("0x37")]("onBeforeAdd",(function(){c(x[_0x4b1c("0xcf5")][_0x4b1c("0x31d")])})),this[_0x4b1c("0xcf5")].on(_0x4b1c("0x1377"),(function(c){for(var b=x[_0x4b1c("0xf0")].children,_=c[_0x4b1c("0x3e")]((function(x){return x.id})),e=0;e<b[_0x4b1c("0x0")];e++){var t=b[e],i=t.bid;i.indexOf(_0x4b1c("0xa49"))>-1&&(i=i.split(_0x4b1c("0xa49"))[0]),_.indexOf(i)>-1?t[_0x4b1c("0x191")]=!0:t.visible=!1}}))}},{key:_0x4b1c("0x13e1"),value:function(x){if(this[_0x4b1c("0x23")].lineType==esmap.ESLineType[_0x4b1c("0x127")]){var c=this[_0x4b1c("0x23")].fixedWidth,b=this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0],e={time:.3,percent:1,arrow:this[_0x4b1c("0x23")][_0x4b1c("0x16a")]||!1,onComplete:null};(0,_.default)(e,x),0==e[_0x4b1c("0x13e2")]&&(e[_0x4b1c("0x13e2")]=.001);var t=e[_0x4b1c("0x1a5")],i=e.percent,a=e[_0x4b1c("0x16a")],n=b[_0x4b1c("0xf2")][_0x4b1c("0xe5")];if(this.style[_0x4b1c("0x15e")]==_0x4b1c("0x17e")){var r=b[_0x4b1c("0xf2")][_0x4b1c("0x165")].trueRadius;new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])({value:n}).to({value:i},1e3*t)[_0x4b1c("0x1a8")](esmap.TWEEN[_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ae")])[_0x4b1c("0x1ac")]((function(){e.onComplete&&e[_0x4b1c("0x1ac")]()}))[_0x4b1c("0x174")]((function(x){b[_0x4b1c("0xf2")][_0x4b1c("0x164")](b.pathPointList,{radius:r,arrow:a,progress:x.value}),b[_0x4b1c("0xf2")].progress=x[_0x4b1c("0x13a")],c&&b.updateLineWidth()}))[_0x4b1c("0x1af")]()}else{var s=b.geometry[_0x4b1c("0x165")][_0x4b1c("0x163")];new esmap.TWEEN.Tween({value:n}).to({value:i},1e3*t).easing(esmap.TWEEN[_0x4b1c("0x1a9")][_0x4b1c("0x1aa")][_0x4b1c("0x1ae")])[_0x4b1c("0x1ac")]((function(){e[_0x4b1c("0x1ac")]&&e[_0x4b1c("0x1ac")]()}))[_0x4b1c("0x174")]((function(x){b.geometry[_0x4b1c("0x164")](b.pathPointList,{width:s,arrow:a,progress:x.value}),b.geometry[_0x4b1c("0xe5")]=x[_0x4b1c("0x13a")],c&&b.updateLineWidth()}))[_0x4b1c("0x1af")]()}}}},{key:_0x4b1c("0x2d9"),value:function(){this[_0x4b1c("0x12c")][_0x4b1c("0x2d9")](),this[_0x4b1c("0x10cc")](this[_0x4b1c("0x12c")])}},{key:_0x4b1c("0x13e3"),value:function(x){var c=x[_0x4b1c("0x13e2")],b=void 0===c?.5:c,_=x.isFront,e=void 0===_||_,t=x[_0x4b1c("0x273")],i=void 0===t?.5:t,a=this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0];a&&(a[_0x4b1c("0x13e4")][_0x4b1c("0x13e3")]={alpha:i,isFront:e},a[_0x4b1c("0x126a")]=b,a[_0x4b1c("0x13e5")]=!0)}},{key:"updatePoints",value:function(x){var c=this[_0x4b1c("0xcf5")][_0x4b1c("0xa46")](x)[0];esmap.ESMapUtil[_0x4b1c("0x69f")](c);var b=void 0,_=this[_0x4b1c("0x23")];this.points=x,b=_[_0x4b1c("0x13e6")]?esmap[_0x4b1c("0x6a2")].buildCurvePoints(c,8,_[_0x4b1c("0x13e6")]):c,this.o3d_.children[0][_0x4b1c("0x138")](b),this.style[_0x4b1c("0x168")]&&this[_0x4b1c("0xf0")].children[_0x4b1c("0x0")]>0&&this[_0x4b1c("0xf0")].children[0].updateLineWidth&&this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0].updateLineWidth()}},{key:_0x4b1c("0x18e"),value:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0].updateStyle(x)}},{key:"updateColor",value:function(x){var c=this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0];c&&(c[_0x4b1c("0xada")]?c.color=x:c[_0x4b1c("0x13e7")](x))}},{key:_0x4b1c("0x13e8"),value:function(x){var c={height:5,time:.6};x instanceof Object?c=(0,_[_0x4b1c("0xc")])(c,x):isNaN(x)||(c[_0x4b1c("0x1a3")]=x);var b=this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0],e=c.height;this[_0x4b1c("0x13e9")]&&this.updateHeightId_[_0x4b1c("0x19b")](),this[_0x4b1c("0x13e9")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(b[_0x4b1c("0x105")]).to({y:e},1e3*c.time).easing(esmap[_0x4b1c("0x1a6")].Easing[_0x4b1c("0x1aa")].Out).onComplete((function(){}))[_0x4b1c("0x1af")]()}},{key:_0x4b1c("0x172"),get:function(){return this.o3d_.renderOrder},set:function(x){this.o3d_.renderOrder=x,this.o3d_[_0x4b1c("0x165")][_0x4b1c("0x172")]=x,this[_0x4b1c("0xf0")][_0x4b1c("0x103")]((function(c){c[_0x4b1c("0x1")](_0x4b1c("0x172"))&&(c.renderOrder=x)}))}},{key:_0x4b1c("0x1e4"),set:function(x){null!==x&&(this[_0x4b1c("0x1e3")][_0x4b1c("0x1e4")]=x,Array[_0x4b1c("0x32f")](x)?(this._props.minShowLevel=x[0],this[_0x4b1c("0x1e3")][_0x4b1c("0x21f")]=x[1]):this._props.maxShowLevel=x)},get:function(){return this[_0x4b1c("0x1e3")].showLevel}},{key:_0x4b1c("0xe5"),get:function(){return this[_0x4b1c("0x23")][_0x4b1c("0x190")]!=esmap.ESLineType[_0x4b1c("0x127")]?1:this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0].geometry[_0x4b1c("0xe5")]}},{key:"visible",set:function(x){this.o3d_.visible=x,this[_0x4b1c("0x23")][_0x4b1c("0x168")]&&this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][_0x4b1c("0x0")]>0&&this.o3d_.children[0][_0x4b1c("0x17b")]&&this[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0][_0x4b1c("0x17b")]()},get:function(){return this[_0x4b1c("0xf0")].visible}}]),x}();c.default=n},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=s(b(61)),e=s(b(2)),t=s(b(21)),i=s(b(71)),a=s(b(6)),n=b(19),r=b(23);function s(x){return x&&x.__esModule?x:{default:x}}var o=function(x,c,b,_){var e=this,t=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")];this[_0x4b1c("0x64a")]=_0x4b1c("0x92c"),this.fnum=x[0]?x[0].fnum:1;var s=x[_0x4b1c("0x3e")]((function(x){var c=x[_0x4b1c("0x13e")]();return c[_0x4b1c("0x12e")]=x[_0x4b1c("0x12e")],c[_0x4b1c("0x12b")]=x[_0x4b1c("0x12b")],c}));this[_0x4b1c("0x13ea")]=_,this[_0x4b1c("0x12c")]=x,this[_0x4b1c("0x12b")]=x[0].bid||0,this[_0x4b1c("0x12e")]=x[0]&&x[0].fnum||1,this.map=t,this[_0x4b1c("0x130")]="esline",this[_0x4b1c("0x23")]=c,this[_0x4b1c("0x13e5")]=!1;var o=c;o.hiddenByFloor=null==o[_0x4b1c("0x135")]||o[_0x4b1c("0x135")],this.fixedWidth=null!=o[_0x4b1c("0x168")]&&o[_0x4b1c("0x168")],this[_0x4b1c("0x123")]=esmap[_0x4b1c("0x131")].LINE,(b=b||{}).up=b.up||c.up||new(THREE[_0x4b1c("0x128")])(0,1,0),this.style[_0x4b1c("0x157")]=this.style.repeat||1,this.style.pickLineWidth=null==this[_0x4b1c("0x23")][_0x4b1c("0xf92")]?5:this.style.pickLineWidth,this[_0x4b1c("0x23")][_0x4b1c("0xa53")]=null==this[_0x4b1c("0x23")].updateSize||c[_0x4b1c("0xa53")],this[_0x4b1c("0x23")][_0x4b1c("0x13eb")]=!this[_0x4b1c("0x23")][_0x4b1c("0x1")]("updateReapeat")||this.style[_0x4b1c("0x13eb")],this[_0x4b1c("0x23")][_0x4b1c("0x13ec")]=null==this[_0x4b1c("0x23")][_0x4b1c("0x13ec")]?23:this[_0x4b1c("0x23")][_0x4b1c("0x13ec")],this.style[_0x4b1c("0x28")]=this.style[_0x4b1c("0x28")]||0,this[_0x4b1c("0x23")][_0x4b1c("0x13ed")]=this[_0x4b1c("0x23")][_0x4b1c("0x13ed")]||0,this.shaderConfigs={splitAlpha:null,splitGray:null},this[_0x4b1c("0x13ee")]=!1;var f;if(o[_0x4b1c("0x147")]=o[_0x4b1c("0x1")]("color")?o[_0x4b1c("0x147")]:16711680,(0,a[_0x4b1c("0xc")])(o.color)===_0x4b1c("0x18f"))o[_0x4b1c("0x147")]=this._colorToStr(o[_0x4b1c("0x147")]);o[_0x4b1c("0xb63")]||(o[_0x4b1c("0xb63")]={size:2,gap:1}),o.type=_0x4b1c("0x140"),o[_0x4b1c("0x15e")]=esmap[_0x4b1c("0x13ef")][_0x4b1c("0x13f0")],"arrow"!=o[_0x4b1c("0x190")]&&_0x4b1c("0x61b")!=o.lineType||(o[_0x4b1c("0x78")]=o.lineType,o[_0x4b1c("0x15e")]=esmap[_0x4b1c("0x13ef")][_0x4b1c("0x13f1")]),o.dashArray=o[_0x4b1c("0x154")]||o.lineType&&this.getDashArrayByLineType(o.lineType)||[o[_0x4b1c("0xb63")].size,o[_0x4b1c("0xb63")][_0x4b1c("0xb64")]],o[_0x4b1c("0x15f")]=(0,n[_0x4b1c("0x1a2")])(o,_0x4b1c("0x15f"),"linewidth",8),o[_0x4b1c("0x166")]=(0,n.getValues)(o,_0x4b1c("0x166"),0),o[_0x4b1c("0x154")]&&(this.textureLength=o[_0x4b1c("0x154")][_0x4b1c("0x121")]((function(x,c){return x+c}))),f=this[_0x4b1c("0x155")];var l,d=JSON.parse((0,i[_0x4b1c("0xc")])(o));delete d[_0x4b1c("0x1a3")],this.naviMap=new(esmap[_0x4b1c("0x639")])(d),l=this[_0x4b1c("0x23")].url?(new THREE.TextureLoader)[_0x4b1c("0x187")](this.style[_0x4b1c("0x4e")]):new(THREE[_0x4b1c("0x35e")])(this[_0x4b1c("0xada")][_0x4b1c("0x588")]),this.style[_0x4b1c("0x13ed")]&&(l[_0x4b1c("0x158")].y=this.style[_0x4b1c("0x13ed")]||0),o.lineType==esmap[_0x4b1c("0xa4d")][_0x4b1c("0x13f2")]?l[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x18b")]:l[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x561")],this.style[_0x4b1c("0x4e")]||(l[_0x4b1c("0x188")]=!0);var u=o[_0x4b1c("0x166")]?o[_0x4b1c("0x15f")]/2:o.lineWidth/16;this[_0x4b1c("0x68f")]=u;var h=o.up||b.up;this[_0x4b1c("0x13f3")]=h,this.nocenter=b.notCenter||c.notCenter,this[_0x4b1c("0x15e")]=o.lineMode,this[_0x4b1c("0x126a")]=0;var g=s[0][_0x4b1c("0x8f9")](s[s.length-1]),v=new(esmap[_0x4b1c("0x13f4")])({closed:g,radius:u,pathVertices:s,uvBaseLen:f,segments:c.segments||12,up:h,notCenter:this[_0x4b1c("0x13f5")],lineMode:o[_0x4b1c("0x15e")],yScale:o[_0x4b1c("0x1221")],smooth:o[_0x4b1c("0xa45")],billboard:o[_0x4b1c("0x1222")]});this[_0x4b1c("0x0")]=v.length||0,l[_0x4b1c("0x8a7")]=l[_0x4b1c("0x18c")]=THREE.RepeatWrapping,this[_0x4b1c("0x13f6")]=Math.ceil(v[_0x4b1c("0x0")]/v[_0x4b1c("0x13f7")]),isNaN(this[_0x4b1c("0x13f6")])?l[_0x4b1c("0x157")].x=1:l[_0x4b1c("0x157")].x=this.baseRepeatX,l.repeat.y=1,this[_0x4b1c("0x23")][_0x4b1c("0x4e")]||(l[_0x4b1c("0x188")]=!0);var p=new THREE.MeshBasicMaterial;p[_0x4b1c("0x145")]=!0,p[_0x4b1c("0x129")]=null==o[_0x4b1c("0x129")]?1:o[_0x4b1c("0x129")],p.map=l,p.needsUpdate=!0,p[_0x4b1c("0x191")]=!1,this[_0x4b1c("0x191")]=!1,p[_0x4b1c("0x16f")]=!0,o.seeThrough&&(p[_0x4b1c("0x16d")]=!1),o[_0x4b1c("0x13f8")]&&(p[_0x4b1c("0x16f")]=!1),this[_0x4b1c("0x23")][_0x4b1c("0x4e")]&&(p[_0x4b1c("0x147")]=(new(THREE[_0x4b1c("0x146")]))[_0x4b1c("0x27c")](this[_0x4b1c("0x23")][_0x4b1c("0x147")]));var m=this;this[_0x4b1c("0x23")][_0x4b1c("0x190")]!==esmap[_0x4b1c("0xa4d")][_0x4b1c("0x10a8")]&&(p[_0x4b1c("0x471")]=function(x){x[_0x4b1c("0x148")][_0x4b1c("0x126a")]={value:0},x[_0x4b1c("0x148")].isSectionAlpha={value:!1},x[_0x4b1c("0x148")][_0x4b1c("0x13f9")]={value:!0},x[_0x4b1c("0x148")][_0x4b1c("0x13fa")]={value:0},x[_0x4b1c("0x148")][_0x4b1c("0x13fb")]={value:0},x.vertexShader=x[_0x4b1c("0x14a")][_0x4b1c("0x14c")](_0x4b1c("0x13fc"),_0x4b1c("0x13fd")),x[_0x4b1c("0x14a")]=x.vertexShader[_0x4b1c("0x14c")](_0x4b1c("0x14d"),_0x4b1c("0x13fe")),x.fragmentShader=x.fragmentShader[_0x4b1c("0x14c")](_0x4b1c("0x13ff"),_0x4b1c("0x1400")),x[_0x4b1c("0x150")]=x[_0x4b1c("0x150")][_0x4b1c("0x14c")](_0x4b1c("0x151"),"   \n                    // #ifdef IS_SECTION_GRAY\n                    //     outgoingLight = changePassColor(outgoingLight, passPercent);\n                    // #endif\n                    if(isSectionGray){\n                        outgoingLight = changePassColor(outgoingLight, passPercent);\n                    }\n    \n                    float resultAlpha = diffuseColor.a;\n                    // #ifdef IS_SECTION_ALPHA\n                    //     // resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    //     resultAlpha = 0.0;\n                    // #endif\n                    if(isSectionAlpha){\n                        resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    }\n                    \n                    gl_FragColor = vec4( outgoingLight, resultAlpha );\n                    "),m[_0x4b1c("0x153")]=x}),THREE[_0x4b1c("0x197")][_0x4b1c("0x2")](this,v,p),this[_0x4b1c("0x105")][_0x4b1c("0x20b")](v.center),this.renderOrder=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x173")],this[_0x4b1c("0x1401")](),this[_0x4b1c("0x37")](_0x4b1c("0x228"),this[_0x4b1c("0xf3")]),this._update=this.update[_0x4b1c("0xe")](this),this[_0x4b1c("0xf4")][_0x4b1c("0x15b")]=o[_0x4b1c("0x1402")]?THREE[_0x4b1c("0x15c")]:THREE[_0x4b1c("0x844")],this[_0x4b1c("0x3e")].on(_0x4b1c("0x164"),this[_0x4b1c("0x10a4")]),this[_0x4b1c("0x1403")]=this.visibleFloorNumsChanged[_0x4b1c("0xe")](this);var A=this[_0x4b1c("0x3e")].getBuildingById(this.bid);if(A)if(o[_0x4b1c("0x135")]&&(this[_0x4b1c("0x3e")].on("visibleFloorNumsChanged",this[_0x4b1c("0x1403")]),A.visibleFloorNums.indexOf(this.fnum)<0&&(this[_0x4b1c("0x191")]=!1)),this.baseFloorHeight=A.getFloorHeight(this[_0x4b1c("0x12e")]),this.building=A,this[_0x4b1c("0x23")][_0x4b1c("0x230")]){var y=this.points[0][_0x4b1c("0x12b")],C=this[_0x4b1c("0x12c")][1][_0x4b1c("0x12b")],I=this[_0x4b1c("0x3e")][_0x4b1c("0x136")](y),E=this[_0x4b1c("0x3e")].getBuildingById(C);I&&I.on(_0x4b1c("0x139"),(function(x){var c=x.fnum,b=x[_0x4b1c("0x13a")];c==e[_0x4b1c("0x12c")][0].fnum&&(e.points[0].y=b),e[_0x4b1c("0x138")](e[_0x4b1c("0x12c")])})),E&&E.on(_0x4b1c("0x139"),(function(x){var c=x[_0x4b1c("0x12e")],b=x.value;c==e.points[1].fnum&&(e[_0x4b1c("0x12c")][1].y=b),e[_0x4b1c("0x138")](e.points)}))}else A.on(_0x4b1c("0x139"),(function(x){var c=x.fnum,b=x[_0x4b1c("0x13a")]-e[_0x4b1c("0x1405")];c==e.fnum&&(e[_0x4b1c("0x105")].y=e[_0x4b1c("0x165")][_0x4b1c("0xa43")]+b)}));else r[_0x4b1c("0x30")][_0x4b1c("0x31")]({msg:_0x4b1c("0x1404")+this[_0x4b1c("0x12b")],level:_0x4b1c("0xe3")});var w=new(THREE[_0x4b1c("0x197")])(this.geometry,this[_0x4b1c("0xf4")]);w[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")][_0x4b1c("0x1406")],this.add(w),this.transparentObj=w,this[_0x4b1c("0x3e")][_0x4b1c("0x3b")]===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]&&(w[_0x4b1c("0x172")]+=1)};o[_0x4b1c("0xf")]=(0,t[_0x4b1c("0xc")])(THREE[_0x4b1c("0x197")].prototype,{height:{get:function(){return this[_0x4b1c("0x105")].y},set:function(x){this[_0x4b1c("0x105")].y=x}},color:{get:function(){return this.style[_0x4b1c("0x147")]},set:function(x){"number"==typeof x&&(x=this[_0x4b1c("0x185")](x)),this[_0x4b1c("0xada")][_0x4b1c("0x164")]({color:x}),this[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x316")]&&(this[_0x4b1c("0xf4")][_0x4b1c("0x3e")].needsUpdate=!0)}},lineStyle:{get:function(){return this[_0x4b1c("0x23")]},set:function(x){this[_0x4b1c("0x18e")](x)}},alpha:{get:function(){return this.material.opacity},set:function(x){this.material[_0x4b1c("0x129")]=x}},lineWidth:{get:function(){return this[_0x4b1c("0x23")][_0x4b1c("0x15f")]},set:function(x){this[_0x4b1c("0x18e")]({lineWidth:x})}}}),(0,e[_0x4b1c("0xc")])(o[_0x4b1c("0xf")],{updateGeometry:function(x){var c=this[_0x4b1c("0x68f")];if(this[_0x4b1c("0xf1")][0]){c=this.geometry.radius,this.children[0][_0x4b1c("0xf2")].dispose(),this[_0x4b1c("0xf1")][0][_0x4b1c("0xf2")][_0x4b1c("0xe02")]=[],this.children[0][_0x4b1c("0xf2")][_0x4b1c("0x10d0")]=!0,this[_0x4b1c("0xf1")][0][_0x4b1c("0xf2")].groupsNeedUpdate=!0,this[_0x4b1c("0xf2")][_0x4b1c("0xf3")](),this.geometry[_0x4b1c("0xe02")]=[],this.geometry[_0x4b1c("0x10d0")]=!0,this.fnum=x[0][_0x4b1c("0x12e")];var b=this.style,_=x[_0x4b1c("0x3e")]((function(x){var c=x[_0x4b1c("0x13e")]();return c[_0x4b1c("0x12e")]=x[_0x4b1c("0x12e")],c.bid=x[_0x4b1c("0x12b")],c})),e=_[0][_0x4b1c("0x8f9")](_[_.length-1]),t=new(esmap[_0x4b1c("0x13f4")])({closed:e,radius:c,pathVertices:_,uvBaseLen:this.textureLength,segments:b[_0x4b1c("0x69c")]||12,up:this[_0x4b1c("0x13f3")],notCenter:this[_0x4b1c("0x13f5")],lineMode:this[_0x4b1c("0x15e")],yScale:b[_0x4b1c("0x1221")],smooth:b.smooth,billboard:b.billboard});this[_0x4b1c("0x0")]=t.length,this[_0x4b1c("0x13f6")]=Math.ceil(t[_0x4b1c("0x0")]/t[_0x4b1c("0x13f7")]),this[_0x4b1c("0xf2")]=t,this[_0x4b1c("0xf2")][_0x4b1c("0x10d0")]=!0,this[_0x4b1c("0xf2")][_0x4b1c("0x10c1")]=!0,this[_0x4b1c("0xf1")][0][_0x4b1c("0xf2")]=this[_0x4b1c("0xf2")],this[_0x4b1c("0xf1")][0][_0x4b1c("0xf2")].verticesNeedUpdate=!0,this[_0x4b1c("0xf1")][0][_0x4b1c("0xf2")][_0x4b1c("0x10c1")]=!0,this.position[_0x4b1c("0x20b")](t[_0x4b1c("0x12d")]),this[_0x4b1c("0x105")].y+=b[_0x4b1c("0x28")],this[_0x4b1c("0x164")](0)}},_colorToStr:function(x){if(_0x4b1c("0x18f")==typeof x){for(var c=x[_0x4b1c("0x2f")](16);c.length<6;)c="0"+c;return"#"+c}return x},getDashArrayByLineType:function(x){if(x instanceof Array)return x;switch(x){case esmap[_0x4b1c("0xa4d")][_0x4b1c("0x10a8")]:return[1,0];case esmap.ESLineType[_0x4b1c("0xa4e")]:return[1,1];case esmap.ESLineType[_0x4b1c("0x1407")]:return[2.5,1,.5,1];case esmap[_0x4b1c("0xa4d")][_0x4b1c("0x1408")]:return[3,1,1.5,1];case esmap.ESLineType[_0x4b1c("0x1409")]:return[2,1];case esmap.ESLineType[_0x4b1c("0x140a")]:return[2.5,.5,.5,.5,.5,.5];case esmap[_0x4b1c("0xa4d")].TRI_DOT_DASH:return[2.5,.5,.5,.5,.5,.5,.5,.5];case esmap.ESLineType[_0x4b1c("0x140b")]:return[5,0];case esmap[_0x4b1c("0xa4d")].ESARROW:return[7,0]}},visibleFloorNumsChanged:function(x){var c=x[_0x4b1c("0x12b")],b=x.fnums;if(c==this.bid){var _=this.fnum,e=!0;_0x4b1c("0x18f")==typeof _?-1==b[_0x4b1c("0x114")](_)&&(e=!1):_ instanceof Array&&_[_0x4b1c("0x1c")]((function(x){-1==b.indexOf(x)&&(e=!1)})),this[_0x4b1c("0x191")]=e}},updateStyle:function(x){x.color&&_0x4b1c("0x18f")==typeof x[_0x4b1c("0x147")]&&(x[_0x4b1c("0x147")]=this[_0x4b1c("0x185")](x.color)),(0,e[_0x4b1c("0xc")])(this[_0x4b1c("0x23")],x),this[_0x4b1c("0x23")][_0x4b1c("0x78")]=_0x4b1c("0x140"),_0x4b1c("0x16a")!=this[_0x4b1c("0x23")][_0x4b1c("0x190")]&&"esarrow"!=this[_0x4b1c("0x23")][_0x4b1c("0x190")]||(this[_0x4b1c("0x23")][_0x4b1c("0x78")]=this[_0x4b1c("0x23")].lineType),x[_0x4b1c("0x190")]&&!x.dashArray&&(this[_0x4b1c("0x23")].dashArray=this.getDashArrayByLineType(x.lineType)),delete this.style[_0x4b1c("0x1a3")],this.naviMap[_0x4b1c("0x164")](this.style),this[_0x4b1c("0x1401")](),this[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x316")]&&(this.material[_0x4b1c("0x3e")][_0x4b1c("0x188")]=!0,this[_0x4b1c("0x155")]=this[_0x4b1c("0x23")][_0x4b1c("0x154")][_0x4b1c("0x121")]((function(x,c){return x+c})),this.brothers&&this.brothers[_0x4b1c("0x0")]>0&&this[_0x4b1c("0x469")][_0x4b1c("0x1c")]((function(c){c[_0x4b1c("0x18e")](x)})))},_updateMaterialByNaviMap:function(){if(!this[_0x4b1c("0x23")].url){var x=this[_0x4b1c("0xada")][_0x4b1c("0x140c")];this[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x158")].y=x[_0x4b1c("0x158")],this[_0x4b1c("0xf4")][_0x4b1c("0x15b")]=(0,n.getValues)(x,_0x4b1c("0x15b"),0)}},_firstUpdate:!0,update:function(x){if(this[_0x4b1c("0xf4")]&&this[_0x4b1c("0xf4")][_0x4b1c("0x3e")]){this.map.options.naviLineAnimation&&!this[_0x4b1c("0x23")][_0x4b1c("0x17c")]&&(this[_0x4b1c("0xf4")][_0x4b1c("0x3e")].offset.x-=x*(this[_0x4b1c("0x23")][_0x4b1c("0xb63")][_0x4b1c("0x2d8")]||this[_0x4b1c("0x23")].animateSpeed||1));var c,b=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")];b[_0x4b1c("0x658")],this.ind_;this[_0x4b1c("0xf4")]&&this[_0x4b1c("0xf4")][_0x4b1c("0x3e")]&&(this[_0x4b1c("0x153")]&&this[_0x4b1c("0xf2")][_0x4b1c("0x0")]>0&&(this.shaderNeedUpdate&&(this[_0x4b1c("0x13e4")][_0x4b1c("0x13e3")]?(this[_0x4b1c("0x153")].uniforms.isSectionAlpha[_0x4b1c("0x13a")]=!0,this[_0x4b1c("0x153")][_0x4b1c("0x148")][_0x4b1c("0x13fa")].value=this[_0x4b1c("0x13e4")][_0x4b1c("0x13e3")].alpha,this[_0x4b1c("0x153")][_0x4b1c("0x148")][_0x4b1c("0x13fb")].value=this[_0x4b1c("0x13e4")].splitAlpha[_0x4b1c("0x140d")]?1:0):this[_0x4b1c("0x13e4")][_0x4b1c("0x140e")],this[_0x4b1c("0x13e5")]=!1),this.lineMaterialShader[_0x4b1c("0x148")][_0x4b1c("0x126a")].value=this[_0x4b1c("0x126a")]),this[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x316")]&&(this[_0x4b1c("0xf4")].map[_0x4b1c("0x188")]=!0),this[_0x4b1c("0xf4")].needsUpdate=!0),c=esmap[_0x4b1c("0x87")].getSpriteScale(this[_0x4b1c("0x3e")]),this[_0x4b1c("0x23")][_0x4b1c("0xa53")]&&0!=b.h_&&(this.fixedWidth&&this[_0x4b1c("0xf2")].setRadius(c*this[_0x4b1c("0x23")][_0x4b1c("0x15f")]*.7),this._billboard(),this[_0x4b1c("0x13ee")]||(this[_0x4b1c("0x13ee")]=!0,this.material[_0x4b1c("0x3e")][_0x4b1c("0x157")].x=this[_0x4b1c("0xf2")][_0x4b1c("0x0")]*this[_0x4b1c("0x23")][_0x4b1c("0x157")]/(this[_0x4b1c("0x155")]*c*7*1)),this.material&&this[_0x4b1c("0x3e")][_0x4b1c("0x31d")]<=this[_0x4b1c("0x23")][_0x4b1c("0x13ec")]&&this[_0x4b1c("0x23")][_0x4b1c("0x13eb")]&&(this[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0x157")].x=this.geometry[_0x4b1c("0x0")]*this[_0x4b1c("0x23")].repeat/(this[_0x4b1c("0x155")]*c*7*1)))}},_upVec:new(THREE[_0x4b1c("0x128")])(0,1,0),_zVec:new(THREE[_0x4b1c("0x128")])(0,0,1),_billboard:function(){if(this[_0x4b1c("0x23")][_0x4b1c("0x1222")]&&2==this[_0x4b1c("0xf2")][_0x4b1c("0x140f")][_0x4b1c("0x0")]){var x=this[_0x4b1c("0xf2")][_0x4b1c("0x140f")],c=x[1][_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](x[0])[_0x4b1c("0x301")](),b=c[_0x4b1c("0x902")](this[_0x4b1c("0x1410")]),e=(0,_.default)(b)*this.map.controls.constraint[_0x4b1c("0x2ce")]();this[_0x4b1c("0x20a")][_0x4b1c("0x208")](c,e)}},alwaysShow:esmap[_0x4b1c("0x277")][_0x4b1c("0x30e")],picked:function(){},dispose:function(){this[_0x4b1c("0x469")]&&this[_0x4b1c("0x469")].length>0&&this[_0x4b1c("0x469")][_0x4b1c("0x1c")]((function(x){x[_0x4b1c("0xf3")]()})),this[_0x4b1c("0x3e")][_0x4b1c("0x6b")](_0x4b1c("0x164"),this[_0x4b1c("0x10a4")]),this.map.off("visibleFloorNumsChanged",this[_0x4b1c("0x1403")]),this[_0x4b1c("0x108")]&&this[_0x4b1c("0x108")].remove(this),this[_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0x194")](this[_0x4b1c("0x195")]),this[_0x4b1c("0x1411")]=null;var x=this[_0x4b1c("0xf1")][0];x&&(x[_0x4b1c("0xf4")]&&(x[_0x4b1c("0xf4")][_0x4b1c("0x3e")]&&(x[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0xf3")](),x[_0x4b1c("0xf4")].map=null),x.material.dispose(),x[_0x4b1c("0xf4")]=void 0),x.geometry&&(x.geometry[_0x4b1c("0xf3")](),x.geometry=void 0),this[_0x4b1c("0xf1")][0]=null),this[_0x4b1c("0xf2")]&&(this[_0x4b1c("0xf2")].dispose(),this[_0x4b1c("0xf2")]=void 0),this[_0x4b1c("0xf4")]&&(this.material[_0x4b1c("0x3e")]&&(this[_0x4b1c("0xf4")][_0x4b1c("0x3e")][_0x4b1c("0xf3")](),this[_0x4b1c("0xf4")][_0x4b1c("0x3e")]=null),this.material[_0x4b1c("0xf3")](),this[_0x4b1c("0xf4")]=void 0)}}),c[_0x4b1c("0xc")]=o},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _,e=b(2),t=(_=e)&&_.__esModule?_:{default:_},i=b(19);var a=function(x){(0,t[_0x4b1c("0xc")])(this,{type:"normal",width:128,height:128,color:_0x4b1c("0x1412"),arrowHeightPercent:.4,arrowWidthPercent:.7,arrowPercent:.1,lineType:null,dashArray:[2,1],godHeightPercent:.5,godEdgePercent:.2,godArrowPercent:.3,godColor:_0x4b1c("0x11f3"),godEdgeColor:_0x4b1c("0x1413"),godArrowColor:_0x4b1c("0x1414"),godArrowXScale:.6,godArrowWidthPercent:.07},x),this[_0x4b1c("0x140c")]={offset:0},this[_0x4b1c("0x995")]=document.createElement(_0x4b1c("0x588"))[_0x4b1c("0x332")]("2d"),this[_0x4b1c("0x164")]()};a[_0x4b1c("0xf")]={constructor:a,get canvas(){return this[_0x4b1c("0x995")][_0x4b1c("0x588")]},update:function(x){var c=this;switch((0,t[_0x4b1c("0xc")])(c,x),c[_0x4b1c("0x1415")](),c[_0x4b1c("0x995")][_0x4b1c("0x588")][_0x4b1c("0x1c9")]=c[_0x4b1c("0x1c9")],c[_0x4b1c("0x995")][_0x4b1c("0x588")][_0x4b1c("0x1a3")]=c.height,c[_0x4b1c("0x78")]){case _0x4b1c("0x140"):c[_0x4b1c("0x1416")]();break;case _0x4b1c("0x16a"):c[_0x4b1c("0x1417")]();break;case _0x4b1c("0x61b"):c[_0x4b1c("0x1418")]()}},_doColor:function(){var x=this;[_0x4b1c("0x147"),_0x4b1c("0x1419"),_0x4b1c("0x141a"),"godArrowColor"][_0x4b1c("0x1c")]((function(c){_0x4b1c("0x18f")==typeof x[c]&&(x[c]=esmap[_0x4b1c("0x638")][_0x4b1c("0xf")][_0x4b1c("0x185")](x[c]))}))},_setMaterialInfo:function(){this[_0x4b1c("0x140c")][_0x4b1c("0x158")]=(0,i.getValues)(arguments,0,0),this[_0x4b1c("0x140c")][_0x4b1c("0x15b")]=(0,i[_0x4b1c("0x1a2")])(arguments,1,0)},_drawNormal:function(){var x=this,c=x[_0x4b1c("0x154")][_0x4b1c("0x121")]((function(x,c){return x+c})),b=0;x[_0x4b1c("0x154")][_0x4b1c("0x1c")]((function(_,e){e%2==0&&(x[_0x4b1c("0x995")][_0x4b1c("0x33e")]=x[_0x4b1c("0x147")],x.ctx[_0x4b1c("0x9b0")](b/c*x.width,0,_/c*x[_0x4b1c("0x1c9")],x[_0x4b1c("0x1a3")])),b+=_})),x[_0x4b1c("0x141b")](0)},_drawArrow:function(){var x=this,c=(1-x[_0x4b1c("0x141c")])*x[_0x4b1c("0x1a3")]/2,b=x[_0x4b1c("0x1a3")]*x[_0x4b1c("0x141c")];x[_0x4b1c("0x995")][_0x4b1c("0x34b")](),x[_0x4b1c("0x995")][_0x4b1c("0x325")](0,c);var _=x.width*(x[_0x4b1c("0x141d")]-x[_0x4b1c("0x141e")]);x.ctx[_0x4b1c("0x54e")](_,c),x[_0x4b1c("0x995")][_0x4b1c("0x54e")](x.width*x.arrowWidthPercent,c+b/2),x[_0x4b1c("0x995")][_0x4b1c("0x54e")](_,c+b),x.ctx.lineTo(0,c+b),x[_0x4b1c("0x995")][_0x4b1c("0x54e")](x[_0x4b1c("0x1c9")]*x[_0x4b1c("0x141e")],c+b/2),x[_0x4b1c("0x995")][_0x4b1c("0x99b")](),x[_0x4b1c("0x995")][_0x4b1c("0x33e")]=x.color,x[_0x4b1c("0x995")].fill(),x[_0x4b1c("0x141b")](-.25,2)},_drawGodArrow:function(){var x=this;x[_0x4b1c("0x995")][_0x4b1c("0x33e")]=x[_0x4b1c("0x141a")],x.ctx.fillRect(0,(1-x[_0x4b1c("0x141f")])*x[_0x4b1c("0x1a3")]/2,x[_0x4b1c("0x1c9")],x.godHeightPercent*x[_0x4b1c("0x1a3")]),x[_0x4b1c("0x995")][_0x4b1c("0x33e")]=x[_0x4b1c("0x147")];var c=(1-x[_0x4b1c("0x141f")]+x[_0x4b1c("0x1420")])*x.height/2,b=(x[_0x4b1c("0x141f")]-x[_0x4b1c("0x1420")])*x[_0x4b1c("0x1a3")];x.ctx[_0x4b1c("0x9b0")](0,c,x[_0x4b1c("0x1c9")],b),x[_0x4b1c("0x995")][_0x4b1c("0x33e")]=_0x4b1c("0x1421"),x[_0x4b1c("0x995")][_0x4b1c("0x342")]=-2,x[_0x4b1c("0x995")][_0x4b1c("0x343")]=2,x[_0x4b1c("0x995")][_0x4b1c("0x340")]=4,x[_0x4b1c("0x995")][_0x4b1c("0x341")]=_0x4b1c("0x1422");var _=x[_0x4b1c("0x1c9")]/2,e=x.height/2,t=x.width*x[_0x4b1c("0x1423")],i=x[_0x4b1c("0x1c9")]*x[_0x4b1c("0x1424")],a=x[_0x4b1c("0x1c9")]*(x[_0x4b1c("0x1423")]-x[_0x4b1c("0x1424")])*x[_0x4b1c("0x1425")],n=_-t/2*x[_0x4b1c("0x1425")],r=e-t/2;x[_0x4b1c("0x995")].beginPath(),x.ctx[_0x4b1c("0x325")](n,r),x[_0x4b1c("0x995")][_0x4b1c("0x54e")](n+i,r),x[_0x4b1c("0x995")][_0x4b1c("0x54e")](n+i+a,r+t/2),x[_0x4b1c("0x995")][_0x4b1c("0x54e")](n+i,r+t),x[_0x4b1c("0x995")].lineTo(n,r+t),x[_0x4b1c("0x995")][_0x4b1c("0x54e")](n+a,r+t/2),x[_0x4b1c("0x995")][_0x4b1c("0x99b")](),x[_0x4b1c("0x995")][_0x4b1c("0x33e")]=x.godArrowColor,x[_0x4b1c("0x995")].fill(),x[_0x4b1c("0x141b")](-.25,2)}},c[_0x4b1c("0xc")]=a},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=s(b(2)),e=s(b(5)),t=s(b(0)),i=s(b(1)),a=s(b(10)),n=s(b(11)),r=b(19);function s(x){return x&&x.__esModule?x:{default:x}}function o(x){for(var c,b=x.closed,_=[],e=2*Math.PI/x[_0x4b1c("0x69c")],t=0;t<x.segments;t++){var i=new(THREE[_0x4b1c("0x128")])(0,x[_0x4b1c("0x68f")]*x[_0x4b1c("0x1221")]*Math[_0x4b1c("0x65d")](e*t),x[_0x4b1c("0x68f")]*Math[_0x4b1c("0x6b9")](e*t));_[_0x4b1c("0x12")](i),0==t&&(c=i)}_[_0x4b1c("0x12")](c);var a,n,r,s,o=x[_0x4b1c("0x140f")][_0x4b1c("0x0")],l=function(x){for(var c=0,b=x[0][_0x4b1c("0x13e")](),_=1;_<x.length;_++)c+=x[_][_0x4b1c("0x124")](x[_-1]),b[_0x4b1c("0xdd")](x[_]);return{length:c,center:b[_0x4b1c("0x125")](x[_0x4b1c("0x0")])}}(x[_0x4b1c("0x140f")]);x[_0x4b1c("0x0")]=l[_0x4b1c("0x0")],x[_0x4b1c("0x12d")]=l[_0x4b1c("0x12d")],x.notCenter||function(x,c){x.forEach((function(x){x[_0x4b1c("0x6a0")](c)}))}(x[_0x4b1c("0x140f")],x[_0x4b1c("0x12d")]),x[_0x4b1c("0x1426")]=2*Math.PI*x.radius;var u,h=0,g=0,v=x[_0x4b1c("0x1426")]/x.segments;x[_0x4b1c("0x1427")]=[],d=x.up[_0x4b1c("0x13e")](),x[_0x4b1c("0x1428")]=null;for(t=0;t<o;t++){var p=t;a=0==t?null:x[_0x4b1c("0x140f")][t-1],r=t==o-1?null:x[_0x4b1c("0x140f")][t+1],n=x[_0x4b1c("0x140f")][t],b&&(r=t==o-1?x[_0x4b1c("0x140f")][1]:r),s=f(a,n,r),x[_0x4b1c("0x1428")]||(x[_0x4b1c("0x1428")]=new(THREE[_0x4b1c("0x128")])(0,1,0)[_0x4b1c("0x22f")](s)[_0x4b1c("0x301")]()),t>0&&(h+=n.distanceTo(a)),g=0,x._rings[p]=[],n[_0x4b1c("0x13e")]().y=0;for(var m=0;m<_[_0x4b1c("0x0")];m++){u=_[m][_0x4b1c("0x13e")]().applyMatrix4(s),x[_0x4b1c("0xe02")].push(u),x[_0x4b1c("0x1429")][p][_0x4b1c("0x12")](u);var A=(h+0)/x[_0x4b1c("0x0")],y=1-g/x[_0x4b1c("0x1426")],C=Math[_0x4b1c("0x2f5")](A,y);C>x[_0x4b1c("0x149")]&&(x[_0x4b1c("0x149")]=C),x._uvs[_0x4b1c("0x12")](new(THREE[_0x4b1c("0x552")])(A,y)),g+=v}}}function f(x,c,b){var _,e=x&&x[_0x4b1c("0x13e")](),t=c.clone(),i=b&&b[_0x4b1c("0x13e")](),a=1,n=null;if(x)if(b){var r=t.clone()[_0x4b1c("0x6a0")](e)[_0x4b1c("0x301")](),s=i[_0x4b1c("0x6a0")](t)[_0x4b1c("0x301")]();n=r.angleTo(s)/2,a=1/Math[_0x4b1c("0x6b9")](n),a=THREE[_0x4b1c("0x215")][_0x4b1c("0x97b")](a,1,2),_=r.add(s)[_0x4b1c("0x301")]()}else _=t.sub(e)[_0x4b1c("0x301")]();else _=i[_0x4b1c("0x6a0")](t)[_0x4b1c("0x301")]();var o=new(THREE[_0x4b1c("0x128")])(0,0,1),f=d[_0x4b1c("0x13e")](),l=(new(THREE[_0x4b1c("0x128")]))[_0x4b1c("0x8ff")](_,f)[_0x4b1c("0x301")]();0==l.length()&&(f=o,l=(new(THREE[_0x4b1c("0x128")]))[_0x4b1c("0x8ff")](_,f).normalize());var u=(new(THREE[_0x4b1c("0x128")])).crossVectors(l,_)[_0x4b1c("0x301")]();d=u[_0x4b1c("0x13e")](),l[_0x4b1c("0x253")](a);var h=(new(THREE[_0x4b1c("0x240")]))[_0x4b1c("0x142c")](_,u,l)[_0x4b1c("0x22e")](c);return h.angle=n,h.vz=l,h}var l=function(x){!x[_0x4b1c("0x140f")]||x[_0x4b1c("0x140f")].length<2||(o(x),function(x){var c=x[_0x4b1c("0x133e")],b=1;c&&(b=2);for(var _,e=x[_0x4b1c("0x140f")].length,t=x[_0x4b1c("0x69c")]+1,i=0;i<e-b;i++){_=i*t;for(var a=0;a<t-1;a++)x[_0x4b1c("0x10be")].push(new(THREE[_0x4b1c("0x142a")])(_+a+1,_+a,_+t+a)),x.faces.push(new THREE.Face3(_+a+1,_+a+t,_+t+a+1))}if(c)for(var n=0;n<t-1;n++){var r=(e-2)*t;x[_0x4b1c("0x10be")][_0x4b1c("0x12")](new(THREE[_0x4b1c("0x142a")])(r+n+1,r+n,n)),x[_0x4b1c("0x10be")][_0x4b1c("0x12")](new(THREE[_0x4b1c("0x142a")])(r+n+1,n,n+1))}}(x),function(x){for(var c=x[_0x4b1c("0x10be")][_0x4b1c("0x0")],b=0;b<c;b++){var _=x[_0x4b1c("0x10be")][b];x[_0x4b1c("0x10bf")][0][_0x4b1c("0x12")]([x[_0x4b1c("0x1427")][_.a],x[_0x4b1c("0x1427")][_.b],x[_0x4b1c("0x1427")][_.c]])}x[_0x4b1c("0x142b")]=!0}(x),x.computeFaceNormals())},d=null,u=function(x){function c(x){(0,t.default)(this,c);var b=(0,a[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,e[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this)),i=b;return i[_0x4b1c("0x140f")]=null,i[_0x4b1c("0x149")]=0,i[_0x4b1c("0x68f")]=1,i[_0x4b1c("0x69c")]=12,i[_0x4b1c("0x13f7")]=1,(0,_[_0x4b1c("0xc")])(i,x),i[_0x4b1c("0x133e")]=!1,i.yScale||(i.lineMode==esmap[_0x4b1c("0x13ef")][_0x4b1c("0x13f1")]?i[_0x4b1c("0x1221")]=.3:i[_0x4b1c("0x15e")]==esmap[_0x4b1c("0x13ef")][_0x4b1c("0x13f0")]&&(i.yScale=1)),i[_0x4b1c("0xa45")]=(0,r[_0x4b1c("0x1a2")])(i,"smooth",!0),i.up||(i.up=new(THREE[_0x4b1c("0x128")])(0,1,0)),b._uvs=[],b._rings=[],l(i),b}return(0,n[_0x4b1c("0xc")])(c,x),(0,i[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0xade"),value:function(x){for(var c,b=this[_0x4b1c("0x133e")],_=this,e=0,t=_[_0x4b1c("0x1429")],i=1,a=0;a<t.length;a++){var n=t[a],r=_[_0x4b1c("0x140f")][a];if(b&&(0===a?n=t[t[_0x4b1c("0x0")]-1]:a===t[_0x4b1c("0x0")]-1&&(n=t[0])),r)for(var s=0;s<n.length;s++){var o=n[s];0==s&&1!=_[_0x4b1c("0x1221")]&&(c=n[0][_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](r).length()),1!=_[_0x4b1c("0x1221")]&&(i=o[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](r)[_0x4b1c("0x0")]()/c);var f=r[_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](o.clone()[_0x4b1c("0x6a0")](r).normalize()[_0x4b1c("0x253")](x*i));_[_0x4b1c("0xe02")][e].copy(f),e++}}x<.1&&(x=.1),_[_0x4b1c("0x68f")]=x,_[_0x4b1c("0x10d0")]=!0,this[_0x4b1c("0x68f")]=x}}]),c}(THREE[_0x4b1c("0x142d")]);c[_0x4b1c("0xc")]=u},function(x,c,b){"use strict";Object.defineProperty(c,_0x4b1c("0xb"),{value:!0});var _=h(b(6)),e=h(b(2)),t=h(b(5)),i=h(b(0)),a=h(b(1)),n=h(b(10)),r=h(b(11)),s=b(19),o=function(x){if(x&&x.__esModule)return x;var c={};if(null!=x)for(var b in x)Object[_0x4b1c("0xf")][_0x4b1c("0x1")][_0x4b1c("0x2")](x,b)&&(c[b]=x[b]);return c[_0x4b1c("0xc")]=x,c}(b(392)),f=b(383),l=h(b(82)),d=b(83),u=b(4);function h(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var g=function(x){function c(x){(0,i[_0x4b1c("0xc")])(this,c);var b=(0,n[_0x4b1c("0xc")])(this,(c.__proto__||(0,t[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this,esmap[_0x4b1c("0x131")].CARD_MARKER,{},new(THREE[_0x4b1c("0x197")])));return b[_0x4b1c("0xa27")]=!1,b[_0x4b1c("0x142e")]=!1,b[_0x4b1c("0x39")](x),b}return(0,r[_0x4b1c("0xc")])(c,x),(0,a.default)(c,[{key:_0x4b1c("0x30c"),value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};isNaN(x)||(x={value:x});var c=x[_0x4b1c("0x13a")],b=null==x[_0x4b1c("0x1a5")]?1:x[_0x4b1c("0x1a5")];new(esmap.TWEEN[_0x4b1c("0x1a7")])(this[_0x4b1c("0xf0")][_0x4b1c("0x201")]).to({x:c,y:c},1e3*b)[_0x4b1c("0x1a8")](esmap[_0x4b1c("0x1a6")].Easing.Quadratic.Out)[_0x4b1c("0x1af")]()}},{key:_0x4b1c("0x142f"),value:function(){var x=this,c=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{quality:1,delay:0},b=this.options;setTimeout((function(){o[_0x4b1c("0x1430")](x[_0x4b1c("0x73f")],c)[_0x4b1c("0x323")]((function(x){var c=document[_0x4b1c("0x21")]("a"),_=(0,s[_0x4b1c("0x1a")])(x);document.createEvent(_0x4b1c("0xa66")).initEvent(_0x4b1c("0xa58"),!0,!0),c[_0x4b1c("0xa59")]=b.name,c[_0x4b1c("0x85")]=URL[_0x4b1c("0x89e")](_),c[_0x4b1c("0xa58")]()}))}),c[_0x4b1c("0x1a1")])}},{key:"updateImageStyle",value:function(x){var c=this,b=this[_0x4b1c("0x47")],t=b[_0x4b1c("0x331")];if(t){var i=(0,e[_0x4b1c("0xc")])({},t,x);this[_0x4b1c("0x47")].imageStyle=i,(0,d[_0x4b1c("0x156")])({image:b[_0x4b1c("0x4e")],text:b.text,textStyle:b[_0x4b1c("0xc44")],imageStyle:b.imageStyle})[_0x4b1c("0x323")]((function(x){var e=x.texture;(0,_[_0x4b1c("0xc")])(b[_0x4b1c("0xe0")])==_0x4b1c("0x1d")?c[_0x4b1c("0x1431")](e,{width:b[_0x4b1c("0xe0")].w,height:b[_0x4b1c("0xe0")].h}):c[_0x4b1c("0x1431")](e)}))}}},{key:"updateTextStyle",value:function(x){var c=this,b=this[_0x4b1c("0x47")],t=b[_0x4b1c("0xc44")];if(t){var i=(0,e[_0x4b1c("0xc")])({},t,x);this[_0x4b1c("0x47")].textStyle=i,(0,d.createTexture)({image:b[_0x4b1c("0x4e")],text:b[_0x4b1c("0x317")],textStyle:b.textStyle,imageStyle:b[_0x4b1c("0x331")]}).then((function(x){var e=x[_0x4b1c("0x61c")];(0,_.default)(b.size)==_0x4b1c("0x1d")?c[_0x4b1c("0x1431")](e,{width:b[_0x4b1c("0xe0")].w,height:b.size.h}):c[_0x4b1c("0x1431")](e)}))}}},{key:_0x4b1c("0x39"),value:function(x){var c=this,b=null,t=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")][_0x4b1c("0x3b")]==esmap[_0x4b1c("0x41")][_0x4b1c("0x1e2")]?20:12;for(var i in x)null==x[i]&&delete x[i];var a=(0,e[_0x4b1c("0xc")])({id:(0,s[_0x4b1c("0x1b")])(8),name:"cardMarker",url:null,dom:null,data:{},x:null,y:null,angle:null,videoStyle:{autoplay:!0,loop:!0,muted:!0},textStyle:null,imageStyle:null,center:{x:.5,y:0},text:"",template:null,opacity:1,lookAt:!0,pickable:!0,isUseMipmap:!1,showLevel:t},x),n=(0,u[_0x4b1c("0x1a2")])(x,_0x4b1c("0x12fb"),_0x4b1c("0x1432"),_0x4b1c("0x1b0"),null),r=(0,u[_0x4b1c("0x1a2")])(x,_0x4b1c("0x28"),"height",0),l=(0,u[_0x4b1c("0x1a2")])(x,_0x4b1c("0x201"),_0x4b1c("0xe0"),30);a[_0x4b1c("0xe0")]=l,a[_0x4b1c("0x1a3")]=r,a[_0x4b1c("0x1b0")]=n,this[_0x4b1c("0x47")]=a;var h=a[_0x4b1c("0x1e4")];if(this[_0x4b1c("0x1e4")]=h,a[_0x4b1c("0x4e")]||a[_0x4b1c("0x317")])if(a[_0x4b1c("0x4e")]){var g=(0,f.getMediaType)(a[_0x4b1c("0x4e")]);if(g===_0x4b1c("0x316"))(0,d[_0x4b1c("0x156")])({image:a.url,text:a.text,textStyle:a[_0x4b1c("0xc44")],imageStyle:a.imageStyle}).then((function(x){var b=x[_0x4b1c("0x61c")];"object"==(0,_.default)(a.size)?c[_0x4b1c("0x1431")](b,{width:a.size.w,height:a[_0x4b1c("0xe0")].h}):c[_0x4b1c("0x1431")](b)}));else if(g===_0x4b1c("0x1433")){var v=document.createElement(_0x4b1c("0x1433"));v[_0x4b1c("0x7bb")]=_0x4b1c("0x7b3"),v.src=a.url,v[_0x4b1c("0x1434")]=a[_0x4b1c("0x1435")][_0x4b1c("0x1434")],v.loop=a[_0x4b1c("0x1435")][_0x4b1c("0x28b")],v[_0x4b1c("0x1436")]=a[_0x4b1c("0x1435")][_0x4b1c("0x1436")],v[_0x4b1c("0x37")]("loadedmetadata",(function(x){var b=v[_0x4b1c("0x1437")],_=v[_0x4b1c("0x1438")],e=new(THREE[_0x4b1c("0x1439")])(v);e[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x35f")],e.magFilter=THREE[_0x4b1c("0x35f")],e[_0x4b1c("0x8a4")]=THREE[_0x4b1c("0x85c")],e[_0x4b1c("0x316")][_0x4b1c("0x1c9")]=b,e[_0x4b1c("0x316")][_0x4b1c("0x1a3")]=_,c[_0x4b1c("0x1431")](e,{width:b,height:_}),c[_0x4b1c("0x3e")].on("update",(function(){e[_0x4b1c("0x188")]=!0}));document[_0x4b1c("0x26")].addEventListener(_0x4b1c("0xa58"),(function x(){v[_0x4b1c("0x29b")](),document[_0x4b1c("0x26")][_0x4b1c("0x29e")](_0x4b1c("0xa58"),x)}))}))}else console[_0x4b1c("0xe3")](_0x4b1c("0x143a"))}else(0,d[_0x4b1c("0x156")])({image:null,text:a.text,textStyle:a[_0x4b1c("0xc44")]})[_0x4b1c("0x323")]((function(x){var b=x[_0x4b1c("0x61c")];c[_0x4b1c("0x1431")](b,{width:b.image[_0x4b1c("0x1c9")],height:b[_0x4b1c("0x316")][_0x4b1c("0x1a3")]},!0)}));else if(a[_0x4b1c("0xc4c")])setTimeout((function(){c[_0x4b1c("0x73f")]=a[_0x4b1c("0xc4c")],o[_0x4b1c("0x143b")](a.dom)[_0x4b1c("0x323")]((function(x){var b=new(THREE[_0x4b1c("0x35e")])(x);c[_0x4b1c("0x1431")](b)}))[_0x4b1c("0x87c")]((function(x){}))}),0);else if(a[_0x4b1c("0x143c")]){var p=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));p[_0x4b1c("0x23")][_0x4b1c("0x105")]=_0x4b1c("0x73d"),p.style.left=_0x4b1c("0x143d"),p[_0x4b1c("0x1338")]("beforeend",a[_0x4b1c("0x143c")]),document[_0x4b1c("0x26")][_0x4b1c("0x1d7")](p),b=p[_0x4b1c("0xf1")][0],setTimeout((function(){c[_0x4b1c("0x73f")]=b,o[_0x4b1c("0x143b")](b,{}).then((function(x){var b=new(THREE[_0x4b1c("0x35e")])(x);c[_0x4b1c("0x1431")](b)}))}),0)}}},{key:_0x4b1c("0x1431"),value:function(x,c,b){var e=!1;if(this.o3d_){if(!this[_0x4b1c("0xa27")]){e=!0;var t=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],i=this[_0x4b1c("0x47")],a=x[_0x4b1c("0x316")],n=i[_0x4b1c("0x12d")],r=c?c[_0x4b1c("0x1c9")]/c[_0x4b1c("0x1a3")]:a[_0x4b1c("0x1c9")]/a[_0x4b1c("0x1a3")],s=new(THREE[_0x4b1c("0x71c")])(1,1/r);c&&b&&(s=new(THREE[_0x4b1c("0x71c")])(c[_0x4b1c("0x1c9")]*i.size/100,c[_0x4b1c("0x1a3")]*i[_0x4b1c("0xe0")]/100)),s[_0x4b1c("0x180")](0,s[_0x4b1c("0x104")][_0x4b1c("0x105")][_0x4b1c("0x106")],0);var o=new THREE.MeshBasicMaterial({transparent:!0,side:2});o[_0x4b1c("0x129")]=i[_0x4b1c("0x129")];var f=this[_0x4b1c("0xf0")];if(f[_0x4b1c("0xf2")]=s,f[_0x4b1c("0xf4")]=o,f[_0x4b1c("0x172")]=esmap[_0x4b1c("0x1fd")].cardMarker,i[_0x4b1c("0x147")]&&f[_0x4b1c("0xf4")].color.setStyle(i[_0x4b1c("0x147")]),!i[_0x4b1c("0x143e")]){var l=(new(THREE[_0x4b1c("0x2eb")])).setFromObject(f),d=(l[_0x4b1c("0x2f5")].y-l[_0x4b1c("0x2f6")].y)*(.5-n.y),h=(l[_0x4b1c("0x2f5")].x-l[_0x4b1c("0x2f6")].x)*(.5-n.x);f[_0x4b1c("0xf2")][_0x4b1c("0x106c")](h,d,0)}if(null!=i[_0x4b1c("0x258")])if((0,_[_0x4b1c("0xc")])(i[_0x4b1c("0x258")])===_0x4b1c("0x1d")){var g={x:(0,u[_0x4b1c("0x1a2")])(i[_0x4b1c("0x258")],"x",0)*THREE.Math[_0x4b1c("0x660")],y:(0,u[_0x4b1c("0x1a2")])(i[_0x4b1c("0x258")],"z",180)*THREE[_0x4b1c("0x215")].DEG2RAD,z:(0,u[_0x4b1c("0x1a2")])(i[_0x4b1c("0x258")],"y",0)*THREE.Math.DEG2RAD},v=(new(THREE[_0x4b1c("0x204")]))[_0x4b1c("0x205")](new(THREE[_0x4b1c("0x206")])(g.x,g.y,g.z,_0x4b1c("0x207")));f.quaternion[_0x4b1c("0x20b")](v)}else f[_0x4b1c("0x202")].y=i[_0x4b1c("0x258")]*THREE.Math[_0x4b1c("0x660")];else i[_0x4b1c("0x241")]||(f[_0x4b1c("0x202")].y=Math.PI);var p=t[_0x4b1c("0x238")]({x:i.x,y:i.y});p.y=i[_0x4b1c("0x1a3")],f.position[_0x4b1c("0x20b")](p),f[_0x4b1c("0xef")]=this,f[_0x4b1c("0x130")]=_0x4b1c("0x10f1"),this[_0x4b1c("0x47")][_0x4b1c("0x1f4")]&&t.mapPicker[_0x4b1c("0x3ec")](f),b||("number"==typeof i[_0x4b1c("0xe0")]?f[_0x4b1c("0x201")][_0x4b1c("0xdb")](i[_0x4b1c("0xe0")],i.size,1):f.scale[_0x4b1c("0xdb")](i[_0x4b1c("0xe0")].w,i[_0x4b1c("0xe0")].w,1)),i[_0x4b1c("0x241")]&&t.on(_0x4b1c("0x164"),(function(){f[_0x4b1c("0x241")](t[_0x4b1c("0x26a")][_0x4b1c("0x105")])})),i[_0x4b1c("0x329")]&&this.float(i[_0x4b1c("0x329")]),this.inited=!0}this[_0x4b1c("0x47")].isUseMipmap?(x[_0x4b1c("0x18a")]=THREE[_0x4b1c("0x18b")],x[_0x4b1c("0x363")]=!0):x[_0x4b1c("0x18a")]=THREE.LinearFilter,this[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x3e")]=x,this[_0x4b1c("0xf0")][_0x4b1c("0xf4")].map[_0x4b1c("0x188")]=!0,e&&this[_0x4b1c("0x47")][_0x4b1c("0x1b0")]&&this[_0x4b1c("0x47")].callback(this)}}},{key:_0x4b1c("0x3e"),get:function(){return esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")]}},{key:"ID",get:function(){return this.options.id}},{key:_0x4b1c("0x1f7"),get:function(){return this.options[_0x4b1c("0x1f7")]}},{key:_0x4b1c("0x21d"),get:function(){return{x:this[_0x4b1c("0x47")].x,y:this[_0x4b1c("0x47")].y}}},{key:"Height",get:function(){return this.options[_0x4b1c("0x1a3")]}},{key:_0x4b1c("0x20f"),get:function(){return this[_0x4b1c("0xf0")][_0x4b1c("0x108")][_0x4b1c("0x108")][_0x4b1c("0xef")]}},{key:_0x4b1c("0x16c"),set:function(x){this[_0x4b1c("0xf0")][_0x4b1c("0xf4")][_0x4b1c("0x16d")]=!x}},{key:"FloorNum",get:function(){return this[_0x4b1c("0x20f")][_0x4b1c("0x210")]}},{key:"url",get:function(){return this[_0x4b1c("0x47")][_0x4b1c("0x4e")]},set:function(x){var c=this;this[_0x4b1c("0x47")][_0x4b1c("0x4e")]=x,esmap[_0x4b1c("0x87")][_0x4b1c("0x696")](x,(function(x){c[_0x4b1c("0x1431")](x)}))}}]),c}(l[_0x4b1c("0xc")]);c.default=g},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0}),c[_0x4b1c("0x143f")]=function(x){return x[_0x4b1c("0x2a6")](/\.(jpeg|jpg|gif|png)$/)?_0x4b1c("0x316"):x[_0x4b1c("0x2a6")](/\.(mp4|mpeg|mpg|avi|wmv)$/)?_0x4b1c("0x1433"):_0x4b1c("0x1443")},c[_0x4b1c("0x1440")]=r,c.getMarkerPathBase64=s,c[_0x4b1c("0x1441")]=function(x,c){if(!x)return[];var b=x;Array[_0x4b1c("0x32f")](x)||(b=[x]);for(var _=[],e=Symbolizer[_0x4b1c("0x1458")],t=void 0,i=void 0,a=void 0,r=void 0,f=b[_0x4b1c("0x0")]-1;f>=0;f--)if(x=b[f]){c&&(x=o(x));for(var l=0;l<e[_0x4b1c("0x0")];l++)if(t=x[e[l]],isFunctionDefinition(t)&&(t=getFunctionTypeResources(t)),t){Array[_0x4b1c("0x32f")](t)||(t=[t]);for(var d=0;d<t[_0x4b1c("0x0")];d++)t[d][_0x4b1c("0x1e5")](0,4)===_0x4b1c("0x1459")&&(t[d]=(0,n[_0x4b1c("0x145a")])(t[d])),i=Symbolizer[_0x4b1c("0x145b")][l],_[_0x4b1c("0x12")]([t[d],x[i[0]],x[i[1]]])}if("path"===x.markerType&&x[_0x4b1c("0x144b")])if(a=isFunctionDefinition(x[_0x4b1c("0x145c")])?200:x.markerWidth,r=isFunctionDefinition(x[_0x4b1c("0x145d")])?200:x[_0x4b1c("0x145d")],isFunctionDefinition(x[_0x4b1c("0x144b")])){t=getFunctionTypeResources(x[_0x4b1c("0x144b")]);for(var u=x[_0x4b1c("0x144b")],h=0;h<t[_0x4b1c("0x0")];h++)x.markerPath=t[h],_[_0x4b1c("0x12")]([s(x),a,r]);x[_0x4b1c("0x144b")]=u}else _.push([s(x),a,r])}return _},c[_0x4b1c("0x1442")]=o;var _,e=b(77),t=b(144),i=(_=t)&&_.__esModule?_:{default:_},a=b(4),n=b(384);function r(x){var c={stroke:{stroke:x.markerLineColor,"stroke-width":x[_0x4b1c("0x1444")],"stroke-opacity":x[_0x4b1c("0x1445")],"stroke-dasharray":null,"stroke-linecap":_0x4b1c("0x1446"),"stroke-linejoin":_0x4b1c("0x98a")},fill:{fill:x[_0x4b1c("0x1447")],"fill-opacity":x.markerFillOpacity}};return c[_0x4b1c("0x34c")]["stroke-linecap"]===_0x4b1c("0x1446")&&i[_0x4b1c("0xc")][_0x4b1c("0x1448")]&&(c[_0x4b1c("0x34c")]["stroke-linecap"]="flat"),0===c[_0x4b1c("0x34c")][_0x4b1c("0x1449")]&&(c[_0x4b1c("0x34c")][_0x4b1c("0x144a")]=0),c}function s(x,c,b){if(!x[_0x4b1c("0x144b")])return null;var _=1,e=r(x);(0,a[_0x4b1c("0x10ad")])(x[_0x4b1c("0x144c")])&&(_=x[_0x4b1c("0x144c")]),(0,a[_0x4b1c("0x10ad")])(x.opacity)&&(_*=x.opacity);var t={};if(e){for(var i in e[_0x4b1c("0x34c")])e.stroke[_0x4b1c("0x1")](i)&&((0,a[_0x4b1c("0x36f")])(e.stroke[i])||(t[i]=e[_0x4b1c("0x34c")][i]));for(var s in e[_0x4b1c("0x464")])e[_0x4b1c("0x464")].hasOwnProperty(s)&&((0,a.isNil)(e.fill[s])||(t[s]=e[_0x4b1c("0x464")][s]))}for(var o=Array[_0x4b1c("0x32f")](x[_0x4b1c("0x144b")])?x[_0x4b1c("0x144b")]:[x[_0x4b1c("0x144b")]],f=void 0,l=[],d=0;d<o[_0x4b1c("0x0")];d++)f=(0,a.isString)(o[d])?{path:o[d]}:o[d],(f=(0,a[_0x4b1c("0x512")])({},f,t)).d=f[_0x4b1c("0x2c2")],delete f.path,l.push(f);var u=[_0x4b1c("0x144d"),_0x4b1c("0x144e")];_<1&&u[_0x4b1c("0x12")](_0x4b1c("0x144f")+_+'"'),x[_0x4b1c("0x1450")]&&x[_0x4b1c("0x1451")]&&u.push(_0x4b1c("0x1452")+x.markerPathWidth+" "+x[_0x4b1c("0x1451")]+'"'),u[_0x4b1c("0x12")](_0x4b1c("0x1453")),c&&u.push('width="'+c+'"'),b&&u[_0x4b1c("0x12")](_0x4b1c("0x1454")+b+'"'),u.push("><defs></defs>");for(var h=0;h<l[_0x4b1c("0x0")];h++){var g="<path ";for(var v in l[h])l[h][_0x4b1c("0x1")](v)&&(g+=" "+v+'="'+l[h][v]+'"');g+=_0x4b1c("0x1455"),u[_0x4b1c("0x12")](g)}return u[_0x4b1c("0x12")](_0x4b1c("0x1456")),_0x4b1c("0xcef")+(0,n[_0x4b1c("0x1457")])(u[_0x4b1c("0x4f1")](" "))}function o(x){if(!x)return null;var c=x;if(e[_0x4b1c("0x1da")])return c;for(var b=Symbolizer[_0x4b1c("0x1458")],_=void 0,t=0,i=b[_0x4b1c("0x0")];t<i;t++)(_=c[b[t]])&&(c[b[t]]=f(_));return c}function f(x){if(isFunctionDefinition(x)){for(var c=x[_0x4b1c("0x145e")],b=0;b<c[_0x4b1c("0x0")];b++)c[b][1]=f(c[b][1]);return x}var _=_0x4b1c("0x145f");return x[_0x4b1c("0x1e5")](0,4)===_0x4b1c("0x1459")&&(x=(0,n[_0x4b1c("0x145a")])(x)),!(0,n[_0x4b1c("0x1460")])(x)&&(x[_0x4b1c("0x0")]<=_[_0x4b1c("0x0")]||x[_0x4b1c("0x2a1")](0,_[_0x4b1c("0x0")])!==_)&&(x=function(x,c){var b=x.split("/"),_=c.split("/");if(0===c[_0x4b1c("0x1e5")](0,1))return b[_0x4b1c("0x1e5")](0,3)[_0x4b1c("0x4f1")]("/")+c;b[_0x4b1c("0xe2")]();for(var e=0;e<_[_0x4b1c("0x0")];e++)"."!==_[e]&&(".."===_[e]?b[_0x4b1c("0xe2")]():b[_0x4b1c("0x12")](_[e]));return b[_0x4b1c("0x4f1")]("/")}(location[_0x4b1c("0x85")],x)),x}},function(x,c,b){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.emptyImageUrl=c[_0x4b1c("0x1461")]=c[_0x4b1c("0x1462")]=c[_0x4b1c("0x1463")]=void 0;var _,e=b(61),t=(_=e)&&_[_0x4b1c("0xb")]?_:{default:_};c.isSVG=function(x){var c=_0x4b1c("0x1473");if(x[_0x4b1c("0x0")]>4&&".svg"===x[_0x4b1c("0x1e5")](-4))return 1;if(x[_0x4b1c("0x1e5")](0,c.length)===c)return 2;return 0},c[_0x4b1c("0x1464")]=function x(c,b){if(i.IS_NODE&&x[_0x4b1c("0x886")])return void x[_0x4b1c("0x886")](c,b);c.src=b[0]},c[_0x4b1c("0x1465")]=o,c[_0x4b1c("0x1466")]=function(x){if(!x||!(0,a[_0x4b1c("0x367")])(x))return x;return JSON[_0x4b1c("0x71")](x)},c[_0x4b1c("0x1467")]=function(x,c){for(var b=0,_=c[_0x4b1c("0x0")];b<_;b++)x[_0x4b1c("0x12")](c[b]);return x.length},c.removeFromArray=function(x,c){var b=c.indexOf(x);b>-1&&c[_0x4b1c("0x5")](b,1)},c[_0x4b1c("0x1468")]=function x(c,b,_){if(!Array[_0x4b1c("0x32f")](c))return _?b[_0x4b1c("0x2")](_,c):b(c);for(var e=[],t=void 0,i=void 0,n=0,r=c[_0x4b1c("0x0")];n<r;n++)t=c[n],(0,a[_0x4b1c("0x36f")])(t)?e[_0x4b1c("0x12")](null):Array[_0x4b1c("0x32f")](t)?e[_0x4b1c("0x12")](x(t,b,_)):(i=_?b[_0x4b1c("0x2")](_,t):b(t),e[_0x4b1c("0x12")](i));return e},c.getValueOrDefault=function(x,c){return void 0===x?c:x},c[_0x4b1c("0x1469")]=function(x){if(t[_0x4b1c("0xc")])return(0,t.default)(x);if(0===(x=+x)||isNaN(x))return Number(x);return x>0?1:-1},c.interpolate=function(x,c,b){return x*(1-b)+c*b},c[_0x4b1c("0x284")]=function(x,c,b){var _=b-c,e=((x-c)%_+_)%_+c;return e===c?b:e},c[_0x4b1c("0x97b")]=function(x,c,b){return Math[_0x4b1c("0x2f6")](b,Math[_0x4b1c("0x2f5")](c,x))},c[_0x4b1c("0x146a")]=function(x){return Array[_0x4b1c("0x32f")](x)&&x[_0x4b1c("0x0")]>0},c[_0x4b1c("0x1460")]=function(x){if(!x)return!1;var c=x.slice(0,6);if(c===_0x4b1c("0x1474")||c===_0x4b1c("0x1475")||c===_0x4b1c("0x1476"))return!0;return!1},c[_0x4b1c("0x146b")]=d,c[_0x4b1c("0x145a")]=function(x){var c=d(x);if(3===c)return x;return 1===c?l[_0x4b1c("0x1477")](x)[1]:2===c?f[_0x4b1c("0x1477")](x)[2]:x},c.btoa=function(x){if(typeof window!==_0x4b1c("0x8")&&window[_0x4b1c("0x1457")])return window[_0x4b1c("0x1457")](x);for(var c,b,_=String(x),e="",t=0,i=u;_.charAt(0|t)||(i="=",t%1);e+=i[_0x4b1c("0x463")](63&c>>8-t%1*8)){if((b=_.charCodeAt(t+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c=c<<8|b}return e},c[_0x4b1c("0x146c")]=function(x,c){var b=c.x-x.x,_=c.y-x.y;return Math.atan2(_,b)},c[_0x4b1c("0x146d")]=function(x,c){if(!x&&!c)return!0;if(!x||!c)return!1;for(var b in x)if(b===_0x4b1c("0x12d")){if(!c[b]||!h(x[b][0],c[b][0])||!h(x[b][1],c[b][1]))return!1}else if(x[b]!==c[b])return!1;return!0},c.flash=function(x,c,b,_){x||(x=100);c||(c=4);var e=this;c*=2,this[_0x4b1c("0x147b")]&&clearTimeout(this._flashTimeout);return this[_0x4b1c("0x147b")]=setTimeout((function t(){if(0===c)return e[_0x4b1c("0x250")](),void(b&&(_?b[_0x4b1c("0x2")](_):b()));c%2==0?e[_0x4b1c("0x251")]():e[_0x4b1c("0x250")]();c--,e[_0x4b1c("0x147b")]=setTimeout(t,x)}),x),this};var i=b(77),a=b(4);var n=void 0,r=void 0;!function(){if(i[_0x4b1c("0x1da")])return c[_0x4b1c("0x1463")]=n=function(x){return setTimeout(x,16)},void(c.cancelAnimFrame=r=clearTimeout);var x=void 0,b=void 0;function _(x){return setTimeout(x,33.333333333333336)}function e(x){return window[_0x4b1c("0x4f3")+x]||window["moz"+x]||window["ms"+x]}typeof window!=_0x4b1c("0x8")?(x=window[_0x4b1c("0x146e")]||e(_0x4b1c("0x146f"))||_,b=window[_0x4b1c("0x1470")]||e(_0x4b1c("0x1471"))||e(_0x4b1c("0x1472"))||function(x){window[_0x4b1c("0x26f")](x)}):(x=_,b=clearTimeout),c[_0x4b1c("0x1463")]=n=function(c){return x(c)},c.cancelAnimFrame=r=function(x){x&&b(x)}}(),c[_0x4b1c("0x1463")]=n,c[_0x4b1c("0x1462")]=r;var s=0;function o(){return s++}c[_0x4b1c("0x1461")]=o;var f=/^url\((['"])(.+)\1\)$/i,l=/^url\(([^'"].*[^'"])\)$/i;function d(x){if(!(0,a.isString)(x))return 0;var c=x[_0x4b1c("0x1e5")](0,6);return"http:/"===c||c===_0x4b1c("0x1475")?3:l.test(x)?1:f.test(x)?2:0}var u=_0x4b1c("0x1478");c[_0x4b1c("0x1479")]=_0x4b1c("0x147a");function h(x,c,b){return null==b&&(b=1e-6),x>=c-b&&x<=c+b}},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=n(b(5)),e=n(b(0)),t=n(b(1)),i=n(b(10)),a=n(b(11));function n(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var r=function(x){function c(x){return(0,e[_0x4b1c("0xc")])(this,c),(0,i[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,_[_0x4b1c("0xc")])(c))[_0x4b1c("0x2")](this,x))}return(0,a.default)(c,x),(0,t[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x164"),value:function(){this[_0x4b1c("0x188")]=!0}}]),c}(THREE.Texture);c[_0x4b1c("0xc")]=r},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,"__esModule",{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}b(387);var i=void 0,a=void 0,n=function(){function x(c){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x47")]=c,this.views=[],this[_0x4b1c("0x3e")]=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],this[_0x4b1c("0x360")]=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x360")],this[_0x4b1c("0x102")]=this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x102")],this[_0x4b1c("0x147c")]=[],this.init()}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x39"),value:function(){for(var x=this,c=this,b=c[_0x4b1c("0x47")].count,_=0;_<b;++_){var e=c[_0x4b1c("0x47")][_0x4b1c("0x147d")][_];c[_0x4b1c("0x147e")][_0x4b1c("0x12")](e);var t=document[_0x4b1c("0x21")]("div");if(t[_0x4b1c("0x4ea")]=_0x4b1c("0x147f")+_,t[_0x4b1c("0x23")].position="absolute",c[_0x4b1c("0x47")][_0x4b1c("0x78")]===_0x4b1c("0x1480")){var i=Math[_0x4b1c("0x20f")](1/b*window.innerWidth),a=window[_0x4b1c("0x968")];t[_0x4b1c("0x23")][_0x4b1c("0x359")]=_*i+"px",t.style[_0x4b1c("0x35c")]="0px",t.style[_0x4b1c("0x1c9")]=i+"px",t[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=a+"px",t[_0x4b1c("0x23")].zIndex=_0x4b1c("0x116f"),t[_0x4b1c("0x23")].background=_0x4b1c("0x1481"),e[_0x4b1c("0x359")]=_*i/window[_0x4b1c("0x967")],e[_0x4b1c("0x35c")]=0,e[_0x4b1c("0x1c9")]=1/b,e.height=1,_>0&&c[_0x4b1c("0x1482")]({top:0,left:_*i,type:_0x4b1c("0x1480")})}else if(c[_0x4b1c("0x47")][_0x4b1c("0x78")]===_0x4b1c("0x1483")){var n=window[_0x4b1c("0x967")],r=Math[_0x4b1c("0x20f")](1/b*window[_0x4b1c("0x968")]);t[_0x4b1c("0x23")][_0x4b1c("0x359")]="0px",t[_0x4b1c("0x23")].bottom=window[_0x4b1c("0x968")]-(_+1)*r+"px",t[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=n+"px",t.style[_0x4b1c("0x1a3")]=r+"px",e[_0x4b1c("0x359")]=0,e[_0x4b1c("0x35c")]=1-(_+1)*r/window[_0x4b1c("0x968")],e.width=1,e[_0x4b1c("0x1a3")]=1/b,_>0&&c.createSlider({top:_*r,left:0,type:_0x4b1c("0x1483")})}if(t.style[_0x4b1c("0xac3")]=_0x4b1c("0x1484"),document[_0x4b1c("0x26")][_0x4b1c("0x1d7")](t),e[_0x4b1c("0x1485")]=t,0===_){var s=c[_0x4b1c("0x3e")][_0x4b1c("0x1c3")].camera[_0x4b1c("0x13e")]();c[_0x4b1c("0x3e")][_0x4b1c("0x47")].mode===esmap[_0x4b1c("0x41")][_0x4b1c("0x42")]?(c[_0x4b1c("0x147e")][_][_0x4b1c("0x266")]=new ESTileMap.ESTileControls(esmap[_0x4b1c("0x6a7")].tileMapView,c[_0x4b1c("0x147e")][_][_0x4b1c("0x1485")],c[_0x4b1c("0x3e")]),esmap[_0x4b1c("0x6a7")][_0x4b1c("0xab2")][_0x4b1c("0x658")].camera3D.controls=c.views[_][_0x4b1c("0x266")],c[_0x4b1c("0x3e")][_0x4b1c("0xb93")](c[_0x4b1c("0x147e")][_][_0x4b1c("0x266")])):c[_0x4b1c("0x147e")][_][_0x4b1c("0x266")]=new(c[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x266")][_0x4b1c("0x5f0")])(s,c[_0x4b1c("0x147e")][_][_0x4b1c("0x1485")]);var o=this.map.coordMapToThree(e[_0x4b1c("0xc9a")]);s[_0x4b1c("0x105")][_0x4b1c("0x20b")](o),c[_0x4b1c("0x147e")][_].camera=s,s[_0x4b1c("0x1f7")]=_0x4b1c("0x1486"),c[_0x4b1c("0x3e")][_0x4b1c("0x1c3")]._originCamera=c[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x658")],c[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x658")]=s,c[_0x4b1c("0x3e")][_0x4b1c("0x1c3")].camera[_0x4b1c("0xbd1")]=c[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x1487")][_0x4b1c("0xbd1")],c[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x658")][_0x4b1c("0x165")]=c[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x1487")].userData}else{var f=c.map.mapView.camera[_0x4b1c("0x13e")]();c.views[_][_0x4b1c("0x266")]=new(c[_0x4b1c("0x3e")].mapView[_0x4b1c("0x266")][_0x4b1c("0x5f0")])(f,c[_0x4b1c("0x147e")][_][_0x4b1c("0x1485")]);var l=this.map.coordMapToThree(e[_0x4b1c("0xc9a")]);f.position[_0x4b1c("0x20b")](l),e[_0x4b1c("0x658")]=f,c[_0x4b1c("0x147e")][_].camera=f}}this.bindEvents(),this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0xbab")]=!0,this[_0x4b1c("0x3e")].on("update",this[_0x4b1c("0xbdd")][_0x4b1c("0xe")](this)),document[_0x4b1c("0x37")](_0x4b1c("0x263"),(function(c){"Escape"===c.key&&x[_0x4b1c("0x780")]()}))}},{key:_0x4b1c("0x211"),value:function(){for(var x=this,c=function(c){var b=x[_0x4b1c("0x147e")][c];b.layout[_0x4b1c("0x37")]("mouseup",(function(c){x.onmouseup(c,b)})),b[_0x4b1c("0x1485")].addEventListener("touchend",(function(c){x[_0x4b1c("0xbff")](c,b)})),b[_0x4b1c("0x1485")].addEventListener(_0x4b1c("0x982"),(function(c){x[_0x4b1c("0x3e")].mapPicker[_0x4b1c("0xbfd")](c)})),b[_0x4b1c("0x1485")].addEventListener(_0x4b1c("0xbf8"),(function(c){x[_0x4b1c("0x3e")][_0x4b1c("0x232")][_0x4b1c("0xbfd")](c)})),b.layout[_0x4b1c("0x37")](_0x4b1c("0x983"),(function(c){x.map[_0x4b1c("0x232")][_0x4b1c("0xbfe")](c)})),b.layout[_0x4b1c("0x37")](_0x4b1c("0xbf9"),(function(c){x[_0x4b1c("0x3e")].mapPicker[_0x4b1c("0xbfe")](c)}))},b=0;b<x[_0x4b1c("0x147e")][_0x4b1c("0x0")];b++)c(b)}},{key:_0x4b1c("0xbff"),value:function(x,c){var b=new(THREE[_0x4b1c("0x552")]),_=(x.clientX-c[_0x4b1c("0x1488")][_0x4b1c("0x359")])/c[_0x4b1c("0x1488")][_0x4b1c("0x1c9")]*2-1,e=-(x[_0x4b1c("0x4e4")]-c[_0x4b1c("0x1488")][_0x4b1c("0x35b")])/c[_0x4b1c("0x1488")][_0x4b1c("0x1a3")]*2+1;b.x=_,b.y=e,this.map.mapPicker[_0x4b1c("0x164")](!1,{mouse:b,camera:c.camera}),this[_0x4b1c("0x3e")][_0x4b1c("0x232")].onmouseup(x)}},{key:_0x4b1c("0x1482"),value:function(x){var c=x.top,b=x.left,_=x.type,e=this,t=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));this[_0x4b1c("0x147c")][_0x4b1c("0x12")](t),t[_0x4b1c("0x4ea")]="slider";var i=_===_0x4b1c("0x1480")?b/window[_0x4b1c("0x967")]:c/window.innerHeight;if(t.style.position="absolute",t[_0x4b1c("0x23")][_0x4b1c("0x1c9")]=_===_0x4b1c("0x1480")?"12px":_0x4b1c("0x1ca"),t.style[_0x4b1c("0x1a3")]=_===_0x4b1c("0x1480")?_0x4b1c("0x1ca"):"12px",t[_0x4b1c("0x23")][_0x4b1c("0x751")]=_0x4b1c("0x1489"),t.style[_0x4b1c("0x35b")]=c+"px",t.style[_0x4b1c("0x359")]=b+"px",t[_0x4b1c("0x23")].transform="translate("+("horizontal"===_?_0x4b1c("0x742"):"0")+", "+(_===_0x4b1c("0x1480")?"0":"-50%")+")",t[_0x4b1c("0x23")][_0x4b1c("0xac3")]=_0x4b1c("0x148a"),t.style.cursor=e.options.drag?_0x4b1c("0x148b"):_0x4b1c("0xc"),document[_0x4b1c("0x26")][_0x4b1c("0x1d7")](t),e[_0x4b1c("0x47")][_0x4b1c("0x148c")]){var a=document[_0x4b1c("0x21")](_0x4b1c("0x1c8"));a[_0x4b1c("0x23")].position="absolute",a.style[_0x4b1c("0x1c9")]=_===_0x4b1c("0x1480")?_0x4b1c("0xd3c"):"60px",a[_0x4b1c("0x23")][_0x4b1c("0x1a3")]=_===_0x4b1c("0x1480")?_0x4b1c("0x148d"):"4px",a[_0x4b1c("0x23")][_0x4b1c("0xd3b")]=_0x4b1c("0x11bc"),a[_0x4b1c("0x23")][_0x4b1c("0xac3")]="rgba(0,0,0,0.7)",a.style[_0x4b1c("0x359")]="50%",a[_0x4b1c("0x23")].top=_0x4b1c("0x148e"),a[_0x4b1c("0x23")][_0x4b1c("0x4c5")]="translate(-50%, -50%)",t[_0x4b1c("0x1d7")](a)}function n(){e.views[_0x4b1c("0x3e")]((function(x){return x[_0x4b1c("0x266")].enabled=!0})),window[_0x4b1c("0x29e")](_0x4b1c("0x93e"),r),window[_0x4b1c("0x29e")](_0x4b1c("0x1490"),n)}function r(x){!1!==x[_0x4b1c("0x148f")]&&(_===_0x4b1c("0x1480")?(i=Math[_0x4b1c("0x2f6")](Math[_0x4b1c("0x2f5")]((x[_0x4b1c("0x4e2")]-20)/window[_0x4b1c("0x967")],.1),.9),t[_0x4b1c("0x23")][_0x4b1c("0x359")]=i*window[_0x4b1c("0x967")]+"px"):_===_0x4b1c("0x1483")&&(i=Math.min(Math[_0x4b1c("0x2f5")]((x[_0x4b1c("0x4e4")]-20)/window[_0x4b1c("0x968")],.1),.9),t[_0x4b1c("0x23")].top=i*window[_0x4b1c("0x968")]+"px"),e[_0x4b1c("0x147e")][_0x4b1c("0x3e")]((function(x,c){_===_0x4b1c("0x1480")?(x[_0x4b1c("0x1c9")]=0===c?i:1-i,x[_0x4b1c("0x359")]=0===c?0:i):_===_0x4b1c("0x1483")&&(x[_0x4b1c("0x1a3")]=(0===c?i:1-i)[_0x4b1c("0x64d")](5),x[_0x4b1c("0x35c")]=(0===c?1-i:0)[_0x4b1c("0x64d")](5))})))}e[_0x4b1c("0x47")].drag&&t[_0x4b1c("0x37")](_0x4b1c("0x93c"),(function(x){!1!==x[_0x4b1c("0x148f")]&&(e.views[_0x4b1c("0x3e")]((function(x){return x.controls[_0x4b1c("0x70b")]=!1})),window[_0x4b1c("0x37")](_0x4b1c("0x93e"),r),window[_0x4b1c("0x37")](_0x4b1c("0x1490"),n))}))}},{key:_0x4b1c("0xa53"),value:function(){i==window[_0x4b1c("0x967")]&&a==window[_0x4b1c("0x968")]||(i=window[_0x4b1c("0x967")],a=window[_0x4b1c("0x968")],this[_0x4b1c("0x360")][_0x4b1c("0x30c")](i,a))}},{key:"updateView",value:function(){this.updateSize();for(var x=this[_0x4b1c("0x47")].type,c=0;c<this[_0x4b1c("0x147e")].length;c++){var b=this[_0x4b1c("0x147e")][c],_=b[_0x4b1c("0x658")];b.controls[_0x4b1c("0x164")]();var e=Math[_0x4b1c("0x20f")](i*b[_0x4b1c("0x359")]),t=Math[_0x4b1c("0x20f")](a*b[_0x4b1c("0x35c")]),n=Math[_0x4b1c("0x20f")](i*b.width),r=Math[_0x4b1c("0x20f")](a*b[_0x4b1c("0x1a3")]);b[_0x4b1c("0x1485")][_0x4b1c("0x23")][_0x4b1c("0x359")]=e+"px",b.layout[_0x4b1c("0x23")][_0x4b1c("0x35c")]=t+"px",b[_0x4b1c("0x1485")][_0x4b1c("0x23")][_0x4b1c("0x1c9")]=n+"px",b[_0x4b1c("0x1485")][_0x4b1c("0x23")][_0x4b1c("0x1a3")]=r+"px",x===_0x4b1c("0x1480")?(b[_0x4b1c("0x1488")]={bottom:(1-b[_0x4b1c("0x35c")])*b.height*a,left:b[_0x4b1c("0x359")]*window.innerWidth,top:(1-b[_0x4b1c("0x1a3")]-b.bottom)*window[_0x4b1c("0x967")],right:-1*(b[_0x4b1c("0x1c9")]-b[_0x4b1c("0x359")]-1)*window.innerWidth,width:n,height:r},this[_0x4b1c("0x360")][_0x4b1c("0x1491")](e,t,n,r),this[_0x4b1c("0x360")][_0x4b1c("0x1492")](e,t,n,r),this[_0x4b1c("0x360")][_0x4b1c("0x1493")](!0)):x===_0x4b1c("0x1483")&&(b[_0x4b1c("0x1488")]={bottom:(1-b.height-b.bottom)*a,left:b[_0x4b1c("0x359")]*window[_0x4b1c("0x967")],top:(1-b[_0x4b1c("0x35c")])*b.height*a,right:-1*(b[_0x4b1c("0x1c9")]-b[_0x4b1c("0x359")]-1)*window[_0x4b1c("0x967")],width:n,height:r},this[_0x4b1c("0x360")][_0x4b1c("0x1491")](e,t,n,r),this[_0x4b1c("0x360")][_0x4b1c("0x1492")](e,t,n,r),this[_0x4b1c("0x360")][_0x4b1c("0x1493")](!0)),_[_0x4b1c("0x65f")]=n/r,_.updateProjectionMatrix(),this[_0x4b1c("0x360")].render(this[_0x4b1c("0x102")],_)}}},{key:_0x4b1c("0x780"),value:function(){for(var x=0;x<this[_0x4b1c("0x147e")][_0x4b1c("0x0")];x++){this[_0x4b1c("0x147e")][x][_0x4b1c("0x1485")].remove()}this[_0x4b1c("0x3e")][_0x4b1c("0x6b")]("update",this[_0x4b1c("0xbdd")].bind(this)),this[_0x4b1c("0x147c")].map((function(x){return x.remove()})),this[_0x4b1c("0x360")][_0x4b1c("0x1493")](!1),this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")].showMultiView=!1,this[_0x4b1c("0x360")][_0x4b1c("0x30c")](window[_0x4b1c("0x967")],window[_0x4b1c("0x968")]),this[_0x4b1c("0x3e")][_0x4b1c("0x26a")].aspect=window[_0x4b1c("0x967")]/window.innerHeight,this[_0x4b1c("0x3e")][_0x4b1c("0x26a")][_0x4b1c("0x925")](),this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x70b")]=!0,this[_0x4b1c("0x3e")][_0x4b1c("0x1c3")][_0x4b1c("0x658")]=this.map[_0x4b1c("0x1c3")][_0x4b1c("0x1487")],this[_0x4b1c("0x3e")].mapView[_0x4b1c("0x658")].cam2control=this.map[_0x4b1c("0x1c3")][_0x4b1c("0x1487")].cam2control,this[_0x4b1c("0x147e")]=[]}}]),x}();c[_0x4b1c("0xc")]=n},function(x,c,b){"use strict";var _=t(b(60)),e=t(b(21));function t(x){return x&&x.__esModule?x:{default:x}}THREE.OrbitControls=function(x,c){var b,_,e,t,i;this[_0x4b1c("0x1d")]=x,this[_0x4b1c("0x73f")]=void 0!==c?c:document,this[_0x4b1c("0x70b")]=!0,this.target=new THREE.Vector3,this[_0x4b1c("0x2b0")]=0,this[_0x4b1c("0x2ad")]=1/0,this[_0x4b1c("0xc79")]=0,this[_0x4b1c("0xc7a")]=1/0,this[_0x4b1c("0x9bd")]=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this[_0x4b1c("0xc5c")]=!1,this[_0x4b1c("0xc5d")]=.25,this[_0x4b1c("0xc7c")]=!0,this[_0x4b1c("0xc5e")]=1,this.enableRotate=!0,this[_0x4b1c("0xc5f")]=1,this[_0x4b1c("0xc61")]=!0,this[_0x4b1c("0xc62")]=1,this.screenSpacePanning=!1,this[_0x4b1c("0xc64")]=7,this[_0x4b1c("0xc6f")]=!1,this[_0x4b1c("0xc76")]=2,this.enableKeys=!0,this[_0x4b1c("0x684")]={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this[_0x4b1c("0xb96")]={LEFT:THREE[_0x4b1c("0xb89")].LEFT,MIDDLE:THREE[_0x4b1c("0xb89")][_0x4b1c("0xb8a")],RIGHT:THREE[_0x4b1c("0xb89")][_0x4b1c("0xb97")]},this[_0x4b1c("0xc66")]=this[_0x4b1c("0x2c7")].clone(),this.position0=this[_0x4b1c("0x1d")][_0x4b1c("0x105")][_0x4b1c("0x13e")](),this[_0x4b1c("0xc68")]=this[_0x4b1c("0x1d")][_0x4b1c("0x65a")],this[_0x4b1c("0x2cf")]=function(){return d[_0x4b1c("0x955")]},this[_0x4b1c("0x2ce")]=function(){return d[_0x4b1c("0x956")]},this[_0x4b1c("0xc69")]=function(){a[_0x4b1c("0xc66")][_0x4b1c("0x20b")](a[_0x4b1c("0x2c7")]),a.position0[_0x4b1c("0x20b")](a[_0x4b1c("0x1d")].position),a[_0x4b1c("0xc68")]=a[_0x4b1c("0x1d")][_0x4b1c("0x65a")]},this.reset=function(){a[_0x4b1c("0x2c7")][_0x4b1c("0x20b")](a[_0x4b1c("0xc66")]),a[_0x4b1c("0x1d")][_0x4b1c("0x105")][_0x4b1c("0x20b")](a[_0x4b1c("0xc67")]),a[_0x4b1c("0x1d")][_0x4b1c("0x65a")]=a[_0x4b1c("0xc68")],a.object[_0x4b1c("0x925")](),a[_0x4b1c("0x1d9")](n),a[_0x4b1c("0x164")](),f=o.NONE},this[_0x4b1c("0x164")]=(b=new THREE.Vector3,_=(new(THREE[_0x4b1c("0x204")]))[_0x4b1c("0xc6c")](x.up,new THREE.Vector3(0,1,0)),e=_[_0x4b1c("0x13e")]().inverse(),t=new THREE.Vector3,i=new(THREE[_0x4b1c("0x204")]),function(){var x=a[_0x4b1c("0x1d")].position;return b.copy(x).sub(a[_0x4b1c("0x2c7")]),b[_0x4b1c("0xc6d")](_),d[_0x4b1c("0xc6e")](b),a[_0x4b1c("0xc6f")]&&f===o[_0x4b1c("0xc6b")]&&S(2*Math.PI/60/60*a[_0x4b1c("0xc76")]),d[_0x4b1c("0x956")]+=u[_0x4b1c("0x956")],d[_0x4b1c("0x955")]+=u[_0x4b1c("0x955")],d[_0x4b1c("0x956")]=Math[_0x4b1c("0x2f5")](a[_0x4b1c("0xc5a")],Math[_0x4b1c("0x2f6")](a[_0x4b1c("0xc5b")],d[_0x4b1c("0x956")])),d[_0x4b1c("0x955")]=Math[_0x4b1c("0x2f5")](a.minPolarAngle,Math[_0x4b1c("0x2f6")](a.maxPolarAngle,d[_0x4b1c("0x955")])),d.makeSafe(),d[_0x4b1c("0x68f")]*=h,d[_0x4b1c("0x68f")]=Math[_0x4b1c("0x2f5")](a.minDistance,Math[_0x4b1c("0x2f6")](a[_0x4b1c("0x2ad")],d[_0x4b1c("0x68f")])),a.target[_0x4b1c("0xdd")](g),b.setFromSpherical(d),b[_0x4b1c("0xc6d")](e),x[_0x4b1c("0x20b")](a[_0x4b1c("0x2c7")])[_0x4b1c("0xdd")](b),a.object[_0x4b1c("0x241")](a.target),!0===a[_0x4b1c("0xc5c")]?(u[_0x4b1c("0x956")]*=1-a[_0x4b1c("0xc5d")],u.phi*=1-a[_0x4b1c("0xc5d")],g.multiplyScalar(1-a[_0x4b1c("0xc5d")])):(u.set(0,0,0),g.set(0,0,0)),h=1,!!(v||t[_0x4b1c("0x74f")](a[_0x4b1c("0x1d")][_0x4b1c("0x105")])>l||8*(1-i[_0x4b1c("0x902")](a[_0x4b1c("0x1d")][_0x4b1c("0x20a")]))>l)&&(a[_0x4b1c("0x1d9")](n),t[_0x4b1c("0x20b")](a[_0x4b1c("0x1d")].position),i[_0x4b1c("0x20b")](a[_0x4b1c("0x1d")][_0x4b1c("0x20a")]),v=!1,!0)}),this.dispose=function(){a[_0x4b1c("0x73f")][_0x4b1c("0x29e")](_0x4b1c("0x981"),X,!1),a.domElement[_0x4b1c("0x29e")](_0x4b1c("0x982"),z,!1),a[_0x4b1c("0x73f")].removeEventListener(_0x4b1c("0xb8c"),j,!1),a[_0x4b1c("0x73f")].removeEventListener(_0x4b1c("0xbf8"),Y,!1),a[_0x4b1c("0x73f")][_0x4b1c("0x29e")](_0x4b1c("0xbfa"),G,!1),a.domElement[_0x4b1c("0x29e")](_0x4b1c("0xbf9"),W,!1),document[_0x4b1c("0x29e")]("mousemove",U,!1),document[_0x4b1c("0x29e")](_0x4b1c("0x984"),V,!1),window[_0x4b1c("0x29e")](_0x4b1c("0x263"),Z,!1)};var a=this,n={type:_0x4b1c("0x9c3")},r={type:"start"},s={type:_0x4b1c("0x2a0")},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},f=o[_0x4b1c("0xc6b")],l=1e-6,d=new THREE.Spherical,u=new(THREE[_0x4b1c("0xc75")]),h=1,g=new(THREE[_0x4b1c("0x128")]),v=!1,p=new(THREE[_0x4b1c("0x552")]),m=new(THREE[_0x4b1c("0x552")]),A=new THREE.Vector2,y=new THREE.Vector2,C=new(THREE[_0x4b1c("0x552")]),I=new(THREE[_0x4b1c("0x552")]),E=new THREE.Vector2,w=new(THREE[_0x4b1c("0x552")]),T=new(THREE[_0x4b1c("0x552")]);function k(){return Math[_0x4b1c("0xf5")](.95,a[_0x4b1c("0xc5e")])}function S(x){u.theta-=x}function M(x){u[_0x4b1c("0x955")]-=x}var R,L,H,D=(R=new(THREE[_0x4b1c("0x128")]),function(x,c){R[_0x4b1c("0xc77")](c,0),R[_0x4b1c("0x253")](-x),g[_0x4b1c("0xdd")](R)}),O=(L=new(THREE[_0x4b1c("0x128")]),function(x,c){!0===a[_0x4b1c("0xc63")]?L[_0x4b1c("0xc77")](c,1):(L[_0x4b1c("0xc77")](c,0),L[_0x4b1c("0x8ff")](a.object.up,L)),L[_0x4b1c("0x253")](x),g[_0x4b1c("0xdd")](L)}),P=(H=new(THREE[_0x4b1c("0x128")]),function(x,c){var b=a[_0x4b1c("0x73f")]===document?a[_0x4b1c("0x73f")].body:a[_0x4b1c("0x73f")];if(a[_0x4b1c("0x1d")][_0x4b1c("0x926")]){var _=a[_0x4b1c("0x1d")].position;H[_0x4b1c("0x20b")](_).sub(a[_0x4b1c("0x2c7")]);var e=H.length();e*=Math[_0x4b1c("0x2f9")](a[_0x4b1c("0x1d")][_0x4b1c("0x65e")]/2*Math.PI/180),D(2*x*e/b.clientHeight,a[_0x4b1c("0x1d")][_0x4b1c("0x22d")]),O(2*c*e/b.clientHeight,a.object.matrix)}else a[_0x4b1c("0x1d")][_0x4b1c("0x92a")]?(D(x*(a[_0x4b1c("0x1d")][_0x4b1c("0x35a")]-a[_0x4b1c("0x1d")].left)/a[_0x4b1c("0x1d")][_0x4b1c("0x65a")]/b[_0x4b1c("0x530")],a.object[_0x4b1c("0x22d")]),O(c*(a[_0x4b1c("0x1d")][_0x4b1c("0x35b")]-a[_0x4b1c("0x1d")][_0x4b1c("0x35c")])/a[_0x4b1c("0x1d")].zoom/b[_0x4b1c("0x4f2")],a[_0x4b1c("0x1d")][_0x4b1c("0x22d")])):(console[_0x4b1c("0x424")](_0x4b1c("0x1494")),a[_0x4b1c("0xc61")]=!1)});function N(x){a.object[_0x4b1c("0x926")]?h/=x:a[_0x4b1c("0x1d")][_0x4b1c("0x92a")]?(a.object[_0x4b1c("0x65a")]=Math[_0x4b1c("0x2f5")](a[_0x4b1c("0xc79")],Math[_0x4b1c("0x2f6")](a[_0x4b1c("0xc7a")],a.object[_0x4b1c("0x65a")]*x)),a[_0x4b1c("0x1d")][_0x4b1c("0x925")](),v=!0):(console[_0x4b1c("0x424")](_0x4b1c("0x1495")),a[_0x4b1c("0xc7c")]=!1)}function F(x){a[_0x4b1c("0x1d")].isPerspectiveCamera?h*=x:a[_0x4b1c("0x1d")][_0x4b1c("0x92a")]?(a[_0x4b1c("0x1d")].zoom=Math[_0x4b1c("0x2f5")](a[_0x4b1c("0xc79")],Math[_0x4b1c("0x2f6")](a[_0x4b1c("0xc7a")],a[_0x4b1c("0x1d")][_0x4b1c("0x65a")]/x)),a[_0x4b1c("0x1d")][_0x4b1c("0x925")](),v=!0):(console[_0x4b1c("0x424")](_0x4b1c("0x1495")),a[_0x4b1c("0xc7c")]=!1)}function B(x){y[_0x4b1c("0xdb")](x[_0x4b1c("0x4e2")],x[_0x4b1c("0x4e4")])}function z(x){if(!1!==a[_0x4b1c("0x70b")]){switch(x[_0x4b1c("0x4d8")](),a[_0x4b1c("0x73f")][_0x4b1c("0x96a")]?a.domElement[_0x4b1c("0x96a")]():window[_0x4b1c("0x96a")](),x.button){case a[_0x4b1c("0xb96")][_0x4b1c("0xb8b")]:if(x[_0x4b1c("0x1496")]||x[_0x4b1c("0x1497")]||x[_0x4b1c("0x1498")]){if(!1===a[_0x4b1c("0xc61")])return;B(x),f=o[_0x4b1c("0xc85")]}else{if(!1===a[_0x4b1c("0xc7d")])return;b=x,p[_0x4b1c("0xdb")](b.clientX,b[_0x4b1c("0x4e4")]),f=o[_0x4b1c("0xc81")]}break;case a[_0x4b1c("0xb96")][_0x4b1c("0xb8a")]:if(!1===a[_0x4b1c("0xc7c")])return;c=x,E[_0x4b1c("0xdb")](c[_0x4b1c("0x4e2")],c.clientY),f=o[_0x4b1c("0xc84")];break;case a[_0x4b1c("0xb96")][_0x4b1c("0xb97")]:if(!1===a[_0x4b1c("0xc61")])return;B(x),f=o[_0x4b1c("0xc85")]}var c,b;f!==o.NONE&&(document[_0x4b1c("0x37")](_0x4b1c("0x983"),U,!1),document[_0x4b1c("0x37")](_0x4b1c("0x984"),V,!1),a[_0x4b1c("0x1d9")](r))}}function U(x){var c,b;if(!1!==a[_0x4b1c("0x70b")])switch(x[_0x4b1c("0x4d8")](),f){case o[_0x4b1c("0xc81")]:if(!1===a[_0x4b1c("0xc7d")])return;!function(x){m[_0x4b1c("0xdb")](x[_0x4b1c("0x4e2")],x.clientY),A[_0x4b1c("0x8fe")](m,p)[_0x4b1c("0x253")](a.rotateSpeed);var c=a[_0x4b1c("0x73f")]===document?a[_0x4b1c("0x73f")][_0x4b1c("0x26")]:a.domElement;S(2*Math.PI*A.x/c[_0x4b1c("0x4f2")]),M(2*Math.PI*A.y/c[_0x4b1c("0x4f2")]),p[_0x4b1c("0x20b")](m),a[_0x4b1c("0x164")]()}(x);break;case o[_0x4b1c("0xc84")]:if(!1===a[_0x4b1c("0xc7c")])return;b=x,w[_0x4b1c("0xdb")](b[_0x4b1c("0x4e2")],b[_0x4b1c("0x4e4")]),T[_0x4b1c("0x8fe")](w,E),T.y>0?N(k()):T.y<0&&F(k()),E[_0x4b1c("0x20b")](w),a[_0x4b1c("0x164")]();break;case o[_0x4b1c("0xc85")]:if(!1===a[_0x4b1c("0xc61")])return;c=x,C[_0x4b1c("0xdb")](c.clientX,c[_0x4b1c("0x4e4")]),I[_0x4b1c("0x8fe")](C,y)[_0x4b1c("0x253")](a[_0x4b1c("0xc62")]),P(I.x,I.y),y[_0x4b1c("0x20b")](C),a[_0x4b1c("0x164")]()}}function V(x){!1!==a[_0x4b1c("0x70b")]&&(document[_0x4b1c("0x29e")](_0x4b1c("0x983"),U,!1),document[_0x4b1c("0x29e")](_0x4b1c("0x984"),V,!1),a[_0x4b1c("0x1d9")](s),f=o.NONE)}function j(x){var c;!1===a[_0x4b1c("0x70b")]||!1===a[_0x4b1c("0xc7c")]||f!==o[_0x4b1c("0xc6b")]&&f!==o[_0x4b1c("0xc81")]||(x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")](),a[_0x4b1c("0x1d9")](r),(c=x).deltaY<0?F(k()):c[_0x4b1c("0xc7f")]>0&&N(k()),a.update(),a.dispatchEvent(s))}function Z(x){!1!==a[_0x4b1c("0x70b")]&&!1!==a[_0x4b1c("0xc86")]&&!1!==a[_0x4b1c("0xc61")]&&function(x){var c=!1;switch(x.keyCode){case a[_0x4b1c("0x684")].UP:P(0,a[_0x4b1c("0xc64")]),c=!0;break;case a[_0x4b1c("0x684")][_0x4b1c("0xc80")]:P(0,-a[_0x4b1c("0xc64")]),c=!0;break;case a[_0x4b1c("0x684")][_0x4b1c("0xb8b")]:P(a[_0x4b1c("0xc64")],0),c=!0;break;case a[_0x4b1c("0x684")].RIGHT:P(-a[_0x4b1c("0xc64")],0),c=!0}c&&(x[_0x4b1c("0x4d8")](),a[_0x4b1c("0x164")]())}(x)}function Y(x){if(!1!==a[_0x4b1c("0x70b")]){switch(x[_0x4b1c("0x4d8")](),x[_0x4b1c("0xc2d")][_0x4b1c("0x0")]){case 1:if(!1===a[_0x4b1c("0xc7d")])return;c=x,p[_0x4b1c("0xdb")](c.touches[0][_0x4b1c("0x970")],c[_0x4b1c("0xc2d")][0].pageY),f=o[_0x4b1c("0x1499")];break;case 2:if(!1===a[_0x4b1c("0xc7c")]&&!1===a.enablePan)return;!function(x){if(a[_0x4b1c("0xc7c")]){var c=x[_0x4b1c("0xc2d")][0].pageX-x.touches[1][_0x4b1c("0x970")],b=x[_0x4b1c("0xc2d")][0].pageY-x[_0x4b1c("0xc2d")][1][_0x4b1c("0x972")],_=Math[_0x4b1c("0x120")](c*c+b*b);E.set(0,_)}if(a[_0x4b1c("0xc61")]){var e=.5*(x[_0x4b1c("0xc2d")][0][_0x4b1c("0x970")]+x[_0x4b1c("0xc2d")][1].pageX),t=.5*(x[_0x4b1c("0xc2d")][0][_0x4b1c("0x972")]+x[_0x4b1c("0xc2d")][1][_0x4b1c("0x972")]);y[_0x4b1c("0xdb")](e,t)}}(x),f=o.TOUCH_DOLLY_PAN;break;default:f=o[_0x4b1c("0xc6b")]}var c;f!==o[_0x4b1c("0xc6b")]&&a[_0x4b1c("0x1d9")](r)}}function W(x){if(!1!==a.enabled)switch(x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")](),x.touches.length){case 1:if(!1===a.enableRotate)return;if(f!==o[_0x4b1c("0x1499")])return;!function(x){m[_0x4b1c("0xdb")](x[_0x4b1c("0xc2d")][0].pageX,x[_0x4b1c("0xc2d")][0][_0x4b1c("0x972")]),A[_0x4b1c("0x8fe")](m,p)[_0x4b1c("0x253")](a.rotateSpeed);var c=a.domElement===document?a[_0x4b1c("0x73f")].body:a[_0x4b1c("0x73f")];S(2*Math.PI*A.x/c.clientHeight),M(2*Math.PI*A.y/c.clientHeight),p[_0x4b1c("0x20b")](m),a[_0x4b1c("0x164")]()}(x);break;case 2:if(!1===a[_0x4b1c("0xc7c")]&&!1===a.enablePan)return;if(f!==o[_0x4b1c("0x149a")])return;!function(x){if(a[_0x4b1c("0xc7c")]){var c=x.touches[0].pageX-x[_0x4b1c("0xc2d")][1].pageX,b=x[_0x4b1c("0xc2d")][0].pageY-x[_0x4b1c("0xc2d")][1][_0x4b1c("0x972")],_=Math[_0x4b1c("0x120")](c*c+b*b);w[_0x4b1c("0xdb")](0,_),T.set(0,Math.pow(w.y/E.y,a[_0x4b1c("0xc5e")])),N(T.y),E.copy(w)}if(a[_0x4b1c("0xc61")]){var e=.5*(x[_0x4b1c("0xc2d")][0][_0x4b1c("0x970")]+x[_0x4b1c("0xc2d")][1][_0x4b1c("0x970")]),t=.5*(x[_0x4b1c("0xc2d")][0][_0x4b1c("0x972")]+x[_0x4b1c("0xc2d")][1][_0x4b1c("0x972")]);C.set(e,t),I[_0x4b1c("0x8fe")](C,y).multiplyScalar(a.panSpeed),P(I.x,I.y),y[_0x4b1c("0x20b")](C)}a[_0x4b1c("0x164")]()}(x);break;default:f=o[_0x4b1c("0xc6b")]}}function G(x){!1!==a.enabled&&(a.dispatchEvent(s),f=o[_0x4b1c("0xc6b")])}function X(x){!1!==a.enabled&&x[_0x4b1c("0x4d8")]()}a[_0x4b1c("0x73f")].addEventListener(_0x4b1c("0x981"),X,!1),a.domElement.addEventListener(_0x4b1c("0x982"),z,!1),a.domElement[_0x4b1c("0x37")]("wheel",j,!1),a[_0x4b1c("0x73f")][_0x4b1c("0x37")](_0x4b1c("0xbf8"),Y,!1),a[_0x4b1c("0x73f")][_0x4b1c("0x37")](_0x4b1c("0xbfa"),G,!1),a[_0x4b1c("0x73f")].addEventListener(_0x4b1c("0xbf9"),W,!1),window[_0x4b1c("0x37")]("keydown",Z,!1),this[_0x4b1c("0x164")]()},THREE[_0x4b1c("0x149b")][_0x4b1c("0xf")]=(0,e[_0x4b1c("0xc")])(THREE[_0x4b1c("0x149c")][_0x4b1c("0xf")]),THREE.OrbitControls[_0x4b1c("0xf")][_0x4b1c("0x5f0")]=THREE.OrbitControls,(0,_[_0x4b1c("0xc")])(THREE.OrbitControls[_0x4b1c("0xf")],{center:{get:function(){return console[_0x4b1c("0x424")]("THREE.OrbitControls: .center has been renamed to .target"),this[_0x4b1c("0x2c7")]}},noZoom:{get:function(){return _0x4b1c("0x149d"),!this[_0x4b1c("0xc7c")]},set:function(x){console[_0x4b1c("0x424")]("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this[_0x4b1c("0xc7c")]=!x}},noRotate:{get:function(){return console[_0x4b1c("0x424")](_0x4b1c("0x149e")),!this[_0x4b1c("0xc7d")]},set:function(x){console[_0x4b1c("0x424")](_0x4b1c("0x149e")),this[_0x4b1c("0xc7d")]=!x}},noPan:{get:function(){return console[_0x4b1c("0x424")](_0x4b1c("0x149f")),!this[_0x4b1c("0xc61")]},set:function(x){console[_0x4b1c("0x424")](_0x4b1c("0x149f")),this[_0x4b1c("0xc61")]=!x}},noKeys:{get:function(){return console[_0x4b1c("0x424")](_0x4b1c("0x14a0")),!this[_0x4b1c("0xc86")]},set:function(x){console[_0x4b1c("0x424")](_0x4b1c("0x14a0")),this[_0x4b1c("0xc86")]=!x}},staticMoving:{get:function(){return _0x4b1c("0x14a1"),!this.enableDamping},set:function(x){console[_0x4b1c("0x424")]("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this[_0x4b1c("0xc5c")]=!x}},dynamicDampingFactor:{get:function(){return console[_0x4b1c("0x424")]("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this[_0x4b1c("0xc5d")]},set:function(x){_0x4b1c("0x14a2"),this[_0x4b1c("0xc5d")]=x}}})},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(c,b){(0,_[_0x4b1c("0xc")])(this,x),this[_0x4b1c("0x3a")]=c,this.isEnable=!0,this.jumping=!1,this[_0x4b1c("0x14a3")]=!1,this[_0x4b1c("0x14a4")]=10,this[_0x4b1c("0x14a5")]=9.8,this[_0x4b1c("0x14a6")]=new(THREE[_0x4b1c("0x128")]),this.controls=null,this.animations={},this[_0x4b1c("0x14a7")]=[],this._controlMode=null,this[_0x4b1c("0xbe7")]=new(THREE[_0x4b1c("0x516")]),this[_0x4b1c("0x3fe")]=new(THREE[_0x4b1c("0x128")]),this[_0x4b1c("0x14a8")]=performance[_0x4b1c("0x6cd")](),this.moveForward=!1,this[_0x4b1c("0x96b")]=!1,this.moveLeft=!1,this[_0x4b1c("0x958")]=!1,this[_0x4b1c("0x14a9")]=!1,this[_0x4b1c("0x2c7")]=new THREE.Vector3,this[_0x4b1c("0x2b0")]=.001,this[_0x4b1c("0x2ad")]=.1,this.speed=.1,this[_0x4b1c("0x14aa")]=new(THREE[_0x4b1c("0x214")]),this[_0x4b1c("0x14ab")]=10,this[_0x4b1c("0x14ac")]=Math.PI/18,this[_0x4b1c("0x14ad")]=.5,this.t=0,this[_0x4b1c("0x14ae")]=10,this[_0x4b1c("0x14af")]=3,this[_0x4b1c("0x14b0")]=5,this.velocity=new THREE.Vector3,this[_0x4b1c("0x14b1")]=.06,this[_0x4b1c("0x14b2")]=3,this[_0x4b1c("0x23c")]=0,this[_0x4b1c("0x658")]=c.currentCamera,this[_0x4b1c("0x14b3")]=b,this[_0x4b1c("0x1fb")]=null,this.isLookAt=!0,this[_0x4b1c("0x14b4")]=!1,this[_0x4b1c("0x14b5")]=new(THREE[_0x4b1c("0x128")]),this.prePosition=null,this[_0x4b1c("0x14b6")]=[],this[_0x4b1c("0x39")]()}return(0,e[_0x4b1c("0xc")])(x,[{key:_0x4b1c("0x39"),value:function(){var x=this;this[_0x4b1c("0x266")]=new THREE.MapControls(this[_0x4b1c("0x658")],this.instance[_0x4b1c("0x1c3")][_0x4b1c("0x536")]),this[_0x4b1c("0x266")][_0x4b1c("0xc61")]=!1,this.controls[_0x4b1c("0xc86")]=!1,this[_0x4b1c("0x14b7")](),this[_0x4b1c("0x266")].mouseButtons={MIDDLE:THREE[_0x4b1c("0xb89")][_0x4b1c("0xb8a")],RIGHT:THREE.MOUSE.RIGHT},this.enabled(),this[_0x4b1c("0x266")][_0x4b1c("0x70b")]=!0,this[_0x4b1c("0x266")][_0x4b1c("0x14b8")]=!1,this[_0x4b1c("0x266")][_0x4b1c("0xb73")]=2*Math.PI/3;var c=new(THREE[_0x4b1c("0x128")]),b=Math[_0x4b1c("0x14b9")](1*c.x,-1*c.z),_=this;this[_0x4b1c("0x14b3")]&&(this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0xbd0")](c),this[_0x4b1c("0x3a")].cameraFlyTo({x:this.controltarget.x,y:this[_0x4b1c("0x14b3")].y,z:this[_0x4b1c("0x14b3")].z,radius:1e3,directionAngle:b,pitchAngle:45,callback:function(){_[_0x4b1c("0x14ba")]=!0}})),this[_0x4b1c("0x3a")].on(_0x4b1c("0x164"),this[_0x4b1c("0x164")].bind(this)),document[_0x4b1c("0x37")](_0x4b1c("0x263"),(function(c){c[_0x4b1c("0x14bb")]===_0x4b1c("0x14bc")&&x[_0x4b1c("0xd15")]()})),_[_0x4b1c("0x3a")][_0x4b1c("0x232")].on(_0x4b1c("0xc39"),(function(x){_.isEnable&&_[_0x4b1c("0x14bd")]&&(_.moveToByLeftKey(x),console[_0x4b1c("0x226")]("pickerNone_",x))}))}},{key:_0x4b1c("0x14be"),value:function(x,c){var b=this;if(x instanceof esmap.ES3DMarker){if(!x.o3d_)return void console[_0x4b1c("0x424")](_0x4b1c("0x14c0"));b[_0x4b1c("0x14b3")]=null,b[_0x4b1c("0x14b3")]=x,b[_0x4b1c("0x14bf")]=c||"vehicle",b[_0x4b1c("0x3a")][_0x4b1c("0x25f")]({x:x.x,y:x.y,z:x.z,radius:1e3,pitchAngle:45,time:1,callback:function(){b[_0x4b1c("0x14ba")]=!0}})}}},{key:"bindEvent",value:function(){document[_0x4b1c("0x37")](_0x4b1c("0x263"),this[_0x4b1c("0x974")][_0x4b1c("0xe")](this)),document.addEventListener("keyup",this[_0x4b1c("0x977")][_0x4b1c("0xe")](this))}},{key:_0x4b1c("0x14c1"),value:function(){document[_0x4b1c("0x29e")]("keydown",this[_0x4b1c("0x974")].bind(this)),document[_0x4b1c("0x29e")](_0x4b1c("0x264"),this[_0x4b1c("0x977")][_0x4b1c("0xe")](this))}},{key:"setPosition",value:function(x,c,b){this[_0x4b1c("0x658")][_0x4b1c("0x105")].set(x,c,b)}},{key:_0x4b1c("0x974"),value:function(x){if(this[_0x4b1c("0x14c2")]&&!this[_0x4b1c("0x14bd")])switch(x[_0x4b1c("0x14bb")]){case _0x4b1c("0x14c3"):case _0x4b1c("0x14c4"):this[_0x4b1c("0x957")]=!0;break;case"ArrowDown":case"KeyS":this[_0x4b1c("0x96b")]=!0;break;case _0x4b1c("0x14c5"):case _0x4b1c("0x14c6"):this[_0x4b1c("0x975")]=!0;break;case _0x4b1c("0x14c7"):case _0x4b1c("0x14c8"):this[_0x4b1c("0x958")]=!0;break;case"Space":!0===this[_0x4b1c("0x14c9")]&&(this[_0x4b1c("0x14ca")].y+=350),this[_0x4b1c("0x14c9")]=!1}}},{key:_0x4b1c("0x977"),value:function(x){if(this[_0x4b1c("0x14c2")]&&!this._enableMouseMode)switch(x[_0x4b1c("0x14bb")]){case _0x4b1c("0x14c3"):case _0x4b1c("0x14c4"):this.moveForward=!1;break;case"ArrowDown":case _0x4b1c("0x14cb"):this.moveBackward=!1,this.controlMode==_0x4b1c("0x14cc")&&this[_0x4b1c("0x2b6")](Math.PI);break;case _0x4b1c("0x14c5"):case"KeyA":this[_0x4b1c("0x975")]=!1;break;case _0x4b1c("0x14c7"):case"KeyD":this[_0x4b1c("0x958")]=!1}}},{key:_0x4b1c("0x70b"),value:function(){this[_0x4b1c("0x14c2")]=!0}},{key:_0x4b1c("0x14cd"),value:function(){this[_0x4b1c("0x14c2")]=!1}},{key:"destory",value:function(){this[_0x4b1c("0x14c1")]()}},{key:_0x4b1c("0x14ce"),value:function(x){this[_0x4b1c("0x3a")]=x}},{key:_0x4b1c("0x164"),value:function(){if(this.isEnable&&this[_0x4b1c("0x14b3")]&&this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")]){this[_0x4b1c("0x14ba")]&&(this[_0x4b1c("0x658")][_0x4b1c("0x241")](this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x105")]),this[_0x4b1c("0x266")].target=this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x105")].clone());var x=this[_0x4b1c("0x3a")].timer[_0x4b1c("0x2a7")]();this.mixer&&this[_0x4b1c("0x14cf")]&&this[_0x4b1c("0x1fb")][_0x4b1c("0x164")](x),this[_0x4b1c("0x14d0")]&&this.tween[_0x4b1c("0x164")](x);var c=this[_0x4b1c("0x658")].position[_0x4b1c("0x13e")]()[_0x4b1c("0x6a0")](this[_0x4b1c("0x266")].target);this[_0x4b1c("0x3fe")]=c[_0x4b1c("0x13e")](),c.y=0,c[_0x4b1c("0x301")]();var b=this[_0x4b1c("0x3fe")][_0x4b1c("0x13e")]();b.y=0,b[_0x4b1c("0x301")]();var _=new THREE.Vector3;_.crossVectors(this[_0x4b1c("0x3fe")],new(THREE[_0x4b1c("0x128")])(0,1,0)),_.normalize();var e=new THREE.Vector3;this.controltarget.o3d_[_0x4b1c("0xbd0")](e);(e=e.applyAxisAngle(new(THREE[_0x4b1c("0x128")])(0,1,0),Math.PI))[_0x4b1c("0x13e")]();var t=new(THREE[_0x4b1c("0x128")]);t.crossVectors(e,new(THREE[_0x4b1c("0x128")])(0,1,0)),t[_0x4b1c("0x301")]();e.clone()[_0x4b1c("0xa0c")](),t.clone()[_0x4b1c("0xa0c")]();var i=this[_0x4b1c("0x14d1")](this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x105")],new(THREE[_0x4b1c("0x128")])(0,-1,0),5);this.canFall=null==i,i&&(i.distance>0||i[_0x4b1c("0x23c")]<1)&&(this[_0x4b1c("0x14a3")]=!1),this[_0x4b1c("0x14a3")]||(this.controltarget[_0x4b1c("0xf0")][_0x4b1c("0x105")].y=i.point.y+this[_0x4b1c("0x14b2")],this[_0x4b1c("0x14ca")].y=0),this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x105")].y<0&&(this[_0x4b1c("0x14b3")].o3d_[_0x4b1c("0x105")].y=0,this[_0x4b1c("0x14ca")].y=0),this[_0x4b1c("0x14d2")](),this[_0x4b1c("0x14b5")]=this[_0x4b1c("0x658")].position.clone(),this.t=.1,this[_0x4b1c("0x14d3")](!0,!0,e),this[_0x4b1c("0x14bf")]==_0x4b1c("0x14d4")?this.moveForward?(this.adjustWeight(this[_0x4b1c("0x267")].forward,1,this.animateDamper),this[_0x4b1c("0x14d5")](this.animations[_0x4b1c("0x23f")],0,this[_0x4b1c("0x14b1")])):this.moveBackward?(this[_0x4b1c("0x14d5")](this.animations[_0x4b1c("0x23f")],1,this[_0x4b1c("0x14b1")]),this[_0x4b1c("0x14d5")](this[_0x4b1c("0x267")][_0x4b1c("0x23e")],0,this[_0x4b1c("0x14b1")])):(this.adjustWeight(this[_0x4b1c("0x267")].forward,0,this.animateDamper),this[_0x4b1c("0x14d5")](this[_0x4b1c("0x267")][_0x4b1c("0x23f")],0,this[_0x4b1c("0x14b1")])):this[_0x4b1c("0x957")]?(!this[_0x4b1c("0x14d6")]&&this[_0x4b1c("0x14d5")](this[_0x4b1c("0x267")].idle,0,this[_0x4b1c("0x14b1")]),!this[_0x4b1c("0x14d6")]&&this[_0x4b1c("0x14d5")](this[_0x4b1c("0x267")][_0x4b1c("0x14d7")],1,this.animateDamper)):(!this.enableMouseMode&&this.adjustWeight(this[_0x4b1c("0x267")][_0x4b1c("0x14d8")],1,this[_0x4b1c("0x14b1")]),!this[_0x4b1c("0x14d6")]&&this[_0x4b1c("0x14d5")](this[_0x4b1c("0x267")][_0x4b1c("0x14d7")],0,this[_0x4b1c("0x14b1")])),this.moveLeft&&this[_0x4b1c("0x14b3")].o3d_[_0x4b1c("0x14d9")](.05),this[_0x4b1c("0x958")]&&this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")].rotateY(-.05),this[_0x4b1c("0x266")][_0x4b1c("0x164")]({forceTheta:this[_0x4b1c("0x266")][_0x4b1c("0x2ce")]()}),this[_0x4b1c("0x14da")]&&this[_0x4b1c("0x14db")](),this[_0x4b1c("0x14bd")]&&this[_0x4b1c("0x14dc")]()}}},{key:"exit",value:function(){this[_0x4b1c("0x14cd")](),this[_0x4b1c("0x14dd")](),this.isLookAt=!1,this[_0x4b1c("0x266")][_0x4b1c("0x70b")]=!1,this[_0x4b1c("0x3a")].controls[_0x4b1c("0x70b")]=!0}},{key:_0x4b1c("0x14de"),value:function(x,c){this[_0x4b1c("0x14a7")]=[],this[_0x4b1c("0x14a7")][_0x4b1c("0x12")](x,c),this[_0x4b1c("0x14cf")]=!0,this[_0x4b1c("0x1fb")]=new THREE.AnimationMixer(this.controltarget[_0x4b1c("0xf0")][_0x4b1c("0xf1")][0]);var b=this[_0x4b1c("0x3a")].mapService[_0x4b1c("0x2a2")][this.controltarget.model],_=b[_0x4b1c("0x267")][_0x4b1c("0xddd")]((function(c){return c[_0x4b1c("0x1f7")]===x})),e=b[_0x4b1c("0x267")].find((function(x){return x.name===c}));e&&_?(this[_0x4b1c("0x14bf")]===_0x4b1c("0x14cc")?(this[_0x4b1c("0x267")][_0x4b1c("0x14d8")]=this[_0x4b1c("0x1fb")].clipAction(_),this[_0x4b1c("0x267")][_0x4b1c("0x14d7")]=this[_0x4b1c("0x1fb")].clipAction(e),this.animations[_0x4b1c("0x23e")]&&delete this[_0x4b1c("0x267")][_0x4b1c("0x23e")],this[_0x4b1c("0x267")].backward&&delete this[_0x4b1c("0x267")][_0x4b1c("0x23f")]):(this.animations[_0x4b1c("0x23e")]=this[_0x4b1c("0x1fb")][_0x4b1c("0x28d")](_),this[_0x4b1c("0x267")][_0x4b1c("0x23f")]=this[_0x4b1c("0x1fb")][_0x4b1c("0x28d")](e),this[_0x4b1c("0x267")][_0x4b1c("0x14d8")]&&delete this.animations.idle,this[_0x4b1c("0x267")].run&&delete this[_0x4b1c("0x267")][_0x4b1c("0x14d7")]),this[_0x4b1c("0x14df")]()):console[_0x4b1c("0x424")]("未找到目标动画，请检查输入的动画名称是否正确",e,_)}},{key:"setWeight",value:function(x,c){x.enabled=!0,x.setEffectiveTimeScale(1)}},{key:"startAllActions",value:function(){for(var x in this[_0x4b1c("0x267")])this.setWeight(this.animations[x],0),this.animations[x].weight=0,this[_0x4b1c("0x267")][x][_0x4b1c("0x14e0")](THREE[_0x4b1c("0x295")])[_0x4b1c("0x29b")]();this.controlMode===_0x4b1c("0x14cc")&&(this[_0x4b1c("0x14e1")](this[_0x4b1c("0x267")].idle,1),this[_0x4b1c("0x267")][_0x4b1c("0x14d8")][_0x4b1c("0x14e2")]=1)}},{key:_0x4b1c("0x14d1"),value:function(x,c,b){var _=this,e=new THREE.Raycaster(x,c),t=this[_0x4b1c("0x3a")][_0x4b1c("0x232")][_0x4b1c("0x521")],i=e[_0x4b1c("0x51a")](t,!0);try{for(var a=function(x){_[_0x4b1c("0x14b3")][_0x4b1c("0xf0")].traverse((function(c){c===i[x][_0x4b1c("0x1d")]&&(i[x][_0x4b1c("0x1d")]=null)}))},n=0;n<i[_0x4b1c("0x0")];n++)a(n)}catch(x){console[_0x4b1c("0x424")]("射线碰撞检测异常",x)}return(i=i[_0x4b1c("0x2db")]((function(x){return null!==x[_0x4b1c("0x1d")]})))[_0x4b1c("0x0")]>0&&i[0].distance<b?i[0]:void 0}},{key:"fade",value:function(x,c,b){if(x)return this[_0x4b1c("0x14d0")]=new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(x).to(c,1e3*b).start(),this.tween}},{key:_0x4b1c("0x2b6"),value:function(x){return new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")].rotation).to({y:this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x202")].y+x},200)[_0x4b1c("0x1af")]()}},{key:"moveControl",value:function(x,c,b){if(this[_0x4b1c("0x957")])this[_0x4b1c("0x14ca")].z<this[_0x4b1c("0x14ae")]&&(this[_0x4b1c("0x14ca")].z+=this[_0x4b1c("0x14af")]*this.t),this[_0x4b1c("0x14e3")](b,x?this[_0x4b1c("0x14ca")].z:0);else if(this[_0x4b1c("0x96b")]){if(this[_0x4b1c("0x14bf")]===_0x4b1c("0x14cc"))return;this.velocity.z>-1*this[_0x4b1c("0x14ae")]&&(this[_0x4b1c("0x14ca")].z-=this[_0x4b1c("0x14af")]*this.t),this.updatePosition(b[_0x4b1c("0xa0c")](),c?-1*this[_0x4b1c("0x14ca")].z:0)}else this[_0x4b1c("0x14e4")](b,x)}},{key:_0x4b1c("0x14e3"),value:function(x,c){var b=this[_0x4b1c("0x14b3")].o3d_[_0x4b1c("0x105")][_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](x[_0x4b1c("0x13e")]()[_0x4b1c("0x253")](c));this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0xc70")](b,this.t);var _=this[_0x4b1c("0x658")][_0x4b1c("0x105")][_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](x[_0x4b1c("0x13e")]()[_0x4b1c("0x253")](c));this[_0x4b1c("0x658")].position[_0x4b1c("0xc70")](_,this.t)}},{key:"applyInertia",value:function(x,c){this[_0x4b1c("0x14ca")].z>0?(this[_0x4b1c("0x14e3")](x,this[_0x4b1c("0x14ca")].z),this[_0x4b1c("0x14ca")].z-=this[_0x4b1c("0x14b0")]*this.t,this[_0x4b1c("0x14ca")].z<0&&(this.velocity.z=0)):this[_0x4b1c("0x14ca")].z<0&&(this[_0x4b1c("0x14e3")](x[_0x4b1c("0xa0c")](),-this.velocity.z),this[_0x4b1c("0x14ca")].z+=this[_0x4b1c("0x14b0")]*this.t,this.velocity.z>0&&(this[_0x4b1c("0x14ca")].z=0))}},{key:_0x4b1c("0x14d5"),value:function(x,c,b){x&&(x.weight<c?x[_0x4b1c("0x14e2")]=Math[_0x4b1c("0x2f6")](x[_0x4b1c("0x14e2")]+b,c):x[_0x4b1c("0x14e2")]>c&&(x[_0x4b1c("0x14e2")]=Math.max(x.weight-b,c)))}},{key:_0x4b1c("0x14d2"),value:function(){if(this[_0x4b1c("0x14bf")]===_0x4b1c("0x14d4")){var x=new(THREE[_0x4b1c("0x128")])(0,0,3),c=new(THREE[_0x4b1c("0x128")])(0,0,-3),b=this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0x13e")]().add(x),_=this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0x13e")]()[_0x4b1c("0xdd")](c),e=this[_0x4b1c("0x14d1")](b,new(THREE[_0x4b1c("0x128")])(0,-1,0),5),t=this[_0x4b1c("0x14d1")](_,new THREE.Vector3(0,-1,0),5),i=e?e.point:null,a=t?t[_0x4b1c("0x2f7")]:null;if(i&&a){var n=(new THREE.Vector3).subVectors(i,a)[_0x4b1c("0x301")]()[_0x4b1c("0x231")](new(THREE[_0x4b1c("0x128")])(0,0,1));this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x202")].x=n}}}},{key:_0x4b1c("0x14db"),value:function(){if(this[_0x4b1c("0x14bf")]===_0x4b1c("0x14cc")){var x=new(THREE[_0x4b1c("0x128")]);this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0xbd0")](x);var c=new THREE.Vector3;this[_0x4b1c("0x658")].getWorldDirection(c);var b=new(THREE[_0x4b1c("0x552")])(x.x,x.z).normalize(),_=new(THREE[_0x4b1c("0x552")])(c.x,c.z).normalize(),e=Math.atan2(_.y,_.x)-Math[_0x4b1c("0x14b9")](b.y,b.x);e>Math.PI&&(e-=2*Math.PI),e<-Math.PI&&(e+=2*Math.PI),Math[_0x4b1c("0x23d")](e)>this[_0x4b1c("0x14ac")]&&(e>0?this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")].rotation.y+=.05:this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x202")].y-=.05)}}},{key:"moveToByLeftKey",value:function(x){if(0!==x[_0x4b1c("0x14e5")][_0x4b1c("0x0")])if(x[_0x4b1c("0x14e5")][0][_0x4b1c("0x14e7")].normal.y<0)_0x4b1c("0x14e8");else{var c=x[_0x4b1c("0x14e5")][0][_0x4b1c("0x2f7")];if(this[_0x4b1c("0x14d6")]&&this.controltarget&&c){var b=this;esmap[_0x4b1c("0x1a6")].removeAll(),c.y+=2*b[_0x4b1c("0x14b2")],b[_0x4b1c("0x14bf")]==_0x4b1c("0x14d4")&&b[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x241")](c);var _=b[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x105")][_0x4b1c("0x124")](c)/b[_0x4b1c("0x14ae")]*300,e=void 0;new(esmap[_0x4b1c("0x1a6")][_0x4b1c("0x1a7")])(b[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x105")]).to(c,_).onStart((function(){e=b.addIndicator(c),b.lockCameraDistance(),setTimeout((function(){b[_0x4b1c("0x14e9")](e)}),1e3)}))[_0x4b1c("0x174")]((function(){b._controlMode==_0x4b1c("0x14cc")?(b[_0x4b1c("0x14d5")](b[_0x4b1c("0x267")][_0x4b1c("0x14d7")],1,.06),b.adjustWeight(b[_0x4b1c("0x267")][_0x4b1c("0x14d8")],0,.06)):b[_0x4b1c("0x14d5")](b[_0x4b1c("0x267")][_0x4b1c("0x23e")],1,.06)}))[_0x4b1c("0x1ac")]((function(){b[_0x4b1c("0x14ea")]==_0x4b1c("0x14cc")?(b[_0x4b1c("0x267")].run[_0x4b1c("0x14e2")]=0,b[_0x4b1c("0x267")][_0x4b1c("0x14d8")][_0x4b1c("0x14e2")]=1):b[_0x4b1c("0x267")].forward.weight=0,b.clearAllIndicator(),b[_0x4b1c("0x14eb")](1/0)})).start()}}else console[_0x4b1c("0x424")](_0x4b1c("0x14e6"))}},{key:"throttle",value:function(x,c){var b=this,_=0;return function(){for(var e=arguments[_0x4b1c("0x0")],t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=Date[_0x4b1c("0x6cd")]();a-_>c&&(x[_0x4b1c("0x4")](b,t),_=a)}}},{key:_0x4b1c("0x14ec"),value:function(x,c){var b=this,_=null;return function(){for(var e=arguments[_0x4b1c("0x0")],t=Array(e),i=0;i<e;i++)t[i]=arguments[i];_&&clearTimeout(_),_=setTimeout((function(){x[_0x4b1c("0x4")](b,t)}),c)}}},{key:"pickPoint",value:function(x){var c=new(THREE[_0x4b1c("0x552")]);c.x=x[_0x4b1c("0x4e2")]/window.innerWidth*2-1,c.y=-x[_0x4b1c("0x4e4")]/window[_0x4b1c("0x968")]*2+1;var b=new(THREE[_0x4b1c("0x516")]);b.setFromCamera(c,this[_0x4b1c("0x658")]),this[_0x4b1c("0x3a")][_0x4b1c("0x2fa")][_0x4b1c("0x51b")]();var _=b.intersectObjects(this[_0x4b1c("0x3a")][_0x4b1c("0x2fa")][_0x4b1c("0x3ed")]);if(_[_0x4b1c("0x0")]>0){var e=_[0];if(e.face[_0x4b1c("0x140")].y>0)return e}}},{key:_0x4b1c("0x14dc"),value:function(){var x=this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")].position[_0x4b1c("0x13e")]();if(this[_0x4b1c("0x14ed")]){var c=x.clone()[_0x4b1c("0x6a0")](this[_0x4b1c("0x14ed")]);0!==c[_0x4b1c("0x0")]()&&(this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x241")](x.clone()[_0x4b1c("0xdd")](c)),this[_0x4b1c("0x14b3")][_0x4b1c("0xf0")][_0x4b1c("0x202")].y+=Math.PI,this[_0x4b1c("0x14ed")]=x)}else this[_0x4b1c("0x14ed")]=x[_0x4b1c("0x13e")]()}},{key:_0x4b1c("0x14ee"),value:function(x){if(this[_0x4b1c("0x14bd")]){var c=new THREE.ConeGeometry(.5,1,32),b=new(THREE[_0x4b1c("0x144")])({color:16776960}),_=new(THREE[_0x4b1c("0x197")])(c,b);this[_0x4b1c("0x3a")][_0x4b1c("0x1c3")][_0x4b1c("0x102")][_0x4b1c("0xdd")](_),this.indicators.push(_);var e=this;return this[_0x4b1c("0x3a")].on(_0x4b1c("0x164"),(function(){_&&e[_0x4b1c("0x14b3")]&&b&&_[_0x4b1c("0x105")].copy(x)})),_}}},{key:_0x4b1c("0x14e9"),value:function(x){this[_0x4b1c("0x3a")][_0x4b1c("0x1c3")][_0x4b1c("0x102")][_0x4b1c("0x2ea")](x),x[_0x4b1c("0xf2")].dispose(),x[_0x4b1c("0xf4")].dispose(),this[_0x4b1c("0x14b6")]=this.indicators[_0x4b1c("0x2db")]((function(c){return c!==x})),x=null}},{key:_0x4b1c("0x14ef"),value:function(){var x=this;this[_0x4b1c("0x14b6")][_0x4b1c("0x1c")]((function(c){x[_0x4b1c("0x3a")].mapView[_0x4b1c("0x102")][_0x4b1c("0x2ea")](c),c[_0x4b1c("0xf2")][_0x4b1c("0xf3")](),c[_0x4b1c("0xf4")][_0x4b1c("0xf3")](),c=null})),this[_0x4b1c("0x14b6")]=[]}},{key:_0x4b1c("0x14eb"),value:function(){var x=arguments[_0x4b1c("0x0")]>0&&void 0!==arguments[0]?arguments[0]:50;this[_0x4b1c("0x266")][_0x4b1c("0x2ad")]=x}},{key:_0x4b1c("0x14bf"),get:function(){return this._controlMode},set:function(x){this[_0x4b1c("0x14ea")]=x,"human"===x?(this[_0x4b1c("0x14af")]=1,this[_0x4b1c("0x14ae")]=3,this[_0x4b1c("0x14b0")]=2):(this[_0x4b1c("0x14af")]=4,this[_0x4b1c("0x14ae")]=10,this[_0x4b1c("0x14b0")]=5)}},{key:_0x4b1c("0x14d6"),get:function(){return this[_0x4b1c("0x14bd")]},set:function(x){this[_0x4b1c("0x14bd")]=x,x?(this.controls.mouseButtons[_0x4b1c("0xb8b")]=THREE[_0x4b1c("0xb89")].LEFT,this[_0x4b1c("0xc7d")]=!1):this[_0x4b1c("0x266")][_0x4b1c("0xb96")][_0x4b1c("0xb8b")]=null}},{key:_0x4b1c("0xc7d"),get:function(){return this[_0x4b1c("0x14da")]},set:function(x){this[_0x4b1c("0x14da")]=x,x&&(this[_0x4b1c("0x14d6")]=!1)}}]),x}();c[_0x4b1c("0xc")]=i},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}var i=function(){function x(c,b){(0,_[_0x4b1c("0xc")])(this,x),this.camera=c,this[_0x4b1c("0x1d")]=c,this[_0x4b1c("0x73f")]=b,this._enabled=!1,this[_0x4b1c("0x944")]=1,this[_0x4b1c("0x945")]=null,this[_0x4b1c("0x3a")]=esmap[_0x4b1c("0x32")][_0x4b1c("0x3a")],this.target=null,this.fixedHeight=null,this[_0x4b1c("0x14f0")]=null,this[_0x4b1c("0x14f1")]={up:!1,down:!1,left:!1,right:!1,forward:!1,back:!1,rotate:!1},this.init()}return(0,e[_0x4b1c("0xc")])(x,[{key:"init",value:function(){this.lookSpeed=.001}},{key:_0x4b1c("0x14f2"),value:function(){this[_0x4b1c("0x73f")][_0x4b1c("0x37")]("mousemove",this[_0x4b1c("0x14f3")].bind(this),!1),this[_0x4b1c("0x73f")][_0x4b1c("0x37")](_0x4b1c("0x982"),this[_0x4b1c("0x14f4")][_0x4b1c("0xe")](this),!1),this[_0x4b1c("0x73f")][_0x4b1c("0x37")](_0x4b1c("0x984"),this.mouseUp[_0x4b1c("0xe")](this),!1),document.addEventListener(_0x4b1c("0x263"),this.keyDown[_0x4b1c("0xe")](this),!1),document[_0x4b1c("0x37")](_0x4b1c("0x264"),this.keyUp[_0x4b1c("0xe")](this),!1)}},{key:_0x4b1c("0x14f5"),value:function(){this.domElement[_0x4b1c("0x29e")](_0x4b1c("0x983"),this[_0x4b1c("0x14f3")][_0x4b1c("0xe")](this),!1),this.domElement[_0x4b1c("0x29e")](_0x4b1c("0x982"),this.mouseDown[_0x4b1c("0xe")](this),!1),this[_0x4b1c("0x73f")][_0x4b1c("0x29e")](_0x4b1c("0x984"),this[_0x4b1c("0x14f6")][_0x4b1c("0xe")](this),!1),document[_0x4b1c("0x29e")](_0x4b1c("0x263"),this[_0x4b1c("0x14f7")][_0x4b1c("0xe")](this),!1),document[_0x4b1c("0x29e")]("keyup",this.keyUp[_0x4b1c("0xe")](this),!1)}},{key:"mouseMove",value:function(x){if(x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")](),this.enabled&&this[_0x4b1c("0x14f1")].rotate){var c=x.movementX||x[_0x4b1c("0x14f8")]||x[_0x4b1c("0x14f9")]||0,b=x[_0x4b1c("0x14fa")]||x.mozMovementY||x.webkitMovementY||0;this[_0x4b1c("0x14f0")]=new THREE.Euler(0,0,0,"YXZ"),this[_0x4b1c("0x14f0")].setFromQuaternion(this[_0x4b1c("0x658")][_0x4b1c("0x20a")]),this.euler.y+=c*this[_0x4b1c("0x945")],this[_0x4b1c("0x14f0")].x+=b*this[_0x4b1c("0x945")],this.euler.x=Math[_0x4b1c("0x2f5")](-Math.PI/2,Math[_0x4b1c("0x2f6")](Math.PI/2,this.euler.x)),this.camera[_0x4b1c("0x20a")][_0x4b1c("0x205")](this.euler)}}},{key:_0x4b1c("0x14f7"),value:function(x){if(this.enabled)switch(x[_0x4b1c("0x14bb")]){case _0x4b1c("0x14c3"):case"KeyW":this[_0x4b1c("0x14f1")][_0x4b1c("0x23e")]=!0;break;case _0x4b1c("0x14fb"):case _0x4b1c("0x14cb"):this[_0x4b1c("0x14f1")][_0x4b1c("0x14fc")]=!0;break;case _0x4b1c("0x14c5"):case _0x4b1c("0x14c6"):this[_0x4b1c("0x14f1")][_0x4b1c("0x359")]=!0;break;case"ArrowRight":case _0x4b1c("0x14c8"):this[_0x4b1c("0x14f1")].right=!0;break;case _0x4b1c("0x14fd"):this[_0x4b1c("0x14f1")].up=!0;break;case _0x4b1c("0x14fe"):this[_0x4b1c("0x14f1")][_0x4b1c("0x11cf")]=!0}}},{key:_0x4b1c("0x14ff"),value:function(x){if(this[_0x4b1c("0x70b")])switch(x[_0x4b1c("0x14bb")]){case _0x4b1c("0x14c3"):case _0x4b1c("0x14c4"):this[_0x4b1c("0x14f1")][_0x4b1c("0x23e")]=!1;break;case _0x4b1c("0x14fb"):case"KeyS":this[_0x4b1c("0x14f1")].back=!1;break;case _0x4b1c("0x14c5"):case _0x4b1c("0x14c6"):this[_0x4b1c("0x14f1")][_0x4b1c("0x359")]=!1;break;case _0x4b1c("0x14c7"):case _0x4b1c("0x14c8"):this[_0x4b1c("0x14f1")][_0x4b1c("0x35a")]=!1;break;case _0x4b1c("0x14fd"):this.controlState.up=!1;break;case _0x4b1c("0x14fe"):this[_0x4b1c("0x14f1")][_0x4b1c("0x11cf")]=!1}}},{key:"mouseDown",value:function(x){this[_0x4b1c("0x70b")]&&0===x[_0x4b1c("0x96e")]&&(this[_0x4b1c("0x14f1")][_0x4b1c("0xcae")]=!0)}},{key:"mouseUp",value:function(x){this[_0x4b1c("0x70b")]&&0===x[_0x4b1c("0x96e")]&&(this[_0x4b1c("0x14f1")].rotate=!1)}},{key:"update",value:function(){if(this[_0x4b1c("0x70b")]){var x=this.controlState,c=x[_0x4b1c("0x23e")],b=x[_0x4b1c("0x14fc")],_=x[_0x4b1c("0x359")],e=x.right,t=x.up,i=x[_0x4b1c("0x11cf")];x.rotate;c&&this[_0x4b1c("0x658")][_0x4b1c("0x97c")](-this.movementSpeed),b&&this[_0x4b1c("0x658")][_0x4b1c("0x97c")](this[_0x4b1c("0x944")]),_&&this[_0x4b1c("0x658")][_0x4b1c("0x97d")](-this[_0x4b1c("0x944")]),e&&this[_0x4b1c("0x658")][_0x4b1c("0x97d")](this.movementSpeed),t&&!this[_0x4b1c("0x1500")]&&this.camera[_0x4b1c("0x97e")](this.movementSpeed),i&&!this[_0x4b1c("0x1500")]&&this[_0x4b1c("0x658")][_0x4b1c("0x97e")](-this[_0x4b1c("0x944")]),this.fixedHeight&&(this[_0x4b1c("0x658")][_0x4b1c("0x105")].y=this.fixedHeight),this[_0x4b1c("0x1501")]()}}},{key:_0x4b1c("0xd15"),value:function(){this[_0x4b1c("0x14f5")](),this[_0x4b1c("0x70b")]=!1}},{key:_0x4b1c("0x1501"),value:function(){var x=new(THREE[_0x4b1c("0x552")]);x.x=0,x.y=0;var c=new(THREE[_0x4b1c("0x516")]);if(c.setFromCamera(x,this[_0x4b1c("0x658")]),this[_0x4b1c("0x3a")][_0x4b1c("0x232")]&&this[_0x4b1c("0x3a")][_0x4b1c("0x232")].locationModelMesh[_0x4b1c("0x0")]>0){var b=c[_0x4b1c("0x51a")](this[_0x4b1c("0x3a")][_0x4b1c("0x232")][_0x4b1c("0x521")],!1);if(b.length>0){var _=b[0];this.target=_[_0x4b1c("0x2f7")]}else this[_0x4b1c("0x2c7")]=null}}},{key:_0x4b1c("0x70b"),get:function(){return this[_0x4b1c("0xc4b")]},set:function(x){this[_0x4b1c("0xc4b")]=x,x?this[_0x4b1c("0x14f2")]():this[_0x4b1c("0x14f5")]()}}]),x}();c[_0x4b1c("0xc")]=i},function(x,c,b){"use strict";Object[_0x4b1c("0x7")](c,_0x4b1c("0xb"),{value:!0});var _=n(b(5)),e=n(b(0)),t=n(b(1)),i=n(b(10)),a=n(b(11));function n(x){return x&&x.__esModule?x:{default:x}}_0x4b1c("0x9c3");var r={type:_0x4b1c("0xb5a")},s={type:_0x4b1c("0xb5b")},o=function(x){function c(x,b){(0,e[_0x4b1c("0xc")])(this,c);var t=(0,i[_0x4b1c("0xc")])(this,(c[_0x4b1c("0x1de")]||(0,_.default)(c))[_0x4b1c("0x2")](this));return t[_0x4b1c("0x658")]=x,t[_0x4b1c("0x73f")]=b||document,t[_0x4b1c("0xc4b")]=!0,t[_0x4b1c("0x944")]=1,t[_0x4b1c("0x945")]=3e-4,t[_0x4b1c("0x3a")]=esmap.ESMap[_0x4b1c("0x3a")],t[_0x4b1c("0x14f1")]={up:!1,down:!1,left:!1,right:!1,forward:!1,back:!1,rotate:!1},t[_0x4b1c("0x1502")]=t.onPointerlockChange[_0x4b1c("0xe")](t),t[_0x4b1c("0x1503")]=t[_0x4b1c("0x1504")][_0x4b1c("0xe")](t),t[_0x4b1c("0x73f")][_0x4b1c("0x1505")][_0x4b1c("0x37")](_0x4b1c("0x1506"),t[_0x4b1c("0x1502")],!1),t[_0x4b1c("0x73f")][_0x4b1c("0x1505")].addEventListener(_0x4b1c("0x1507"),t[_0x4b1c("0x1503")],!1),t[_0x4b1c("0x1508")]=!1,t.init(),t}return(0,a.default)(c,x),(0,t[_0x4b1c("0xc")])(c,[{key:_0x4b1c("0x39"),value:function(){this[_0x4b1c("0x73f")][_0x4b1c("0x1505")]===document||console[_0x4b1c("0xe3")](_0x4b1c("0x1509"))}},{key:_0x4b1c("0x96f"),value:function(x){if(x[_0x4b1c("0x4d8")](),x[_0x4b1c("0x379")](),this[_0x4b1c("0x70b")]&&document[_0x4b1c("0x150a")]===this[_0x4b1c("0x73f")]){var c=x[_0x4b1c("0x150b")]||x[_0x4b1c("0x14f8")]||x.webkitMovementX||0,b=x.movementY||x[_0x4b1c("0x150c")]||x.webkitMovementY||0,_=new(THREE[_0x4b1c("0x206")])(0,0,0,_0x4b1c("0x150d"));_[_0x4b1c("0x150e")](this[_0x4b1c("0x658")][_0x4b1c("0x20a")]),_.y-=c*this[_0x4b1c("0x945")],_.x-=b*this[_0x4b1c("0x945")],_.x=Math.max(-Math.PI/2,Math[_0x4b1c("0x2f6")](Math.PI/2,_.x)),this[_0x4b1c("0x658")].quaternion[_0x4b1c("0x205")](_)}}},{key:_0x4b1c("0x974"),value:function(x){if(this[_0x4b1c("0x70b")])switch(x[_0x4b1c("0x14bb")]){case"ArrowUp":case"KeyW":this.controlState[_0x4b1c("0x23e")]=!0;break;case _0x4b1c("0x14fb"):case _0x4b1c("0x14cb"):this[_0x4b1c("0x14f1")][_0x4b1c("0x14fc")]=!0;break;case"ArrowLeft":case"KeyA":this[_0x4b1c("0x14f1")][_0x4b1c("0x359")]=!0;break;case _0x4b1c("0x14c7"):case _0x4b1c("0x14c8"):this.controlState[_0x4b1c("0x35a")]=!0;break;case"KeyR":this[_0x4b1c("0x14f1")].up=!0;break;case"KeyF":this[_0x4b1c("0x14f1")][_0x4b1c("0x11cf")]=!0;break;case _0x4b1c("0x150f"):this[_0x4b1c("0x14f1")][_0x4b1c("0xcae")]=!0}}},{key:_0x4b1c("0x977"),value:function(x){if(this[_0x4b1c("0x70b")])switch(x[_0x4b1c("0x14bb")]){case _0x4b1c("0x14c3"):case _0x4b1c("0x14c4"):this[_0x4b1c("0x14f1")][_0x4b1c("0x23e")]=!1;break;case _0x4b1c("0x14fb"):case _0x4b1c("0x14cb"):this[_0x4b1c("0x14f1")][_0x4b1c("0x14fc")]=!1;break;case"ArrowLeft":case _0x4b1c("0x14c6"):this[_0x4b1c("0x14f1")][_0x4b1c("0x359")]=!1;break;case _0x4b1c("0x14c7"):case"KeyD":this[_0x4b1c("0x14f1")][_0x4b1c("0x35a")]=!1;break;case"KeyR":this.controlState.up=!1;break;case _0x4b1c("0x14fe"):this[_0x4b1c("0x14f1")][_0x4b1c("0x11cf")]=!1;break;case _0x4b1c("0x150f"):this[_0x4b1c("0x14f1")][_0x4b1c("0xcae")]=!1}}},{key:_0x4b1c("0x164"),value:function(){if(this[_0x4b1c("0x70b")]){var x=this[_0x4b1c("0x14f1")],c=x[_0x4b1c("0x23e")],b=x[_0x4b1c("0x14fc")],_=x[_0x4b1c("0x359")],e=x[_0x4b1c("0x35a")],t=x.up,i=x.down,a=x[_0x4b1c("0xcae")];c&&this[_0x4b1c("0x658")][_0x4b1c("0x97c")](-this[_0x4b1c("0x944")]),b&&this[_0x4b1c("0x658")][_0x4b1c("0x97c")](this.movementSpeed),_&&this[_0x4b1c("0x658")].translateX(-this[_0x4b1c("0x944")]),e&&this[_0x4b1c("0x658")][_0x4b1c("0x97d")](this[_0x4b1c("0x944")]),t&&this[_0x4b1c("0x658")][_0x4b1c("0x97e")](this[_0x4b1c("0x944")]),i&&this[_0x4b1c("0x658")][_0x4b1c("0x97e")](-this[_0x4b1c("0x944")]),a&&(this[_0x4b1c("0x658")][_0x4b1c("0x202")].y-=this[_0x4b1c("0x945")])}}},{key:_0x4b1c("0xd15"),value:function(){this[_0x4b1c("0xb5b")](),this[_0x4b1c("0x70b")]=!1,this[_0x4b1c("0x14f5")]()}},{key:_0x4b1c("0x14f2"),value:function(){this[_0x4b1c("0x73f")][_0x4b1c("0x1505")][_0x4b1c("0x37")](_0x4b1c("0x983"),this.onMouseMove[_0x4b1c("0xe")](this),!1),this[_0x4b1c("0x73f")][_0x4b1c("0x1505")][_0x4b1c("0x37")](_0x4b1c("0x263"),this[_0x4b1c("0x974")][_0x4b1c("0xe")](this),!1),this[_0x4b1c("0x73f")][_0x4b1c("0x1505")][_0x4b1c("0x37")]("keyup",this[_0x4b1c("0x977")][_0x4b1c("0xe")](this),!1)}},{key:_0x4b1c("0x14f5"),value:function(){this[_0x4b1c("0x73f")][_0x4b1c("0x1505")][_0x4b1c("0x29e")](_0x4b1c("0x983"),this.onMouseMove[_0x4b1c("0xe")](this)),this[_0x4b1c("0x73f")].ownerDocument[_0x4b1c("0x29e")](_0x4b1c("0x263"),this[_0x4b1c("0x974")][_0x4b1c("0xe")](this)),this[_0x4b1c("0x73f")][_0x4b1c("0x1505")][_0x4b1c("0x29e")](_0x4b1c("0x264"),this.onKeyUp.bind(this))}},{key:_0x4b1c("0xb5a"),value:function(){this.domElement[_0x4b1c("0x1510")]()}},{key:_0x4b1c("0xb5b"),value:function(){this[_0x4b1c("0x73f")][_0x4b1c("0x1505")].exitPointerLock(),this.instance[_0x4b1c("0x266")][_0x4b1c("0x70b")]=!0}},{key:"onPointerlockChange",value:function(){this[_0x4b1c("0x73f")].ownerDocument.pointerLockElement===this[_0x4b1c("0x73f")]?this[_0x4b1c("0x1508")]||(this.dispatchEvent(r),this[_0x4b1c("0x1508")]=!0):this[_0x4b1c("0x1508")]&&(this[_0x4b1c("0x1d9")](s),this.isLocked=!1,this[_0x4b1c("0xd15")]())}},{key:"onPointerlockError",value:function(){console[_0x4b1c("0xe3")](_0x4b1c("0x1511"))}},{key:_0x4b1c("0x70b"),set:function(x){this[_0x4b1c("0xc4b")]=x,x?this[_0x4b1c("0x14f2")]():this[_0x4b1c("0x14f5")]()},get:function(){return this._enabled}}]),c}(THREE[_0x4b1c("0x149c")]);c[_0x4b1c("0xc")]=o},function(x,c,b){"use strict";var _,e,t,i,a,n,r,s,o,f,l,d,u=v(b(64)),h=v(b(78)),g=v(b(14));function v(x){return x&&x[_0x4b1c("0xb")]?x:{default:x}}function p(x,c,b){b(x,c);for(var _=0;_<x[_0x4b1c("0xf1")][_0x4b1c("0x0")];_++)p(x[_0x4b1c("0xf1")][_],c.children[_],b)}THREE[_0x4b1c("0x1386")]={retarget:(r=new(THREE[_0x4b1c("0x128")]),s=new(THREE[_0x4b1c("0x204")]),o=new(THREE[_0x4b1c("0x128")]),f=new THREE.Matrix4,l=new(THREE[_0x4b1c("0x240")]),d=new THREE.Matrix4,function(x,c,b){(b=b||{})[_0x4b1c("0x1512")]=void 0===b[_0x4b1c("0x1512")]||b[_0x4b1c("0x1512")],b[_0x4b1c("0x1513")]=void 0===b.preservePosition||b[_0x4b1c("0x1513")],b.preserveHipPosition=void 0!==b[_0x4b1c("0x1514")]&&b[_0x4b1c("0x1514")],b[_0x4b1c("0x1515")]=void 0!==b[_0x4b1c("0x1515")]&&b.useTargetMatrix,b[_0x4b1c("0x1516")]=void 0!==b.hip?b[_0x4b1c("0x1516")]:_0x4b1c("0x1516"),b[_0x4b1c("0x1517")]=b.names||{};var _,e,t,i,a,n,u=c[_0x4b1c("0x1518")]?c[_0x4b1c("0x1519")][_0x4b1c("0x151a")]:this[_0x4b1c("0x151b")](c),h=x.isObject3D?x[_0x4b1c("0x1519")][_0x4b1c("0x151a")]:this.getBones(x);if(x[_0x4b1c("0x1518")]?x[_0x4b1c("0x1519")][_0x4b1c("0x151c")]():(b[_0x4b1c("0x1515")]=!0,b.preserveMatrix=!1),b[_0x4b1c("0x1513")])for(a=[],n=0;n<h[_0x4b1c("0x0")];n++)a[_0x4b1c("0x12")](h[n][_0x4b1c("0x105")][_0x4b1c("0x13e")]());if(b[_0x4b1c("0x1512")])for(x[_0x4b1c("0x752")](),x.matrixWorld[_0x4b1c("0x151d")](),n=0;n<x[_0x4b1c("0xf1")][_0x4b1c("0x0")];++n)x[_0x4b1c("0xf1")][n][_0x4b1c("0x752")](!0);if(b[_0x4b1c("0x1046")])for(_=[],n=0;n<h[_0x4b1c("0x0")];++n)e=h[n],t=b[_0x4b1c("0x1517")][e[_0x4b1c("0x1f7")]]||e[_0x4b1c("0x1f7")],b[_0x4b1c("0x1046")]&&b[_0x4b1c("0x1046")][t]&&(e[_0x4b1c("0x22d")].multiply(b[_0x4b1c("0x1046")][t]),e[_0x4b1c("0x22d")][_0x4b1c("0x151e")](e[_0x4b1c("0x105")],e[_0x4b1c("0x20a")],e[_0x4b1c("0x201")]),e[_0x4b1c("0x752")]()),_[_0x4b1c("0x12")](e[_0x4b1c("0x3eb")][_0x4b1c("0x13e")]());for(n=0;n<h[_0x4b1c("0x0")];++n){if(e=h[n],t=b.names[e[_0x4b1c("0x1f7")]]||e[_0x4b1c("0x1f7")],i=this[_0x4b1c("0x151f")](t,u),d[_0x4b1c("0x20b")](e.matrixWorld),i){if(i[_0x4b1c("0x752")](),b[_0x4b1c("0x1515")]?l[_0x4b1c("0x20b")](i[_0x4b1c("0x3eb")]):(l[_0x4b1c("0x1520")](x.matrixWorld),l[_0x4b1c("0x209")](i[_0x4b1c("0x3eb")])),o[_0x4b1c("0x1521")](l),l.scale(o[_0x4b1c("0xdb")](1/o.x,1/o.y,1/o.z)),d[_0x4b1c("0x1522")](s[_0x4b1c("0x243")](l)),x[_0x4b1c("0x1518")]){var g=h[_0x4b1c("0x114")](e),v=_?_[g]:f[_0x4b1c("0x1520")](x.skeleton.boneInverses[g]);d.multiply(v)}d[_0x4b1c("0x1523")](l)}e[_0x4b1c("0x108")]&&e.parent.isBone?(e[_0x4b1c("0x22d")][_0x4b1c("0x1520")](e[_0x4b1c("0x108")][_0x4b1c("0x3eb")]),e[_0x4b1c("0x22d")].multiply(d)):e.matrix[_0x4b1c("0x20b")](d),b.preserveHipPosition&&t===b[_0x4b1c("0x1516")]&&e[_0x4b1c("0x22d")].setPosition(r[_0x4b1c("0xdb")](0,e[_0x4b1c("0x105")].y,0)),e[_0x4b1c("0x22d")][_0x4b1c("0x151e")](e[_0x4b1c("0x105")],e[_0x4b1c("0x20a")],e.scale),e[_0x4b1c("0x752")]()}if(b.preservePosition)for(n=0;n<h.length;++n)e=h[n],(t=b.names[e[_0x4b1c("0x1f7")]]||e[_0x4b1c("0x1f7")])!==b[_0x4b1c("0x1516")]&&e[_0x4b1c("0x105")].copy(a[n]);b[_0x4b1c("0x1512")]&&x[_0x4b1c("0x752")](!0)}),retargetClip:function(x,c,b,_){(_=_||{})[_0x4b1c("0x1524")]=void 0!==_[_0x4b1c("0x1524")]&&_[_0x4b1c("0x1524")],_[_0x4b1c("0x1525")]=void 0!==_[_0x4b1c("0x1525")]?_[_0x4b1c("0x1525")]:30,_[_0x4b1c("0x1517")]=_.names||[],c[_0x4b1c("0x1518")]||(c=this[_0x4b1c("0x1526")](c));var e,t,i,a,n,r,s=Math[_0x4b1c("0x98a")](b[_0x4b1c("0x1a4")]*(_.fps/1e3)*1e3),o=1/_.fps,f=[],l=new(THREE[_0x4b1c("0x28c")])(c),d=this[_0x4b1c("0x151b")](x.skeleton),u=[];for(l.clipAction(b)[_0x4b1c("0x29b")](),l[_0x4b1c("0x164")](0),c.updateMatrixWorld(),n=0;n<s;++n){var h=n*o;for(this[_0x4b1c("0x1527")](x,c,_),r=0;r<d[_0x4b1c("0x0")];++r)a=_[_0x4b1c("0x1517")][d[r][_0x4b1c("0x1f7")]]||d[r][_0x4b1c("0x1f7")],this.getBoneByName(a,c[_0x4b1c("0x1519")])&&(t=d[r],i=u[r]=u[r]||{bone:t},_[_0x4b1c("0x1516")]===a&&(i[_0x4b1c("0x434")]||(i[_0x4b1c("0x434")]={times:new Float32Array(s),values:new Float32Array(3*s)}),_[_0x4b1c("0x1524")]&&(0===n&&(e=t[_0x4b1c("0x105")][_0x4b1c("0x13e")]()),t[_0x4b1c("0x105")].sub(e)),i.pos[_0x4b1c("0x19f")][n]=h,t[_0x4b1c("0x105")][_0x4b1c("0x1528")](i[_0x4b1c("0x434")][_0x4b1c("0xe6")],3*n)),i[_0x4b1c("0x1529")]||(i[_0x4b1c("0x1529")]={times:new Float32Array(s),values:new Float32Array(4*s)}),i[_0x4b1c("0x1529")][_0x4b1c("0x19f")][n]=h,t.quaternion[_0x4b1c("0x1528")](i[_0x4b1c("0x1529")].values,4*n));l.update(o),c[_0x4b1c("0x752")]()}for(n=0;n<u[_0x4b1c("0x0")];++n)(i=u[n])&&(i[_0x4b1c("0x434")]&&f[_0x4b1c("0x12")](new(THREE[_0x4b1c("0x8e8")])(".bones["+i.bone[_0x4b1c("0x1f7")]+"].position",i[_0x4b1c("0x434")][_0x4b1c("0x19f")],i[_0x4b1c("0x434")][_0x4b1c("0xe6")])),f[_0x4b1c("0x12")](new(THREE[_0x4b1c("0x8e7")])(_0x4b1c("0x152a")+i[_0x4b1c("0x152b")][_0x4b1c("0x1f7")]+_0x4b1c("0x152c"),i[_0x4b1c("0x1529")][_0x4b1c("0x19f")],i[_0x4b1c("0x1529")][_0x4b1c("0xe6")])));return l[_0x4b1c("0x152d")](b),new(THREE[_0x4b1c("0x8ee")])(b.name,-1,f)},getHelperFromSkeleton:function(x){var c=new(THREE[_0x4b1c("0x152e")])(x[_0x4b1c("0x151a")][0]);return c.skeleton=x,c},getSkeletonOffsets:(_=new(THREE[_0x4b1c("0x128")]),e=new(THREE[_0x4b1c("0x128")]),t=new THREE.Vector3,i=new THREE.Vector3,a=new(THREE[_0x4b1c("0x552")]),n=new THREE.Vector2,function(x,c,b){(b=b||{})[_0x4b1c("0x1516")]=void 0!==b[_0x4b1c("0x1516")]?b[_0x4b1c("0x1516")]:_0x4b1c("0x1516"),b[_0x4b1c("0x1517")]=b[_0x4b1c("0x1517")]||{},c.isObject3D||(c=this[_0x4b1c("0x1526")](c));var r,s,o,f,l=(0,g.default)(b.names),d=(0,h[_0x4b1c("0xc")])(b.names),u=c[_0x4b1c("0x1518")]?c[_0x4b1c("0x1519")].bones:this.getBones(c),v=x[_0x4b1c("0x1518")]?x[_0x4b1c("0x1519")].bones:this[_0x4b1c("0x151b")](x),p=[];for(x[_0x4b1c("0x1519")][_0x4b1c("0x151c")](),f=0;f<v[_0x4b1c("0x0")];++f)if(r=v[f],o=b.names[r[_0x4b1c("0x1f7")]]||r[_0x4b1c("0x1f7")],(s=this.getBoneByName(o,u))&&o!==b.hip){var m=this[_0x4b1c("0x152f")](r[_0x4b1c("0x108")],l),A=this[_0x4b1c("0x152f")](s[_0x4b1c("0x108")],d);m[_0x4b1c("0x752")](),A.updateMatrixWorld(),_[_0x4b1c("0x740")](m[_0x4b1c("0x3eb")]),e[_0x4b1c("0x740")](r[_0x4b1c("0x3eb")]),t[_0x4b1c("0x740")](A[_0x4b1c("0x3eb")]),i[_0x4b1c("0x740")](s.matrixWorld),a[_0x4b1c("0x8fe")](new THREE.Vector2(e.x,e.y),new(THREE[_0x4b1c("0x552")])(_.x,_.y)).normalize(),n[_0x4b1c("0x8fe")](new(THREE[_0x4b1c("0x552")])(i.x,i.y),new(THREE[_0x4b1c("0x552")])(t.x,t.y))[_0x4b1c("0x301")]();var y=a[_0x4b1c("0x258")]()-n.angle(),C=(new(THREE[_0x4b1c("0x240")]))[_0x4b1c("0x242")](new THREE.Euler(0,0,y));r[_0x4b1c("0x22d")].multiply(C),r.matrix[_0x4b1c("0x151e")](r[_0x4b1c("0x105")],r[_0x4b1c("0x20a")],r.scale),r.updateMatrixWorld(),p[o]=C}return p}),renameBones:function(x,c){for(var b=this[_0x4b1c("0x151b")](x),_=0;_<b[_0x4b1c("0x0")];++_){var e=b[_];c[e[_0x4b1c("0x1f7")]]&&(e[_0x4b1c("0x1f7")]=c[e[_0x4b1c("0x1f7")]])}return this},getBones:function(x){return Array[_0x4b1c("0x32f")](x)?x:x[_0x4b1c("0x151a")]},getBoneByName:function(x,c){for(var b=0,_=this.getBones(c);b<_[_0x4b1c("0x0")];b++)if(x===_[b][_0x4b1c("0x1f7")])return _[b]},getNearestBone:function(x,c){for(;x[_0x4b1c("0x880")];){if(-1!==c.indexOf(x[_0x4b1c("0x1f7")]))return x;x=x[_0x4b1c("0x108")]}},findBoneTrackData:function(x,c){for(var b=/\[(.*)\]\.(.*)/,_={name:x},e=0;e<c[_0x4b1c("0x0")];++e){var t=b[_0x4b1c("0x1477")](c[e][_0x4b1c("0x1f7")]);t&&x===t[1]&&(_[t[2]]=e)}return _},getEqualsBonesNames:function(x,c){var b=this[_0x4b1c("0x151b")](x),_=this[_0x4b1c("0x151b")](c),e=[];x:for(var t=0;t<b[_0x4b1c("0x0")];t++)for(var i=b[t][_0x4b1c("0x1f7")],a=0;a<_[_0x4b1c("0x0")];a++)if(i===_[a].name){e[_0x4b1c("0x12")](i);continue x}return e},clone:function(x){var c=new(u[_0x4b1c("0xc")]),b=new u.default,_=x.clone();return p(x,_,(function(x,_){c[_0x4b1c("0xdb")](_,x),b.set(x,_)})),_[_0x4b1c("0x103")]((function(x){if(x[_0x4b1c("0x882")]){var _=x,e=c.get(x),t=e[_0x4b1c("0x1519")][_0x4b1c("0x151a")];_.skeleton=e.skeleton[_0x4b1c("0x13e")](),_[_0x4b1c("0x1530")][_0x4b1c("0x20b")](e.bindMatrix),_.skeleton[_0x4b1c("0x151a")]=t.map((function(x){return b[_0x4b1c("0xde")](x)})),_[_0x4b1c("0xe")](_[_0x4b1c("0x1519")],_[_0x4b1c("0x1530")])}})),_}}}]));

/*ESWorldTools 2.0 2025-1-21 19:40:55*/
var _0x41c7=['target0','position0','zoom0','NONE','setFromVector3','forcePhi','radioFactor','maxPolarAngle','makeSafe','setFromSpherical','distanceToSquared','contextmenu','domElement','mousedown','touchstart','touchmove','mousemove','mouseup','keydown','setFromMatrixColumn','body','clientHeight','isOrthographicCamera','clientWidth','preventDefault','focus','button','ctrlKey','shiftKey','PAN','ROTATE','MIDDLE','DOLLY','stopPropagation','deltaY','BOTTOM','touches','pageY','TOUCH_ROTATE','pageX','TOUCH_DOLLY_PAN','wheel','touchend','cameraViewImgHeight','fixCameraViewImgOffset','img','onload','div','relative','absolute','transformOrigin','px\x20','floorEdges','minx','miny','maxy','transform','rotate(','deg)','beginTime','prevTime','isCheckFrameRateComplete','_tempFrameRateList','_tempResultList','begin','trimmedMean','sort','reduce','computeAverageFps','sleep','toFixed','searchEffectMarker','names','ES3DMarker','ESModel3D','singleSelect','removeOutline','setFrameLine','showBoatFoam','setUvTransform','ESPolygonMarker','setOutline','ESLineMarker','ESFloorManager','getEffectLayersByNames','TWEEN','_tweensAddedDuringUpdate','_tweens','getId','_isPlaying','_nextId','nextId','hrtime','performance','getTime','_object','_valuesStart','_valuesEnd','_valuesStartRepeat','_duration','_repeat','_repeatDelayTime','_yoyo','_reversed','_delayTime','_startTime','_easingFunction','_interpolationFunction','Interpolation','_onStartCallback','_onStartCallbackFired','_onRepeatCallback','_onCompleteCallback','_onStopCallback','_group','concat','_chainedTweens','stop','_onUpdateCallback','Bounce','Utils','CatmullRom','Factorial','setTimeout\x20has\x20not\x20been\x20defined','run','fun','title','browser','argv','version','addListener','removeListener','prependListener','listeners','binding','process.binding\x20is\x20not\x20supported','_tempRaf','_tileUpdateLock','tileType','amap','tileUrl','tileurl','levelOffset','tileSourceLevelOffset','levelMax','tileSourceMaxLevel','levelExtent','tileSourceLevelExtent','getControlsInfo','isShowTileSourceLicense','isOpenControllerInertia','tileSourceMinLevel','isShowMaskExtent','isInitShow','isUseMultiView','Extent','waterOriginColor','waterSkyTexture','waterSkyTexPath','maskConfig','maskExtent','PlanarView','tileMapView','ESTileControls','resetControls','levelChange','MODE_2D','updateTileView','getShadow','isOpenTileFrozen','fontSize','12px','paddingLeft','5px','rgba(255,\x20255,\x20255,\x200.8)','borderTopLeftRadius','4px','href','_blank','#000','google.cn','\x20|\x20©\x20谷歌地图\x20','http://www.google.cn','autonavi.com','https://map.amap.com/doc/serviceitem.html','tianditu.gov.cn','https://map.tianditu.gov.cn','geoq.cn','\x20|\x20©\x20GeoQ\x20','innerText','link','textDecoration','paddingRight','100%','backdropFilter','blur(10px)','_toggleTileLoadingMask','block','TMSSource','image/png','https://webst02.is.autonavi.com/appmaptile?style=7&x=${x}&y=${y}&z=${z}','TMS_Map','EPSG:3857','GCJ02','estile_map','currLayer','tileLayer','frozen','camera3D','flyToComplete','tiltAngle','\x20needs\x20to\x20be\x20opened','changeFocusFloor','getZoomFromSphereRadius','_tempMaxPolarAngle','delay','pitchAnimate','cameraAnimateUpdate','cameraAnimateComplete','zoomLevelTo','scaleLevel','preLoadBuildingId','setControlsInfo','getEarthZoomRadius','startZoom','scaleLevelAnimate','defaultView','initCameraPos','initTop_','MODE_3D','maxNearGroundPolarAngle','checkIsUseNearGroundPolarAngle','_tempMaxNearGroundPolarAngle','maxSubdivisionLevel','tileScene_','targetLevel','initPitchAngle','tileShowLevel','%c\x20The\x20parameter\x20tileShowLevel\x20of\x20the\x20ESMap\x20instance\x20needs\x20to\x20be\x20less\x20than\x20the\x20value\x20of\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20in\x20ESTileMap.','color:red;','wait','pointToPointAnimate','tileClickDebug','dblclick','updateTile','tileMapInitComplete','getSkybox','tileClick','registerClickEvent','selectEffect','randomTexture','pickableBuildings','preLoadComplete','WndNWnQOW24=','encode64','TjEySDU2TS4xSDU0TA==','X3t3SGlzWmVwSGdO','_testTileUrl','DEFAULT_THEME','isChangeDefaultTheme','tileTheme','skyColor','colorMapping','isOpenGrayFilter','createColorMapping','lutImg','isOpenLutFilter','brightness','contrast','hue','saturation','tileWater','waterReplaceColor','sparklingColor','waterSparklingColor','_setMaxPolarAngle','zoomTo','Tools','minLevel','minEarthZoom','maxLevel','maxEarthZoom','isLockEarthZoom','_maxEarthZoom','_isOpenAlpha','_isSetAlpha','_sortOrder','colorBCHS','steps','getPolygonBounds','tileView','_mousedown','mouseDown','_mouseup','mouseUp','mouseMove','_touchmove','moveCount','_touchend','_mousemove','_touchstart','isMouseMove','createPolygonMask','closePath','rgba(255,\x20255,\x20255,\x201)','restore','exports','defineProperty','toStringTag','Module','__esModule','create','default','bind','prototype','hasOwnProperty','call','/dist/','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','length','enumerable','configurable','value','writable','key','2.6.12','number','function','apply','virtual','undefined','Math','Symbol.','set','object','coordMapToThree','mode','MapMode','City','ESMap','instance','debounce','getOS','directionFromAlphaBeta','clearShaderCode','getConfigAssetsPath','selectBuildingMapEffectConfigPath','selectCityMapEffectConfigPath','getMaterialByRoomStyle','getOutdoorBuildingTheme','getBuiding','getMapInstance','setPositionFromMc','checkIsParkEngine','checkIsCityEngine','innerCoordTransToThree','Building','mapScene','sceneZ_','coordTransToThree','ESMapUtil','getVersion','CommonConstant','Engine','Park','position','mapTheme','themeID','roomStyle','datas_','RoomStyle','onlineEffectThemeId','effectThemeId','effectId','tid','options','mapDataSrc','/worldeffect/','serverUrl','/EsmapTileData/','Effect','/effects/','indexOf','upload/','ESEffectTool','configUserPath','configPath','getState','EFFECT_EDITOR','effectThemeSrc','switchConfigPath','match','replace','vertexShader','fragmentShader','Vector3','sin','cos','userAgent','Expected\x20a\x20function','keys','String','slice','CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList','split','Array','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function,\x20not\x20','__proto__','\x20is\x20not\x20a\x20function!','IE_PROTO','iframe','style','display','none','appendChild','src','document','write','<script>document.F=Object</script>','close','EventDispatcher','_listeners','splice','type','target','Can\x27t\x20call\x20method\x20on\x20\x20','next','done','BREAK','floor','constructor','symbol','min','__core-js_shared__','versions','push','pure','global','©\x202020\x20Denis\x20Pushkarev\x20(zloirock.ru)','constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf','Arguments','Undefined','Null','string','Object','callee','toString','valueOf','iterator','values','\x20Iterator','name','createElement','ModelFloatShake','ModelHeatMap','ModelTerrain','BoatFoam','ModelLightBlend','ModelBlendEffect','ProjectionVideo','ESInstanceMesh','TextureUvAnimation','PlaneVideo','ClearSkyGround','CirclePlane','GroundPoints','MirroWater','WaterShape','EnvTextureLoader','DeviceWind','FloatPoints','WaterSpread','Fire','Smoke','FireSmoke','PlaneSnowEffect','PlaneRainEffect','PlaneWindEffect','ScrollWallEffect','ExtentWallEffect','SphereSpreadEffect','NumberUpEffect','CylinderSpreadEffect','Points','PointsLine','CircleRotateYMarker','CylinderFloatMarker','CubeFloatMarker','CameraFlyTo','BuildingsTexture2','SelectPoint','MapTileWater','ClearSky','CubeSkybox','Skybox','HeatMapEffect','ModelUvAnimation','CircleRippleEffect','ConeSpreadEffect','EdgeLineEffect','PlaneFogEffect','PlaneTerrainEffect','SmokeSpread','Explosion','MulripleMeshLine','GroundBlend','ModelFresnelEffect','ModelGradient','Symbol','getOwnPropertySymbols','dispose','material','map','geometry','remove','parent','meta','isExtensible','NEED','componentSize','size','array','TypedArrayHelper','setSize','shrink','info','TypedArray\x20is\x20already\x20of\x20size:','subarray','grow','TypedArrayConstructor','setFromArray','indexOffset','setVec2Components','setVec3','setVec3Components','setVec4','setMat3','elements','setColor','setNumber','getValueAtIndex','getComponentValueAtIndex','ShaderAttribute','arrayType','typedArray','bufferAttribute','dynamicBuffer','updateMin','updateMax','typeSizeMap','setUpdateRange','flagUpdate','updateRange','offset','count','needsUpdate','resetUpdateRange','dynamic','forceUpdateAll','_ensureTypedArray','_createBufferAttribute','REVISION','itemSize','BufferAttribute','getLength','shaderChunks','#define\x20PACKED_COLOR_SIZE\x20256.0','#define\x20PACKED_COLOR_DIVISOR\x20255.0','join','uniform\x20float\x20runTime;','uniform\x20sampler2D\x20texture1;','uniform\x20vec4\x20textureAnimation;','uniform\x20float\x20scale;','attribute\x20vec4\x20rotation;','attribute\x20vec3\x20rotationCenter;','attribute\x20vec4\x20params;','attribute\x20vec4\x20angle;','attribute\x20vec4\x20color;','attribute\x20vec4\x20opacity;','varying\x20vec4\x20vColor;','#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20varying\x20float\x20vAngle;','#endif','#ifdef\x20SHOULD_CALCULATE_SPRITE','float\x20when_gt(float\x20x,\x20float\x20y)\x20{','float\x20when_lt(float\x20x,\x20float\x20y)\x20{','\x20\x20\x20\x20return\x20min(\x20max(1.0\x20-\x20sign(x\x20-\x20y),\x200.0),\x201.0\x20);','float\x20when_eq(\x20float\x20x,\x20float\x20y\x20)\x20{','float\x20when_ge(float\x20x,\x20float\x20y)\x20{','\x20\x20return\x201.0\x20-\x20when_lt(x,\x20y);','float\x20when_le(float\x20x,\x20float\x20y)\x20{','\x20\x20return\x201.0\x20-\x20when_gt(x,\x20y);','float\x20and(float\x20a,\x20float\x20b)\x20{','\x20\x20\x20\x20return\x20a\x20*\x20b;','float\x20or(float\x20a,\x20float\x20b)\x20{','\x20\x20\x20\x20return\x20min(a\x20+\x20b,\x201.0);','vec3\x20unpackColor(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20float\x20r\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20float\x20g\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20c.r\x20=\x20r\x20/\x20PACKED_COLOR_DIVISOR;','vec3\x20unpackRotationAxis(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20float\x20b\x20=\x20mod(\x20hex,\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20c.b\x20=\x20b\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c\x20*=\x20vec3(\x202.0\x20);','\x20\x20\x20c\x20-=\x20vec3(\x201.0\x20);','\x20\x20\x20return\x20c;','float\x20getFloatOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec4\x20attr\x20)\x20{','\x20\x20\x20\x20highp\x20float\x20value\x20=\x200.0;','\x20\x20\x20\x20float\x20deltaAge\x20=\x20positionInTime\x20*\x20float(\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201\x20);','\x20\x20\x20\x20float\x20fIndex\x20=\x200.0;','\x20\x20\x20\x20float\x20shouldApplyValue\x20=\x200.0;','\x20\x20\x20\x20value\x20+=\x20attr[\x200\x20]\x20*\x20when_eq(\x20deltaAge,\x200.0\x20);','\x20\x20\x20\x20\x20\x20\x20value\x20+=\x20shouldApplyValue\x20*\x20mix(\x20attr[\x20i\x20],\x20attr[\x20i\x20+\x201\x20],\x20deltaAge\x20-\x20fIndex\x20);','\x20\x20\x20\x20}','\x20\x20\x20\x20return\x20value;','vec3\x20getColorOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec3\x20color1,\x20in\x20vec3\x20color2,\x20in\x20vec3\x20color3,\x20in\x20vec3\x20color4\x20)\x20{','\x20\x20\x20\x20vec3\x20value\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20\x20value.x\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.x,\x20color2.x,\x20color3.x,\x20color4.x\x20)\x20);','\x20\x20\x20\x20value.y\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.y,\x20color2.y,\x20color3.y,\x20color4.y\x20)\x20);','\x20\x20\x20\x20value.z\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.z,\x20color2.z,\x20color3.z,\x20color4.z\x20)\x20);','float\x20getAlive()\x20{','\x20\x20\x20return\x20params.x;','\x20\x20\x20return\x20params.y;','float\x20getMaxAge()\x20{','\x20\x20\x20return\x20params.z;','float\x20getWiggle()\x20{','vec4\x20getPosition(\x20in\x20float\x20age\x20)\x20{','\x20\x20\x20return\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','vec3\x20getVelocity(\x20in\x20float\x20age\x20)\x20{','\x20\x20\x20return\x20velocity\x20*\x20age;','vec3\x20getAcceleration(\x20in\x20float\x20age\x20)\x20{','#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20mat4\x20getRotationMatrix(\x20in\x20vec3\x20axis,\x20in\x20float\x20angle)\x20{','\x20\x20\x20\x20\x20\x20\x20axis\x20=\x20normalize(axis);','\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);','\x20\x20\x20\x20\x20\x20\x20float\x20oc\x20=\x201.0\x20-\x20c;','\x20\x20\x20\x20\x20\x20\x20return\x20mat4(oc\x20*\x20axis.x\x20*\x20axis.x\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20-\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20+\x20axis.y\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20+\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.y\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20-\x20axis.x\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20-\x20axis.y\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20+\x20axis.x\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.z\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,','\x20\x20\x20}','\x20\x20\x20\x20\x20\x20if(\x20rotation.y\x20==\x200.0\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20pos;','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20vec3\x20axis\x20=\x20unpackRotationAxis(\x20rotation.x\x20);','\x20\x20\x20\x20\x20\x20vec3\x20center\x20=\x20rotationCenter;','\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x200.0;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_eq(\x20rotation.z,\x200.0\x20)\x20*\x20rotation.y;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_gt(\x20rotation.z,\x200.0\x20)\x20*\x20mix(\x200.0,\x20rotation.y,\x20positionInTime\x20);','\x20\x20\x20\x20\x20\x20translated\x20=\x20rotationCenter\x20-\x20pos;','\x20\x20\x20\x20\x20\x20rotationMatrix\x20=\x20getRotationMatrix(\x20axis,\x20angle\x20);','\x20\x20\x20\x20\x20\x20return\x20center\x20-\x20vec3(\x20rotationMatrix\x20*\x20vec4(\x20translated,\x200.0\x20)\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20gl_PointCoord.x\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x201.0\x20-\x20gl_PointCoord.y\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20-vAngle\x20);','\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20-vAngle\x20);','\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20vec2(\x20c\x20*\x20x\x20+\x20s\x20*\x20y\x20+\x200.5,\x20c\x20*\x20y\x20-\x20s\x20*\x20x\x20+\x200.5\x20);','\x20\x20\x20\x20#endif','\x20\x20\x20\x20#ifdef\x20SHOULD_CALCULATE_SPRITE','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20vSpriteSheet.x;','\x20\x20\x20\x20\x20\x20\x20\x20vUv.x\x20=\x20gl_PointCoord.x\x20*\x20framesX\x20+\x20columnNorm;','\x20\x20\x20\x20\x20\x20\x20\x20vUv.y\x20=\x201.0\x20-\x20(gl_PointCoord.y\x20*\x20framesY\x20+\x20rowNorm);','\x20\x20\x20\x20vec4\x20rotatedTexture\x20=\x20texture2D(\x20texture1,\x20vUv\x20);','defines','uniforms','attributes','ShaderChunk','logdepthbuf_pars_vertex','fog_pars_vertex','branchAvoidanceFunctions','unpackColor','unpackRotationAxis','floatOverLifetime','colorOverLifetime','paramFetchingFunctions','forceFetchingFunctions','rotationFunctions','\x20\x20\x20\x20highp\x20float\x20age\x20=\x20getAge();','\x20\x20\x20\x20highp\x20float\x20alive\x20=\x20getAlive();','\x20\x20\x20\x20highp\x20float\x20maxAge\x20=\x20getMaxAge();','\x20\x20\x20\x20highp\x20float\x20positionInTime\x20=\x20(age\x20/\x20maxAge);','\x20\x20\x20\x20highp\x20float\x20isAlive\x20=\x20when_gt(\x20alive,\x200.0\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_WIGGLE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleAmount\x20=\x20positionInTime\x20*\x20getWiggle();','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleSin\x20=\x20isAlive\x20*\x20sin(\x20wiggleAmount\x20);','\x20\x20\x20\x20vec3\x20vel\x20=\x20getVelocity(\x20age\x20);','\x20\x20\x20\x20vec3\x20accel\x20=\x20getAcceleration(\x20age\x20);','\x20\x20\x20\x20vec3\x20force\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(\x20position\x20);','\x20\x20\x20\x20force\x20+=\x20vel;','\x20\x20\x20\x20force\x20+=\x20accel\x20*\x20age;','\x20\x20\x20\x20pos\x20+=\x20force;','\x20\x20\x20\x20\x20\x20\x20\x20pos.x\x20+=\x20wiggleSin;','\x20\x20\x20\x20#ifdef\x20HAS_PERSPECTIVE','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x20scale\x20/\x20length(\x20mvPosition.xyz\x20);','\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x201.0;','\x20\x20\x20\x20float\x20pointSizePerspective\x20=\x20pointSize\x20*\x20perspective;','\x20\x20\x20\x20#ifdef\x20COLORIZE','\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20isAlive\x20*\x20getColorOverLifetime(','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20positionInTime,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.x\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.y\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.z\x20),','\x20\x20\x20\x20\x20\x20\x20);','\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20vec3(1.0);','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20c,\x20o\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20textureAnimation.x;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20textureAnimation.y;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20totalFrames\x20=\x20textureAnimation.z;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20row\x20=\x20floor(\x20(frameNumber\x20-\x20column)\x20/\x20framesX\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20row\x20/\x20framesY;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.y\x20=\x201.0\x20/\x20framesY;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.z\x20=\x20columnNorm;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.w\x20=\x20rowNorm;','\x20\x20\x20\x20gl_PointSize\x20=\x20pointSizePerspective;','\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','logdepthbuf_vertex','common','logdepthbuf_pars_fragment','void\x20main()\x20{','\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20vColor.xyz;','\x20\x20\x20\x20#ifdef\x20ALPHATEST','\x20\x20\x20\x20\x20\x20\x20if\x20(\x20vColor.w\x20<\x20float(ALPHATEST)\x20)\x20discard;','rotateTexture','\x20\x20\x20\x20outgoingLight\x20=\x20vColor.xyz\x20*\x20rotatedTexture.xyz;','\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20outgoingLight.xyz,\x20rotatedTexture.w\x20*\x20vColor.w\x20);','fog_fragment','utils','ensureTypedArg','ensureInstanceOf','isArray','_value','_spread','clamp','max','interpolateArray','clone','ceil','types','NUMBER','Vector2','lerp','Vector4','Color','abs','random','roundToNearestMultiple','copy','getHex','sqrt','randomFloat','round','normalize','multiplyScalar','add','setRGB','Group','OBJECT','texture','uuid','generateUUID','fixedTimeStep','Texture','textureFrames','frames','textureFrameCount','frameCount','textureLoop','loop','hasPerspective','BOOLEAN','colorize','maxParticleCount','blending','transparent','alphaTest','depthWrite','depthTest','fog','scale','emitterIDs','_pool','_createNewWhenPoolEmpty','_attributesNeedRefresh','_attributesNeedDynamicReset','attributeKeys','attributeCount','vertex','shaders','fragment','BufferGeometry','mesh','_updateDefines','emitters','SHOULD_CALCULATE_SPRITE','SHOULD_ROTATE_TEXTURE','angle','spread','SHOULD_ROTATE_PARTICLES','rotation','angleSpread','SHOULD_WIGGLE_PARTICLES','wiggle','_applyAttributesToGeometry','addAttribute','particleCount','addEmitter','Emitter','error','group','maxAge','_setBufferUpdateRanges','_setAttributeOffset','_assignForceValue','velocity','acceleration','opacity','_assignAngleValue','_assignParamsValue','Emitter\x20already\x20belongs\x20to\x20another\x20group.\x20Will\x20not\x20add\x20to\x20requested\x20group.','removeEmitter','`emitter`\x20argument\x20must\x20be\x20instance\x20of\x20SPE.Emitter.\x20Was\x20provided\x20with:','Emitter\x20does\x20not\x20exist\x20in\x20this\x20group.\x20Will\x20not\x20remove.','attributeOffset','_onRemove','getFromPool','_poolCreationSettings','releaseIntoPool','reset','getPool','addPool','_triggerSingleEmitter','enable','disable','duration','triggerPoolEmitter','_updateUniforms','runTime','deltaTime','_resetBufferRanges','_updateBuffers','bufferUpdateRanges','tick','resetDynamic','radius','drag','color','onParticleSpawn','distributions','BOX','spreadClamp','randomise','distributionClamp','distribution','static','ensureArrayInstanceOf','ensureArrayTypedArg','isStatic','activeMultiplier','direction','alive','particlesPerSecond','activationIndex','attributeEnd','age','activeParticleCount','paramsArray','resetFlags','updateFlags','updateCounts','updateMap','params','ensureValueOverLifetimeCompliance','_createGetterSetters','_rotationCenter','rotationCenter','_randomise','POSITIVE_INFINITY','NEGATIVE_INFINITY','_calculatePPSValue','activationEnd','_assignValue','_assignPositionValue','_assignRotationValue','_assignColorValue','randomVector3','_radius','_radiusScale','_spreadClamp','_distributionClamp','_distribution','randomDirectionVector3OnSphere','DISC','randomDirectionVector3OnDisc','_assignAbsLifetimeValue','arrayValuesAreEqual','setVec4Components','_axis','_axisSpread','_angleSpread','_static','_center','randomColorAsHex','_resetParticle','_updateAttributeUpdateRange','bufferUpdateKeys','bufferUpdateCount','_decrementParticleCount','_incrementParticleCount','_checkParticleAges','_activateParticles','Emitter\x20does\x20not\x20belong\x20to\x20a\x20group,\x20cannot\x20remove.','textureLoader','textureList','load','checkTextureIsLoaded','return','multiTexturesLoad','textureLoad','path','loadSixPicCubeTexture','CubeTextureLoader','loadTexture','TextureLoader','defineProperties','getOwnPropertyDescriptor',':\x20incorrect\x20invocation!','documentElement','Incompatible\x20receiver,\x20','MarkerFuncName','ESParkConstant','ESMarkerLevel','cylinder_float','cylinder_spread','circle_rotate','circle_bips','circles_radian_rotate','circle_breath','sphere_spread','points_line','points','number_up_beam','extent_wall','fire_smoke','smoke_spread','fire','explosion','water_spread','device_wind','routes_line','up_line','plane_video','plane_fog','plane_terrain','plane_ground','sprite_sheet','CylinderSpreadMarker','ConeSpreadMarker','CircleRippleMarker','CircleRadianMarker','MultiCircleBreathMarker','CurveLinkLine','UnderGroundLine','NumberUpParticle','SphereSpreadMarker','ExtentWallMarker','SmokeMarker','SmokeSpreadMarker','ExplosionMarker','WaterSpreadMarker','FloatPointsMarker','DeviceWindMarker','GuideLineMarker','SignalWifiMarker','PlaneWindMarker','PlaneFogMarker','PlaneTerrainMarker','PlaneGroundMarker','SpriteSheetMarker','ESMarkerType','INDOOR','light','technology','style1','style2','dark','day','ESModelEffectConstant','noface','lineframe','transparentHL','ESEffectsConstant','reject','entries','charCodeAt','\x20is\x20not\x20iterable!','species','KEY','JSON','_hidden','toPrimitive','propertyIsEnumerable','symbols','op-symbols','QObject','findChild','hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables','store','\x20is\x20not\x20a\x20symbol!','[null]','getOwnPropertyNames','[object\x20Window]','asyncIterator','assign','abcdefghijklmnopqrst','forEach','data','process','setImmediate','clearImmediate','onreadystatechange','nextTick','now','port2','port1','onmessage','postMessage','importScripts','message','script','removeChild','resolve','promise','fastKey','add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON','clear','get','getConstructor','setStrong','timer','xCount','xStart','yStart','imageWidth','yCount','xIndex','yIndex','isAutoClip','isNeedTargetFrameStart','targetFrame','isLoop','isLockUpdate','loopCount','repeat','setTextureByStartFrame','xSize','imageHeight','ySize','update','getElapsedTime','fps','targetFrameStart','setStandardMaterialParams','requestEffectThemeConfig','jsonFileLoader','FileLoader','parse','effects.json','esmap.ESMapTools\x20initialize\x20cannot\x20find\x20effects.json.\x20Please\x20set\x20the\x20correct\x20file\x20path!','roughness','metalness','envMapIntensity','mirrorReflection','hightLightReflection','splitCrossFloorPoints','fnum','crossTo','view','controls','isFlying','flyTo','moveSpeed','zoomSpeed','radiusFactor','pitchAngle','complete','ESDirection','distanceTo','NORTH','SOUTH','WAST','EAST','NORTH_EAST','NORTH_WEST','SOUTH_EAST','SOUTH_WEST','flyToAnimate','can\x20not\x20find\x20esmap.ESDirection\x20data','p2pFlyFocusTo','cameraPosition','flyFocusTo','targetPos','directionAngle','tileUpdateCallbacks','toggleControlsLock','degToRad','Tween','easing','Easing','Quadratic','Out','onStart','start','onUpdate','checkScaleLevel','updateLookAtPos','dispatchEvent','enablePan','enableRotate','enableZoom','setPrototypeOf',':\x20can\x27t\x20set\x20as\x20prototype!','stringify','Set','getSegementPoints','index','_index','_getSegementPointsForVec3','height','createMaterial','lineMaterial','MeshLineMaterial','setStyle','dashArray','dashRatio','sizeAttenuation','lineWidth','camera','near','far','DoubleSide','effect_track_line','makeSquare','vertices','Geometry','makeMeshLineGeometry','makeLineGeometry','taper','setGeometry','linear','parabolic','pow','addLine','meshLines','wavy','Mesh','renderOrder','object3d','tempDir','subVectors','tempEndPoint','tempStartPoint','angleTo','children','merge','Matrix4','makeScale','applyMatrix','Raycaster','point','MeshLine','disposeChilds','setResizeListen','width','disposeAll','useFadeOut','fadeOutFactor','render','speed','visible','colorStr','#FFFFFF','lineType','resolution','isCanChangeStyle','Object3D','innerWidth','innerHeight','wrapT','RepeatWrapping','container','click','layer','_handleGetPos','handleGetPos','callback','init','addEventListener','eventName','removeEventListener','getOffsetX','event','srcElement','offsetX','getBoundingClientRect','clientX','getOffsetY','offsetY','clientY','left','pickPosition','colorTextures','extent','currentSrc','lonLanToMc','CoordTransform','getWorldPosFromLoLa','google','mcToLonLan','getLoLaFromWorldPos','getPrototypeOf','Promise','TypeError','then','6.6','fail','domain','emit','onrejectionhandled','exit','Promise-chain\x20cycle','unhandledRejection','onunhandledrejection','console','Unhandled\x20promise\x20rejection','Promise\x20can\x27t\x20be\x20resolved\x20itself','all','MutationObserver','WebKitMutationObserver','enter','navigator','standalone','createTextNode','positions','side','indices_array','uvs','counters','widthCallback','buffer','ShaderMaterial','UniformsLib','meshline_vert','meshline_frag','useMap','alphaMap','useAlphaMap','dashOffset','useDash','visibility','useChange','setMatrixWorld','matrixWorld','raycast','Ray','Sphere','linePrecision','boundingSphere','intersectSphere','getInverse','applyMatrix4','LineSegments','fromArray','distanceSqToSegment','ray','origin','compareV3','previous','copyV3','copyArray','attribute\x20vec3\x20changeColor;','attribute\x20float\x20side;','attribute\x20float\x20width;','uniform\x20vec2\x20resolution;','uniform\x20float\x20lineWidth;','uniform\x20float\x20opacity;','uniform\x20float\x20near;','uniform\x20float\x20far;','uniform\x20float\x20sizeAttenuation;','varying\x20vec3\x20vChangeColor;','varying\x20float\x20vCounters;','vec2\x20fix(\x20vec4\x20i,\x20float\x20aspect\x20)\x20{','\x20\x20\x20\x20vec2\x20res\x20=\x20i.xy\x20/\x20i.w;','\x20\x20\x20\x20res.x\x20*=\x20aspect;','\x09\x20vCounters\x20=\x20counters;','\x20\x20\x20\x20float\x20aspect\x20=\x20resolution.x\x20/\x20resolution.y;','\x20\x20\x20\x20float\x20pixelWidthRatio\x20=\x201.\x20/\x20(resolution.x\x20*\x20projectionMatrix[0][0]);','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20color,\x20opacity\x20);','\x20\x20\x20\x20vChangeColor\x20=\x20vec3(\x20changeColor\x20);','\x20\x20\x20\x20vUV\x20=\x20uv;','\x20\x20\x20\x20mat4\x20m\x20=\x20projectionMatrix\x20*\x20modelViewMatrix;','\x20\x20\x20\x20vec4\x20finalPosition\x20=\x20m\x20*\x20vec4(\x20position,\x201.0\x20);','\x20\x20\x20\x20vec4\x20nextPos\x20=\x20m\x20*\x20vec4(\x20next,\x201.0\x20);','\x20\x20\x20\x20vec2\x20prevP\x20=\x20fix(\x20prevPos,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20nextP\x20=\x20fix(\x20nextPos,\x20aspect\x20);','\x20\x20\x20\x20float\x20pixelWidth\x20=\x20finalPosition.w\x20*\x20pixelWidthRatio;','\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.8\x20*\x20lineWidth\x20*\x20width;','\x20\x20\x20\x20vec2\x20dir;','\x20\x20\x20\x20if(\x20nextP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir1\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir2\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20dir\x20=\x20normalize(\x20dir1\x20+\x20dir2\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20miter\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);','\x20\x20\x20\x20//vec2\x20normal\x20=\x20(\x20cross(\x20vec3(\x20dir,\x200.\x20),\x20vec3(\x200.,\x200.,\x201.\x20)\x20)\x20).xy;','\x20\x20\x20\x20vec2\x20normal\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);','\x20\x20\x20\x20normal.x\x20/=\x20aspect;','\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(\x20normal\x20*\x20side,\x200.0,\x201.0\x20);','\x20\x20\x20\x20gl_Position\x20=\x20finalPosition;','\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','fog_vertex','fog_pars_fragment','uniform\x20sampler2D\x20map;','uniform\x20sampler2D\x20alphaMap;','uniform\x20float\x20useMap;','uniform\x20float\x20useAlphaMap;','uniform\x20float\x20useDash;','uniform\x20float\x20dashArray;','uniform\x20float\x20dashOffset;','uniform\x20float\x20dashRatio;','uniform\x20float\x20visibility;','uniform\x20float\x20alphaTest;','uniform\x20float\x20fadeOutFactor;','uniform\x20float\x20useChange;','uniform\x20vec2\x20repeat;','uniform\x20vec2\x20offset;','varying\x20vec2\x20vUV;','\x20\x20\x20\x20if(\x20useAlphaMap\x20==\x201.\x20)\x20c.a\x20*=\x20texture2D(\x20alphaMap,\x20vUV\x20*\x20repeat\x20+\x20offset\x20).a;','\x20\x20\x20\x20if(\x20c.a\x20<\x20alphaTest\x20)\x20discard;','\x20\x20\x20\x20if(\x20useDash\x20==\x201.\x20){','\x20\x20\x20\x20gl_FragColor.a\x20*=\x20step(vCounters,\x20visibility);','\x20\x20\x20\x20if(\x20useChange\x20==\x201.\x20)\x20gl_FragColor.rgb\x20=\x20vec3(vChangeColor);','Invalid\x20attempt\x20to\x20destructure\x20non-iterable\x20instance','isIterable','@@iterator','canvas','getContext','addColorStop','rgba(0,\x200,\x200,\x201)','fillStyle','throw','originColor','replaceColor','updateView','isShowWater','updateLayerNodesMaterial','traverse','#40ffff','isSpread','shaderMesh','shader','MeshBasicMaterial','onBeforeCompile','texture1','#include\x20<uv_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','PlaneBufferGeometry','iTime','isShowConeScan','downDelta','upCount','coneGroup','coneMesh1','coneMesh2','cone1','cone2','LinearFilter','minFilter','wrapS','sphere','magFilter','LinearMipMapLinearFilter','animate','addCones','CylinderBufferGeometry','rotateX','coneMaterial','lookAt','lookAtPoint','isCanUpdateAnimate','lookAtAnimate','Linear','None','alphaTex','offsetHeight','lookAtPos','texOffsetY','isCanUpdate','isNeedUpdateLookAt','list','extentRadius','AdditiveBlending','exRadius','numTex','#include\x20<uv2_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20attribute\x20vec3\x20posOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20speed;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offsetHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20to\x20fix\x20lookat\x20camera\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20applyQuaternionToVector(\x20vec4\x20q,\x20vec3\x20v\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20v\x20+\x202.0\x20*\x20cross(\x20q.xyz,\x20cross(\x20q.xyz,\x20v\x20)\x20+\x20q.w\x20*\x20v\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.01,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20nPos\x20=\x2010.0\x20*\x20vec3(position);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.x\x20+=\x20posOffset.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20modelPos.y\x20+=\x20(fract(iTime\x20*\x20speed)\x20*\x20exRadius)\x20+\x20offsetHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.y\x20+=\x20posOffset.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.z\x20+=\x20posOffset.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<fog_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20modelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20numTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','randFloat','Float32BufferAttribute','frustumCulled','createRandomObj','lineHeight','lineNumber','setUpdateListen','setLookAtCamera','end','enabled','fireSmokeParticle','fireParticle','emitter','centerGroup','_visible','outTex','isOpenScreenEffect','vectorSpread','NormalBlending','fireEmitter','fogColor','fireSmokeEmitter','outfire','waterFlux','dirAngle','particleGroup','rotateY','hypot','gapDistance','pointSize','root','deltaDistance','routePoints','animateHandle','InterleavedBufferAttribute','cIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_PointSize\x20=\x20size;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sin2(const\x20float\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20v\x20=\x20mod(value,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20step(0.5,\x20v);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.0\x20-\x20s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(v\x20*\x20t\x20+\x20(1.0\x20-\x20v)\x20*\x20s)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20op\x20=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20o\x20=\x201.0\x20-\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20smoothstep(0.25,\x200.75,\x20sin2((iTime\x20/\x202.0\x20-\x20vIndex\x20/\x2016.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20op\x20+=\x20o\x20*\x20s;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20op\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_addTestBox','MeshLambertMaterial','emissive','setHSL','_moveObjInPointsLine','currIndex','_moveObjToTarget','autoScale','Scene','ShaderLib','tCube','BoxBufferGeometry','scene','format','RGBFormat','mapping','encoding','mapView','textureCube','gradientShader','skyBox','createSixPicCubeTexture','canUpdate','createOnePicCubeTexture','CubeTexture','ImageLoader','drawImage','images','createBox','isCullGround','intensity','cube','tCube2','transFactor','isCullColor','cullHeight','cullColor','varying\x20vec3\x20vWorldDirection;','vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uniform\x20samplerCube\x20tCube;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20cullHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20cullColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorContrast(vec3\x20rgb,\x20float\x20contrast)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(vec3(0.5),\x20rgb,\x20contrast);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorSaturation(vec3\x20rgb,\x20float\x20adjustment)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20W\x20=\x20vec3(0.2125,\x200.7154,\x200.0721);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20intensity\x20=\x20vec3(dot(rgb,\x20W));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(intensity,\x20rgb,\x20adjustment);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20cubeUv\x20=\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20cubeUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor2\x20=\x20textureCube(\x20tCube2,\x20cubeUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texColor\x20=\x20mix(\x20texColor,\x20texColor2,\x20transFactor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20=\x20colorSaturation(texColor.rgb,\x203.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x200.8;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20cullHeight){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullColor){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20cullHeight){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texColor.rgb\x20=\x20vec3(cullColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BackSide','envMap','createGradientSky','topColorStr','#0077ff','bottomColorStr','#ffffff','exponent','topColor','skyTex','#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(skyTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x20offset\x20).y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20texCol.rgb,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createGradientCubeSky','bottomColor','#include\x20<common>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20newProject;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor.a\x20*=\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x2030000000.0\x20).y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyColor\x20=\x20gl_FragColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SKY_COLOR\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20skyColor\x20=\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20skyColor,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSphereSky','SphereBufferGeometry','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSphereCubeSky','createCylinderWallSky','texturePath','wallHeight','rotateAngle','setBackground','background','skyMesh','phi','nightSkyConfigs','clearSkyBox','setSkyConfig','skyMaterial','UniformsUtils','skyConfigs','turbidity','rayleigh','luminance','mieDirectionalG','refreshSky','sunPosition','theta','cameraPos','\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20luminance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieDirectionalG;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20cameraPos\x20=\x20vec3(\x200.0,\x200.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20n\x20=\x201.0003;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20N\x20=\x202.545E25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20rayleighZenithLength\x20=\x208.4E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20mieZenithLength\x20=\x201.25E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20sunAngularDiameterCos\x20=\x200.999956676946448443553574619906976478926848692873900859324;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20THREE_OVER_SIXTEENPI\x20=\x200.05968310365946075;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20ONE_OVER_FOURPI\x20=\x200.07957747154594767;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighPhase(\x20float\x20cosTheta\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20THREE_OVER_SIXTEENPI\x20*\x20(\x201.0\x20+\x20pow(\x20cosTheta,\x202.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hgPhase(\x20float\x20cosTheta,\x20float\x20g\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20g2\x20=\x20pow(\x20g,\x202.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20pow(\x201.0\x20-\x202.0\x20*\x20g\x20*\x20cosTheta\x20+\x20g2,\x201.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20ONE_OVER_FOURPI\x20*\x20(\x20(\x201.0\x20-\x20g2\x20)\x20*\x20inverse\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20A\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20B\x20=\x200.50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20C\x20=\x200.10;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20D\x20=\x200.20;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20E\x20=\x200.02;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20F\x20=\x200.30;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20whiteScale\x20=\x201.0748724675633854;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Uncharted2Tonemap(\x20vec3\x20x\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20C\x20*\x20B\x20)\x20+\x20D\x20*\x20E\x20)\x20/\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20B\x20)\x20+\x20D\x20*\x20F\x20)\x20)\x20-\x20E\x20/\x20F;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zenithAngle\x20=\x20acos(\x20max(\x200.0,\x20dot(\x20up,\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20(\x20cos(\x20zenithAngle\x20)\x20+\x200.15\x20*\x20pow(\x2093.885\x20-\x20(\x20(\x20zenithAngle\x20*\x20180.0\x20)\x20/\x20pi\x20),\x20-1.253\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sR\x20=\x20rayleighZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sM\x20=\x20mieZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Fex\x20=\x20exp(\x20-(\x20vBetaR\x20*\x20sR\x20+\x20vBetaM\x20*\x20sM\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20cosTheta\x20=\x20dot(\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20),\x20vSunDirection\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rPhase\x20=\x20rayleighPhase(\x20cosTheta\x20*\x200.5\x20+\x200.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaRTheta\x20=\x20vBetaR\x20*\x20rPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mPhase\x20=\x20hgPhase(\x20cosTheta,\x20mieDirectionalG\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaMTheta\x20=\x20vBetaM\x20*\x20mPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Lin\x20=\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20(\x201.0\x20-\x20Fex\x20),\x20vec3(\x201.5\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Lin\x20*=\x20mix(\x20vec3(\x201.0\x20),\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20Fex,\x20vec3(\x201.0\x20/\x202.0\x20)\x20),\x20clamp(\x20pow(\x201.0\x20-\x20dot(\x20up,\x20vSunDirection\x20),\x205.0\x20),\x200.0,\x201.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20direction\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20theta\x20=\x20acos(\x20direction.y\x20);\x20//\x20elevation\x20-->\x20y-axis,\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20phi\x20=\x20atan(\x20direction.z,\x20direction.x\x20);\x20//\x20azimuth\x20-->\x20x-axis\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(\x20phi,\x20theta\x20)\x20/\x20vec2(\x202.0\x20*\x20pi,\x20pi\x20)\x20+\x20vec2(\x200.5,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20L0\x20=\x20vec3(\x200.1\x20)\x20*\x20Fex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sundisk\x20=\x20smoothstep(\x20sunAngularDiameterCos,\x20sunAngularDiameterCos\x20+\x200.00002,\x20cosTheta\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20L0\x20+=\x20(\x20vSunE\x20*\x2019000.0\x20*\x20Fex\x20)\x20*\x20sundisk;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texColor\x20=\x20(\x20Lin\x20+\x20L0\x20)\x20*\x200.04\x20+\x20vec3(\x200.0,\x200.0003,\x200.00075\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20curr\x20=\x20Uncharted2Tonemap(\x20(\x20log2(\x202.0\x20/\x20pow(\x20luminance,\x204.0\x20)\x20)\x20)\x20*\x20texColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20curr\x20*\x20whiteScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20retColor\x20=\x20pow(\x20color,\x20vec3(\x201.0\x20/\x20(\x201.2\x20+\x20(\x201.2\x20*\x20vSunfade\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20retColor,\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vWorldPosition.y\x20<\x20-9e8){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','sign','log','LOG10E','return\x20this','regeneratorRuntime','@@asyncIterator','@@toStringTag','_invoke','Generator\x20is\x20already\x20running','method','delegate','arg','The\x20iterator\x20does\x20not\x20provide\x20a\x20\x27throw\x27\x20method','nextLoc','iterator\x20result\x20is\x20not\x20an\x20object','sent','_sent','dispatchException','abrupt','normal','__await','catchLoc','afterLoc','tryEntries','completion','wrap','suspendedYield','completed','GeneratorFunction','isGeneratorFunction','displayName','AsyncIterator','async','[object\x20Generator]','reverse','pop','prev','charAt','rval','tryLoc','finallyLoc','try\x20statement\x20without\x20catch\x20or\x20finally','continue','break','lut','setColorMap','Lut','minV','rainbow','maxV','updateCanvas','getImageData','ColorMapKeywords','LutAlpha','ESMapTools\x20requires\x20esmap.js','effectMarker','ESLayer','EFFECT_MARKER','markers','lines','buildings','floors','ground','lights','models','routes','skybox','switchEffectTheme','switchEffectLight','clearAll','isInitComplete','esmap\x20is\x20not\x20initialized','getFloorHeight','getFloor','_effectLayers','FloorNum','o3d_','effect\x20initialize\x20is\x20not\x20complete!','removeLayer','buildingList','Symbol\x20is\x20not\x20a\x20constructor','__Name__','fill','this\x20is\x20null\x20or\x20not\x20defined','addMarker','removeAll','imgUrl','MARKER_ASSETS','cylinderHeight','moveHeight','isShine','renderer','capabilities','getMaxAnisotropy','seeThrough','noBloomLight','activeNum','animateType','period','scanHeight','isCilpGround','clipGroundY','alphaTexture','isRandomMarker','randomCenter','scrollImgUrl','anisotropy','isTransparentLight','isScrollX','scrollXRepeat','scrollClockWise','isHideBackWall','wallMaterial','isSetTopAlphaTrans','extentList','addWall','FireSmokeMarker','innerTexture','outTexture','windFactor','spreadFactor','FireMarker','smokeTex','explosionTex','time','isRandomColor','extentHeight','fixedSize','extentWidth','SpriteUvAnimation','imgStyle','row','columnIndex','rowIndex','uvAnimate','UpLine','PlaneCrossLine','imgRepeat','routeList','createVideoElement','planeWidth','planeHeight','thickness','normalImgUrl','clipBorderImgUrl','heightImgUrl','meshWidth','meshHeight','materialType','isAutoRepeat','layers','CUBE_FLOAT','setPosition','addCube','_bindClick','CYLINDER_FLOAT','_instance','userData','POINTS_LINE','POINTS','moveTo','_options','updatePosition','CIRCLE_RIPPLE','CYLINDER_SPREAD','depth','NUMBER_UP_BEAM','SPHERE_SPREAD','EXTENT_WALL','changeStyle','addExtent','isNoClose','deleteExtentById','extentWallList','FIRE_SMOKE','FIRE','SMOKE','SMOKE_SPREAD','EXPLOSION','playShockWave','toggleEmitter','WATER_SPREAD','FLOAT_POINTS','DEVICE_WIND','SPRITE_SHEET','play','UP_LINE','ROUTES_LINE','viewModeChanged','line\x20data\x20is\x20not\x20support!','bid','getBuildingById','userId','lastAngle','_getMaterial','addLineGeometry','fadeOut','isChangeLineColor','scaleLineWidth','_originLineWidth','updateConfig','PlaneVideoMarker','playVideo','playSound','PLANE_WIND','rotateTo','PLANE_FOG','PLANE_TERRAIN','controlend','autoRepeat','debug','debugAxeSize','AxesHelper','mapCoord','setRotation','_enabled','_removeListen','intervalHandle','_root_','mapPicker','addObject','upadateMarker','showLevel','_bindShowLevel','zoomed','_setShowLevel','zoomLevel','_update','markerType','nodeType','mapService','_bindListen',':No\x20permission\x20to\x20create\x20this\x20type\x20of\x20EffectMarker','isTileBuilding','topTexPath','gradientTexPath','emissiveTexPath','emissiveTexScale','buildingColorStr','isOpenScan','isOpenWireframScan','isShowHorizonScan','isShowCenterSpread','isShowRadarScan','centerPos','hlColorStr','#fbfbfb','hlWidth','hlDiffuse','hlSpeed','vlHeight','vlColorStr','vlSpeed','csColorStr','spreadValue','csMaxRadius','rdColorStr','radarRadius','radarSpeed','radarCenterPos','textureLightStrength','topRepeat','screenSkyConfig','buildingColor','highLightColor','topTexture','gradientTexture','extentGradientTexture','screenSkyTexture','radarScanTexture','wireframeMaterial','emissiveFactor','hlTime','vlTime','csTime','isShowVerticalScan','isShowScanEffect','hlColor','vlExtent','vlIsTop','csColor','radarColor','radarTexPath','isBreathColor','textureRepeat','top','extentCenter','isUseExtentEffect','gradientImg','isUseScreenSky','skyImg','themeList','_heightColorConfigs','themeImgMapping','themeTextureList','lightIntensity','buildingBaseRepeat','unrealBloom','getThemeStyleIndex','topImgIndexMap','brothers','filltype','topImage','sideImage','topTexArr','topTextureType','buildingTexRepeat','topimagerepeat','topTexWrapArr','ClampToEdgeWrapping','sideImgIndexMap','sideTexArr','sideTextureType','sideimagerepeat','sideTexWrapArr','computeTopFaceAttrForEdit','topTexRepeatArr','sideTexRepeatArr','typeid','_getColorByHeight','range','getDis','computeRoomWidth','extentGradientTexPath','screenSkyTexPath','emissiveTexture','isBlending','Uniform','selectedColor_','extentLightDown','selectedColor','sideTex','buildingTexRotate','textureRotate','topTex','texLightStg','isShowScan','vlColor','csCenterPos','rdCenterPos','rdRadius','rdColor','rdTime','rdScanTex','exGradientTex','styleId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_OPEN_EF','#define\x20IS_TILE_BUILDING','#define\x20IS_USE_SS_SKY','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20faceAspect;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isHideFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20normalizeUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20rUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20buildingTexRotate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHighLight\x20=\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hideFlags\x20=\x20isHideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20normalizeUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.x,\x20buildingTexRepeat.y,\x20buildingTexRotate.x,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20suvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.z,\x20buildingTexRepeat.w,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tvUv\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svUv\x20=\x20(\x20suvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20newPos\x20=\x20position;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edege\x20of\x20start\x20point\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.x\x20+=\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.z\x20-=\x20centerPos.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(newPos,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHeight\x20=\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRandom\x20=\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBColor\x20=\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHLColor\x20=\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTopTexIndex\x20=\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSideTexIndex\x20=\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSelectedFlag\x20=\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRoundUv\x20=\x20vec2(rUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flag\x20=\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<project_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vGlPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_TEXTURE','#define\x20IS_GRADIENT_TEXTURE','#define\x20IS_EMISSIVE_TEXTURE','#define\x20IS_BREATH_COL','#define\x20HORIZONTAL_LINE','#define\x20VERTICAL_LINE','#define\x20CENTER_SPREAD','#define\x20EXTENT_EFFECT','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20extentLightDown;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20styleId;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20int\x20TexNum\x20=\x205;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texLightStg;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20emissiveTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20emissiveFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20selectedColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20isOpenScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20hlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlSpeed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20vlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spreadValue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20csTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20csCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20csColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20rdCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20rdScanTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20extentRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20extentCenter;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20exGradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20topTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20sideTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20topTexRepeatArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20sideTexRepeatArr[TexNum];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20SRGB_TO_LINEAR(c)\x20pow(abs(c),\x20vec3(2.2))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20LINEAR_TO_SRGB(c)\x20pow(abs(c),\x20vec3(1.0\x20/\x202.2))\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20gradientNoise(in\x20vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20magic\x20=\x20vec3(0.06711056,\x200.00583715,\x2052.9829189);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(magic.z\x20*\x20fract(dot(uv,\x20magic.xy)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edge\x20wihte\x20line\x20and\x20dark\x20bg\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20edgeFactor(vec2\x20p){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec2\x20grid\x20=\x20abs(fract(p\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(p)\x20/\x200.1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20min(grid.x,\x20grid.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20gradientBg\x20(vec3\x20col1,\x20vec3\x20col2,\x20vec2\x20a,\x20vec2\x20b,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20ba\x20=\x20b\x20-\x20a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20dot(uv\x20-\x20a,\x20ba)\x20/\x20dot(ba,\x20ba);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Saturate\x20and\x20apply\x20smoothstep\x20to\x20the\x20factor.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t\x20=\x20smoothstep(0.0,\x201.0,\x20clamp(t,\x200.0,\x201.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interpolate.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(SRGB_TO_LINEAR(col1),\x20SRGB_TO_LINEAR(col2),\x20t);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Convert\x20color\x20from\x20linear\x20to\x20sRGB\x20color\x20space\x20(=gamma\x20encode).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20LINEAR_TO_SRGB(color);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Add\x20gradient\x20noise\x20to\x20reduce\x20banding.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color\x20+=\x20(1.0/255.0)\x20*\x20gradientNoise(uv)\x20-\x20(0.5/255.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20horizontalLine\x20(vec4\x20resultColor,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20extent\x20=\x20abs(posValue\x20-\x20time);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extent\x20<\x20hlWidth){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20old\x20-\x20should\x20not\x20use\x20it\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20colorAdd\x20=\x20pow(1.\x20-\x20pow(abs(posValue\x20-\x20time)\x20*\x200.001,\x201.2),\x203.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20colorAdd\x20=\x20colorAdd\x20*\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(resultColor,\x20vec3(1.0,\x201.0,\x201.0),\x20colorAdd);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20a\x20=\x20edgeFactor(nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20mix\x20gradient\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20vec4(hlColor,\x201.0),\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20color\x20=\x20texture2D(scanTexture,\x20vec2(0.0,\x20extent\x20/\x20hlWidth\x20/\x202.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color.rgb\x20=\x20vec3(1).rgb\x20-\x20color.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(\x20color.rgb,\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20breathCol(float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20period\x20=\x20fract(time\x20/\x20120.0)\x20*\x203.14159265\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20trans\x20=\x20posValue\x20/\x20100.0\x20+\x20sin(period)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(trans,\x20trans,\x20trans);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20verticalLine(vec3\x20col,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(time\x20/\x20360.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hTrans\x20=\x20clamp(posValue\x20/\x20vlHeight,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20abs(f\x20-\x200.5)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20diff\x20=\x20step(0.02,\x20abs(hTrans\x20-\x20f));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20col\x20*\x20(1.0\x20-\x20diff);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec3\x20vPos,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(vPos.xz-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20centerSpreadLine(vec4\x20resultColor,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vModelPos,\x20vec2(csCenterPos.x,\x20csCenterPos.y),\x20time,\x20spreadValue);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec4(csColor,\x201.0),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radarScan()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20rdCenterPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20rdCenterPos.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-rdRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20rdRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x20-rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20rotationMatrix\x20=\x20mat2(\x20c,\x20s,-s,\x20\x20c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pivot\x20=\x20vec2(0.5,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotationMatrix\x20*\x20(uv\x20-\x20pivot)\x20+\x20pivot;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(rdScanTex,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb\x20*\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20extentTexColor()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20extentCenter.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20extentCenter.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-extentRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20extentRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(exGradientTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vGlPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vGlPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingTopTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20topTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(topTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(topTexArr[0],\x20topTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(topTexArr[1],\x20topTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(topTexArr[2],\x20topTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(topTexArr[3],\x20topTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x20//\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x20//\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x20//\x203\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x20//\x204\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingSideTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20sideTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(sideTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(sideTexArr[0],\x20sideTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(sideTexArr[1],\x20sideTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(sideTexArr[2],\x20sideTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(sideTexArr[3],\x20sideTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x20//\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x20//\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x20//\x203\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x20//\x204\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<lights_fragment_begin>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GeometricContext\x20geometry;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.position\x20=\x20-\x20vViewPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.normal\x20=\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20IncidentLight\x20directLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PointLight\x20pointLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getPointDirectLightIrradiance(\x20pointLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20pointLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SpotLight\x20spotLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getSpotDirectLightIrradiance(\x20spotLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20spotLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isNeedDirectShadow\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DirectionalLight\x20directionalLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getDirectionalDirectLightIrradiance(\x20directionalLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20all(\x20bvec2(\x20directionalLight.shadow,\x20directLight.visible\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20vSelectedFlag\x20<=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20isNeedDirectShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RectAreaLight\x20rectAreaLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct_RectArea(\x20rectAreaLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20clearCoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<map_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20useTopUv,\x20useSideUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingTopTextures(tvUv,\x20nvUv,\x20topTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.x\x20==\x200.0\x20&&\x20buildingTexRepeat.y\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20nvUv;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20texture2D(topTex,\x20useTopUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingSideTextures(svUv,\x20nvUv,\x20sideTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.z\x20==\x200.0\x20&&\x20buildingTexRepeat.w\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20texture2D(sideTex,\x20useSideUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20gradientColor\x20=\x20texture2D(gradientTex,\x20vec2(1.0,\x20nvUv.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20*=\x20gradientColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20originColor\x20=\x20vec4(outgoingLight,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(hideFlags\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20breathSpeed\x20=\x20iTime\x20*\x2020.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20breathCol(vModelPos.y,\x20breathSpeed);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_EMISSIVE_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20oUV\x20=\x20emissiveFactor.w\x20>\x200.0000001\x20?\x20vec2(svUv.x\x20*\x20emissiveFactor.w,\x20svUv.y\x20*\x20emissiveFactor.w\x20+\x20vRandom)\x20:\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveTexCol\x20=\x20texture2D(emissiveTex,\x20vRoundUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveTexCol\x20).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20*=\x20emissiveFactor.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20emissiveTexCol.rgb;\x20//\x20it\x20will\x20lost\x20origin\x20mat\x20config\x20effect\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(normalize(cameraPosition.xz));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20skyCol\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20extentTexColor();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20verticalLine(vlColor,\x20vModelPos.y,\x20vlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20horizonPos\x20=\x20vModelPos.x\x20-\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20horizontalLine(resultColor,\x20\x20horizonPos,\x20hlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20centerSpreadLine(resultColor,\x20csTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20radarScan();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extentLightDown)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(0.1),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vTopTexIndex\x20>\x200.0\x20||\x20vSideTexIndex\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(1.0),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vHighLight\x20>\x200.5)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vHLColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(resultColor.a,\x20vHLColor.a,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(originColor.rgb\x20*\x20selectedColor,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getWireframeMaterial','toggleExtentLight','hlExtent','csSpeed','noiseTexPath','isShowWaterRipple','isShowTextureRepeat','repeatTexture','noiseTexture','curTexture','nextTexture','repeatFactor','texLightFactor','bgColor','noiseTex','repeatTex','\x0a\x09\x09\x09\x09#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x09\x09\x09\x09','#define\x20IS_BG','#define\x20IS_WATER_RIPPLE','\x0a\x0a\x09\x09\x09\x09uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texLightFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20repeatFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bgColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEX_REPEAT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20noiseTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20repeatTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_WATER_RIPPLE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20MAX_RADIUS\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20DOUBLE_HASH\x200\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20HASHSCALE1\x20.1031\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20HASHSCALE3\x20vec3(.1031,\x20.1030,\x20.0973)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hash12(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p3\x20\x20=\x20fract(vec3(p.xyx)\x20*\x20HASHSCALE1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p3\x20+=\x20dot(p3,\x20p3.yzx\x20+\x2019.19);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract((p3.x\x20+\x20p3.y)\x20*\x20p3.z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hash22(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p3\x20=\x20fract(vec3(p.xyx)\x20*\x20HASHSCALE3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p3\x20+=\x20dot(p3,\x20p3.yzx+19.19);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract((p3.xx+p3.yz)*p3.zy);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20waterRipple()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20repeat\x20=\x20vec2(repeatFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x20repeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p0\x20=\x20floor(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20circles\x20=\x20vec2(0.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20j\x20=\x20-MAX_RADIUS;\x20j\x20<=\x20MAX_RADIUS;\x20++j)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i\x20=\x20-MAX_RADIUS;\x20i\x20<=\x20MAX_RADIUS;\x20++i)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pi\x20=\x20p0\x20+\x20vec2(i,\x20j);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20DOUBLE_HASH\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hsh\x20=\x20hash22(pi);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hsh\x20=\x20pi;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20pi\x20+\x20hash22(hsh);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20fract(0.3*iTime\x20+\x20hash12(hsh));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20v\x20=\x20p\x20-\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d\x20=\x20length(v)\x20-\x20(float(MAX_RADIUS)\x20+\x201.)*t;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x201e-3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d1\x20=\x20d\x20-\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d2\x20=\x20d\x20+\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20p1\x20=\x20sin(31.*d1)\x20*\x20smoothstep(-0.6,\x20-0.3,\x20d1)\x20*\x20smoothstep(0.,\x20-0.3,\x20d1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20p2\x20=\x20sin(31.*d2)\x20*\x20smoothstep(-0.6,\x20-0.3,\x20d2)\x20*\x20smoothstep(0.,\x20-0.3,\x20d2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20circles\x20+=\x200.5\x20*\x20normalize(v)\x20*\x20((p2\x20-\x20p1)\x20/\x20(2.\x20*\x20h)\x20*\x20(1.\x20-\x20t)\x20*\x20(1.\x20-\x20t));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20circles\x20/=\x20float((MAX_RADIUS*2+1)*(MAX_RADIUS*2+1));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20mix(0.01,\x200.02,\x20smoothstep(0.1,\x200.6,\x20abs(fract(0.05*iTime\x20+\x200.5)*2.-1.)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20n\x20=\x20vec3(circles,\x20sqrt(1.\x20-\x20dot(circles,\x20circles)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20uv\x20/\x20repeat\x20-\x20intensity*n.xy);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20curTexCol\x20=\x20texCol.rgb\x20+\x205.*pow(clamp(dot(n,\x20normalize(vec3(1.,\x200.7,\x200.5))),\x200.,\x201.),\x206.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4(curTexCol,\x20texCol.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEX_REPEAT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texSum(\x20vec4\x20v\x20)\x20{\x20return\x20v.x+v.y+v.z;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureNoTile(\x20sampler2D\x20samp,\x20in\x20vec2\x20x\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20k\x20=\x20texture2D(\x20noiseTex,\x200.005*x\x20).x;\x20//\x20cheap\x20(cache\x20friendly)\x20lookup\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdx\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdy\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20l\x20=\x20k*8.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(l);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ia\x20=\x20floor(l+0.5);\x20//\x20suslik\x27s\x20method\x20(see\x20comments)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ib\x20=\x20floor(l);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20min(f,\x201.0-f)*2.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offa\x20=\x20sin(vec2(3.0,7.0)*ia);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offb\x20=\x20sin(vec2(3.0,7.0)*ib);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cola\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offa,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20colb\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offb,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20cola,\x20colb,\x20smoothstep(0.2,0.8,f-0.1*texSum(cola-colb))\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20curTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_WATER_RIPPLE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor\x20=\x20waterRipple();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nextTexColor\x20=\x20texture2D(texture2,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BG\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor.rgb\x20=\x20mix(bgColor,\x20curTexColor.rgb,\x20curTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nextTexColor.rgb\x20=\x20mix(bgColor,\x20nextTexColor.rgb,\x20nextTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(curTexColor.rgb,\x20nextTexColor.rgb,\x20transFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor.rgb\x20=\x20mix(vec3(texLightFactor),\x20curTexColor.rgb,\x20curTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nextTexColor.rgb\x20=\x20mix(vec3(texLightFactor),\x20nextTexColor.rgb,\x20nextTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(curTexColor,\x20nextTexColor,\x20transFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEX_REPEAT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20repeatTexCol\x20=\x20texture2D(repeatTex,\x20(vUV\x20*\x20repeatFactor)\x20/\x2010.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20repeatTexCol\x20=\x20textureNoTile(repeatTex,\x20(vUV\x20*\x20repeatFactor)\x20/\x2010.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20repeatTexCol.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ffc033','floatOffset','wireMaterial','settingShader','cubeShader','lineShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20floatOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rotateVerticesInY(vec3\x20vertices,\x20float\x20delta)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p\x20=\x20vertices.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_x\x20=\x20p.x*cos(delta)\x20-\x20p.z*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_z\x20=\x20p.z*cos(delta)\x20+\x20p.x*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(new_x,\x20p.y,\x20new_z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','OctahedronBufferGeometry','moveOpts','centerHeight','swingHeight','rotateSpeed','colorIndex','InterleavedBuffer','setDynamic','colIndex','pVisible','colorList','isStart','colorMaps','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20colIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20pVisible;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20animateType;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20colorMaps[','];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIsShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rand2(vec2\x20co){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(dot(co.xy,\x20vec2(12.9898,78.233)))\x20*\x2043758.5453);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scaleSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x201)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(iTime\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x202)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20time1\x20=\x20iTime\x20+\x20rand2(vec2(cIndex,\x20cIndex+1.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(time1\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x204)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vColor\x20=\x20colorMaps[int(colIndex)];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vIsShow\x20=\x20pVisible;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20scaleSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vIsShow\x20<\x200.5)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x205)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20vColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delta','breath','blink','flash','textures','isInit','textureSprites','createTexture','addUv2AlphaMask','aoMap','IS_USE_MASK_ALPHA','alphaMaskTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<alphamap_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture2D(alphaMaskTex,\x20vUv2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20alphaTexCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addUv2Channel','aoMapIntensity','uv2Trans','uv2TransSpeed','tex2UvAni','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20tex2UvAni;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addSpriteAnimate','imgWidth','imgHeight','column','uvSpriteAnimate','uvTranslate','SpriteMaterial','sprite','Sprite','setFixedSize','originalScale','onBeforeRender','setFromMatrixPosition','sub','setLoop','cincture','cinctureCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<uv2_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20-0.03,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol\x20*\x20lightIntensity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCilpGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20clipGroundY){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tan','ConeBufferGeometry','#ffee98','isClockWise','GrannyKnot','extentIds','_focusExtentId','focusColor','groundMaterial','FontSide','lineRep','lineTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20repUv\x20=\x20vec2(nvUv)\x20*\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20repUv.y\x20+=\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20lineTexCol\x20=\x20texture2D(lineTex,\x20repUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20lineTexCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isAlphaMask)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20(1.\x20-\x20pow(nvUv.y,\x205.0));\x20//\x20alpha\x20mask\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addWallScrollXGeometry','addWallScrollYGeometry','computeBoundingBox','extentId','CatmullRomCurve3','catmullrom','TubeBufferGeometry','lineParams','extrusionSegments','radiusSegments','closed','addGround','createShape','ShapeBufferGeometry','Shape','deltaSpeed','checkIsHaveId','getExtentWall','isAnimate','startPopAnimate','blurExtent','_tempColor','Elastic','switchExtentsVisible','focusColorStr','groundColorStr','groundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUv\x20=\x20vec2(uv)\x20*\x200.01;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(100.0,\x20100.0,\x201.0,\x201.0,\x200.7853,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20nUv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20nvUv).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getCenter','lineTo','line','lineList','mesh_line','createLineFrame','dispseMesh','createCircleGradient','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20getAirWave(vec2\x20uv,\x20vec4\x20PerAmpThickDec,\x20float\x20rep,\x20float\x20time)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20val\x20=\x20abs(PerAmpThickDec.z\x20/\x20(uv.y\x20+\x20PerAmpThickDec.y\x20*\x20sin(uv.x\x20/\x20PerAmpThickDec.x\x20+\x20PerAmpThickDec.w)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mask\x20=\x200.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mod(uv.x,rep)\x20-\x20rep\x20*\x20.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20rep/2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20-=\x20rep/4.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mask\x20=\x20rep/2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20=\x20step(val,\x20.5)\x20+\x20step(mask,\x201.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20step(val,.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x2010.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20-=\x203.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture2D(texture1,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20vec3(0.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20params\x20=\x20vec4(.65,.37,.198,1.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv,\x20params,\x2010.,\x20iTime\x20*\x205.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(5.,\x202.),\x20params,\x2010.,\x20iTime\x20*\x202.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(10.,\x20-2.),\x20params,\x2010.,\x20iTime\x20*\x207.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(30.,\x20-5.),\x20params,\x2010.,\x20iTime\x20*\x204.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20noise(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(uv.x\x20*\x20113.\x20+\x20uv.y\x20*\x20412.)\x20*\x206339.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20noiseSmooth(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20index\x20=\x20floor(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pq\x20=\x20fract(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pq\x20=\x20smoothstep(0.,\x201.,\x20pq);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topLeft\x20=\x20noise(index);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topRight\x20=\x20noise(index\x20+\x20vec2(1,\x200.));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20top\x20=\x20mix(topLeft,\x20topRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomLeft\x20=\x20noise(index\x20+\x20vec2(0,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomRight\x20=\x20noise(index\x20+\x20vec2(1,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottom\x20=\x20mix(bottomLeft,\x20bottomRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(mix(top,\x20bottom,\x20pq.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uv\x20+=\x20iMouse.xy\x20/\x2020.;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20iTime\x20/\x2040.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv2\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv2.x\x20+=\x20iTime\x20/\x2010.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv3\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv3.x\x20+=\x20iTime\x20/\x2030.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20noiseSmooth(uv\x20*\x204.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv\x20*\x208.)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv2\x20*\x2016.)\x20*\x200.25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2032.)\x20*\x200.125;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2064.)\x20*\x200.0625;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20/=\x201.2;\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20*=\x20smoothstep(0.2,\x20.6,\x20col);\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','imgTex','normalTex','heightTex','clipBorderTex','extentWH','GSD','disMapGSD','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20extentWH;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20disMapGSD;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vBorder;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<displacementmap_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_DISPLACEMENTMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transformed\x20+=\x20normalize(\x20objectNormal\x20)\x20*\x20(\x20texture2D(\x20displacementMap,\x20uv\x20).x\x20*\x20displacementScale\x20+\x20displacementBias\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20eWidth\x20=\x20extentWH.x\x20/\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20eHeight\x20=\x20extentWH.y\x20/\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(transformed.x\x20<=\x20-eWidth\x20||\x20transformed.x\x20>=\x20eWidth\x20||\x20transformed.y\x20<=\x20-eHeight\x20||\x20transformed.y\x20>=\x20eHeight)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transformed.z\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(transformed.x\x20<=\x20-eWidth+disMapGSD.x\x20||\x20transformed.x\x20>=\x20eWidth-disMapGSD.x\x20||\x20transformed.y\x20<=\x20-eHeight+disMapGSD.y\x20||\x20transformed.y\x20>=\x20eHeight-disMapGSD.y\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBorder\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<worldpos_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20extentWH;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20clipBorderTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vBorder;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vBorder\x20>\x200.5)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vec3(0.8,\x200.71,\x200.6);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20if(vBorder\x20>\x200.5\x20&&\x20vWorldPos.x\x20<\x20xMax\x20&&\x20vWorldPos.x\x20>\x20xMin\x20&&\x20vWorldPos.y\x20<\x20zMax\x20&&\x20vWorldPos.y\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(hmTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','naturalHeight','strokeStyle','black','beginPath','stroke','displacementMap','CanvasTexture','displacementScale','displacementBias','rainFall','computeRainFallFactor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uniform\x20vec4\x20iDate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rFall;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20date\x20=\x20-vec4(iDate);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec2\x20fragCoord\x20=\x20vec2(gl_FragCoord.x,\x20gl_FragCoord.y)\x20\x20*\x20vec2(vUV.x,\x20vUV.y)\x20*\x200.5;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//float\x20a\x20=\x20.5\x20-\x206.*\x20fract((fragCoord.x*.2+fragCoord.y*.01)\x20*\x20fract(fragCoord.x*.161)-date.w);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20a2\x20=\x20.5\x20-\x20rFall\x20*\x20fract((gl_FragCoord.x\x20*\x20.2\x20+\x20gl_FragCoord.y\x20*\x20.01)\x20*\x20fract(\x20gl_FragCoord.x\x20*\x20.61)\x20-\x20(-iTime));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20=\x20vec3(a2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20vec3(1.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20a2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20diffuseColor.a;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rFall','snowFall','computeSnowFallFactor','density','sway','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20acc\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dof\x20=\x205.*sin(iTime*.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i=0;\x20i<density;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fi\x20=\x20float(i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20q\x20=\x20uv*(1.+fi*depth)*40.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20q\x20+=\x20vec2(q.y*(sway*mod(fi*7.238917,1.)-sway*.5),\x20iTime/(1.+fi*depth*.03));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20n\x20=\x20vec3(floor(q),31.189+fi);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20m\x20=\x20floor(n)*.00001\x20+\x20fract(n);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20mp\x20=\x20(31415.9+m)/fract(p*m);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20fract(mp);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20s\x20=\x20abs(mod(q,1.)-.5+.9*r.xy-.45);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s\x20+=\x20.01*abs(2.*fract(10.*q.yx)-1.);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d\x20=\x20.6*max(s.x-s.y,s.x+s.y)+max(s.x,s.y)-.01;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20edge\x20=\x20.005+.05*min(.5*abs(fi-5.-dof),1.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20acc\x20+=\x20vec3(smoothstep(edge,-edge,d)*(r.x/(1.+.02*fi*depth)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20acc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20acc.g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x2020.0;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','smokeParticle','tex','#eeeeee','smokeEmitter','shaderParticleEngine','floatPointsParticle','isSpreadColor','particle','shockwaveParticle','SPHERE','createShockWave','MeshStandardMaterial','#fcfcfc','coeficient','power','glowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexNormal\x20=\x20normalize(normalMatrix\x20*\x20normal);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexWorldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20coeficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20power;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20worldCameraToVertex\x20=\x20vVertexWorldPosition\x20-\x20cameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20viewCameraToVertex\x09=\x20(viewMatrix\x20*\x20vec4(worldCameraToVertex,\x200.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewCameraToVertex\x20=\x20normalize(viewCameraToVertex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x09=\x20pow(coeficient\x20+\x20dot(vVertexNormal,\x20viewCameraToVertex),\x20power);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20+=\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vVertexWorldPosition.y\x20<\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(glowColor.rgb,\x20intensity\x20*\x20diffuseColor.a);','shockSphere','onComplete','Quaternion','setFromAxisAngle','multiply','quaternion','rotateZ','must\x20init\x20particle\x20emitter','createLinearGradient','#000000','fillRect','texRepeat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20iTime,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate','RGBELoader','envCubeMap','texPath','resolutionSize','NearestFilter','PMREMGenerator','cubeLods','varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','#include\x20<common>\x0a\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20int\x20faceIndex;\x0a\x09\x09\x09\x09uniform\x20float\x20roughness;\x0a\x09\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09\x09\x09\x09uniform\x20float\x20mapSize;\x0a\x09\x09\x09\x09uniform\x20float\x20tFlip;\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09float\x20GGXRoughnessToBlinnExponent(\x20const\x20in\x20float\x20ggxRoughness\x20)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20ggxRoughness\x20+\x200.0001;\x0a\x09\x09\x09\x09\x09a\x20*=\x20a;\x0a\x09\x09\x09\x09\x09return\x20(\x202.0\x20/\x20a\x20-\x202.0\x20);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSamplePhong(vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20specPow)\x20{\x0a\x09\x09\x09\x09\x09float\x20phi\x20=\x20uv.y\x20*\x202.0\x20*\x20PI;\x0a\x09\x09\x09\x09\x09float\x20cosTheta\x20=\x20pow(1.0\x20-\x20uv.x,\x201.0\x20/\x20(specPow\x20+\x201.0));\x0a\x09\x09\x09\x09\x09float\x20sinTheta\x20=\x20sqrt(1.0\x20-\x20cosTheta\x20*\x20cosTheta);\x0a\x09\x09\x09\x09\x09vec3\x20sampleDir\x20=\x20vec3(cos(phi)\x20*\x20sinTheta,\x20sin(phi)\x20*\x20sinTheta,\x20cosTheta);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20sampleDir;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSampleGGX(\x20vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20Roughness\x20)\x0a\x09\x09\x09\x09{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20Roughness\x20*\x20Roughness;\x0a\x09\x09\x09\x09\x09float\x20Phi\x20=\x202.0\x20*\x20PI\x20*\x20uv.x;\x0a\x09\x09\x09\x09\x09float\x20CosTheta\x20=\x20sqrt(\x20(1.0\x20-\x20uv.y)\x20/\x20(\x201.0\x20+\x20(a*a\x20-\x201.0)\x20*\x20uv.y\x20)\x20);\x0a\x09\x09\x09\x09\x09float\x20SinTheta\x20=\x20sqrt(\x201.0\x20-\x20CosTheta\x20*\x20CosTheta\x20);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20vec3(SinTheta\x20*\x20cos(\x20Phi\x20),\x20SinTheta\x20*\x20sin(\x20Phi\x20),\x20CosTheta);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09mat3\x20matrixFromVector(vec3\x20n)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x201.0\x20/\x20(1.0\x20+\x20n.z);\x0a\x09\x09\x09\x09\x09float\x20b\x20=\x20-n.x\x20*\x20n.y\x20*\x20a;\x0a\x09\x09\x09\x09\x09vec3\x20b1\x20=\x20vec3(1.0\x20-\x20n.x\x20*\x20n.x\x20*\x20a,\x20b,\x20-n.x);\x0a\x09\x09\x09\x09\x09vec3\x20b2\x20=\x20vec3(b,\x201.0\x20-\x20n.y\x20*\x20n.y\x20*\x20a,\x20-n.y);\x0a\x09\x09\x09\x09\x09return\x20mat3(b1,\x20b2,\x20n);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09vec4\x20testColorMap(float\x20Roughness)\x20{\x0a\x09\x09\x09\x09\x09vec4\x20color;\x0a\x09\x09\x09\x09\x09if(faceIndex\x20==\x200)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x201)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x202)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x203)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x204)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09color\x20*=\x20(\x201.0\x20-\x20Roughness\x20);\x0a\x09\x09\x09\x09\x09return\x20color;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec3\x20sampleDirection;\x0a\x09\x09\x09\x09\x09vec2\x20uv\x20=\x20vUv*2.0\x20-\x201.0;\x0a\x09\x09\x09\x09\x09float\x20offset\x20=\x20-1.0/mapSize;\x0a\x09\x09\x09\x09\x09const\x20float\x20a\x20=\x20-1.0;\x0a\x09\x09\x09\x09\x09const\x20float\x20b\x20=\x201.0;\x0a\x09\x09\x09\x09\x09float\x20c\x20=\x20-1.0\x20+\x20offset;\x0a\x09\x09\x09\x09\x09float\x20d\x20=\x201.0\x20-\x20offset;\x0a\x09\x09\x09\x09\x09float\x20bminusa\x20=\x20b\x20-\x20a;\x0a\x09\x09\x09\x09\x09uv.x\x20=\x20(uv.x\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.x\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09uv.y\x20=\x20(uv.y\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.y\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09if\x20(faceIndex==0)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(1.0,\x20-uv.y,\x20-uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==1)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-1.0,\x20-uv.y,\x20uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==2)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x201.0,\x20uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==3)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-1.0,\x20-uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==4)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-uv.y,\x201.0);\x0a\x09\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-uv.x,\x20-uv.y,\x20-1.0);\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09vec3\x20correctedDirection\x20=\x20vec3(\x20tFlip\x20*\x20sampleDirection.x,\x20sampleDirection.yz\x20);\x0a\x09\x09\x09\x09\x09mat3\x20vecSpace\x20=\x20matrixFromVector(\x20normalize(\x20correctedDirection\x20)\x20);\x0a\x09\x09\x09\x09\x09vec3\x20rgbColor\x20=\x20vec3(0.0);\x0a\x09\x09\x09\x09\x09const\x20int\x20NumSamples\x20=\x20SAMPLES_PER_LEVEL;\x0a\x09\x09\x09\x09\x09vec3\x20vect;\x0a\x09\x09\x09\x09\x09float\x20weight\x20=\x200.0;\x0a\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x200;\x20i\x20<\x20NumSamples;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09\x09\x09float\x20sini\x20=\x20sin(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20cosi\x20=\x20cos(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20r\x20=\x20rand(vec2(sini,\x20cosi));\x0a\x09\x09\x09\x09\x09\x09vect\x20=\x20ImportanceSampleGGX(vec2(float(i)\x20/\x20float(NumSamples),\x20r),\x20vecSpace,\x20roughness);\x0a\x09\x09\x09\x09\x09\x09float\x20dotProd\x20=\x20dot(vect,\x20normalize(sampleDirection));\x0a\x09\x09\x09\x09\x09\x09weight\x20+=\x20dotProd;\x0a\x09\x09\x09\x09\x09\x09vec3\x20color\x20=\x20envMapTexelToLinear(textureCube(envMap,\x20vect)).rgb;\x0a\x09\x09\x09\x09\x09\x09rgbColor.rgb\x20+=\x20color;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09rgbColor\x20/=\x20float(NumSamples);\x0a\x09\x09\x09\x09\x09//rgbColor\x20=\x20testColorMap(\x20roughness\x20).rgb;\x0a\x09\x09\x09\x09\x09gl_FragColor\x20=\x20linearToOutputTexel(\x20vec4(\x20rgbColor,\x201.0\x20)\x20);\x0a\x09\x09\x09\x09}','NoBlending','OrthographicCamera','sourceTexture','isCubeTexture','SAMPLES_PER_LEVEL','gammaInput','gammaOutput','toneMapping','getRenderTarget','LinearToneMapping','numLods','renderToCubeMapTarget','setRenderTarget','renderToCubeMapTargetFace','LinearEncoding','GammaEncoding','sRGBEncoding','generateMipmaps','PMREMGenerator.cube','RGBM16Encoding','CubeUVRenderTarget','WebGLRenderTarget','PMREMCubeUVPacker.cubeUv','CubeUVReflectionMapping','objects','faceIndex','mapSize','setScalar','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20envMap;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mapSize;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20testColor;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20faceIndex;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20sampleDirection;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20uv\x20*\x202.0\x20-\x201.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20*=\x20-1.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(faceIndex\x20==\x200)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(1.0,\x20uv.y,\x20-uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x201)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x201.0,\x20uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x202)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20uv.y,\x201.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x203)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-1.0,\x20uv.y,\x20uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x204)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20-1.0,\x20-uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-uv.x,\x20uv.y,\x20-1.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20envMapTexelToLinear(\x20textureCube(\x20envMap,\x20sampleDirection\x20)\x20);\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20linearToOutputTexel(\x20color\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','right','bottom','toneMappingExposure','PMREMCubeUVPacker','fromEquirectangular','CubemapFromEquirect','\x0a\x09\x09\x09uniform\x20sampler2D\x20tEquirect;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09#define\x20RECIPROCAL_PI\x200.31830988618\x0a\x09\x09\x09#define\x20RECIPROCAL_PI2\x200.15915494\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x0a\x09\x09\x09\x09vec2\x20sampleUV;\x0a\x0a\x09\x09\x09\x09sampleUV.y\x20=\x20asin(\x20clamp(\x20direction.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09sampleUV.x\x20=\x20atan(\x20direction.z,\x20direction.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','CubeCamera','renderTarget','PerspectiveCamera','equirectangularMap','views','CubemapGenerator','EquirectangularToCubeGenerator','manager','DefaultLoadingManager','UnsignedByteType','DataTextureLoader','_parser','THREE.RGBELoader\x20Read\x20Error:\x20','THREE.RGBELoader:\x20Error:\x20','pos','fromCharCode','byteLength','RGBE','no\x20header\x20found','bad\x20initial\x20token','valid','programtype','comments','gamma','exposure','missing\x20format\x20specifier','wrong\x20scanline\x20width','bad\x20rgbe\x20scanline\x20format','bad\x20scanline\x20data','RGBEFormat','FloatType','THREE.RGBELoader:\x20unsupported\x20type:\x20','setType','fluctuate','#00335f','texUvScale','#b2b2e6','flowAngle','lightColor','water','skyTexture','targetMeshes','computeTopFaceAttr','getAttribute','sideRange','faceRange','topFaceFlags','getMaterial','originTexName','IS_USE_ORIGING_MAP','alphaMaskPath','IS_USE_CUS_ALPHA','flipY','waterScale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20uv2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV2\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20fluctuate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texUvScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20flowDirect;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20lightColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20varying\x20float\x20isTop;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hash(\x20in\x20vec2\x20p\x20)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(p.x*15.32+p.y*35.78)\x20*\x2043758.23);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hash2(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(hash(p*.754),hash(1.5743*p.yx+4.5891))-.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20add\x20=\x20vec2(0.5,\x200.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20floor(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20f\x20=\x20fract(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20f*f*(3.0-2.0*f);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20res\x20=\x20mix(mix(\x20hash2(p),\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hash2(p\x20+\x20add.xy),f.x),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mix(\x20hash2(p\x20+\x20add.yx),\x20hash2(p\x20+\x20add.xx),f.x),f.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20res;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2b(\x20in\x20vec2\x20p\x20)//\x20Simplex\x20Noise\x20from\x20IQ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K1\x20=\x200.366025404;\x20//\x20(sqrt(3)-1)/2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K2\x20=\x200.211324865;\x20//\x20(3-sqrt(3))/6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20/=2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20i\x20=\x20floor(\x20p\x20+\x20(p.x+p.y)*K1\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20a\x20=\x20p\x20-\x20i\x20+\x20(i.x+i.y)*K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20o\x20=\x20(a.x>a.y)\x20?\x20vec2(1.0,0.0)\x20:\x20vec2(0.0,1.0);\x20//vec2\x20of\x20=\x200.5\x20+\x200.5*vec2(sign(a.x-a.y),\x20sign(a.y-a.x));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20b\x20=\x20a\x20-\x20o\x20+\x20K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20c\x20=\x20a\x20-\x201.0\x20+\x202.0*K2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20h\x20=\x20max(\x200.5-vec3(dot(a,a),\x20dot(b,b),\x20dot(c,c)\x20),\x200.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20nx\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+0.0)),\x20dot(b,hash2(i+o)),\x20dot(c,hash2(i+1.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20ny\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+4.5)),\x20dot(b,hash2(i+o+4.5)),\x20dot(c,hash2(i+1.0+4.5)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(dot(\x20nx,\x20vec3(fluctuate)\x20),dot(\x20ny,\x20vec3(fluctuate)\x20));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20m2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20fbm2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20r\x20=\x20vec2(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20a\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x206;\x20i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20+=\x20m2*noise2b(x+r)*a;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x\x20+=.3*r+.4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20water(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=fbm2(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20rotateUV(vec2\x20uv,\x20float\x20rotation)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mid\x20=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20sin(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20+\x20mid,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20-\x20sin(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20mid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv\x20+\x20disturb).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20/=\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotateUV(uv,\x20flowDirect);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.5*iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20st\x20=\x20sin(t),\x20ct\x20=\x20cos(t);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m2\x20=\x20mat2(ct,st,-st,ct);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20water(uv+2.*iTime)+2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20length(p)/7.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c=clamp(pow(c,3.),0.,1.);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_ORIGING_MAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texCol\x20=\x20texture2D(texture1,uv\x20*\x20texUvScale\x20+\x20p/10.).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,lightColor,c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(p/10.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20skyCol\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','waterColor','createWater','Water','#001e0f','ignoreList','textureWidth','textureHeight','clipBias','alpha','waterNormals','waterMask','sunDirection','sunColor','eye','FrontSide','isPlaneGeo','clipViewValue','useUv2','Plane','isPowerOfTwo','IS_USE_CLIP_VIEW','normalSampler','mirrorSampler','distortionScale','textureMatrix','maskTexture','isShowWaterFog','fogFarColor','#include\x20<shadowmap_pars_fragment>','\x0a\x09\x09\x09#include\x20<shadowmap_pars_fragment>\x0a\x09\x09\x09#include\x20<shadowmask_pars_fragment>\x0a\x09\x09\x09vec3\x20mirroWater()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20noise\x20=\x20getNoise(\x20worldPosition.xz\x20*\x20size\x20);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20surfaceNormal\x20=\x20normalize(\x20noise.xzy\x20*\x20vec3(\x201.5,\x201.0,\x201.5\x20)\x20);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20diffuseLight\x20=\x20vec3(0.0);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20specularLight\x20=\x20vec3(0.0);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20worldToEye\x20=\x20eye-worldPosition.xyz;\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20eyeDirection\x20=\x20normalize(\x20worldToEye\x20);\x0a\x09\x09\x09\x20\x20\x20\x20sunLight(\x20surfaceNormal,\x20eyeDirection,\x20100.0,\x202.0,\x200.5,\x20diffuseLight,\x20specularLight\x20);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20float\x20distance\x20=\x20length(worldToEye);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20vec2\x20distortion\x20=\x20surfaceNormal.xz\x20*\x20(\x200.001\x20+\x201.0\x20/\x20distance\x20)\x20*\x20distortionScale;\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20reflectionSample\x20=\x20vec3(\x20texture2D(\x20mirrorSampler,\x20mirrorCoord.xy\x20/\x20mirrorCoord.w\x20+\x20distortion\x20)\x20);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20float\x20theta\x20=\x20max(\x20dot(\x20eyeDirection,\x20surfaceNormal\x20),\x200.0\x20);\x0a\x09\x09\x09\x20\x20\x20\x20float\x20rf0\x20=\x200.3;\x0a\x09\x09\x09\x20\x20\x20\x20float\x20reflectance\x20=\x20rf0\x20+\x20(\x201.0\x20-\x20rf0\x20)\x20*\x20pow(\x20(\x201.0\x20-\x20theta\x20),\x205.0\x20);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20scatter\x20=\x20max(\x200.0,\x20dot(\x20surfaceNormal,\x20eyeDirection\x20)\x20)\x20*\x20waterColor;\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20albedo\x20=\x20mix(\x20(\x20sunColor\x20*\x20diffuseLight\x20*\x200.3\x20+\x20scatter\x20)\x20*\x20getShadowMask(),\x20(\x20vec3(\x200.1\x20)\x20+\x20reflectionSample\x20*\x200.9\x20+\x20reflectionSample\x20*\x20specularLight\x20),\x20reflectance);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20albedo;\x0a\x09\x09\x09\x20\x20\x20\x20return\x20outgoingLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x09\x09\x09vec4\x20fog(float\x20fogNear,\x20float\x20fogFar,\x20float\x20fogDepth,\x20vec3\x20fogNearColor,\x20vec3\x20fogFarColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fogFactor\x20=\x20smoothstep(fogNear,\x20fogFar,\x20fogDepth);\x0a\x09\x09\x09\x09if(isShowWaterFog)\x20{\x0a\x09\x09\x09\x09\x09return\x20vec4(mix(\x20gl_FragColor.rgb,\x20mix(fogNearColor,\x20fogFarColor,\x20fogFactor),\x20fogFactor\x20),\x20gl_FragColor.a);\x0a\x09\x09\x09\x09}else{\x0a\x09\x09\x09\x09\x09return\x20vec4(gl_FragColor);\x0a\x09\x09\x09\x09}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x09\x09\x09','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20waterCol\x20=\x20mirroWater();\x0a\x0a\x09\x09\x09#ifdef\x20IS_USE_MASK_TEXTURE\x0a\x09\x09\x09\x09vec4\x20maskTex\x20=\x20texture2D(maskTexture,\x20vUV);\x0a\x09\x09\x09\x09//\x20if(maskTex.r\x20==\x200.0){\x0a\x09\x09\x09\x09//\x20\x09discard;\x0a\x09\x09\x09\x09//\x20}\x0a\x09\x09\x09\x09diffuseColor.a\x20=\x20maskTex.a;\x0a\x09\x09\x09#endif\x0a\x09\x09\x09diffuseColor.a\x20*=\x200.9;\x0a\x0a\x09\x09\x09#ifdef\x20IS_USE_CLIP_VIEW\x0a\x09\x09\x09\x09if\x20(gl_FrontFacing)\x20{\x0a\x09\x09\x09\x09\x09if(viewPosition.y\x20<\x20clipViewValue)\x20{\x0a\x09\x09\x09\x09\x09\x09discard;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09//\x20if(viewPosition.y\x20>\x20clipViewValue)\x20{\x0a\x09\x09\x09\x09\x09//\x20\x09discard;\x0a\x09\x09\x09\x09\x09//\x20}\x0a\x09\x09\x09\x09\x09waterCol\x20*=\x20vec3(0.545098,0.741176,0.87843);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09#endif\x0a\x0a\x09\x09\x09//\x20if\x20(!gl_FrontFacing)\x20{\x0a\x09\x09\x09//\x20\x09waterCol\x20*=\x20copyReflectionSample;\x0a\x09\x09\x09//\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20waterCol,\x20diffuseColor.a\x20);\x0a\x09\x09\x09gl_FragColor\x20=\x20fog(waterFog.x,\x20waterFog.y,\x20vFogDepth,\x20fogNearColor,\x20fogFarColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','receiveShadow','dot','reflect','extractRotation','negate','projectionMatrix','matrixWorldInverse','particles','createPoints','PointsMaterial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20alphaColor.g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texColor.rgb\x20*\x20color,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','basic','isShowScanLight','scanTexture','createGround','lambert','standard','gradient_ground_mat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20autoRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_SCAN_LIGHT','createRadialGradient','videoElement','video','setAttribute','muted','playsinline','crossOrigin','anonymous','source','video/mp4;\x20codecs=\x22avc1.42E01E,\x20mp4a.40.2','shadowCamera','isMorph','isAnimation','morphTargets','customDepthMaterial','InstancedBufferGeometry','maxInstancedCount','num','setIndex','morphAttributes','offsets','scales','Euler','rand','setFromEuler','rot','orientations','offsetAttribute','scaleAttribute','InstancedBufferAttribute','orientationAttribute','setMaterial','vertexPars_V2','uniform\x20mat4\x20cmtx;','uniform\x20float\x20morpher[\x208\x20];','attribute\x20vec4\x20orientation;','mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{','float\x20x\x20=\x20quaternion.x,\x20y\x20=\x20quaternion.y,\x20z\x20=\x20quaternion.z,\x20w\x20=\x20quaternion.w;','float\x20x2\x20=\x20x\x20+\x20x,\x09y2\x20=\x20y\x20+\x20y,\x20z2\x20=\x20z\x20+\x20z;','float\x20xx\x20=\x20x\x20*\x20x2,\x20xy\x20=\x20x\x20*\x20y2,\x20xz\x20=\x20x\x20*\x20z2;','float\x20yy\x20=\x20y\x20*\x20y2,\x20yz\x20=\x20y\x20*\x20z2,\x20zz\x20=\x20z\x20*\x20z2;','float\x20wx\x20=\x20w\x20*\x20x2,\x20wy\x20=\x20w\x20*\x20y2,\x20wz\x20=\x20w\x20*\x20z2;','float\x20sx\x20=\x20scale.x,\x20sy\x20=\x20scale.y,\x20sz\x20=\x20scale.z;','mat4\x20B;','B[0][0]\x20=\x20(\x201.0\x20-\x20(\x20yy\x20+\x20zz\x20)\x20)\x20*\x20sx;','B[0][1]\x20=\x20(\x20xy\x20+\x20wz\x20)\x20*\x20sx;','B[0][2]\x20=\x20(\x20xz\x20-\x20wy\x20)\x20*\x20sx;','B[0][3]\x20=\x200.0;','B[1][0]\x20=\x20(\x20xy\x20-\x20wz\x20)\x20*\x20sy;','B[1][1]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20zz\x20)\x20)\x20*\x20sy;','B[1][3]\x20=\x200.0;','B[2][0]\x20=\x20(\x20xz\x20+\x20wy\x20)\x20*\x20sz;','B[2][2]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20yy\x20)\x20)\x20*\x20sz;','B[2][3]\x20=\x200.0;','B[3][0]\x20=\x20position.x;','B[3][2]\x20=\x20position.z;','B[3][3]\x20=\x201.0;','mat3\x20getNormalMatrix(\x20mat4\x20A\x20)\x20{','vertexPars_V1','attribute\x20vec3\x20offset;','attribute\x20vec3\x20scales;','B[1][2]\x20=\x20(\x20yz\x20+\x20wx\x20)\x20*\x20sy;','B[2][1]\x20=\x20(\x20yz\x20-\x20wx\x20)\x20*\x20sz;','B[3][1]\x20=\x20position.y;','return\x20B;','mat3\x20tmpInverse(\x20mat3\x20A\x20)\x20{','float\x20n11\x20=\x20A[0][0],\x20n21\x20=\x20A[0][1],\x20n31\x20=\x20A[0][2];','float\x20n12\x20=\x20A[1][0],\x20n22\x20=\x20A[1][1],\x20n32\x20=\x20A[1][2];','float\x20n13\x20=\x20A[2][0],\x20n23\x20=\x20A[2][1],\x20n33\x20=\x20A[2][2];','float\x20t11\x20=\x20n33\x20*\x20n22\x20-\x20n32\x20*\x20n23;','float\x20t12\x20=\x20n32\x20*\x20n13\x20-\x20n33\x20*\x20n12;','float\x20t13\x20=\x20n23\x20*\x20n12\x20-\x20n22\x20*\x20n13;','float\x20det\x20=\x20n11\x20*\x20t11\x20+\x20n21\x20*\x20t12\x20+\x20n31\x20*\x20t13;','mat3\x20B;','B[0][0]\x20=\x20t11\x20*\x20detInv;','B[0][1]\x20=\x20(\x20n31\x20*\x20n23\x20-\x20n33\x20*\x20n21\x20)\x20*\x20detInv;','B[1][0]\x20=\x20t12\x20*\x20detInv;','B[1][2]\x20=\x20(\x20n31\x20*\x20n12\x20-\x20n32\x20*\x20n11\x20)\x20*\x20detInv;','B[2][0]\x20=\x20t13\x20*\x20detInv;','B[2][1]\x20=\x20(\x20n21\x20*\x20n13\x20-\x20n23\x20*\x20n11\x20)\x20*\x20detInv;','B[2][2]\x20=\x20(\x20n22\x20*\x20n11\x20-\x20n21\x20*\x20n12\x20)\x20*\x20detInv;','mat3\x20tmpTranspose(\x20mat3\x20A\x20)\x20{','B[0][0]\x20=\x20A[0][0];','B[0][2]\x20=\x20A[2][0];','B[1][0]\x20=\x20A[0][1];','B[1][1]\x20=\x20A[1][1];','B[1][2]\x20=\x20A[2][1];','B[2][1]\x20=\x20A[1][2];','B[2][2]\x20=\x20A[2][2];','return\x20tmpTranspose(\x20tmpInverse(\x20mat3(\x20A[0][0],\x20A[0][1],\x20A[0][2],\x20A[1][0],\x20A[1][1],\x20A[1][2],\x20A[2][0],\x20A[2][1],\x20A[2][2]\x20)\x20)\x20);','beginInstanceVertex','mat4\x20world\x20=\x20ComposeWorldMatrix(\x20offset,\x20orientation,\x20scales\x20);','mat4\x20viewMatrix\x20=\x20(\x20cmtx\x20*\x20world\x20);','projectVertex','vec4\x20mvPosition\x20=\x20viewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);','gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','worldPosVertex','vec4\x20worldPosition\x20=\x20world\x20*\x20vec4(\x20transformed,\x201.0\x20);','mat3\x20normalMtx\x20=\x20getNormalMatrix(\x20viewMatrix\x20);','#ifdef\x20FLIP_SIDED','transformedNormal\x20=\x20-\x20transformedNormal;','#ifdef\x20USE_TANGENT','vec3\x20transformedTangent\x20=\x20normalMatrix\x20*\x20objectTangent;','transformedTangent\x20=\x20-\x20transformedTangent;','morping','#ifdef\x20USE_MORPHTARGETS','transformed\x20+=\x20(\x20morphTarget0\x20-\x20position\x20)\x20*\x20morpher[\x200\x20];','transformed\x20+=\x20(\x20morphTarget1\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x201\x20];','#ifndef\x20USE_MORPHNORMALS','transformed\x20+=\x20(\x20morphTarget4\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x204\x20];','transformed\x20+=\x20(\x20morphTarget6\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x206\x20];','transformed\x20+=\x20(\x20morphTarget7\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x207\x20];','morpher','#include\x20<common>\x0a','#include\x20<uv_vertex>\x0a','#include\x20<defaultnormal_vertex>','normalVertex','depthMaterial','MeshDepthMaterial','cmtx','setMorph','morphTargetInfluences','setOrientation','setScale','receiveLayer','videoAspect','projector','projectPlane','helper','cameraFar','cameraFov','isShowHelper','isShowFarPlane','VideoTexture','images/video_mask.png','createProjector','containMeshList','resetMaterial2','_originMaterial','_tempMaterial','isProjected','videoProject','isLockCameraControls','showVisualField','visualFieldColor','minX','minY','maxX','maxY','gridNum','rayPointer','ignoredUuids','raycastByCoord','focusFloorNum','updateProjectionMatrix','updateWorldMatrix','minDistance','createProjectorHelper','createCameraHelperFarPlane','pointMap','getY','getZ','setFromPoints','videoTex','videoTexMask','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition2\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20mvPosition2.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoCol\x20=\x20texture2D(videoTex,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoMaskCol\x20=\x20texture2D(videoTexMask,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20videoCol.a\x20=\x20videoMaskCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20videoCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dot(\x20vClipPosition,\x20vec3(0.0,\x201.0,\x200.0)\x20)\x20>\x200.1)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','updateCameraTarget','objects_','removeToPicker','project','resetAllMaterial','#aaa','type_','image','videoWidth','videoHeight','naturalWidth','aspect','\x20is\x20currently\x20not\x20supported\x20in\x20ProjectedMaterial','createMaterial2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20viewMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20projectionMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20savedModelMatrix;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20projectedTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureLoaded;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureProjected;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20backgroundOpacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20widthScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20heightScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20cameraFarDistance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20visualFieldColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullByCamera;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mapTex(float\x20value,\x20float\x20min1,\x20float\x20max1,\x20float\x20min2,\x20float\x20max2)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20min2\x20+\x20(value\x20-\x20min1)\x20*\x20(max2\x20-\x20min2)\x20/\x20(max1\x20-\x20min1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20clamp\x20the\x20w\x20to\x20make\x20sure\x20we\x20don\x27t\x20project\x20behind\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20w\x20=\x20max(vTexCoords.w,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20(vTexCoords.xy\x20/\x20w)\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20corrected\x20width\x20and\x20height\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mapTex(uv.x,\x200.0,\x201.0,\x200.5\x20-\x20widthScaled\x20/\x202.0,\x200.5\x20+\x20widthScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20=\x20mapTex(uv.y,\x200.0,\x201.0,\x200.5\x20-\x20heightScaled\x20/\x202.0,\x200.5\x20+\x20heightScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20sample\x20out\x20of\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isInTexture\x20=\x20(max(uv.x,\x20uv.y)\x20<=\x201.0\x20&&\x20min(uv.x,\x20uv.y)\x20>=\x200.0);\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20render\x20also\x20the\x20back\x20of\x20the\x20object\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20projectorDirection\x20=\x20normalize(projPosition\x20-\x20vWorldPosition.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20projectorDirection\x20=\x20projDirection;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dotProduct\x20=\x20dot(vSavedNormal,\x20projectorDirection);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isFacingProjector\x20=\x20dotProduct\x20>\x200.0000001;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20projectedColor\x20=\x20vec4(diffuse,\x20opacity\x20*\x20backgroundOpacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isFacingProjector\x20&&\x20isInTexture\x20&&\x20isTextureLoaded\x20&&\x20isTextureProjected)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureColor\x20=\x20texture2D(projectedTexture,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureMaskCol\x20=\x20texture2D(textureMask,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20enccoding\x20from\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textureColor\x20=\x20projectedTexelToLinear(textureColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20material\x20opacity\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20textureColor.a\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor\x20=\x20textureColor\x20*\x20textureColor.a\x20+\x20projectedColor\x20*\x20(1.0\x20-\x20textureColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20projectedColor\x20=\x20textureColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isCullByCamera\x20&&\x20dot(\x20vClipPosition,\x20vec3(0.0,\x200.0,\x201.0)\x20)\x20>\x20cameraFarDistance)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor.a\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,\x20resultColor.rgb\x20*\x20visualFieldColor,\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20projectedColor\x20*\x20vec4(visualFieldColor,\x201.0),\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resize','projectionMatrixCamera','isTextureLoaded','saveDimensions','textureScale','widthScaled','heightScaled','saveCameraMatrices','viewMatrixCamera','projPosition','projDirection','isTextureProjected','savedModelMatrix','backgroundOpacity','isShowHepler','textureOffset','cover','\x0a\x20\x20\x20\x20\x20\x20vec4\x20projectedTexelToLinear(vec4\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20','sRGB','(\x20value\x20)','RGBEEncoding','RGBM','(\x20value,\x207.0\x20)','(\x20value,\x2016.0\x20)','RGBDEncoding','(\x20value,\x20256.0\x20)','LogLuvEncoding','LogLuv','ToLinear',';\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','basicLine','vector','createBasicLine','FaceColors','cn2','cn3','cn4','cf1','cf2','cf3','cf4','matrix','setPoint','unproject','setXYZ','cn1','texture2Path','textureMaskPath','texture3Path','normalFlipSide','cacheImages','textureManager','texture2','texture4','isNoTileFactor','normalUvIndex','textureMask','texture3','noise','loadTextures','IS_USE_MASK_TEXTURE2','IS_USE_MASK_TEXTURE3','IS_USE_CUS_NORMAL','normalMap','normalMapType','ObjectSpaceNormalMap','FLIP_SIDED','othersRepeat','noTileConfigs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include\x20<normal_fragment_maps>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20include\x20<normal_fragment_maps>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20OBJECTSPACE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_NORMAL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x20//\x20overrides\x20both\x20flatShading\x20and\x20attribute\x20normals\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20FLIP_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20-\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20DOUBLE_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normal\x20*\x20(\x20float(\x20gl_FrontFacing\x20)\x20*\x202.0\x20-\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x20//\x20tangent-space\x20normal\x20map\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TANGENT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20vTBN\x20=\x20mat3(\x20tangent,\x20bitangent,\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mapN.xy\x20=\x20normalScale\x20*\x20mapN.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20vTBN\x20*\x20mapN\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormal2Arb(\x20-vViewPosition,\x20normal\x20);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormalArb(\x20-vViewPosition,\x20normal,\x20dHdxy_fwd()\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20baseColor\x20=\x20vec4(1.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture1Col\x20=\x20textureNoTile(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture2Col\x20=\x20textureNoTile(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture1Col\x20=\x20noTileConfigs.x\x20>\x200.0\x20?\x20textureNoTile(texture1,\x20vUv\x20*\x20othersRepeat.x)\x20:\x20texture2D(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture2Col\x20=\x20noTileConfigs.y\x20>\x200.0\x20?\x20textureNoTile(texture2,\x20vUv\x20*\x20othersRepeat.y)\x20:\x20texture2D(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(texture1Col,\x20texture2Col,\x20texMaskCol.r);\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture3Col\x20=\x20noTileConfigs.z\x20>\x200.0\x20?\x20textureNoTile(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20)\x20:\x20texture2D(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20);\x20//\x20green\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture3Col,\x20texMaskCol.g);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture4Col\x20=\x20noTileConfigs.w\x20>\x200.0\x20?\x20textureNoTile(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20)\x20:\x20texture2D(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20);\x20//\x20blue\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture4Col,\x20texMaskCol.b);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20mapTexelToLinear(\x20baseColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isIgnoreAlpha','scanOffset','effectShader','isUseScanEffect','ignoreAlpha','useScan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20ignoreAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20useScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scanOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20oriAlpha\x20=\x20diffuseColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(useScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20timer\x20=\x20mod(iTime\x20+\x20scanOffset,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20timer2\x20=\x20mod(iTime\x20+\x200.3,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20intensity\x20+=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer2,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20=\x20mix(diffuseColor,\x20mix(diffuseColor,\x20vec4(vec3(1.0),\x201.0),\x20intensity\x20*\x203.0),\x201.0-diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(ignoreAlpha){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20oriAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20diffuseColor\x20=\x20texMaskCol;\x20//\x20for\x20test\x20mask\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isUseUv2Light','#include\x20<emissivemap_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','materialList','isUseEmiisive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20if(isUseEmiisive){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fadeLight','emissiveIntensity','clearMaterials','glowColorStr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20worldCameraToVertex\x20=\x20vVertexWorldPosition\x20-\x20cameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20viewCameraToVertex\x09=\x20(viewMatrix\x20*\x20vec4(worldCameraToVertex,\x200.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewCameraToVertex\x20=\x20normalize(viewCameraToVertex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x09=\x20pow(coeficient\x20+\x20dot(vVertexNormal,\x20viewCameraToVertex),\x20power);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor.rgb,\x20intensity);','textureSprite','createUvAnimate','updateFps','settingMaterial','seaground','isShowContour','isShowSeaGroundEffect','seaGroundConfigs','gradientType','gradientLut','groundTexRepeat','getGradientConfig','colorArray','addColorMap','createCanvas','gradientTex','fogNear','seaGroundFog','fogFar','groundTexPath','isShow','heightExtent','groundTex','isShowSeaGround','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20vec4(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPos\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mvPos\x20=\x20modelViewMatrix\x20*\x20mvPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vFogDepth\x20=\x20-mvPos.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_USE_GROUND_TEX','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowContour;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowSeaGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20heightExtent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20seaGroundFog;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20waterColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20groundTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#define\x20F\x20length(.5-fract(k.xyw*=mat3(-2,-1,2,\x203,-2,1,\x201,2,2)*\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20fog(float\x20fogNear,\x20float\x20fogFar,\x20float\x20fogDepth,\x20vec3\x20fogNearColor,\x20vec3\x20fogFarColor,\x20vec4\x20fragColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fogFactor\x20=\x20smoothstep(fogNear,\x20fogFar,\x20fogDepth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4(mix(\x20fragColor.rgb,\x20mix(fogNearColor,\x20fogFarColor,\x20fogFactor),\x20fogFactor\x20),\x20fragColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow\x20&&\x20vModelPos.y\x20>\x20heightExtent.x\x20&&\x20vModelPos.y\x20<\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(gradientTex,\x20vec2(0.0,\x20(vModelPos.y\x20-\x20heightExtent.x)/(heightExtent.y\x20-\x20heightExtent.x)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowContour)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20lineThickness\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20pick\x20a\x20coordinate\x20to\x20visualize\x20in\x20a\x20grid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20coord\x20=\x20vModelPos.y\x20/\x205.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20compute\x20anti-aliased\x20world-space\x20grid\x20lines\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20line\x20=\x20abs(fract(coord\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(coord)\x20/\x20lineThickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20just\x20visualize\x20the\x20grid\x20lines\x20directly\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20+=\x20vec4(vec3(1.0\x20-\x20min(line,\x201.0)),\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowSeaGround\x20&&\x20vModelPos.y\x20<\x20heightExtent.x\x20&&\x20vModelPos.y\x20>\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scale\x20=\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20imaging\x20an\x20axis-aligned\x20plane\x20in\x20space\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20iTime\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20rot\x20=\x20mat3(-2,-1,2,\x203,-2,1,\x201,2,2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(uv+t*1e2,\x20t*2e2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rotate\x20the\x20plane&&calc\x20distance\x20to\x20cell\x20center\x20then\x20get\x20minimum\x20of\x20three\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s[3]\x20=\x20float[3](.32,.28,.26);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for(int\x20i\x20=\x200;i<3;i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pos\x20*=\x20rot*s[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dist\x20=\x20min(dist,length(.5-fract(pos/2e2*scale)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20seaCausticTex\x20=\x20pow((dist),\x207.)*25.+vec4(0,0,0,1.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20seaCausticTex\x20=\x20fog(seaGroundFog.x,\x20seaGroundFog.y,\x20vFogDepth,\x20vec3(1.0),\x20vec3(0.0),\x20seaCausticTex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20waterColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20seaCausticTex.rgb\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(vec3(1.0),\x20resultColor.rgb,\x20texture2D(groundTex,\x20vnUv\x20*\x201000.0).a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isShowWaterEffect','hmTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20vec4(vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHeatMapTexture','createImgMaterial','hmCol','0.0','1.0','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20hmCol\x20=\x20texture2D(hmTex,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20hmCol.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20','\x20?\x200.0\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20diffuseColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isSetTexture','setGradient','rgba(','getColor','rgb(','updateTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rotateAngle;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x201.0,\x201.0,\x20rotateAngle,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vnUv\x20=\x20vec2(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol\x20=\x20texture2D(gradientTex,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20=\x20mix(vec3(1.0,\x200.0,\x200.0),\x20vec3(0.0,\x200.0,\x201.0),\x20texCol.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20curTexColor\x20=\x20texture2D(texture1,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nextTexColor\x20=\x20texture2D(texture2,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(curTexColor,\x20nextTexColor,\x20transFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perlin','maxAngle','maxSurge','maxHeave','maxSway','playAnimate','targetObj','updateWind','grad3','grad4','perm','SimplexNoise','dot3','dot4','noise3d','noise4d','simplex','images/building/circular2.png','images/points/particle1.png','images/out_light4.png','images/wall3.png','images/building/opacity.png','images/alpha_gradient.png','images/scan/bloom_line2.png','images/scan/light2_6.png','images/fire/inner_fire.png','images/fire/fire.png','images/explosion/sprite-explosion2.png','images/line/up_line.png','images/line/light_old.png','checkFunLevel','isShowBuildingTip','EffectLayer','_building_cube_float','addLayerToMap','mapIds','tileService','bidList','modelinfo','box3','tileId','ESTileMap','inited','isShowShadow','shadow','setShadowLight','updateShadow2','json','preload','isForceVisible','cameraFlyTo','cameraFlyToHelper','getScreenCenter','toSceneCoord','setWalkControls','removeControls','createMiniMap','isSetRoomEffect','isEnv','addEffect','Lights','envTexture','roomEffect','openScan','buildingScanConfigs','topImg','sideImg','colorImg','extentEffect','Buildings','buildingsThemes','setBuildingAttribute','tileRoomEffect','buildingScanLight','emissiveImg','screenSky','Floors','isPointLight','pointLight','directLight','ambientLight','isUseEffectLights','isAmbientLight','isShowSkybox','repeatImg','Ground','floorNum','isSetModelEffect','modelsConfigs','screenEffects','getPlatform','isPC','isPc','iPhone','platform','Android','closeComposer','PostProcessing','postprocessing\x20is\x20not\x20support\x20in\x20this\x20browser\x20environment','setConfigs','postProcessing','tileUpdated','once','high','effectQuality','shadowMap','screenEffect','%c\x20effect\x20quality:\x20','medium','color:#66ccff;','low','checkIsInLowDevice','minEffectQuality','checkIsInLowDeviceComplete','isLockShadowVisible','isCanRender','EffectManager','IsMapLoading','loadComplete','effectsInitComplete','show','ESJsonFileLoader','ESFileLoader','ESEventDispatcher','pointsSegement','showRoads','isExecuteInit','beforeLoad','tilePreLoad','tileBuilidngThemes','addTileBuildingsEffect','tileLoadComplete','setTileBuildingAttribute','themeLoaded','can\x20not\x20convert\x20null\x20or\x20undefined\x20to\x20object','%cthis\x20map\x20does\x20not\x20specify\x20a\x20effect\x20package','color:#f4c583','effectsInitError','debugParams','localEffectSrc','localEffectId','effectsConfig','%c\x20effects.json\x20cannot\x20be\x20parsed!\x20Please\x20check\x20the\x20response\x20content!','change','viewMode','ESViewMode','quality','updateMatrixWorld','modelPrefetched','__singlemesh','createTileInstanceModel','singleMesheDatas','createInstanceModel','routeLoaded','navData','editMode','loadRoads','loadTileRoutesData','Lines','isTileRouteShine','isChangeTileRoute','modelLoadComplete','webgl2','bType','setBuildingRoomShadow','setModelShadow','defaultCubeTexture','model','mergeModel3D','child','modelEffects','setModelsEffect3','modelStore','setModelsEffect4','envTextureCube','isSetTileBuilding','buildingEnter','buildingLoadComplete','getLayersByTypes','ESLayerType','MODEL_IMAGE','model_loading','controlchange','changeBuildingColor','controlstart','_controlMove','controlUpdated','updateLts','Type','horizon','center_spread','updateTileBuildingCenterSpreadScan','radar_scan','updateTileBuildingRadarScan','updateTileBuildingExtentLight','toggleTileBuildingsLight','updateTileBuildingExtentLightDown','toggleBuildingVisible','editTileBuildingColorTheme','controlFloorLayer','controlFloors','_originPos','updateAmbientLight','directionalLights','updateDirectionalLights','updateTileRoutesStyle','recoverTileRoutesStyle','toggleTileRoutesVisible','skyboxTool','createWaveMarker','removeWaveLines','heatMap','setWaterRipple','setHeatPointImg','createMirroWater2','mirroWaters','modelTerrainList','gradientTerrainList','lightBlend','createEffectPoints','shadowPlane','marker','materialNames','modelName','aoShadow','_ef_','_isBloom','setObjectBloomLight','getTexture','textureHeatMaps','transparencyCondition','_mesh','projectionHeatMaps','gradients','minValue','minAlphaTrans','initVideoProjector','updateProjectorTarget','_bloomOriginColor','offsetHSL','not\x20support\x20this\x20obj','updateOutlineStyle','setObjectOutline','removeObjectOutline','clearSelectedOutline','relaceBgMaterial','%cTo\x20enable\x20this\x20effect,\x20you\x20need\x20to\x20set:\x20esmap.ESEffectTools.init({\x20isOpenScreenEffect:\x20true\x20})','materials','setSnowScreenEffect','updateAllLightConfig','updateLightProbe','updateSkybox','closeShadow','updateShadowAnimate','shadowAnimate','Routes','Models','Shadow','Fog','Video','HeatMap','configs','createTileBuildingsEffect2','setFloorMaterial','addGroundTexture','addPointLights','isDirectLight','addDirectLights','initEnvTexture','loadRoutesLine','computeRoutesData','setModelsEffect','updateEffect','removeEffect','edgeLineFrameList','isCanUseScanStatus','editTileBuildingThemes','setBuildingsTheme','lineScanCenter','sideImgRepeatFactor','topImgRepeatFactor','imgLightFactor','emissiveImgScale','emissiveColor','horizonScanWidth','horizonScanDiffuse','horizonScanExtent','verticalScanColor','verticalScanSpeed','centerSpreadRadius','centerSpreadSpeed','centerSpreadCenterPos','radarScanColor','radarScanRadius','radarScanSpeed','radarScanCenterPos','extentEffectConfig','center','addBuildingsEffect','setBuildingScanConfig','MODEL','frameOpacity','frameColor','MODEL_BASE','tileStyles','prodMatIdx','createTileBuildingsEffect','createEditTileBuildingEffect','renderSort','shaderCompileComplete','tileTextures','mappingThemeImgStyle','modelBasicMat','computeBuildingFaceAttr','castShadow','maptheme','topimage','sideimage','scanLightType','horizonScanColor','scanLightWidth','scanDiffuse','horizonScanSpeed','scanSpeed','horizonScan','verticalScanHeight','scanColor','verticalScan','scanCenter','maxRadius','centerSpread','scanImg','radarScan','updateTileBuildingHighLightColor','originOpacity','scanExtent','scanRadius','toggleTileBuildingsScan','toggleColorLight','setTileBuildingsEnvTexture','floorsMesh','floorEffects','FLOOR_BASE','effectType','points_spread','effectConfigs','alphaTransitionImg','alphaTransitionRadius','alpha_trans','isControl','controlId','scanRepeatImg','mirro','GroundTexture','repeatType','repeatScaleFactor','targetMesh','groundThemes','pointLights','tileBuildingLight','envTextureCubes','PointLight','distance','PointLightHelper','replaceLight','_originConfig','updateDirectionalLightPos','isInfinite','lightPlane','lightAnimate','getAmbientLight','AmbientLight','_originIntensity','animateTime','updatePointLights','imgPaths','HDR','createPMREMEnvTexture','createEnvTexture','createLightProbe','lightProbe','LightProbe','_effectLightProbe','getTextureCubeByName','fromCubeTexture','updateMaterialsEnvMap','loadHDR','LightProbeGenerator','SphericalHarmonics3','copySRGBToLinear','getBasisAt','tileRoute','routesLineGroup','routesMarkers','isLoadedTileRouteStyle','routesEffectLayer','tileRoutesMarkers','isCanChangeTileRoutesStyle','isChangedTileRoutesStyle','changedTileRoutesStyleConfig','tempColor','initHeight','createRoutesLine','lineTexture','coordTrans','isHightLight','mapId','computeNavDataToRoutesData','navs','naviData','#c37400','bstair','rank','Nodes','sid','eid','lineImg','colors','datas','datatype','createTileRouteStyles','getTileById','computeTileRoutesData','transformCoordArray','coordSystem','sceneX_','idColorMapping','routeId','_id','geometries','mergeGeometrys','ESRenderOrder','tileRouteLine','tile_route_line','lineColorMapping','BufferGeometryUtils2','mergeBufferGeometries','addGroup','updateTileRoutesRandomColors','tileList','lineScale','routeEffectLayer','tileRoutes','EffectMarker','url','outline','substring','atan','exp','tangent','groups','crossVectors','has','mergeBufferAttributes','isInterleavedBufferAttribute','normalized','getX','getW','setX','setZ','setW','BYTES_PER_ELEMENT','getIndex','setArray','Number','textureCubes','isFirstTexCube','shaderSky','isLockSkyboxVisible','showSkybox','skyboxSwitchAnimate','setSkyBox','isPlane','box','tileMapInited','gradient_sphere','gradient_cube','sphere_cube','clearSky','night','bindLight','azimuthAngle','verticalAngle','sky_wall','bindTileMapLevelChange','tileMapLevelChange','waterList','waveLineMarker','waveEffectLayer','addWater','addWaterShape','isSetTilePlaneWater','tilePlaneEffect','styleName','groundImg','waveFactor','groundScaleFactor','getWater','_effectConfig','waveLine','updateWaveLines','boatFoams','uvTransformTextures','modelBlendEffectList','setEnvTextureMaterials','modelUvAnimation','instanceMeshs','tileInstanceModels','modelsControlGroups','oceanTerrainMat','floatShakeModels','getCurrModelConfig','getRenderOrder','order','isSetModelsConfigs','splitEffectsTemplates','matchModelEffectConfig','settingModelEffects','control','additive','isClose','fresnel','createFresnelEffect','lineFrame','lineOpacity','createEdgeLineFrame','faces','wireFrame','wireframe','uvAnimation','createUvAnimation','uvTransform','_markerId','textureBlend','createTextureBlend','blendEffect','mirroWater','createLightBlend','lightPoints','_lightPointsType','_lightPointsIsLookAt','isLookAt','lightPointsMeshs','terrain','createTerrain','heatmap','createHeatMap','createGradient','_effect','mainLight','ignoreOriginMat','originalSrc','lastIndexOf','_ef_mask.png','images/water/waternormals.jpg','isDoubleSide','projection','isUseAnimate','uvRotation','isUseAlphaMask','_ef_mask.','spriteAnimate','initLoop','useSpriteAnimate','translateX','translateY','uv2UseAlpha','uv2TranslateX','uv2TranslateY','closeLight','isUseNormal','blendCount','_ef_blend-1.','_ef_blend-2.','images/ground/noise.png','normalUv','createrBlendEffect','_ef_normal.','noOriginTexture','Material','isUseGround','isUseWaterEffect','waterFogNear','waterFogFar','updateLightPoints','toggleLightPoints','addEffectPointsMarker','coordThreeToMap','_lightPointsConfig','styleConfig','lightPointsLayer','setRenderOrder','setTransparent','createEdgeLineFrameByMeshLine','collectPoints','gltfObj','parser','Box3','setFromObject','radToDeg','building','getLayersByNames','mapmodel3ds','offsetPos','rotate','createFloatShakeModel','isLockScreenVisible','screenPlane','rainScreenEffect','snowScreenEffect','isShowSnowScreenEffect','bindOutlineSelection','outlinePass','ESNodeType','MODEL3D','outlineSelectList','selectedObjects','visibleEdgeColor','hiddenEdgeColor','edgeWidth','edgeStrength','edgeSpread','edgeGlow','edgeThickness','blinkPeriod','pulsePeriod','defaultOutlineConfig','setRainScreenEffect','isLockCreateScreenPlane','ESWaterMark','plane','composer','bloomComposer','bloomPass','bloomFinalPass','originSize','scaleSize','bloomLayer','darkMaterial','darkColor','originBgTexture','getPixelRatio','alphaMode','isWebGL2','WebGLMultisampleRenderTarget','EffectComposer','RenderPass','fxaaPass','ShaderPass','FXAAShader','CopyShader','renderToScreen','OutlinePass','iPad','iPod','UnrealBloomPass','threshold','bloomThreshold','bloomStrength','bloomRadius','addPass','renderTarget2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20baseTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bloomTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20getTexture(\x20sampler2D\x20texture1\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mapTexelToLinear(\x20texture2D(\x20texture1\x20,\x20vUv\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20(\x20getTexture(\x20baseTexture\x20)\x20+\x20vec4(\x201.0\x20)\x20*\x20getTexture(\x20bloomTexture\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sceneBackground','clearColor_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','renderBloom','viewMode_','rendererCss2D','cameraTop','clearDepth','sceneOrtho','cameraOrtho','_originColor','darkenNonBloomed','restoreMaterial','test','SkinnedMesh','_width','_height','_pixelRatio','EffectComposer.rt1','EffectComposer.rt2','writeBuffer','readBuffer','passes','THREE.EffectComposer\x20relies\x20on\x20THREE.CopyShader','THREE.EffectComposer\x20relies\x20on\x20THREE.ShaderPass','clock','Clock','getDrawingBufferSize','getDelta','isLastEnabledPass','needsSwap','context','stencilFunc','NOTEQUAL','copyPass','swapBuffers','MaskPass','getSize','renderTarget1','Pass','THREE.Pass:\x20.render()\x20must\x20be\x20implemented\x20in\x20derived\x20pass.','FullScreenQuad','overrideMaterial','clearColor','clearAlpha','autoClear','getClearColor','getClearAlpha','setClearColor','autoClearColor','autoClearStencil','textureID','tDiffuse','fsQuad','autoClearDepth','renderTargetsHorizontal','renderTargetsVertical','renderTargetBright','UnrealBloomPass.bright','nMips','UnrealBloomPass.v','LuminosityHighPassShader','highPassUniforms','luminosityThreshold','smoothWidth','materialHighPassFilter','separableBlurMaterials','getSeperableBlurMaterial','texSize','compositeMaterial','getCompositeMaterial','blurTexture2','bloomFactors','bloomTintColors','THREE.UnrealBloomPass\x20relies\x20on\x20THREE.CopyShader','copyUniforms','materialCopy','oldClearAlpha','oldClearColor','STENCIL_TEST','colorTexture','BlurDirectionY','strength','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture3;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture4;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture5;\x09\x09\x09\x09uniform\x20sampler2D\x20dirtTexture;\x09\x09\x09\x09uniform\x20float\x20bloomStrength;\x09\x09\x09\x09uniform\x20float\x20bloomRadius;\x09\x09\x09\x09uniform\x20float\x20bloomFactors[NUM_MIPS];\x09\x09\x09\x09uniform\x20vec3\x20bloomTintColors[NUM_MIPS];\x09\x09\x09\x09\x09\x09\x09\x09float\x20lerpBloomFactor(const\x20in\x20float\x20factor)\x20{\x20\x09\x09\x09\x09\x09float\x20mirrorFactor\x20=\x201.2\x20-\x20factor;\x09\x09\x09\x09\x09return\x20mix(factor,\x20mirrorFactor,\x20bloomRadius);\x09\x09\x09\x09}\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09gl_FragColor\x20=\x20bloomStrength\x20*\x20(\x20lerpBloomFactor(bloomFactors[0])\x20*\x20vec4(bloomTintColors[0],\x201.0)\x20*\x20texture2D(blurTexture1,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[1])\x20*\x20vec4(bloomTintColors[1],\x201.0)\x20*\x20texture2D(blurTexture2,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[2])\x20*\x20vec4(bloomTintColors[2],\x201.0)\x20*\x20texture2D(blurTexture3,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[3])\x20*\x20vec4(bloomTintColors[3],\x201.0)\x20*\x20texture2D(blurTexture4,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[4])\x20*\x20vec4(bloomTintColors[4],\x201.0)\x20*\x20texture2D(blurTexture5,\x20vUv)\x20);\x09\x09\x09\x09}','varying\x20vec2\x20vUv;','vUv\x20=\x20uv;','gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','uniform\x20sampler2D\x20tDiffuse;','vec4\x20texel\x20=\x20texture2D(\x20tDiffuse,\x20vUv\x20);','uniform\x20vec3\x20defaultColor;','uniform\x20float\x20defaultOpacity;','uniform\x20float\x20smoothWidth;','vec4\x20outputColor\x20=\x20vec4(\x20defaultColor.rgb,\x20defaultOpacity\x20);','float\x20alpha\x20=\x20smoothstep(\x20luminosityThreshold,\x20luminosityThreshold\x20+\x20smoothWidth,\x20v\x20);','gl_FragColor\x20=\x20mix(\x20outputColor,\x20texel,\x20alpha\x20);','//\x20FXAA\x203.11\x20implementation\x20by\x20NVIDIA,\x20ported\x20to\x20WebGL\x20by\x20Agost\x20Biro\x20(biro@archilogic.com)','//----------------------------------------------------------------------------------','//\x20SDK\x20Version:\x20v3.00','//\x20Site:\x20\x20\x20\x20\x20\x20\x20\x20http://developer.nvidia.com/','//\x20Redistribution\x20and\x20use\x20in\x20source\x20and\x20binary\x20forms,\x20with\x20or\x20without','//\x20modification,\x20are\x20permitted\x20provided\x20that\x20the\x20following\x20conditions','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer.','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer\x20in\x20the','//\x20\x20\x20\x20documentation\x20and/or\x20other\x20materials\x20provided\x20with\x20the\x20distribution.','//\x20\x20\x20\x20contributors\x20may\x20be\x20used\x20to\x20endorse\x20or\x20promote\x20products\x20derived','//\x20\x20\x20\x20from\x20this\x20software\x20without\x20specific\x20prior\x20written\x20permission.','//\x20THIS\x20SOFTWARE\x20IS\x20PROVIDED\x20BY\x20THE\x20COPYRIGHT\x20HOLDERS\x20``AS\x20IS\x27\x27\x20AND\x20ANY','//\x20EXPRESS\x20OR\x20IMPLIED\x20WARRANTIES,\x20INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,\x20THE','//\x20PURPOSE\x20ARE\x20DISCLAIMED.\x20\x20IN\x20NO\x20EVENT\x20SHALL\x20THE\x20COPYRIGHT\x20OWNER\x20OR','//\x20CONTRIBUTORS\x20BE\x20LIABLE\x20FOR\x20ANY\x20DIRECT,\x20INDIRECT,\x20INCIDENTAL,\x20SPECIAL,','//\x20EXEMPLARY,\x20OR\x20CONSEQUENTIAL\x20DAMAGES\x20(INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,','//\x20PROCUREMENT\x20OF\x20SUBSTITUTE\x20GOODS\x20OR\x20SERVICES;\x20LOSS\x20OF\x20USE,\x20DATA,\x20OR','//\x20OF\x20LIABILITY,\x20WHETHER\x20IN\x20CONTRACT,\x20STRICT\x20LIABILITY,\x20OR\x20TORT','//\x20(INCLUDING\x20NEGLIGENCE\x20OR\x20OTHERWISE)\x20ARISING\x20IN\x20ANY\x20WAY\x20OUT\x20OF\x20THE\x20USE','#define\x20FXAA_GREEN_AS_LUMA\x201','#ifndef\x20FXAA_PC_CONSOLE','\x20\x20\x20\x20//\x20The\x20console\x20algorithm\x20for\x20PC\x20is\x20included','\x20\x20\x20\x20//\x20for\x20developers\x20targeting\x20really\x20low\x20spec\x20machines.','/*--------------------------------------------------------------------------*/','#ifndef\x20FXAA_GLSL_120','\x20\x20\x20\x20#define\x20FXAA_GLSL_120\x200','#ifndef\x20FXAA_GLSL_130','\x20\x20\x20\x20#define\x20FXAA_GLSL_130\x200','#ifndef\x20FXAA_HLSL_3','\x20\x20\x20\x20#define\x20FXAA_HLSL_3\x200','\x20\x20\x20\x20#define\x20FXAA_HLSL_4\x200','#ifndef\x20FXAA_HLSL_5','/*==========================================================================*/','#ifndef\x20FXAA_GREEN_AS_LUMA','\x20\x20\x20\x20//\x20For\x20those\x20using\x20non-linear\x20color,','\x20\x20\x20\x20//\x20and\x20either\x20not\x20able\x20to\x20get\x20luma\x20in\x20alpha,\x20or\x20not\x20wanting\x20to,','\x20\x20\x20\x20//\x20So\x20with\x20this\x20enabled,\x20no\x20need\x20to\x20pack\x20luma\x20in\x20alpha.','\x20\x20\x20\x20//\x20Pure\x20red\x20and\x20blue\x20or\x20combination\x20of\x20only\x20R\x20and\x20B,\x20will\x20get\x20no\x20AA.','\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20Might\x20want\x20to\x20lower\x20the\x20settings\x20for\x20both,','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaConsoleEdgeThresholdMin','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaQualityEdgeThresholdMin','\x20\x20\x20\x20//\x20In\x20order\x20to\x20insure\x20AA\x20does\x20not\x20get\x20turned\x20off\x20on\x20colors','\x20\x20\x20\x20//\x20which\x20contain\x20a\x20minor\x20amount\x20of\x20green.','\x20\x20\x20\x20#define\x20FXAA_GREEN_AS_LUMA\x200','\x20\x20\x20\x20//\x20Controls\x20algorithm\x27s\x20early\x20exit\x20path.','\x20\x20\x20\x20//\x20On\x20PS3\x20turning\x20this\x20ON\x20adds\x202\x20cycles\x20to\x20the\x20shader.','\x20\x20\x20\x20//\x20On\x20360\x20turning\x20this\x20OFF\x20adds\x2010ths\x20of\x20a\x20millisecond\x20to\x20the\x20shader.','\x20\x20\x20\x20//\x20Turning\x20this\x20off\x20on\x20console\x20will\x20result\x20in\x20a\x20more\x20blurry\x20image.','\x20\x20\x20\x20//\x20So\x20this\x20defaults\x20to\x20on.','\x20\x20\x20\x20//\x200\x20=\x20Off.','\x20\x20\x20\x20#define\x20FXAA_EARLY_EXIT\x201','\x20\x20\x20\x20//\x20Only\x20valid\x20for\x20PC\x20OpenGL\x20currently.','\x20\x20\x20\x20//\x20Probably\x20will\x20not\x20work\x20when\x20FXAA_GREEN_AS_LUMA\x20=\x201.','\x20\x20\x20\x20//\x201\x20=\x20Use\x20discard\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','\x20\x20\x20\x20//\x200\x20=\x20Return\x20unchanged\x20color\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','\x20\x20\x20\x20#define\x20FXAA_DISCARD\x200','\x20\x20\x20\x20//\x20Used\x20for\x20GLSL\x20120\x20only.','\x20\x20\x20\x20//\x201\x20=\x20GL\x20API\x20supports\x20fast\x20pixel\x20offsets','\x20\x20\x20\x20//\x200\x20=\x20do\x20not\x20use\x20fast\x20pixel\x20offsets','\x20\x20\x20\x20#ifdef\x20GL_EXT_gpu_shader4','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x201','\x20\x20\x20\x20#ifdef\x20GL_ARB_gpu_shader5','\x20\x20\x20\x20#ifndef\x20FXAA_FAST_PIXEL_OFFSET','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x200','\x20\x20\x20\x20//\x201\x20=\x20API\x20supports\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20//\x200\x20=\x20API\x20does\x20not\x20support\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201','\x20\x20\x20\x20#ifdef\x20GL_NV_gpu_shader5','\x20\x20\x20\x20#ifndef\x20FXAA_GATHER4_ALPHA','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x200','/*============================================================================','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20TUNING\x20KNOBS','------------------------------------------------------------------------------','NOTE\x20the\x20other\x20tuning\x20knobs\x20are\x20now\x20in\x20the\x20shader\x20function\x20inputs!','============================================================================*/','\x20\x20\x20\x20//\x20Choose\x20the\x20quality\x20preset.','\x20\x20\x20\x20//\x20This\x20needs\x20to\x20be\x20compiled\x20into\x20the\x20shader\x20as\x20it\x20effects\x20code.','\x20\x20\x20\x20//\x20OPTIONS','\x20\x20\x20\x20//\x2010\x20to\x2015\x20-\x20default\x20medium\x20dither\x20(10=fastest,\x2015=highest\x20quality)','\x20\x20\x20\x20//\x2020\x20to\x2029\x20-\x20less\x20dither,\x20more\x20expensive\x20(20=fastest,\x2029=highest\x20quality)','\x20\x20\x20\x20//\x20NOTES','\x20\x20\x20\x20//\x20-----------------------------------------------------------------------','\x20\x20\x20\x20//\x2012\x20=\x20slightly\x20faster\x20then\x20FXAA\x203.9\x20and\x20higher\x20edge\x20quality\x20(default)','\x20\x20\x20\x20//\x2013\x20=\x20about\x20same\x20speed\x20as\x20FXAA\x203.9\x20and\x20better\x20than\x2012','\x20\x20\x20\x20//\x2023\x20=\x20closest\x20to\x20FXAA\x203.9\x20visually\x20and\x20performance\x20wise','\x20\x20\x20\x20//\x20\x20_\x20=\x20the\x20lowest\x20digit\x20is\x20directly\x20related\x20to\x20performance','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PRESET\x2012','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20PRESETS','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20MEDIUM\x20DITHER\x20PRESETS','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2011)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x204','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x2012.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x205','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2013)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x204.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2014)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x207','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2015)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x208','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x2012.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20LOW\x20DITHER\x20PRESETS','#if\x20(FXAA_QUALITY_PRESET\x20==\x2020)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x203','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2022)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2023)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2024)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x208.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2026)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x209','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2027)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2010','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2028)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2011','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2029)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2012','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0','#if\x20(FXAA_GLSL_100\x20==\x201)\x20||\x20(FXAA_GLSL_120\x20==\x201)\x20||\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaBool\x20bool','\x20\x20\x20\x20#define\x20FxaaDiscard\x20discard','\x20\x20\x20\x20#define\x20FxaaFloat2\x20vec2','\x20\x20\x20\x20#define\x20FxaaFloat3\x20vec3','\x20\x20\x20\x20#define\x20FxaaFloat4\x20vec4','\x20\x20\x20\x20#define\x20FxaaHalf\x20float','\x20\x20\x20\x20#define\x20FxaaHalf3\x20vec3','\x20\x20\x20\x20#define\x20FxaaHalf4\x20vec4','\x20\x20\x20\x20#define\x20FxaaInt2\x20ivec2','\x20\x20\x20\x20#define\x20FxaaSat(x)\x20clamp(x,\x200.0,\x201.0)','\x20\x20\x20\x20#define\x20FxaaTex\x20sampler2D','#else','\x20\x20\x20\x20#define\x20FxaaFloat\x20float','\x20\x20\x20\x20#define\x20FxaaFloat2\x20float2','\x20\x20\x20\x20#define\x20FxaaFloat3\x20float3','\x20\x20\x20\x20#define\x20FxaaHalf\x20half','\x20\x20\x20\x20#define\x20FxaaHalf2\x20half2','\x20\x20\x20\x20#define\x20FxaaHalf3\x20half3','\x20\x20\x20\x20#define\x20FxaaHalf4\x20half4','\x20\x20\x20\x20#define\x20FxaaSat(x)\x20saturate(x)','#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2D(t,\x20p,\x200.0)','\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2D(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','#if\x20(FXAA_GLSL_120\x20==\x201)','\x20\x20\x20\x20//\x20Requires,','\x20\x20\x20\x20//\x20\x20#version\x20120','\x20\x20\x20\x20//\x20And\x20at\x20least,','\x20\x20\x20\x20//\x20\x20#extension\x20GL_EXT_gpu_shader4\x20:\x20enable','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2DLod(t,\x20p,\x200.0)','\x20\x20\x20\x20#if\x20(FXAA_FAST_PIXEL_OFFSET\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLod(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x203)','#if\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20textureLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20\x20\x20\x20\x20//\x20use\x20#extension\x20GL_ARB_gpu_shader5\x20:\x20enable','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20textureGather(t,\x20p,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20textureGather(t,\x20p,\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x201)','#if\x20(FXAA_HLSL_3\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20float2','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20tex2Dlod(t,\x20float4(p\x20+\x20(o\x20*\x20r),\x200,\x200))','#if\x20(FXAA_HLSL_4\x20==\x201)','\x20\x20\x20\x20struct\x20FxaaTex\x20{\x20SamplerState\x20smpl;\x20Texture2D\x20tex;\x20};','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0,\x20o)','#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20int2','\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20t.tex.GatherAlpha(t.smpl,\x20p)','\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20t.tex.GatherGreen(t.smpl,\x20p,\x20o)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GREEN\x20AS\x20LUMA\x20OPTION\x20SUPPORT\x20FUNCTION','#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.w;\x20}','\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.y;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA3\x20QUALITY\x20-\x20PC','#if\x20(FXAA_PC\x20==\x201)','FxaaFloat4\x20FxaaPixelShader(','\x20\x20\x20\x20//\x20Use\x20noperspective\x20interpolation\x20here\x20(turn\x20off\x20perspective\x20interpolation).','\x20\x20\x20\x20//\x20Used\x20only\x20for\x20FXAA\x20Console,\x20and\x20not\x20used\x20on\x20the\x20360\x20version.','\x20\x20\x20\x20//\x20{xy_}\x20=\x20upper\x20left\x20of\x20pixel','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsolePosPos,','\x20\x20\x20\x20//\x20if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20//\x20\x20\x20\x20\x20{__a}\x20=\x20luma\x20in\x20perceptual\x20color\x20space\x20(not\x20linear)','\x20\x20\x20\x20FxaaTex\x20tex,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20the\x20optimized\x20360\x20version\x20of\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20For\x20everything\x20but\x20360,\x20just\x20use\x20the\x20same\x20input\x20here\x20as\x20for\x20\x22tex\x22.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-1.','\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegOne,','\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x203nd\x20sampler.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-2.','\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegTwo,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Quality.','\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.','\x20\x20\x20\x20//\x20{x_}\x20=\x201.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y}\x20=\x201.0/screenHeightInPixels','\x20\x20\x20\x20//\x20This\x20effects\x20sub-pixel\x20AA\x20quality\x20and\x20inversely\x20sharpness.','\x20\x20\x20\x20//\x20\x20\x20Where\x20N\x20ranges\x20between,','\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.50\x20(default)','\x20\x20\x20\x20//\x20{x__}\x20=\x20-N/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-N/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x20N/screenWidthInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20Not\x20used\x20on\x20360,\x20but\x20used\x20on\x20PS3\x20and\x20PC.','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-2.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x202.0/screenWidthInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt2,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20360\x20in\x20place\x20of\x20fxaaConsoleRcpFrameOpt2.','\x20\x20\x20\x20//\x20{x__}\x20=\x20\x208.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20\x208.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20-4.0/screenHeightInPixels','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_SUBPIX\x20define.','\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.','\x20\x20\x20\x20//\x20Choose\x20the\x20amount\x20of\x20sub-pixel\x20aliasing\x20removal.','\x20\x20\x20\x20//\x20This\x20can\x20effect\x20sharpness.','\x20\x20\x20\x20//\x20\x20\x201.00\x20-\x20upper\x20limit\x20(softer)','\x20\x20\x20\x20//\x20\x20\x200.75\x20-\x20default\x20amount\x20of\x20filtering','\x20\x20\x20\x20//\x20\x20\x200.50\x20-\x20lower\x20limit\x20(sharper,\x20less\x20sub-pixel\x20aliasing\x20removal)','\x20\x20\x20\x20//\x20\x20\x200.25\x20-\x20almost\x20off','\x20\x20\x20\x20FxaaFloat\x20fxaaQualitySubpix,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD\x20define.','\x20\x20\x20\x20//\x20\x20\x200.333\x20-\x20too\x20little\x20(faster)','\x20\x20\x20\x20//\x20\x20\x200.250\x20-\x20low\x20quality','\x20\x20\x20\x20//\x20\x20\x200.166\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x200.125\x20-\x20high\x20quality','\x20\x20\x20\x20//\x20\x20\x200.063\x20-\x20overkill\x20(slower)','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThreshold,','\x20\x20\x20\x20//\x20Trims\x20the\x20algorithm\x20from\x20processing\x20darks.','\x20\x20\x20\x20//\x20\x20\x200.0625\x20-\x20high\x20quality\x20(faster)','\x20\x20\x20\x20//\x20\x20\x200.0312\x20-\x20visible\x20limit\x20(slower)','\x20\x20\x20\x20//\x20Special\x20notes\x20when\x20using\x20FXAA_GREEN_AS_LUMA,','\x20\x20\x20\x20//\x20\x20\x20Likely\x20want\x20to\x20set\x20this\x20to\x20zero.','\x20\x20\x20\x20//\x20\x20\x20As\x20colors\x20that\x20are\x20mostly\x20not-green','\x20\x20\x20\x20//\x20\x20\x20will\x20appear\x20very\x20dark\x20in\x20the\x20green\x20channel!','\x20\x20\x20\x20//\x20\x20\x20Tune\x20by\x20looking\x20at\x20mostly\x20non-green\x20content,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_SHARPNESS\x20define.','\x20\x20\x20\x20//\x20This\x20does\x20not\x20effect\x20PS3,\x20as\x20this\x20needs\x20to\x20be\x20compiled\x20in.','\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_SHARPNESS\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20Due\x20to\x20the\x20PS3\x20being\x20ALU\x20bound,','\x20\x20\x20\x20//\x20\x20\x20These\x20options\x20use\x20the\x20shaders\x20ability\x20to\x20a\x20free\x20*|/\x20by\x202|4|8.','\x20\x20\x20\x20//\x20\x20\x204.0\x20is\x20softer','\x20\x20\x20\x20//\x20\x20\x202.0\x20is\x20really\x20soft\x20(good\x20only\x20for\x20vector\x20graphics\x20inputs)','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD\x20define.','\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_THRESHOLD\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20two\x20safe\x20values\x20here:\x201/4\x20and\x201/8.','\x20\x20\x20\x20//\x20The\x20console\x20setting\x20has\x20a\x20different\x20mapping\x20than\x20the\x20quality\x20setting.','\x20\x20\x20\x20//\x20Other\x20platforms\x20can\x20use\x20other\x20values.','\x20\x20\x20\x20//\x20\x20\x200.125\x20leaves\x20less\x20aliasing,\x20but\x20is\x20softer\x20(default!!!)','\x20\x20\x20\x20//\x20\x20\x200.25\x20leaves\x20more\x20aliasing,\x20and\x20is\x20sharper','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD_MIN\x20define.','\x20\x20\x20\x20//\x20This\x20only\x20applies\x20when\x20FXAA_EARLY_EXIT\x20is\x201.','\x20\x20\x20\x20//\x20PS3\x20was\x20simplified\x20to\x20avoid\x20more\x20shader\x20instructions.','\x20\x20\x20\x20//\x20\x20\x200.05\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x20then\x20start\x20at\x20zero\x20and\x20increase\x20until\x20aliasing\x20is\x20a\x20problem.','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThresholdMin,','\x20\x20\x20\x20//\x20Extra\x20constants\x20for\x20360\x20FXAA\x20Console\x20only.','\x20\x20\x20\x20//\x20Use\x20zeros\x20or\x20anything\x20else\x20for\x20other\x20platforms.','\x20\x20\x20\x20//\x20{xyzw}\x20=\x20float4(1.0,\x20-1.0,\x200.25,\x20-0.25)','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360ConstDir','\x20\x20\x20\x20FxaaFloat2\x20posM;','\x20\x20\x20\x20posM.x\x20=\x20pos.x;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffAlpha4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexGreen4(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20luma4A.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaE\x20luma4A.z','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaS\x20luma4A.x','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaSE\x20luma4A.y','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaNW\x20luma4B.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaN\x20luma4B.z','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaW\x20luma4B.x','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w','\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20maxSM\x20=\x20max(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20minSM\x20=\x20min(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20maxESM\x20=\x20max(lumaE,\x20maxSM);','\x20\x20\x20\x20FxaaFloat\x20maxWN\x20=\x20max(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20minWN\x20=\x20min(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20rangeMax\x20=\x20max(maxWN,\x20maxESM);','\x20\x20\x20\x20FxaaFloat\x20rangeMin\x20=\x20min(minWN,\x20minESM);','\x20\x20\x20\x20FxaaFloat\x20rangeMaxScaled\x20=\x20rangeMax\x20*\x20fxaaQualityEdgeThreshold;','\x20\x20\x20\x20FxaaFloat\x20rangeMaxClamped\x20=\x20max(fxaaQualityEdgeThresholdMin,\x20rangeMaxScaled);','\x20\x20\x20\x20if(earlyExit)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaDiscard;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20rgbyM;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20lumaNS\x20=\x20lumaN\x20+\x20lumaS;','\x20\x20\x20\x20FxaaFloat\x20lumaWE\x20=\x20lumaW\x20+\x20lumaE;','\x20\x20\x20\x20FxaaFloat\x20subpixRcpRange\x20=\x201.0/range;','\x20\x20\x20\x20FxaaFloat\x20subpixNSWE\x20=\x20lumaNS\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaNS;','\x20\x20\x20\x20FxaaFloat\x20lumaNWNE\x20=\x20lumaNW\x20+\x20lumaNE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz2\x20=\x20(-2.0\x20*\x20lumaE)\x20+\x20lumaNESE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert2\x20=\x20(-2.0\x20*\x20lumaN)\x20+\x20lumaNWNE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert4\x20=\x20(abs(edgeVert1)\x20*\x202.0)\x20+\x20abs(edgeVert2);','\x20\x20\x20\x20FxaaFloat\x20edgeHorz3\x20=\x20(-2.0\x20*\x20lumaW)\x20+\x20lumaNWSW;','\x20\x20\x20\x20FxaaFloat\x20edgeVert3\x20=\x20(-2.0\x20*\x20lumaS)\x20+\x20lumaSWSE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz\x20=\x20abs(edgeHorz3)\x20+\x20edgeHorz4;','\x20\x20\x20\x20FxaaFloat\x20edgeVert\x20=\x20abs(edgeVert3)\x20+\x20edgeVert4;','\x20\x20\x20\x20if(!horzSpan)\x20lumaN\x20=\x20lumaW;','\x20\x20\x20\x20if(horzSpan)\x20lengthSign\x20=\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20FxaaFloat\x20subpixB\x20=\x20(subpixA\x20*\x20(1.0/12.0))\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20gradientN\x20=\x20lumaN\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20gradientS\x20=\x20lumaS\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20lumaNN\x20=\x20lumaN\x20+\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20lumaSS\x20=\x20lumaS\x20+\x20lumaM;','\x20\x20\x20\x20FxaaBool\x20pairN\x20=\x20abs(gradientN)\x20>=\x20abs(gradientS);','\x20\x20\x20\x20FxaaFloat\x20gradient\x20=\x20max(abs(gradientN),\x20abs(gradientS));','\x20\x20\x20\x20if(pairN)\x20lengthSign\x20=\x20-lengthSign;','\x20\x20\x20\x20FxaaFloat\x20subpixC\x20=\x20FxaaSat(abs(subpixB)\x20*\x20subpixRcpRange);','\x20\x20\x20\x20FxaaFloat2\x20posB;','\x20\x20\x20\x20FxaaFloat2\x20offNP;','\x20\x20\x20\x20offNP.x\x20=\x20(!horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.x;','\x20\x20\x20\x20offNP.y\x20=\x20(\x20horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20if(!horzSpan)\x20posB.x\x20+=\x20lengthSign\x20*\x200.5;','\x20\x20\x20\x20FxaaFloat2\x20posN;','\x20\x20\x20\x20posN.x\x20=\x20posB.x\x20-\x20offNP.x\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20posN.y\x20=\x20posB.y\x20-\x20offNP.y\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat2\x20posP;','\x20\x20\x20\x20posP.y\x20=\x20posB.y\x20+\x20offNP.y\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN));','\x20\x20\x20\x20FxaaFloat\x20subpixE\x20=\x20subpixC\x20*\x20subpixC;','\x20\x20\x20\x20FxaaFloat\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP));','\x20\x20\x20\x20if(!pairN)\x20lumaNN\x20=\x20lumaSS;','\x20\x20\x20\x20FxaaFloat\x20lumaMM\x20=\x20lumaM\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaFloat\x20subpixF\x20=\x20subpixD\x20*\x20subpixE;','\x20\x20\x20\x20lumaEndP\x20-=\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaBool\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20FxaaBool\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20FxaaBool\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x203)','\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x204)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x205)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x206)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x209)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2010)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2011)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20FxaaFloat\x20dstN\x20=\x20posM.x\x20-\x20posN.x;','\x20\x20\x20\x20FxaaFloat\x20dstP\x20=\x20posP.x\x20-\x20posM.x;','\x20\x20\x20\x20if(!horzSpan)\x20dstN\x20=\x20posM.y\x20-\x20posN.y;','\x20\x20\x20\x20if(!horzSpan)\x20dstP\x20=\x20posP.y\x20-\x20posM.y;','\x20\x20\x20\x20FxaaBool\x20goodSpanN\x20=\x20(lumaEndN\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaBool\x20goodSpanP\x20=\x20(lumaEndP\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaFloat\x20spanLengthRcp\x20=\x201.0/spanLength;','\x20\x20\x20\x20FxaaBool\x20directionN\x20=\x20dstN\x20<\x20dstP;','\x20\x20\x20\x20FxaaFloat\x20dst\x20=\x20min(dstN,\x20dstP);','\x20\x20\x20\x20FxaaFloat\x20subpixG\x20=\x20subpixF\x20*\x20subpixF;','\x20\x20\x20\x20FxaaFloat\x20subpixH\x20=\x20subpixG\x20*\x20fxaaQualitySubpix;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetGood\x20=\x20goodSpan\x20?\x20pixelOffset\x20:\x200.0;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetSubpix\x20=\x20max(pixelOffsetGood,\x20subpixH);','\x20\x20\x20\x20if(!horzSpan)\x20posM.x\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;','\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaFloat4(FxaaTexTop(tex,\x20posM).xyz,\x20lumaM);','\x20\x20gl_FragColor\x20=\x20FxaaPixelShader(','\x20\x20\x20\x20vec4(0.0),','\x20\x20\x20\x20tDiffuse,','\x20\x20\x20\x20resolution,','\x20\x20\x20\x200.166,','\x20\x20\x20\x200.0833,','\x20\x20\x20\x200.0,','\x20\x20gl_FragColor.a\x20=\x20texture2D(tDiffuse,\x20vUv).a;','renderCamera','downSampleRatio','RGBAFormat','maskBufferMaterial','renderTargetMaskBuffer','OutlinePass.mask','RGBADepthPacking','prepareMaskMaterial','getPrepareMaskMaterial','isPerspectiveCamera','perspective','DepthToViewZ','renderTargetDepthBuffer','OutlinePass.depth','renderTargetMaskDownSampleBuffer','OutlinePass.depthDownSample','renderTargetBlurBuffer1','OutlinePass.blur1','renderTargetBlurBuffer2','OutlinePass.blur2','edgeDetectionMaterial','getEdgeDetectionMaterial','renderTargetEdgeBuffer1','renderTargetEdgeBuffer2','OutlinePass.edge2','separableBlurMaterial1','kernelRadius','separableBlurMaterial2','getOverlayMaterial','THREE.OutlinePass\x20relies\x20on\x20THREE.CopyShader','tempPulseColor1','tempPulseColor2','isMesh','oldVisible','renderScene','isSprite','bVisible','changeVisibilityOfSelectedObjects','updateTextureMatrix','changeVisibilityOfNonSelectedObjects','BlurDirectionX','overlayMaterial','edgeTexture1','edgeTexture2','patternTexture','usePatternTexture','varying\x20vec4\x20projTexCoord;','varying\x20vec4\x20vPosition;','uniform\x20mat4\x20textureMatrix;','\x09vPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x09projTexCoord\x20=\x20textureMatrix\x20*\x20worldPosition;','\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','#include\x20<packing>','uniform\x20vec2\x20cameraNearFar;','\x09float\x20depth\x20=\x20unpackRGBAToDepth(texture2DProj(\x20depthTexture,\x20projTexCoord\x20));','\x09float\x20viewZ\x20=\x20-\x20DEPTH_TO_VIEW_Z(\x20depth,\x20cameraNearFar.x,\x20cameraNearFar.y\x20);','\x09float\x20depthTest\x20=\x20(-vPosition.z\x20>\x20viewZ)\x20?\x201.0\x20:\x200.0;','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec3\x20visibleEdgeColor;\x09\x09\x09\x09uniform\x20vec3\x20hiddenEdgeColor;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09vec4\x20uvOffset\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0)\x20*\x20vec4(invSize,\x20invSize);\x09\x09\x09\x09\x09vec4\x20c1\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c2\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c3\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.yw);\x09\x09\x09\x09\x09vec4\x20c4\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.yw);\x09\x09\x09\x09\x09float\x20diff1\x20=\x20(c1.r\x20-\x20c2.r)*0.5;\x09\x09\x09\x09\x09float\x20diff2\x20=\x20(c3.r\x20-\x20c4.r)*0.5;\x09\x09\x09\x09\x09float\x20d\x20=\x20length(\x20vec2(diff1,\x20diff2)\x20);\x09\x09\x09\x09\x09float\x20a1\x20=\x20min(c1.g,\x20c2.g);\x09\x09\x09\x09\x09float\x20a2\x20=\x20min(c3.g,\x20c4.g);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x20min(a1,\x20a2);\x09\x09\x09\x09\x09vec3\x20edgeColor\x20=\x201.0\x20-\x20visibilityFactor\x20>\x200.001\x20?\x20visibleEdgeColor\x20:\x20hiddenEdgeColor;\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(edgeColor,\x201.0)\x20*\x20vec4(d);\x09\x09\x09\x09}','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20patternTexture;\x09\x09\x09\x09uniform\x20float\x20edgeStrength;\x09\x09\x09\x09uniform\x20float\x20edgeGlow;\x09\x09\x09\x09uniform\x20bool\x20usePatternTexture;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec4\x20edgeValue1\x20=\x20texture2D(edgeTexture1,\x20vUv);\x09\x09\x09\x09\x09vec4\x20edgeValue2\x20=\x20texture2D(edgeTexture2,\x20vUv);\x09\x09\x09\x09\x09vec4\x20maskColor\x20=\x20texture2D(maskTexture,\x20vUv);\x09\x09\x09\x09\x09vec4\x20patternColor\x20=\x20texture2D(patternTexture,\x206.0\x20*\x20vUv);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x201.0\x20-\x20maskColor.g\x20>\x200.0\x20?\x201.0\x20:\x200.5;\x09\x09\x09\x09\x09vec4\x20edgeValue\x20=\x20edgeValue1\x20+\x20edgeValue2\x20*\x20edgeGlow;\x09\x09\x09\x09\x09vec4\x20finalColor\x20=\x20edgeStrength\x20*\x20maskColor.r\x20*\x20edgeValue;\x09\x09\x09\x09\x09if(usePatternTexture)\x09\x09\x09\x09\x09\x09finalColor\x20+=\x20+\x20visibilityFactor\x20*\x20(1.0\x20-\x20maskColor.r)\x20*\x20(1.0\x20-\x20patternColor.r);\x09\x09\x09\x09\x09gl_FragColor\x20=\x20finalColor;\x09\x09\x09\x09}','isUpdated','shadowConfigs','dataConfigs','shadowCameraHelper','spherical','Spherical','_tempControlsTarget','preInit','autoUpdate','PCFSoftShadowMap','mapWidth','normalBias','bias','mapHeight','CameraHelper','shadowLight','setRoomShadow','LightShadow','initTileMapShadow','getDistance','isRealTimeUpdate','_updateShadowByAngle','nearFactor','farFactor','targetX','targetY','targetZ','updateShadow','posX','posY','posZ','createTileShadow','getLights','updateTileShadow','tileInitComplete','castMinHeight','Height','setMarkerShadowConfig','setModelObjShadowConfig','noShadow','-receiveShadow','-castShadow','-shadow','__no_receive_shadow','__no_cast_shadow','activeShadow','setFromUnitVectors','applyQuaternion','exp2','FogExp2','fov','showProjectorRange','showFarPlane','#FF0000','polyHeatMaps','heatMapTool','allMarkerList','addControls','container_','orbitCameraFlyTo','sortObjects','autoRotate','off','backToMapControls','setGroundPick','imgPath','pickAnimateObj','isLockGroundPick','updateGroundPick','checkIsCanMove','face','transformDirection','flytoGroundPickPos3','maxDistance','InOut','getPolarAngle','getAzimuthalAngle','testPoints','disposeMesh','minZoom','maxZoom','minAzimuthAngle','maxAzimuthAngle','enableDamping','dampingFactor','panSpeed','screenSpacePanning','keyPanSpeed','autoRotateSpeed','enableKeys','mouseButtons','MOUSE','LEFT','RIGHT','zoom','saveState'];(function(_0x48a6ca,_0x2a8243){var _0x445d02=function(_0x33dc79){while(--_0x33dc79){_0x48a6ca['push'](_0x48a6ca['shift']());}};_0x445d02(++_0x2a8243);}(_0x41c7,0x133));var _0x536f=function(_0x91221b,_0x6cbab9){_0x91221b=_0x91221b-0x0;var _0x2f92fd=_0x41c7[_0x91221b];return _0x2f92fd;};!function(_0x48184b){var _0x2d4f81={};function _0x101092(_0x23f2b5){if(_0x2d4f81[_0x23f2b5])return _0x2d4f81[_0x23f2b5][_0x536f('0x0')];var _0xf1573b=_0x2d4f81[_0x23f2b5]={'i':_0x23f2b5,'l':!0x1,'exports':{}};return _0x48184b[_0x23f2b5]['call'](_0xf1573b[_0x536f('0x0')],_0xf1573b,_0xf1573b[_0x536f('0x0')],_0x101092),_0xf1573b['l']=!0x0,_0xf1573b[_0x536f('0x0')];}_0x101092['m']=_0x48184b,_0x101092['c']=_0x2d4f81,_0x101092['d']=function(_0x45112a,_0x4ce443,_0x48184b){_0x101092['o'](_0x45112a,_0x4ce443)||Object[_0x536f('0x1')](_0x45112a,_0x4ce443,{'enumerable':!0x0,'get':_0x48184b});},_0x101092['r']=function(_0x1044a7){'undefined'!=typeof Symbol&&Symbol[_0x536f('0x2')]&&Object[_0x536f('0x1')](_0x1044a7,Symbol[_0x536f('0x2')],{'value':_0x536f('0x3')}),Object['defineProperty'](_0x1044a7,_0x536f('0x4'),{'value':!0x0});},_0x101092['t']=function(_0x4fc69a,_0x4de92b){if(0x1&_0x4de92b&&(_0x4fc69a=_0x101092(_0x4fc69a)),0x8&_0x4de92b)return _0x4fc69a;if(0x4&_0x4de92b&&'object'==typeof _0x4fc69a&&_0x4fc69a&&_0x4fc69a[_0x536f('0x4')])return _0x4fc69a;var _0x48184b=Object[_0x536f('0x5')](null);if(_0x101092['r'](_0x48184b),Object[_0x536f('0x1')](_0x48184b,_0x536f('0x6'),{'enumerable':!0x0,'value':_0x4fc69a}),0x2&_0x4de92b&&'string'!=typeof _0x4fc69a)for(var _0x2d4f81 in _0x4fc69a)_0x101092['d'](_0x48184b,_0x2d4f81,function(_0x4de92b){return _0x4fc69a[_0x4de92b];}[_0x536f('0x7')](null,_0x2d4f81));return _0x48184b;},_0x101092['n']=function(_0x160690){var _0x1a3d42=_0x160690&&_0x160690[_0x536f('0x4')]?function(){return _0x160690[_0x536f('0x6')];}:function(){return _0x160690;};return _0x101092['d'](_0x1a3d42,'a',_0x1a3d42),_0x1a3d42;},_0x101092['o']=function(_0x18b72a,_0x2a2d32){return Object[_0x536f('0x8')][_0x536f('0x9')][_0x536f('0xa')](_0x18b72a,_0x2a2d32);},_0x101092['p']=_0x536f('0xb'),_0x101092(_0x101092['s']=0x19c);}([function(_0x13cff1,_0x5d47f4,_0x49af02){'use strict';_0x5d47f4[_0x536f('0x4')]=!0x0,_0x5d47f4[_0x536f('0x6')]=function(_0x13cff1,_0x5d47f4){if(!(_0x13cff1 instanceof _0x5d47f4))throw new TypeError(_0x536f('0xc'));};},function(_0x1aaad3,_0x4e79aa,_0x1256c3){'use strict';_0x4e79aa[_0x536f('0x4')]=!0x0;var _0x1256c3=_0x1256c3(0x38),_0x3d6611=_0x1256c3&&_0x1256c3[_0x536f('0x4')]?_0x1256c3:{'default':_0x1256c3};function _0x48c3b5(_0x1aaad3,_0x4e79aa){for(var _0x1256c3=0x0;_0x1256c3<_0x4e79aa[_0x536f('0xd')];_0x1256c3++){var _0x48c3b5=_0x4e79aa[_0x1256c3];_0x48c3b5[_0x536f('0xe')]=_0x48c3b5['enumerable']||!0x1,_0x48c3b5[_0x536f('0xf')]=!0x0,_0x536f('0x10')in _0x48c3b5&&(_0x48c3b5[_0x536f('0x11')]=!0x0),(0x0,_0x3d6611['default'])(_0x1aaad3,_0x48c3b5[_0x536f('0x12')],_0x48c3b5);}}_0x4e79aa['default']=function(_0x1aaad3,_0x4e79aa,_0x1256c3){return _0x4e79aa&&_0x48c3b5(_0x1aaad3['prototype'],_0x4e79aa),_0x1256c3&&_0x48c3b5(_0x1aaad3,_0x1256c3),_0x1aaad3;};},function(_0x14a2de,_0x1ccb2b){_0x14a2de=_0x14a2de[_0x536f('0x0')]={'version':_0x536f('0x13')};_0x536f('0x14')==typeof __e&&(__e=_0x14a2de);},function(_0x480711,_0x3e8b30,_0x4672ad){function _0x44bbbb(_0x480711,_0x3e8b30,_0x4672ad){var _0x17c91c,_0x447cf9,_0x23fca6,_0x37a6f5=_0x480711&_0x44bbbb['F'],_0x17eecd=_0x480711&_0x44bbbb['G'],_0x2d4cc9=_0x480711&_0x44bbbb['S'],_0x3fce07=_0x480711&_0x44bbbb['P'],_0x37de3a=_0x480711&_0x44bbbb['B'],_0x3f6186=_0x480711&_0x44bbbb['W'],_0x226f36=_0x17eecd?_0x390286:_0x390286[_0x3e8b30]||(_0x390286[_0x3e8b30]={}),_0x5ddbcd=_0x226f36[_0xf55f7e],_0x4f97b4=_0x17eecd?_0x22411d:_0x2d4cc9?_0x22411d[_0x3e8b30]:(_0x22411d[_0x3e8b30]||{})[_0xf55f7e];for(_0x17c91c in _0x4672ad=_0x17eecd?_0x3e8b30:_0x4672ad)(_0x447cf9=!_0x37a6f5&&_0x4f97b4&&void 0x0!==_0x4f97b4[_0x17c91c])&&_0x4b1313(_0x226f36,_0x17c91c)||(_0x23fca6=(_0x447cf9?_0x4f97b4:_0x4672ad)[_0x17c91c],_0x226f36[_0x17c91c]=_0x17eecd&&_0x536f('0x15')!=typeof _0x4f97b4[_0x17c91c]?_0x4672ad[_0x17c91c]:_0x37de3a&&_0x447cf9?_0x3f1e97(_0x23fca6,_0x22411d):_0x3f6186&&_0x4f97b4[_0x17c91c]==_0x23fca6?function(_0x17c91c){function _0x480711(_0x480711,_0x3e8b30,_0x4672ad){if(this instanceof _0x17c91c){switch(arguments[_0x536f('0xd')]){case 0x0:return new _0x17c91c();case 0x1:return new _0x17c91c(_0x480711);case 0x2:return new _0x17c91c(_0x480711,_0x3e8b30);}return new _0x17c91c(_0x480711,_0x3e8b30,_0x4672ad);}return _0x17c91c[_0x536f('0x16')](this,arguments);}return _0x480711[_0xf55f7e]=_0x17c91c[_0xf55f7e],_0x480711;}(_0x23fca6):_0x3fce07&&'function'==typeof _0x23fca6?_0x3f1e97(Function[_0x536f('0xa')],_0x23fca6):_0x23fca6,_0x3fce07&&((_0x226f36[_0x536f('0x17')]||(_0x226f36[_0x536f('0x17')]={}))[_0x17c91c]=_0x23fca6,_0x480711&_0x44bbbb['R']&&_0x5ddbcd&&!_0x5ddbcd[_0x17c91c]&&_0x403946(_0x5ddbcd,_0x17c91c,_0x23fca6)));}var _0x22411d=_0x4672ad(0x5),_0x390286=_0x4672ad(0x2),_0x3f1e97=_0x4672ad(0xe),_0x403946=_0x4672ad(0xb),_0x4b1313=_0x4672ad(0xc),_0xf55f7e='prototype';_0x44bbbb['F']=0x1,_0x44bbbb['G']=0x2,_0x44bbbb['S']=0x4,_0x44bbbb['P']=0x8,_0x44bbbb['B']=0x10,_0x44bbbb['W']=0x20,_0x44bbbb['U']=0x40,_0x44bbbb['R']=0x80,_0x480711[_0x536f('0x0')]=_0x44bbbb;},function(_0x58437f,_0x299ed8,_0x1fc426){_0x58437f[_0x536f('0x0')]={'default':_0x1fc426(0x53),'__esModule':!0x0};},function(_0x437bf0,_0x3c0a80){_0x437bf0=_0x437bf0[_0x536f('0x0')]=_0x536f('0x18')!=typeof window&&window[_0x536f('0x19')]==Math?window:_0x536f('0x18')!=typeof self&&self[_0x536f('0x19')]==Math?self:Function('return\x20this')();_0x536f('0x14')==typeof __g&&(__g=_0x437bf0);},function(_0x16aaeb,_0x503feb,_0x31aec8){var _0x27faeb=_0x31aec8(0x2b)('wks'),_0x495ad4=_0x31aec8(0x1c),_0x499d27=_0x31aec8(0x5)['Symbol'],_0x5e5250=_0x536f('0x15')==typeof _0x499d27;(_0x16aaeb['exports']=function(_0x16aaeb){return _0x27faeb[_0x16aaeb]||(_0x27faeb[_0x16aaeb]=_0x5e5250&&_0x499d27[_0x16aaeb]||(_0x5e5250?_0x499d27:_0x495ad4)(_0x536f('0x1a')+_0x16aaeb));})['store']=_0x27faeb;},function(_0x32f786,_0x1dde56,_0x3971b1){_0x32f786[_0x536f('0x0')]=!_0x3971b1(0xd)(function(){return 0x7!=Object[_0x536f('0x1')]({},'a',{'get':function(){return 0x7;}})['a'];});},function(_0x19fc6e,_0x4f1254,_0x29da87){var _0x5c3b11=_0x29da87(0xa),_0x58d403=_0x29da87(0x3d),_0x5b33af=_0x29da87(0x2e),_0x5e2fb6=Object[_0x536f('0x1')];_0x4f1254['f']=_0x29da87(0x7)?Object[_0x536f('0x1')]:function(_0x19fc6e,_0x4f1254,_0x29da87){if(_0x5c3b11(_0x19fc6e),_0x4f1254=_0x5b33af(_0x4f1254,!0x0),_0x5c3b11(_0x29da87),_0x58d403)try{return _0x5e2fb6(_0x19fc6e,_0x4f1254,_0x29da87);}catch(_0x68d3d7){}if('get'in _0x29da87||_0x536f('0x1b')in _0x29da87)throw TypeError('Accessors\x20not\x20supported!');return _0x536f('0x10')in _0x29da87&&(_0x19fc6e[_0x4f1254]=_0x29da87[_0x536f('0x10')]),_0x19fc6e;};},function(_0x5dbb3b,_0x2265ca){_0x5dbb3b[_0x536f('0x0')]=function(_0x5dbb3b){return _0x536f('0x1c')==typeof _0x5dbb3b?null!==_0x5dbb3b:'function'==typeof _0x5dbb3b;};},function(_0x4073c5,_0x2d2488,_0x166172){var _0x51e931=_0x166172(0x9);_0x4073c5[_0x536f('0x0')]=function(_0x4073c5){if(_0x51e931(_0x4073c5))return _0x4073c5;throw TypeError(_0x4073c5+'\x20is\x20not\x20an\x20object!');};},function(_0x25983e,_0x3de3c8,_0x472f46){var _0x4a806b=_0x472f46(0x8),_0x428396=_0x472f46(0x18);_0x25983e['exports']=_0x472f46(0x7)?function(_0x25983e,_0x3de3c8,_0x472f46){return _0x4a806b['f'](_0x25983e,_0x3de3c8,_0x428396(0x1,_0x472f46));}:function(_0x25983e,_0x3de3c8,_0x472f46){return _0x25983e[_0x3de3c8]=_0x472f46,_0x25983e;};},function(_0x4353ef,_0x70e46f){var _0x3b51a8={}[_0x536f('0x9')];_0x4353ef['exports']=function(_0x4353ef,_0x70e46f){return _0x3b51a8[_0x536f('0xa')](_0x4353ef,_0x70e46f);};},function(_0x3967a3,_0x21b007){_0x3967a3[_0x536f('0x0')]=function(_0x3967a3){try{return!!_0x3967a3();}catch(_0x3c3551){return!0x0;}};},function(_0x2820bb,_0x220c1c,_0x5e67e6){var _0x1f67d5=_0x5e67e6(0x21);_0x2820bb[_0x536f('0x0')]=function(_0x129b25,_0x4beb07,_0x2820bb){if(_0x1f67d5(_0x129b25),void 0x0===_0x4beb07)return _0x129b25;switch(_0x2820bb){case 0x1:return function(_0x2820bb){return _0x129b25[_0x536f('0xa')](_0x4beb07,_0x2820bb);};case 0x2:return function(_0x2820bb,_0x220c1c){return _0x129b25[_0x536f('0xa')](_0x4beb07,_0x2820bb,_0x220c1c);};case 0x3:return function(_0x2820bb,_0x220c1c,_0x5e67e6){return _0x129b25[_0x536f('0xa')](_0x4beb07,_0x2820bb,_0x220c1c,_0x5e67e6);};}return function(){return _0x129b25[_0x536f('0x16')](_0x4beb07,arguments);};};},function(_0xb15185,_0x542ae0,_0x1ebfd7){var _0x5af3a3=_0x1ebfd7(0x31),_0x5b7721=_0x1ebfd7(0x25);_0xb15185[_0x536f('0x0')]=function(_0xb15185){return _0x5af3a3(_0x5b7721(_0xb15185));};},function(_0x1e825e,_0x2d8e45,_0x4b10dd){'use strict';_0x2d8e45[_0x536f('0x4')]=!0x0;_0x4b10dd=_0x4b10dd(0x6a),_0x4b10dd=_0x4b10dd&&_0x4b10dd[_0x536f('0x4')]?_0x4b10dd:{'default':_0x4b10dd};_0x2d8e45['default']=_0x4b10dd[_0x536f('0x6')]||function(_0x1e825e){for(var _0x2d8e45=0x1;_0x2d8e45<arguments['length'];_0x2d8e45++){var _0x4b10dd,_0x1a7248=arguments[_0x2d8e45];for(_0x4b10dd in _0x1a7248)Object[_0x536f('0x8')]['hasOwnProperty'][_0x536f('0xa')](_0x1a7248,_0x4b10dd)&&(_0x1e825e[_0x4b10dd]=_0x1a7248[_0x4b10dd]);}return _0x1e825e;};},function(_0xb1e8e8,_0x2afc9b,_0x4740af){'use strict';function _0xf5b55f(_0xb1e8e8,_0x2afc9b){_0xb1e8e8=_0xca4483()[_0x536f('0x1d')]({'x':_0xb1e8e8,'y':_0x2afc9b});return{'x':_0xb1e8e8['x'],'y':_0xb1e8e8['z']};}function _0x3fc5dc(){return _0xca4483()[_0x536f('0x1e')]===esmap[_0x536f('0x1f')][_0x536f('0x20')];}function _0xca4483(){if(esmap['ESMap'])return esmap[_0x536f('0x21')][_0x536f('0x22')];}Object[_0x536f('0x1')](_0x2afc9b,_0x536f('0x4'),{'value':!0x0}),_0x2afc9b[_0x536f('0x23')]=_0x2afc9b[_0x536f('0x24')]=_0x2afc9b[_0x536f('0x25')]=_0x2afc9b[_0x536f('0x26')]=_0x2afc9b[_0x536f('0x27')]=_0x2afc9b[_0x536f('0x28')]=_0x2afc9b[_0x536f('0x29')]=_0x2afc9b[_0x536f('0x2a')]=_0x2afc9b[_0x536f('0x2b')]=_0x2afc9b[_0x536f('0x2c')]=_0x2afc9b[_0x536f('0x2d')]=_0x2afc9b[_0x536f('0x2e')]=_0x2afc9b[_0x536f('0x2f')]=_0x2afc9b[_0x536f('0x30')]=_0x2afc9b['coordTransToThree']=_0x2afc9b[_0x536f('0x31')]=void 0x0;var _0x300eda=_0x4740af(0x4e);function _0x51e3bf(_0xb1e8e8){var _0x2afc9b=_0xca4483();return _0x2afc9b['mode']===esmap['MapMode'][_0x536f('0x32')]?_0x2afc9b['getBuilding']():_0x2afc9b['getBuildingById'](_0xb1e8e8);}_0x2afc9b[_0x536f('0x31')]=function(_0xb1e8e8,_0x2afc9b){var _0x4740af=_0xca4483();return{'x':-(_0x4740af[_0x536f('0x33')]['sceneX_']+_0xb1e8e8),'y':_0x2afc9b-_0x4740af[_0x536f('0x33')][_0x536f('0x34')]};},_0x2afc9b[_0x536f('0x35')]=_0xf5b55f,_0x2afc9b[_0x536f('0x30')]=_0x3fc5dc,_0x2afc9b[_0x536f('0x2f')]=function(){return esmap[_0x536f('0x36')][_0x536f('0x37')]()===_0x300eda[_0x536f('0x38')][_0x536f('0x39')][_0x536f('0x3a')];},_0x2afc9b[_0x536f('0x2e')]=function(_0xb1e8e8,_0x2afc9b,_0x4740af){_0x2afc9b=_0xf5b55f(_0x2afc9b['x'],_0x2afc9b['y']);_0xb1e8e8[_0x536f('0x3b')]['set'](_0x2afc9b['x'],_0x4740af,_0x2afc9b['y']);},_0x2afc9b[_0x536f('0x2d')]=_0xca4483,_0x2afc9b[_0x536f('0x2c')]=_0x51e3bf,_0x2afc9b[_0x536f('0x2b')]=function(_0xb1e8e8){var _0x2afc9b=_0xca4483();if(_0x2afc9b[_0x536f('0x1e')]===esmap[_0x536f('0x1f')]['City'])return!0x1;var _0x4740af=_0x51e3bf();return _0x2afc9b[_0x536f('0x3c')]['themeList'][_0x4740af[_0x536f('0x3d')]][_0x536f('0x3e')][_0xb1e8e8];},_0x2afc9b[_0x536f('0x2a')]=function(_0xb1e8e8,_0x2afc9b){return _0xb1e8e8[_0x536f('0x3f')]&&_0xb1e8e8['datas_']['RoomStyle']&&+_0xb1e8e8[_0x536f('0x3f')][_0x536f('0x40')]==+_0x2afc9b?(_0xb1e8e8['material'][0x0]['userData']['index']=0x0,_0xb1e8e8['material'][0x0]):null;},_0x2afc9b['selectCityMapEffectConfigPath']=function(_0xb1e8e8,_0x2afc9b,_0x4740af){return _0x2afc9b[_0x536f('0x41')]&&(_0xb1e8e8['effectId']=_0x2afc9b[_0x536f('0x41')]),_0x2afc9b[_0x536f('0x42')]&&(_0xb1e8e8[_0x536f('0x43')]=_0x2afc9b[_0x536f('0x42')]),0x1!=_0xb1e8e8['options'][_0x536f('0x44')]||_0x4740af?_0xb1e8e8[_0x536f('0x45')]['serverUrl']+'/worldeffect/'+_0xb1e8e8[_0x536f('0x43')]+'/':0x3===_0xb1e8e8[_0x536f('0x45')]['s']?_0xb1e8e8['options'][_0x536f('0x46')]+_0xb1e8e8['id']+_0x536f('0x47')+_0xb1e8e8[_0x536f('0x43')]+'/':_0xb1e8e8['options'][_0x536f('0x48')]+_0x536f('0x49')+_0xb1e8e8['id']+'/worldeffect/'+_0xb1e8e8[_0x536f('0x43')]+'/';},_0x2afc9b[_0x536f('0x28')]=function(_0xb1e8e8,_0x2afc9b){return!!_0x2afc9b[_0x536f('0x4a')]&&''+_0xb1e8e8[_0x536f('0x45')]['mapDataSrc']+_0xb1e8e8['id']+_0x536f('0x4b')+_0x2afc9b[_0x536f('0x4a')]['effectThemeId']+'/';},_0x2afc9b[_0x536f('0x27')]=function(_0xb1e8e8){var _0x2afc9b,_0x4740af,_0xf5b55f=!0x1;return _0xb1e8e8&&-0x1<_0xb1e8e8[_0x536f('0x4c')](_0x536f('0x4d'))&&(_0xf5b55f=!0x0),_0x3fc5dc()?_0xf5b55f?esmap[_0x536f('0x4e')][_0x536f('0x4f')]+_0xb1e8e8:esmap[_0x536f('0x4e')][_0x536f('0x50')]+_0xb1e8e8:(_0x4740af=esmap[_0x536f('0x21')][_0x536f('0x22')],_0x2afc9b=esmap[_0x536f('0x4e')][_0x536f('0x50')],_0x4740af['mapService'][_0x536f('0x51')]('sk')&&!_0xf5b55f&&(_0x2afc9b=esmap[_0x536f('0x4e')][_0x536f('0x52')]?esmap[_0x536f('0x4e')]['options'][_0x536f('0x53')]&&esmap[_0x536f('0x4e')]['options'][_0x536f('0x42')]?esmap['ESEffectTool'][_0x536f('0x45')]['effectThemeSrc']+'/'+esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x42')]+'/':''+_0x4740af[_0x536f('0x45')][_0x536f('0x46')]+_0x4740af['id']+_0x536f('0x4b')+_0x4740af['effectId']+'/':(_0xf5b55f=_0x4740af[_0x536f('0x43')]||esmap[_0x536f('0x4e')]['options'][_0x536f('0x42')],_0x4740af[_0x536f('0x45')]['serverUrl']+'/effects/'+_0xf5b55f+'/')),(_0x2afc9b=(_0x4740af=_0x2afc9b=esmap[_0x536f('0x4e')][_0x536f('0x54')]||_0x2afc9b)[_0x536f('0x55')](/^(https?:\/\/)/)?_0x4740af:_0x4740af[_0x536f('0x56')](/\/\//g,'/'))+_0xb1e8e8);},_0x2afc9b['clearShaderCode']=function(_0xb1e8e8){_0xb1e8e8&&(_0xb1e8e8[_0x536f('0x57')]&&(_0xb1e8e8[_0x536f('0x57')]=''),_0xb1e8e8[_0x536f('0x58')]&&(_0xb1e8e8[_0x536f('0x58')]=''));},_0x2afc9b['directionFromAlphaBeta']=function(_0xb1e8e8,_0x2afc9b){var _0xb1e8e8=_0xb1e8e8/0xb4*Math['PI']+Math['PI']/0x2,_0x2afc9b=-_0x2afc9b/0xb4*Math['PI']+Math['PI']/0x2,_0x4740af=new THREE[(_0x536f('0x59'))](),_0xf5b55f=Math[_0x536f('0x5a')](_0xb1e8e8);return _0x4740af['x']=_0xf5b55f*Math['cos'](_0x2afc9b),_0x4740af['y']=-Math[_0x536f('0x5b')](_0xb1e8e8),_0x4740af['z']=_0xf5b55f*Math['sin'](_0x2afc9b),_0x4740af;},_0x2afc9b[_0x536f('0x24')]=function(){return/macintosh|mac os x/i['test'](navigator[_0x536f('0x5c')]);},_0x2afc9b[_0x536f('0x23')]=function(_0xf5b55f,_0x3fc5dc,_0xca4483){var _0x300eda=void 0x0,_0x51e3bf=void 0x0;if(_0x536f('0x15')!=typeof _0xf5b55f)throw new TypeError(_0x536f('0x5d'));function _0xb1e8e8(){var _0xb1e8e8,_0x2afc9b=this,_0x4740af=arguments;return _0x300eda&&clearTimeout(_0x300eda),_0xca4483?(_0xb1e8e8=!_0x300eda,_0x300eda=setTimeout(function(){_0x300eda=null;},_0x3fc5dc),_0xb1e8e8&&(_0x51e3bf=_0xf5b55f[_0x536f('0x16')](_0x2afc9b,_0x4740af))):_0x300eda=setTimeout(function(){_0xf5b55f['apply'](_0x2afc9b,_0x4740af);},_0x3fc5dc),_0x51e3bf;}return _0x3fc5dc=_0x3fc5dc||0x0,_0xb1e8e8['cannel']=function(){clearTimeout(_0x300eda),_0x300eda=null;},_0xb1e8e8;};},function(_0x36ce73,_0x61af66){_0x36ce73['exports']={};},function(_0x1a6daa,_0x6c2ef2,_0x5f4fb0){var _0x3b9a08=_0x5f4fb0(0x25);_0x1a6daa[_0x536f('0x0')]=function(_0x1a6daa){return Object(_0x3b9a08(_0x1a6daa));};},function(_0x47bd49,_0x2b0219,_0x36f231){var _0x2f3c59=_0x36f231(0x3f),_0x520533=_0x36f231(0x2c);_0x47bd49[_0x536f('0x0')]=Object[_0x536f('0x5e')]||function(_0x47bd49){return _0x2f3c59(_0x47bd49,_0x520533);};},function(_0x20ea42,_0x480024,_0x3fce10){'use strict';var _0x3a0cae=_0x3fce10(0x59)(!0x0);_0x3fce10(0x2f)(String,_0x536f('0x5f'),function(_0x20ea42){this['_t']=String(_0x20ea42),this['_i']=0x0;},function(){var _0x20ea42=this['_t'],_0x480024=this['_i'];return _0x480024>=_0x20ea42[_0x536f('0xd')]?{'value':void 0x0,'done':!0x0}:(_0x20ea42=_0x3a0cae(_0x20ea42,_0x480024),this['_i']+=_0x20ea42[_0x536f('0xd')],{'value':_0x20ea42,'done':!0x1});});},function(_0x2c21ba,_0x4fe2da){_0x2c21ba[_0x536f('0x0')]=!0x0;},function(_0x360cec,_0x56b532,_0x456ad4){_0x360cec['exports']={'default':_0x456ad4(0x91),'__esModule':!0x0};},function(_0x44c928,_0x4038f3){_0x44c928[_0x536f('0x0')]=function(_0x44c928,_0x4038f3){return{'enumerable':!(0x1&_0x44c928),'configurable':!(0x2&_0x44c928),'writable':!(0x4&_0x44c928),'value':_0x4038f3};};},function(_0x50fe48,_0x7956c2){var _0x5622c2={}['toString'];_0x50fe48[_0x536f('0x0')]=function(_0x50fe48){return _0x5622c2['call'](_0x50fe48)[_0x536f('0x60')](0x8,-0x1);};},function(_0x4d396a,_0x434e0c,_0x529f09){var _0x3d0897=_0x529f09(0x8)['f'],_0x1c344a=_0x529f09(0xc),_0x5433db=_0x529f09(0x6)(_0x536f('0x2'));_0x4d396a['exports']=function(_0x4d396a,_0x434e0c,_0x529f09){_0x4d396a&&!_0x1c344a(_0x4d396a=_0x529f09?_0x4d396a:_0x4d396a['prototype'],_0x5433db)&&_0x3d0897(_0x4d396a,_0x5433db,{'configurable':!0x0,'value':_0x434e0c});};},function(_0x1052d9,_0x14e25a,_0x5f0e1d){_0x5f0e1d(0x54);for(var _0x165915=_0x5f0e1d(0x5),_0x2ed083=_0x5f0e1d(0xb),_0x50dd95=_0x5f0e1d(0x12),_0x204595=_0x5f0e1d(0x6)(_0x536f('0x2')),_0x202037=_0x536f('0x61')[_0x536f('0x62')](','),_0x11cd7e=0x0;_0x11cd7e<_0x202037[_0x536f('0xd')];_0x11cd7e++){var _0x4fef08=_0x202037[_0x11cd7e],_0x2f2f42=_0x165915[_0x4fef08],_0x2f2f42=_0x2f2f42&&_0x2f2f42[_0x536f('0x8')];_0x2f2f42&&!_0x2f2f42[_0x204595]&&_0x2ed083(_0x2f2f42,_0x204595,_0x4fef08),_0x50dd95[_0x4fef08]=_0x50dd95[_0x536f('0x63')];}},function(_0xc0a4cc,_0x405e95){var _0xcd9e44=0x0,_0x4f97fa=Math['random']();_0xc0a4cc['exports']=function(_0xc0a4cc){return'Symbol('['concat'](void 0x0===_0xc0a4cc?'':_0xc0a4cc,')_',(++_0xcd9e44+_0x4f97fa)['toString'](0x24));};},function(_0x4d6d99,_0x5bf06d,_0x1f356f){'use strict';_0x5bf06d[_0x536f('0x4')]=!0x0;var _0x1f356f=_0x1f356f(0x29),_0xab997=_0x1f356f&&_0x1f356f[_0x536f('0x4')]?_0x1f356f:{'default':_0x1f356f};_0x5bf06d[_0x536f('0x6')]=function(_0x4d6d99,_0x5bf06d){if(_0x4d6d99)return!_0x5bf06d||_0x536f('0x1c')!==(void 0x0===_0x5bf06d?_0x536f('0x18'):(0x0,_0xab997[_0x536f('0x6')])(_0x5bf06d))&&'function'!=typeof _0x5bf06d?_0x4d6d99:_0x5bf06d;throw new ReferenceError(_0x536f('0x64'));};},function(_0x357da9,_0xe44409,_0x544cb9){'use strict';_0xe44409['__esModule']=!0x0;var _0x1cfc6d=_0x4e7904(_0x544cb9(0x7c)),_0x1d9480=_0x4e7904(_0x544cb9(0x1f)),_0x37b1ab=_0x4e7904(_0x544cb9(0x29));function _0x4e7904(_0x357da9){return _0x357da9&&_0x357da9[_0x536f('0x4')]?_0x357da9:{'default':_0x357da9};}_0xe44409[_0x536f('0x6')]=function(_0x357da9,_0xe44409){if(_0x536f('0x15')!=typeof _0xe44409&&null!==_0xe44409)throw new TypeError(_0x536f('0x65')+(void 0x0===_0xe44409?_0x536f('0x18'):(0x0,_0x37b1ab[_0x536f('0x6')])(_0xe44409)));_0x357da9[_0x536f('0x8')]=(0x0,_0x1d9480[_0x536f('0x6')])(_0xe44409&&_0xe44409['prototype'],{'constructor':{'value':_0x357da9,'enumerable':!0x1,'writable':!0x0,'configurable':!0x0}}),_0xe44409&&(_0x1cfc6d[_0x536f('0x6')]?(0x0,_0x1cfc6d['default'])(_0x357da9,_0xe44409):_0x357da9[_0x536f('0x66')]=_0xe44409);};},function(_0x283c46,_0x499565,_0x2dfec8){_0x283c46[_0x536f('0x0')]={'default':_0x2dfec8(0x68),'__esModule':!0x0};},function(_0x5594d8,_0x3703d1,_0x2b6af9){_0x5594d8[_0x536f('0x0')]={'default':_0x2b6af9(0x93),'__esModule':!0x0};},function(_0x4cc137,_0x2a9279){_0x4cc137[_0x536f('0x0')]=function(_0x4cc137){if(_0x536f('0x15')!=typeof _0x4cc137)throw TypeError(_0x4cc137+_0x536f('0x67'));return _0x4cc137;};},function(_0x16ef97,_0x3a639e,_0x1e013b){function _0x41d230(){}var _0x45b7df=_0x1e013b(0xa),_0x2c0965=_0x1e013b(0x42),_0x5cc343=_0x1e013b(0x2c),_0x5313b3=_0x1e013b(0x28)(_0x536f('0x68')),_0x278e84=_0x536f('0x8'),_0x5bcd16=function(){var _0x16ef97=_0x1e013b(0x30)(_0x536f('0x69')),_0x3a639e=_0x5cc343[_0x536f('0xd')];for(_0x16ef97[_0x536f('0x6a')][_0x536f('0x6b')]=_0x536f('0x6c'),_0x1e013b(0x47)[_0x536f('0x6d')](_0x16ef97),_0x16ef97[_0x536f('0x6e')]='javascript:',(_0x16ef97=_0x16ef97['contentWindow'][_0x536f('0x6f')])['open'](),_0x16ef97[_0x536f('0x70')](_0x536f('0x71')),_0x16ef97[_0x536f('0x72')](),_0x5bcd16=_0x16ef97['F'];_0x3a639e--;)delete _0x5bcd16[_0x278e84][_0x5cc343[_0x3a639e]];return _0x5bcd16();};_0x16ef97[_0x536f('0x0')]=Object[_0x536f('0x5')]||function(_0x16ef97,_0x3a639e){var _0x1e013b;return null!==_0x16ef97?(_0x41d230[_0x278e84]=_0x45b7df(_0x16ef97),_0x1e013b=new _0x41d230(),_0x41d230[_0x278e84]=null,_0x1e013b[_0x5313b3]=_0x16ef97):_0x1e013b=_0x5bcd16(),void 0x0===_0x3a639e?_0x1e013b:_0x2c0965(_0x1e013b,_0x3a639e);};},function(_0x24e325,_0x79742f){_0x79742f['f']={}['propertyIsEnumerable'];},function(_0x4fea9e,_0x9bea3f,_0x424da6){'use strict';Object[_0x536f('0x1')](_0x9bea3f,_0x536f('0x4'),{'value':!0x0}),_0x9bea3f[_0x536f('0x73')]=void 0x0;_0x424da6=_0x424da6(0x10);function _0x375718(){}(0x0,(_0x424da6&&_0x424da6['__esModule']?_0x424da6:{'default':_0x424da6})[_0x536f('0x6')])(_0x375718[_0x536f('0x8')],{'addEventListener':function(_0x4fea9e,_0x9bea3f){void 0x0===this[_0x536f('0x74')]&&(this[_0x536f('0x74')]={});var _0x424da6=this[_0x536f('0x74')];void 0x0===_0x424da6[_0x4fea9e]&&(_0x424da6[_0x4fea9e]=[]),-0x1===_0x424da6[_0x4fea9e][_0x536f('0x4c')](_0x9bea3f)&&_0x424da6[_0x4fea9e]['push'](_0x9bea3f);},'hasEventListener':function(_0x4fea9e,_0x9bea3f){if(void 0x0===this[_0x536f('0x74')])return!0x1;var _0x424da6=this['_listeners'];return void 0x0!==_0x424da6[_0x4fea9e]&&-0x1!==_0x424da6[_0x4fea9e][_0x536f('0x4c')](_0x9bea3f);},'removeEventListener':function(_0x4fea9e,_0x9bea3f){void 0x0!==this['_listeners']&&void 0x0!==(_0x4fea9e=this[_0x536f('0x74')][_0x4fea9e])&&-0x1!==(_0x9bea3f=_0x4fea9e['indexOf'](_0x9bea3f))&&_0x4fea9e[_0x536f('0x75')](_0x9bea3f,0x1);},'dispatchEvent':function(_0x4fea9e){if(void 0x0!==this[_0x536f('0x74')]){var _0x9bea3f=this[_0x536f('0x74')][_0x4fea9e[_0x536f('0x76')]];if(void 0x0!==_0x9bea3f){_0x4fea9e[_0x536f('0x77')]=this;for(var _0x424da6=_0x9bea3f[_0x536f('0x60')](0x0),_0x375718=0x0,_0xf5adff=_0x424da6[_0x536f('0xd')];_0x375718<_0xf5adff;_0x375718++)_0x424da6[_0x375718]['call'](this,_0x4fea9e);}}}}),_0x9bea3f[_0x536f('0x73')]=_0x375718;},function(_0x3748a5,_0x4c23a4){_0x3748a5[_0x536f('0x0')]=function(_0x3748a5){if(null==_0x3748a5)throw TypeError(_0x536f('0x78')+_0x3748a5);return _0x3748a5;};},function(_0x3cfbb8,_0x3fec8b,_0x4dfe14){var _0x229ed6=_0x4dfe14(0xe),_0x34cd5c=_0x4dfe14(0x5d),_0x40231f=_0x4dfe14(0x5e),_0x430207=_0x4dfe14(0xa),_0x36dbf5=_0x4dfe14(0x2a),_0x446fd2=_0x4dfe14(0x3a),_0x28c522={},_0x470eeb={};(_0x3fec8b=_0x3cfbb8['exports']=function(_0x3cfbb8,_0x3fec8b,_0x4dfe14,_0x18f839,_0x2de21b){var _0x2f4953,_0x2d4764,_0x554d03,_0x5d72f1,_0x2de21b=_0x2de21b?function(){return _0x3cfbb8;}:_0x446fd2(_0x3cfbb8),_0x2931df=_0x229ed6(_0x4dfe14,_0x18f839,_0x3fec8b?0x2:0x1),_0x18cb64=0x0;if(_0x536f('0x15')!=typeof _0x2de21b)throw TypeError(_0x3cfbb8+'\x20is\x20not\x20iterable!');if(_0x40231f(_0x2de21b)){for(_0x2f4953=_0x36dbf5(_0x3cfbb8[_0x536f('0xd')]);_0x18cb64<_0x2f4953;_0x18cb64++)if((_0x5d72f1=_0x3fec8b?_0x2931df(_0x430207(_0x2d4764=_0x3cfbb8[_0x18cb64])[0x0],_0x2d4764[0x1]):_0x2931df(_0x3cfbb8[_0x18cb64]))===_0x28c522||_0x5d72f1===_0x470eeb)return _0x5d72f1;}else for(_0x554d03=_0x2de21b[_0x536f('0xa')](_0x3cfbb8);!(_0x2d4764=_0x554d03[_0x536f('0x79')]())[_0x536f('0x7a')];)if((_0x5d72f1=_0x34cd5c(_0x554d03,_0x2931df,_0x2d4764[_0x536f('0x10')],_0x3fec8b))===_0x28c522||_0x5d72f1===_0x470eeb)return _0x5d72f1;})[_0x536f('0x7b')]=_0x28c522,_0x3fec8b['RETURN']=_0x470eeb;},function(_0x2e0e4f,_0x5eb5f0){var _0x5944ff=Math['ceil'],_0x1c6bd2=Math[_0x536f('0x7c')];_0x2e0e4f['exports']=function(_0x2e0e4f){return isNaN(_0x2e0e4f=+_0x2e0e4f)?0x0:(0x0<_0x2e0e4f?_0x1c6bd2:_0x5944ff)(_0x2e0e4f);};},function(_0x4e7777,_0x550a3c,_0x55737f){var _0xe48863=_0x55737f(0x2b)('keys'),_0x38524e=_0x55737f(0x1c);_0x4e7777['exports']=function(_0x4e7777){return _0xe48863[_0x4e7777]||(_0xe48863[_0x4e7777]=_0x38524e(_0x4e7777));};},function(_0x50f3ec,_0x2b58d3,_0x5c6070){'use strict';_0x2b58d3[_0x536f('0x4')]=!0x0;var _0x2b0d1a=_0x49fc22(_0x5c6070(0x5c)),_0x11c61b=_0x49fc22(_0x5c6070(0x4a)),_0x573d5c='function'==typeof _0x11c61b[_0x536f('0x6')]&&'symbol'==typeof _0x2b0d1a[_0x536f('0x6')]?function(_0x50f3ec){return typeof _0x50f3ec;}:function(_0x50f3ec){return _0x50f3ec&&_0x536f('0x15')==typeof _0x11c61b[_0x536f('0x6')]&&_0x50f3ec[_0x536f('0x7d')]===_0x11c61b[_0x536f('0x6')]&&_0x50f3ec!==_0x11c61b['default'][_0x536f('0x8')]?'symbol':typeof _0x50f3ec;};function _0x49fc22(_0x50f3ec){return _0x50f3ec&&_0x50f3ec[_0x536f('0x4')]?_0x50f3ec:{'default':_0x50f3ec};}_0x2b58d3['default']='function'==typeof _0x11c61b[_0x536f('0x6')]&&_0x536f('0x7e')===_0x573d5c(_0x2b0d1a['default'])?function(_0x50f3ec){return void 0x0===_0x50f3ec?_0x536f('0x18'):_0x573d5c(_0x50f3ec);}:function(_0x50f3ec){return _0x50f3ec&&_0x536f('0x15')==typeof _0x11c61b['default']&&_0x50f3ec['constructor']===_0x11c61b[_0x536f('0x6')]&&_0x50f3ec!==_0x11c61b[_0x536f('0x6')][_0x536f('0x8')]?'symbol':void 0x0===_0x50f3ec?'undefined':_0x573d5c(_0x50f3ec);};},function(_0x4999f3,_0x13d60a,_0x30ae1e){var _0x2dd78e=_0x30ae1e(0x27),_0x2b516c=Math[_0x536f('0x7f')];_0x4999f3[_0x536f('0x0')]=function(_0x4999f3){return 0x0<_0x4999f3?_0x2b516c(_0x2dd78e(_0x4999f3),0x1fffffffffffff):0x0;};},function(_0x56306b,_0x377b16,_0x373b10){var _0x351800=_0x373b10(0x2),_0x4b981b=_0x373b10(0x5),_0x325d40=_0x536f('0x80'),_0x3b0a86=_0x4b981b[_0x325d40]||(_0x4b981b[_0x325d40]={});(_0x56306b[_0x536f('0x0')]=function(_0x56306b,_0x377b16){return _0x3b0a86[_0x56306b]||(_0x3b0a86[_0x56306b]=void 0x0!==_0x377b16?_0x377b16:{});})(_0x536f('0x81'),[])[_0x536f('0x82')]({'version':_0x351800['version'],'mode':_0x373b10(0x16)?_0x536f('0x83'):_0x536f('0x84'),'copyright':_0x536f('0x85')});},function(_0xd1cfb0,_0x1c1987){_0xd1cfb0['exports']=_0x536f('0x86')[_0x536f('0x62')](',');},function(_0x1751b,_0x35c7ea,_0x2d3234){var _0x3eb04a=_0x2d3234(0x19),_0x292faf=_0x2d3234(0x6)('toStringTag'),_0x54774f=_0x536f('0x87')==_0x3eb04a(function(){return arguments;}());_0x1751b[_0x536f('0x0')]=function(_0x1751b){var _0x35c7ea;return void 0x0===_0x1751b?_0x536f('0x88'):null===_0x1751b?_0x536f('0x89'):_0x536f('0x8a')==typeof(_0x35c7ea=function(_0x1751b,_0x35c7ea){try{return _0x1751b[_0x35c7ea];}catch(_0x450d16){}}(_0x1751b=Object(_0x1751b),_0x292faf))?_0x35c7ea:_0x54774f?_0x3eb04a(_0x1751b):_0x536f('0x8b')==(_0x35c7ea=_0x3eb04a(_0x1751b))&&_0x536f('0x15')==typeof _0x1751b[_0x536f('0x8c')]?_0x536f('0x87'):_0x35c7ea;};},function(_0x231223,_0xf2ec97,_0x1a7b5d){var _0xfec606=_0x1a7b5d(0x9);_0x231223[_0x536f('0x0')]=function(_0x231223,_0xf2ec97){if(!_0xfec606(_0x231223))return _0x231223;var _0x1a7b5d,_0x56cc4a;if(_0xf2ec97&&_0x536f('0x15')==typeof(_0x1a7b5d=_0x231223[_0x536f('0x8d')])&&!_0xfec606(_0x56cc4a=_0x1a7b5d[_0x536f('0xa')](_0x231223)))return _0x56cc4a;if(_0x536f('0x15')==typeof(_0x1a7b5d=_0x231223[_0x536f('0x8e')])&&!_0xfec606(_0x56cc4a=_0x1a7b5d[_0x536f('0xa')](_0x231223)))return _0x56cc4a;if(_0xf2ec97||_0x536f('0x15')!=typeof(_0x1a7b5d=_0x231223[_0x536f('0x8d')])||_0xfec606(_0x56cc4a=_0x1a7b5d[_0x536f('0xa')](_0x231223)))throw TypeError('Can\x27t\x20convert\x20object\x20to\x20primitive\x20value');return _0x56cc4a;};},function(_0x4a88c1,_0x3eb970,_0x18126d){'use strict';function _0x4015e0(){return this;}var _0x1a6cde=_0x18126d(0x16),_0x1189c7=_0x18126d(0x3),_0x41610e=_0x18126d(0x3e),_0x5e3e8f=_0x18126d(0xb),_0x268312=_0x18126d(0x12),_0x3b656f=_0x18126d(0x56),_0x1cabd3=_0x18126d(0x1a),_0x278d54=_0x18126d(0x48),_0x17df1c=_0x18126d(0x6)(_0x536f('0x8f')),_0x35758c=!([][_0x536f('0x5e')]&&'next'in[]['keys']()),_0x3a80a5=_0x536f('0x90');_0x4a88c1[_0x536f('0x0')]=function(_0x4a88c1,_0x3eb970,_0x18126d,_0x50647c,_0x3daa8e,_0x58b8d1,_0x39aab3){function _0x391ff3(_0x4a88c1){if(!_0x35758c&&_0x4a88c1 in _0x3c5b30)return _0x3c5b30[_0x4a88c1];switch(_0x4a88c1){case'keys':case _0x3a80a5:return function(){return new _0x18126d(this,_0x4a88c1);};}return function(){return new _0x18126d(this,_0x4a88c1);};}_0x3b656f(_0x18126d,_0x3eb970,_0x50647c);var _0x305643,_0x1bfd54,_0x50647c=_0x3eb970+_0x536f('0x91'),_0x200213=_0x3daa8e==_0x3a80a5,_0x1709aa=!0x1,_0x3c5b30=_0x4a88c1[_0x536f('0x8')],_0x1cbfb7=_0x3c5b30[_0x17df1c]||_0x3c5b30['@@iterator']||_0x3daa8e&&_0x3c5b30[_0x3daa8e],_0x427c13=_0x1cbfb7||_0x391ff3(_0x3daa8e),_0x596dba=_0x3daa8e?_0x200213?_0x391ff3('entries'):_0x427c13:void 0x0,_0x4f78b0=_0x536f('0x63')==_0x3eb970&&_0x3c5b30['entries']||_0x1cbfb7;if(_0x4f78b0&&(_0x4f78b0=_0x278d54(_0x4f78b0['call'](new _0x4a88c1())))!==Object['prototype']&&_0x4f78b0[_0x536f('0x79')]&&(_0x1cabd3(_0x4f78b0,_0x50647c,!0x0),_0x1a6cde||_0x536f('0x15')==typeof _0x4f78b0[_0x17df1c]||_0x5e3e8f(_0x4f78b0,_0x17df1c,_0x4015e0)),_0x200213&&_0x1cbfb7&&_0x1cbfb7[_0x536f('0x92')]!==_0x3a80a5&&(_0x1709aa=!0x0,_0x427c13=function(){return _0x1cbfb7['call'](this);}),_0x1a6cde&&!_0x39aab3||!_0x35758c&&!_0x1709aa&&_0x3c5b30[_0x17df1c]||_0x5e3e8f(_0x3c5b30,_0x17df1c,_0x427c13),_0x268312[_0x3eb970]=_0x427c13,_0x268312[_0x50647c]=_0x4015e0,_0x3daa8e)if(_0x305643={'values':_0x200213?_0x427c13:_0x391ff3(_0x3a80a5),'keys':_0x58b8d1?_0x427c13:_0x391ff3(_0x536f('0x5e')),'entries':_0x596dba},_0x39aab3)for(_0x1bfd54 in _0x305643)_0x1bfd54 in _0x3c5b30||_0x41610e(_0x3c5b30,_0x1bfd54,_0x305643[_0x1bfd54]);else _0x1189c7(_0x1189c7['P']+_0x1189c7['F']*(_0x35758c||_0x1709aa),_0x3eb970,_0x305643);return _0x305643;};},function(_0x3ea985,_0x36b55e,_0x144b31){var _0x23a67d=_0x144b31(0x9),_0x48033c=_0x144b31(0x5)[_0x536f('0x6f')],_0xc832a4=_0x23a67d(_0x48033c)&&_0x23a67d(_0x48033c[_0x536f('0x93')]);_0x3ea985[_0x536f('0x0')]=function(_0x3ea985){return _0xc832a4?_0x48033c[_0x536f('0x93')](_0x3ea985):{};};},function(_0x14c794,_0x3a2942,_0x160c10){var _0x17e4f3=_0x160c10(0x19);_0x14c794[_0x536f('0x0')]=Object('z')['propertyIsEnumerable'](0x0)?Object:function(_0x14c794){return _0x536f('0x5f')==_0x17e4f3(_0x14c794)?_0x14c794[_0x536f('0x62')](''):Object(_0x14c794);};},function(_0x53c492,_0x2e3279,_0x4cfbe3){'use strict';Object[_0x536f('0x1')](_0x2e3279,_0x536f('0x4'),{'value':!0x0}),_0x2e3279[_0x536f('0x94')]=_0x2e3279['ModelGradient']=_0x2e3279[_0x536f('0x95')]=_0x2e3279[_0x536f('0x96')]=_0x2e3279[_0x536f('0x97')]=_0x2e3279['ModelFresnelEffect']=_0x2e3279[_0x536f('0x98')]=_0x2e3279[_0x536f('0x99')]=_0x2e3279['GroundBlend']=_0x2e3279[_0x536f('0x9a')]=_0x2e3279[_0x536f('0x9b')]=_0x2e3279[_0x536f('0x9c')]=_0x2e3279[_0x536f('0x9d')]=_0x2e3279[_0x536f('0x9e')]=_0x2e3279[_0x536f('0x9f')]=_0x2e3279[_0x536f('0xa0')]=_0x2e3279[_0x536f('0xa1')]=_0x2e3279[_0x536f('0xa2')]=_0x2e3279[_0x536f('0xa3')]=_0x2e3279['PlaneCrossLine']=_0x2e3279['MulripleMeshLine']=_0x2e3279[_0x536f('0xa4')]=_0x2e3279['Explosion']=_0x2e3279[_0x536f('0xa5')]=_0x2e3279[_0x536f('0xa6')]=_0x2e3279[_0x536f('0xa7')]=_0x2e3279['SmokeSpread']=_0x2e3279[_0x536f('0xa8')]=_0x2e3279[_0x536f('0xa9')]=_0x2e3279[_0x536f('0xaa')]=_0x2e3279[_0x536f('0xab')]=_0x2e3279['PlaneTerrainEffect']=_0x2e3279['PlaneFogEffect']=_0x2e3279[_0x536f('0xac')]=_0x2e3279['EdgeLineEffect']=_0x2e3279[_0x536f('0xad')]=_0x2e3279[_0x536f('0xae')]=_0x2e3279[_0x536f('0xaf')]=_0x2e3279[_0x536f('0xb0')]=_0x2e3279['ConeSpreadEffect']=_0x2e3279[_0x536f('0xb1')]=_0x2e3279['CircleRippleEffect']=_0x2e3279['SpriteUvAnimation']=_0x2e3279['ModelUvAnimation']=_0x2e3279[_0x536f('0xb2')]=_0x2e3279[_0x536f('0xb3')]=_0x2e3279[_0x536f('0xb4')]=_0x2e3279[_0x536f('0xb5')]=_0x2e3279[_0x536f('0xb6')]=_0x2e3279[_0x536f('0xb7')]=_0x2e3279['HeatMapEffect']=_0x2e3279[_0x536f('0xb8')]=_0x2e3279[_0x536f('0xb9')]=_0x2e3279[_0x536f('0xba')]=_0x2e3279[_0x536f('0xbb')]=_0x2e3279[_0x536f('0xbc')]=_0x2e3279[_0x536f('0xbd')]=void 0x0;var _0x322dbd=_0x52a697(_0x4cfbe3(0xb2)),_0x55477a=_0x52a697(_0x4cfbe3(0xb3)),_0x170c4c=_0x52a697(_0x4cfbe3(0xb4)),_0x4b3e75=_0x52a697(_0x4cfbe3(0xa4)),_0x11eaeb=_0x52a697(_0x4cfbe3(0x90)),_0x2d8588=_0x52a697(_0x4cfbe3(0xd0)),_0x559f20=_0x52a697(_0x4cfbe3(0xd1)),_0x20d1de=_0x52a697(_0x4cfbe3(0x7b)),_0x28a528=_0x52a697(_0x4cfbe3(0xd2)),_0x180926=_0x52a697(_0x4cfbe3(0xd3)),_0x1430c6=_0x52a697(_0x4cfbe3(0xd4)),_0x648ae6=_0x52a697(_0x4cfbe3(0xb1)),_0x125627=_0x52a697(_0x4cfbe3(0xd5)),_0x391d6d=_0x52a697(_0x4cfbe3(0xd6)),_0xaa3d73=_0x52a697(_0x4cfbe3(0xd7)),_0x1f5e72=_0x52a697(_0x4cfbe3(0xa5)),_0xfcec65=_0x52a697(_0x4cfbe3(0xd8)),_0x24ce23=_0x52a697(_0x4cfbe3(0xd9)),_0x24e2d8=_0x52a697(_0x4cfbe3(0xa7)),_0x5c9f5b=_0x52a697(_0x4cfbe3(0xa6)),_0x7d09f9=_0x52a697(_0x4cfbe3(0xda)),_0x1da87d=_0x52a697(_0x4cfbe3(0xdb)),_0x502489=_0x52a697(_0x4cfbe3(0xdc)),_0x7fe131=_0x52a697(_0x4cfbe3(0xdd)),_0x1ac1fd=_0x52a697(_0x4cfbe3(0xde)),_0x1c1646=_0x52a697(_0x4cfbe3(0xdf)),_0x18c88c=_0x52a697(_0x4cfbe3(0xe0)),_0x40b37f=_0x52a697(_0x4cfbe3(0xe1)),_0x234d61=_0x52a697(_0x4cfbe3(0xa8)),_0x5de505=_0x52a697(_0x4cfbe3(0xe2)),_0x44506f=_0x52a697(_0x4cfbe3(0xe3)),_0xab1520=_0x52a697(_0x4cfbe3(0xe4)),_0x961fb6=_0x52a697(_0x4cfbe3(0xa9)),_0x3b31cf=_0x52a697(_0x4cfbe3(0xe5)),_0x310059=_0x52a697(_0x4cfbe3(0xe6)),_0x335e8e=_0x52a697(_0x4cfbe3(0xe7)),_0x380ee6=_0x52a697(_0x4cfbe3(0x8e)),_0x57e4c3=_0x52a697(_0x4cfbe3(0xe8)),_0x44a211=_0x52a697(_0x4cfbe3(0xe9)),_0xdecf5b=_0x52a697(_0x4cfbe3(0xee)),_0x802c7e=_0x52a697(_0x4cfbe3(0xef)),_0xc955e9=_0x52a697(_0x4cfbe3(0xf1)),_0x26a007=_0x52a697(_0x4cfbe3(0xf2)),_0x343126=_0x52a697(_0x4cfbe3(0xf3)),_0x56865d=_0x52a697(_0x4cfbe3(0xf4)),_0x4ed6af=_0x52a697(_0x4cfbe3(0x78)),_0x58e589=_0x52a697(_0x4cfbe3(0xf5)),_0x3ac70e=_0x52a697(_0x4cfbe3(0xf6)),_0x2bd81c=_0x52a697(_0x4cfbe3(0xfa)),_0x5cf0c9=_0x52a697(_0x4cfbe3(0xfb)),_0x80aa80=_0x52a697(_0x4cfbe3(0xfc)),_0x5c98a8=_0x52a697(_0x4cfbe3(0xfd)),_0x2f56e1=_0x52a697(_0x4cfbe3(0xfe)),_0x41b27b=_0x52a697(_0x4cfbe3(0xff)),_0x58a8fa=_0x52a697(_0x4cfbe3(0x100)),_0x1e8f21=_0x52a697(_0x4cfbe3(0x101)),_0x4cfbe3=_0x52a697(_0x4cfbe3(0x102));function _0x52a697(_0x2e3279){return _0x2e3279&&_0x2e3279[_0x536f('0x4')]?_0x2e3279:{'default':_0x2e3279};}_0x2e3279[_0x536f('0xbd')]=_0x55477a[_0x536f('0x6')],_0x2e3279[_0x536f('0xbc')]=_0x322dbd[_0x536f('0x6')],_0x2e3279[_0x536f('0xbb')]=_0x170c4c['default'],_0x2e3279[_0x536f('0xba')]=_0x4b3e75['default'],_0x2e3279[_0x536f('0xb9')]=_0x11eaeb[_0x536f('0x6')],_0x2e3279[_0x536f('0xb8')]=_0x2d8588[_0x536f('0x6')],_0x2e3279[_0x536f('0xbe')]=_0x559f20[_0x536f('0x6')],_0x2e3279['CameraFlyTo']=_0x20d1de[_0x536f('0x6')],_0x2e3279[_0x536f('0xb6')]=_0x28a528[_0x536f('0x6')],_0x2e3279[_0x536f('0xb5')]=_0x180926[_0x536f('0x6')],_0x2e3279[_0x536f('0xb4')]=_0x1430c6[_0x536f('0x6')],_0x2e3279[_0x536f('0xb3')]=_0x648ae6[_0x536f('0x6')],_0x2e3279[_0x536f('0xb2')]=_0x125627['default'],_0x2e3279[_0x536f('0xbf')]=_0x391d6d['default'],_0x2e3279['SpriteUvAnimation']=_0xaa3d73[_0x536f('0x6')],_0x2e3279[_0x536f('0xc0')]=_0x1f5e72[_0x536f('0x6')],_0x2e3279[_0x536f('0xb1')]=_0xfcec65['default'],_0x2e3279[_0x536f('0xc1')]=_0x24ce23[_0x536f('0x6')],_0x2e3279[_0x536f('0xb0')]=_0x24e2d8['default'],_0x2e3279[_0x536f('0xaf')]=_0x5c9f5b[_0x536f('0x6')],_0x2e3279[_0x536f('0xae')]=_0x7d09f9[_0x536f('0x6')],_0x2e3279[_0x536f('0xad')]=_0x1da87d['default'],_0x2e3279[_0x536f('0xc2')]=_0x502489[_0x536f('0x6')],_0x2e3279[_0x536f('0xac')]=_0x7fe131[_0x536f('0x6')],_0x2e3279[_0x536f('0xc3')]=_0x1ac1fd[_0x536f('0x6')],_0x2e3279[_0x536f('0xc4')]=_0x1c1646['default'],_0x2e3279[_0x536f('0xab')]=_0x18c88c[_0x536f('0x6')],_0x2e3279[_0x536f('0xaa')]=_0x40b37f['default'],_0x2e3279[_0x536f('0xa9')]=_0x234d61[_0x536f('0x6')],_0x2e3279[_0x536f('0xa8')]=_0x5de505['default'],_0x2e3279[_0x536f('0xc5')]=_0x44506f[_0x536f('0x6')],_0x2e3279['Fire']=_0xab1520['default'],_0x2e3279[_0x536f('0xa6')]=_0x961fb6[_0x536f('0x6')],_0x2e3279[_0x536f('0xa5')]=_0x3b31cf[_0x536f('0x6')],_0x2e3279[_0x536f('0xc6')]=_0x310059['default'],_0x2e3279[_0x536f('0xa4')]=_0x335e8e[_0x536f('0x6')],_0x2e3279[_0x536f('0xc7')]=_0x380ee6[_0x536f('0x6')],_0x2e3279['PlaneCrossLine']=_0x57e4c3[_0x536f('0x6')],_0x2e3279['EnvTextureLoader']=_0x44a211[_0x536f('0x6')],_0x2e3279['WaterShape']=_0xdecf5b[_0x536f('0x6')],_0x2e3279[_0x536f('0xa1')]=_0x802c7e[_0x536f('0x6')],_0x2e3279[_0x536f('0xa0')]=_0xc955e9[_0x536f('0x6')],_0x2e3279[_0x536f('0x9f')]=_0x26a007[_0x536f('0x6')],_0x2e3279[_0x536f('0x9e')]=_0x343126[_0x536f('0x6')],_0x2e3279[_0x536f('0x9d')]=_0x56865d[_0x536f('0x6')],_0x2e3279['TextureUvAnimation']=_0x4ed6af[_0x536f('0x6')],_0x2e3279['ESInstanceMesh']=_0x58e589[_0x536f('0x6')],_0x2e3279[_0x536f('0x9a')]=_0x3ac70e[_0x536f('0x6')],_0x2e3279[_0x536f('0xc8')]=_0x2bd81c[_0x536f('0x6')],_0x2e3279[_0x536f('0x99')]=_0x5cf0c9[_0x536f('0x6')],_0x2e3279['ModelLightBlend']=_0x80aa80[_0x536f('0x6')],_0x2e3279[_0x536f('0xc9')]=_0x5c98a8[_0x536f('0x6')],_0x2e3279[_0x536f('0x97')]=_0x2f56e1[_0x536f('0x6')],_0x2e3279[_0x536f('0x96')]=_0x41b27b['default'],_0x2e3279[_0x536f('0x95')]=_0x58a8fa['default'],_0x2e3279[_0x536f('0xca')]=_0x1e8f21[_0x536f('0x6')],_0x2e3279['ModelFloatShake']=_0x4cfbe3['default'];},function(_0x781f13,_0x457747,_0xe16ad8){_0x457747['f']=_0xe16ad8(0x6);},function(_0xe4306c,_0x4020e4,_0x58434c){var _0x5c2f16=_0x58434c(0x5),_0x1e5787=_0x58434c(0x2),_0x375391=_0x58434c(0x16),_0x2be0c9=_0x58434c(0x33),_0x1860cc=_0x58434c(0x8)['f'];_0xe4306c[_0x536f('0x0')]=function(_0xe4306c){var _0x4020e4=_0x1e5787[_0x536f('0xcb')]||(_0x1e5787[_0x536f('0xcb')]=!_0x375391&&_0x5c2f16[_0x536f('0xcb')]||{});'_'==_0xe4306c['charAt'](0x0)||_0xe4306c in _0x4020e4||_0x1860cc(_0x4020e4,_0xe4306c,{'value':_0x2be0c9['f'](_0xe4306c)});};},function(_0x12aa00,_0x25b93b){_0x25b93b['f']=Object[_0x536f('0xcc')];},function(_0x40bca4,_0x2b4f28){},function(_0x2af4ec,_0x480fdf,_0x91ab8b){'use strict';function _0x9df22(_0x2af4ec){_0x2af4ec&&(_0x2af4ec[_0x536f('0xcd')]?_0x2af4ec[_0x536f('0xcd')]():(_0x2af4ec['material']&&(_0x2af4ec[_0x536f('0xce')][_0x536f('0xcf')]&&(_0x2af4ec[_0x536f('0xce')]['map'][_0x536f('0xcd')](),_0x2af4ec[_0x536f('0xce')][_0x536f('0xcf')]=null),_0x2af4ec[_0x536f('0xce')]['dispose'](),_0x2af4ec[_0x536f('0xce')]=null),_0x2af4ec[_0x536f('0xd0')]&&(_0x2af4ec['geometry'][_0x536f('0xcd')](),_0x2af4ec['geometry']=null)));}function _0x3fdd9b(_0x2af4ec){var _0x480fdf=[];_0x2af4ec['traverse'](function(_0x2af4ec){_0x480fdf[_0x536f('0x82')](_0x2af4ec);});for(var _0x91ab8b=0x0,_0x3fdd9b=_0x480fdf[_0x536f('0xd')];_0x91ab8b<_0x3fdd9b;_0x91ab8b++)_0x2af4ec[_0x536f('0xd1')](_0x480fdf[_0x91ab8b]),_0x9df22(_0x480fdf[_0x91ab8b]);_0x480fdf=null;}Object[_0x536f('0x1')](_0x480fdf,'__esModule',{'value':!0x0}),_0x480fdf[_0x536f('0x6')]={'disposeAll':function(_0x2af4ec){_0x3fdd9b(_0x2af4ec),_0x2af4ec[_0x536f('0xd2')][_0x536f('0xd1')](_0x2af4ec),_0x9df22(_0x2af4ec);},'disposeChilds':_0x3fdd9b,'dispseMesh':_0x9df22};},function(_0x1a372e,_0x4cbf4d,_0x2fe197){_0x1a372e[_0x536f('0x0')]={'default':_0x2fe197(0x51),'__esModule':!0x0};},function(_0x3e146c,_0x1575f3,_0x2c0ac8){function _0x2aa914(_0x3e146c){_0x561a0f(_0x3e146c,_0x507369,{'value':{'i':'O'+ ++_0x279fb3,'w':{}}});}var _0x507369=_0x2c0ac8(0x1c)(_0x536f('0xd3')),_0x1ce822=_0x2c0ac8(0x9),_0x148f5a=_0x2c0ac8(0xc),_0x561a0f=_0x2c0ac8(0x8)['f'],_0x279fb3=0x0,_0x15e0f6=Object[_0x536f('0xd4')]||function(){return!0x0;},_0x54c053=!_0x2c0ac8(0xd)(function(){return _0x15e0f6(Object['preventExtensions']({}));}),_0x244897=_0x3e146c[_0x536f('0x0')]={'KEY':_0x507369,'NEED':!0x1,'fastKey':function(_0x3e146c,_0x1575f3){if(!_0x1ce822(_0x3e146c))return _0x536f('0x7e')==typeof _0x3e146c?_0x3e146c:(_0x536f('0x8a')==typeof _0x3e146c?'S':'P')+_0x3e146c;if(!_0x148f5a(_0x3e146c,_0x507369)){if(!_0x15e0f6(_0x3e146c))return'F';if(!_0x1575f3)return'E';_0x2aa914(_0x3e146c);}return _0x3e146c[_0x507369]['i'];},'getWeak':function(_0x3e146c,_0x1575f3){if(!_0x148f5a(_0x3e146c,_0x507369)){if(!_0x15e0f6(_0x3e146c))return!0x0;if(!_0x1575f3)return!0x1;_0x2aa914(_0x3e146c);}return _0x3e146c[_0x507369]['w'];},'onFreeze':function(_0x3e146c){return _0x54c053&&_0x244897[_0x536f('0xd5')]&&_0x15e0f6(_0x3e146c)&&!_0x148f5a(_0x3e146c,_0x507369)&&_0x2aa914(_0x3e146c),_0x3e146c;}};},function(_0xebc001,_0x41d13d,_0x40834b){var _0x56401c=_0x40834b(0x2d),_0x572434=_0x40834b(0x6)(_0x536f('0x8f')),_0x360e30=_0x40834b(0x12);_0xebc001[_0x536f('0x0')]=_0x40834b(0x2)['getIteratorMethod']=function(_0xebc001){if(null!=_0xebc001)return _0xebc001[_0x572434]||_0xebc001['@@iterator']||_0x360e30[_0x56401c(_0xebc001)];};},function(_0x5cf460,_0x398e44,_0x13e628){'use strict';var _0x1cbe5e,_0x1247a6=_0x46bd1a(_0x13e628(0x38)),_0x199cdb=_0x46bd1a(_0x13e628(0x3c)),_0x7c2a46=_0x46bd1a(_0x13e628(0x29));function _0x46bd1a(_0x5cf460){return _0x5cf460&&_0x5cf460[_0x536f('0x4')]?_0x5cf460:{'default':_0x5cf460};}var _0x5a5205,_0x541ede,_0x541db2,_0x2b029b,_0x5dd6dc,_0xfe3a9b,_0x212450,_0x59cde9={'distributions':{'BOX':0x1,'SPHERE':0x2,'DISC':0x3},'valueOverLifetimeLength':0x4};void 0x0!==(_0x13e628='function'==typeof(_0x1cbe5e=_0x59cde9)?_0x1cbe5e[_0x536f('0xa')](_0x398e44,_0x13e628,_0x398e44,_0x5cf460):_0x1cbe5e)&&(_0x5cf460[_0x536f('0x0')]=_0x13e628),_0x59cde9['TypedArrayHelper']=function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e){this[_0x536f('0xd6')]=_0x13e628||0x1,this[_0x536f('0xd7')]=_0x398e44||0x1,this['TypedArrayConstructor']=_0x5cf460||Float32Array,this[_0x536f('0xd8')]=new _0x5cf460(_0x398e44*this[_0x536f('0xd6')]),this['indexOffset']=_0x1cbe5e||0x0;},_0x59cde9['TypedArrayHelper'][_0x536f('0x7d')]=_0x59cde9[_0x536f('0xd9')],_0x59cde9[_0x536f('0xd9')]['prototype'][_0x536f('0xda')]=function(_0x5cf460,_0x398e44){var _0x13e628=this[_0x536f('0xd8')][_0x536f('0xd')];return _0x398e44||(_0x5cf460*=this[_0x536f('0xd6')]),_0x5cf460<_0x13e628?this[_0x536f('0xdb')](_0x5cf460):_0x13e628<_0x5cf460?this['grow'](_0x5cf460):void console[_0x536f('0xdc')](_0x536f('0xdd'),_0x5cf460+'.','Will\x20not\x20resize.');},_0x59cde9['TypedArrayHelper'][_0x536f('0x8')]['shrink']=function(_0x5cf460){return this['array']=this[_0x536f('0xd8')][_0x536f('0xde')](0x0,_0x5cf460),this[_0x536f('0xd7')]=_0x5cf460,this;},_0x59cde9[_0x536f('0xd9')][_0x536f('0x8')][_0x536f('0xdf')]=function(_0x5cf460){var _0x398e44=this['array'],_0x13e628=new this[(_0x536f('0xe0'))](_0x5cf460);return _0x13e628[_0x536f('0x1b')](_0x398e44),this[_0x536f('0xd8')]=_0x13e628,this[_0x536f('0xd7')]=_0x5cf460,this;},_0x59cde9['TypedArrayHelper'][_0x536f('0x8')][_0x536f('0x75')]=function(_0x5cf460,_0x398e44){_0x5cf460*=this[_0x536f('0xd6')],_0x398e44*=this[_0x536f('0xd6')];for(var _0x13e628=[],_0x1cbe5e=this['array'],_0x1247a6=_0x1cbe5e[_0x536f('0xd')],_0x199cdb=0x0;_0x199cdb<_0x1247a6;++_0x199cdb)(_0x199cdb<_0x5cf460||_0x398e44<=_0x199cdb)&&_0x13e628[_0x536f('0x82')](_0x1cbe5e[_0x199cdb]);return this[_0x536f('0xe1')](0x0,_0x13e628),this;},_0x59cde9[_0x536f('0xd9')][_0x536f('0x8')][_0x536f('0xe1')]=function(_0x5cf460,_0x398e44){var _0x13e628=_0x5cf460+_0x398e44['length'];return _0x13e628>this[_0x536f('0xd8')][_0x536f('0xd')]?this['grow'](_0x13e628):_0x13e628<this[_0x536f('0xd8')][_0x536f('0xd')]&&this[_0x536f('0xdb')](_0x13e628),this[_0x536f('0xd8')]['set'](_0x398e44,this[_0x536f('0xe2')]+_0x5cf460),this;},_0x59cde9['TypedArrayHelper']['prototype']['setVec2']=function(_0x5cf460,_0x398e44){return this[_0x536f('0xe3')](_0x5cf460,_0x398e44['x'],_0x398e44['y']);},_0x59cde9[_0x536f('0xd9')]['prototype'][_0x536f('0xe3')]=function(_0x5cf460,_0x398e44,_0x13e628){var _0x1cbe5e=this[_0x536f('0xd8')],_0x5cf460=this[_0x536f('0xe2')]+_0x5cf460*this['componentSize'];return _0x1cbe5e[_0x5cf460]=_0x398e44,_0x1cbe5e[_0x5cf460+0x1]=_0x13e628,this;},_0x59cde9['TypedArrayHelper'][_0x536f('0x8')][_0x536f('0xe4')]=function(_0x5cf460,_0x398e44){return this[_0x536f('0xe5')](_0x5cf460,_0x398e44['x'],_0x398e44['y'],_0x398e44['z']);},_0x59cde9['TypedArrayHelper'][_0x536f('0x8')]['setVec3Components']=function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e){var _0x1247a6=this[_0x536f('0xd8')],_0x5cf460=this[_0x536f('0xe2')]+_0x5cf460*this[_0x536f('0xd6')];return _0x1247a6[_0x5cf460]=_0x398e44,_0x1247a6[_0x5cf460+0x1]=_0x13e628,_0x1247a6[_0x5cf460+0x2]=_0x1cbe5e,this;},_0x59cde9[_0x536f('0xd9')][_0x536f('0x8')][_0x536f('0xe6')]=function(_0x5cf460,_0x398e44){return this['setVec4Components'](_0x5cf460,_0x398e44['x'],_0x398e44['y'],_0x398e44['z'],_0x398e44['w']);},_0x59cde9[_0x536f('0xd9')][_0x536f('0x8')]['setVec4Components']=function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e,_0x1247a6){var _0x199cdb=this[_0x536f('0xd8')],_0x5cf460=this[_0x536f('0xe2')]+_0x5cf460*this[_0x536f('0xd6')];return _0x199cdb[_0x5cf460]=_0x398e44,_0x199cdb[_0x5cf460+0x1]=_0x13e628,_0x199cdb[_0x5cf460+0x2]=_0x1cbe5e,_0x199cdb[_0x5cf460+0x3]=_0x1247a6,this;},_0x59cde9['TypedArrayHelper'][_0x536f('0x8')][_0x536f('0xe7')]=function(_0x5cf460,_0x398e44){return this[_0x536f('0xe1')](this['indexOffset']+_0x5cf460*this[_0x536f('0xd6')],_0x398e44[_0x536f('0xe8')]);},_0x59cde9[_0x536f('0xd9')]['prototype']['setMat4']=function(_0x5cf460,_0x398e44){return this[_0x536f('0xe1')](this[_0x536f('0xe2')]+_0x5cf460*this['componentSize'],_0x398e44['elements']);},_0x59cde9[_0x536f('0xd9')][_0x536f('0x8')][_0x536f('0xe9')]=function(_0x5cf460,_0x398e44){return this[_0x536f('0xe5')](_0x5cf460,_0x398e44['r'],_0x398e44['g'],_0x398e44['b']);},_0x59cde9[_0x536f('0xd9')][_0x536f('0x8')][_0x536f('0xea')]=function(_0x5cf460,_0x398e44){return this[_0x536f('0xd8')][this[_0x536f('0xe2')]+_0x5cf460*this['componentSize']]=_0x398e44,this;},_0x59cde9[_0x536f('0xd9')][_0x536f('0x8')][_0x536f('0xeb')]=function(_0x5cf460){return this[_0x536f('0xd8')][this[_0x536f('0xe2')]+_0x5cf460];},_0x59cde9[_0x536f('0xd9')]['prototype'][_0x536f('0xec')]=function(_0x5cf460){return this['array'][_0x536f('0xde')](this[_0x536f('0xe2')]+_0x5cf460*this[_0x536f('0xd6')]);},_0x59cde9['ShaderAttribute']=function(_0x5cf460,_0x398e44,_0x13e628){var _0x1cbe5e=_0x59cde9[_0x536f('0xed')]['typeSizeMap'];this['type']=_0x536f('0x8a')==typeof _0x5cf460&&_0x1cbe5e[_0x536f('0x9')](_0x5cf460)?_0x5cf460:'f',this[_0x536f('0xd6')]=_0x1cbe5e[this[_0x536f('0x76')]],this[_0x536f('0xee')]=_0x13e628||Float32Array,this[_0x536f('0xef')]=null,this[_0x536f('0xf0')]=null,this[_0x536f('0xf1')]=!!_0x398e44,this[_0x536f('0xf2')]=0x0,this[_0x536f('0xf3')]=0x0;},_0x59cde9[_0x536f('0xed')][_0x536f('0x7d')]=_0x59cde9[_0x536f('0xed')],_0x59cde9[_0x536f('0xed')][_0x536f('0xf4')]={'f':0x1,'v2':0x2,'v3':0x3,'v4':0x4,'c':0x3,'m3':0x9,'m4':0x10},_0x59cde9[_0x536f('0xed')][_0x536f('0x8')][_0x536f('0xf5')]=function(_0x5cf460,_0x398e44){this[_0x536f('0xf2')]=Math[_0x536f('0x7f')](_0x5cf460*this[_0x536f('0xd6')],this[_0x536f('0xf2')]*this[_0x536f('0xd6')]),this[_0x536f('0xf3')]=Math['max'](_0x398e44*this[_0x536f('0xd6')],this['updateMax']*this['componentSize']);},_0x59cde9[_0x536f('0xed')][_0x536f('0x8')][_0x536f('0xf6')]=function(){var _0x5cf460=this[_0x536f('0xf0')],_0x398e44=_0x5cf460[_0x536f('0xf7')];_0x398e44[_0x536f('0xf8')]=this['updateMin'],_0x398e44[_0x536f('0xf9')]=Math['min'](this[_0x536f('0xf3')]-this['updateMin']+this[_0x536f('0xd6')],this[_0x536f('0xef')][_0x536f('0xd8')][_0x536f('0xd')]),_0x5cf460[_0x536f('0xfa')]=!0x0;},_0x59cde9[_0x536f('0xed')][_0x536f('0x8')][_0x536f('0xfb')]=function(){this[_0x536f('0xf2')]=0x0,this[_0x536f('0xf3')]=0x0;},_0x59cde9[_0x536f('0xed')][_0x536f('0x8')]['resetDynamic']=function(){this[_0x536f('0xf0')][_0x536f('0xfc')]=this[_0x536f('0xf1')];},_0x59cde9['ShaderAttribute'][_0x536f('0x8')][_0x536f('0x75')]=function(_0x5cf460,_0x398e44){this[_0x536f('0xef')][_0x536f('0x75')](_0x5cf460,_0x398e44),this[_0x536f('0xfd')]();},_0x59cde9[_0x536f('0xed')][_0x536f('0x8')][_0x536f('0xfd')]=function(){this['bufferAttribute'][_0x536f('0xd8')]=this[_0x536f('0xef')][_0x536f('0xd8')],this[_0x536f('0xf0')][_0x536f('0xf7')][_0x536f('0xf8')]=0x0,this[_0x536f('0xf0')][_0x536f('0xf7')][_0x536f('0xf9')]=-0x1,this[_0x536f('0xf0')][_0x536f('0xfc')]=!0x1,this[_0x536f('0xf0')][_0x536f('0xfa')]=!0x0;},_0x59cde9[_0x536f('0xed')]['prototype'][_0x536f('0xfe')]=function(_0x5cf460){null!==this[_0x536f('0xef')]&&this['typedArray'][_0x536f('0xd7')]===_0x5cf460*this[_0x536f('0xd6')]||(null!==this[_0x536f('0xef')]&&this[_0x536f('0xef')][_0x536f('0xd7')]!==_0x5cf460?this[_0x536f('0xef')][_0x536f('0xda')](_0x5cf460):null===this[_0x536f('0xef')]&&(this[_0x536f('0xef')]=new _0x59cde9[(_0x536f('0xd9'))](this[_0x536f('0xee')],_0x5cf460,this[_0x536f('0xd6')])));},_0x59cde9[_0x536f('0xed')][_0x536f('0x8')][_0x536f('0xff')]=function(_0x5cf460){if(this[_0x536f('0xfe')](_0x5cf460),null!==this[_0x536f('0xf0')])return this[_0x536f('0xf0')]['array']=this[_0x536f('0xef')][_0x536f('0xd8')],0x51<=parseFloat(THREE[_0x536f('0x100')])&&(this[_0x536f('0xf0')]['count']=this[_0x536f('0xf0')][_0x536f('0xd8')][_0x536f('0xd')]/this['bufferAttribute'][_0x536f('0x101')]),void(this[_0x536f('0xf0')][_0x536f('0xfa')]=!0x0);this[_0x536f('0xf0')]=new THREE[(_0x536f('0x102'))](this[_0x536f('0xef')][_0x536f('0xd8')],this[_0x536f('0xd6')]),this[_0x536f('0xf0')][_0x536f('0xfc')]=this[_0x536f('0xf1')];},_0x59cde9[_0x536f('0xed')][_0x536f('0x8')][_0x536f('0x103')]=function(){return null===this[_0x536f('0xef')]?0x0:this['typedArray'][_0x536f('0xd8')][_0x536f('0xd')];},_0x59cde9[_0x536f('0x104')]={'defines':[_0x536f('0x105'),_0x536f('0x106')][_0x536f('0x107')]('\x0a'),'uniforms':['uniform\x20float\x20deltaTime;',_0x536f('0x108'),_0x536f('0x109'),_0x536f('0x10a'),_0x536f('0x10b')][_0x536f('0x107')]('\x0a'),'attributes':['attribute\x20vec4\x20acceleration;','attribute\x20vec3\x20velocity;',_0x536f('0x10c'),_0x536f('0x10d'),_0x536f('0x10e'),'attribute\x20vec4\x20size;',_0x536f('0x10f'),_0x536f('0x110'),_0x536f('0x111')][_0x536f('0x107')]('\x0a'),'varyings':[_0x536f('0x112'),_0x536f('0x113'),_0x536f('0x114'),_0x536f('0x115'),_0x536f('0x116'),'\x20\x20\x20\x20varying\x20vec4\x20vSpriteSheet;',_0x536f('0x115')]['join']('\x0a'),'branchAvoidanceFunctions':[_0x536f('0x117'),'\x20\x20\x20\x20return\x20max(sign(x\x20-\x20y),\x200.0);','}',_0x536f('0x118'),_0x536f('0x119'),'}',_0x536f('0x11a'),'\x20\x20\x20\x20return\x201.0\x20-\x20abs(\x20sign(\x20x\x20-\x20y\x20)\x20);','}',_0x536f('0x11b'),_0x536f('0x11c'),'}',_0x536f('0x11d'),_0x536f('0x11e'),'}',_0x536f('0x11f'),_0x536f('0x120'),'}',_0x536f('0x121'),_0x536f('0x122'),'}'][_0x536f('0x107')]('\x0a'),'unpackColor':[_0x536f('0x123'),'\x20\x20\x20vec3\x20c\x20=\x20vec3(\x200.0\x20);',_0x536f('0x124'),_0x536f('0x125'),'\x20\x20\x20float\x20b\x20=\x20mod(\x20hex,\x20PACKED_COLOR_SIZE\x20);',_0x536f('0x126'),'\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.b\x20=\x20b\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20return\x20c;','}']['join']('\x0a'),'unpackRotationAxis':[_0x536f('0x127'),'\x20\x20\x20vec3\x20c\x20=\x20vec3(\x200.0\x20);',_0x536f('0x124'),_0x536f('0x125'),_0x536f('0x128'),_0x536f('0x126'),'\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;',_0x536f('0x129'),_0x536f('0x12a'),_0x536f('0x12b'),_0x536f('0x12c'),'}']['join']('\x0a'),'floatOverLifetime':[_0x536f('0x12d'),_0x536f('0x12e'),_0x536f('0x12f'),_0x536f('0x130'),_0x536f('0x131'),_0x536f('0x132'),'','\x20\x20\x20\x20for(\x20int\x20i\x20=\x200;\x20i\x20<\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201;\x20++i\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20fIndex\x20=\x20float(\x20i\x20);','\x20\x20\x20\x20\x20\x20\x20shouldApplyValue\x20=\x20and(\x20when_gt(\x20deltaAge,\x20fIndex\x20),\x20when_le(\x20deltaAge,\x20fIndex\x20+\x201.0\x20)\x20);',_0x536f('0x133'),_0x536f('0x134'),'',_0x536f('0x135'),'}'][_0x536f('0x107')]('\x0a'),'colorOverLifetime':[_0x536f('0x136'),_0x536f('0x137'),_0x536f('0x138'),_0x536f('0x139'),_0x536f('0x13a'),_0x536f('0x135'),'}'][_0x536f('0x107')]('\x0a'),'paramFetchingFunctions':[_0x536f('0x13b'),_0x536f('0x13c'),'}','float\x20getAge()\x20{',_0x536f('0x13d'),'}',_0x536f('0x13e'),_0x536f('0x13f'),'}',_0x536f('0x140'),'\x20\x20\x20return\x20params.w;','}'][_0x536f('0x107')]('\x0a'),'forceFetchingFunctions':[_0x536f('0x141'),_0x536f('0x142'),'}',_0x536f('0x143'),_0x536f('0x144'),'}',_0x536f('0x145'),'\x20\x20\x20return\x20acceleration.xyz\x20*\x20age;','}']['join']('\x0a'),'rotationFunctions':[_0x536f('0x146'),_0x536f('0x147'),_0x536f('0x148'),_0x536f('0x149'),_0x536f('0x14a'),_0x536f('0x14b'),'',_0x536f('0x14c'),_0x536f('0x14d'),_0x536f('0x14e'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.0);',_0x536f('0x14f'),'','\x20\x20\x20vec3\x20getRotation(\x20in\x20vec3\x20pos,\x20in\x20float\x20positionInTime\x20)\x20{',_0x536f('0x150'),_0x536f('0x151'),_0x536f('0x152'),'',_0x536f('0x153'),_0x536f('0x154'),'\x20\x20\x20\x20\x20\x20vec3\x20translated;','\x20\x20\x20\x20\x20\x20mat4\x20rotationMatrix;',_0x536f('0x155'),_0x536f('0x156'),_0x536f('0x157'),_0x536f('0x158'),_0x536f('0x159'),_0x536f('0x15a'),_0x536f('0x14f'),_0x536f('0x115')][_0x536f('0x107')]('\x0a'),'rotateTexture':['\x20\x20\x20\x20vec2\x20vUv\x20=\x20vec2(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y\x20);','',_0x536f('0x15b'),_0x536f('0x15c'),_0x536f('0x15d'),_0x536f('0x15e'),_0x536f('0x15f'),_0x536f('0x160'),_0x536f('0x161'),'',_0x536f('0x162'),_0x536f('0x163'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20vSpriteSheet.y;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20vSpriteSheet.z;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20vSpriteSheet.w;',_0x536f('0x164'),_0x536f('0x165'),_0x536f('0x161'),'',_0x536f('0x166')][_0x536f('0x107')]('\x0a')},_0x59cde9['shaders']={'vertex':[_0x59cde9[_0x536f('0x104')][_0x536f('0x167')],_0x59cde9[_0x536f('0x104')][_0x536f('0x168')],_0x59cde9[_0x536f('0x104')][_0x536f('0x169')],_0x59cde9[_0x536f('0x104')]['varyings'],THREE[_0x536f('0x16a')]['common'],THREE['ShaderChunk'][_0x536f('0x16b')],THREE[_0x536f('0x16a')][_0x536f('0x16c')],_0x59cde9[_0x536f('0x104')][_0x536f('0x16d')],_0x59cde9['shaderChunks'][_0x536f('0x16e')],_0x59cde9[_0x536f('0x104')][_0x536f('0x16f')],_0x59cde9[_0x536f('0x104')][_0x536f('0x170')],_0x59cde9['shaderChunks'][_0x536f('0x171')],_0x59cde9[_0x536f('0x104')][_0x536f('0x172')],_0x59cde9[_0x536f('0x104')][_0x536f('0x173')],_0x59cde9[_0x536f('0x104')][_0x536f('0x174')],'void\x20main()\x20{',_0x536f('0x175'),_0x536f('0x176'),_0x536f('0x177'),_0x536f('0x178'),_0x536f('0x179'),_0x536f('0x17a'),_0x536f('0x17b'),_0x536f('0x17c'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleCos\x20=\x20isAlive\x20*\x20cos(\x20wiggleAmount\x20);',_0x536f('0x161'),_0x536f('0x17d'),_0x536f('0x17e'),_0x536f('0x17f'),_0x536f('0x180'),'\x20\x20\x20\x20float\x20drag\x20=\x201.0\x20-\x20(positionInTime\x20*\x200.5)\x20*\x20acceleration.w;',_0x536f('0x181'),'\x20\x20\x20\x20force\x20*=\x20drag;',_0x536f('0x182'),_0x536f('0x183'),'\x20\x20\x20\x20#ifdef\x20SHOULD_WIGGLE_PARTICLES',_0x536f('0x184'),'\x20\x20\x20\x20\x20\x20\x20\x20pos.y\x20+=\x20wiggleCos;','\x20\x20\x20\x20\x20\x20\x20\x20pos.z\x20+=\x20wiggleSin;',_0x536f('0x161'),'\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20pos\x20=\x20getRotation(\x20pos,\x20positionInTime\x20);',_0x536f('0x161'),'\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20pos,\x201.0\x20);','\x20\x20\x20\x20highp\x20float\x20pointSize\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20size\x20)\x20*\x20isAlive;',_0x536f('0x185'),_0x536f('0x186'),_0x536f('0x187'),_0x536f('0x188'),_0x536f('0x161'),_0x536f('0x189'),_0x536f('0x18a'),_0x536f('0x18b'),_0x536f('0x18c'),_0x536f('0x18d'),_0x536f('0x18e'),_0x536f('0x18f'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.w\x20)',_0x536f('0x190'),_0x536f('0x187'),_0x536f('0x191'),'\x20\x20\x20\x20#endif','\x20\x20\x20\x20float\x20o\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20opacity\x20);',_0x536f('0x192'),'\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20\x20\x20\x20\x20vAngle\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20angle\x20);',_0x536f('0x161'),_0x536f('0x162'),_0x536f('0x193'),_0x536f('0x194'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20loopCount\x20=\x20textureAnimation.w;',_0x536f('0x195'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20frameNumber\x20=\x20mod(\x20(positionInTime\x20*\x20loopCount)\x20*\x20totalFrames,\x20totalFrames\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20column\x20=\x20floor(mod(\x20frameNumber,\x20framesX\x20));',_0x536f('0x196'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20column\x20/\x20framesX;',_0x536f('0x197'),'\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.x\x20=\x201.0\x20/\x20framesX;',_0x536f('0x198'),_0x536f('0x199'),_0x536f('0x19a'),_0x536f('0x161'),_0x536f('0x19b'),_0x536f('0x19c'),THREE[_0x536f('0x16a')][_0x536f('0x19d')],THREE[_0x536f('0x16a')]['fog_vertex'],'}'][_0x536f('0x107')]('\x0a'),'fragment':[_0x59cde9[_0x536f('0x104')]['uniforms'],THREE['ShaderChunk'][_0x536f('0x19e')],THREE[_0x536f('0x16a')]['fog_pars_fragment'],THREE[_0x536f('0x16a')][_0x536f('0x19f')],_0x59cde9[_0x536f('0x104')]['varyings'],_0x59cde9[_0x536f('0x104')][_0x536f('0x16d')],_0x536f('0x1a0'),_0x536f('0x1a1'),'\x20\x20\x20\x20',_0x536f('0x1a2'),_0x536f('0x1a3'),_0x536f('0x161'),_0x59cde9[_0x536f('0x104')][_0x536f('0x1a4')],THREE[_0x536f('0x16a')]['logdepthbuf_fragment'],_0x536f('0x1a5'),_0x536f('0x1a6'),THREE[_0x536f('0x16a')][_0x536f('0x1a7')],'}'][_0x536f('0x107')]('\x0a')},_0x59cde9[_0x536f('0x1a8')]={'types':{'BOOLEAN':'boolean','STRING':_0x536f('0x8a'),'NUMBER':_0x536f('0x14'),'OBJECT':_0x536f('0x1c')},'ensureTypedArg':function(_0x5cf460,_0x398e44,_0x13e628){return(void 0x0===_0x5cf460?_0x536f('0x18'):(0x0,_0x7c2a46[_0x536f('0x6')])(_0x5cf460))===_0x398e44?_0x5cf460:_0x13e628;},'ensureArrayTypedArg':function(_0x5cf460,_0x398e44,_0x13e628){if(Array['isArray'](_0x5cf460)){for(var _0x1cbe5e=_0x5cf460[_0x536f('0xd')]-0x1;0x0<=_0x1cbe5e;--_0x1cbe5e)if((0x0,_0x7c2a46[_0x536f('0x6')])(_0x5cf460[_0x1cbe5e])!==_0x398e44)return _0x13e628;return _0x5cf460;}return this[_0x536f('0x1a9')](_0x5cf460,_0x398e44,_0x13e628);},'ensureInstanceOf':function(_0x5cf460,_0x398e44,_0x13e628){return void 0x0!==_0x398e44&&_0x5cf460 instanceof _0x398e44?_0x5cf460:_0x13e628;},'ensureArrayInstanceOf':function(_0x5cf460,_0x398e44,_0x13e628){if(Array['isArray'](_0x5cf460)){for(var _0x1cbe5e=_0x5cf460[_0x536f('0xd')]-0x1;0x0<=_0x1cbe5e;--_0x1cbe5e)if(void 0x0!==_0x398e44&&_0x5cf460[_0x1cbe5e]instanceof _0x398e44==0x0)return _0x13e628;return _0x5cf460;}return this[_0x536f('0x1aa')](_0x5cf460,_0x398e44,_0x13e628);},'ensureValueOverLifetimeCompliance':function(_0x5cf460,_0x398e44,_0x13e628){_0x398e44=_0x398e44||0x3,_0x13e628=_0x13e628||0x3,!0x1===Array[_0x536f('0x1ab')](_0x5cf460['_value'])&&(_0x5cf460[_0x536f('0x1ac')]=[_0x5cf460[_0x536f('0x1ac')]]),!0x1===Array[_0x536f('0x1ab')](_0x5cf460[_0x536f('0x1ad')])&&(_0x5cf460['_spread']=[_0x5cf460['_spread']]);var _0x1cbe5e=this[_0x536f('0x1ae')](_0x5cf460['_value'][_0x536f('0xd')],_0x398e44,_0x13e628),_0x398e44=this[_0x536f('0x1ae')](_0x5cf460[_0x536f('0x1ad')]['length'],_0x398e44,_0x13e628),_0x13e628=Math[_0x536f('0x1af')](_0x1cbe5e,_0x398e44);_0x5cf460[_0x536f('0x1ac')][_0x536f('0xd')]!==_0x13e628&&(_0x5cf460[_0x536f('0x1ac')]=this['interpolateArray'](_0x5cf460['_value'],_0x13e628)),_0x5cf460[_0x536f('0x1ad')][_0x536f('0xd')]!==_0x13e628&&(_0x5cf460[_0x536f('0x1ad')]=this[_0x536f('0x1b0')](_0x5cf460['_spread'],_0x13e628));},'interpolateArray':function(_0x5cf460,_0x398e44){for(var _0x13e628=_0x5cf460[_0x536f('0xd')],_0x1cbe5e=[_0x536f('0x15')==typeof _0x5cf460[0x0][_0x536f('0x1b1')]?_0x5cf460[0x0][_0x536f('0x1b1')]():_0x5cf460[0x0]],_0x1247a6=(_0x13e628-0x1)/(_0x398e44-0x1),_0x199cdb=0x1;_0x199cdb<_0x398e44-0x1;++_0x199cdb){var _0x7c2a46=_0x199cdb*_0x1247a6,_0x46bd1a=Math['floor'](_0x7c2a46),_0x5a5205=Math[_0x536f('0x1b2')](_0x7c2a46);_0x1cbe5e[_0x199cdb]=this['lerpTypeAgnostic'](_0x5cf460[_0x46bd1a],_0x5cf460[_0x5a5205],_0x7c2a46-_0x46bd1a);}return _0x1cbe5e[_0x536f('0x82')](_0x536f('0x15')==typeof _0x5cf460[_0x13e628-0x1][_0x536f('0x1b1')]?_0x5cf460[_0x13e628-0x1][_0x536f('0x1b1')]():_0x5cf460[_0x13e628-0x1]),_0x1cbe5e;},'clamp':function(_0x5cf460,_0x398e44,_0x13e628){return Math['max'](_0x398e44,Math[_0x536f('0x7f')](_0x5cf460,_0x13e628));},'zeroToEpsilon':function(_0x5cf460,_0x398e44){var _0x13e628=_0x5cf460,_0x13e628=_0x398e44?0.00001*Math['random']()*0xa:0.00001;return _0x5cf460<0x0&&-0.00001<_0x5cf460?-_0x13e628:_0x13e628;},'lerpTypeAgnostic':function(_0x5cf460,_0x398e44,_0x13e628){var _0x1cbe5e,_0x1247a6=this[_0x536f('0x1b3')];return(void 0x0===_0x5cf460?_0x536f('0x18'):(0x0,_0x7c2a46['default'])(_0x5cf460))===_0x1247a6[_0x536f('0x1b4')]&&(void 0x0===_0x398e44?_0x536f('0x18'):(0x0,_0x7c2a46['default'])(_0x398e44))===_0x1247a6['NUMBER']?_0x5cf460+(_0x398e44-_0x5cf460)*_0x13e628:_0x5cf460 instanceof THREE['Vector2']&&_0x398e44 instanceof THREE[_0x536f('0x1b5')]?((_0x1cbe5e=_0x5cf460['clone']())['x']=this[_0x536f('0x1b6')](_0x5cf460['x'],_0x398e44['x'],_0x13e628),_0x1cbe5e['y']=this[_0x536f('0x1b6')](_0x5cf460['y'],_0x398e44['y'],_0x13e628),_0x1cbe5e):_0x5cf460 instanceof THREE[_0x536f('0x59')]&&_0x398e44 instanceof THREE['Vector3']?((_0x1cbe5e=_0x5cf460['clone']())['x']=this[_0x536f('0x1b6')](_0x5cf460['x'],_0x398e44['x'],_0x13e628),_0x1cbe5e['y']=this[_0x536f('0x1b6')](_0x5cf460['y'],_0x398e44['y'],_0x13e628),_0x1cbe5e['z']=this[_0x536f('0x1b6')](_0x5cf460['z'],_0x398e44['z'],_0x13e628),_0x1cbe5e):_0x5cf460 instanceof THREE['Vector4']&&_0x398e44 instanceof THREE[_0x536f('0x1b7')]?((_0x1cbe5e=_0x5cf460[_0x536f('0x1b1')]())['x']=this[_0x536f('0x1b6')](_0x5cf460['x'],_0x398e44['x'],_0x13e628),_0x1cbe5e['y']=this[_0x536f('0x1b6')](_0x5cf460['y'],_0x398e44['y'],_0x13e628),_0x1cbe5e['z']=this[_0x536f('0x1b6')](_0x5cf460['z'],_0x398e44['z'],_0x13e628),_0x1cbe5e['w']=this['lerp'](_0x5cf460['w'],_0x398e44['w'],_0x13e628),_0x1cbe5e):_0x5cf460 instanceof THREE[_0x536f('0x1b8')]&&_0x398e44 instanceof THREE['Color']?((_0x1cbe5e=_0x5cf460[_0x536f('0x1b1')]())['r']=this['lerp'](_0x5cf460['r'],_0x398e44['r'],_0x13e628),_0x1cbe5e['g']=this[_0x536f('0x1b6')](_0x5cf460['g'],_0x398e44['g'],_0x13e628),_0x1cbe5e['b']=this['lerp'](_0x5cf460['b'],_0x398e44['b'],_0x13e628),_0x1cbe5e):void 0x0;},'lerp':function(_0x5cf460,_0x398e44,_0x13e628){return _0x5cf460+(_0x398e44-_0x5cf460)*_0x13e628;},'roundToNearestMultiple':function(_0x5cf460,_0x398e44){var _0x13e628;return 0x0===_0x398e44||0x0==(_0x13e628=Math[_0x536f('0x1b9')](_0x5cf460)%_0x398e44)?_0x5cf460:_0x5cf460<0x0?-(Math['abs'](_0x5cf460)-_0x13e628):_0x5cf460+_0x398e44-_0x13e628;},'arrayValuesAreEqual':function(_0x5cf460){for(var _0x398e44=0x0;_0x398e44<_0x5cf460[_0x536f('0xd')]-0x1;++_0x398e44)if(_0x5cf460[_0x398e44]!==_0x5cf460[_0x398e44+0x1])return!0x1;return!0x0;},'randomFloat':function(_0x5cf460,_0x398e44){return _0x5cf460+_0x398e44*(Math[_0x536f('0x1ba')]()-0.5);},'randomVector3':function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e,_0x1247a6){var _0x199cdb=_0x13e628['x']+(Math[_0x536f('0x1ba')]()*_0x1cbe5e['x']-0.5*_0x1cbe5e['x']),_0x7c2a46=_0x13e628['y']+(Math[_0x536f('0x1ba')]()*_0x1cbe5e['y']-0.5*_0x1cbe5e['y']),_0x13e628=_0x13e628['z']+(Math['random']()*_0x1cbe5e['z']-0.5*_0x1cbe5e['z']);_0x1247a6&&(_0x199cdb=0.5*-_0x1247a6['x']+this[_0x536f('0x1bb')](_0x199cdb,_0x1247a6['x']),_0x7c2a46=0.5*-_0x1247a6['y']+this['roundToNearestMultiple'](_0x7c2a46,_0x1247a6['y']),_0x13e628=0.5*-_0x1247a6['z']+this['roundToNearestMultiple'](_0x13e628,_0x1247a6['z'])),_0x5cf460[_0x536f('0xef')][_0x536f('0xe5')](_0x398e44,_0x199cdb,_0x7c2a46,_0x13e628);},'randomColor':function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e){var _0x1247a6=_0x13e628['r']+Math[_0x536f('0x1ba')]()*_0x1cbe5e['x'],_0x199cdb=_0x13e628['g']+Math[_0x536f('0x1ba')]()*_0x1cbe5e['y'],_0x13e628=_0x13e628['b']+Math[_0x536f('0x1ba')]()*_0x1cbe5e['z'],_0x1247a6=this[_0x536f('0x1ae')](_0x1247a6,0x0,0x1),_0x199cdb=this[_0x536f('0x1ae')](_0x199cdb,0x0,0x1),_0x13e628=this[_0x536f('0x1ae')](_0x13e628,0x0,0x1);_0x5cf460['typedArray'][_0x536f('0xe5')](_0x398e44,_0x1247a6,_0x199cdb,_0x13e628);},'randomColorAsHex':(_0x212450=new THREE[(_0x536f('0x1b8'))](),function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e){for(var _0x1247a6=_0x13e628['length'],_0x199cdb=[],_0x7c2a46=0x0;_0x7c2a46<_0x1247a6;++_0x7c2a46){var _0x46bd1a=_0x1cbe5e[_0x7c2a46];_0x212450[_0x536f('0x1bc')](_0x13e628[_0x7c2a46]),_0x212450['r']+=Math['random']()*_0x46bd1a['x']-0.5*_0x46bd1a['x'],_0x212450['g']+=Math[_0x536f('0x1ba')]()*_0x46bd1a['y']-0.5*_0x46bd1a['y'],_0x212450['b']+=Math[_0x536f('0x1ba')]()*_0x46bd1a['z']-0.5*_0x46bd1a['z'],_0x212450['r']=this[_0x536f('0x1ae')](_0x212450['r'],0x0,0x1),_0x212450['g']=this[_0x536f('0x1ae')](_0x212450['g'],0x0,0x1),_0x212450['b']=this[_0x536f('0x1ae')](_0x212450['b'],0x0,0x1),_0x199cdb[_0x536f('0x82')](_0x212450[_0x536f('0x1bd')]());}_0x5cf460[_0x536f('0xef')]['setVec4Components'](_0x398e44,_0x199cdb[0x0],_0x199cdb[0x1],_0x199cdb[0x2],_0x199cdb[0x3]);}),'randomVector3OnSphere':function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e,_0x1247a6,_0x199cdb,_0x7c2a46,_0x46bd1a){var _0x5a5205=0x2*Math['random']()-0x1,_0x541ede=6.2832*Math['random'](),_0x541db2=Math[_0x536f('0x1be')](0x1-_0x5a5205*_0x5a5205),_0x1cbe5e=this['randomFloat'](_0x1cbe5e,_0x1247a6);_0x7c2a46&&(_0x1cbe5e=Math['round'](_0x1cbe5e/_0x7c2a46)*_0x7c2a46),_0x1247a6=_0x541db2*Math[_0x536f('0x5b')](_0x541ede)*_0x1cbe5e,_0x7c2a46=_0x541db2*Math[_0x536f('0x5a')](_0x541ede)*_0x1cbe5e,_0x541db2=_0x5a5205*_0x1cbe5e,_0x1247a6*=_0x199cdb['x'],_0x7c2a46*=_0x199cdb['y'],_0x541db2*=_0x199cdb['z'],_0x1247a6+=_0x13e628['x'],_0x7c2a46+=_0x13e628['y'],_0x541db2+=_0x13e628['z'],_0x5cf460[_0x536f('0xef')][_0x536f('0xe5')](_0x398e44,_0x1247a6,_0x7c2a46,_0x541db2);},'seededRandom':function(_0x5cf460){_0x5cf460=0x2710*Math[_0x536f('0x5a')](_0x5cf460);return _0x5cf460-(0x0|_0x5cf460);},'randomVector3OnDisc':function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e,_0x1247a6,_0x199cdb,_0x7c2a46){var _0x46bd1a=6.2832*Math['random'](),_0x1cbe5e=Math['abs'](this[_0x536f('0x1bf')](_0x1cbe5e,_0x1247a6)),_0x1247a6=0x0;_0x7c2a46&&(_0x1cbe5e=Math[_0x536f('0x1c0')](_0x1cbe5e/_0x7c2a46)*_0x7c2a46),_0x7c2a46=Math[_0x536f('0x5b')](_0x46bd1a)*_0x1cbe5e,_0x46bd1a=Math[_0x536f('0x5a')](_0x46bd1a)*_0x1cbe5e,_0x7c2a46*=_0x199cdb['x'],_0x46bd1a*=_0x199cdb['y'],_0x7c2a46+=_0x13e628['x'],_0x46bd1a+=_0x13e628['y'],_0x1247a6+=_0x13e628['z'],_0x5cf460['typedArray'][_0x536f('0xe5')](_0x398e44,_0x7c2a46,_0x46bd1a,_0x1247a6);},'randomDirectionVector3OnSphere':(_0xfe3a9b=new THREE[(_0x536f('0x59'))](),function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e,_0x1247a6,_0x199cdb,_0x7c2a46,_0x46bd1a){_0xfe3a9b['copy'](_0x199cdb),_0xfe3a9b['x']-=_0x13e628,_0xfe3a9b['y']-=_0x1cbe5e,_0xfe3a9b['z']-=_0x1247a6,_0xfe3a9b[_0x536f('0x1c1')]()[_0x536f('0x1c2')](-this[_0x536f('0x1bf')](_0x7c2a46,_0x46bd1a)),_0x5cf460[_0x536f('0xef')][_0x536f('0xe5')](_0x398e44,_0xfe3a9b['x'],_0xfe3a9b['y'],_0xfe3a9b['z']);}),'randomDirectionVector3OnDisc':(_0x5dd6dc=new THREE[(_0x536f('0x59'))](),function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e,_0x1247a6,_0x199cdb,_0x7c2a46,_0x46bd1a){_0x5dd6dc[_0x536f('0x1bc')](_0x199cdb),_0x5dd6dc['x']-=_0x13e628,_0x5dd6dc['y']-=_0x1cbe5e,_0x5dd6dc['z']-=_0x1247a6,_0x5dd6dc[_0x536f('0x1c1')]()[_0x536f('0x1c2')](-this[_0x536f('0x1bf')](_0x7c2a46,_0x46bd1a)),_0x5cf460[_0x536f('0xef')]['setVec3Components'](_0x398e44,_0x5dd6dc['x'],_0x5dd6dc['y'],0x0);}),'getPackedRotationAxis':(_0x5a5205=new THREE['Vector3'](),_0x541ede=new THREE[(_0x536f('0x59'))](),_0x541db2=new THREE['Color'](),_0x2b029b=new THREE[(_0x536f('0x59'))](0x1,0x1,0x1),function(_0x5cf460,_0x398e44){return _0x5a5205[_0x536f('0x1bc')](_0x5cf460)[_0x536f('0x1c1')](),_0x541ede[_0x536f('0x1bc')](_0x398e44)[_0x536f('0x1c1')](),_0x5a5205['x']+=0.5*-_0x398e44['x']+Math[_0x536f('0x1ba')]()*_0x398e44['x'],_0x5a5205['y']+=0.5*-_0x398e44['y']+Math['random']()*_0x398e44['y'],_0x5a5205['z']+=0.5*-_0x398e44['z']+Math[_0x536f('0x1ba')]()*_0x398e44['z'],_0x5a5205[_0x536f('0x1c1')]()[_0x536f('0x1c3')](_0x2b029b)[_0x536f('0x1c2')](0.5),_0x541db2[_0x536f('0x1c4')](_0x5a5205['x'],_0x5a5205['y'],_0x5a5205['z']),_0x541db2[_0x536f('0x1bd')]();})},_0x59cde9[_0x536f('0x1c5')]=function(_0x5cf460){var _0x398e44=_0x59cde9[_0x536f('0x1a8')],_0x13e628=_0x398e44[_0x536f('0x1b3')];(_0x5cf460=_0x398e44[_0x536f('0x1a9')](_0x5cf460,_0x13e628[_0x536f('0x1c6')],{}))[_0x536f('0x1c7')]=_0x398e44['ensureTypedArg'](_0x5cf460[_0x536f('0x1c7')],_0x13e628[_0x536f('0x1c6')],{}),this[_0x536f('0x1c8')]=THREE[_0x536f('0x19')][_0x536f('0x1c9')](),this[_0x536f('0x1ca')]=_0x398e44[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1ca')],_0x13e628[_0x536f('0x1b4')],0.016),this['texture']=_0x398e44[_0x536f('0x1aa')](_0x5cf460[_0x536f('0x1c7')][_0x536f('0x10')],THREE[_0x536f('0x1cb')],null),this[_0x536f('0x1cc')]=_0x398e44[_0x536f('0x1aa')](_0x5cf460[_0x536f('0x1c7')][_0x536f('0x1cd')],THREE[_0x536f('0x1b5')],new THREE['Vector2'](0x1,0x1)),this[_0x536f('0x1ce')]=_0x398e44['ensureTypedArg'](_0x5cf460[_0x536f('0x1c7')][_0x536f('0x1cf')],_0x13e628[_0x536f('0x1b4')],this['textureFrames']['x']*this['textureFrames']['y']),this[_0x536f('0x1d0')]=_0x398e44[_0x536f('0x1a9')](_0x5cf460['texture'][_0x536f('0x1d1')],_0x13e628[_0x536f('0x1b4')],0x1),this['textureFrames'][_0x536f('0x1af')](new THREE[(_0x536f('0x1b5'))](0x1,0x1)),this[_0x536f('0x1d2')]=_0x398e44[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1d2')],_0x13e628[_0x536f('0x1d3')],!0x0),this['colorize']=_0x398e44[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1d4')],_0x13e628[_0x536f('0x1d3')],!0x0),this[_0x536f('0x1d5')]=_0x398e44['ensureTypedArg'](_0x5cf460[_0x536f('0x1d5')],_0x13e628['NUMBER'],null),this[_0x536f('0x1d6')]=_0x398e44['ensureTypedArg'](_0x5cf460['blending'],_0x13e628[_0x536f('0x1b4')],THREE['AdditiveBlending']),this[_0x536f('0x1d7')]=_0x398e44[_0x536f('0x1a9')](_0x5cf460['transparent'],_0x13e628[_0x536f('0x1d3')],!0x0),this[_0x536f('0x1d8')]=parseFloat(_0x398e44['ensureTypedArg'](_0x5cf460[_0x536f('0x1d8')],_0x13e628['NUMBER'],0x0)),this[_0x536f('0x1d9')]=_0x398e44['ensureTypedArg'](_0x5cf460['depthWrite'],_0x13e628[_0x536f('0x1d3')],!0x1),this[_0x536f('0x1da')]=_0x398e44['ensureTypedArg'](_0x5cf460[_0x536f('0x1da')],_0x13e628[_0x536f('0x1d3')],!0x0),this[_0x536f('0x1db')]=_0x398e44[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1db')],_0x13e628[_0x536f('0x1d3')],!0x0),this['scale']=_0x398e44[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1dc')],_0x13e628['NUMBER'],0x12c),this['emitters']=[],this[_0x536f('0x1dd')]=[],this[_0x536f('0x1de')]=[],this['_poolCreationSettings']=null,this[_0x536f('0x1df')]=0x0,this[_0x536f('0x1e0')]=!0x1,this[_0x536f('0x1e1')]=!0x1,this['particleCount']=0x0,this[_0x536f('0x168')]={'texture1':{'type':'t','value':this['texture']},'textureAnimation':{'type':'v4','value':new THREE[(_0x536f('0x1b7'))](this[_0x536f('0x1cc')]['x'],this[_0x536f('0x1cc')]['y'],this[_0x536f('0x1ce')],Math['max'](Math[_0x536f('0x1b9')](this[_0x536f('0x1d0')]),0x1))},'fogColor':{'type':'c','value':null},'fogNear':{'type':'f','value':0xa},'fogFar':{'type':'f','value':0xc8},'fogDensity':{'type':'f','value':0.5},'deltaTime':{'type':'f','value':0x0},'runTime':{'type':'f','value':0x0},'scale':{'type':'f','value':this[_0x536f('0x1dc')]}},this[_0x536f('0x167')]={'HAS_PERSPECTIVE':this[_0x536f('0x1d2')],'COLORIZE':this['colorize'],'VALUE_OVER_LIFETIME_LENGTH':_0x59cde9['valueOverLifetimeLength'],'SHOULD_ROTATE_TEXTURE':!0x1,'SHOULD_ROTATE_PARTICLES':!0x1,'SHOULD_WIGGLE_PARTICLES':!0x1,'SHOULD_CALCULATE_SPRITE':0x1<this['textureFrames']['x']||0x1<this[_0x536f('0x1cc')]['y']},this['attributes']={'position':new _0x59cde9['ShaderAttribute']('v3',!0x0),'acceleration':new _0x59cde9[(_0x536f('0xed'))]('v4',!0x0),'velocity':new _0x59cde9[(_0x536f('0xed'))]('v3',!0x0),'rotation':new _0x59cde9[(_0x536f('0xed'))]('v4',!0x0),'rotationCenter':new _0x59cde9[(_0x536f('0xed'))]('v3',!0x0),'params':new _0x59cde9[(_0x536f('0xed'))]('v4',!0x0),'size':new _0x59cde9[(_0x536f('0xed'))]('v4',!0x0),'angle':new _0x59cde9['ShaderAttribute']('v4',!0x0),'color':new _0x59cde9[(_0x536f('0xed'))]('v4',!0x0),'opacity':new _0x59cde9[(_0x536f('0xed'))]('v4',!0x0)},this[_0x536f('0x1e2')]=(0x0,_0x199cdb[_0x536f('0x6')])(this['attributes']),this[_0x536f('0x1e3')]=this[_0x536f('0x1e2')][_0x536f('0xd')],this['material']=new THREE['ShaderMaterial']({'uniforms':this[_0x536f('0x168')],'vertexShader':_0x59cde9['shaders'][_0x536f('0x1e4')],'fragmentShader':_0x59cde9[_0x536f('0x1e5')][_0x536f('0x1e6')],'blending':this[_0x536f('0x1d6')],'transparent':this[_0x536f('0x1d7')],'alphaTest':this[_0x536f('0x1d8')],'depthWrite':this[_0x536f('0x1d9')],'depthTest':this[_0x536f('0x1da')],'defines':this[_0x536f('0x167')],'fog':this[_0x536f('0x1db')]}),this[_0x536f('0xd0')]=new THREE[(_0x536f('0x1e7'))](),this[_0x536f('0x1e8')]=new THREE[(_0x536f('0xb2'))](this[_0x536f('0xd0')],this[_0x536f('0xce')]),this[_0x536f('0x1d5')];},_0x59cde9[_0x536f('0x1c5')]['constructor']=_0x59cde9[_0x536f('0x1c5')],_0x59cde9[_0x536f('0x1c5')][_0x536f('0x8')][_0x536f('0x1e9')]=function(){for(var _0x5cf460,_0x398e44=this[_0x536f('0x1ea')],_0x13e628=_0x398e44[_0x536f('0xd')]-0x1,_0x1cbe5e=this[_0x536f('0x167')];0x0<=_0x13e628;--_0x13e628)_0x5cf460=_0x398e44[_0x13e628],_0x1cbe5e[_0x536f('0x1eb')]||(_0x1cbe5e[_0x536f('0x1ec')]=_0x1cbe5e['SHOULD_ROTATE_TEXTURE']||!!Math[_0x536f('0x1af')](Math['max'][_0x536f('0x16')](null,_0x5cf460[_0x536f('0x1ed')][_0x536f('0x10')]),Math[_0x536f('0x1af')][_0x536f('0x16')](null,_0x5cf460['angle'][_0x536f('0x1ee')]))),_0x1cbe5e[_0x536f('0x1ef')]=_0x1cbe5e[_0x536f('0x1ef')]||!!Math[_0x536f('0x1af')](_0x5cf460[_0x536f('0x1f0')]['angle'],_0x5cf460[_0x536f('0x1f0')][_0x536f('0x1f1')]),_0x1cbe5e[_0x536f('0x1f2')]=_0x1cbe5e['SHOULD_WIGGLE_PARTICLES']||!!Math[_0x536f('0x1af')](_0x5cf460[_0x536f('0x1f3')][_0x536f('0x10')],_0x5cf460['wiggle'][_0x536f('0x1ee')]);this[_0x536f('0xce')][_0x536f('0xfa')]=!0x0;},_0x59cde9[_0x536f('0x1c5')]['prototype'][_0x536f('0x1f4')]=function(){var _0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e=this[_0x536f('0x169')],_0x1247a6=this['geometry'],_0x199cdb=_0x1247a6[_0x536f('0x169')];for(_0x13e628 in _0x1cbe5e)_0x1cbe5e[_0x536f('0x9')](_0x13e628)&&(_0x5cf460=_0x1cbe5e[_0x13e628],(_0x398e44=_0x199cdb[_0x13e628])?_0x398e44[_0x536f('0xd8')]=_0x5cf460['typedArray'][_0x536f('0xd8')]:_0x1247a6[_0x536f('0x1f5')](_0x13e628,_0x5cf460[_0x536f('0xf0')]),_0x5cf460[_0x536f('0xf0')][_0x536f('0xfa')]=!0x0);this[_0x536f('0xd0')]['setDrawRange'](0x0,this[_0x536f('0x1f6')]);},_0x59cde9[_0x536f('0x1c5')]['prototype'][_0x536f('0x1f7')]=function(_0x5cf460){if(_0x5cf460 instanceof _0x59cde9[_0x536f('0x1f8')]==0x0)console['error']('`emitter`\x20argument\x20must\x20be\x20instance\x20of\x20SPE.Emitter.\x20Was\x20provided\x20with:',_0x5cf460);else if(-0x1<this[_0x536f('0x1dd')]['indexOf'](_0x5cf460[_0x536f('0x1c8')]))console[_0x536f('0x1f9')]('Emitter\x20already\x20exists\x20in\x20this\x20group.\x20Will\x20not\x20add\x20again.');else{if(null===_0x5cf460[_0x536f('0x1fa')]){var _0x398e44,_0x13e628=this[_0x536f('0x169')],_0x1cbe5e=this[_0x536f('0x1f6')],_0x1247a6=_0x1cbe5e+_0x5cf460[_0x536f('0x1f6')];for(_0x398e44 in this['particleCount']=_0x1247a6,null!==this[_0x536f('0x1d5')]&&this[_0x536f('0x1f6')]>this['maxParticleCount']&&(this['particleCount'],this['maxParticleCount']),_0x5cf460['_calculatePPSValue'](_0x5cf460[_0x536f('0x1fb')][_0x536f('0x1ac')]+_0x5cf460[_0x536f('0x1fb')]['_spread']),_0x5cf460[_0x536f('0x1fc')](this[_0x536f('0x1e2')]),_0x5cf460[_0x536f('0x1fd')](_0x1cbe5e),_0x5cf460[_0x536f('0x1fa')]=this,_0x5cf460['attributes']=this[_0x536f('0x169')],_0x13e628)_0x13e628[_0x536f('0x9')](_0x398e44)&&_0x13e628[_0x398e44][_0x536f('0xff')](null!==this[_0x536f('0x1d5')]?this[_0x536f('0x1d5')]:this[_0x536f('0x1f6')]);for(var _0x199cdb=_0x1cbe5e;_0x199cdb<_0x1247a6;++_0x199cdb)_0x5cf460['_assignPositionValue'](_0x199cdb),_0x5cf460[_0x536f('0x1fe')](_0x199cdb,_0x536f('0x1ff')),_0x5cf460['_assignForceValue'](_0x199cdb,_0x536f('0x200')),_0x5cf460['_assignAbsLifetimeValue'](_0x199cdb,_0x536f('0x201')),_0x5cf460['_assignAbsLifetimeValue'](_0x199cdb,_0x536f('0xd7')),_0x5cf460[_0x536f('0x202')](_0x199cdb),_0x5cf460['_assignRotationValue'](_0x199cdb),_0x5cf460[_0x536f('0x203')](_0x199cdb),_0x5cf460['_assignColorValue'](_0x199cdb);return this[_0x536f('0x1f4')](),this[_0x536f('0x1ea')][_0x536f('0x82')](_0x5cf460),this[_0x536f('0x1dd')][_0x536f('0x82')](_0x5cf460[_0x536f('0x1c8')]),this[_0x536f('0x1e9')](_0x5cf460),this[_0x536f('0xce')][_0x536f('0xfa')]=!0x0,this['geometry'][_0x536f('0xfa')]=!0x0,this[_0x536f('0x1e0')]=!0x0,this;}console['error'](_0x536f('0x204'));}},_0x59cde9[_0x536f('0x1c5')][_0x536f('0x8')][_0x536f('0x205')]=function(_0x5cf460){var _0x398e44=this[_0x536f('0x1dd')]['indexOf'](_0x5cf460[_0x536f('0x1c8')]);if(_0x5cf460 instanceof _0x59cde9[_0x536f('0x1f8')]==0x0)console[_0x536f('0x1f9')](_0x536f('0x206'),_0x5cf460);else if(-0x1===_0x398e44)console[_0x536f('0x1f9')](_0x536f('0x207'));else{for(var _0x13e628,_0x1cbe5e=_0x5cf460[_0x536f('0x208')],_0x1247a6=_0x1cbe5e+_0x5cf460['particleCount'],_0x199cdb=this[_0x536f('0x169')]['params'][_0x536f('0xef')],_0x7c2a46=_0x1cbe5e;_0x7c2a46<_0x1247a6;++_0x7c2a46)_0x199cdb[_0x536f('0xd8')][0x4*_0x7c2a46]=0x0,_0x199cdb[_0x536f('0xd8')][0x4*_0x7c2a46+0x1]=0x0;for(_0x13e628 in this['emitters'][_0x536f('0x75')](_0x398e44,0x1),this[_0x536f('0x1dd')][_0x536f('0x75')](_0x398e44,0x1),this[_0x536f('0x169')])this[_0x536f('0x169')]['hasOwnProperty'](_0x13e628)&&this[_0x536f('0x169')][_0x13e628]['splice'](_0x1cbe5e,_0x1247a6);this[_0x536f('0x1f6')]-=_0x5cf460[_0x536f('0x1f6')],_0x5cf460[_0x536f('0x209')](),this[_0x536f('0x1e0')]=!0x0;}},_0x59cde9[_0x536f('0x1c5')][_0x536f('0x8')][_0x536f('0x20a')]=function(){var _0x5cf460=this[_0x536f('0x1de')],_0x398e44=this['_createNewWhenPoolEmpty'];return _0x5cf460[_0x536f('0xd')]?_0x5cf460['pop']():_0x398e44?(_0x5cf460=new _0x59cde9[(_0x536f('0x1f8'))](this[_0x536f('0x20b')]),this[_0x536f('0x1f7')](_0x5cf460),_0x5cf460):null;},_0x59cde9[_0x536f('0x1c5')]['prototype'][_0x536f('0x20c')]=function(_0x5cf460){if(_0x5cf460 instanceof _0x59cde9[_0x536f('0x1f8')]!=0x0)return _0x5cf460[_0x536f('0x20d')](),this[_0x536f('0x1de')]['unshift'](_0x5cf460),this;console[_0x536f('0x1f9')]('Argument\x20is\x20not\x20instanceof\x20SPE.Emitter:',_0x5cf460);},_0x59cde9['Group'][_0x536f('0x8')][_0x536f('0x20e')]=function(){return this[_0x536f('0x1de')];},_0x59cde9[_0x536f('0x1c5')][_0x536f('0x8')][_0x536f('0x20f')]=function(_0x5cf460,_0x398e44,_0x13e628){var _0x1cbe5e;this[_0x536f('0x20b')]=_0x398e44,this['_createNewWhenPoolEmpty']=!!_0x13e628;for(var _0x1247a6=0x0;_0x1247a6<_0x5cf460;++_0x1247a6)_0x1cbe5e=Array[_0x536f('0x1ab')](_0x398e44)?new _0x59cde9['Emitter'](_0x398e44[_0x1247a6]):new _0x59cde9[(_0x536f('0x1f8'))](_0x398e44),this[_0x536f('0x1f7')](_0x1cbe5e),this[_0x536f('0x20c')](_0x1cbe5e);return this;},_0x59cde9['Group']['prototype'][_0x536f('0x210')]=function(_0x5cf460){var _0x398e44=this[_0x536f('0x20a')](),_0x13e628=this;if(null!==_0x398e44)return _0x5cf460 instanceof THREE[_0x536f('0x59')]&&(_0x398e44[_0x536f('0x3b')]['value'][_0x536f('0x1bc')](_0x5cf460),_0x398e44[_0x536f('0x3b')][_0x536f('0x10')]=_0x398e44[_0x536f('0x3b')][_0x536f('0x10')]),_0x398e44[_0x536f('0x211')](),setTimeout(function(){_0x398e44[_0x536f('0x212')](),_0x13e628[_0x536f('0x20c')](_0x398e44);},0x3e8*Math[_0x536f('0x1af')](_0x398e44[_0x536f('0x213')],_0x398e44[_0x536f('0x1fb')][_0x536f('0x10')]+_0x398e44[_0x536f('0x1fb')][_0x536f('0x1ee')])),this;},_0x59cde9[_0x536f('0x1c5')][_0x536f('0x8')][_0x536f('0x214')]=function(_0x5cf460,_0x398e44){if(_0x536f('0x14')==typeof _0x5cf460&&0x1<_0x5cf460)for(var _0x13e628=0x0;_0x13e628<_0x5cf460;++_0x13e628)this[_0x536f('0x210')](_0x398e44);else this[_0x536f('0x210')](_0x398e44);return this;},_0x59cde9['Group']['prototype'][_0x536f('0x215')]=function(_0x5cf460){this[_0x536f('0x168')][_0x536f('0x216')][_0x536f('0x10')]+=_0x5cf460,this[_0x536f('0x168')][_0x536f('0x217')][_0x536f('0x10')]=_0x5cf460;},_0x59cde9[_0x536f('0x1c5')][_0x536f('0x8')][_0x536f('0x218')]=function(){for(var _0x5cf460=this['attributeKeys'],_0x398e44=this[_0x536f('0x1e3')]-0x1,_0x13e628=this[_0x536f('0x169')];0x0<=_0x398e44;--_0x398e44)_0x13e628[_0x5cf460[_0x398e44]][_0x536f('0xfb')]();},_0x59cde9[_0x536f('0x1c5')][_0x536f('0x8')][_0x536f('0x219')]=function(_0x5cf460){for(var _0x398e44,_0x13e628,_0x1cbe5e=this[_0x536f('0x1e2')],_0x1247a6=this[_0x536f('0x1e3')]-0x1,_0x199cdb=this[_0x536f('0x169')],_0x7c2a46=_0x5cf460[_0x536f('0x21a')];0x0<=_0x1247a6;--_0x1247a6)_0x398e44=_0x7c2a46[_0x13e628=_0x1cbe5e[_0x1247a6]],(_0x13e628=_0x199cdb[_0x13e628])[_0x536f('0xf5')](_0x398e44[_0x536f('0x7f')],_0x398e44[_0x536f('0x1af')]),_0x13e628['flagUpdate']();},_0x59cde9[_0x536f('0x1c5')][_0x536f('0x8')][_0x536f('0x21b')]=function(_0x5cf460){var _0x398e44=this[_0x536f('0x1ea')],_0x13e628=_0x398e44[_0x536f('0xd')],_0x1cbe5e=_0x5cf460||this['fixedTimeStep'],_0x1247a6=this[_0x536f('0x1e2')],_0x199cdb=this[_0x536f('0x169')];if(this[_0x536f('0x215')](_0x1cbe5e),this[_0x536f('0x218')](),0x0!==_0x13e628||!0x1!==this[_0x536f('0x1e0')]||!0x1!==this['_attributesNeedDynamicReset']){for(var _0x7c2a46,_0x46bd1a=0x0;_0x46bd1a<_0x13e628;++_0x46bd1a)(_0x7c2a46=_0x398e44[_0x46bd1a])['tick'](_0x1cbe5e),this[_0x536f('0x219')](_0x7c2a46);if(!0x0===this[_0x536f('0x1e1')]){for(_0x46bd1a=this['attributeCount']-0x1;0x0<=_0x46bd1a;--_0x46bd1a)_0x199cdb[_0x1247a6[_0x46bd1a]][_0x536f('0x21c')]();this[_0x536f('0x1e1')]=!0x1;}if(!0x0===this[_0x536f('0x1e0')]){for(_0x46bd1a=this[_0x536f('0x1e3')]-0x1;0x0<=_0x46bd1a;--_0x46bd1a)_0x199cdb[_0x1247a6[_0x46bd1a]][_0x536f('0xfd')]();this[_0x536f('0x1e0')]=!0x1,this[_0x536f('0x1e1')]=!0x0;}}},_0x59cde9['Group'][_0x536f('0x8')][_0x536f('0xcd')]=function(){return this[_0x536f('0xd0')][_0x536f('0xcd')](),this[_0x536f('0xce')]['dispose'](),this;},_0x59cde9[_0x536f('0x1f8')]=function(_0x5cf460){var _0x398e44,_0x13e628=_0x59cde9['utils'],_0x1cbe5e=_0x13e628['types'],_0x1247a6=_0x59cde9['valueOverLifetimeLength'];for(_0x398e44 in(_0x5cf460=_0x13e628[_0x536f('0x1a9')](_0x5cf460,_0x1cbe5e['OBJECT'],{}))[_0x536f('0x3b')]=_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x3b')],_0x1cbe5e[_0x536f('0x1c6')],{}),_0x5cf460[_0x536f('0x1ff')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1ff')],_0x1cbe5e[_0x536f('0x1c6')],{}),_0x5cf460[_0x536f('0x200')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x200')],_0x1cbe5e[_0x536f('0x1c6')],{}),_0x5cf460[_0x536f('0x21d')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x21d')],_0x1cbe5e[_0x536f('0x1c6')],{}),_0x5cf460[_0x536f('0x21e')]=_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x21e')],_0x1cbe5e['OBJECT'],{}),_0x5cf460[_0x536f('0x1f0')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1f0')],_0x1cbe5e[_0x536f('0x1c6')],{}),_0x5cf460[_0x536f('0x21f')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460['color'],_0x1cbe5e[_0x536f('0x1c6')],{}),_0x5cf460[_0x536f('0x201')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x201')],_0x1cbe5e['OBJECT'],{}),_0x5cf460['size']=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0xd7')],_0x1cbe5e['OBJECT'],{}),_0x5cf460[_0x536f('0x1ed')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1ed')],_0x1cbe5e[_0x536f('0x1c6')],{}),_0x5cf460[_0x536f('0x1f3')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1f3')],_0x1cbe5e[_0x536f('0x1c6')],{}),_0x5cf460[_0x536f('0x1fb')]=_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x1fb')],_0x1cbe5e['OBJECT'],{}),_0x5cf460[_0x536f('0x220')],this[_0x536f('0x1c8')]=THREE[_0x536f('0x19')][_0x536f('0x1c9')](),this[_0x536f('0x76')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x76')],_0x1cbe5e['NUMBER'],_0x59cde9[_0x536f('0x221')][_0x536f('0x222')]),this[_0x536f('0x3b')]={'_value':_0x13e628[_0x536f('0x1aa')](_0x5cf460[_0x536f('0x3b')][_0x536f('0x10')],THREE[_0x536f('0x59')],new THREE[(_0x536f('0x59'))]()),'_spread':_0x13e628['ensureInstanceOf'](_0x5cf460['position'][_0x536f('0x1ee')],THREE[_0x536f('0x59')],new THREE[(_0x536f('0x59'))]()),'_spreadClamp':_0x13e628[_0x536f('0x1aa')](_0x5cf460['position'][_0x536f('0x223')],THREE[_0x536f('0x59')],new THREE[(_0x536f('0x59'))]()),'_distribution':_0x13e628[_0x536f('0x1a9')](_0x5cf460['position']['distribution'],_0x1cbe5e[_0x536f('0x1b4')],this['type']),'_randomise':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x3b')][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1),'_radius':_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x3b')][_0x536f('0x21d')],_0x1cbe5e['NUMBER'],0xa),'_radiusScale':_0x13e628[_0x536f('0x1aa')](_0x5cf460[_0x536f('0x3b')]['radiusScale'],THREE[_0x536f('0x59')],new THREE[(_0x536f('0x59'))](0x1,0x1,0x1)),'_distributionClamp':_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x3b')][_0x536f('0x225')],_0x1cbe5e[_0x536f('0x1b4')],0x0)},this[_0x536f('0x1ff')]={'_value':_0x13e628[_0x536f('0x1aa')](_0x5cf460['velocity'][_0x536f('0x10')],THREE['Vector3'],new THREE[(_0x536f('0x59'))]()),'_spread':_0x13e628[_0x536f('0x1aa')](_0x5cf460[_0x536f('0x1ff')]['spread'],THREE[_0x536f('0x59')],new THREE[(_0x536f('0x59'))]()),'_distribution':_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x1ff')][_0x536f('0x226')],_0x1cbe5e['NUMBER'],this[_0x536f('0x76')]),'_randomise':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x3b')]['randomise'],_0x1cbe5e['BOOLEAN'],!0x1)},this[_0x536f('0x200')]={'_value':_0x13e628[_0x536f('0x1aa')](_0x5cf460['acceleration'][_0x536f('0x10')],THREE[_0x536f('0x59')],new THREE[(_0x536f('0x59'))]()),'_spread':_0x13e628[_0x536f('0x1aa')](_0x5cf460['acceleration']['spread'],THREE[_0x536f('0x59')],new THREE[(_0x536f('0x59'))]()),'_distribution':_0x13e628['ensureTypedArg'](_0x5cf460['acceleration'][_0x536f('0x226')],_0x1cbe5e['NUMBER'],this[_0x536f('0x76')]),'_randomise':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x3b')][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1)},this[_0x536f('0x21e')]={'_value':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x21e')][_0x536f('0x10')],_0x1cbe5e[_0x536f('0x1b4')],0x0),'_spread':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x21e')][_0x536f('0x1ee')],_0x1cbe5e['NUMBER'],0x0),'_randomise':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x3b')][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1)},this[_0x536f('0x1f3')]={'_value':_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x1f3')][_0x536f('0x10')],_0x1cbe5e[_0x536f('0x1b4')],0x0),'_spread':_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x1f3')]['spread'],_0x1cbe5e['NUMBER'],0x0)},this[_0x536f('0x1f0')]={'_axis':_0x13e628[_0x536f('0x1aa')](_0x5cf460[_0x536f('0x1f0')]['axis'],THREE['Vector3'],new THREE[(_0x536f('0x59'))](0x0,0x1,0x0)),'_axisSpread':_0x13e628[_0x536f('0x1aa')](_0x5cf460[_0x536f('0x1f0')]['axisSpread'],THREE[_0x536f('0x59')],new THREE[(_0x536f('0x59'))]()),'_angle':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1f0')][_0x536f('0x1ed')],_0x1cbe5e[_0x536f('0x1b4')],0x0),'_angleSpread':_0x13e628[_0x536f('0x1a9')](_0x5cf460['rotation']['angleSpread'],_0x1cbe5e[_0x536f('0x1b4')],0x0),'_static':_0x13e628[_0x536f('0x1a9')](_0x5cf460['rotation'][_0x536f('0x227')],_0x1cbe5e[_0x536f('0x1d3')],!0x1),'_center':_0x13e628[_0x536f('0x1aa')](_0x5cf460[_0x536f('0x1f0')]['center'],THREE[_0x536f('0x59')],this['position'][_0x536f('0x1ac')][_0x536f('0x1b1')]()),'_randomise':_0x13e628[_0x536f('0x1a9')](_0x5cf460['position'][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1)},this[_0x536f('0x1fb')]={'_value':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1fb')]['value'],_0x1cbe5e[_0x536f('0x1b4')],0x2),'_spread':_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x1fb')][_0x536f('0x1ee')],_0x1cbe5e[_0x536f('0x1b4')],0x0)},this[_0x536f('0x21f')]={'_value':_0x13e628['ensureArrayInstanceOf'](_0x5cf460['color']['value'],THREE['Color'],new THREE[(_0x536f('0x1b8'))]()),'_spread':_0x13e628[_0x536f('0x228')](_0x5cf460[_0x536f('0x21f')]['spread'],THREE['Vector3'],new THREE['Vector3']()),'_randomise':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x3b')]['randomise'],_0x1cbe5e[_0x536f('0x1d3')],!0x1)},this[_0x536f('0x201')]={'_value':_0x13e628[_0x536f('0x229')](_0x5cf460[_0x536f('0x201')][_0x536f('0x10')],_0x1cbe5e[_0x536f('0x1b4')],0x1),'_spread':_0x13e628[_0x536f('0x229')](_0x5cf460['opacity'][_0x536f('0x1ee')],_0x1cbe5e['NUMBER'],0x0),'_randomise':_0x13e628[_0x536f('0x1a9')](_0x5cf460['position'][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1)},this[_0x536f('0xd7')]={'_value':_0x13e628[_0x536f('0x229')](_0x5cf460[_0x536f('0xd7')]['value'],_0x1cbe5e[_0x536f('0x1b4')],0x1),'_spread':_0x13e628[_0x536f('0x229')](_0x5cf460['size']['spread'],_0x1cbe5e['NUMBER'],0x0),'_randomise':_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x3b')]['randomise'],_0x1cbe5e[_0x536f('0x1d3')],!0x1)},this[_0x536f('0x1ed')]={'_value':_0x13e628[_0x536f('0x229')](_0x5cf460[_0x536f('0x1ed')][_0x536f('0x10')],_0x1cbe5e[_0x536f('0x1b4')],0x0),'_spread':_0x13e628[_0x536f('0x229')](_0x5cf460[_0x536f('0x1ed')][_0x536f('0x1ee')],_0x1cbe5e[_0x536f('0x1b4')],0x0),'_randomise':_0x13e628[_0x536f('0x1a9')](_0x5cf460['position'][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1)},this['particleCount']=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x1f6')],_0x1cbe5e[_0x536f('0x1b4')],0x64),this[_0x536f('0x213')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x213')],_0x1cbe5e[_0x536f('0x1b4')],null),this['isStatic']=_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x22a')],_0x1cbe5e[_0x536f('0x1d3')],!0x1),this[_0x536f('0x22b')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x22b')],_0x1cbe5e['NUMBER'],0x1),this[_0x536f('0x22c')]=_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x22c')],_0x1cbe5e['NUMBER'],0x1),this[_0x536f('0x22d')]=_0x13e628[_0x536f('0x1a9')](_0x5cf460['alive'],_0x1cbe5e['BOOLEAN'],!0x0),this[_0x536f('0x22e')]=0x0,this[_0x536f('0x22f')]=0x0,this[_0x536f('0x208')]=0x0,this[_0x536f('0x230')]=0x0,this[_0x536f('0x231')]=0x0,this[_0x536f('0x232')]=0x0,this[_0x536f('0x1fa')]=null,this['attributes']=null,this[_0x536f('0x233')]=null,this[_0x536f('0x234')]={'position':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x3b')][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1)||_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x21d')][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1),'velocity':_0x13e628[_0x536f('0x1a9')](_0x5cf460['velocity']['randomise'],_0x1cbe5e[_0x536f('0x1d3')],!0x1),'acceleration':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x200')][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1)||_0x13e628[_0x536f('0x1a9')](_0x5cf460['drag'][_0x536f('0x224')],_0x1cbe5e['BOOLEAN'],!0x1),'rotation':_0x13e628[_0x536f('0x1a9')](_0x5cf460['rotation'][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1),'rotationCenter':_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x1f0')][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1),'size':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0xd7')]['randomise'],_0x1cbe5e[_0x536f('0x1d3')],!0x1),'color':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x21f')][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1),'opacity':_0x13e628[_0x536f('0x1a9')](_0x5cf460[_0x536f('0x201')][_0x536f('0x224')],_0x1cbe5e['BOOLEAN'],!0x1),'angle':_0x13e628['ensureTypedArg'](_0x5cf460[_0x536f('0x1ed')][_0x536f('0x224')],_0x1cbe5e[_0x536f('0x1d3')],!0x1)},this[_0x536f('0x235')]={},this[_0x536f('0x236')]={},this[_0x536f('0x237')]={'maxAge':_0x536f('0x238'),'position':_0x536f('0x3b'),'velocity':'velocity','acceleration':'acceleration','drag':'acceleration','wiggle':_0x536f('0x238'),'rotation':'rotation','size':'size','color':_0x536f('0x21f'),'opacity':_0x536f('0x201'),'angle':_0x536f('0x1ed')},this['updateMap'])this['updateMap'][_0x536f('0x9')](_0x398e44)&&(this['updateCounts'][this['updateMap'][_0x398e44]]=0x0,this[_0x536f('0x235')][this[_0x536f('0x237')][_0x398e44]]=!0x1,this['_createGetterSetters'](this[_0x398e44],_0x398e44));this['bufferUpdateRanges']={},this[_0x536f('0x1e2')]=null,this[_0x536f('0x1e3')]=0x0,_0x13e628[_0x536f('0x239')](this[_0x536f('0x21f')],_0x1247a6,_0x1247a6),_0x13e628[_0x536f('0x239')](this['opacity'],_0x1247a6,_0x1247a6),_0x13e628['ensureValueOverLifetimeCompliance'](this[_0x536f('0xd7')],_0x1247a6,_0x1247a6),_0x13e628[_0x536f('0x239')](this[_0x536f('0x1ed')],_0x1247a6,_0x1247a6);},_0x59cde9['Emitter']['constructor']=_0x59cde9[_0x536f('0x1f8')],_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')][_0x536f('0x23a')]=function(_0x5cf460,_0x199cdb){var _0x398e44,_0x13e628,_0x7c2a46=this;for(_0x398e44 in _0x5cf460)_0x5cf460[_0x536f('0x9')](_0x398e44)&&(_0x13e628=_0x398e44[_0x536f('0x56')]('_',''),(0x0,_0x1247a6['default'])(_0x5cf460,_0x13e628,{'get':function(_0x5cf460){return function(){return this[_0x5cf460];};}(_0x398e44),'set':function(_0x1247a6){return function(_0x5cf460){var _0x398e44=_0x7c2a46[_0x536f('0x237')][_0x199cdb],_0x13e628=this[_0x1247a6],_0x1cbe5e=_0x59cde9['valueOverLifetimeLength'];_0x536f('0x23b')===_0x1247a6?(_0x7c2a46[_0x536f('0x235')]['rotationCenter']=!0x0,_0x7c2a46['updateCounts'][_0x536f('0x23c')]=0x0):_0x536f('0x23d')===_0x1247a6?_0x7c2a46[_0x536f('0x234')][_0x398e44]=_0x5cf460:(_0x7c2a46[_0x536f('0x235')][_0x398e44]=!0x0,_0x7c2a46[_0x536f('0x236')][_0x398e44]=0x0),_0x7c2a46['group']['_updateDefines'](),this[_0x1247a6]=_0x5cf460,Array[_0x536f('0x1ab')](_0x13e628)&&_0x59cde9['utils'][_0x536f('0x239')](_0x7c2a46[_0x199cdb],_0x1cbe5e,_0x1cbe5e);};}(_0x398e44)}));},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')]['_setBufferUpdateRanges']=function(_0x5cf460){this['attributeKeys']=_0x5cf460,this[_0x536f('0x1e3')]=_0x5cf460[_0x536f('0xd')];for(var _0x398e44=this[_0x536f('0x1e3')]-0x1;0x0<=_0x398e44;--_0x398e44)this[_0x536f('0x21a')][_0x5cf460[_0x398e44]]={'min':Number[_0x536f('0x23e')],'max':Number[_0x536f('0x23f')]};},_0x59cde9['Emitter']['prototype'][_0x536f('0x240')]=function(_0x5cf460){var _0x398e44=this['particleCount'];this[_0x536f('0x213')]?this['particlesPerSecond']=_0x398e44/(_0x5cf460<this[_0x536f('0x213')]?_0x5cf460:this['duration']):this['particlesPerSecond']=_0x398e44/_0x5cf460;},_0x59cde9[_0x536f('0x1f8')]['prototype'][_0x536f('0x1fd')]=function(_0x5cf460){this[_0x536f('0x208')]=_0x5cf460,this[_0x536f('0x22f')]=_0x5cf460,this[_0x536f('0x241')]=_0x5cf460+this[_0x536f('0x1f6')];},_0x59cde9[_0x536f('0x1f8')]['prototype'][_0x536f('0x242')]=function(_0x5cf460,_0x398e44){switch(_0x5cf460){case _0x536f('0x3b'):this[_0x536f('0x243')](_0x398e44);break;case'velocity':case _0x536f('0x200'):this[_0x536f('0x1fe')](_0x398e44,_0x5cf460);break;case _0x536f('0xd7'):case _0x536f('0x201'):this['_assignAbsLifetimeValue'](_0x398e44,_0x5cf460);break;case _0x536f('0x1ed'):this['_assignAngleValue'](_0x398e44);break;case'params':this[_0x536f('0x203')](_0x398e44);break;case _0x536f('0x1f0'):this[_0x536f('0x244')](_0x398e44);break;case _0x536f('0x21f'):this[_0x536f('0x245')](_0x398e44);}},_0x59cde9[_0x536f('0x1f8')]['prototype'][_0x536f('0x243')]=function(_0x5cf460){var _0x398e44=_0x59cde9[_0x536f('0x221')],_0x13e628=_0x59cde9[_0x536f('0x1a8')],_0x1cbe5e=this[_0x536f('0x3b')],_0x1247a6=this[_0x536f('0x169')][_0x536f('0x3b')],_0x199cdb=_0x1cbe5e[_0x536f('0x1ac')],_0x7c2a46=_0x1cbe5e[_0x536f('0x1ad')];switch(_0x1cbe5e['_distribution']){case _0x398e44[_0x536f('0x222')]:_0x13e628[_0x536f('0x246')](_0x1247a6,_0x5cf460,_0x199cdb,_0x7c2a46,_0x1cbe5e['_spreadClamp']);break;case _0x398e44['SPHERE']:_0x13e628['randomVector3OnSphere'](_0x1247a6,_0x5cf460,_0x199cdb,_0x1cbe5e[_0x536f('0x247')],_0x1cbe5e[_0x536f('0x1ad')]['x'],_0x1cbe5e[_0x536f('0x248')],_0x1cbe5e[_0x536f('0x249')]['x'],_0x1cbe5e[_0x536f('0x24a')]||this[_0x536f('0x1f6')]);break;case _0x398e44['DISC']:_0x13e628['randomVector3OnDisc'](_0x1247a6,_0x5cf460,_0x199cdb,_0x1cbe5e['_radius'],_0x1cbe5e[_0x536f('0x1ad')]['x'],_0x1cbe5e[_0x536f('0x248')],_0x1cbe5e['_spreadClamp']['x']);}},_0x59cde9['Emitter'][_0x536f('0x8')][_0x536f('0x1fe')]=function(_0x5cf460,_0x398e44){var _0x13e628,_0x1cbe5e,_0x1247a6,_0x199cdb,_0x7c2a46,_0x46bd1a=_0x59cde9[_0x536f('0x221')],_0x5a5205=_0x59cde9['utils'],_0x541ede=this[_0x398e44],_0x541db2=_0x541ede[_0x536f('0x1ac')],_0x2b029b=_0x541ede['_spread'];switch(_0x541ede[_0x536f('0x24b')]){case _0x46bd1a[_0x536f('0x222')]:_0x5a5205[_0x536f('0x246')](this[_0x536f('0x169')][_0x398e44],_0x5cf460,_0x541db2,_0x2b029b);break;case _0x46bd1a['SPHERE']:_0x1cbe5e=(_0x13e628=this['attributes'][_0x536f('0x3b')][_0x536f('0xef')][_0x536f('0xd8')])[_0x7c2a46=0x3*_0x5cf460],_0x1247a6=_0x13e628[_0x7c2a46+0x1],_0x199cdb=_0x13e628[_0x7c2a46+0x2],_0x5a5205[_0x536f('0x24c')](this['attributes'][_0x398e44],_0x5cf460,_0x1cbe5e,_0x1247a6,_0x199cdb,this[_0x536f('0x3b')][_0x536f('0x1ac')],_0x541ede[_0x536f('0x1ac')]['x'],_0x541ede[_0x536f('0x1ad')]['x']);break;case _0x46bd1a[_0x536f('0x24d')]:_0x1cbe5e=(_0x13e628=this[_0x536f('0x169')][_0x536f('0x3b')][_0x536f('0xef')][_0x536f('0xd8')])[_0x7c2a46=0x3*_0x5cf460],_0x1247a6=_0x13e628[_0x7c2a46+0x1],_0x199cdb=_0x13e628[_0x7c2a46+0x2],_0x5a5205[_0x536f('0x24e')](this[_0x536f('0x169')][_0x398e44],_0x5cf460,_0x1cbe5e,_0x1247a6,_0x199cdb,this[_0x536f('0x3b')][_0x536f('0x1ac')],_0x541ede[_0x536f('0x1ac')]['x'],_0x541ede[_0x536f('0x1ad')]['x']);}_0x536f('0x200')===_0x398e44&&(_0x46bd1a=_0x5a5205['clamp'](_0x5a5205[_0x536f('0x1bf')](this['drag'][_0x536f('0x1ac')],this['drag']['_spread']),0x0,0x1),this[_0x536f('0x169')][_0x536f('0x200')][_0x536f('0xef')][_0x536f('0xd8')][0x4*_0x5cf460+0x3]=_0x46bd1a);},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')][_0x536f('0x24f')]=function(_0x5cf460,_0x398e44){var _0x13e628,_0x1cbe5e=this[_0x536f('0x169')][_0x398e44][_0x536f('0xef')],_0x398e44=this[_0x398e44],_0x1247a6=_0x59cde9['utils'];_0x1247a6[_0x536f('0x250')](_0x398e44[_0x536f('0x1ac')])&&_0x1247a6[_0x536f('0x250')](_0x398e44['_spread'])?(_0x13e628=Math['abs'](_0x1247a6[_0x536f('0x1bf')](_0x398e44[_0x536f('0x1ac')][0x0],_0x398e44[_0x536f('0x1ad')][0x0])),_0x1cbe5e['setVec4Components'](_0x5cf460,_0x13e628,_0x13e628,_0x13e628,_0x13e628)):_0x1cbe5e[_0x536f('0x251')](_0x5cf460,Math[_0x536f('0x1b9')](_0x1247a6['randomFloat'](_0x398e44[_0x536f('0x1ac')][0x0],_0x398e44[_0x536f('0x1ad')][0x0])),Math['abs'](_0x1247a6[_0x536f('0x1bf')](_0x398e44['_value'][0x1],_0x398e44['_spread'][0x1])),Math[_0x536f('0x1b9')](_0x1247a6[_0x536f('0x1bf')](_0x398e44[_0x536f('0x1ac')][0x2],_0x398e44[_0x536f('0x1ad')][0x2])),Math[_0x536f('0x1b9')](_0x1247a6[_0x536f('0x1bf')](_0x398e44[_0x536f('0x1ac')][0x3],_0x398e44[_0x536f('0x1ad')][0x3])));},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')][_0x536f('0x202')]=function(_0x5cf460){var _0x398e44,_0x13e628=this[_0x536f('0x169')][_0x536f('0x1ed')][_0x536f('0xef')],_0x1cbe5e=this[_0x536f('0x1ed')],_0x1247a6=_0x59cde9[_0x536f('0x1a8')];_0x1247a6[_0x536f('0x250')](_0x1cbe5e[_0x536f('0x1ac')])&&_0x1247a6['arrayValuesAreEqual'](_0x1cbe5e['_spread'])?(_0x398e44=_0x1247a6[_0x536f('0x1bf')](_0x1cbe5e['_value'][0x0],_0x1cbe5e[_0x536f('0x1ad')][0x0]),_0x13e628[_0x536f('0x251')](_0x5cf460,_0x398e44,_0x398e44,_0x398e44,_0x398e44)):_0x13e628['setVec4Components'](_0x5cf460,_0x1247a6['randomFloat'](_0x1cbe5e['_value'][0x0],_0x1cbe5e[_0x536f('0x1ad')][0x0]),_0x1247a6['randomFloat'](_0x1cbe5e[_0x536f('0x1ac')][0x1],_0x1cbe5e[_0x536f('0x1ad')][0x1]),_0x1247a6[_0x536f('0x1bf')](_0x1cbe5e[_0x536f('0x1ac')][0x2],_0x1cbe5e[_0x536f('0x1ad')][0x2]),_0x1247a6[_0x536f('0x1bf')](_0x1cbe5e['_value'][0x3],_0x1cbe5e[_0x536f('0x1ad')][0x3]));},_0x59cde9['Emitter'][_0x536f('0x8')][_0x536f('0x203')]=function(_0x5cf460){this[_0x536f('0x169')][_0x536f('0x238')]['typedArray'][_0x536f('0x251')](_0x5cf460,this[_0x536f('0x22a')]?0x1:0x0,0x0,Math[_0x536f('0x1b9')](_0x59cde9['utils']['randomFloat'](this[_0x536f('0x1fb')][_0x536f('0x1ac')],this[_0x536f('0x1fb')][_0x536f('0x1ad')])),_0x59cde9[_0x536f('0x1a8')][_0x536f('0x1bf')](this[_0x536f('0x1f3')]['_value'],this[_0x536f('0x1f3')][_0x536f('0x1ad')]));},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')][_0x536f('0x244')]=function(_0x5cf460){this['attributes']['rotation'][_0x536f('0xef')][_0x536f('0xe5')](_0x5cf460,_0x59cde9[_0x536f('0x1a8')]['getPackedRotationAxis'](this['rotation'][_0x536f('0x252')],this[_0x536f('0x1f0')][_0x536f('0x253')]),_0x59cde9[_0x536f('0x1a8')][_0x536f('0x1bf')](this[_0x536f('0x1f0')]['_angle'],this[_0x536f('0x1f0')][_0x536f('0x254')]),this['rotation'][_0x536f('0x255')]?0x0:0x1),this[_0x536f('0x169')][_0x536f('0x23c')][_0x536f('0xef')][_0x536f('0xe4')](_0x5cf460,this[_0x536f('0x1f0')][_0x536f('0x256')]);},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')][_0x536f('0x245')]=function(_0x5cf460){_0x59cde9[_0x536f('0x1a8')][_0x536f('0x257')](this[_0x536f('0x169')][_0x536f('0x21f')],_0x5cf460,this[_0x536f('0x21f')][_0x536f('0x1ac')],this[_0x536f('0x21f')]['_spread']);},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')][_0x536f('0x258')]=function(_0x5cf460){for(var _0x398e44,_0x13e628,_0x1cbe5e=this[_0x536f('0x234')],_0x1247a6=this['updateFlags'],_0x199cdb=this[_0x536f('0x236')],_0x7c2a46=this[_0x536f('0x1e2')],_0x46bd1a=this[_0x536f('0x1e3')]-0x1;0x0<=_0x46bd1a;--_0x46bd1a)_0x13e628=_0x1247a6[_0x398e44=_0x7c2a46[_0x46bd1a]],!0x0!==_0x1cbe5e[_0x398e44]&&!0x0!==_0x13e628||(this[_0x536f('0x242')](_0x398e44,_0x5cf460),this[_0x536f('0x259')](_0x398e44,_0x5cf460),!0x0===_0x13e628&&_0x199cdb[_0x398e44]===this[_0x536f('0x1f6')]?(_0x1247a6[_0x398e44]=!0x1,_0x199cdb[_0x398e44]=0x0):0x1==_0x13e628&&++_0x199cdb[_0x398e44]);},_0x59cde9['Emitter'][_0x536f('0x8')][_0x536f('0x259')]=function(_0x5cf460,_0x398e44){_0x5cf460=this[_0x536f('0x21a')][_0x5cf460];_0x5cf460[_0x536f('0x7f')]=Math['min'](_0x398e44,_0x5cf460[_0x536f('0x7f')]),_0x5cf460[_0x536f('0x1af')]=Math[_0x536f('0x1af')](_0x398e44,_0x5cf460[_0x536f('0x1af')]);},_0x59cde9[_0x536f('0x1f8')]['prototype']['_resetBufferRanges']=function(){for(var _0x5cf460,_0x398e44=this[_0x536f('0x21a')],_0x13e628=this[_0x536f('0x25a')],_0x1cbe5e=this[_0x536f('0x25b')]-0x1;0x0<=_0x1cbe5e;--_0x1cbe5e)_0x398e44[_0x5cf460=_0x13e628[_0x1cbe5e]][_0x536f('0x7f')]=Number[_0x536f('0x23e')],_0x398e44[_0x5cf460][_0x536f('0x1af')]=Number[_0x536f('0x23f')];},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')][_0x536f('0x209')]=function(){this[_0x536f('0x22e')]=0x0,this['attributeOffset']=0x0,this[_0x536f('0x22f')]=0x0,this[_0x536f('0x232')]=0x0,this['group']=null,this[_0x536f('0x169')]=null,this[_0x536f('0x233')]=null,this[_0x536f('0x231')]=0x0;},_0x59cde9[_0x536f('0x1f8')]['prototype'][_0x536f('0x25c')]=function(){--this[_0x536f('0x232')];},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')][_0x536f('0x25d')]=function(){++this[_0x536f('0x232')];},_0x59cde9[_0x536f('0x1f8')]['prototype']['_checkParticleAges']=function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e){for(var _0x1247a6,_0x199cdb,_0x7c2a46,_0x46bd1a,_0x5a5205=_0x398e44-0x1;_0x5cf460<=_0x5a5205;--_0x5a5205)0x0!==(_0x46bd1a=_0x13e628[_0x1247a6=0x4*_0x5a5205])&&(_0x7c2a46=_0x13e628[0x1+_0x1247a6],_0x199cdb=_0x13e628[0x2+_0x1247a6],0x1===this[_0x536f('0x22c')]?_0x199cdb<=(_0x7c2a46+=_0x1cbe5e)&&(_0x46bd1a=_0x7c2a46=0x0,this['_decrementParticleCount']()):(_0x7c2a46-=_0x1cbe5e)<=0x0&&(_0x7c2a46=_0x199cdb,_0x46bd1a=0x0,this[_0x536f('0x25c')]()),_0x13e628[_0x1247a6]=_0x46bd1a,_0x13e628[0x1+_0x1247a6]=_0x7c2a46,this[_0x536f('0x259')]('params',_0x5a5205));},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')]['_activateParticles']=function(_0x5cf460,_0x398e44,_0x13e628,_0x1cbe5e){for(var _0x1247a6,_0x199cdb,_0x7c2a46=this['direction'],_0x46bd1a=_0x5cf460;_0x46bd1a<_0x398e44;++_0x46bd1a)0x0!=_0x13e628[_0x1247a6=0x4*_0x46bd1a]&&0x1!==this[_0x536f('0x1f6')]||(this['_incrementParticleCount'](),_0x13e628[_0x1247a6]=0x1,this[_0x536f('0x258')](_0x46bd1a),_0x199cdb=_0x1cbe5e*(_0x46bd1a-_0x5cf460),_0x13e628[0x1+_0x1247a6]=-0x1===_0x7c2a46?_0x13e628[0x2+_0x1247a6]-_0x199cdb:_0x199cdb,this[_0x536f('0x259')](_0x536f('0x238'),_0x46bd1a));},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')][_0x536f('0x21b')]=function(_0x5cf460){if(!this[_0x536f('0x22a')]){null===this[_0x536f('0x233')]&&(this['paramsArray']=this['attributes'][_0x536f('0x238')][_0x536f('0xef')][_0x536f('0xd8')]);var _0x398e44=this[_0x536f('0x208')],_0x13e628=_0x398e44+this[_0x536f('0x1f6')],_0x1cbe5e=this['paramsArray'],_0x1247a6=this['particlesPerSecond']*this[_0x536f('0x22b')]*_0x5cf460,_0x199cdb=this[_0x536f('0x22f')];if(this[_0x536f('0x218')](),this[_0x536f('0x25e')](_0x398e44,_0x13e628,_0x1cbe5e,_0x5cf460),!0x1===this[_0x536f('0x22d')])this[_0x536f('0x231')]=0x0;else{if(null!==this[_0x536f('0x213')]&&this[_0x536f('0x231')]>this['duration'])return this[_0x536f('0x22d')]=!0x1,void(this[_0x536f('0x231')]=0x0);var _0x199cdb=0x1===this[_0x536f('0x1f6')]?_0x199cdb:0x0|_0x199cdb,_0x7c2a46=Math[_0x536f('0x7f')](_0x199cdb+_0x1247a6,this[_0x536f('0x241')]),_0x46bd1a=_0x7c2a46-this[_0x536f('0x22f')]|0x0;this[_0x536f('0x25f')](_0x199cdb,_0x7c2a46,_0x1cbe5e,0x0<_0x46bd1a?_0x5cf460/_0x46bd1a:0x0),this['activationIndex']+=_0x1247a6,this['activationIndex']>_0x13e628&&(this[_0x536f('0x22f')]=_0x398e44),this[_0x536f('0x231')]+=_0x5cf460;}}},_0x59cde9['Emitter'][_0x536f('0x8')]['reset']=function(_0x5cf460){if(this[_0x536f('0x231')]=0x0,!(this[_0x536f('0x22d')]=!0x1)===_0x5cf460){for(var _0x398e44,_0x13e628=this[_0x536f('0x208')],_0x5cf460=_0x13e628+this[_0x536f('0x1f6')],_0x1cbe5e=this[_0x536f('0x233')],_0x1247a6=this[_0x536f('0x169')]['params'][_0x536f('0xf0')],_0x199cdb=_0x5cf460-0x1;_0x13e628<=_0x199cdb;--_0x199cdb)_0x1cbe5e[_0x398e44=0x4*_0x199cdb]=0x0,_0x1cbe5e[0x1+_0x398e44]=0x0;_0x1247a6[_0x536f('0xf7')][_0x536f('0xf8')]=0x0,_0x1247a6[_0x536f('0xf7')][_0x536f('0xf9')]=-0x1,_0x1247a6[_0x536f('0xfa')]=!0x0;}return this;},_0x59cde9['Emitter'][_0x536f('0x8')][_0x536f('0x211')]=function(){return this[_0x536f('0x22d')]=!0x0,this;},_0x59cde9[_0x536f('0x1f8')]['prototype']['disable']=function(){return this[_0x536f('0x22d')]=!0x1,this;},_0x59cde9[_0x536f('0x1f8')][_0x536f('0x8')]['remove']=function(){return null!==this[_0x536f('0x1fa')]?this['group'][_0x536f('0x205')](this):console[_0x536f('0x1f9')](_0x536f('0x260')),this;};},function(_0x42a4fe,_0x2265bf,_0x30cefc){_0x42a4fe['exports']={'default':_0x30cefc(0x5f),'__esModule':!0x0};},function(_0x2c375a,_0x4f6796,_0x47d293){_0x2c375a[_0x536f('0x0')]=!_0x47d293(0x7)&&!_0x47d293(0xd)(function(){return 0x7!=Object['defineProperty'](_0x47d293(0x30)('div'),'a',{'get':function(){return 0x7;}})['a'];});},function(_0x2151b6,_0x47af85,_0x41629b){_0x2151b6[_0x536f('0x0')]=_0x41629b(0xb);},function(_0x52fe05,_0x10563b,_0x26206c){var _0xee7e5b=_0x26206c(0xc),_0x42603a=_0x26206c(0xf),_0x199fc4=_0x26206c(0x57)(!0x1),_0x4a6c33=_0x26206c(0x28)(_0x536f('0x68'));_0x52fe05[_0x536f('0x0')]=function(_0x52fe05,_0x10563b){var _0x26206c,_0x6ab152=_0x42603a(_0x52fe05),_0x40cb89=0x0,_0x543a51=[];for(_0x26206c in _0x6ab152)_0x26206c!=_0x4a6c33&&_0xee7e5b(_0x6ab152,_0x26206c)&&_0x543a51[_0x536f('0x82')](_0x26206c);for(;_0x10563b[_0x536f('0xd')]>_0x40cb89;)_0xee7e5b(_0x6ab152,_0x26206c=_0x10563b[_0x40cb89++])&&!~_0x199fc4(_0x543a51,_0x26206c)&&_0x543a51[_0x536f('0x82')](_0x26206c);return _0x543a51;};},function(_0x4ce1bc,_0x220945,_0x400561){'use strict';Object[_0x536f('0x1')](_0x220945,_0x536f('0x4'),{'value':!0x0});var _0x4d24ff=_0x4d1c81(_0x400561(0x20)),_0xe2103=_0x4d1c81(_0x400561(0x4)),_0x173be0=_0x4d1c81(_0x400561(0x0));function _0x4d1c81(_0x4ce1bc){return _0x4ce1bc&&_0x4ce1bc['__esModule']?_0x4ce1bc:{'default':_0x4ce1bc};}function _0x545817(){(0x0,_0x173be0[_0x536f('0x6')])(this,_0x545817),this[_0x536f('0x261')]=new THREE['TextureLoader'](),this[_0x536f('0x262')]=[];}(0x0,_0x4d1c81(_0x400561(0x1))[_0x536f('0x6')])(_0x545817,[{'key':_0x536f('0x263'),'value':function(_0x4ce1bc,_0x220945){var _0x400561=this[_0x536f('0x264')](_0x4ce1bc);return _0x220945||!_0x400561?(_0x220945=this[_0x536f('0x261')][_0x536f('0x263')](_0x4ce1bc),this['textureList'][_0x536f('0x82')]({'texture':_0x220945,'path':_0x4ce1bc}),_0x220945):_0x400561['texture'];}},{'key':_0x536f('0x264'),'value':function(_0x4ce1bc){var _0x220945=!0x0,_0x400561=!0x1,_0x173be0=void 0x0;try{for(var _0x4d24ff,_0x4d1c81=(0x0,_0xe2103[_0x536f('0x6')])(this[_0x536f('0x262')]);!(_0x220945=(_0x4d24ff=_0x4d1c81[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x220945=!0x0){var _0x545817=_0x4d24ff[_0x536f('0x10')];if(_0x545817['path']===_0x4ce1bc)return _0x545817;}}catch(_0x1eab6b){_0x400561=!0x0,_0x173be0=_0x1eab6b;}finally{try{!_0x220945&&_0x4d1c81[_0x536f('0x265')]&&_0x4d1c81[_0x536f('0x265')]();}finally{if(_0x400561)throw _0x173be0;}}return!0x1;}},{'key':_0x536f('0x266'),'value':function(_0x4ce1bc){for(var _0x220945=[],_0x400561=0x0,_0x173be0=_0x4ce1bc['length'];_0x400561<_0x173be0;_0x400561++)_0x4ce1bc[_0x400561]['path']&&_0x220945[_0x536f('0x82')](this['textureLoad'](_0x4ce1bc[_0x400561]));return _0x4d24ff[_0x536f('0x6')]['all'](_0x220945);}},{'key':_0x536f('0x267'),'value':function(_0x400561){var _0x173be0=this;return new _0x4d24ff[(_0x536f('0x6'))](function(_0x220945,_0x4ce1bc){_0x173be0[_0x536f('0x261')][_0x536f('0x263')](_0x400561[_0x536f('0x268')],function(_0x4ce1bc){_0x4ce1bc[_0x536f('0x92')]=_0x400561[_0x536f('0x92')],_0x220945(_0x4ce1bc);});});}}],[{'key':_0x536f('0x269'),'value':function(_0x173be0){return new _0x4d24ff[(_0x536f('0x6'))](function(_0x4ce1bc,_0x220945){var _0x400561=new THREE[(_0x536f('0x26a'))]()['load'](_0x173be0,function(){_0x4ce1bc(_0x400561);});});}},{'key':_0x536f('0x26b'),'value':function(_0x400561){return new _0x4d24ff[(_0x536f('0x6'))](function(_0x220945,_0x4ce1bc){new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](_0x400561,function(_0x4ce1bc){_0x220945(_0x4ce1bc);});});}}]),_0x220945[_0x536f('0x6')]=_0x545817;},function(_0x230132,_0x3c104a){_0x230132[_0x536f('0x0')]=function(_0x230132,_0x3c104a){return{'value':_0x3c104a,'done':!!_0x230132};};},function(_0x556631,_0x3e51c6,_0x1f46c9){var _0x343852=_0x1f46c9(0x8),_0x44cccd=_0x1f46c9(0xa),_0x1b40d4=_0x1f46c9(0x14);_0x556631[_0x536f('0x0')]=_0x1f46c9(0x7)?Object[_0x536f('0x26d')]:function(_0x556631,_0x3e51c6){_0x44cccd(_0x556631);for(var _0x1f46c9,_0x56446d=_0x1b40d4(_0x3e51c6),_0x69d99c=_0x56446d[_0x536f('0xd')],_0x5c40c5=0x0;_0x5c40c5<_0x69d99c;)_0x343852['f'](_0x556631,_0x1f46c9=_0x56446d[_0x5c40c5++],_0x3e51c6[_0x1f46c9]);return _0x556631;};},function(_0x2e457d,_0x530650,_0xdbc43d){var _0x33a659=_0xdbc43d(0x23),_0xc17a55=_0xdbc43d(0x18),_0x2bddf9=_0xdbc43d(0xf),_0x305871=_0xdbc43d(0x2e),_0x2ad294=_0xdbc43d(0xc),_0x9a5af2=_0xdbc43d(0x3d),_0x4cc35f=Object[_0x536f('0x26e')];_0x530650['f']=_0xdbc43d(0x7)?_0x4cc35f:function(_0x2e457d,_0x530650){if(_0x2e457d=_0x2bddf9(_0x2e457d),_0x530650=_0x305871(_0x530650,!0x0),_0x9a5af2)try{return _0x4cc35f(_0x2e457d,_0x530650);}catch(_0x5d5bb5){}if(_0x2ad294(_0x2e457d,_0x530650))return _0xc17a55(!_0x33a659['f'][_0x536f('0xa')](_0x2e457d,_0x530650),_0x2e457d[_0x530650]);};},function(_0xa5d681,_0x30a682,_0x512d35){_0xa5d681[_0x536f('0x0')]={'default':_0x512d35(0x81),'__esModule':!0x0};},function(_0x574301,_0x1f1683){_0x574301[_0x536f('0x0')]=function(_0x574301,_0x1f1683,_0x3d7318,_0x551bfe){if(!(_0x574301 instanceof _0x1f1683)||void 0x0!==_0x551bfe&&_0x551bfe in _0x574301)throw TypeError(_0x3d7318+_0x536f('0x26f'));return _0x574301;};},function(_0x1243d9,_0x394d24,_0x4ef68a){var _0x5849ad=_0x4ef68a(0xb);_0x1243d9['exports']=function(_0x1243d9,_0x394d24,_0x4ef68a){for(var _0x4ae3d5 in _0x394d24)_0x4ef68a&&_0x1243d9[_0x4ae3d5]?_0x1243d9[_0x4ae3d5]=_0x394d24[_0x4ae3d5]:_0x5849ad(_0x1243d9,_0x4ae3d5,_0x394d24[_0x4ae3d5]);return _0x1243d9;};},function(_0x240de7,_0x530be5,_0x2e8130){_0x2e8130=_0x2e8130(0x5)[_0x536f('0x6f')];_0x240de7['exports']=_0x2e8130&&_0x2e8130[_0x536f('0x270')];},function(_0x569d8f,_0x3e702c,_0x1a049a){var _0x37c288=_0x1a049a(0xc),_0x3b7981=_0x1a049a(0x13),_0x1367c2=_0x1a049a(0x28)(_0x536f('0x68')),_0x53512a=Object[_0x536f('0x8')];_0x569d8f[_0x536f('0x0')]=Object['getPrototypeOf']||function(_0x569d8f){return _0x569d8f=_0x3b7981(_0x569d8f),_0x37c288(_0x569d8f,_0x1367c2)?_0x569d8f[_0x1367c2]:_0x536f('0x15')==typeof _0x569d8f[_0x536f('0x7d')]&&_0x569d8f instanceof _0x569d8f[_0x536f('0x7d')]?_0x569d8f[_0x536f('0x7d')]['prototype']:_0x569d8f instanceof Object?_0x53512a:null;};},function(_0x19f1f6,_0x12e484,_0x4081ce){var _0x32e2c1=_0x4081ce(0x3),_0x3d1c61=_0x4081ce(0x2),_0x4fbc27=_0x4081ce(0xd);_0x19f1f6['exports']=function(_0x19f1f6,_0x12e484){var _0x4081ce=(_0x3d1c61[_0x536f('0x8b')]||{})[_0x19f1f6]||Object[_0x19f1f6],_0x5d5de3={};_0x5d5de3[_0x19f1f6]=_0x12e484(_0x4081ce),_0x32e2c1(_0x32e2c1['S']+_0x32e2c1['F']*_0x4fbc27(function(){_0x4081ce(0x1);}),_0x536f('0x8b'),_0x5d5de3);};},function(_0x423d13,_0x5c81fb,_0x2cc168){_0x423d13[_0x536f('0x0')]={'default':_0x2cc168(0x62),'__esModule':!0x0};},function(_0x1c34f2,_0xfb2aa1,_0x405966){var _0x127b77=_0x405966(0x19);_0x1c34f2['exports']=Array[_0x536f('0x1ab')]||function(_0x1c34f2){return _0x536f('0x63')==_0x127b77(_0x1c34f2);};},function(_0x48315e,_0x366fd5,_0x477412){var _0x2c93e4=_0x477412(0x3f),_0x2a65d2=_0x477412(0x2c)['concat'](_0x536f('0xd'),_0x536f('0x8'));_0x366fd5['f']=Object['getOwnPropertyNames']||function(_0x48315e){return _0x2c93e4(_0x48315e,_0x2a65d2);};},function(_0xceedf,_0x4b4b7c,_0x202204){var _0x1d864c=_0x202204(0x9);_0xceedf[_0x536f('0x0')]=function(_0xceedf,_0x4b4b7c){if(_0x1d864c(_0xceedf)&&_0xceedf['_t']===_0x4b4b7c)return _0xceedf;throw TypeError(_0x536f('0x271')+_0x4b4b7c+'\x20required!');};},function(_0x7f576e,_0x320079,_0x20568f){'use strict';Object[_0x536f('0x1')](_0x320079,_0x536f('0x4'),{'value':!0x0}),_0x320079[_0x536f('0x272')]=_0x320079['ESEffectsConstant']=_0x320079['ESModelEffectConstant']=_0x320079[_0x536f('0x273')]=_0x320079['ESTileConstant']=_0x320079[_0x536f('0x38')]=_0x320079[_0x536f('0x274')]=_0x320079['ESMarkerType']=void 0x0;var _0x20568f=_0x20568f(0x4a),_0x20568f=_0x20568f&&_0x20568f[_0x536f('0x4')]?_0x20568f:{'default':_0x20568f},_0x646546={'CUBE_FLOAT':(0x0,_0x20568f['default'])('cube_float'),'CYLINDER_FLOAT':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x275')),'CYLINDER_SPREAD':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x276')),'CONE_SPREAD':(0x0,_0x20568f['default'])('cone_spread'),'CIRCLE_ROTATE':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x277')),'CIRCLE_RIPPLE':(0x0,_0x20568f[_0x536f('0x6')])('circle_ripple'),'CIRCLE_BIPS':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x278')),'CIRCLES_RADIAN_ROTATE':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x279')),'CIRCLE_BREATH':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x27a')),'SPHERE_SPREAD':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x27b')),'TRANSFER_LINE':(0x0,_0x20568f[_0x536f('0x6')])('transfer_line'),'POINTS_LINE':(0x0,_0x20568f['default'])(_0x536f('0x27c')),'POINTS':(0x0,_0x20568f['default'])(_0x536f('0x27d')),'UNDERGROUND_LINE':(0x0,_0x20568f[_0x536f('0x6')])('underground_line'),'NUMBER_UP_BEAM':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x27e')),'EXTENT_WALL':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x27f')),'FIRE_SMOKE':(0x0,_0x20568f['default'])(_0x536f('0x280')),'SMOKE':(0x0,_0x20568f[_0x536f('0x6')])('smoke'),'SMOKE_SPREAD':(0x0,_0x20568f['default'])(_0x536f('0x281')),'FIRE':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x282')),'EXPLOSION':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x283')),'WATER_SPREAD':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x284')),'FLOAT_POINTS':(0x0,_0x20568f['default'])('float_points'),'DEVICE_WIND':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x285')),'ROUTES_LINE':(0x0,_0x20568f['default'])(_0x536f('0x286')),'UP_LINE':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x287')),'PLANE_VIDEO':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x288')),'GUIDE_LINE':(0x0,_0x20568f['default'])('guide_line'),'PLANE_WIND':(0x0,_0x20568f[_0x536f('0x6')])('plane_wind'),'PLANE_FOG':(0x0,_0x20568f['default'])(_0x536f('0x289')),'PLANE_TERRAIN':(0x0,_0x20568f['default'])(_0x536f('0x28a')),'PLANE_GROUND':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x28b')),'SIGNAL_WIFI':(0x0,_0x20568f[_0x536f('0x6')])('signal_wifi'),'SPRITE_SHEET':(0x0,_0x20568f['default'])(_0x536f('0x28c'))},_0x20568f={'CubeFloatMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0xb6')),'CylinderFloatMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0xb5')),'CylinderSpreadMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x28d')),'ConeSpreadMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x28e')),'CircleRotateYMarker':(0x0,_0x20568f['default'])(_0x536f('0xb4')),'CircleRippleMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x28f')),'CircleBipsMarker':(0x0,_0x20568f[_0x536f('0x6')])('CircleBipsMarker'),'CircleRadianMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x290')),'MultiCircleBreathMarker':(0x0,_0x20568f['default'])(_0x536f('0x291')),'CurveLinkLine':(0x0,_0x20568f['default'])(_0x536f('0x292')),'UpLine':(0x0,_0x20568f[_0x536f('0x6')])('UpLine'),'MulripleMeshLine':(0x0,_0x20568f['default'])(_0x536f('0xc7')),'PointsLine':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0xb3')),'Points':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0xb2')),'UnderGroundLine':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x293')),'NumberUpParticle':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x294')),'SphereSpreadMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x295')),'ExtentWallMarker':(0x0,_0x20568f['default'])(_0x536f('0x296')),'FireSmokeMarker':(0x0,_0x20568f[_0x536f('0x6')])('FireSmokeMarker'),'SmokeMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x297')),'SmokeSpreadMarker':(0x0,_0x20568f['default'])(_0x536f('0x298')),'FireMarker':(0x0,_0x20568f['default'])('FireMarker'),'ExplosionMarker':(0x0,_0x20568f['default'])(_0x536f('0x299')),'WaterSpreadMarker':(0x0,_0x20568f['default'])(_0x536f('0x29a')),'FloatPointsMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x29b')),'DeviceWindMarker':(0x0,_0x20568f['default'])(_0x536f('0x29c')),'PlaneVideoMarker':(0x0,_0x20568f[_0x536f('0x6')])('PlaneVideoMarker'),'GuideLineMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x29d')),'SignalWifiMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x29e')),'PlaneWindMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x29f')),'PlaneFogMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x2a0')),'PlaneTerrainMarker':(0x0,_0x20568f[_0x536f('0x6')])(_0x536f('0x2a1')),'PlaneGroundMarker':(0x0,_0x20568f['default'])(_0x536f('0x2a2')),'SpriteSheetMarker':(0x0,_0x20568f['default'])(_0x536f('0x2a3'))};_0x320079[_0x536f('0x2a4')]=_0x646546,_0x320079['ESMarkerLevel']={'CUBE_FLOAT':0x0,'CYLINDER_FLOAT':0x1,'CYLINDER_SPREAD':0x1,'CONE_SPREAD':0x1,'CIRCLE_ROTATE':0x0,'CIRCLE_RIPPLE':0x1,'CIRCLE_BIPS':0x1,'CIRCLES_RADIAN_ROTATE':0x1,'CIRCLE_BREATH':0x0,'SPHERE_SPREAD':0x1,'TRANSFER_LINE':0x1,'POINTS_LINE':0x1,'POINTS':0x1,'UNDERGROUND_LINE':0x0,'NUMBER_UP_BEAM':0x1,'EXTENT_WALL':0x1,'FIRE_SMOKE':0x1,'SMOKE':0x1,'SMOKE_SPREAD':0x1,'FIRE':0x1,'EXPLOSION':0x1,'WATER_SPREAD':0x1,'FLOAT_POINTS':0x1,'DEVICE_WIND':0x1,'ROUTES_LINE':0x0,'UP_LINE':0x1,'PLANE_VIDEO':0x1,'GUIDE_LINE':0x1,'PLANE_WIND':0x1,'PLANE_FOG':0x1,'PLANE_TERRAIN':0x1,'PLANE_GROUND':0x1,'SIGNAL_WIFI':0x1,'SPRITE_SHEET':0x0},_0x320079[_0x536f('0x38')]={'Engine':{'Indoor':_0x536f('0x2a5'),'Park':'PARK','City':'CITY'},'BuildingTheme':{'Dark':'dark','Light':_0x536f('0x2a6'),'Technology':_0x536f('0x2a7'),'None':_0x536f('0x6c')},'RoadTheme':{'Style1':_0x536f('0x2a8'),'Style2':_0x536f('0x2a9')}},_0x320079['ESTileConstant']={'BuildingTheme':{'Dark':_0x536f('0x2aa'),'Light':_0x536f('0x2a6'),'Technology':_0x536f('0x2a7'),'None':_0x536f('0x6c')},'TileTheme':{'Night':'night','Day':_0x536f('0x2ab')},'RoadTheme':{'Style1':'style1','Style2':_0x536f('0x2a9')}},_0x320079[_0x536f('0x273')]={'BuildingTheme':{'Dark':_0x536f('0x2aa'),'Light':_0x536f('0x2a6'),'Technology':_0x536f('0x2a7'),'None':_0x536f('0x6c')},'RoadTheme':{'Style1':_0x536f('0x2a8'),'Style2':_0x536f('0x2a9')}},_0x320079[_0x536f('0x2ac')]={'NoFace':_0x536f('0x2ad'),'LineFrame':_0x536f('0x2ae'),'BlendingAdditive':_0x536f('0x2af')},_0x320079[_0x536f('0x2b0')]={'Buildings':0x1,'Floors':0x2,'Ground':0x3,'Lights':0x4,'Routes':0x5,'Skybox':0x6,'Water':0x7,'Models':0x8,'PostProcessing':0x9,'Shadow':0xa,'Fog':0xb},_0x320079[_0x536f('0x272')]=_0x20568f;},function(_0x43cff4,_0x1064ed,_0xac432d){'use strict';var _0x1b996b=_0xac432d(0x21);function _0x277f21(_0x43cff4){var _0xac432d,_0x277f21;this['promise']=new _0x43cff4(function(_0x43cff4,_0x1064ed){if(void 0x0!==_0xac432d||void 0x0!==_0x277f21)throw TypeError('Bad\x20Promise\x20constructor');_0xac432d=_0x43cff4,_0x277f21=_0x1064ed;}),this['resolve']=_0x1b996b(_0xac432d),this[_0x536f('0x2b1')]=_0x1b996b(_0x277f21);}_0x43cff4['exports']['f']=function(_0x43cff4){return new _0x277f21(_0x43cff4);};},function(_0x3d6e14,_0x3b6670,_0x186d1a){_0x3d6e14[_0x536f('0x0')]={'default':_0x186d1a(0x8b),'__esModule':!0x0};},function(_0xa0fb4a,_0x167d64,_0x583bcd){_0x583bcd(0x52);var _0x3e9303=_0x583bcd(0x2)['Object'];_0xa0fb4a[_0x536f('0x0')]=function(_0xa0fb4a,_0x167d64,_0x583bcd){return _0x3e9303[_0x536f('0x1')](_0xa0fb4a,_0x167d64,_0x583bcd);};},function(_0x15b722,_0x37c59b,_0x428553){var _0x65589e=_0x428553(0x3);_0x65589e(_0x65589e['S']+_0x65589e['F']*!_0x428553(0x7),_0x536f('0x8b'),{'defineProperty':_0x428553(0x8)['f']});},function(_0x186fce,_0x12bd24,_0x48d1ac){_0x48d1ac(0x1b),_0x48d1ac(0x15),_0x186fce['exports']=_0x48d1ac(0x5a);},function(_0x1f4e17,_0x2104ca,_0x310bef){'use strict';var _0x247f44=_0x310bef(0x55),_0x346ff3=_0x310bef(0x41),_0x119d5f=_0x310bef(0x12),_0x2de04e=_0x310bef(0xf);_0x1f4e17[_0x536f('0x0')]=_0x310bef(0x2f)(Array,_0x536f('0x63'),function(_0x1f4e17,_0x2104ca){this['_t']=_0x2de04e(_0x1f4e17),this['_i']=0x0,this['_k']=_0x2104ca;},function(){var _0x1f4e17=this['_t'],_0x2104ca=this['_k'],_0x310bef=this['_i']++;return!_0x1f4e17||_0x310bef>=_0x1f4e17[_0x536f('0xd')]?(this['_t']=void 0x0,_0x346ff3(0x1)):_0x346ff3(0x0,_0x536f('0x5e')==_0x2104ca?_0x310bef:'values'==_0x2104ca?_0x1f4e17[_0x310bef]:[_0x310bef,_0x1f4e17[_0x310bef]]);},'values'),_0x119d5f[_0x536f('0x87')]=_0x119d5f['Array'],_0x247f44('keys'),_0x247f44(_0x536f('0x90')),_0x247f44(_0x536f('0x2b2'));},function(_0x156f94,_0x50eeaa){_0x156f94[_0x536f('0x0')]=function(){};},function(_0x486398,_0x1bfd44,_0x33ccc1){'use strict';var _0x3cadff=_0x33ccc1(0x22),_0xd01b88=_0x33ccc1(0x18),_0x3ac020=_0x33ccc1(0x1a),_0x3a538a={};_0x33ccc1(0xb)(_0x3a538a,_0x33ccc1(0x6)(_0x536f('0x8f')),function(){return this;}),_0x486398[_0x536f('0x0')]=function(_0x486398,_0x1bfd44,_0x33ccc1){_0x486398['prototype']=_0x3cadff(_0x3a538a,{'next':_0xd01b88(0x1,_0x33ccc1)}),_0x3ac020(_0x486398,_0x1bfd44+_0x536f('0x91'));};},function(_0x44da97,_0x518b4c,_0x50ecc1){var _0x439984=_0x50ecc1(0xf),_0x1f3b3d=_0x50ecc1(0x2a),_0x2b4d12=_0x50ecc1(0x58);_0x44da97['exports']=function(_0x1da584){return function(_0x44da97,_0x518b4c,_0x50ecc1){var _0x287b02,_0x80bb83=_0x439984(_0x44da97),_0x5a304b=_0x1f3b3d(_0x80bb83[_0x536f('0xd')]),_0x21318c=_0x2b4d12(_0x50ecc1,_0x5a304b);if(_0x1da584&&_0x518b4c!=_0x518b4c){for(;_0x21318c<_0x5a304b;)if((_0x287b02=_0x80bb83[_0x21318c++])!=_0x287b02)return!0x0;}else for(;_0x21318c<_0x5a304b;_0x21318c++)if((_0x1da584||_0x21318c in _0x80bb83)&&_0x80bb83[_0x21318c]===_0x518b4c)return _0x1da584||_0x21318c||0x0;return!_0x1da584&&-0x1;};};},function(_0x2f0190,_0x5d593d,_0x2fa9ab){var _0x4bc902=_0x2fa9ab(0x27),_0x5b0687=Math[_0x536f('0x1af')],_0x3d1ffd=Math[_0x536f('0x7f')];_0x2f0190[_0x536f('0x0')]=function(_0x2f0190,_0x5d593d){return(_0x2f0190=_0x4bc902(_0x2f0190))<0x0?_0x5b0687(_0x2f0190+_0x5d593d,0x0):_0x3d1ffd(_0x2f0190,_0x5d593d);};},function(_0x403874,_0xa83fb0,_0x1bd7e8){var _0x1b5971=_0x1bd7e8(0x27),_0x5e3fb3=_0x1bd7e8(0x25);_0x403874['exports']=function(_0x4fb287){return function(_0x403874,_0xa83fb0){var _0x1bd7e8,_0x403874=String(_0x5e3fb3(_0x403874)),_0xa83fb0=_0x1b5971(_0xa83fb0),_0x22384a=_0x403874[_0x536f('0xd')];return _0xa83fb0<0x0||_0x22384a<=_0xa83fb0?_0x4fb287?'':void 0x0:(_0x1bd7e8=_0x403874[_0x536f('0x2b3')](_0xa83fb0))<0xd800||0xdbff<_0x1bd7e8||_0xa83fb0+0x1===_0x22384a||(_0x22384a=_0x403874[_0x536f('0x2b3')](_0xa83fb0+0x1))<0xdc00||0xdfff<_0x22384a?_0x4fb287?_0x403874['charAt'](_0xa83fb0):_0x1bd7e8:_0x4fb287?_0x403874[_0x536f('0x60')](_0xa83fb0,_0xa83fb0+0x2):_0x22384a-0xdc00+(_0x1bd7e8-0xd800<<0xa)+0x10000;};};},function(_0x22ae6c,_0x1f6d70,_0x2bb2a9){var _0x195ba4=_0x2bb2a9(0xa),_0x1d2ef0=_0x2bb2a9(0x3a);_0x22ae6c['exports']=_0x2bb2a9(0x2)['getIterator']=function(_0x22ae6c){var _0x1f6d70=_0x1d2ef0(_0x22ae6c);if(_0x536f('0x15')!=typeof _0x1f6d70)throw TypeError(_0x22ae6c+_0x536f('0x2b4'));return _0x195ba4(_0x1f6d70[_0x536f('0xa')](_0x22ae6c));};},function(_0x5d354c,_0x5abd1c,_0x8a4afc){'use strict';var _0x3bc997=_0x8a4afc(0x5),_0x36280e=_0x8a4afc(0x2),_0x427c22=_0x8a4afc(0x8),_0x44027b=_0x8a4afc(0x7),_0x71aeac=_0x8a4afc(0x6)(_0x536f('0x2b5'));_0x5d354c[_0x536f('0x0')]=function(_0x5d354c){_0x5d354c=(_0x536f('0x15')==typeof _0x36280e[_0x5d354c]?_0x36280e:_0x3bc997)[_0x5d354c];_0x44027b&&_0x5d354c&&!_0x5d354c[_0x71aeac]&&_0x427c22['f'](_0x5d354c,_0x71aeac,{'configurable':!0x0,'get':function(){return this;}});};},function(_0x16a12d,_0x236721,_0x3a93e1){_0x16a12d[_0x536f('0x0')]={'default':_0x3a93e1(0x61),'__esModule':!0x0};},function(_0x278839,_0x5d4853,_0x1ea6dc){var _0x312290=_0x1ea6dc(0xa);_0x278839['exports']=function(_0x5d4853,_0x278839,_0x1ea6dc,_0x2559b3){try{return _0x2559b3?_0x278839(_0x312290(_0x1ea6dc)[0x0],_0x1ea6dc[0x1]):_0x278839(_0x1ea6dc);}catch(_0x16634b){_0x2559b3=_0x5d4853[_0x536f('0x265')];throw void 0x0!==_0x2559b3&&_0x312290(_0x2559b3[_0x536f('0xa')](_0x5d4853)),_0x16634b;}};},function(_0x421d8a,_0x1c281d,_0x5d72fe){var _0x4744ef=_0x5d72fe(0x12),_0x2be455=_0x5d72fe(0x6)(_0x536f('0x8f')),_0x5c3e98=Array[_0x536f('0x8')];_0x421d8a[_0x536f('0x0')]=function(_0x421d8a){return void 0x0!==_0x421d8a&&(_0x4744ef[_0x536f('0x63')]===_0x421d8a||_0x5c3e98[_0x2be455]===_0x421d8a);};},function(_0x2257d4,_0x1b3975,_0x2739b7){_0x2739b7(0x60),_0x2257d4[_0x536f('0x0')]=_0x2739b7(0x2)[_0x536f('0x8b')]['keys'];},function(_0x35465a,_0x5ef765,_0x18e1c0){var _0x118e26=_0x18e1c0(0x13),_0x2f6313=_0x18e1c0(0x14);_0x18e1c0(0x49)('keys',function(){return function(_0x35465a){return _0x2f6313(_0x118e26(_0x35465a));};});},function(_0x291590,_0x488f95,_0x24cb32){_0x24cb32(0x15),_0x24cb32(0x1b),_0x291590['exports']=_0x24cb32(0x33)['f'](_0x536f('0x8f'));},function(_0x370ac0,_0xe1f63a,_0x12ba37){_0x12ba37(0x63),_0x12ba37(0x36),_0x12ba37(0x66),_0x12ba37(0x67),_0x370ac0['exports']=_0x12ba37(0x2)[_0x536f('0xcb')];},function(_0x3222cd,_0x11ac57,_0x37bad0){'use strict';function _0x517616(_0x37bad0){var _0x19fdca=_0x4876f1[_0x37bad0]=_0x119387(_0x49aa49[_0x2e7f57]);return _0x19fdca['_k']=_0x37bad0,_0x19fdca;}function _0x498cf1(_0x37bad0,_0x49d21e){_0x4e131a(_0x37bad0);for(var _0x498cf1,_0x517616=_0x1c9815(_0x49d21e=_0x42193b(_0x49d21e)),_0x1d8057=0x0,_0x1d50af=_0x517616['length'];_0x1d8057<_0x1d50af;)_0x2460b7(_0x37bad0,_0x498cf1=_0x517616[_0x1d8057++],_0x49d21e[_0x498cf1]);return _0x37bad0;}function _0x144ee0(_0x37bad0){var _0x144ee0=_0x43da4c[_0x536f('0xa')](this,_0x37bad0=_0x19f9b5(_0x37bad0,!0x0));return!(this===_0x436d5d&&_0x24c94e(_0x4876f1,_0x37bad0)&&!_0x24c94e(_0x4baf40,_0x37bad0))&&(!(_0x144ee0||!_0x24c94e(this,_0x37bad0)||!_0x24c94e(_0x4876f1,_0x37bad0)||_0x24c94e(this,_0x210c16)&&this[_0x210c16][_0x37bad0])||_0x144ee0);}function _0x1eaeb6(_0x37bad0,_0x144ee0){var _0x498cf1;if(_0x37bad0=_0x42193b(_0x37bad0),_0x144ee0=_0x19f9b5(_0x144ee0,!0x0),_0x37bad0!==_0x436d5d||!_0x24c94e(_0x4876f1,_0x144ee0)||_0x24c94e(_0x4baf40,_0x144ee0))return!(_0x498cf1=_0x4739e2(_0x37bad0,_0x144ee0))||!_0x24c94e(_0x4876f1,_0x144ee0)||_0x24c94e(_0x37bad0,_0x210c16)&&_0x37bad0[_0x210c16][_0x144ee0]||(_0x498cf1[_0x536f('0xe')]=!0x0),_0x498cf1;}function _0x1c8c16(_0x37bad0){for(var _0x144ee0,_0x498cf1=_0x38381f(_0x42193b(_0x37bad0)),_0x517616=[],_0x1eaeb6=0x0;_0x498cf1[_0x536f('0xd')]>_0x1eaeb6;)_0x24c94e(_0x4876f1,_0x144ee0=_0x498cf1[_0x1eaeb6++])||_0x144ee0==_0x210c16||_0x144ee0==_0x505a51||_0x517616[_0x536f('0x82')](_0x144ee0);return _0x517616;}function _0x2a9b52(_0x37bad0){for(var _0x144ee0,_0x498cf1=_0x37bad0===_0x436d5d,_0x517616=_0x38381f(_0x498cf1?_0x4baf40:_0x42193b(_0x37bad0)),_0x1eaeb6=[],_0x1c8c16=0x0;_0x517616['length']>_0x1c8c16;)!_0x24c94e(_0x4876f1,_0x144ee0=_0x517616[_0x1c8c16++])||_0x498cf1&&!_0x24c94e(_0x436d5d,_0x144ee0)||_0x1eaeb6[_0x536f('0x82')](_0x4876f1[_0x144ee0]);return _0x1eaeb6;}function _0x2460b7(_0x37bad0,_0x144ee0,_0x498cf1){return _0x37bad0===_0x436d5d&&_0x2460b7(_0x4baf40,_0x144ee0,_0x498cf1),_0x4e131a(_0x37bad0),_0x144ee0=_0x19f9b5(_0x144ee0,!0x0),_0x4e131a(_0x498cf1),_0x24c94e(_0x4876f1,_0x144ee0)?(_0x498cf1['enumerable']?(_0x24c94e(_0x37bad0,_0x210c16)&&_0x37bad0[_0x210c16][_0x144ee0]&&(_0x37bad0[_0x210c16][_0x144ee0]=!0x1),_0x498cf1=_0x119387(_0x498cf1,{'enumerable':_0x312574(0x0,!0x1)})):(_0x24c94e(_0x37bad0,_0x210c16)||_0x590dcb(_0x37bad0,_0x210c16,_0x312574(0x1,{})),_0x37bad0[_0x210c16][_0x144ee0]=!0x0),_0x36effe(_0x37bad0,_0x144ee0,_0x498cf1)):_0x590dcb(_0x37bad0,_0x144ee0,_0x498cf1);}var _0x3057a0=_0x37bad0(0x5),_0x24c94e=_0x37bad0(0xc),_0x3a7a01=_0x37bad0(0x7),_0x15a632=_0x37bad0(0x3),_0x570113=_0x37bad0(0x3e),_0x505a51=_0x37bad0(0x39)[_0x536f('0x2b6')],_0x5611f1=_0x37bad0(0xd),_0x6db81b=_0x37bad0(0x2b),_0x36ab8b=_0x37bad0(0x1a),_0x215814=_0x37bad0(0x1c),_0x2684e4=_0x37bad0(0x6),_0x519c9b=_0x37bad0(0x33),_0x58bfc6=_0x37bad0(0x34),_0x1c9815=_0x37bad0(0x64),_0x2b3314=_0x37bad0(0x4b),_0x4e131a=_0x37bad0(0xa),_0x5a8d52=_0x37bad0(0x9),_0x5b9247=_0x37bad0(0x13),_0x42193b=_0x37bad0(0xf),_0x19f9b5=_0x37bad0(0x2e),_0x312574=_0x37bad0(0x18),_0x119387=_0x37bad0(0x22),_0x862de=_0x37bad0(0x65),_0x198615=_0x37bad0(0x43),_0x470fa6=_0x37bad0(0x35),_0x373b43=_0x37bad0(0x8),_0x2e0092=_0x37bad0(0x14),_0x4739e2=_0x198615['f'],_0x590dcb=_0x373b43['f'],_0x38381f=_0x862de['f'],_0x49aa49=_0x3057a0[_0x536f('0xcb')],_0x2eb1a8=_0x3057a0[_0x536f('0x2b7')],_0x30cd2c=_0x2eb1a8&&_0x2eb1a8['stringify'],_0x2e7f57=_0x536f('0x8'),_0x210c16=_0x2684e4(_0x536f('0x2b8')),_0x1375f2=_0x2684e4(_0x536f('0x2b9')),_0x43da4c={}[_0x536f('0x2ba')],_0x2964fe=_0x6db81b('symbol-registry'),_0x4876f1=_0x6db81b(_0x536f('0x2bb')),_0x4baf40=_0x6db81b(_0x536f('0x2bc')),_0x436d5d=Object[_0x2e7f57],_0x6db81b=_0x536f('0x15')==typeof _0x49aa49&&!!_0x470fa6['f'],_0x21a789=_0x3057a0[_0x536f('0x2bd')],_0x12c087=!_0x21a789||!_0x21a789[_0x2e7f57]||!_0x21a789[_0x2e7f57][_0x536f('0x2be')],_0x36effe=_0x3a7a01&&_0x5611f1(function(){return 0x7!=_0x119387(_0x590dcb({},'a',{'get':function(){return _0x590dcb(this,'a',{'value':0x7})['a'];}}))['a'];})?function(_0x37bad0,_0x144ee0,_0x498cf1){var _0x517616=_0x4739e2(_0x436d5d,_0x144ee0);_0x517616&&delete _0x436d5d[_0x144ee0],_0x590dcb(_0x37bad0,_0x144ee0,_0x498cf1),_0x517616&&_0x37bad0!==_0x436d5d&&_0x590dcb(_0x436d5d,_0x144ee0,_0x517616);}:_0x590dcb,_0x1842e8=_0x6db81b&&_0x536f('0x7e')==typeof _0x49aa49[_0x536f('0x8f')]?function(_0x37bad0){return _0x536f('0x7e')==typeof _0x37bad0;}:function(_0x37bad0){return _0x37bad0 instanceof _0x49aa49;};_0x6db81b||(_0x570113((_0x49aa49=function(){if(this instanceof _0x49aa49)throw TypeError('Symbol\x20is\x20not\x20a\x20constructor!');var _0x144ee0=_0x215814(0x0<arguments[_0x536f('0xd')]?arguments[0x0]:void 0x0),_0x498cf1=function(_0x37bad0){this===_0x436d5d&&_0x498cf1[_0x536f('0xa')](_0x4baf40,_0x37bad0),_0x24c94e(this,_0x210c16)&&_0x24c94e(this[_0x210c16],_0x144ee0)&&(this[_0x210c16][_0x144ee0]=!0x1),_0x36effe(this,_0x144ee0,_0x312574(0x1,_0x37bad0));};return _0x3a7a01&&_0x12c087&&_0x36effe(_0x436d5d,_0x144ee0,{'configurable':!0x0,'set':_0x498cf1}),_0x517616(_0x144ee0);})[_0x2e7f57],_0x536f('0x8d'),function(){return this['_k'];}),_0x198615['f']=_0x1eaeb6,_0x373b43['f']=_0x2460b7,_0x37bad0(0x4c)['f']=_0x862de['f']=_0x1c8c16,_0x37bad0(0x23)['f']=_0x144ee0,_0x470fa6['f']=_0x2a9b52,_0x3a7a01&&!_0x37bad0(0x16)&&_0x570113(_0x436d5d,'propertyIsEnumerable',_0x144ee0,!0x0),_0x519c9b['f']=function(_0x37bad0){return _0x517616(_0x2684e4(_0x37bad0));}),_0x15a632(_0x15a632['G']+_0x15a632['W']+_0x15a632['F']*!_0x6db81b,{'Symbol':_0x49aa49});for(var _0x43b5aa=_0x536f('0x2bf')['split'](','),_0x2862f7=0x0;_0x43b5aa[_0x536f('0xd')]>_0x2862f7;)_0x2684e4(_0x43b5aa[_0x2862f7++]);for(var _0x151a28=_0x2e0092(_0x2684e4[_0x536f('0x2c0')]),_0x3b4346=0x0;_0x151a28[_0x536f('0xd')]>_0x3b4346;)_0x58bfc6(_0x151a28[_0x3b4346++]);_0x15a632(_0x15a632['S']+_0x15a632['F']*!_0x6db81b,_0x536f('0xcb'),{'for':function(_0x37bad0){return _0x24c94e(_0x2964fe,_0x37bad0+='')?_0x2964fe[_0x37bad0]:_0x2964fe[_0x37bad0]=_0x49aa49(_0x37bad0);},'keyFor':function(_0x37bad0){if(!_0x1842e8(_0x37bad0))throw TypeError(_0x37bad0+_0x536f('0x2c1'));for(var _0x144ee0 in _0x2964fe)if(_0x2964fe[_0x144ee0]===_0x37bad0)return _0x144ee0;},'useSetter':function(){_0x12c087=!0x0;},'useSimple':function(){_0x12c087=!0x1;}}),_0x15a632(_0x15a632['S']+_0x15a632['F']*!_0x6db81b,_0x536f('0x8b'),{'create':function(_0x37bad0,_0x144ee0){return void 0x0===_0x144ee0?_0x119387(_0x37bad0):_0x498cf1(_0x119387(_0x37bad0),_0x144ee0);},'defineProperty':_0x2460b7,'defineProperties':_0x498cf1,'getOwnPropertyDescriptor':_0x1eaeb6,'getOwnPropertyNames':_0x1c8c16,'getOwnPropertySymbols':_0x2a9b52});_0x21a789=_0x5611f1(function(){_0x470fa6['f'](0x1);});_0x15a632(_0x15a632['S']+_0x15a632['F']*_0x21a789,'Object',{'getOwnPropertySymbols':function(_0x37bad0){return _0x470fa6['f'](_0x5b9247(_0x37bad0));}}),_0x2eb1a8&&_0x15a632(_0x15a632['S']+_0x15a632['F']*(!_0x6db81b||_0x5611f1(function(){var _0x37bad0=_0x49aa49();return _0x536f('0x2c2')!=_0x30cd2c([_0x37bad0])||'{}'!=_0x30cd2c({'a':_0x37bad0})||'{}'!=_0x30cd2c(Object(_0x37bad0));})),_0x536f('0x2b7'),{'stringify':function(_0x37bad0){for(var _0x144ee0,_0x498cf1,_0x517616=[_0x37bad0],_0x1eaeb6=0x1;_0x1eaeb6<arguments[_0x536f('0xd')];)_0x517616[_0x536f('0x82')](arguments[_0x1eaeb6++]);if(_0x498cf1=_0x144ee0=_0x517616[0x1],(_0x5a8d52(_0x144ee0)||void 0x0!==_0x37bad0)&&!_0x1842e8(_0x37bad0))return _0x2b3314(_0x144ee0)||(_0x144ee0=function(_0x37bad0,_0x144ee0){if('function'==typeof _0x498cf1&&(_0x144ee0=_0x498cf1[_0x536f('0xa')](this,_0x37bad0,_0x144ee0)),!_0x1842e8(_0x144ee0))return _0x144ee0;}),_0x517616[0x1]=_0x144ee0,_0x30cd2c['apply'](_0x2eb1a8,_0x517616);}}),_0x49aa49[_0x2e7f57][_0x1375f2]||_0x37bad0(0xb)(_0x49aa49[_0x2e7f57],_0x1375f2,_0x49aa49[_0x2e7f57][_0x536f('0x8e')]),_0x36ab8b(_0x49aa49,_0x536f('0xcb')),_0x36ab8b(Math,_0x536f('0x19'),!0x0),_0x36ab8b(_0x3057a0['JSON'],'JSON',!0x0);},function(_0x303f3a,_0x24e5c5,_0x229b3a){var _0x55c055=_0x229b3a(0x14),_0x334208=_0x229b3a(0x35),_0xdadffe=_0x229b3a(0x23);_0x303f3a[_0x536f('0x0')]=function(_0x303f3a){var _0x24e5c5=_0x55c055(_0x303f3a),_0x229b3a=_0x334208['f'];if(_0x229b3a)for(var _0x4500f3,_0x26fa2f=_0x229b3a(_0x303f3a),_0x1f5522=_0xdadffe['f'],_0x1ef54b=0x0;_0x26fa2f[_0x536f('0xd')]>_0x1ef54b;)_0x1f5522[_0x536f('0xa')](_0x303f3a,_0x4500f3=_0x26fa2f[_0x1ef54b++])&&_0x24e5c5[_0x536f('0x82')](_0x4500f3);return _0x24e5c5;};},function(_0x532a05,_0x1dcdd3,_0x3a4777){var _0x3dddec=_0x3a4777(0xf),_0x5b1b9f=_0x3a4777(0x4c)['f'],_0x202fb8={}['toString'],_0x181394='object'==typeof window&&window&&Object[_0x536f('0x2c3')]?Object[_0x536f('0x2c3')](window):[];_0x532a05[_0x536f('0x0')]['f']=function(_0x532a05){if(!_0x181394||_0x536f('0x2c4')!=_0x202fb8[_0x536f('0xa')](_0x532a05))return _0x5b1b9f(_0x3dddec(_0x532a05));try{return _0x5b1b9f(_0x532a05);}catch(_0xf32270){return _0x181394['slice']();}};},function(_0x34e04e,_0x560b55,_0x130293){_0x130293(0x34)(_0x536f('0x2c5'));},function(_0x3bc2ff,_0x2be136,_0x1472ad){_0x1472ad(0x34)('observable');},function(_0x3d1b21,_0x318aa9,_0x386792){_0x386792(0x69);var _0x21eb48=_0x386792(0x2)[_0x536f('0x8b')];_0x3d1b21[_0x536f('0x0')]=function(_0x3d1b21,_0x318aa9){return _0x21eb48[_0x536f('0x5')](_0x3d1b21,_0x318aa9);};},function(_0x301238,_0x46728c,_0x52f8f9){var _0x103424=_0x52f8f9(0x3);_0x103424(_0x103424['S'],_0x536f('0x8b'),{'create':_0x52f8f9(0x22)});},function(_0x62c1d0,_0x2662c4,_0xecaa7c){_0x62c1d0[_0x536f('0x0')]={'default':_0xecaa7c(0x6b),'__esModule':!0x0};},function(_0x5795df,_0x31e425,_0x483e11){_0x483e11(0x6c),_0x5795df[_0x536f('0x0')]=_0x483e11(0x2)[_0x536f('0x8b')]['assign'];},function(_0x2ad44d,_0x5e1858,_0x3769d3){var _0x43522e=_0x3769d3(0x3);_0x43522e(_0x43522e['S']+_0x43522e['F'],_0x536f('0x8b'),{'assign':_0x3769d3(0x6d)});},function(_0x46cc76,_0x3583b9,_0x9ba123){'use strict';var _0xe29df2=_0x9ba123(0x7),_0x445ea3=_0x9ba123(0x14),_0x1d5b30=_0x9ba123(0x35),_0xfa939b=_0x9ba123(0x23),_0x1b88dd=_0x9ba123(0x13),_0x533ef2=_0x9ba123(0x31),_0x599155=Object[_0x536f('0x2c6')];_0x46cc76[_0x536f('0x0')]=!_0x599155||_0x9ba123(0xd)(function(){var _0x46cc76={},_0x3583b9={},_0x9ba123=Symbol(),_0x461f13=_0x536f('0x2c7');return _0x46cc76[_0x9ba123]=0x7,_0x461f13[_0x536f('0x62')]('')[_0x536f('0x2c8')](function(_0x46cc76){_0x3583b9[_0x46cc76]=_0x46cc76;}),0x7!=_0x599155({},_0x46cc76)[_0x9ba123]||Object['keys'](_0x599155({},_0x3583b9))[_0x536f('0x107')]('')!=_0x461f13;})?function(_0x46cc76,_0x3583b9){for(var _0x9ba123=_0x1b88dd(_0x46cc76),_0x3b3281=arguments['length'],_0x599155=0x1,_0x1f7e7d=_0x1d5b30['f'],_0x3aa77a=_0xfa939b['f'];_0x599155<_0x3b3281;)for(var _0x229b86,_0x555570=_0x533ef2(arguments[_0x599155++]),_0x30f25a=_0x1f7e7d?_0x445ea3(_0x555570)['concat'](_0x1f7e7d(_0x555570)):_0x445ea3(_0x555570),_0x5ad38d=_0x30f25a[_0x536f('0xd')],_0xbf2934=0x0;_0xbf2934<_0x5ad38d;)_0x229b86=_0x30f25a[_0xbf2934++],_0xe29df2&&!_0x3aa77a[_0x536f('0xa')](_0x555570,_0x229b86)||(_0x9ba123[_0x229b86]=_0x555570[_0x229b86]);return _0x9ba123;}:_0x599155;},function(_0x3b3e9d,_0x54a657,_0x1a4537){var _0x3bbc45=_0x1a4537(0x6)('iterator'),_0x36edea=!0x1;try{var _0x395e1b=[0x7][_0x3bbc45]();_0x395e1b[_0x536f('0x265')]=function(){_0x36edea=!0x0;},Array['from'](_0x395e1b,function(){throw 0x2;});}catch(_0xfeb00a){}_0x3b3e9d[_0x536f('0x0')]=function(_0x3b3e9d,_0x54a657){if(!_0x54a657&&!_0x36edea)return!0x1;var _0x1a4537=!0x1;try{var _0x395e1b=[0x7],_0x5e58a1=_0x395e1b[_0x3bbc45]();_0x5e58a1[_0x536f('0x79')]=function(){return{'done':_0x1a4537=!0x0};},_0x395e1b[_0x3bbc45]=function(){return _0x5e58a1;},_0x3b3e9d(_0x395e1b);}catch(_0x54eec4){}return _0x1a4537;};},function(_0x22ebe4,_0x41258b,_0x12e7fc){var _0x9148da=_0x12e7fc(0xa),_0x486d88=_0x12e7fc(0x21),_0x31a78d=_0x12e7fc(0x6)('species');_0x22ebe4[_0x536f('0x0')]=function(_0x22ebe4,_0x41258b){var _0x22ebe4=_0x9148da(_0x22ebe4)[_0x536f('0x7d')];return void 0x0===_0x22ebe4||null==(_0x22ebe4=_0x9148da(_0x22ebe4)[_0x31a78d])?_0x41258b:_0x486d88(_0x22ebe4);};},function(_0x2b3b90,_0x73b643,_0x2b1401){function _0x1a2230(){var _0x2b3b90,_0x73b643=+this;_0x386aa0['hasOwnProperty'](_0x73b643)&&(_0x2b3b90=_0x386aa0[_0x73b643],delete _0x386aa0[_0x73b643],_0x2b3b90());}function _0x1d9e43(_0x2b3b90){_0x1a2230[_0x536f('0xa')](_0x2b3b90[_0x536f('0x2c9')]);}var _0x290487,_0x1930a8=_0x2b1401(0xe),_0xe02269=_0x2b1401(0x95),_0x4611ca=_0x2b1401(0x47),_0x3dddb6=_0x2b1401(0x30),_0x3d6edc=_0x2b1401(0x5),_0x23254f=_0x3d6edc[_0x536f('0x2ca')],_0x5e8cb1=_0x3d6edc[_0x536f('0x2cb')],_0x43903b=_0x3d6edc[_0x536f('0x2cc')],_0x6d2175=_0x3d6edc['MessageChannel'],_0xc3cbdb=_0x3d6edc['Dispatch'],_0x4097b3=0x0,_0x386aa0={},_0x28f968=_0x536f('0x2cd');_0x5e8cb1&&_0x43903b||(_0x5e8cb1=function(_0x2b3b90){for(var _0x73b643=[],_0x2b1401=0x1;_0x2b1401<arguments[_0x536f('0xd')];)_0x73b643[_0x536f('0x82')](arguments[_0x2b1401++]);return _0x386aa0[++_0x4097b3]=function(){_0xe02269(_0x536f('0x15')==typeof _0x2b3b90?_0x2b3b90:Function(_0x2b3b90),_0x73b643);},_0x290487(_0x4097b3),_0x4097b3;},_0x43903b=function(_0x2b3b90){delete _0x386aa0[_0x2b3b90];},'process'==_0x2b1401(0x19)(_0x23254f)?_0x290487=function(_0x2b3b90){_0x23254f[_0x536f('0x2ce')](_0x1930a8(_0x1a2230,_0x2b3b90,0x1));}:_0xc3cbdb&&_0xc3cbdb[_0x536f('0x2cf')]?_0x290487=function(_0x2b3b90){_0xc3cbdb['now'](_0x1930a8(_0x1a2230,_0x2b3b90,0x1));}:_0x6d2175?(_0x6d2175=(_0x2b1401=new _0x6d2175())[_0x536f('0x2d0')],_0x2b1401[_0x536f('0x2d1')][_0x536f('0x2d2')]=_0x1d9e43,_0x290487=_0x1930a8(_0x6d2175[_0x536f('0x2d3')],_0x6d2175,0x1)):_0x3d6edc['addEventListener']&&_0x536f('0x15')==typeof postMessage&&!_0x3d6edc[_0x536f('0x2d4')]?(_0x290487=function(_0x2b3b90){_0x3d6edc[_0x536f('0x2d3')](_0x2b3b90+'','*');},_0x3d6edc['addEventListener'](_0x536f('0x2d5'),_0x1d9e43,!0x1)):_0x290487=_0x28f968 in _0x3dddb6(_0x536f('0x2d6'))?function(_0x2b3b90){_0x4611ca[_0x536f('0x6d')](_0x3dddb6('script'))[_0x28f968]=function(){_0x4611ca[_0x536f('0x2d7')](this),_0x1a2230[_0x536f('0xa')](_0x2b3b90);};}:function(_0x2b3b90){setTimeout(_0x1930a8(_0x1a2230,_0x2b3b90,0x1),0x0);}),_0x2b3b90[_0x536f('0x0')]={'set':_0x5e8cb1,'clear':_0x43903b};},function(_0x78c1aa,_0x3d1891){_0x78c1aa[_0x536f('0x0')]=function(_0x78c1aa){try{return{'e':!0x1,'v':_0x78c1aa()};}catch(_0xf1a285){return{'e':!0x0,'v':_0xf1a285};}};},function(_0x204411,_0x15786d,_0x37d5be){var _0xaab963=_0x37d5be(0xa),_0x4e67cf=_0x37d5be(0x9),_0x4da9ac=_0x37d5be(0x4f);_0x204411['exports']=function(_0x204411,_0x15786d){if(_0xaab963(_0x204411),_0x4e67cf(_0x15786d)&&_0x15786d['constructor']===_0x204411)return _0x15786d;_0x204411=_0x4da9ac['f'](_0x204411);return(0x0,_0x204411[_0x536f('0x2d8')])(_0x15786d),_0x204411[_0x536f('0x2d9')];};},function(_0x525978,_0x4eb783,_0x5ebd57){'use strict';function _0x3b4ff5(_0x525978,_0x4eb783){var _0x5ebd57,_0x5026d0=_0x141c26(_0x4eb783);if('F'!==_0x5026d0)return _0x525978['_i'][_0x5026d0];for(_0x5ebd57=_0x525978['_f'];_0x5ebd57;_0x5ebd57=_0x5ebd57['n'])if(_0x5ebd57['k']==_0x4eb783)return _0x5ebd57;}var _0x25913e=_0x5ebd57(0x8)['f'],_0xfc30fb=_0x5ebd57(0x22),_0x121149=_0x5ebd57(0x46),_0x520163=_0x5ebd57(0xe),_0x3d9fe5=_0x5ebd57(0x45),_0x4557eb=_0x5ebd57(0x26),_0x36342d=_0x5ebd57(0x2f),_0xcdf78e=_0x5ebd57(0x41),_0xd99241=_0x5ebd57(0x5b),_0x38e5c0=_0x5ebd57(0x7),_0x141c26=_0x5ebd57(0x39)[_0x536f('0x2da')],_0x198439=_0x5ebd57(0x4d),_0x47110d=_0x38e5c0?'_s':_0x536f('0xd7');_0x525978[_0x536f('0x0')]={'getConstructor':function(_0x525978,_0xcdf78e,_0x5ebd57,_0x36342d){var _0xd99241=_0x525978(function(_0x525978,_0x4eb783){_0x3d9fe5(_0x525978,_0xd99241,_0xcdf78e,'_i'),_0x525978['_t']=_0xcdf78e,_0x525978['_i']=_0xfc30fb(null),_0x525978['_f']=void 0x0,_0x525978['_l']=void 0x0,_0x525978[_0x47110d]=0x0,null!=_0x4eb783&&_0x4557eb(_0x4eb783,_0x5ebd57,_0x525978[_0x36342d],_0x525978);});return _0x121149(_0xd99241[_0x536f('0x8')],{'clear':function(){for(var _0x525978=_0x198439(this,_0xcdf78e),_0x4eb783=_0x525978['_i'],_0x5ebd57=_0x525978['_f'];_0x5ebd57;_0x5ebd57=_0x5ebd57['n'])_0x5ebd57['r']=!0x0,_0x5ebd57['p']&&(_0x5ebd57['p']=_0x5ebd57['p']['n']=void 0x0),delete _0x4eb783[_0x5ebd57['i']];_0x525978['_f']=_0x525978['_l']=void 0x0,_0x525978[_0x47110d]=0x0;},'delete':function(_0x525978){var _0x4eb783,_0x5ebd57,_0x36342d=_0x198439(this,_0xcdf78e),_0x525978=_0x3b4ff5(_0x36342d,_0x525978);return _0x525978&&(_0x4eb783=_0x525978['n'],_0x5ebd57=_0x525978['p'],delete _0x36342d['_i'][_0x525978['i']],_0x525978['r']=!0x0,_0x5ebd57&&(_0x5ebd57['n']=_0x4eb783),_0x4eb783&&(_0x4eb783['p']=_0x5ebd57),_0x36342d['_f']==_0x525978&&(_0x36342d['_f']=_0x4eb783),_0x36342d['_l']==_0x525978&&(_0x36342d['_l']=_0x5ebd57),_0x36342d[_0x47110d]--),!!_0x525978;},'forEach':function(_0x525978){_0x198439(this,_0xcdf78e);for(var _0x4eb783,_0x5ebd57=_0x520163(_0x525978,0x1<arguments[_0x536f('0xd')]?arguments[0x1]:void 0x0,0x3);_0x4eb783=_0x4eb783?_0x4eb783['n']:this['_f'];)for(_0x5ebd57(_0x4eb783['v'],_0x4eb783['k'],this);_0x4eb783&&_0x4eb783['r'];)_0x4eb783=_0x4eb783['p'];},'has':function(_0x525978){return!!_0x3b4ff5(_0x198439(this,_0xcdf78e),_0x525978);}}),_0x38e5c0&&_0x25913e(_0xd99241[_0x536f('0x8')],_0x536f('0xd7'),{'get':function(){return _0x198439(this,_0xcdf78e)[_0x47110d];}}),_0xd99241;},'def':function(_0x525978,_0x4eb783,_0x5ebd57){var _0x36342d,_0xcdf78e=_0x3b4ff5(_0x525978,_0x4eb783);return _0xcdf78e?_0xcdf78e['v']=_0x5ebd57:(_0x525978['_l']=_0xcdf78e={'i':_0x36342d=_0x141c26(_0x4eb783,!0x0),'k':_0x4eb783,'v':_0x5ebd57,'p':_0x4eb783=_0x525978['_l'],'n':void 0x0,'r':!0x1},_0x525978['_f']||(_0x525978['_f']=_0xcdf78e),_0x4eb783&&(_0x4eb783['n']=_0xcdf78e),_0x525978[_0x47110d]++,'F'!==_0x36342d&&(_0x525978['_i'][_0x36342d]=_0xcdf78e)),_0x525978;},'getEntry':_0x3b4ff5,'setStrong':function(_0x525978,_0x5ebd57,_0x4eb783){_0x36342d(_0x525978,_0x5ebd57,function(_0x525978,_0x4eb783){this['_t']=_0x198439(_0x525978,_0x5ebd57),this['_k']=_0x4eb783,this['_l']=void 0x0;},function(){for(var _0x525978=this,_0x4eb783=_0x525978['_k'],_0x5ebd57=_0x525978['_l'];_0x5ebd57&&_0x5ebd57['r'];)_0x5ebd57=_0x5ebd57['p'];return _0x525978['_t']&&(_0x525978['_l']=_0x5ebd57=_0x5ebd57?_0x5ebd57['n']:_0x525978['_t']['_f'])?_0xcdf78e(0x0,_0x536f('0x5e')==_0x4eb783?_0x5ebd57['k']:'values'==_0x4eb783?_0x5ebd57['v']:[_0x5ebd57['k'],_0x5ebd57['v']]):(_0x525978['_t']=void 0x0,_0xcdf78e(0x1));},_0x4eb783?_0x536f('0x2b2'):_0x536f('0x90'),!_0x4eb783,!0x0),_0xd99241(_0x5ebd57);}};},function(_0x5e0c73,_0x1edde2,_0x1d46f6){'use strict';var _0x55a851=_0x1d46f6(0x5),_0x276b11=_0x1d46f6(0x3),_0x22f714=_0x1d46f6(0x39),_0x54d071=_0x1d46f6(0xd),_0x2141ad=_0x1d46f6(0xb),_0x3f99f0=_0x1d46f6(0x46),_0x177df7=_0x1d46f6(0x26),_0x5efdcc=_0x1d46f6(0x45),_0x56348c=_0x1d46f6(0x9),_0x462964=_0x1d46f6(0x1a),_0x278903=_0x1d46f6(0x8)['f'],_0x1f9a02=_0x1d46f6(0x84)(0x0),_0x12e375=_0x1d46f6(0x7);_0x5e0c73[_0x536f('0x0')]=function(_0x1d46f6,_0x5e0c73,_0x1edde2,_0x2e5a30,_0x4a3caf,_0x2a0f80){var _0x3dd1ce=_0x55a851[_0x1d46f6],_0x9030bd=_0x3dd1ce,_0x3468f0=_0x4a3caf?_0x536f('0x1b'):_0x536f('0x1c3'),_0x57fdcf=_0x9030bd&&_0x9030bd['prototype'],_0x4c3638={};return _0x12e375&&_0x536f('0x15')==typeof _0x9030bd&&(_0x2a0f80||_0x57fdcf[_0x536f('0x2c8')]&&!_0x54d071(function(){new _0x9030bd()['entries']()[_0x536f('0x79')]();}))?(_0x9030bd=_0x5e0c73(function(_0x5e0c73,_0x1edde2){_0x5efdcc(_0x5e0c73,_0x9030bd,_0x1d46f6,'_c'),_0x5e0c73['_c']=new _0x3dd1ce(),null!=_0x1edde2&&_0x177df7(_0x1edde2,_0x4a3caf,_0x5e0c73[_0x3468f0],_0x5e0c73);}),_0x1f9a02(_0x536f('0x2db')[_0x536f('0x62')](','),function(_0x1d46f6){var _0x2e5a30=_0x536f('0x1c3')==_0x1d46f6||_0x536f('0x1b')==_0x1d46f6;_0x1d46f6 in _0x57fdcf&&(!_0x2a0f80||_0x536f('0x2dc')!=_0x1d46f6)&&_0x2141ad(_0x9030bd[_0x536f('0x8')],_0x1d46f6,function(_0x5e0c73,_0x1edde2){if(_0x5efdcc(this,_0x9030bd,_0x1d46f6),!_0x2e5a30&&_0x2a0f80&&!_0x56348c(_0x5e0c73))return _0x536f('0x2dd')==_0x1d46f6&&void 0x0;_0x5e0c73=this['_c'][_0x1d46f6](0x0===_0x5e0c73?0x0:_0x5e0c73,_0x1edde2);return _0x2e5a30?this:_0x5e0c73;});}),_0x2a0f80||_0x278903(_0x9030bd[_0x536f('0x8')],_0x536f('0xd7'),{'get':function(){return this['_c']['size'];}})):(_0x9030bd=_0x2e5a30[_0x536f('0x2de')](_0x5e0c73,_0x1d46f6,_0x4a3caf,_0x3468f0),_0x3f99f0(_0x9030bd[_0x536f('0x8')],_0x1edde2),_0x22f714[_0x536f('0xd5')]=!0x0),_0x462964(_0x9030bd,_0x1d46f6),_0x4c3638[_0x1d46f6]=_0x9030bd,_0x276b11(_0x276b11['G']+_0x276b11['W']+_0x276b11['F'],_0x4c3638),_0x2a0f80||_0x2e5a30[_0x536f('0x2df')](_0x9030bd,_0x1d46f6,_0x4a3caf),_0x9030bd;};},function(_0x3faff6,_0x288095,_0x3d9454){var _0x19943e=_0x3d9454(0x2d),_0x53ad6b=_0x3d9454(0x88);_0x3faff6[_0x536f('0x0')]=function(_0x3faff6){return function(){if(_0x19943e(this)!=_0x3faff6)throw TypeError(_0x3faff6+'#toJSON\x20isn\x27t\x20generic');return _0x53ad6b(this);};};},function(_0x389efc,_0x424f88,_0x2c5d33){'use strict';var _0x3dc2ac=_0x2c5d33(0x3);_0x389efc[_0x536f('0x0')]=function(_0x389efc){_0x3dc2ac(_0x3dc2ac['S'],_0x389efc,{'of':function(){for(var _0x389efc=arguments[_0x536f('0xd')],_0x424f88=new Array(_0x389efc);_0x389efc--;)_0x424f88[_0x389efc]=arguments[_0x389efc];return new this(_0x424f88);}});};},function(_0x1765f8,_0x5d39c4,_0x340784){'use strict';var _0x5cc8a2=_0x340784(0x3),_0x514c1c=_0x340784(0x21),_0x4168bc=_0x340784(0xe),_0x1cec4e=_0x340784(0x26);_0x1765f8['exports']=function(_0x1765f8){_0x5cc8a2(_0x5cc8a2['S'],_0x1765f8,{'from':function(_0x1765f8){var _0x5d39c4,_0x340784,_0x5cc8a2,_0x367ed3,_0x31d32d=arguments[0x1];return _0x514c1c(this),(_0x5d39c4=void 0x0!==_0x31d32d)&&_0x514c1c(_0x31d32d),null==_0x1765f8?new this():(_0x340784=[],_0x5d39c4?(_0x5cc8a2=0x0,_0x367ed3=_0x4168bc(_0x31d32d,arguments[0x2],0x2),_0x1cec4e(_0x1765f8,!0x1,function(_0x1765f8){_0x340784['push'](_0x367ed3(_0x1765f8,_0x5cc8a2++));})):_0x1cec4e(_0x1765f8,!0x1,_0x340784[_0x536f('0x82')],_0x340784),new this(_0x340784));}});};},function(_0xfc663,_0x229e55,_0x555fa0){'use strict';Object['defineProperty'](_0x229e55,_0x536f('0x4'),{'value':!0x0});var _0xe56eef=_0x3deb89(_0x555fa0(0x17)),_0x158169=_0x3deb89(_0x555fa0(0x0)),_0x16e703=_0x3deb89(_0x555fa0(0x1)),_0x2c6f68=_0x3deb89(_0x555fa0(0x1d)),_0x2cb184=_0x3deb89(_0x555fa0(0x1e));function _0x3deb89(_0xfc663){return _0xfc663&&_0xfc663[_0x536f('0x4')]?_0xfc663:{'default':_0xfc663};}function _0x2c7e9a(_0xfc663){var _0x229e55=_0xfc663[_0x536f('0x2e0')],_0x555fa0=_0xfc663['imageWidth'],_0x555fa0=void 0x0===_0x555fa0?0x100:_0x555fa0,_0x16e703=_0xfc663['imageHeight'],_0x16e703=void 0x0===_0x16e703?0x100:_0x16e703,_0x2cb184=_0xfc663[_0x536f('0x2e1')],_0x2cb184=void 0x0===_0x2cb184?0x1:_0x2cb184,_0x3deb89=_0xfc663['yCount'],_0x3deb89=void 0x0===_0x3deb89?0x1:_0x3deb89,_0x546cc4=_0xfc663['fps'],_0x546cc4=void 0x0===_0x546cc4?0xc:_0x546cc4,_0x1db86b=_0xfc663[_0x536f('0x2e2')],_0x1db86b=void 0x0===_0x1db86b?0x0:_0x1db86b,_0xfc663=_0xfc663[_0x536f('0x2e3')],_0xfc663=void 0x0===_0xfc663?0x0:_0xfc663,_0x401f7d=((0x0,_0x158169[_0x536f('0x6')])(this,_0x2c7e9a),(0x0,_0x2c6f68[_0x536f('0x6')])(this,(_0x2c7e9a['__proto__']||(0x0,_0xe56eef['default'])(_0x2c7e9a))[_0x536f('0xa')](this)));return _0x401f7d[_0x536f('0x2e0')]=_0x229e55,_0x401f7d[_0x536f('0x2e4')]=_0x555fa0,_0x401f7d['imageHeight']=_0x16e703,_0x401f7d['xSize']=_0x555fa0/_0x2cb184,_0x401f7d['ySize']=_0x16e703/_0x3deb89,_0x401f7d['xCount']=_0x2cb184,_0x401f7d[_0x536f('0x2e5')]=_0x3deb89,_0x401f7d['fps']=_0x546cc4,_0x401f7d[_0x536f('0x2e6')]=_0x1db86b,_0x401f7d[_0x536f('0x2e7')]=_0xfc663,_0x401f7d[_0x536f('0x2e8')]=!0x1,_0x401f7d[_0x536f('0x1c7')]=null,_0x401f7d[_0x536f('0x2e9')]=!0x1,_0x401f7d[_0x536f('0x2ea')]={'x':_0x1db86b,'y':_0xfc663},_0x401f7d[_0x536f('0x2eb')]=!0x0,_0x401f7d[_0x536f('0x2ec')]=!0x1,_0x401f7d[_0x536f('0x2ed')]=0x0,_0x401f7d;}_0x555fa0=_0x555fa0(0x24)['EventDispatcher'],(0x0,_0x2cb184[_0x536f('0x6')])(_0x2c7e9a,_0x555fa0),(0x0,_0x16e703[_0x536f('0x6')])(_0x2c7e9a,[{'key':'create','value':function(_0xfc663,_0x229e55){this[_0x536f('0x1c7')]=_0xfc663,_0x229e55&&(this[_0x536f('0x1c7')]['repeat']['x']=0x1/this[_0x536f('0x2e1')],this[_0x536f('0x1c7')][_0x536f('0x2ee')]['y']=0x1/this[_0x536f('0x2e5')],this[_0x536f('0x2e8')]=_0x229e55),this[_0x536f('0x1c7')][_0x536f('0xfa')]=!0x0;}},{'key':_0x536f('0x2ef'),'value':function(){this[_0x536f('0x1c7')][_0x536f('0xf8')]['x']=this[_0x536f('0x2e6')]*this[_0x536f('0x2f0')]/this['imageWidth'],this[_0x536f('0x1c7')][_0x536f('0xf8')]['y']=(this[_0x536f('0x2f1')]-this[_0x536f('0x2f2')]-this['yIndex']*this[_0x536f('0x2f2')])/this[_0x536f('0x2f1')];}},{'key':_0x536f('0x2f3'),'value':function(){var _0xfc663,_0x229e55;this[_0x536f('0x2e0')]&&this[_0x536f('0x1c7')]&&!this[_0x536f('0x2ec')]&&(_0x229e55=this['timer'][_0x536f('0x2f4')](),_0xfc663=Math['floor'](_0x229e55*this[_0x536f('0x2f5')]%this[_0x536f('0x2e1')]),_0x229e55=Math[_0x536f('0x7c')](_0x229e55*this['fps']%this[_0x536f('0x2e5')]),0x1===this[_0x536f('0x2e1')]?(this[_0x536f('0x1c7')]['offset']['x']=0x0,this[_0x536f('0x1c7')][_0x536f('0xf8')]['y']=(this[_0x536f('0x2f1')]-this[_0x536f('0x2f2')]-_0x229e55*this['ySize'])/this[_0x536f('0x2f1')]):_0xfc663!=this['xIndex']&&(this[_0x536f('0x2e6')]=_0xfc663,0x0==this[_0x536f('0x2e6')]&&(this[_0x536f('0x2e7')]++,this['yIndex']==this[_0x536f('0x2e5')]&&(this[_0x536f('0x2e7')]=0x0)),this[_0x536f('0x2e8')]?(this[_0x536f('0x1c7')][_0x536f('0xf8')]['x']=this[_0x536f('0x2e6')]*this[_0x536f('0x2f0')]/this[_0x536f('0x2e4')],this[_0x536f('0x1c7')][_0x536f('0xf8')]['y']=(this[_0x536f('0x2f1')]-this['ySize']-this[_0x536f('0x2e7')]*this[_0x536f('0x2f2')])/this['imageHeight']):(this[_0x536f('0x1c7')]['offset']['x']=this[_0x536f('0x2e6')]*this[_0x536f('0x2f0')]/this[_0x536f('0x2e4')],this[_0x536f('0x1c7')][_0x536f('0xf8')]['y']=this[_0x536f('0x2e7')]*this['ySize']/this[_0x536f('0x2f1')])),this['xIndex']==this[_0x536f('0x2ea')]['x']&&this['yIndex']==this[_0x536f('0x2ea')]['y']&&(this[_0x536f('0x2ed')]++,this[_0x536f('0x2e9')]&&this['dispatchEvent']({'type':_0x536f('0x2f6')}),!this[_0x536f('0x2eb')]&&0x1<=this['loopCount']&&(this['isLockUpdate']=!0x0)));}}]),_0x229e55['default']=_0x2c7e9a;},function(_0x1af6d7,_0x5ddb25,_0x1baa5a){'use strict';Object['defineProperty'](_0x5ddb25,_0x536f('0x4'),{'value':!0x0}),_0x5ddb25['splitCrossFloorPoints']=_0x5ddb25[_0x536f('0x2f7')]=_0x5ddb25[_0x536f('0x2f8')]=_0x5ddb25[_0x536f('0x2f9')]=void 0x0;var _0x1baa5a=_0x1baa5a(0x20),_0x58d4d6=_0x1baa5a&&_0x1baa5a['__esModule']?_0x1baa5a:{'default':_0x1baa5a};_0x5ddb25[_0x536f('0x2f9')]=function(_0x1af6d7){return new _0x58d4d6[(_0x536f('0x6'))](function(_0x5ddb25,_0x1baa5a){new THREE[(_0x536f('0x2fa'))]()['load'](_0x1af6d7,function(_0x1af6d7){_0x5ddb25(JSON[_0x536f('0x2fb')](_0x1af6d7));},null,function(_0x1af6d7){_0x1baa5a(_0x1af6d7);});});},_0x5ddb25[_0x536f('0x2f8')]=function(_0x1af6d7){return new _0x58d4d6[(_0x536f('0x6'))](function(_0x5ddb25,_0x1baa5a){new THREE[(_0x536f('0x2fa'))]()['load'](_0x1af6d7+_0x536f('0x2fc'),function(_0x1af6d7){_0x5ddb25(JSON[_0x536f('0x2fb')](_0x1af6d7));},null,function(_0x1af6d7){console[_0x536f('0xdc')](_0x536f('0x2fd')),_0x1baa5a(_0x1af6d7);});});},_0x5ddb25[_0x536f('0x2f7')]=function(_0x1af6d7,_0x5ddb25){void 0x0!==_0x5ddb25[_0x536f('0x2fe')]&&(_0x1af6d7[_0x536f('0x2fe')]=_0x5ddb25[_0x536f('0x2fe')]),void 0x0!==_0x5ddb25[_0x536f('0x2ff')]&&(_0x1af6d7[_0x536f('0x2ff')]=_0x5ddb25['metalness']),void 0x0!==_0x5ddb25['mirrorReflection']&&(_0x1af6d7[_0x536f('0x300')]=_0x5ddb25[_0x536f('0x301')]),_0x5ddb25[_0x536f('0x302')];},_0x5ddb25[_0x536f('0x303')]=function(_0x1af6d7){for(var _0x5ddb25=function(_0x1af6d7){for(var _0x5ddb25=[],_0x1baa5a=0x0;_0x1baa5a<_0x1af6d7[_0x536f('0xd')]-0x1;_0x1baa5a++)_0x5ddb25[_0x536f('0x82')](_0x1af6d7[_0x1baa5a]),_0x1af6d7[_0x1baa5a][_0x536f('0x304')]!==_0x1af6d7[_0x1baa5a+0x1][_0x536f('0x304')]&&_0x5ddb25[_0x536f('0x82')]({'x':_0x1af6d7[_0x1baa5a+0x1]['x'],'y':_0x1af6d7[_0x1baa5a+0x1]['y'],'fnum':_0x1af6d7[_0x1baa5a][_0x536f('0x304')],'crossTo':_0x1af6d7[_0x1baa5a+0x1][_0x536f('0x304')],'offset':_0x1af6d7[_0x1baa5a+0x1][_0x536f('0xf8')]});return _0x5ddb25[_0x536f('0x82')](_0x1af6d7[_0x1af6d7[_0x536f('0xd')]-0x1]),_0x5ddb25;}(_0x1af6d7),_0x1baa5a=[],_0x58d4d6=[],_0x423617=0x0;_0x423617<_0x5ddb25[_0x536f('0xd')];_0x423617++)_0x58d4d6['push'](_0x5ddb25[_0x423617]),_0x5ddb25[_0x423617][_0x536f('0x9')](_0x536f('0x305'))&&(_0x1baa5a['push'](_0x58d4d6),_0x58d4d6=[]);return 0x0<_0x58d4d6[_0x536f('0xd')]&&_0x1baa5a[_0x536f('0x82')](_0x58d4d6),_0x1baa5a;};},function(_0x4264a4,_0x1d6d25,_0x180eec){_0x4264a4[_0x536f('0x0')]={'default':_0x180eec(0x82),'__esModule':!0x0};},function(_0x2a38ee,_0xc45174,_0x2535f4){'use strict';Object[_0x536f('0x1')](_0xc45174,_0x536f('0x4'),{'value':!0x0});var _0xcb59e=_0x35edfb(_0x2535f4(0xaa)),_0xae9af4=_0x35edfb(_0x2535f4(0x17)),_0x422a7b=_0x35edfb(_0x2535f4(0x0)),_0x23dd3f=_0x35edfb(_0x2535f4(0x1)),_0x2f30a9=_0x35edfb(_0x2535f4(0x1d)),_0x22046e=_0x35edfb(_0x2535f4(0x1e)),_0x27448d=_0x35edfb(_0x2535f4(0x10));function _0x35edfb(_0x2a38ee){return _0x2a38ee&&_0x2a38ee[_0x536f('0x4')]?_0x2a38ee:{'default':_0x2a38ee};}function _0x5aac17(_0x2a38ee,_0xc45174){(0x0,_0x422a7b[_0x536f('0x6')])(this,_0x5aac17);var _0x2535f4=(0x0,_0x2f30a9[_0x536f('0x6')])(this,(_0x5aac17[_0x536f('0x66')]||(0x0,_0xae9af4[_0x536f('0x6')])(_0x5aac17))[_0x536f('0xa')](this));return _0x2535f4[_0x536f('0x306')]=_0x2a38ee,_0x2535f4[_0x536f('0x307')]=_0xc45174,_0x2535f4[_0x536f('0x308')]=!0x1,_0x2535f4;}_0x2535f4=_0x2535f4(0x24)[_0x536f('0x73')],(0x0,_0x22046e[_0x536f('0x6')])(_0x5aac17,_0x2535f4),(0x0,_0x23dd3f[_0x536f('0x6')])(_0x5aac17,[{'key':_0x536f('0x309'),'value':function(_0x2a38ee){var _0xc45174=_0x2a38ee[_0x536f('0x22c')],_0x2535f4=_0x2a38ee['position'],_0xcb59e=_0x2a38ee[_0x536f('0x30a')],_0xcb59e=void 0x0===_0xcb59e?0x3:_0xcb59e,_0xae9af4=_0x2a38ee[_0x536f('0x30b')],_0xae9af4=void 0x0===_0xae9af4?0x5:_0xae9af4,_0x422a7b=_0x2a38ee[_0x536f('0x30c')],_0x23dd3f=_0x2a38ee[_0x536f('0x30d')],_0x2f30a9=_0x2a38ee[_0x536f('0x30e')];if(esmap[_0x536f('0x30f')]){var _0x2a38ee=new THREE[(_0x536f('0x59'))](_0x2535f4['x'],this[_0x536f('0x307')][_0x536f('0x77')]['y'],_0x2535f4['z'])[_0x536f('0x310')](this[_0x536f('0x307')][_0x536f('0x77')]),_0x22046e=this[_0x536f('0x307')][_0x536f('0x1c')]['_cameraSphericalRadius']-_0x422a7b,_0x2a38ee=Math['floor'](_0x2a38ee/_0xcb59e),_0x27448d=Math[_0x536f('0x7c')](Math[_0x536f('0x1b9')](_0x22046e)/_0xae9af4),_0x35edfb=(_0x27448d<0x3e8&&(_0x27448d=0x3e8),_0x2a38ee<0x3e8&&(_0x2a38ee=0x1),0x0);switch(_0xc45174){case esmap[_0x536f('0x30f')][_0x536f('0x311')]:_0x35edfb=179.99;break;case esmap[_0x536f('0x30f')][_0x536f('0x312')]:_0x35edfb=0.01;break;case esmap[_0x536f('0x30f')][_0x536f('0x313')]:_0x35edfb=-0x5a;break;case esmap[_0x536f('0x30f')][_0x536f('0x314')]:_0x35edfb=0x5a;break;case esmap[_0x536f('0x30f')][_0x536f('0x315')]:_0x35edfb=0x87;break;case esmap[_0x536f('0x30f')][_0x536f('0x316')]:_0x35edfb=-0x87;break;case esmap[_0x536f('0x30f')][_0x536f('0x317')]:_0x35edfb=0x2d;break;case esmap[_0x536f('0x30f')][_0x536f('0x318')]:_0x35edfb=-0x2d;}var _0x5aac17=this;this[_0x536f('0x307')]['moveToAnimate']({'x':-_0x2535f4['x'],'y':_0x2535f4['z'],'callback':function(){_0x5aac17[_0x536f('0x307')][_0x536f('0x319')]({'thetaAngle':_0x35edfb,'phiAngle':_0x23dd3f},_0x422a7b,_0x27448d,_0x2f30a9);},'time':_0x2a38ee});}else console[_0x536f('0x1f9')](_0x536f('0x31a'));}},{'key':_0x536f('0x31b'),'value':function(_0x2a38ee,_0xc45174){var _0x2535f4=0x1+0x32/(0x0,_0xcb59e[_0x536f('0x6')])(_0x2a38ee['x'],_0x2a38ee['y'],_0x2a38ee['z']);this[_0x536f('0x31c')]({'x':_0x2a38ee['x']*_0x2535f4,'y':_0x2a38ee['y']*_0x2535f4,'z':_0x2a38ee['z']*_0x2535f4},_0x2a38ee,_0xc45174||0xbb8);}},{'key':_0x536f('0x31d'),'value':function(_0x2a38ee){var _0xc45174,_0x2535f4=_0x2a38ee[_0x536f('0x31e')],_0xcb59e=_0x2a38ee[_0x536f('0x21d')],_0xae9af4=_0x2a38ee[_0x536f('0x30d')],_0xae9af4=void 0x0===_0xae9af4?0x2d:_0xae9af4,_0x422a7b=_0x2a38ee[_0x536f('0x31f')],_0x422a7b=void 0x0===_0x422a7b?0x0:_0x422a7b,_0x23dd3f=_0x2a38ee['time'],_0x23dd3f=void 0x0===_0x23dd3f?0x3:_0x23dd3f,_0x2f30a9=_0x2a38ee['callback'],_0x2a38ee=_0x2a38ee[_0x536f('0x320')];if(!this[_0x536f('0x308')])return this[_0x536f('0x321')](!0x0),_0xae9af4=0x0<=0x5a-_0xae9af4&&0x5a-_0xae9af4<0x5a?0x5a-_0xae9af4:0x2d,_0xc45174=_0xcb59e*Math[_0x536f('0x5a')](THREE[_0x536f('0x19')]['degToRad'](_0xae9af4)),_0xcb59e=_0xcb59e*Math['cos'](THREE[_0x536f('0x19')]['degToRad'](_0xae9af4)),_0xae9af4=new THREE[(_0x536f('0x1b5'))](0x0,0x0),_0xcb59e=new THREE[(_0x536f('0x1b5'))](_0xcb59e,0x0)['rotateAround'](_0xae9af4,THREE[_0x536f('0x19')][_0x536f('0x322')](_0x422a7b-0x5a)),_0xae9af4=new THREE[(_0x536f('0x59'))](_0x2535f4['x']+_0xcb59e['x'],_0x2535f4['y']+_0xc45174,_0x2535f4['z']+_0xcb59e['y']),this['cameraPosition']({'x':_0xae9af4['x'],'y':_0xae9af4['y'],'z':_0xae9af4['z']},_0x2535f4,0x3e8*_0x23dd3f,_0x2f30a9,_0x2a38ee),_0xae9af4;}},{'key':_0x536f('0x31c'),'value':function(_0x2a38ee,_0xc45174,_0x2535f4,_0xcb59e,_0x422a7b){var _0xae9af4,_0x23dd3f=this[_0x536f('0x307')][_0x536f('0x1c')],_0x2f30a9=this;_0x2a38ee&&(_0x2a38ee=_0x2a38ee,_0xc45174=_0xc45174||{'x':0x0,'y':0x0,'z':0x0},_0x23dd3f=(0x0,_0x27448d[_0x536f('0x6')])({},_0x23dd3f[_0x536f('0x3b')]),_0xae9af4=_0x2f30a9[_0x536f('0x307')][_0x536f('0x77')][_0x536f('0x1b1')](),new TWEEN[(_0x536f('0x323'))](_0x23dd3f)['to'](_0x2a38ee,_0x2535f4)[_0x536f('0x324')](TWEEN[_0x536f('0x325')][_0x536f('0x326')][_0x536f('0x327')])[_0x536f('0x328')](function(){_0x422a7b&&_0x422a7b['start']&&_0x422a7b[_0x536f('0x329')]();})[_0x536f('0x32a')](function(_0x2a38ee){var _0xc45174=_0x2f30a9['controls'],_0x2535f4=_0xc45174['object'],_0xcb59e=_0x2a38ee['x'],_0xae9af4=_0x2a38ee['y'],_0x2a38ee=_0x2a38ee['z'];void 0x0!==_0xcb59e&&(_0x2535f4[_0x536f('0x3b')]['x']=_0xcb59e),void 0x0!==_0xae9af4&&(_0x2535f4['position']['y']=_0xae9af4),void 0x0!==_0x2a38ee&&(_0x2535f4[_0x536f('0x3b')]['z']=_0x2a38ee),_0xc45174[_0x536f('0x2f3')](),_0x422a7b&&_0x422a7b[_0x536f('0x2f3')]&&_0x422a7b[_0x536f('0x2f3')]();})['onComplete'](function(){_0x2f30a9[_0x536f('0x321')](!0x1),_0xcb59e&&_0xcb59e(),_0x2f30a9['controls'][_0x536f('0x32b')]&&_0x2f30a9['controls']['checkScaleLevel'](),_0x422a7b&&(_0x2f30a9[_0x536f('0x307')][_0x536f('0x32c')](_0xae9af4),_0x422a7b[_0x536f('0x30e')]&&_0x422a7b[_0x536f('0x30e')](),_0x2f30a9[_0x536f('0x32d')]({'type':'flyToComplete'}));})['start'](),new TWEEN[(_0x536f('0x323'))](_0xae9af4)['to'](_0xc45174,_0x2535f4)[_0x536f('0x324')](TWEEN[_0x536f('0x325')][_0x536f('0x326')][_0x536f('0x327')])[_0x536f('0x32a')](function(_0x2a38ee){var _0xc45174;(_0xc45174=_0x2f30a9[_0x536f('0x307')])[_0x536f('0x77')][_0x536f('0x1b')](_0x2a38ee['x'],_0x2a38ee['y'],_0x2a38ee['z']),_0xc45174[_0x536f('0x2f3')]();})[_0x536f('0x329')]());}},{'key':_0x536f('0x321'),'value':function(_0x2a38ee){this[_0x536f('0x308')]=_0x2a38ee,this[_0x536f('0x307')][_0x536f('0x32e')]=!_0x2a38ee,this[_0x536f('0x307')][_0x536f('0x32f')]=!_0x2a38ee,this['controls'][_0x536f('0x330')]=!_0x2a38ee;}}]),_0xc45174[_0x536f('0x6')]=_0x5aac17;},function(_0x57be8a,_0x53d164,_0x25c183){_0x57be8a[_0x536f('0x0')]={'default':_0x25c183(0x7d),'__esModule':!0x0};},function(_0x203281,_0x3ac0c0,_0xded2a8){_0xded2a8(0x7e),_0x203281[_0x536f('0x0')]=_0xded2a8(0x2)[_0x536f('0x8b')][_0x536f('0x331')];},function(_0x4640b3,_0x4f46e4,_0x201549){var _0x907995=_0x201549(0x3);_0x907995(_0x907995['S'],'Object',{'setPrototypeOf':_0x201549(0x7f)[_0x536f('0x1b')]});},function(_0x5da5e3,_0x59a69d,_0x476186){function _0x2aba37(_0x5da5e3,_0x59a69d){if(_0x54d9df(_0x5da5e3),!_0x1db1f9(_0x59a69d)&&null!==_0x59a69d)throw TypeError(_0x59a69d+_0x536f('0x332'));}var _0x1db1f9=_0x476186(0x9),_0x54d9df=_0x476186(0xa);_0x5da5e3[_0x536f('0x0')]={'set':Object[_0x536f('0x331')]||('__proto__'in{}?function(_0x5da5e3,_0x1db1f9,_0x54d9df){try{(_0x54d9df=_0x476186(0xe)(Function[_0x536f('0xa')],_0x476186(0x43)['f'](Object[_0x536f('0x8')],_0x536f('0x66'))[_0x536f('0x1b')],0x2))(_0x5da5e3,[]),_0x1db1f9=!(_0x5da5e3 instanceof Array);}catch(_0xf5774f){_0x1db1f9=!0x0;}return function(_0x5da5e3,_0x59a69d){return _0x2aba37(_0x5da5e3,_0x59a69d),_0x1db1f9?_0x5da5e3['__proto__']=_0x59a69d:_0x54d9df(_0x5da5e3,_0x59a69d),_0x5da5e3;};}({},!0x1):void 0x0),'check':_0x2aba37};},,function(_0x112bba,_0x5dfb9f,_0x1250ff){var _0x1250ff=_0x1250ff(0x2),_0xa4868a=_0x1250ff['JSON']||(_0x1250ff[_0x536f('0x2b7')]={'stringify':JSON['stringify']});_0x112bba[_0x536f('0x0')]=function(_0x112bba){return _0xa4868a[_0x536f('0x333')][_0x536f('0x16')](_0xa4868a,arguments);};},function(_0x3a910b,_0x597367,_0x73102a){_0x73102a(0x36),_0x73102a(0x15),_0x73102a(0x1b),_0x73102a(0x83),_0x73102a(0x87),_0x73102a(0x89),_0x73102a(0x8a),_0x3a910b[_0x536f('0x0')]=_0x73102a(0x2)[_0x536f('0x334')];},function(_0xf9809d,_0x4bc60a,_0x259af3){'use strict';var _0xc05fff=_0x259af3(0x73),_0x85042e=_0x259af3(0x4d);_0xf9809d[_0x536f('0x0')]=_0x259af3(0x74)(_0x536f('0x334'),function(_0xf9809d){return function(){return _0xf9809d(this,0x0<arguments[_0x536f('0xd')]?arguments[0x0]:void 0x0);};},{'add':function(_0xf9809d){return _0xc05fff['def'](_0x85042e(this,_0x536f('0x334')),_0xf9809d=0x0===_0xf9809d?0x0:_0xf9809d,_0xf9809d);}},_0xc05fff);},function(_0x251b36,_0x1aab6e,_0x21fff5){var _0xcd623a=_0x21fff5(0xe),_0x53915e=_0x21fff5(0x31),_0xce8e07=_0x21fff5(0x13),_0x112f6e=_0x21fff5(0x2a),_0x5e1882=_0x21fff5(0x85);_0x251b36[_0x536f('0x0')]=function(_0xc5dd17,_0x251b36){var _0x3217ff=0x1==_0xc5dd17,_0x16dd3b=0x2==_0xc5dd17,_0x59df6e=0x3==_0xc5dd17,_0x5eb87e=0x4==_0xc5dd17,_0x53da88=0x6==_0xc5dd17,_0x3a9fb8=0x5==_0xc5dd17||_0x53da88,_0x3ea646=_0x251b36||_0x5e1882;return function(_0x251b36,_0x1aab6e,_0x21fff5){for(var _0x5e1882,_0x11e2c7,_0x1c3dda=_0xce8e07(_0x251b36),_0x74d266=_0x53915e(_0x1c3dda),_0x5781a4=_0xcd623a(_0x1aab6e,_0x21fff5,0x3),_0x14065e=_0x112f6e(_0x74d266[_0x536f('0xd')]),_0x7d4c25=0x0,_0x102db8=_0x3217ff?_0x3ea646(_0x251b36,_0x14065e):_0x16dd3b?_0x3ea646(_0x251b36,0x0):void 0x0;_0x7d4c25<_0x14065e;_0x7d4c25++)if((_0x3a9fb8||_0x7d4c25 in _0x74d266)&&(_0x11e2c7=_0x5781a4(_0x5e1882=_0x74d266[_0x7d4c25],_0x7d4c25,_0x1c3dda),_0xc5dd17))if(_0x3217ff)_0x102db8[_0x7d4c25]=_0x11e2c7;else if(_0x11e2c7)switch(_0xc5dd17){case 0x3:return!0x0;case 0x5:return _0x5e1882;case 0x6:return _0x7d4c25;case 0x2:_0x102db8[_0x536f('0x82')](_0x5e1882);}else if(_0x5eb87e)return!0x1;return _0x53da88?-0x1:_0x59df6e||_0x5eb87e?_0x5eb87e:_0x102db8;};};},function(_0x272c41,_0x575795,_0x1f50d9){var _0x5ed5fe=_0x1f50d9(0x86);_0x272c41[_0x536f('0x0')]=function(_0x272c41,_0x575795){return new(_0x5ed5fe(_0x272c41))(_0x575795);};},function(_0x1e6dc4,_0x3db1cb,_0x14841f){var _0x253b7b=_0x14841f(0x9),_0x3dc402=_0x14841f(0x4b),_0x5cc666=_0x14841f(0x6)(_0x536f('0x2b5'));_0x1e6dc4[_0x536f('0x0')]=function(_0x1e6dc4){var _0x3db1cb;return _0x3dc402(_0x1e6dc4)&&(_0x536f('0x15')!=typeof(_0x3db1cb=_0x1e6dc4[_0x536f('0x7d')])||_0x3db1cb!==Array&&!_0x3dc402(_0x3db1cb[_0x536f('0x8')])||(_0x3db1cb=void 0x0),_0x253b7b(_0x3db1cb)&&null===(_0x3db1cb=_0x3db1cb[_0x5cc666])&&(_0x3db1cb=void 0x0)),void 0x0===_0x3db1cb?Array:_0x3db1cb;};},function(_0x210f8b,_0x43d723,_0x39bab6){var _0x4be277=_0x39bab6(0x3);_0x4be277(_0x4be277['P']+_0x4be277['R'],_0x536f('0x334'),{'toJSON':_0x39bab6(0x75)(_0x536f('0x334'))});},function(_0x1cd98e,_0x8aa2a2,_0x5ce584){var _0x1b7645=_0x5ce584(0x26);_0x1cd98e['exports']=function(_0x1cd98e,_0x8aa2a2){var _0x5ce584=[];return _0x1b7645(_0x1cd98e,!0x1,_0x5ce584[_0x536f('0x82')],_0x5ce584,_0x8aa2a2),_0x5ce584;};},function(_0x5d31f1,_0x568ef5,_0x34df62){_0x34df62(0x76)(_0x536f('0x334'));},function(_0xb227ac,_0x33666f,_0x3716b6){_0x3716b6(0x77)('Set');},function(_0x1284b6,_0x244579,_0x3dceff){_0x3dceff(0x8c);var _0x523e9b=_0x3dceff(0x2)[_0x536f('0x8b')];_0x1284b6[_0x536f('0x0')]=function(_0x1284b6,_0x244579){return _0x523e9b[_0x536f('0x26d')](_0x1284b6,_0x244579);};},function(_0x5aa87a,_0x204613,_0x3030be){var _0x575b40=_0x3030be(0x3);_0x575b40(_0x575b40['S']+_0x575b40['F']*!_0x3030be(0x7),_0x536f('0x8b'),{'defineProperties':_0x3030be(0x42)});},function(_0x549c81,_0x5c5373,_0x3aeebc){'use strict';Object[_0x536f('0x1')](_0x5c5373,'__esModule',{'value':!0x0}),_0x5c5373[_0x536f('0x335')]=_0x5c5373['_getSegementPointsForVec3']=void 0x0;var _0x1bc3d2=_0x5274c2(_0x3aeebc(0x4)),_0x4d2e43=_0x5274c2(_0x3aeebc(0x10));function _0x5274c2(_0x549c81){return _0x549c81&&_0x549c81[_0x536f('0x4')]?_0x549c81:{'default':_0x549c81};}function _0x4fdd16(_0x549c81){for(var _0x5c5373=0x0,_0x3aeebc=_0x549c81[_0x536f('0xd')];_0x5c5373<_0x3aeebc;_0x5c5373++)_0x549c81[_0x5c5373]['_index']=_0x5c5373;}function _0x1cef56(_0x549c81,_0x5c5373){for(var _0x3aeebc=[],_0x5274c2=0x0,_0x13bdfb=0x0,_0x3846d2=_0x549c81[_0x536f('0xd')];_0x13bdfb<_0x3846d2-0x1;_0x13bdfb++)_0x5274c2+=_0x549c81[_0x13bdfb][_0x536f('0x310')](_0x549c81[_0x13bdfb+0x1]);for(var _0x4b2375=0x1,_0x154550=Math[_0x536f('0x7c')](_0x5274c2/_0x5c5373);_0x4b2375<=_0x154550;_0x4b2375++){var _0x480ac0=function(_0x549c81,_0x5c5373){if(_0x549c81){if(0x0==_0x5c5373)return _0x549c81[0x0];for(var _0x3aeebc,_0x5274c2,_0x13bdfb=0x0,_0x3846d2=0x0,_0x4b2375=_0x549c81[0x0],_0x154550=0x1;_0x154550<_0x549c81[_0x536f('0xd')];_0x154550++){if(_0x5c5373<=(_0x13bdfb+=(_0x5274c2=(_0x3aeebc=_0x549c81[_0x154550])['clone']()['sub'](_0x4b2375))['length']()))return _0x5274c2[_0x536f('0x1c1')](),(_0x5274c2=_0x4b2375[_0x536f('0x1b1')]()[_0x536f('0x1c3')](_0x5274c2['clone']()[_0x536f('0x1c2')](_0x5c5373-_0x3846d2)))[_0x536f('0x336')]=_0x3aeebc[_0x536f('0x337')],_0x5274c2;(_0x4b2375=_0x3aeebc[_0x536f('0x1b1')]())['index']=_0x3aeebc['_index'],_0x3846d2=_0x13bdfb;}var _0x480ac0=(0x0,_0x4d2e43['default'])(new Vector3(),_0x549c81[_0x549c81[_0x536f('0xd')]-0x1]);return _0x480ac0['index']=_0x480ac0[_0x536f('0x337')],_0x480ac0;}}(_0x549c81,_0x4b2375*_0x5c5373);_0x3aeebc[_0x536f('0x82')](_0x480ac0);}return _0x3aeebc;}_0x5c5373[_0x536f('0x338')]=function(_0x549c81,_0x5c5373){var _0x3aeebc=[],_0x5274c2=!0x0,_0x1288b7=!0x1,_0x2a30c4=void 0x0;try{for(var _0x33e771,_0x149401=(0x0,_0x1bc3d2['default'])(_0x549c81);!(_0x5274c2=(_0x33e771=_0x149401[_0x536f('0x79')]())['done']);_0x5274c2=!0x0){var _0x27f1ef=_0x33e771['value'];_0x3aeebc[_0x536f('0x82')](new THREE[(_0x536f('0x59'))](-_0x27f1ef['x'],_0x27f1ef[_0x536f('0x339')],_0x27f1ef['y']));}}catch(_0x4181e1){_0x1288b7=!0x0,_0x2a30c4=_0x4181e1;}finally{try{!_0x5274c2&&_0x149401[_0x536f('0x265')]&&_0x149401[_0x536f('0x265')]();}finally{if(_0x1288b7)throw _0x2a30c4;}}return _0x4fdd16(_0x3aeebc),_0x1cef56(_0x3aeebc,_0x5c5373);},_0x5c5373[_0x536f('0x335')]=function(_0x549c81,_0x5c5373){var _0x3aeebc=[],_0x5274c2=!0x0,_0x11bad8=!0x1,_0x114980=void 0x0;try{for(var _0x4315f6,_0x9c8726=(0x0,_0x1bc3d2[_0x536f('0x6')])(_0x549c81);!(_0x5274c2=(_0x4315f6=_0x9c8726[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5274c2=!0x0){var _0xaa7ed6=_0x4315f6[_0x536f('0x10')];_0x3aeebc[_0x536f('0x82')](new THREE[(_0x536f('0x59'))](-_0xaa7ed6['x'],_0xaa7ed6[_0x536f('0x339')],_0xaa7ed6['y']));}}catch(_0x16976f){_0x11bad8=!0x0,_0x114980=_0x16976f;}finally{try{!_0x5274c2&&_0x9c8726[_0x536f('0x265')]&&_0x9c8726[_0x536f('0x265')]();}finally{if(_0x11bad8)throw _0x114980;}}_0x4fdd16(_0x3aeebc);var _0x549c81=_0x1cef56(_0x3aeebc,_0x5c5373),_0x4d2e43=!0x0,_0x11bad8=!0x1,_0x114980=void 0x0;try{for(var _0x3c83f7,_0xea2fea=(0x0,_0x1bc3d2['default'])(_0x549c81);!(_0x4d2e43=(_0x3c83f7=_0xea2fea[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x4d2e43=!0x0){var _0x2bc965=_0x3c83f7[_0x536f('0x10')],_0x405fd4=(_0x2bc965['x']=-_0x2bc965['x'],_0x2bc965['y']);_0x2bc965['y']=_0x2bc965['z'],_0x2bc965['z']=_0x405fd4;}}catch(_0x5b5b66){_0x11bad8=!0x0,_0x114980=_0x5b5b66;}finally{try{!_0x4d2e43&&_0xea2fea[_0x536f('0x265')]&&_0xea2fea['return']();}finally{if(_0x11bad8)throw _0x114980;}}return _0x549c81;};},function(_0x1d1116,_0x8c9255,_0x211ccb){'use strict';Object[_0x536f('0x1')](_0x8c9255,_0x536f('0x4'),{'value':!0x0});var _0x16c0d7=_0xb85a9(_0x211ccb(0x4)),_0x10e224=_0xb85a9(_0x211ccb(0x0)),_0x543b0c=_0xb85a9(_0x211ccb(0x1)),_0x324c47=_0xb85a9(_0x211ccb(0x37));function _0xb85a9(_0x1d1116){return _0x1d1116&&_0x1d1116[_0x536f('0x4')]?_0x1d1116:{'default':_0x1d1116};}var _0x180b05=_0x211ccb(0x9b),_0x211ccb=((0x0,_0x543b0c[_0x536f('0x6')])(_0x22505,[{'key':_0x536f('0x33a'),'value':function(_0x1d1116){var _0x8c9255=_0x1d1116['texture'],_0x211ccb=_0x1d1116['colorStr'],_0x1d1116=_0x1d1116[_0x536f('0x2ee')];this[_0x536f('0x33b')]=new _0x180b05[(_0x536f('0x33c'))]({'map':_0x8c9255,'useMap':this[_0x536f('0x238')][_0x536f('0xcf')],'useFadeOut':!0x1,'fadeOutFactor':0x0,'color':new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x211ccb),'opacity':this[_0x536f('0x201')],'dashArray':this[_0x536f('0x238')][_0x536f('0x33e')],'dashOffset':this['params']['dashOffset'],'dashRatio':this['params'][_0x536f('0x33f')],'resolution':this['resolution'],'sizeAttenuation':this[_0x536f('0x238')][_0x536f('0x340')],'lineWidth':this[_0x536f('0x238')][_0x536f('0x341')],'near':this[_0x536f('0x342')][_0x536f('0x343')],'far':this[_0x536f('0x342')][_0x536f('0x344')],'depthWrite':!0x1,'depthTest':!0x0,'alphaTest':0x0,'transparent':!0x0,'side':THREE[_0x536f('0x345')],'repeat':new THREE[(_0x536f('0x1b5'))](_0x1d1116['x'],_0x1d1116['y']),'offset':new THREE[(_0x536f('0x1b5'))](0x0,0x0),'useChange':!0x1}),this['lineMaterial'][_0x536f('0x1db')]=!0x0,this[_0x536f('0x33b')]['name']=_0x536f('0x346');}},{'key':_0x536f('0x347'),'value':function(){var _0x1d1116=new THREE['Geometry']();return _0x1d1116[_0x536f('0x348')][_0x536f('0x82')](new THREE[(_0x536f('0x59'))](-0x64,0x0,-0x64)),_0x1d1116[_0x536f('0x348')][_0x536f('0x82')](new THREE[(_0x536f('0x59'))](0x64,0x0,-0x64)),_0x1d1116['vertices'][_0x536f('0x82')](new THREE[(_0x536f('0x59'))](0x64,0x0,0x64)),_0x1d1116[_0x536f('0x348')][_0x536f('0x82')](new THREE[(_0x536f('0x59'))](-0x64,0x0,0x64)),_0x1d1116[_0x536f('0x348')][_0x536f('0x82')](new THREE[(_0x536f('0x59'))](-0x64,0x0,-0x64)),_0x1d1116;}},{'key':'makeLineGeometry','value':function(_0x1d1116){for(var _0x8c9255=new THREE[(_0x536f('0x349'))](),_0x211ccb=0x0,_0x543b0c=_0x1d1116[_0x536f('0xd')];_0x211ccb<_0x543b0c;_0x211ccb++)_0x8c9255[_0x536f('0x348')]['push'](_0x1d1116[_0x211ccb]);return _0x8c9255;}},{'key':_0x536f('0x34a'),'value':function(_0x1d1116){var _0x8c9255=this[_0x536f('0x34b')](_0x1d1116),_0x211ccb=new _0x180b05['MeshLine']();switch(this[_0x536f('0x238')][_0x536f('0x34c')]){case _0x536f('0x6c'):_0x211ccb[_0x536f('0x34d')](_0x8c9255);break;case _0x536f('0x34e'):_0x211ccb[_0x536f('0x34d')](_0x8c9255,function(_0x1d1116){return 0x1-_0x1d1116;});break;case _0x536f('0x34f'):_0x211ccb[_0x536f('0x34d')](_0x8c9255,function(_0x1d1116){return+Math[_0x536f('0x350')](0x4*_0x1d1116*(0x1-_0x1d1116),0x1);});break;case'wavy':_0x211ccb[_0x536f('0x34d')](_0x8c9255,function(_0x1d1116){return 0x2+Math[_0x536f('0x5a')](0x32*_0x1d1116);});}return _0x211ccb[_0x536f('0xd0')];}},{'key':_0x536f('0x351'),'value':function(_0x1d1116,_0x8c9255){var _0x211ccb=_0x1d1116[0x0],_0x543b0c=[],_0x324c47=!0x0,_0xb85a9=!0x1,_0x3598e5=void 0x0;try{for(var _0x2822bc,_0x3a0409=(0x0,_0x16c0d7[_0x536f('0x6')])(_0x1d1116);!(_0x324c47=(_0x2822bc=_0x3a0409['next']())[_0x536f('0x7a')]);_0x324c47=!0x0){var _0x333192=_0x2822bc[_0x536f('0x10')],_0x42597c=_0x333192['x']-_0x211ccb['x'],_0x10e224=_0x333192['z']-_0x211ccb['z'];_0x543b0c[_0x536f('0x82')](new THREE['Vector3'](_0x42597c,_0x333192['y'],_0x10e224));}}catch(_0x4d8cec){_0xb85a9=!0x0,_0x3598e5=_0x4d8cec;}finally{try{!_0x324c47&&_0x3a0409['return']&&_0x3a0409[_0x536f('0x265')]();}finally{if(_0xb85a9)throw _0x3598e5;}}var _0x49aaf9=this[_0x536f('0x34b')](_0x543b0c),_0x224837=new _0x180b05['MeshLine']();switch(this[_0x536f('0x352')][_0x536f('0x82')](_0x224837),this[_0x536f('0x238')][_0x536f('0x34c')]){case'none':_0x224837[_0x536f('0x34d')](_0x49aaf9);break;case _0x536f('0x34e'):_0x224837[_0x536f('0x34d')](_0x49aaf9,function(_0x1d1116){return 0x1-_0x1d1116;});break;case _0x536f('0x34f'):_0x224837['setGeometry'](_0x49aaf9,function(_0x1d1116){return+Math[_0x536f('0x350')](0x4*_0x1d1116*(0x1-_0x1d1116),0x1);});break;case _0x536f('0x353'):_0x224837['setGeometry'](_0x49aaf9,function(_0x1d1116){return 0x2+Math['sin'](0x32*_0x1d1116);});}_0x1d1116=new THREE[(_0x536f('0x354'))](_0x224837[_0x536f('0xd0')],this[_0x536f('0x33b')]);return _0x1d1116['renderOrder']=this[_0x536f('0x355')],this[_0x536f('0x356')][_0x536f('0x1c3')](_0x1d1116),_0x1d1116;}},{'key':'addLineGeometry','value':function(_0x1d1116,_0x8c9255,_0x211ccb){var _0x543b0c=[],_0x324c47=!0x0,_0xb85a9=!0x1,_0x4a9399=void 0x0;try{for(var _0x1f4141,_0x1389ff=(0x0,_0x16c0d7[_0x536f('0x6')])(_0x1d1116);!(_0x324c47=(_0x1f4141=_0x1389ff['next']())['done']);_0x324c47=!0x0){var _0xd0bdcc=_0x1f4141[_0x536f('0x10')],_0x41f592=new THREE[(_0x536f('0x59'))](-(_0x8c9255['x']+_0xd0bdcc['x']),_0xd0bdcc['offset']||0x0,_0xd0bdcc['y']-_0x8c9255['z']);_0x543b0c[_0x536f('0x82')](_0x41f592);}}catch(_0x5066de){_0xb85a9=!0x0,_0x4a9399=_0x5066de;}finally{try{!_0x324c47&&_0x1389ff[_0x536f('0x265')]&&_0x1389ff[_0x536f('0x265')]();}finally{if(_0xb85a9)throw _0x4a9399;}}var _0x10e224=this[_0x536f('0x34b')](_0x543b0c),_0x388987=new _0x180b05['MeshLine']();switch(_0x211ccb||this[_0x536f('0x238')][_0x536f('0x34c')]){case _0x536f('0x6c'):_0x388987['setGeometry'](_0x10e224);break;case _0x536f('0x34e'):_0x388987[_0x536f('0x34d')](_0x10e224,function(_0x1d1116){return 0x1-_0x1d1116;});break;case _0x536f('0x34f'):_0x388987['setGeometry'](_0x10e224,function(_0x1d1116){return+Math[_0x536f('0x350')](0x4*_0x1d1116*(0x1-_0x1d1116),0x1);});break;case _0x536f('0x353'):_0x388987[_0x536f('0x34d')](_0x10e224,function(_0x1d1116){return 0x2+Math['sin'](0x32*_0x1d1116);});}return _0x388987[_0x536f('0xd0')];}},{'key':'getAngleToNextLine','value':function(_0x1d1116,_0x8c9255,_0x211ccb){return this[_0x536f('0x357')][_0x536f('0x358')](_0x211ccb,_0x8c9255),this['tempStartPoint'][_0x536f('0x1bc')](_0x8c9255)[_0x536f('0x1c1')](),this[_0x536f('0x359')][_0x536f('0x1bc')](_0x211ccb)[_0x536f('0x1c1')](),0x0<this[_0x536f('0x35a')]['cross'](this[_0x536f('0x359')])['y']?-_0x1d1116['angleTo'](this[_0x536f('0x357')]):_0x1d1116[_0x536f('0x35b')](this[_0x536f('0x357')]);}},{'key':'collectPoints','value':function(_0x1d1116){for(var _0x8c9255=0x0,_0x211ccb=(_0x1d1116['children'][_0x536f('0x2c8')](function(_0x1d1116){_0x8c9255+=_0x1d1116[_0x536f('0xd0')][_0x536f('0x169')][_0x536f('0x3b')][_0x536f('0xf9')];}),new THREE[(_0x536f('0x1e7'))]()),_0x543b0c=(_0x211ccb[_0x536f('0x1f5')](_0x536f('0x3b'),new THREE[(_0x536f('0x102'))](new Float32Array(0x3*_0x8c9255),0x3)),0x0),_0x324c47=(_0x1d1116[_0x536f('0x35c')]['forEach'](function(_0x1d1116){_0x211ccb[_0x536f('0x35d')](_0x1d1116[_0x536f('0xd0')],_0x543b0c),_0x543b0c+=_0x1d1116['geometry'][_0x536f('0x169')][_0x536f('0x3b')][_0x536f('0xf9')];}),_0x211ccb['center'](_0x211ccb),new THREE[(_0x536f('0x35e'))]()),_0xb85a9=(_0x324c47[_0x536f('0x35f')](0x3e8,0x3e8,0x3e8),_0x211ccb[_0x536f('0x360')](_0x324c47),new THREE[(_0x536f('0x354'))](_0x211ccb,new THREE['MeshNormalMaterial']())),_0x27faca=(_0x1d1116[_0x536f('0x1c3')](_0xb85a9),new THREE[(_0x536f('0x361'))]()),_0x501064=[],_0x527db8=-0xc8,_0x126e05=0x0,_0x39b639=new THREE[(_0x536f('0x59'))](),_0x10e224=new THREE[(_0x536f('0x59'))](),_0x178443=0x0;_0x178443<0x1770;_0x178443++){_0x126e05+=0.1,_0x527db8+=0.075,_0x39b639[_0x536f('0x1b')](0x3e8*Math['cos'](_0x126e05),_0x527db8,0x3e8*Math[_0x536f('0x5a')](_0x126e05)),_0x10e224[_0x536f('0x1b')](-_0x39b639['x'],0x0,-_0x39b639['z']),_0x10e224=_0x10e224[_0x536f('0x1c1')](),_0x27faca[_0x536f('0x1b')](_0x39b639,_0x10e224);var _0x1f5819=_0x27faca['intersectObject'](_0xb85a9,!0x0);_0x1f5819['length']&&_0x501064['push'](_0x1f5819[0x0][_0x536f('0x362')]['x'],_0x1f5819[0x0][_0x536f('0x362')]['y'],_0x1f5819[0x0][_0x536f('0x362')]['z']);}_0x1d1116['remove'](_0xb85a9);_0x324c47=new _0x180b05[(_0x536f('0x363'))](),_0x324c47['setGeometry'](_0x501064,function(_0x1d1116){return _0x1d1116;}),_0x324c47=new THREE[(_0x536f('0x354'))](_0x324c47['geometry'],this[_0x536f('0x33b')]);_0x1d1116[_0x536f('0x1c3')](_0x324c47);}},{'key':'removeLine','value':function(_0x1d1116){_0x324c47[_0x536f('0x6')][_0x536f('0x364')](_0x1d1116);}},{'key':_0x536f('0x365'),'value':function(_0x1d1116){var _0x8c9255=this;_0x1d1116['on']('resize',function(_0x1d1116){_0x8c9255[_0x536f('0x33b')]['resolution'][_0x536f('0x1b')](_0x1d1116[_0x536f('0x366')],_0x1d1116[_0x536f('0x339')]);});}},{'key':'dispose','value':function(){this[_0x536f('0x33b')]&&this[_0x536f('0x33b')]['dispose'](),this[_0x536f('0x33b')]=null,this[_0x536f('0x1c7')]&&this[_0x536f('0x1c7')][_0x536f('0xcd')](),this['texture']=null,this[_0x536f('0x352')][_0x536f('0xd')]=0x0,_0x324c47[_0x536f('0x6')][_0x536f('0x367')](this[_0x536f('0x356')]);}},{'key':'fadeOut','value':function(_0x1d1116){var _0x8c9255;this[_0x536f('0x33b')]&&(_0x1d1116=_0x1d1116||1.5,this[_0x536f('0x33b')][_0x536f('0x368')]=!0x0,this[_0x536f('0x33b')][_0x536f('0x369')]=0x0,_0x8c9255=this,new TWEEN['Tween']({'x':0x0})['to']({'x':0x1},0x3e8*_0x1d1116)[_0x536f('0x32a')](function(_0x1d1116){_0x8c9255[_0x536f('0x33b')][_0x536f('0x369')]=_0x1d1116['x'];})['easing'](TWEEN['Easing'][_0x536f('0x326')]['In'])[_0x536f('0x329')]());}},{'key':_0x536f('0x36a'),'value':function(_0x1d1116){this[_0x536f('0x33b')]&&(this[_0x536f('0x33b')]['uniforms'][_0x536f('0xf8')][_0x536f('0x10')]['x']-=_0x1d1116*this[_0x536f('0x36b')]);}},{'key':'visible','set':function(_0x1d1116){this[_0x536f('0x356')][_0x536f('0x36c')]=_0x1d1116;},'get':function(){return this[_0x536f('0x356')][_0x536f('0x36c')];}}]),_0x22505);function _0x22505(_0x1d1116){var _0x8c9255=_0x1d1116['camera'],_0x211ccb=_0x1d1116[_0x536f('0x1c7')],_0x543b0c=_0x1d1116[_0x536f('0x36d')],_0x543b0c=void 0x0===_0x543b0c?_0x536f('0x36e'):_0x543b0c,_0x324c47=_0x1d1116[_0x536f('0x201')],_0x324c47=void 0x0===_0x324c47?0x1:_0x324c47,_0xb85a9=_0x1d1116['lineWidth'],_0xb85a9=void 0x0===_0xb85a9?0x7:_0xb85a9,_0x54a1bb=_0x1d1116[_0x536f('0x36f')],_0x54a1bb=void 0x0===_0x54a1bb?_0x536f('0x6c'):_0x54a1bb,_0x5d0a90=_0x1d1116[_0x536f('0x2ee')],_0x5d0a90=void 0x0===_0x5d0a90?{'x':0x1,'y':0x1}:_0x5d0a90,_0x1b68b5=_0x1d1116[_0x536f('0x370')],_0x31543c=_0x1d1116['speed'],_0x31543c=void 0x0===_0x31543c?0x1:_0x31543c,_0x4e5406=_0x1d1116[_0x536f('0x371')],_0x4e5406=void 0x0!==_0x4e5406&&_0x4e5406,_0x1d1116=_0x1d1116[_0x536f('0x355')],_0x1d1116=void 0x0===_0x1d1116?0xb:_0x1d1116;(0x0,_0x10e224['default'])(this,_0x22505),this[_0x536f('0x342')]=_0x8c9255,this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x355')]=_0x1d1116,this[_0x536f('0x238')]={'curves':!0x0,'circles':!0x1,'amount':0x32,'lineWidth':_0xb85a9,'dashArray':0x0,'dashOffset':0x0,'dashRatio':0.3,'taper':_0x54a1bb,'map':!0x0,'sizeAttenuation':!0x1,'animateWidth':!0x1,'spread':!0x1,'autoRotate':!0x0,'autoUpdate':!0x0,'animateVisibility':!0x1,'animateDashOffset':!0x1,'isCanChangeStyle':_0x4e5406},this[_0x536f('0x370')]=_0x1b68b5||new THREE[(_0x536f('0x1b5'))](window[_0x536f('0x373')],window[_0x536f('0x374')]),this[_0x536f('0x36b')]=_0x31543c,this[_0x536f('0x1c7')]=_0x211ccb,this[_0x536f('0x1c7')][_0x536f('0x375')]=THREE[_0x536f('0x376')],this[_0x536f('0x1c7')]['wrapS']=THREE[_0x536f('0x376')],this[_0x536f('0x201')]=_0x324c47,this[_0x536f('0x33b')]=null,this[_0x536f('0x33a')]({'texture':_0x211ccb,'colorStr':_0x543b0c,'repeat':_0x5d0a90}),this[_0x536f('0x35a')]=new THREE[(_0x536f('0x59'))](),this[_0x536f('0x359')]=new THREE[(_0x536f('0x59'))](),this[_0x536f('0x357')]=new THREE[(_0x536f('0x59'))](),this['meshLines']=[];}_0x8c9255[_0x536f('0x6')]=_0x211ccb;},function(_0x5e92dc,_0x2172c0,_0x51b828){'use strict';_0x2172c0[_0x536f('0x4')]=!0x0;var _0x51b828=_0x51b828(0x38),_0x4c5a9d=_0x51b828&&_0x51b828['__esModule']?_0x51b828:{'default':_0x51b828};_0x2172c0[_0x536f('0x6')]=function(_0x5e92dc,_0x2172c0,_0x51b828){return _0x2172c0 in _0x5e92dc?(0x0,_0x4c5a9d[_0x536f('0x6')])(_0x5e92dc,_0x2172c0,{'value':_0x51b828,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x5e92dc[_0x2172c0]=_0x51b828,_0x5e92dc;};},function(_0x18daf5,_0x40c1c4,_0x45a5b0){'use strict';Object[_0x536f('0x1')](_0x40c1c4,_0x536f('0x4'),{'value':!0x0});var _0xd6fecf=_0x1fa6c0(_0x45a5b0(0x0));function _0x1fa6c0(_0x18daf5){return _0x18daf5&&_0x18daf5['__esModule']?_0x18daf5:{'default':_0x18daf5};}function _0x576b5e(_0x18daf5,_0x40c1c4,_0x45a5b0,_0x1fa6c0,_0x3075e3){(0x0,_0xd6fecf['default'])(this,_0x576b5e),this[_0x536f('0x377')]=_0x18daf5,this['eventName']=_0x1fa6c0||_0x536f('0x378'),this[_0x536f('0x306')]=_0x40c1c4,this[_0x536f('0x379')]=_0x45a5b0,this[_0x536f('0x37a')]=this[_0x536f('0x37b')][_0x536f('0x7')](this),this[_0x536f('0x37c')]=_0x3075e3;}(0x0,_0x1fa6c0(_0x45a5b0(0x1))['default'])(_0x576b5e,[{'key':_0x536f('0x37d'),'value':function(){this['container'][_0x536f('0x37e')](this[_0x536f('0x37f')],this['_handleGetPos'],!0x1);}},{'key':_0x536f('0xcd'),'value':function(){this[_0x536f('0x377')][_0x536f('0x380')](this[_0x536f('0x37f')],this[_0x536f('0x37a')],!0x1);}},{'key':_0x536f('0x381'),'value':function(_0x18daf5){var _0x18daf5=_0x18daf5||window[_0x536f('0x382')],_0x40c1c4=_0x18daf5[_0x536f('0x77')]||_0x18daf5[_0x536f('0x383')];return _0x18daf5[_0x536f('0x384')]||(_0x40c1c4=_0x40c1c4[_0x536f('0x385')](),_0x18daf5[_0x536f('0x386')]-_0x40c1c4['left']);}},{'key':_0x536f('0x387'),'value':function(_0x18daf5){var _0x18daf5=_0x18daf5||window['event'],_0x40c1c4=_0x18daf5[_0x536f('0x77')]||_0x18daf5['srcElement'];return _0x18daf5[_0x536f('0x388')]||(_0x40c1c4=_0x40c1c4[_0x536f('0x385')](),_0x18daf5[_0x536f('0x389')]-_0x40c1c4[_0x536f('0x38a')]);}},{'key':_0x536f('0x37b'),'value':function(_0x18daf5){var _0x40c1c4=this[_0x536f('0x381')](_0x18daf5),_0x18daf5=this[_0x536f('0x387')](_0x18daf5),_0x40c1c4=this['view'][_0x536f('0x38b')]({'x':_0x40c1c4,'y':_0x18daf5},this[_0x536f('0x379')]);0x0<_0x40c1c4[_0x536f('0xd')]&&console['info'](_0x40c1c4[0x0][_0x536f('0x1c')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x38c')][_0x536f('0x10')][0x0][_0x536f('0x38d')],_0x40c1c4[0x0][_0x536f('0x1c')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x38c')][_0x536f('0x10')][0x0]['image'][_0x536f('0x38e')]);}}],[{'key':_0x536f('0x38f'),'value':function(_0x18daf5){return ESTileMap[_0x536f('0x390')][_0x536f('0x391')]({'mapType':_0x536f('0x392'),'longitude':_0x18daf5[0x0],'latitude':_0x18daf5[0x1]});}},{'key':_0x536f('0x393'),'value':function(_0x18daf5){return ESTileMap[_0x536f('0x390')][_0x536f('0x394')]({'mapType':_0x536f('0x392'),'x':_0x18daf5['x'],'z':_0x18daf5['y']});}}]),_0x40c1c4['default']=_0x576b5e;},function(_0x2257d9,_0x5d27b3,_0x2d4ab0){_0x2d4ab0(0x92),_0x2257d9[_0x536f('0x0')]=_0x2d4ab0(0x2)[_0x536f('0x8b')][_0x536f('0x395')];},function(_0x30ae72,_0x50daf0,_0x155c19){var _0x26abf4=_0x155c19(0x13),_0x129594=_0x155c19(0x48);_0x155c19(0x49)(_0x536f('0x395'),function(){return function(_0x30ae72){return _0x129594(_0x26abf4(_0x30ae72));};});},function(_0x2fe664,_0x2bae03,_0x44ef92){_0x44ef92(0x36),_0x44ef92(0x15),_0x44ef92(0x1b),_0x44ef92(0x94),_0x44ef92(0x98),_0x44ef92(0x99),_0x2fe664[_0x536f('0x0')]=_0x44ef92(0x2)[_0x536f('0x396')];},function(_0x15daa7,_0x5d7dc7,_0x4cf1cc){'use strict';function _0xe73e54(){}function _0x266378(_0x479e3c){return 0x1!==_0x479e3c['_h']&&0x0===(_0x479e3c['_a']||_0x479e3c['_c'])[_0x536f('0xd')];}var _0x4b9c44,_0x3846b4,_0xa5a341,_0x2e43b4,_0x9df6b7=_0x4cf1cc(0x16),_0x127084=_0x4cf1cc(0x5),_0x4c006c=_0x4cf1cc(0xe),_0x24d171=_0x4cf1cc(0x2d),_0x335995=_0x4cf1cc(0x3),_0x3fed79=_0x4cf1cc(0x9),_0x29afa4=_0x4cf1cc(0x21),_0x1231fa=_0x4cf1cc(0x45),_0x495333=_0x4cf1cc(0x26),_0x527dd6=_0x4cf1cc(0x6f),_0x3b5d95=_0x4cf1cc(0x70)[_0x536f('0x1b')],_0x2d8d37=_0x4cf1cc(0x96)(),_0x10e84f=_0x4cf1cc(0x4f),_0x4c9a10=_0x4cf1cc(0x71),_0x15c026=_0x4cf1cc(0x97),_0x217f9c=_0x4cf1cc(0x72),_0x1bc500=_0x536f('0x396'),_0x7a5904=_0x127084[_0x536f('0x397')],_0x375a00=_0x127084['process'],_0x8918bf=_0x375a00&&_0x375a00[_0x536f('0x81')],_0x40d474=_0x8918bf&&_0x8918bf['v8']||'',_0x165370=_0x127084[_0x1bc500],_0x1cf093='process'==_0x24d171(_0x375a00),_0x584997=_0x3846b4=_0x10e84f['f'],_0x8918bf=!!function(){try{var _0x24d171=_0x165370[_0x536f('0x2d8')](0x1),_0x4b9c44=(_0x24d171[_0x536f('0x7d')]={})[_0x4cf1cc(0x6)('species')]=function(_0x24d171){_0x24d171(_0xe73e54,_0xe73e54);};return(_0x1cf093||'function'==typeof PromiseRejectionEvent)&&_0x24d171[_0x536f('0x398')](_0xe73e54)instanceof _0x4b9c44&&0x0!==_0x40d474[_0x536f('0x4c')](_0x536f('0x399'))&&-0x1===_0x15c026['indexOf']('Chrome/66');}catch(_0x505982){}}(),_0x1b1353=function(_0x24d171){var _0x4b9c44;return!(!_0x3fed79(_0x24d171)||_0x536f('0x15')!=typeof(_0x4b9c44=_0x24d171[_0x536f('0x398')]))&&_0x4b9c44;},_0x525411=function(_0x3fed79,_0x4b9c44){var _0x4cf1cc;_0x3fed79['_n']||(_0x3fed79['_n']=!0x0,_0x4cf1cc=_0x3fed79['_c'],_0x2d8d37(function(){for(var _0x3846b4,_0x4c006c=_0x3fed79['_v'],_0x335995=0x1==_0x3fed79['_s'],_0x24d171=0x0;_0x4cf1cc[_0x536f('0xd')]>_0x24d171;)!function(_0x24d171){var _0x4b9c44,_0x4cf1cc,_0xe73e54,_0x3846b4,_0x266378=_0x335995?_0x24d171['ok']:_0x24d171[_0x536f('0x39a')],_0xa5a341=_0x24d171[_0x536f('0x2d8')],_0x2e43b4=_0x24d171[_0x536f('0x2b1')],_0x9df6b7=_0x24d171[_0x536f('0x39b')];try{_0x266378?(_0x335995||(0x2==_0x3fed79['_h']&&(_0x3846b4=_0x3fed79,_0x3b5d95['call'](_0x127084,function(){var _0x24d171;_0x1cf093?_0x375a00[_0x536f('0x39c')]('rejectionHandled',_0x3846b4):(_0x24d171=_0x127084[_0x536f('0x39d')])&&_0x24d171({'promise':_0x3846b4,'reason':_0x3846b4['_v']});})),_0x3fed79['_h']=0x1),!0x0===_0x266378?_0x4b9c44=_0x4c006c:(_0x9df6b7&&_0x9df6b7['enter'](),_0x4b9c44=_0x266378(_0x4c006c),_0x9df6b7&&(_0x9df6b7[_0x536f('0x39e')](),_0xe73e54=!0x0)),_0x4b9c44===_0x24d171[_0x536f('0x2d9')]?_0x2e43b4(_0x7a5904(_0x536f('0x39f'))):(_0x4cf1cc=_0x1b1353(_0x4b9c44))?_0x4cf1cc[_0x536f('0xa')](_0x4b9c44,_0xa5a341,_0x2e43b4):_0xa5a341(_0x4b9c44)):_0x2e43b4(_0x4c006c);}catch(_0x5d8c9c){_0x9df6b7&&!_0xe73e54&&_0x9df6b7[_0x536f('0x39e')](),_0x2e43b4(_0x5d8c9c);}}(_0x4cf1cc[_0x24d171++]);_0x3fed79['_c']=[],_0x3fed79['_n']=!0x1,_0x4b9c44&&!_0x3fed79['_h']&&(_0x3846b4=_0x3fed79,_0x3b5d95[_0x536f('0xa')](_0x127084,function(){var _0x24d171,_0x4b9c44,_0x4cf1cc=_0x3846b4['_v'],_0xe73e54=_0x266378(_0x3846b4);if(_0xe73e54&&(_0x24d171=_0x4c9a10(function(){_0x1cf093?_0x375a00[_0x536f('0x39c')](_0x536f('0x3a0'),_0x4cf1cc,_0x3846b4):(_0x4b9c44=_0x127084[_0x536f('0x3a1')])?_0x4b9c44({'promise':_0x3846b4,'reason':_0x4cf1cc}):(_0x4b9c44=_0x127084[_0x536f('0x3a2')])&&_0x4b9c44[_0x536f('0x1f9')]&&_0x4b9c44[_0x536f('0x1f9')](_0x536f('0x3a3'),_0x4cf1cc);}),_0x3846b4['_h']=_0x1cf093||_0x266378(_0x3846b4)?0x2:0x1),_0x3846b4['_a']=void 0x0,_0xe73e54&&_0x24d171['e'])throw _0x24d171['v'];}));}));},_0x38f53c=function(_0x24d171){var _0x4b9c44=this;_0x4b9c44['_d']||(_0x4b9c44['_d']=!0x0,(_0x4b9c44=_0x4b9c44['_w']||_0x4b9c44)['_v']=_0x24d171,_0x4b9c44['_s']=0x2,_0x4b9c44['_a']||(_0x4b9c44['_a']=_0x4b9c44['_c'][_0x536f('0x60')]()),_0x525411(_0x4b9c44,!0x0));},_0x38cd3c=function(_0x24d171){var _0x4cf1cc,_0xe73e54=this;if(!_0xe73e54['_d']){_0xe73e54['_d']=!0x0,_0xe73e54=_0xe73e54['_w']||_0xe73e54;try{if(_0xe73e54===_0x24d171)throw _0x7a5904(_0x536f('0x3a4'));(_0x4cf1cc=_0x1b1353(_0x24d171))?_0x2d8d37(function(){var _0x4b9c44={'_w':_0xe73e54,'_d':!0x1};try{_0x4cf1cc[_0x536f('0xa')](_0x24d171,_0x4c006c(_0x38cd3c,_0x4b9c44,0x1),_0x4c006c(_0x38f53c,_0x4b9c44,0x1));}catch(_0x319751){_0x38f53c[_0x536f('0xa')](_0x4b9c44,_0x319751);}}):(_0xe73e54['_v']=_0x24d171,_0xe73e54['_s']=0x1,_0x525411(_0xe73e54,!0x1));}catch(_0x5b831e){_0x38f53c[_0x536f('0xa')]({'_w':_0xe73e54,'_d':!0x1},_0x5b831e);}}};_0x8918bf||(_0x165370=function(_0x24d171){_0x1231fa(this,_0x165370,_0x1bc500,'_h'),_0x29afa4(_0x24d171),_0x4b9c44[_0x536f('0xa')](this);try{_0x24d171(_0x4c006c(_0x38cd3c,this,0x1),_0x4c006c(_0x38f53c,this,0x1));}catch(_0x1b2dcc){_0x38f53c[_0x536f('0xa')](this,_0x1b2dcc);}},(_0x4b9c44=function(_0x24d171){this['_c']=[],this['_a']=void 0x0,this['_s']=0x0,this['_d']=!0x1,this['_v']=void 0x0,this['_h']=0x0,this['_n']=!0x1;})['prototype']=_0x4cf1cc(0x46)(_0x165370[_0x536f('0x8')],{'then':function(_0x24d171,_0x4b9c44){var _0x4cf1cc=_0x584997(_0x527dd6(this,_0x165370));return _0x4cf1cc['ok']=_0x536f('0x15')!=typeof _0x24d171||_0x24d171,_0x4cf1cc[_0x536f('0x39a')]=_0x536f('0x15')==typeof _0x4b9c44&&_0x4b9c44,_0x4cf1cc['domain']=_0x1cf093?_0x375a00[_0x536f('0x39b')]:void 0x0,this['_c']['push'](_0x4cf1cc),this['_a']&&this['_a'][_0x536f('0x82')](_0x4cf1cc),this['_s']&&_0x525411(this,!0x1),_0x4cf1cc[_0x536f('0x2d9')];},'catch':function(_0x24d171){return this[_0x536f('0x398')](void 0x0,_0x24d171);}}),_0xa5a341=function(){var _0x24d171=new _0x4b9c44();this[_0x536f('0x2d9')]=_0x24d171,this[_0x536f('0x2d8')]=_0x4c006c(_0x38cd3c,_0x24d171,0x1),this[_0x536f('0x2b1')]=_0x4c006c(_0x38f53c,_0x24d171,0x1);},_0x10e84f['f']=_0x584997=function(_0x24d171){return _0x24d171===_0x165370||_0x24d171===_0x2e43b4?new _0xa5a341():_0x3846b4(_0x24d171);}),_0x335995(_0x335995['G']+_0x335995['W']+_0x335995['F']*!_0x8918bf,{'Promise':_0x165370}),_0x4cf1cc(0x1a)(_0x165370,_0x1bc500),_0x4cf1cc(0x5b)(_0x1bc500),_0x2e43b4=_0x4cf1cc(0x2)[_0x1bc500],_0x335995(_0x335995['S']+_0x335995['F']*!_0x8918bf,_0x1bc500,{'reject':function(_0x24d171){var _0x4b9c44=_0x584997(this);return(0x0,_0x4b9c44[_0x536f('0x2b1')])(_0x24d171),_0x4b9c44[_0x536f('0x2d9')];}}),_0x335995(_0x335995['S']+_0x335995['F']*(_0x9df6b7||!_0x8918bf),_0x1bc500,{'resolve':function(_0x24d171){return _0x217f9c(_0x9df6b7&&this===_0x2e43b4?_0x165370:this,_0x24d171);}}),_0x335995(_0x335995['S']+_0x335995['F']*!(_0x8918bf&&_0x4cf1cc(0x6e)(function(_0x24d171){_0x165370[_0x536f('0x3a5')](_0x24d171)['catch'](_0xe73e54);})),_0x1bc500,{'all':function(_0x24d171){var _0xa5a341=this,_0x4b9c44=_0x584997(_0xa5a341),_0x2e43b4=_0x4b9c44['resolve'],_0x9df6b7=_0x4b9c44['reject'],_0x4cf1cc=_0x4c9a10(function(){var _0xe73e54=[],_0x3846b4=0x0,_0x266378=0x1;_0x495333(_0x24d171,!0x1,function(_0x24d171){var _0x4b9c44=_0x3846b4++,_0x4cf1cc=!0x1;_0xe73e54['push'](void 0x0),_0x266378++,_0xa5a341[_0x536f('0x2d8')](_0x24d171)['then'](function(_0x24d171){_0x4cf1cc||(_0x4cf1cc=!0x0,_0xe73e54[_0x4b9c44]=_0x24d171,--_0x266378||_0x2e43b4(_0xe73e54));},_0x9df6b7);}),--_0x266378||_0x2e43b4(_0xe73e54);});return _0x4cf1cc['e']&&_0x9df6b7(_0x4cf1cc['v']),_0x4b9c44[_0x536f('0x2d9')];},'race':function(_0x24d171){var _0x4b9c44=this,_0x4cf1cc=_0x584997(_0x4b9c44),_0xe73e54=_0x4cf1cc[_0x536f('0x2b1')],_0x3846b4=_0x4c9a10(function(){_0x495333(_0x24d171,!0x1,function(_0x24d171){_0x4b9c44[_0x536f('0x2d8')](_0x24d171)[_0x536f('0x398')](_0x4cf1cc[_0x536f('0x2d8')],_0xe73e54);});});return _0x3846b4['e']&&_0xe73e54(_0x3846b4['v']),_0x4cf1cc[_0x536f('0x2d9')];}});},function(_0x101dd8,_0x1a07da){_0x101dd8[_0x536f('0x0')]=function(_0x101dd8,_0x1a07da,_0x126b06){var _0x4cde7e=void 0x0===_0x126b06;switch(_0x1a07da[_0x536f('0xd')]){case 0x0:return _0x4cde7e?_0x101dd8():_0x101dd8[_0x536f('0xa')](_0x126b06);case 0x1:return _0x4cde7e?_0x101dd8(_0x1a07da[0x0]):_0x101dd8['call'](_0x126b06,_0x1a07da[0x0]);case 0x2:return _0x4cde7e?_0x101dd8(_0x1a07da[0x0],_0x1a07da[0x1]):_0x101dd8['call'](_0x126b06,_0x1a07da[0x0],_0x1a07da[0x1]);case 0x3:return _0x4cde7e?_0x101dd8(_0x1a07da[0x0],_0x1a07da[0x1],_0x1a07da[0x2]):_0x101dd8[_0x536f('0xa')](_0x126b06,_0x1a07da[0x0],_0x1a07da[0x1],_0x1a07da[0x2]);case 0x4:return _0x4cde7e?_0x101dd8(_0x1a07da[0x0],_0x1a07da[0x1],_0x1a07da[0x2],_0x1a07da[0x3]):_0x101dd8[_0x536f('0xa')](_0x126b06,_0x1a07da[0x0],_0x1a07da[0x1],_0x1a07da[0x2],_0x1a07da[0x3]);}return _0x101dd8[_0x536f('0x16')](_0x126b06,_0x1a07da);};},function(_0x51b72b,_0x30100f,_0x4b13a6){var _0x11303c=_0x4b13a6(0x5),_0x389722=_0x4b13a6(0x70)[_0x536f('0x1b')],_0x518f4c=_0x11303c[_0x536f('0x3a6')]||_0x11303c[_0x536f('0x3a7')],_0x108f53=_0x11303c['process'],_0x4a4f77=_0x11303c['Promise'],_0x5a8c00=_0x536f('0x2ca')==_0x4b13a6(0x19)(_0x108f53);_0x51b72b[_0x536f('0x0')]=function(){function _0x51b72b(){var _0x51b72b,_0x30100f;for(_0x5a8c00&&(_0x51b72b=_0x108f53[_0x536f('0x39b')])&&_0x51b72b['exit']();_0x4b13a6;){_0x30100f=_0x4b13a6['fn'],_0x4b13a6=_0x4b13a6[_0x536f('0x79')];try{_0x30100f();}catch(_0x29b8d5){throw _0x4b13a6?_0x2db12c():_0x5f031c=void 0x0,_0x29b8d5;}}_0x5f031c=void 0x0,_0x51b72b&&_0x51b72b[_0x536f('0x3a8')]();}var _0x4b13a6,_0x5f031c,_0x30100f,_0x361f97,_0x36dfd2,_0x2db12c=_0x5a8c00?function(){_0x108f53[_0x536f('0x2ce')](_0x51b72b);}:!_0x518f4c||_0x11303c[_0x536f('0x3a9')]&&_0x11303c[_0x536f('0x3a9')][_0x536f('0x3aa')]?_0x4a4f77&&_0x4a4f77[_0x536f('0x2d8')]?(_0x30100f=_0x4a4f77['resolve'](void 0x0),function(){_0x30100f[_0x536f('0x398')](_0x51b72b);}):function(){_0x389722[_0x536f('0xa')](_0x11303c,_0x51b72b);}:(_0x361f97=!0x0,_0x36dfd2=document[_0x536f('0x3ab')](''),new _0x518f4c(_0x51b72b)['observe'](_0x36dfd2,{'characterData':!0x0}),function(){_0x36dfd2[_0x536f('0x2c9')]=_0x361f97=!_0x361f97;});return function(_0x51b72b){_0x51b72b={'fn':_0x51b72b,'next':void 0x0};_0x5f031c&&(_0x5f031c[_0x536f('0x79')]=_0x51b72b),_0x4b13a6||(_0x4b13a6=_0x51b72b,_0x2db12c()),_0x5f031c=_0x51b72b;};};},function(_0x42ae5f,_0x3f1389,_0x2ffdbf){_0x2ffdbf=_0x2ffdbf(0x5)[_0x536f('0x3a9')];_0x42ae5f['exports']=_0x2ffdbf&&_0x2ffdbf[_0x536f('0x5c')]||'';},function(_0x19f472,_0x1d4c5e,_0x59580c){'use strict';var _0xe26f3c=_0x59580c(0x3),_0x557ece=_0x59580c(0x2),_0x468ec9=_0x59580c(0x5),_0x9ef7da=_0x59580c(0x6f),_0x5d4c51=_0x59580c(0x72);_0xe26f3c(_0xe26f3c['P']+_0xe26f3c['R'],'Promise',{'finally':function(_0x1d4c5e){var _0x59580c=_0x9ef7da(this,_0x557ece[_0x536f('0x396')]||_0x468ec9[_0x536f('0x396')]),_0x19f472=_0x536f('0x15')==typeof _0x1d4c5e;return this['then'](_0x19f472?function(_0x19f472){return _0x5d4c51(_0x59580c,_0x1d4c5e())['then'](function(){return _0x19f472;});}:_0x1d4c5e,_0x19f472?function(_0x19f472){return _0x5d4c51(_0x59580c,_0x1d4c5e())[_0x536f('0x398')](function(){throw _0x19f472;});}:_0x1d4c5e);}});},function(_0x28d91e,_0x5ed96d,_0x16b3c0){'use strict';var _0x5b7e3b=_0x16b3c0(0x3),_0x3c9c55=_0x16b3c0(0x4f),_0x19b8e7=_0x16b3c0(0x71);_0x5b7e3b(_0x5b7e3b['S'],_0x536f('0x396'),{'try':function(_0x28d91e){var _0x5ed96d=_0x3c9c55['f'](this),_0x28d91e=_0x19b8e7(_0x28d91e);return(_0x28d91e['e']?_0x5ed96d[_0x536f('0x2b1')]:_0x5ed96d[_0x536f('0x2d8')])(_0x28d91e['v']),_0x5ed96d['promise'];}});},,function(_0x4384d1,_0x4999c0,_0x513d63){'use strict';var _0x3e08ba=_0x3bd560(_0x513d63(0x1f)),_0x26c3bb=_0x3bd560(_0x513d63(0x50)),_0x104611=_0x3bd560(_0x513d63(0x10));function _0x3bd560(_0x513d63){return _0x513d63&&_0x513d63[_0x536f('0x4')]?_0x513d63:{'default':_0x513d63};}!function(){function _0x513d63(){this[_0x536f('0x3ac')]=[],this['previous']=[],this['next']=[],this[_0x536f('0x3ad')]=[],this['width']=[],this[_0x536f('0x3ae')]=[],this[_0x536f('0x3af')]=[],this[_0x536f('0x3b0')]=[],this['geometry']=new THREE[(_0x536f('0x1e7'))](),this[_0x536f('0x3b1')]=null,this['matrixWorld']=new THREE[(_0x536f('0x35e'))]();}var _0x3a05e3,_0x4080b6,_0xffc150;function _0x28a71d(_0x513d63,_0x3bd560,_0x4384d1,_0x4999c0,_0x3e08ba){var _0x28a71d;if(_0x513d63=_0x513d63[_0x536f('0xde')]||_0x513d63[_0x536f('0x60')]?_0x513d63:_0x513d63[_0x536f('0x3b2')],_0x4384d1=_0x4384d1[_0x536f('0xde')]||_0x4384d1[_0x536f('0x60')]?_0x4384d1:_0x4384d1[_0x536f('0x3b2')],_0x513d63=_0x3bd560?_0x513d63[_0x536f('0xde')]?_0x513d63['subarray'](_0x3bd560,_0x3e08ba&&_0x3bd560+_0x3e08ba):_0x513d63[_0x536f('0x60')](_0x3bd560,_0x3e08ba&&_0x3bd560+_0x3e08ba):_0x513d63,_0x4384d1[_0x536f('0x1b')])_0x4384d1[_0x536f('0x1b')](_0x513d63,_0x4999c0);else for(_0x28a71d=0x0;_0x28a71d<_0x513d63[_0x536f('0xd')];_0x28a71d++)_0x4384d1[_0x28a71d+_0x4999c0]=_0x513d63[_0x28a71d];}function _0x3bd560(_0x513d63){THREE[_0x536f('0x3b3')][_0x536f('0xa')](this,{'uniforms':(0x0,_0x104611[_0x536f('0x6')])({},THREE[_0x536f('0x3b4')][_0x536f('0x1db')],{'lineWidth':{'value':0x1},'map':{'value':null},'useMap':{'value':0x0},'alphaMap':{'value':null},'useAlphaMap':{'value':0x0},'useFadeOut':{'value':0x0},'fadeOutFactor':{'value':0x0},'color':{'value':new THREE[(_0x536f('0x1b8'))](0xffffff)},'opacity':{'value':0x1},'resolution':{'value':new THREE['Vector2'](0x1,0x1)},'sizeAttenuation':{'value':0x1},'near':{'value':0x1},'far':{'value':0x1},'dashArray':{'value':0x0},'dashOffset':{'value':0x0},'dashRatio':{'value':0.5},'useDash':{'value':0x0},'visibility':{'value':0x1},'alphaTest':{'value':0x0},'repeat':{'value':new THREE[(_0x536f('0x1b5'))](0x1,0x1)},'offset':{'value':new THREE['Vector2'](0x0,0x0)},'useChange':{'value':0x0}}),'vertexShader':THREE[_0x536f('0x16a')][_0x536f('0x3b5')],'fragmentShader':THREE['ShaderChunk'][_0x536f('0x3b6')]}),this['type']=_0x536f('0x33c'),(0x0,_0x26c3bb[_0x536f('0x6')])(this,{'lineWidth':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')][_0x536f('0x341')][_0x536f('0x10')];},'set':function(_0x513d63){this['uniforms'][_0x536f('0x341')][_0x536f('0x10')]=_0x513d63;}},'map':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')][_0x536f('0xcf')][_0x536f('0x10')];},'set':function(_0x513d63){this['uniforms'][_0x536f('0xcf')]['value']=_0x513d63;}},'useMap':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')][_0x536f('0x3b7')][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x3b7')][_0x536f('0x10')]=_0x513d63;}},'alphaMap':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')]['alphaMap'][_0x536f('0x10')];},'set':function(_0x513d63){this['uniforms'][_0x536f('0x3b8')]['value']=_0x513d63;}},'useAlphaMap':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')][_0x536f('0x3b9')]['value'];},'set':function(_0x513d63){this[_0x536f('0x168')]['useAlphaMap'][_0x536f('0x10')]=_0x513d63;}},'useFadeOut':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')]['useFadeOut'][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x368')][_0x536f('0x10')]=_0x513d63;}},'color':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')]['color'][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x21f')][_0x536f('0x10')]=_0x513d63;}},'opacity':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')][_0x536f('0x201')][_0x536f('0x10')];},'set':function(_0x513d63){this['uniforms']['opacity'][_0x536f('0x10')]=_0x513d63;}},'resolution':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')]['resolution'][_0x536f('0x10')];},'set':function(_0x513d63){this['uniforms'][_0x536f('0x370')][_0x536f('0x10')][_0x536f('0x1bc')](_0x513d63);}},'sizeAttenuation':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')]['sizeAttenuation'][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x340')][_0x536f('0x10')]=_0x513d63;}},'near':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')]['near'][_0x536f('0x10')];},'set':function(_0x513d63){this['uniforms']['near'][_0x536f('0x10')]=_0x513d63;}},'far':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')]['far'][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')]['far']['value']=_0x513d63;}},'dashArray':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')][_0x536f('0x33e')][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x33e')]['value']=_0x513d63,this['useDash']=0x0!==_0x513d63?0x1:0x0;}},'dashOffset':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')][_0x536f('0x3ba')]['value'];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x3ba')][_0x536f('0x10')]=_0x513d63;}},'dashRatio':{'enumerable':!0x0,'get':function(){return this['uniforms']['dashRatio'][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')]['dashRatio'][_0x536f('0x10')]=_0x513d63;}},'useDash':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')]['useDash'][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x3bb')]['value']=_0x513d63;}},'visibility':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')][_0x536f('0x3bc')][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x3bc')][_0x536f('0x10')]=_0x513d63;}},'alphaTest':{'enumerable':!0x0,'get':function(){return this['uniforms']['alphaTest'][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x1d8')][_0x536f('0x10')]=_0x513d63;}},'fadeOutFactor':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')][_0x536f('0x369')]['value'];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x369')]['value']=_0x513d63;}},'repeat':{'enumerable':!0x0,'get':function(){return this[_0x536f('0x168')]['repeat'][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x2ee')][_0x536f('0x10')]['copy'](_0x513d63);}},'offset':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x536f('0xf8')][_0x536f('0x10')];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0xf8')]['value'][_0x536f('0x1bc')](_0x513d63);}},'useChange':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x536f('0x3bd')]['value'];},'set':function(_0x513d63){this[_0x536f('0x168')][_0x536f('0x3bd')][_0x536f('0x10')]=_0x513d63;}}}),this['setValues'](_0x513d63);}_0x513d63[_0x536f('0x8')][_0x536f('0x3be')]=function(_0x513d63){this[_0x536f('0x3bf')]=_0x513d63;},_0x513d63[_0x536f('0x8')][_0x536f('0x34d')]=function(_0x513d63,_0x3bd560){if(this[_0x536f('0x3b1')]=_0x3bd560,this['positions']=[],this[_0x536f('0x3b0')]=[],_0x513d63 instanceof THREE[_0x536f('0x349')])for(var _0x4384d1=0x0;_0x4384d1<_0x513d63['vertices'][_0x536f('0xd')];_0x4384d1++){var _0x4999c0=_0x513d63['vertices'][_0x4384d1],_0x3bd560=_0x4384d1/_0x513d63['vertices'][_0x536f('0xd')];this[_0x536f('0x3ac')]['push'](_0x4999c0['x'],_0x4999c0['y'],_0x4999c0['z']),this[_0x536f('0x3ac')][_0x536f('0x82')](_0x4999c0['x'],_0x4999c0['y'],_0x4999c0['z']),this[_0x536f('0x3b0')][_0x536f('0x82')](_0x3bd560),this['counters'][_0x536f('0x82')](_0x3bd560);}if(THREE[_0x536f('0x1e7')],_0x513d63 instanceof Float32Array||_0x513d63 instanceof Array)for(_0x4384d1=0x0;_0x4384d1<_0x513d63[_0x536f('0xd')];_0x4384d1+=0x3)_0x3bd560=_0x4384d1/_0x513d63[_0x536f('0xd')],this[_0x536f('0x3ac')][_0x536f('0x82')](_0x513d63[_0x4384d1],_0x513d63[_0x4384d1+0x1],_0x513d63[_0x4384d1+0x2]),this[_0x536f('0x3ac')][_0x536f('0x82')](_0x513d63[_0x4384d1],_0x513d63[_0x4384d1+0x1],_0x513d63[_0x4384d1+0x2]),this['counters'][_0x536f('0x82')](_0x3bd560),this[_0x536f('0x3b0')][_0x536f('0x82')](_0x3bd560);this['process']();},_0x513d63[_0x536f('0x8')][_0x536f('0x3c0')]=(_0x3a05e3=new THREE[(_0x536f('0x35e'))](),_0x4080b6=new THREE[(_0x536f('0x3c1'))](),_0xffc150=new THREE[(_0x536f('0x3c2'))](),function(_0x513d63,_0x3bd560){var _0x4384d1=_0x513d63[_0x536f('0x3c3')],_0x4999c0=_0x4384d1*_0x4384d1,_0x4384d1=this['geometry'];if(null===_0x4384d1[_0x536f('0x3c4')]&&_0x4384d1['computeBoundingSphere'](),_0xffc150[_0x536f('0x1bc')](_0x4384d1[_0x536f('0x3c4')]),_0xffc150['applyMatrix4'](this['matrixWorld']),!0x1!==_0x513d63['ray'][_0x536f('0x3c5')](_0xffc150)){_0x3a05e3[_0x536f('0x3c6')](this[_0x536f('0x3bf')]),_0x4080b6[_0x536f('0x1bc')](_0x513d63['ray'])[_0x536f('0x3c7')](_0x3a05e3);var _0x3e08ba=new THREE[(_0x536f('0x59'))](),_0x28a71d=new THREE[(_0x536f('0x59'))](),_0x26c3bb=new THREE[(_0x536f('0x59'))](),_0x104611=new THREE[(_0x536f('0x59'))](),_0x336f32=this instanceof THREE[_0x536f('0x3c8')]?0x2:0x1;if(_0x4384d1 instanceof THREE[_0x536f('0x1e7')]){var _0x11b3fc=_0x4384d1[_0x536f('0x336')],_0x5b0dc5=_0x4384d1[_0x536f('0x169')];if(null!==_0x11b3fc)for(var _0xab7b72=_0x11b3fc['array'],_0x547226=_0x5b0dc5[_0x536f('0x3b')][_0x536f('0xd8')],_0x40cbcb=0x0,_0x324029=_0xab7b72['length']-0x1;_0x40cbcb<_0x324029;_0x40cbcb+=_0x336f32){var _0x2bd6f1=_0xab7b72[_0x40cbcb],_0x388acc=_0xab7b72[_0x40cbcb+0x1];_0x3e08ba[_0x536f('0x3c9')](_0x547226,0x3*_0x2bd6f1),_0x28a71d['fromArray'](_0x547226,0x3*_0x388acc),_0x4999c0<_0x4080b6[_0x536f('0x3ca')](_0x3e08ba,_0x28a71d,_0x104611,_0x26c3bb)||(_0x104611[_0x536f('0x3c7')](this[_0x536f('0x3bf')]),(_0x1d4e3a=_0x513d63[_0x536f('0x3cb')][_0x536f('0x3cc')][_0x536f('0x310')](_0x104611))<_0x513d63['near']||_0x1d4e3a>_0x513d63['far']||_0x3bd560[_0x536f('0x82')]({'distance':_0x1d4e3a,'point':_0x26c3bb[_0x536f('0x1b1')]()['applyMatrix4'](this[_0x536f('0x3bf')]),'index':_0x40cbcb,'face':null,'faceIndex':null,'object':this}));}else for(_0x40cbcb=0x0,_0x324029=(_0x547226=_0x5b0dc5[_0x536f('0x3b')]['array'])[_0x536f('0xd')]/0x3-0x1;_0x40cbcb<_0x324029;_0x40cbcb+=_0x336f32)_0x3e08ba['fromArray'](_0x547226,0x3*_0x40cbcb),_0x28a71d['fromArray'](_0x547226,0x3*_0x40cbcb+0x3),_0x4999c0<_0x4080b6[_0x536f('0x3ca')](_0x3e08ba,_0x28a71d,_0x104611,_0x26c3bb)||(_0x104611['applyMatrix4'](this[_0x536f('0x3bf')]),(_0x1d4e3a=_0x513d63['ray'][_0x536f('0x3cc')][_0x536f('0x310')](_0x104611))<_0x513d63[_0x536f('0x343')]||_0x1d4e3a>_0x513d63[_0x536f('0x344')]||_0x3bd560[_0x536f('0x82')]({'distance':_0x1d4e3a,'point':_0x26c3bb['clone']()[_0x536f('0x3c7')](this[_0x536f('0x3bf')]),'index':_0x40cbcb,'face':null,'faceIndex':null,'object':this}));}else if(_0x4384d1 instanceof THREE['Geometry'])for(var _0x1d4e3a,_0x5f44af=_0x4384d1['vertices'],_0x1ad1f4=_0x5f44af[_0x536f('0xd')],_0x40cbcb=0x0;_0x40cbcb<_0x1ad1f4-0x1;_0x40cbcb+=_0x336f32)_0x4999c0<_0x4080b6[_0x536f('0x3ca')](_0x5f44af[_0x40cbcb],_0x5f44af[_0x40cbcb+0x1],_0x104611,_0x26c3bb)||(_0x104611[_0x536f('0x3c7')](this[_0x536f('0x3bf')]),(_0x1d4e3a=_0x513d63['ray'][_0x536f('0x3cc')][_0x536f('0x310')](_0x104611))<_0x513d63[_0x536f('0x343')]||_0x1d4e3a>_0x513d63['far']||_0x3bd560[_0x536f('0x82')]({'distance':_0x1d4e3a,'point':_0x26c3bb[_0x536f('0x1b1')]()[_0x536f('0x3c7')](this['matrixWorld']),'index':_0x40cbcb,'face':null,'faceIndex':null,'object':this}));}}),_0x513d63['prototype'][_0x536f('0x3cd')]=function(_0x513d63,_0x3bd560){_0x513d63*=0x6,_0x3bd560*=0x6;return this[_0x536f('0x3ac')][_0x513d63]===this[_0x536f('0x3ac')][_0x3bd560]&&this['positions'][0x1+_0x513d63]===this['positions'][0x1+_0x3bd560]&&this[_0x536f('0x3ac')][0x2+_0x513d63]===this[_0x536f('0x3ac')][0x2+_0x3bd560];},_0x513d63[_0x536f('0x8')]['copyV3']=function(_0x513d63){_0x513d63*=0x6;return[this[_0x536f('0x3ac')][_0x513d63],this['positions'][0x1+_0x513d63],this[_0x536f('0x3ac')][0x2+_0x513d63]];},_0x513d63[_0x536f('0x8')][_0x536f('0x2ca')]=function(){var _0x513d63=this[_0x536f('0x3ac')][_0x536f('0xd')]/0x6;this[_0x536f('0x3ce')]=[],this[_0x536f('0x79')]=[],this[_0x536f('0x3ad')]=[],this[_0x536f('0x366')]=[],this[_0x536f('0x3ae')]=[],this[_0x536f('0x3af')]=[];for(var _0x3bd560,_0x4384d1=0x0;_0x4384d1<_0x513d63;_0x4384d1++)this[_0x536f('0x3ad')][_0x536f('0x82')](0x1),this['side'][_0x536f('0x82')](-0x1);for(_0x4384d1=0x0;_0x4384d1<_0x513d63;_0x4384d1++)_0x3bd560=this[_0x536f('0x3b1')]?this[_0x536f('0x3b1')](_0x4384d1/(_0x513d63-0x1)):0x1,this['width'][_0x536f('0x82')](_0x3bd560),this['width'][_0x536f('0x82')](_0x3bd560);for(var _0x4999c0,_0x4384d1=0x0;_0x4384d1<_0x513d63;_0x4384d1++)this[_0x536f('0x3af')][_0x536f('0x82')](_0x4384d1/(_0x513d63-0x1),0x0),this[_0x536f('0x3af')][_0x536f('0x82')](_0x4384d1/(_0x513d63-0x1),0x1);for(_0x4999c0=this['compareV3'](0x0,_0x513d63-0x1)?this[_0x536f('0x3cf')](_0x513d63-0x2):this[_0x536f('0x3cf')](0x0),this['previous'][_0x536f('0x82')](_0x4999c0[0x0],_0x4999c0[0x1],_0x4999c0[0x2]),this['previous'][_0x536f('0x82')](_0x4999c0[0x0],_0x4999c0[0x1],_0x4999c0[0x2]),_0x4384d1=0x0;_0x4384d1<_0x513d63-0x1;_0x4384d1++)_0x4999c0=this[_0x536f('0x3cf')](_0x4384d1),this[_0x536f('0x3ce')][_0x536f('0x82')](_0x4999c0[0x0],_0x4999c0[0x1],_0x4999c0[0x2]),this[_0x536f('0x3ce')]['push'](_0x4999c0[0x0],_0x4999c0[0x1],_0x4999c0[0x2]);for(_0x4384d1=0x1;_0x4384d1<_0x513d63;_0x4384d1++)_0x4999c0=this[_0x536f('0x3cf')](_0x4384d1),this[_0x536f('0x79')]['push'](_0x4999c0[0x0],_0x4999c0[0x1],_0x4999c0[0x2]),this[_0x536f('0x79')][_0x536f('0x82')](_0x4999c0[0x0],_0x4999c0[0x1],_0x4999c0[0x2]);for(_0x4999c0=this[_0x536f('0x3cd')](_0x513d63-0x1,0x0)?this[_0x536f('0x3cf')](0x1):this[_0x536f('0x3cf')](_0x513d63-0x1),this[_0x536f('0x79')][_0x536f('0x82')](_0x4999c0[0x0],_0x4999c0[0x1],_0x4999c0[0x2]),this[_0x536f('0x79')][_0x536f('0x82')](_0x4999c0[0x0],_0x4999c0[0x1],_0x4999c0[0x2]),_0x4384d1=0x0;_0x4384d1<_0x513d63-0x1;_0x4384d1++){var _0x3e08ba=0x2*_0x4384d1;this[_0x536f('0x3ae')][_0x536f('0x82')](_0x3e08ba,0x1+_0x3e08ba,0x2+_0x3e08ba),this[_0x536f('0x3ae')][_0x536f('0x82')](0x2+_0x3e08ba,0x1+_0x3e08ba,0x3+_0x3e08ba);}this[_0x536f('0x169')]?(this[_0x536f('0x169')]['position'][_0x536f('0x3d0')](new Float32Array(this[_0x536f('0x3ac')])),this[_0x536f('0x169')][_0x536f('0x3b')][_0x536f('0xfa')]=!0x0,this[_0x536f('0x169')][_0x536f('0x3ce')][_0x536f('0x3d0')](new Float32Array(this[_0x536f('0x3ce')])),this[_0x536f('0x169')][_0x536f('0x3ce')][_0x536f('0xfa')]=!0x0,this[_0x536f('0x169')][_0x536f('0x79')][_0x536f('0x3d0')](new Float32Array(this[_0x536f('0x79')])),this[_0x536f('0x169')][_0x536f('0x79')][_0x536f('0xfa')]=!0x0,this[_0x536f('0x169')][_0x536f('0x3ad')][_0x536f('0x3d0')](new Float32Array(this[_0x536f('0x3ad')])),this[_0x536f('0x169')][_0x536f('0x3ad')][_0x536f('0xfa')]=!0x0,this[_0x536f('0x169')][_0x536f('0x366')][_0x536f('0x3d0')](new Float32Array(this[_0x536f('0x366')])),this['attributes'][_0x536f('0x366')][_0x536f('0xfa')]=!0x0,this[_0x536f('0x169')]['uv'][_0x536f('0x3d0')](new Float32Array(this[_0x536f('0x3af')])),this[_0x536f('0x169')]['uv'][_0x536f('0xfa')]=!0x0,this[_0x536f('0x169')][_0x536f('0x336')]['copyArray'](new Uint16Array(this[_0x536f('0x3ae')])),this[_0x536f('0x169')][_0x536f('0x336')][_0x536f('0xfa')]=!0x0):this[_0x536f('0x169')]={'position':new THREE[(_0x536f('0x102'))](new Float32Array(this[_0x536f('0x3ac')]),0x3),'previous':new THREE[(_0x536f('0x102'))](new Float32Array(this['previous']),0x3),'next':new THREE[(_0x536f('0x102'))](new Float32Array(this[_0x536f('0x79')]),0x3),'side':new THREE[(_0x536f('0x102'))](new Float32Array(this[_0x536f('0x3ad')]),0x1),'width':new THREE['BufferAttribute'](new Float32Array(this[_0x536f('0x366')]),0x1),'uv':new THREE[(_0x536f('0x102'))](new Float32Array(this[_0x536f('0x3af')]),0x2),'index':new THREE[(_0x536f('0x102'))](new Uint16Array(this['indices_array']),0x1),'counters':new THREE[(_0x536f('0x102'))](new Float32Array(this[_0x536f('0x3b0')]),0x1)},this[_0x536f('0xd0')]['addAttribute']('position',this[_0x536f('0x169')]['position']),this['geometry']['addAttribute'](_0x536f('0x3ce'),this[_0x536f('0x169')][_0x536f('0x3ce')]),this[_0x536f('0xd0')][_0x536f('0x1f5')](_0x536f('0x79'),this['attributes'][_0x536f('0x79')]),this[_0x536f('0xd0')][_0x536f('0x1f5')](_0x536f('0x3ad'),this['attributes'][_0x536f('0x3ad')]),this[_0x536f('0xd0')]['addAttribute'](_0x536f('0x366'),this[_0x536f('0x169')][_0x536f('0x366')]),this[_0x536f('0xd0')][_0x536f('0x1f5')]('uv',this['attributes']['uv']),this[_0x536f('0xd0')][_0x536f('0x1f5')](_0x536f('0x3b0'),this[_0x536f('0x169')][_0x536f('0x3b0')]),this[_0x536f('0xd0')]['setIndex'](this['attributes'][_0x536f('0x336')]);},_0x513d63[_0x536f('0x8')]['advance']=function(_0x513d63){var _0x3bd560=this[_0x536f('0x169')][_0x536f('0x3b')][_0x536f('0xd8')],_0x4384d1=this['attributes'][_0x536f('0x3ce')][_0x536f('0xd8')],_0x4999c0=this[_0x536f('0x169')]['next'][_0x536f('0xd8')],_0x3e08ba=_0x3bd560['length'];_0x28a71d(_0x3bd560,0x0,_0x4384d1,0x0,_0x3e08ba),_0x28a71d(_0x3bd560,0x6,_0x3bd560,0x0,_0x3e08ba-0x6),_0x3bd560[_0x3e08ba-0x6]=_0x513d63['x'],_0x3bd560[_0x3e08ba-0x5]=_0x513d63['y'],_0x3bd560[_0x3e08ba-0x4]=_0x513d63['z'],_0x3bd560[_0x3e08ba-0x3]=_0x513d63['x'],_0x3bd560[_0x3e08ba-0x2]=_0x513d63['y'],_0x3bd560[_0x3e08ba-0x1]=_0x513d63['z'],_0x28a71d(_0x3bd560,0x6,_0x4999c0,0x0,_0x3e08ba-0x6),_0x4999c0[_0x3e08ba-0x6]=_0x513d63['x'],_0x4999c0[_0x3e08ba-0x5]=_0x513d63['y'],_0x4999c0[_0x3e08ba-0x4]=_0x513d63['z'],_0x4999c0[_0x3e08ba-0x3]=_0x513d63['x'],_0x4999c0[_0x3e08ba-0x2]=_0x513d63['y'],_0x4999c0[_0x3e08ba-0x1]=_0x513d63['z'],this[_0x536f('0x169')][_0x536f('0x3b')][_0x536f('0xfa')]=!0x0,this[_0x536f('0x169')][_0x536f('0x3ce')][_0x536f('0xfa')]=!0x0,this[_0x536f('0x169')]['next'][_0x536f('0xfa')]=!0x0;},THREE[_0x536f('0x16a')]['meshline_vert']=['',THREE['ShaderChunk'][_0x536f('0x19e')],THREE[_0x536f('0x16a')][_0x536f('0x16b')],THREE[_0x536f('0x16a')][_0x536f('0x16c')],'','attribute\x20vec3\x20previous;','attribute\x20vec3\x20next;',_0x536f('0x3d1'),_0x536f('0x3d2'),_0x536f('0x3d3'),'attribute\x20float\x20counters;','',_0x536f('0x3d4'),_0x536f('0x3d5'),'uniform\x20vec3\x20color;',_0x536f('0x3d6'),_0x536f('0x3d7'),_0x536f('0x3d8'),_0x536f('0x3d9'),'','varying\x20vec2\x20vUV;',_0x536f('0x112'),_0x536f('0x3da'),_0x536f('0x3db'),'',_0x536f('0x3dc'),'',_0x536f('0x3dd'),_0x536f('0x3de'),_0x536f('0x3df'),'\x20\x20\x20\x20return\x20res;','','}','',_0x536f('0x1a0'),'',_0x536f('0x3e0'),_0x536f('0x3e1'),'',_0x536f('0x3e2'),_0x536f('0x3e3'),_0x536f('0x3e4'),'',_0x536f('0x3e5'),_0x536f('0x3e6'),'\x20\x20\x20\x20vec4\x20prevPos\x20=\x20m\x20*\x20vec4(\x20previous,\x201.0\x20);',_0x536f('0x3e7'),'','\x20\x20\x20\x20vec2\x20currentP\x20=\x20fix(\x20finalPosition,\x20aspect\x20);',_0x536f('0x3e8'),_0x536f('0x3e9'),'',_0x536f('0x3ea'),'\x20\x20\x20\x20float\x20w\x20=\x201.8\x20*\x20pixelWidth\x20*\x20lineWidth\x20*\x20width;','','\x20\x20\x20\x20if(\x20sizeAttenuation\x20==\x201.\x20)\x20{',_0x536f('0x3eb'),_0x536f('0x134'),'',_0x536f('0x3ec'),_0x536f('0x3ed'),'\x20\x20\x20\x20else\x20if(\x20prevP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);','\x20\x20\x20\x20else\x20{',_0x536f('0x3ee'),_0x536f('0x3ef'),_0x536f('0x3f0'),'','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20perp\x20=\x20vec2(\x20-dir1.y,\x20dir1.x\x20);',_0x536f('0x3f1'),'\x20\x20\x20\x20\x20\x20\x20\x20//w\x20=\x20clamp(\x20w\x20/\x20dot(\x20miter,\x20perp\x20),\x200.,\x204.\x20*\x20lineWidth\x20*\x20width\x20);','','\x20\x20\x20\x20}','',_0x536f('0x3f2'),_0x536f('0x3f3'),_0x536f('0x3f4'),'\x20\x20\x20\x20normal\x20*=\x20.5\x20*\x20w;','',_0x536f('0x3f5'),'\x20\x20\x20\x20finalPosition.xy\x20+=\x20offset.xy;','',_0x536f('0x3f6'),'',THREE[_0x536f('0x16a')][_0x536f('0x19d')],THREE[_0x536f('0x16a')]['fog_vertex']&&_0x536f('0x3f7'),THREE[_0x536f('0x16a')][_0x536f('0x3f8')],'}']['join']('\x0d\x0a'),THREE[_0x536f('0x16a')][_0x536f('0x3b6')]=['',THREE[_0x536f('0x16a')][_0x536f('0x3f9')],THREE[_0x536f('0x16a')]['logdepthbuf_pars_fragment'],'',_0x536f('0x3fa'),_0x536f('0x3fb'),_0x536f('0x3fc'),_0x536f('0x3fd'),'uniform\x20float\x20useFadeOut;',_0x536f('0x3fe'),_0x536f('0x3ff'),_0x536f('0x400'),_0x536f('0x401'),_0x536f('0x402'),_0x536f('0x403'),_0x536f('0x404'),_0x536f('0x405'),_0x536f('0x406'),_0x536f('0x407'),'',_0x536f('0x408'),_0x536f('0x112'),_0x536f('0x3db'),_0x536f('0x3da'),'',_0x536f('0x1a0'),'',THREE[_0x536f('0x16a')]['logdepthbuf_fragment'],'','\x20\x20\x20\x20vec4\x20c\x20=\x20vColor;','\x20\x20\x20\x20if(\x20useMap\x20==\x201.\x20)\x20c\x20*=\x20texture2D(\x20map,\x20vUV\x20*\x20repeat\x20+\x20offset\x20);',_0x536f('0x409'),'\x20\x20\x20\x20if(\x20useFadeOut\x20==\x201.\x20)\x20c.a\x20*=\x201.0\x20-\x20float(step(fadeOutFactor,\x20vUV.x));',_0x536f('0x40a'),_0x536f('0x40b'),'\x20\x20\x20\x20\x20\x20\x20\x20c.a\x20*=\x20ceil(mod(vCounters\x20+\x20dashOffset,\x20dashArray)\x20-\x20(dashArray\x20*\x20dashRatio));','\x20\x20\x20\x20}','\x20\x20\x20\x20gl_FragColor\x20=\x20c\x20*\x201.5;',_0x536f('0x40c'),_0x536f('0x40d'),'',THREE[_0x536f('0x16a')]['fog_fragment'],'}'][_0x536f('0x107')]('\x0d\x0a'),((_0x3bd560[_0x536f('0x8')]=(0x0,_0x3e08ba[_0x536f('0x6')])(THREE[_0x536f('0x3b3')][_0x536f('0x8')]))['constructor']=_0x3bd560)[_0x536f('0x8')]['isMeshLineMaterial']=!0x0,_0x3bd560[_0x536f('0x8')]['copy']=function(_0x513d63){return THREE[_0x536f('0x3b3')][_0x536f('0x8')][_0x536f('0x1bc')]['call'](this,_0x513d63),this[_0x536f('0x341')]=_0x513d63[_0x536f('0x341')],this['map']=_0x513d63[_0x536f('0xcf')],this[_0x536f('0x3b7')]=_0x513d63[_0x536f('0x3b7')],this[_0x536f('0x3b8')]=_0x513d63[_0x536f('0x3b8')],this['useAlphaMap']=_0x513d63['useAlphaMap'],this['useFadeOut']=_0x513d63['useFadeOut'],this[_0x536f('0x369')]=_0x513d63[_0x536f('0x369')],this[_0x536f('0x21f')][_0x536f('0x1bc')](_0x513d63[_0x536f('0x21f')]),this[_0x536f('0x201')]=_0x513d63[_0x536f('0x201')],this[_0x536f('0x370')][_0x536f('0x1bc')](_0x513d63[_0x536f('0x370')]),this[_0x536f('0x340')]=_0x513d63[_0x536f('0x340')],this[_0x536f('0x343')]=_0x513d63[_0x536f('0x343')],this[_0x536f('0x344')]=_0x513d63[_0x536f('0x344')],this[_0x536f('0x33e')]['copy'](_0x513d63['dashArray']),this[_0x536f('0x3ba')]['copy'](_0x513d63[_0x536f('0x3ba')]),this[_0x536f('0x33f')][_0x536f('0x1bc')](_0x513d63[_0x536f('0x33f')]),this['useDash']=_0x513d63[_0x536f('0x3bb')],this['visibility']=_0x513d63[_0x536f('0x3bc')],this[_0x536f('0x1d8')]=_0x513d63['alphaTest'],this[_0x536f('0x2ee')][_0x536f('0x1bc')](_0x513d63['repeat']),this[_0x536f('0xf8')][_0x536f('0x1bc')](_0x513d63['offset']),this;},(_0x4999c0=_0x4384d1[_0x536f('0x0')]?_0x4384d1[_0x536f('0x0')]={'MeshLine':_0x513d63,'MeshLineMaterial':_0x3bd560}:_0x4999c0)[_0x536f('0x363')]=_0x513d63,_0x4999c0['MeshLineMaterial']=_0x3bd560;}[_0x536f('0xa')](void 0x0);},function(_0x5797a5,_0x35949c,_0x2bab81){'use strict';_0x35949c[_0x536f('0x4')]=!0x0;var _0x297fe0=_0x19cd40(_0x2bab81(0x9d)),_0x2f698a=_0x19cd40(_0x2bab81(0x4));function _0x19cd40(_0x5797a5){return _0x5797a5&&_0x5797a5['__esModule']?_0x5797a5:{'default':_0x5797a5};}_0x35949c[_0x536f('0x6')]=function(_0x5797a5,_0x35949c){if(Array[_0x536f('0x1ab')](_0x5797a5))return _0x5797a5;if((0x0,_0x297fe0['default'])(Object(_0x5797a5))){var _0x2bab81=_0x35949c,_0x19cd40=[],_0x36621f=!0x0,_0x35949c=!0x1,_0x9733a9=void 0x0;try{for(var _0x2fd866,_0x30491b=(0x0,_0x2f698a[_0x536f('0x6')])(_0x5797a5);!(_0x36621f=(_0x2fd866=_0x30491b[_0x536f('0x79')]())['done'])&&(_0x19cd40[_0x536f('0x82')](_0x2fd866[_0x536f('0x10')]),!_0x2bab81||_0x19cd40['length']!==_0x2bab81);_0x36621f=!0x0);}catch(_0x212989){_0x35949c=!0x0,_0x9733a9=_0x212989;}finally{try{!_0x36621f&&_0x30491b['return']&&_0x30491b[_0x536f('0x265')]();}finally{if(_0x35949c)throw _0x9733a9;}}return _0x19cd40;}throw new TypeError(_0x536f('0x40e'));};},function(_0x141f9f,_0x2ecebe,_0x33969f){_0x141f9f[_0x536f('0x0')]={'default':_0x33969f(0x9e),'__esModule':!0x0};},function(_0x296932,_0x130ec9,_0x3dbdc7){_0x3dbdc7(0x1b),_0x3dbdc7(0x15),_0x296932['exports']=_0x3dbdc7(0x9f);},function(_0x8570f6,_0x1b5fd1,_0x2c2681){var _0x4f95eb=_0x2c2681(0x2d),_0x110258=_0x2c2681(0x6)('iterator'),_0x17e443=_0x2c2681(0x12);_0x8570f6['exports']=_0x2c2681(0x2)[_0x536f('0x40f')]=function(_0x8570f6){_0x8570f6=Object(_0x8570f6);return void 0x0!==_0x8570f6[_0x110258]||_0x536f('0x410')in _0x8570f6||_0x17e443[_0x536f('0x9')](_0x4f95eb(_0x8570f6));};},function(_0x525469,_0x414de9,_0xcebc52){'use strict';Object['defineProperty'](_0x414de9,'__esModule',{'value':!0x0}),_0x414de9[_0x536f('0x6')]={'createCircleGradient':function(_0x525469){var _0x414de9=document[_0x536f('0x93')](_0x536f('0x411')),_0xcebc52=(_0x414de9[_0x536f('0x366')]=0x100,_0x414de9[_0x536f('0x339')]=0x100,_0x414de9[_0x536f('0x412')]('2d')),_0x525469=_0xcebc52['createRadialGradient'](0x80,0x80,0x80*_0x525469[0x0],0x80,0x80,0x80*_0x525469[0x1]);return _0x525469[_0x536f('0x413')](0x0,'rgba(255,\x20255,\x20255,\x201)'),_0x525469['addColorStop'](0x1,_0x536f('0x414')),_0xcebc52[_0x536f('0x415')]=_0x525469,_0xcebc52['fillRect'](0x0,0x0,0x100,0x100),_0x414de9;}};},function(_0x31900e,_0x34e330,_0x546bba){_0x31900e['exports']={'default':_0x546bba(0xb6),'__esModule':!0x0};},function(_0x3e0102,_0x315e92,_0x24c7f7){_0x3e0102[_0x536f('0x0')]=_0x24c7f7(0xbc);},function(_0x145e81,_0x37b1bf,_0x5c1e40){'use strict';_0x37b1bf[_0x536f('0x4')]=!0x0;var _0x5c1e40=_0x5c1e40(0x20),_0x1dadfe=_0x5c1e40&&_0x5c1e40[_0x536f('0x4')]?_0x5c1e40:{'default':_0x5c1e40};_0x37b1bf[_0x536f('0x6')]=function(_0x145e81){return function(){var _0x28fc45=_0x145e81['apply'](this,arguments);return new _0x1dadfe[(_0x536f('0x6'))](function(_0x26f274,_0x434ab2){return function _0x37b1bf(_0x145e81,_0x5c1e40){try{var _0x2fa50a=_0x28fc45[_0x145e81](_0x5c1e40),_0x43021e=_0x2fa50a[_0x536f('0x10')];}catch(_0x187ab1){return void _0x434ab2(_0x187ab1);}if(!_0x2fa50a[_0x536f('0x7a')])return _0x1dadfe[_0x536f('0x6')]['resolve'](_0x43021e)[_0x536f('0x398')](function(_0x145e81){_0x37b1bf(_0x536f('0x79'),_0x145e81);},function(_0x145e81){_0x37b1bf(_0x536f('0x416'),_0x145e81);});_0x26f274(_0x43021e);}(_0x536f('0x79'));});};};},function(_0x443eb1,_0x839bc5,_0x3ab33f){'use strict';Object[_0x536f('0x1')](_0x839bc5,_0x536f('0x4'),{'value':!0x0});var _0x2c4f65=_0x24e542(_0x3ab33f(0x0));function _0x24e542(_0x443eb1){return _0x443eb1&&_0x443eb1[_0x536f('0x4')]?_0x443eb1:{'default':_0x443eb1};}function _0x14af87(_0x443eb1){var _0x839bc5=_0x443eb1[_0x536f('0x306')],_0x3ab33f=_0x443eb1['isShowWater'],_0x24e542=_0x443eb1[_0x536f('0x417')],_0x443eb1=_0x443eb1[_0x536f('0x418')];(0x0,_0x2c4f65[_0x536f('0x6')])(this,_0x14af87),this[_0x536f('0x306')]=_0x839bc5,this['isShowWater']=_0x3ab33f,this['originColor']=_0x24e542||new THREE[(_0x536f('0x1b8'))](0xaadaff),this[_0x536f('0x418')]=_0x443eb1||new THREE['Color'](0x135d63);}(0x0,_0x24e542(_0x3ab33f(0x1))['default'])(_0x14af87,[{'key':_0x536f('0x419'),'value':function(_0x443eb1){this[_0x536f('0x306')]=_0x443eb1;}},{'key':_0x536f('0x2f3'),'value':function(){this[_0x536f('0x306')]&&this[_0x536f('0x41a')]&&this['updateLayerNodesMaterial'](this[_0x536f('0x306')]['tileLayer'][_0x536f('0x356')],function(_0x443eb1){_0x443eb1['waterTime']+=0.005;});}},{'key':_0x536f('0x41b'),'value':function(_0x443eb1,_0x839bc5){_0x443eb1[_0x536f('0x41c')](function(_0x443eb1){_0x443eb1[_0x536f('0xce')]&&_0x839bc5(_0x443eb1['material']);});}}]),_0x839bc5[_0x536f('0x6')]=_0x14af87;},function(_0x43c6ba,_0x27e9a5,_0x7639ea){'use strict';Object[_0x536f('0x1')](_0x27e9a5,_0x536f('0x4'),{'value':!0x0});var _0x20dd31=_0x28d146(_0x7639ea(0x0));function _0x28d146(_0x43c6ba){return _0x43c6ba&&_0x43c6ba['__esModule']?_0x43c6ba:{'default':_0x43c6ba};}function _0x3c21de(_0x43c6ba){var _0x27e9a5=_0x43c6ba[_0x536f('0x1c7')],_0x7639ea=_0x43c6ba[_0x536f('0x36d')],_0x7639ea=void 0x0===_0x7639ea?_0x536f('0x41d'):_0x7639ea,_0x28d146=_0x43c6ba[_0x536f('0x41e')],_0x427cb8=_0x43c6ba[_0x536f('0x21d')],_0x43c6ba=_0x43c6ba[_0x536f('0x36b')],_0x43c6ba=void 0x0===_0x43c6ba?0x1:_0x43c6ba;(0x0,_0x20dd31['default'])(this,_0x3c21de),this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x36d')]=_0x7639ea,this[_0x536f('0x41e')]=_0x28d146,this[_0x536f('0xce')]=null,this[_0x536f('0x41f')]=null,this[_0x536f('0x21d')]=_0x427cb8||0xc8,this[_0x536f('0x420')]=null,this[_0x536f('0xf9')]=0x0,this[_0x536f('0x36b')]=_0x43c6ba,this[_0x536f('0x33a')](_0x7639ea,_0x27e9a5);}(0x0,_0x28d146(_0x7639ea(0x1))[_0x536f('0x6')])(_0x3c21de,[{'key':'createMaterial','value':function(_0x43c6ba,_0x27e9a5){var _0x7639ea=this;this[_0x536f('0xce')]=new THREE[(_0x536f('0x421'))]({'transparent':!0x0}),this[_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x33d')](_0x43c6ba),this[_0x536f('0xce')][_0x536f('0x422')]=function(_0x43c6ba){_0x43c6ba[_0x536f('0x168')]['iTime']={'value':0x0},_0x43c6ba[_0x536f('0x168')]['spread']={'value':_0x7639ea[_0x536f('0x41e')]?-0x1:0x1},_0x43c6ba[_0x536f('0x168')][_0x536f('0x423')]={'value':_0x27e9a5},_0x43c6ba[_0x536f('0x57')]=_0x43c6ba['vertexShader'][_0x536f('0x56')]('#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x43c6ba[_0x536f('0x57')]=_0x43c6ba[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x425')),_0x43c6ba[_0x536f('0x58')]=_0x43c6ba[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x426')),_0x43c6ba[_0x536f('0x58')]=_0x43c6ba[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x427'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol\x20=\x20vec4(0.0,\x200.768,\x201.0,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.018);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texCol.rgb\x20*\x20diffuseColor.rgb,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x7639ea[_0x536f('0x420')]=_0x43c6ba;};}},{'key':'create','value':function(){var _0x43c6ba=new THREE[(_0x536f('0x428'))](this[_0x536f('0x21d')],this[_0x536f('0x21d')]),_0x43c6ba=new THREE[(_0x536f('0x354'))](_0x43c6ba,this[_0x536f('0xce')]);return _0x43c6ba[_0x536f('0x1f0')]['x']=0.5*-Math['PI'],this[_0x536f('0x356')][_0x536f('0x1c3')](_0x43c6ba),_0x43c6ba;}},{'key':_0x536f('0x36a'),'value':function(){this[_0x536f('0x420')]&&(this[_0x536f('0xf9')]+=0.01*this[_0x536f('0x36b')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x429')]['value']=this['count']);}}]),_0x27e9a5[_0x536f('0x6')]=_0x3c21de;},function(_0xa35ccc,_0x3654db,_0x10a323){'use strict';Object[_0x536f('0x1')](_0x3654db,_0x536f('0x4'),{'value':!0x0});var _0x38788e=_0x4d1764(_0x10a323(0x0));function _0x4d1764(_0xa35ccc){return _0xa35ccc&&_0xa35ccc['__esModule']?_0xa35ccc:{'default':_0xa35ccc};}function _0x4bfaa6(_0xa35ccc){var _0x3654db=_0xa35ccc[_0x536f('0x21d')],_0x3654db=void 0x0===_0x3654db?0x32:_0x3654db,_0x10a323=_0xa35ccc[_0x536f('0x42a')],_0x10a323=void 0x0!==_0x10a323&&_0x10a323,_0xa35ccc=_0xa35ccc[_0x536f('0x36b')],_0xa35ccc=void 0x0===_0xa35ccc?0x1:_0xa35ccc;(0x0,_0x38788e[_0x536f('0x6')])(this,_0x4bfaa6),this[_0x536f('0x356')]=new THREE[(_0x536f('0x1c5'))](),this[_0x536f('0xce')]=null,this['coneMaterial']=null,this[_0x536f('0x420')]=null,this['sphere']=null,this[_0x536f('0xf9')]=0x0,this['isCanUpdateAnimate']=!0x1,this[_0x536f('0x42a')]=_0x10a323,this['testBox']=null,this['lookAtPoint']=new THREE[(_0x536f('0x59'))](),this['upDelta']=0xa,this[_0x536f('0x42b')]=0x0,this[_0x536f('0x42c')]=0x0,this[_0x536f('0x42d')]=new THREE[(_0x536f('0x1c5'))](),this[_0x536f('0x42e')]=null,this[_0x536f('0x42f')]=null,this[_0x536f('0x430')]=null,this[_0x536f('0x431')]=null,this[_0x536f('0x21d')]=_0x3654db,this[_0x536f('0x36b')]=_0xa35ccc,this['intervalHandle']=null;}(0x0,_0x4d1764(_0x10a323(0x1))[_0x536f('0x6')])(_0x4bfaa6,[{'key':_0x536f('0x5'),'value':function(_0xa35ccc){var _0x3654db=_0xa35ccc[_0x536f('0x1c7')],_0x10a323=_0xa35ccc['coneTex'],_0xa35ccc=_0xa35ccc[_0x536f('0x36d')],_0xa35ccc=void 0x0===_0xa35ccc?'#ffeb3b':_0xa35ccc,_0x38788e=(_0x3654db['magFilter']=THREE[_0x536f('0x432')],_0x3654db[_0x536f('0x433')]=THREE['LinearMipMapLinearFilter'],_0x3654db[_0x536f('0x434')]=THREE['RepeatWrapping'],_0x3654db[_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x3654db[_0x536f('0xf8')]['y']=-0.15,new THREE['SphereBufferGeometry'](0x1,0x20,0x20)),_0xa35ccc=(this[_0x536f('0xce')]=new THREE[(_0x536f('0x421'))]({'color':0xffeb3b,'transparent':!0x0,'blending':THREE['AdditiveBlending'],'depthWrite':!0x1}),_0xa35ccc&&(this[_0x536f('0xce')][_0x536f('0x21f')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0xa35ccc)),this[_0x536f('0xce')][_0x536f('0x3b8')]=_0x3654db,new THREE[(_0x536f('0x354'))](_0x38788e,this[_0x536f('0xce')]));return _0xa35ccc['scale'][_0x536f('0x1b')](this[_0x536f('0x21d')],this[_0x536f('0x21d')],this['radius']),this[_0x536f('0x435')]=_0xa35ccc,this['sphere'][_0x536f('0x36c')]=!0x1,this['object3d'][_0x536f('0x1c3')](_0xa35ccc),this[_0x536f('0x42a')]&&(_0x10a323[_0x536f('0x436')]=THREE[_0x536f('0x432')],_0x10a323[_0x536f('0x433')]=THREE[_0x536f('0x437')],_0x10a323[_0x536f('0x434')]=THREE[_0x536f('0x376')],_0x10a323[_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x10a323['repeat']['x']=0xa,_0x10a323[_0x536f('0xf8')]['y']=0.05,this['addCones'](this[_0x536f('0x42d')],_0x10a323),this[_0x536f('0x356')][_0x536f('0x1c3')](this[_0x536f('0x42d')])),this[_0x536f('0x438')](),this['object3d'];}},{'key':_0x536f('0x439'),'value':function(_0xa35ccc,_0x3654db){var _0x10a323=new THREE[(_0x536f('0x43a'))](0x0,1.5*this[_0x536f('0x21d')],2.7*this[_0x536f('0x21d')],0x20,0x1,!0x0);_0x10a323[_0x536f('0x43b')](Math['PI']/0x2),this[_0x536f('0x43c')]=new THREE['MeshBasicMaterial']({'color':0xffeb3b,'transparent':!0x0,'blending':THREE['AdditiveBlending']}),this[_0x536f('0x43c')][_0x536f('0xcf')]=_0x3654db,this[_0x536f('0x42e')]=new THREE[(_0x536f('0x354'))](_0x10a323,this[_0x536f('0x43c')]),this[_0x536f('0x42f')]=this[_0x536f('0x42e')][_0x536f('0x1b1')](),this[_0x536f('0x430')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x430')][_0x536f('0x1c3')](this[_0x536f('0x42e')]),this['cone2']=new THREE[(_0x536f('0x372'))](),this['cone2'][_0x536f('0x1c3')](this[_0x536f('0x42f')]),this[_0x536f('0x430')][_0x536f('0x3b')]['set'](0.688*this[_0x536f('0x21d')],1.2*-this['radius'],0x0),this[_0x536f('0x431')][_0x536f('0x3b')][_0x536f('0x1b')](0.688*-this[_0x536f('0x21d')],1.2*-this[_0x536f('0x21d')],0x0),this[_0x536f('0x430')][_0x536f('0x43d')](this[_0x536f('0x43e')]),this[_0x536f('0x431')][_0x536f('0x43d')](this[_0x536f('0x43e')]),_0xa35ccc[_0x536f('0x1c3')](this[_0x536f('0x430')]),_0xa35ccc['add'](this['cone2']);}},{'key':_0x536f('0x438'),'value':function(){var _0xa35ccc=this;this['intervalHandle']=setInterval(function(){_0xa35ccc[_0x536f('0x43f')]=!0x0,_0xa35ccc[_0x536f('0x435')][_0x536f('0x36c')]=!0x0;},0x3e8*this['speed']);}},{'key':_0x536f('0x440'),'value':function(){new TWEEN['Tween'](this[_0x536f('0x43e')])['to'](targetPos,time)[_0x536f('0x324')](TWEEN[_0x536f('0x325')][_0x536f('0x441')][_0x536f('0x442')])[_0x536f('0x328')](function(){callback&&callback();})[_0x536f('0x329')]();}},{'key':_0x536f('0x36a'),'value':function(){var _0xa35ccc,_0x3654db;this[_0x536f('0x435')]&&this[_0x536f('0x43f')]&&(this[_0x536f('0xf9')]+=0.01,0x1<this[_0x536f('0xf9')]&&(this[_0x536f('0xf9')]=0x0,this[_0x536f('0x43f')]=!0x1),_0xa35ccc=0.5*(0x1-Math[_0x536f('0x5b')](this[_0x536f('0xf9')]*Math['PI']*0x2)),_0x3654db=this['radius']*(0x1-Math[_0x536f('0x5b')](this[_0x536f('0xf9')]*Math['PI']))+0.01,this[_0x536f('0x435')][_0x536f('0x1dc')]['set'](_0x3654db,_0x3654db,_0x3654db),this['material'][_0x536f('0x201')]=_0xa35ccc),this[_0x536f('0x356')]&&this[_0x536f('0x42a')]&&(this[_0x536f('0x42d')][_0x536f('0x1f0')]['y']+=0.01,this['coneMesh1'][_0x536f('0x1f0')]['z']+=0.04,this['coneMesh2'][_0x536f('0x1f0')]['z']+=0.04);}},{'key':_0x536f('0x36c'),'set':function(_0xa35ccc){this[_0x536f('0x356')][_0x536f('0x36c')]=_0xa35ccc;}}]),_0x3654db[_0x536f('0x6')]=_0x4bfaa6;},function(_0xacab5a,_0x57f635,_0x3c8680){'use strict';Object[_0x536f('0x1')](_0x57f635,_0x536f('0x4'),{'value':!0x0});var _0x58e5cd=_0xddf7e5(_0x3c8680(0x4)),_0x436989=_0xddf7e5(_0x3c8680(0x0));function _0xddf7e5(_0xacab5a){return _0xacab5a&&_0xacab5a['__esModule']?_0xacab5a:{'default':_0xacab5a};}function _0x524723(_0xacab5a){var _0x57f635=_0xacab5a[_0x536f('0x342')],_0x3c8680=_0xacab5a[_0x536f('0x307')],_0xddf7e5=_0xacab5a['colorStr'],_0xddf7e5=void 0x0===_0xddf7e5?_0x536f('0x36e'):_0xddf7e5,_0x501513=_0xacab5a['texture'],_0x311953=_0xacab5a[_0x536f('0x443')],_0x58e5cd=_0xacab5a[_0x536f('0x36b')],_0x58e5cd=void 0x0===_0x58e5cd?0x1:_0x58e5cd,_0xacab5a=_0xacab5a[_0x536f('0x444')],_0xacab5a=void 0x0===_0xacab5a?0x0:_0xacab5a;(0x0,_0x436989[_0x536f('0x6')])(this,_0x524723),this[_0x536f('0x342')]=_0x57f635,this[_0x536f('0x307')]=_0x3c8680,this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x444')]=_0xacab5a,this[_0x536f('0x445')]=new THREE[(_0x536f('0x59'))](),this[_0x536f('0xce')]=null,this[_0x536f('0x420')]=null,this[_0x536f('0xf9')]=0x0,this[_0x536f('0x446')]=0x0,this[_0x536f('0x36b')]=_0x58e5cd,this[_0x536f('0x447')]=!0x1,this[_0x536f('0x448')]=!0x1,this[_0x536f('0x449')]=[],this[_0x536f('0x33a')]({'colorStr':_0xddf7e5,'texture':_0x501513,'alphaTex':_0x311953}),this[_0x536f('0x44a')]=0x0;}(0x0,_0xddf7e5(_0x3c8680(0x1))['default'])(_0x524723,[{'key':'createMaterial','value':function(_0xacab5a){var _0x57f635=_0xacab5a['colorStr'],_0x3c8680=_0xacab5a[_0x536f('0x1c7')],_0xddf7e5=_0xacab5a[_0x536f('0x443')],_0x155eb4=(_0x3c8680['wrapS']=THREE[_0x536f('0x376')],_0x3c8680[_0x536f('0x375')]=THREE['RepeatWrapping'],this['material']=new THREE[(_0x536f('0x421'))]({'color':0xffffff,'side':THREE[_0x536f('0x345')],'transparent':!0x0,'blending':THREE[_0x536f('0x44b')],'depthWrite':!0x1}),_0x57f635&&(this[_0x536f('0xce')][_0x536f('0x21f')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x57f635)),this);this[_0x536f('0xce')][_0x536f('0x422')]=function(_0xacab5a){_0xacab5a[_0x536f('0x168')][_0x536f('0x429')]={'value':0x1},_0xacab5a['uniforms'][_0x536f('0x44c')]={'value':_0x155eb4[_0x536f('0x44a')]},_0xacab5a[_0x536f('0x168')][_0x536f('0x44d')]={'value':_0x3c8680},_0xacab5a[_0x536f('0x168')][_0x536f('0x443')]={'value':_0xddf7e5},_0xacab5a['uniforms']['offsetHeight']={'value':_0x155eb4[_0x536f('0x444')]},_0xacab5a[_0x536f('0x57')]=_0xacab5a['vertexShader'][_0x536f('0x56')](_0x536f('0x44e'),_0x536f('0x44f')),_0xacab5a[_0x536f('0x57')]=_0xacab5a['vertexShader'][_0x536f('0x56')]('#include\x20<uv2_vertex>',_0x536f('0x450')),_0xacab5a[_0x536f('0x57')]=_0xacab5a[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x451'),_0x536f('0x452')),_0xacab5a[_0x536f('0x58')]=_0xacab5a['fragmentShader'][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x453')),_0xacab5a[_0x536f('0x58')]=_0xacab5a['fragmentShader'][_0x536f('0x56')](_0x536f('0x427'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nTexture\x20=\x20texture2D(numTex,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20nTexture;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20(x-min(x))/(max(x)-min(x))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20aUvy\x20=\x20vModelPos.y\x20/\x20exRadius;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20vec2(0.5,\x20aUvy)).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.a\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x155eb4[_0x536f('0x420')]=_0xacab5a;};}},{'key':_0x536f('0x5'),'value':function(_0xacab5a){for(var _0x57f635=_0xacab5a[_0x536f('0x366')],_0x57f635=void 0x0===_0x57f635?0xa:_0x57f635,_0x3c8680=_0xacab5a[_0x536f('0x339')],_0x3c8680=void 0x0===_0x3c8680?0x50:_0x3c8680,_0xddf7e5=_0xacab5a[_0x536f('0x44a')],_0xacab5a=(_0xacab5a[_0x536f('0x355')],this['extentRadius']=void 0x0===_0xddf7e5?0x64:_0xddf7e5,new THREE[(_0x536f('0x428'))](_0x57f635,_0x3c8680)),_0x571eae=_0xacab5a['getAttribute'](_0x536f('0x3b'))[_0x536f('0xf9')],_0x13e638=[],_0x58e5cd=THREE['Math'][_0x536f('0x454')](0.08,0.15),_0x436989=0x0;_0x436989<_0x571eae;_0x436989++)_0x13e638[_0x536f('0x82')](_0x58e5cd);_0xacab5a['addAttribute'](_0x536f('0x36b'),new THREE[(_0x536f('0x455'))](_0x13e638,0x1));_0xddf7e5=new THREE[(_0x536f('0x354'))](_0xacab5a,this[_0x536f('0xce')]);return _0xddf7e5[_0x536f('0x456')]=!0x1,this[_0x536f('0x356')][_0x536f('0x1c3')](_0xddf7e5),this[_0x536f('0x449')][_0x536f('0x82')](_0xddf7e5),_0xddf7e5;}},{'key':_0x536f('0x457'),'value':function(_0xacab5a){for(var _0x57f635=_0xacab5a['extentRadius'],_0x3c8680=void 0x0===_0x57f635?0x64:_0x57f635,_0x57f635=_0xacab5a[_0x536f('0x341')],_0xddf7e5=void 0x0===_0x57f635?0x1:_0x57f635,_0x57f635=_0xacab5a[_0x536f('0x458')],_0x4f68c6=void 0x0===_0x57f635?0x8:_0x57f635,_0x57f635=_0xacab5a[_0x536f('0x459')],_0x1e6fb8=void 0x0===_0x57f635?0x32:_0x57f635,_0x58e5cd=0x0;_0x58e5cd<_0x1e6fb8;_0x58e5cd++){var _0x436989=this[_0x536f('0x5')]({'width':_0xddf7e5,'height':_0x4f68c6,'extentRadius':_0x3c8680});_0x436989['frustumCulled']=!0x1,_0x436989['position'][_0x536f('0x1b')](-Math[_0x536f('0x1ba')]()*_0x3c8680+_0x3c8680/0x2,-Math[_0x536f('0x1ba')]()*_0x3c8680,-Math[_0x536f('0x1ba')]()*_0x3c8680+_0x3c8680/0x2);}}},{'key':_0x536f('0x45a'),'value':function(){this[_0x536f('0x447')]=!0x0;var _0x57f635=this;this[_0x536f('0x45b')](),this[_0x536f('0x307')]['addEventListener'](_0x536f('0x329'),function(_0xacab5a){_0x57f635[_0x536f('0x448')]=!0x0;}),this[_0x536f('0x307')][_0x536f('0x37e')](_0x536f('0x45c'),function(_0xacab5a){_0x57f635[_0x536f('0x448')]=!0x1;});}},{'key':'setLookAtCamera','value':function(){if(this['camera']){var _0xacab5a=!0x0,_0x57f635=!0x1,_0x3c8680=void 0x0;try{for(var _0xddf7e5,_0x200e62=(0x0,_0x58e5cd[_0x536f('0x6')])(this[_0x536f('0x449')]);!(_0xacab5a=(_0xddf7e5=_0x200e62[_0x536f('0x79')]())[_0x536f('0x7a')]);_0xacab5a=!0x0){var _0x4520a0=_0xddf7e5[_0x536f('0x10')];this['lookAtPos'][_0x536f('0x1b')](this['camera'][_0x536f('0x3b')]['x'],_0x4520a0[_0x536f('0x3b')]['y'],this[_0x536f('0x342')][_0x536f('0x3b')]['z']),_0x4520a0[_0x536f('0x43d')](this[_0x536f('0x445')]);}}catch(_0x9af314){_0x57f635=!0x0,_0x3c8680=_0x9af314;}finally{try{!_0xacab5a&&_0x200e62[_0x536f('0x265')]&&_0x200e62[_0x536f('0x265')]();}finally{if(_0x57f635)throw _0x3c8680;}}}}},{'key':_0x536f('0x36a'),'value':function(){this['isCanUpdate']&&(this['setLookAtCamera'](),this['count']+=0.005*this[_0x536f('0x36b')],this['shader']&&(this['shader'][_0x536f('0x168')][_0x536f('0x429')][_0x536f('0x10')]=this[_0x536f('0xf9')]));}},{'key':_0x536f('0x36c'),'set':function(_0xacab5a){this[_0x536f('0x356')][_0x536f('0x36c')]=_0xacab5a;},'get':function(){return this['object3d'][_0x536f('0x36c')];}}]),_0x57f635['default']=_0x524723;},function(_0x3588fe,_0xfe8c,_0x3ec669){'use strict';Object[_0x536f('0x1')](_0xfe8c,'__esModule',{'value':!0x0});var _0x53c045=_0x1a0c62(_0x3ec669(0x0)),_0x5d6134=_0x1a0c62(_0x3ec669(0x1)),_0xcdf327=_0x1a0c62(_0x3ec669(0x3b)),_0x16d2bd=_0x3ec669(0x11);function _0x1a0c62(_0x3588fe){return _0x3588fe&&_0x3588fe[_0x536f('0x4')]?_0x3588fe:{'default':_0x3588fe};}function _0xe19317(_0x3588fe){_0x3588fe=_0x3588fe['scale'],_0x3588fe=void 0x0===_0x3588fe?0xa:_0x3588fe;(0x0,_0x53c045['default'])(this,_0xe19317),this[_0x536f('0x45d')]=!0x1,this['object3d']=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x1dc')]=_0x3588fe,this['shaderParticleEngine']=null,this[_0x536f('0x45e')]=null,this[_0x536f('0x45f')]=null,this[_0x536f('0x460')]=null,this[_0x536f('0x461')]=null,this[_0x536f('0x462')]=!0x0;}(0x0,_0x5d6134[_0x536f('0x6')])(_0xe19317,[{'key':_0x536f('0x5'),'value':function(_0x3588fe){var _0xfe8c=_0x3588fe['innerTex'],_0x3ec669=_0x3588fe[_0x536f('0x463')],_0x53c045=(_0x3588fe[_0x536f('0x464')],_0x3588fe['spreadFactor']),_0x53c045=void 0x0===_0x53c045?{'x':0x1,'y':0x1}:_0x53c045,_0x5d6134=_0x3588fe['depthTest'],_0x1a0c62=_0x3588fe['angle'],_0x3588fe=_0x3588fe[_0x536f('0x465')],_0xe19317=(this[_0x536f('0x461')]=new THREE[(_0x536f('0x1c5'))](),new THREE[(_0x536f('0x59'))]());_0x3588fe&&(_0xe19317=(0x0,_0x16d2bd['directionFromAlphaBeta'])(_0x3588fe[_0x536f('0x30d')],_0x3588fe[_0x536f('0x31f')]))[_0x536f('0x1c2')](_0x3588fe[_0x536f('0x1ee')]),this[_0x536f('0x45e')]=new _0xcdf327[(_0x536f('0x6'))][(_0x536f('0x1c5'))]({'texture':{'value':_0x3ec669},'blending':THREE[_0x536f('0x466')],'depthWrite':!0x1,'depthTest':_0x5d6134,'maxParticleCount':0.5*(_0x53c045['x']+_0x53c045['y'])*0xa0}),this['fireSmokeEmitter']=new _0xcdf327[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x536f('0x59'))](0x0,0x0,0x0),'spread':new THREE[(_0x536f('0x59'))](_0x53c045['x']+0x1,0x1,_0x53c045['y']+0x1)},'acceleration':{'value':_0xe19317[_0x536f('0x1b1')](),'spread':_0xe19317[_0x536f('0x1b1')]()},'velocity':{'value':new THREE['Vector3'](0x0,0x2,0x0),'spread':new THREE[(_0x536f('0x59'))](0x1,0x1,0x1)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE[(_0x536f('0x1b8'))](0xad926c),new THREE[(_0x536f('0x1b8'))](0x605f5c),new THREE[(_0x536f('0x1b8'))](0xa9a9a9)]},'size':{'value':[0x5*this[_0x536f('0x1dc')],0x10*this[_0x536f('0x1dc')],0xe*this[_0x536f('0x1dc')]]},'particleCount':0.5*(_0x53c045['x']+_0x53c045['y'])*0xa0}),this[_0x536f('0x45e')][_0x536f('0xce')][_0x536f('0x168')]['fogColor']['value']=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0x45f')]=new _0xcdf327[(_0x536f('0x6'))][(_0x536f('0x1c5'))]({'texture':{'value':_0xfe8c},'blending':THREE['AdditiveBlending'],'depthWrite':!0x1,'depthTest':_0x5d6134,'maxParticleCount':0.5*(_0x53c045['x']+_0x53c045['y'])*0x78}),this[_0x536f('0x467')]=new _0xcdf327[(_0x536f('0x6'))]['Emitter']({'maxAge':{'value':0x1},'position':{'value':new THREE[(_0x536f('0x59'))](0x0,0x0,0x0),'spread':new THREE[(_0x536f('0x59'))](_0x53c045['x'],0x1,_0x53c045['y'])},'acceleration':{'value':new THREE[(_0x536f('0x59'))](0.1,0.5,0.1),'spread':new THREE[(_0x536f('0x59'))](0x0,0.1,0x0)},'velocity':{'value':new THREE[(_0x536f('0x59'))](0x0,0x1,0x0),'spread':new THREE[(_0x536f('0x59'))](0x0,0x0,0x0)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE['Color'](0xffa000),new THREE[(_0x536f('0x1b8'))](0xff7c00),new THREE[(_0x536f('0x1b8'))](0xff4100)]},'size':{'value':[+this['scale'],0x5*this[_0x536f('0x1dc')],0x2*this[_0x536f('0x1dc')]]},'wiggle':{'value':[0.5]},'particleCount':0.5*(_0x53c045['x']+_0x53c045['y'])*0x78}),this[_0x536f('0x45f')]['material'][_0x536f('0x168')][_0x536f('0x468')][_0x536f('0x10')]=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0x45e')][_0x536f('0x1f7')](this[_0x536f('0x469')]),this['fireParticle'][_0x536f('0x1f7')](this[_0x536f('0x467')]),this[_0x536f('0x45e')][_0x536f('0x1e8')][_0x536f('0x1dc')][_0x536f('0x1b')](this[_0x536f('0x1dc')],this[_0x536f('0x1dc')],this['scale']),this['fireParticle'][_0x536f('0x1e8')]['scale'][_0x536f('0x1b')](this[_0x536f('0x1dc')],this[_0x536f('0x1dc')],this[_0x536f('0x1dc')]),this['centerGroup'][_0x536f('0x1c3')](this[_0x536f('0x45e')]['mesh']),this[_0x536f('0x461')][_0x536f('0x1c3')](this[_0x536f('0x45f')][_0x536f('0x1e8')]),this[_0x536f('0x461')]['renderOrder']=0x5a,void 0x0!==_0x1a0c62&&(this['centerGroup'][_0x536f('0x1f0')]['y']=THREE[_0x536f('0x19')][_0x536f('0x322')](_0x1a0c62)),this['object3d']['add'](this[_0x536f('0x461')]),this[_0x536f('0x45d')]=!0x0;}},{'key':_0x536f('0x36a'),'value':function(_0x3588fe){this[_0x536f('0x45d')]&&(this[_0x536f('0x45e')]&&this[_0x536f('0x45e')][_0x536f('0x21b')](_0x3588fe),this['fireParticle']&&this[_0x536f('0x45f')][_0x536f('0x21b')](_0x3588fe));}},{'key':_0x536f('0x46a'),'value':function(_0x3588fe){(0x64<_0x3588fe||_0x3588fe<0x0)&&(_0x3588fe=0x64);_0x3588fe=Math[_0x536f('0x1c0')](0x64*(0x1-_0x3588fe/0x64))/0x64;this[_0x536f('0x467')][_0x536f('0x22b')]=_0x3588fe,this['fireSmokeEmitter'][_0x536f('0x22b')]=_0x3588fe;}},{'key':'visible','set':function(_0x3588fe){this[_0x536f('0x462')]=_0x3588fe,this[_0x536f('0x461')][_0x536f('0x36c')]=_0x3588fe;}}]),_0xfe8c['default']=_0xe19317;},function(_0x5ea12c,_0x476296,_0x56b45c){'use strict';Object[_0x536f('0x1')](_0x476296,_0x536f('0x4'),{'value':!0x0});var _0x290048=_0x4324f1(_0x56b45c(0x0)),_0xc599db=_0x4324f1(_0x56b45c(0x1)),_0x2ed264=_0x4324f1(_0x56b45c(0x3b));function _0x4324f1(_0x5ea12c){return _0x5ea12c&&_0x5ea12c[_0x536f('0x4')]?_0x5ea12c:{'default':_0x5ea12c};}function _0x1c5707(_0x5ea12c){_0x5ea12c=_0x5ea12c[_0x536f('0x1dc')],_0x5ea12c=void 0x0===_0x5ea12c?0x1:_0x5ea12c;(0x0,_0x290048[_0x536f('0x6')])(this,_0x1c5707),this[_0x536f('0x45d')]=!0x1,this['object3d']=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x1dc')]=_0x5ea12c,this['shaderParticleEngine']=null,this['particleGroup']=null,this[_0x536f('0x460')]=null,this['centerGroup']=null,this[_0x536f('0x462')]=!0x0;}(0x0,_0xc599db[_0x536f('0x6')])(_0x1c5707,[{'key':_0x536f('0x5'),'value':function(_0x5ea12c){var _0x476296=_0x5ea12c[_0x536f('0x1c7')],_0x56b45c=_0x5ea12c['spreadFactor'],_0x56b45c=void 0x0===_0x56b45c?0x32:_0x56b45c,_0x290048=_0x5ea12c[_0x536f('0x46b')],_0x290048=void 0x0===_0x290048?0x12c:_0x290048,_0xc599db=_0x5ea12c[_0x536f('0x46c')],_0xc599db=void 0x0===_0xc599db?0x0:_0xc599db,_0x4324f1=_0x5ea12c[_0x536f('0x30d')],_0x4324f1=void 0x0===_0x4324f1?0x0:_0x4324f1,_0x1c5707=_0x5ea12c['debug'],_0x1c5707=void 0x0!==_0x1c5707&&_0x1c5707,_0x5ea12c=_0x5ea12c[_0x536f('0x464')]?0x4:0x1;this['centerGroup']=new THREE[(_0x536f('0x1c5'))](),this['particleGroup']=new _0x2ed264[(_0x536f('0x6'))][(_0x536f('0x1c5'))]({'texture':{'value':_0x476296}}),this['emitter']=new _0x2ed264[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'maxAge':{'value':0x1},'acceleration':{'value':new THREE[(_0x536f('0x59'))](0x0,-0x3,0x14),'spread':new THREE[(_0x536f('0x59'))](0xf,0xf,0xf)},'velocity':{'value':new THREE[(_0x536f('0x59'))](0x0,_0x56b45c,0x0),'spread':new THREE[(_0x536f('0x59'))](0x5,7.5,0x5)},'color':{'value':[new THREE[(_0x536f('0x1b8'))](0x5ba3f1)]},'size':{'value':0x3*this[_0x536f('0x1dc')]},'particleCount':_0x290048*_0x5ea12c}),this[_0x536f('0x46d')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x468')][_0x536f('0x10')]=new THREE['Color'](),this[_0x536f('0x46d')][_0x536f('0x1f7')](this[_0x536f('0x460')]),this['particleGroup'][_0x536f('0x1e8')][_0x536f('0x1dc')][_0x536f('0x1b')](this[_0x536f('0x1dc')],this[_0x536f('0x1dc')],this[_0x536f('0x1dc')]),this['centerGroup'][_0x536f('0x1c3')](this[_0x536f('0x46d')][_0x536f('0x1e8')]),this[_0x536f('0x461')][_0x536f('0x355')]=0xb,_0x1c5707&&this['centerGroup'][_0x536f('0x1c3')](new THREE['AxesHelper'](0x2710)),(_0xc599db<0x0||0x168<_0xc599db)&&(_0xc599db=0x0),(_0x4324f1<0x0||0x3c<_0x4324f1)&&(_0x4324f1=0x0),this[_0x536f('0x461')][_0x536f('0x46e')](THREE['Math'][_0x536f('0x322')](_0xc599db)),this[_0x536f('0x461')][_0x536f('0x43b')](THREE[_0x536f('0x19')]['degToRad'](_0x4324f1)),this[_0x536f('0x356')]['add'](this[_0x536f('0x461')]),this[_0x536f('0x45d')]=!0x0;}},{'key':_0x536f('0x36a'),'value':function(_0x5ea12c){this[_0x536f('0x45d')]&&this[_0x536f('0x46d')]&&this[_0x536f('0x46d')][_0x536f('0x21b')](_0x5ea12c);}},{'key':'closeWater','value':function(_0x5ea12c){(0x64<_0x5ea12c||_0x5ea12c<0x0)&&(_0x5ea12c=0x64);_0x5ea12c=Math[_0x536f('0x1c0')](0x64*(0x1-_0x5ea12c/0x64))/0x64;this[_0x536f('0x460')][_0x536f('0x22b')]=_0x5ea12c;}},{'key':_0x536f('0x36c'),'set':function(_0x5ea12c){this[_0x536f('0x462')]=_0x5ea12c,this[_0x536f('0x461')][_0x536f('0x36c')]=_0x5ea12c;}}]),_0x476296['default']=_0x1c5707;},function(_0x1032d9,_0x560ea0,_0x26f4e9){_0x1032d9[_0x536f('0x0')]={'default':_0x26f4e9(0xab),'__esModule':!0x0};},function(_0x14fb0f,_0x417b22,_0x1c3907){_0x1c3907(0xac),_0x14fb0f[_0x536f('0x0')]=_0x1c3907(0x2)['Math'][_0x536f('0x46f')];},function(_0x247b65,_0x19bfe5,_0x2e4f13){var _0x2e4f13=_0x2e4f13(0x3),_0x502ef9=Math[_0x536f('0x1b9')];_0x2e4f13(_0x2e4f13['S'],'Math',{'hypot':function(_0x247b65,_0x19bfe5){for(var _0x2e4f13,_0x2b8692,_0x3ffc16=0x0,_0x280f4d=0x0,_0x195aab=arguments[_0x536f('0xd')],_0x1b1ed8=0x0;_0x280f4d<_0x195aab;)_0x1b1ed8<(_0x2e4f13=_0x502ef9(arguments[_0x280f4d++]))?(_0x3ffc16=_0x3ffc16*(_0x2b8692=_0x1b1ed8/_0x2e4f13)*_0x2b8692+0x1,_0x1b1ed8=_0x2e4f13):_0x3ffc16+=0x0<_0x2e4f13?(_0x2b8692=_0x2e4f13/_0x1b1ed8)*_0x2b8692:_0x2e4f13;return _0x1b1ed8===0x1/0x0?0x1/0x0:_0x1b1ed8*Math[_0x536f('0x1be')](_0x3ffc16);}});},,,,,function(_0xee5977,_0x35863f,_0x21bbf0){'use strict';Object[_0x536f('0x1')](_0x35863f,'__esModule',{'value':!0x0});var _0x55e6be=_0x575b43(_0x21bbf0(0x0)),_0x57cf9a=_0x575b43(_0x21bbf0(0x1)),_0x7598c1=_0x21bbf0(0x8d);function _0x575b43(_0xee5977){return _0xee5977&&_0xee5977[_0x536f('0x4')]?_0xee5977:{'default':_0xee5977};}function _0xffd7f0(_0xee5977){var _0x35863f=_0xee5977[_0x536f('0x470')],_0x35863f=void 0x0===_0x35863f?0x14:_0x35863f,_0x21bbf0=_0xee5977[_0x536f('0x339')],_0x21bbf0=void 0x0===_0x21bbf0?0x2:_0x21bbf0,_0x57cf9a=_0xee5977[_0x536f('0x471')],_0x57cf9a=void 0x0===_0x57cf9a?0x32:_0x57cf9a,_0xee5977=_0xee5977[_0x536f('0x36d')],_0xee5977=void 0x0===_0xee5977?'#ffffff':_0xee5977;(0x0,_0x55e6be[_0x536f('0x6')])(this,_0xffd7f0),this[_0x536f('0x356')]=new THREE[(_0x536f('0x1c5'))](),this['object3d'][_0x536f('0x92')]=_0x536f('0x472'),this['height']=_0x21bbf0,this['pointSize']=_0x57cf9a,this['colorStr']=_0xee5977,this['points']=null,this[_0x536f('0x473')]=_0x35863f,this[_0x536f('0xce')]=null,this['shader']=null,this[_0x536f('0x474')]=[],this['currIndex']=0x0,this[_0x536f('0x475')]=null,this[_0x536f('0xf9')]=0x0;}(0x0,_0x57cf9a[_0x536f('0x6')])(_0xffd7f0,[{'key':_0x536f('0x5'),'value':function(_0xee5977){for(var _0x35863f,_0x21bbf0=_0xee5977['points'],_0xee5977=_0xee5977[_0x536f('0x1c7')],_0x57cf9a=(this[_0x536f('0x474')]=(0x0,_0x7598c1[_0x536f('0x338')])(_0x21bbf0,this[_0x536f('0x473')]),this[_0x536f('0x474')][0x0]),_0x55e6be=new Float32Array(0x4*this['routePoints'][_0x536f('0xd')]),_0x575b43=0x0,_0xffd7f0=this[_0x536f('0x474')][_0x536f('0xd')];_0x575b43<_0xffd7f0;_0x575b43++)_0x55e6be[0x0+(_0x35863f=0x4*_0x575b43)]=this['routePoints'][_0x575b43]['x']-_0x57cf9a['x'],_0x55e6be[0x1+_0x35863f]=this[_0x536f('0x474')][_0x575b43]['y']-_0x57cf9a['y'],_0x55e6be[0x2+_0x35863f]=this['routePoints'][_0x575b43]['z']-_0x57cf9a['z'],_0x55e6be[0x3+_0x35863f]=_0x575b43;var _0x21bbf0=new THREE[(_0x536f('0x1e7'))](),_0x16dd31=new THREE['InterleavedBuffer'](_0x55e6be,0x4),_0x5f2fb4=(_0x21bbf0[_0x536f('0x1f5')](_0x536f('0x3b'),new THREE[(_0x536f('0x476'))](_0x16dd31,0x3,0x0)),_0x21bbf0[_0x536f('0x1f5')](_0x536f('0x477'),new THREE[(_0x536f('0x476'))](_0x16dd31,0x1,0x3)),this[_0x536f('0xce')]=new THREE['PointsMaterial']({'color':0xffffff,'map':_0xee5977,'blending':THREE['AdditiveBlending'],'sizeAttenuation':!0x0,'size':this[_0x536f('0x471')],'depthWrite':!0x1,'transparent':!0x0,'opacity':0.2}),this[_0x536f('0x36d')]&&(this[_0x536f('0xce')][_0x536f('0x21f')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](this[_0x536f('0x36d')])),this);return this[_0x536f('0xce')][_0x536f('0x422')]=function(_0xee5977){_0xee5977['uniforms'][_0x536f('0x429')]={'value':0x0},_0xee5977[_0x536f('0x57')]=_0xee5977[_0x536f('0x57')]['replace'](_0x536f('0x10b'),_0x536f('0x478')),_0xee5977[_0x536f('0x57')]=_0xee5977['vertexShader'][_0x536f('0x56')](_0x536f('0x479'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vIndex\x20=\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xee5977[_0x536f('0x58')]=_0xee5977[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x47a')),_0xee5977[_0x536f('0x58')]=_0xee5977[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x47b'),_0x536f('0x47c')),_0x5f2fb4[_0x536f('0x420')]=_0xee5977;},this[_0x536f('0x27d')]=new THREE[(_0x536f('0xb2'))](_0x21bbf0,this[_0x536f('0xce')]),this['points'][_0x536f('0x355')]=0x47,this[_0x536f('0x356')]['add'](this[_0x536f('0x27d')]),this[_0x536f('0x27d')];}},{'key':_0x536f('0x36a'),'value':function(_0xee5977){this[_0x536f('0x27d')]&&this[_0x536f('0x420')]&&(this['count']+=_0xee5977,this['shader'][_0x536f('0x168')][_0x536f('0x429')]['value']=this[_0x536f('0xf9')]);}},{'key':_0x536f('0x47d'),'value':function(){var _0xee5977=new THREE['BoxBufferGeometry'](0xa,0xa,0xa),_0x35863f=new THREE[(_0x536f('0x47e'))]({'color':0xffc033});return _0x35863f['emissive'][_0x536f('0x1bc')](new THREE[(_0x536f('0x1b8'))](0xfff000)),_0x35863f[_0x536f('0x47f')][_0x536f('0x480')](0.1,0x1,0.5),new THREE[(_0x536f('0x354'))](_0xee5977,_0x35863f);}},{'key':_0x536f('0x481'),'value':function(_0x35863f,_0x21bbf0,_0x57cf9a){var _0x55e6be=this;this[_0x536f('0x475')]=setInterval(function(){if(_0x55e6be[_0x536f('0x482')]>=_0x55e6be[_0x536f('0x474')][_0x536f('0xd')])return _0x55e6be['currIndex']=0x0,void clearInterval(_0x55e6be[_0x536f('0x475')]);var _0xee5977=_0x55e6be['routePoints'][_0x55e6be[_0x536f('0x482')]];_0xee5977['y']=_0x57cf9a,_0x55e6be[_0x536f('0x483')](_0x21bbf0,_0xee5977,_0x35863f),_0x55e6be[_0x536f('0x482')]++;},_0x35863f);}},{'key':_0x536f('0x483'),'value':function(_0xee5977,_0x35863f,_0x21bbf0,_0x57cf9a){var _0x55e6be=new THREE[(_0x536f('0x59'))]();_0x55e6be['copy'](_0x35863f),new TWEEN[(_0x536f('0x323'))](_0xee5977['position'])['to'](_0x55e6be,_0x21bbf0)[_0x536f('0x324')](TWEEN['Easing'][_0x536f('0x441')][_0x536f('0x442')])[_0x536f('0x328')](function(){_0x57cf9a&&_0x57cf9a();})[_0x536f('0x329')]();}},{'key':_0x536f('0x36c'),'set':function(_0xee5977){this[_0x536f('0x27d')]&&(this[_0x536f('0x27d')][_0x536f('0x36c')]=_0xee5977);}},{'key':_0x536f('0x484'),'set':function(_0xee5977){this[_0x536f('0x27d')][_0x536f('0xce')][_0x536f('0x340')]=!_0xee5977,this[_0x536f('0x27d')][_0x536f('0xce')][_0x536f('0xfa')]=!0x0;}}]),_0x35863f[_0x536f('0x6')]=_0xffd7f0;},function(_0x1929c0,_0x1fc817,_0x222780){'use strict';Object[_0x536f('0x1')](_0x1fc817,_0x536f('0x4'),{'value':!0x0});var _0x89190d=_0x51d95c(_0x222780(0x0));function _0x51d95c(_0x1929c0){return _0x1929c0&&_0x1929c0[_0x536f('0x4')]?_0x1929c0:{'default':_0x1929c0};}function _0x263173(_0x1929c0){(0x0,_0x89190d['default'])(this,_0x263173),this['createSkybox']=function(_0x1929c0,_0x1fc817){var _0x222780=new THREE[(_0x536f('0x485'))](),_0x1929c0=this['createTextureCube'](_0x1929c0),_0x89190d=THREE[_0x536f('0x486')]['cube'],_0x89190d=new THREE[(_0x536f('0x3b3'))]({'fragmentShader':_0x89190d[_0x536f('0x58')],'vertexShader':_0x89190d[_0x536f('0x57')],'uniforms':_0x89190d[_0x536f('0x168')],'depthWrite':!0x1,'depthTest':!0x1,'side':THREE['BackSide'],'fog':!0x1}),_0x89190d=(_0x89190d[_0x536f('0x168')][_0x536f('0x487')][_0x536f('0x10')]=_0x1929c0,new THREE[(_0x536f('0x354'))](new THREE[(_0x536f('0x488'))](0x64,0x64,0x64),_0x89190d));return _0x89190d[_0x536f('0x3b')]['copy'](_0x1fc817),_0x89190d[_0x536f('0x1dc')]['set'](0xf4240,0xf4240,0xf4240),_0x222780['add'](_0x89190d),this['scene'][_0x536f('0x1c3')](_0x222780),_0x1929c0;},this[_0x536f('0x489')]=_0x1929c0;}(0x0,_0x51d95c(_0x222780(0x1))[_0x536f('0x6')])(_0x263173,[{'key':'createTextureCube','value':function(_0x1929c0){_0x1929c0=new THREE['CubeTextureLoader']()['load'](_0x1929c0);return _0x1929c0[_0x536f('0x48a')]=THREE[_0x536f('0x48b')],_0x1929c0[_0x536f('0x48c')]=THREE['CubeReflectionMapping'],_0x1929c0[_0x536f('0x48d')]=THREE['sRGBEncoding'],_0x1929c0;}}]),_0x1fc817[_0x536f('0x6')]=_0x263173;},function(_0x5f4a44,_0x4b363a,_0x1df1af){'use strict';Object[_0x536f('0x1')](_0x4b363a,_0x536f('0x4'),{'value':!0x0});var _0x5365ee=_0x3c3df5(_0x1df1af(0x44)),_0x4b5782=_0x3c3df5(_0x1df1af(0x17)),_0x38c650=_0x3c3df5(_0x1df1af(0x0)),_0x146b25=_0x3c3df5(_0x1df1af(0x1)),_0x317ccc=_0x3c3df5(_0x1df1af(0x1d)),_0x41bbc4=_0x3c3df5(_0x1df1af(0x1e)),_0x9d9635=_0x3c3df5(_0x1df1af(0x37)),_0x57b657=_0x1df1af(0x24),_0x39bfb1=_0x3c3df5(_0x1df1af(0x40));function _0x3c3df5(_0x5f4a44){return _0x5f4a44&&_0x5f4a44[_0x536f('0x4')]?_0x5f4a44:{'default':_0x5f4a44};}function _0x21f4ce(_0x5f4a44){var _0x5f4a44=_0x5f4a44[_0x536f('0x48e')],_0x4b363a=((0x0,_0x38c650[_0x536f('0x6')])(this,_0x21f4ce),(0x0,_0x317ccc[_0x536f('0x6')])(this,(_0x21f4ce['__proto__']||(0x0,_0x4b5782[_0x536f('0x6')])(_0x21f4ce))[_0x536f('0xa')](this)));return _0x4b363a['view']=_0x5f4a44,_0x4b363a[_0x536f('0x48f')]=null,_0x4b363a[_0x536f('0x490')]=null,_0x4b363a[_0x536f('0x491')]=null,_0x4b363a;}_0x1df1af=_0x57b657[_0x536f('0x73')],(0x0,_0x41bbc4[_0x536f('0x6')])(_0x21f4ce,_0x1df1af),(0x0,_0x146b25[_0x536f('0x6')])(_0x21f4ce,[{'key':_0x536f('0x492'),'value':function(_0x5f4a44,_0x4b363a){var _0x1df1af=this;_0x39bfb1['default']['loadSixPicCubeTexture'](_0x5f4a44)[_0x536f('0x398')](function(_0x5f4a44){_0x1df1af[_0x536f('0x48f')]=_0x5f4a44,_0x1df1af[_0x536f('0x32d')]({'type':_0x536f('0x493')}),_0x4b363a&&_0x4b363a();});}},{'key':_0x536f('0x494'),'value':function(_0x5f4a44,_0x146b25,_0x4b363a){var _0x1df1af=this,_0x4b5782=new THREE[(_0x536f('0x495'))]([]);_0x4b5782[_0x536f('0x48a')]=THREE[_0x536f('0x48b')],new THREE[(_0x536f('0x496'))]()[_0x536f('0x263')](_0x5f4a44,function(_0x38c650){function _0x5f4a44(_0x5f4a44,_0x4b363a){var _0x1df1af=_0x146b25||0x400,_0x4b5782=document['createElement']('canvas');return _0x4b5782['width']=_0x1df1af,_0x4b5782[_0x536f('0x339')]=_0x1df1af,_0x4b5782[_0x536f('0x412')]('2d')[_0x536f('0x497')](_0x38c650,-_0x5f4a44*_0x1df1af,-_0x4b363a*_0x1df1af),_0x4b5782;}_0x4b5782[_0x536f('0x498')][0x0]=_0x5f4a44(0x2,0x1),_0x4b5782['images'][0x1]=_0x5f4a44(0x0,0x1),_0x4b5782[_0x536f('0x498')][0x2]=_0x5f4a44(0x1,0x0),_0x4b5782['images'][0x3]=_0x5f4a44(0x1,0x2),_0x4b5782[_0x536f('0x498')][0x4]=_0x5f4a44(0x1,0x1),_0x4b5782[_0x536f('0x498')][0x5]=_0x5f4a44(0x3,0x1),_0x4b5782[_0x536f('0xfa')]=!0x0,_0x1df1af[_0x536f('0x48f')]=_0x4b5782,_0x1df1af[_0x536f('0x32d')]({'type':_0x536f('0x493')}),_0x4b363a&&_0x4b363a();});}},{'key':_0x536f('0x499'),'value':function(_0x5f4a44){var _0x4b363a=_0x5f4a44[_0x536f('0xd7')],_0x1df1af=_0x5f4a44[_0x536f('0x388')],_0x4b5782=_0x5f4a44[_0x536f('0x49a')],_0x4b5782=void 0x0!==_0x4b5782&&_0x4b5782,_0x5f4a44=_0x5f4a44[_0x536f('0x49b')],_0x5f4a44=void 0x0===_0x5f4a44?0x1:_0x5f4a44,_0x38c650=JSON['parse']((0x0,_0x5365ee['default'])(THREE[_0x536f('0x486')][_0x536f('0x49c')])),_0x4b5782=(_0x38c650[_0x536f('0x168')][_0x536f('0x49d')]={'value':null},_0x38c650[_0x536f('0x168')][_0x536f('0x49e')]={'value':0x0},_0x38c650['uniforms'][_0x536f('0x49a')]={'value':_0x4b5782},_0x38c650[_0x536f('0x168')][_0x536f('0x49f')]={'value':!0x1},_0x38c650[_0x536f('0x168')][_0x536f('0x4a0')]={'value':0x0},_0x38c650[_0x536f('0x168')][_0x536f('0x4a1')]={'value':new THREE[(_0x536f('0x1b8'))]()},_0x38c650[_0x536f('0x168')][_0x536f('0x49b')]={'value':_0x5f4a44},_0x38c650[_0x536f('0x57')]=_0x38c650['vertexShader'][_0x536f('0x56')](_0x536f('0x4a2'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x38c650[_0x536f('0x57')]=_0x38c650[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4a3'),_0x536f('0x4a4')),_0x38c650[_0x536f('0x58')]=_0x38c650['fragmentShader'][_0x536f('0x56')](_0x536f('0x4a5'),_0x536f('0x4a6')),_0x38c650[_0x536f('0x58')]=_0x38c650[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x4a7'),_0x536f('0x4a8')),new THREE['ShaderMaterial']({'fragmentShader':_0x38c650[_0x536f('0x58')],'vertexShader':_0x38c650[_0x536f('0x57')],'uniforms':_0x38c650[_0x536f('0x168')],'side':THREE[_0x536f('0x4a9')],'fog':!0x1}));_0x4b5782[_0x536f('0x168')][_0x536f('0x487')]?_0x4b5782[_0x536f('0x168')]['tCube'][_0x536f('0x10')]=this[_0x536f('0x48f')]:_0x4b5782[_0x536f('0x4aa')]=this[_0x536f('0x48f')],this[_0x536f('0x491')]=new THREE[(_0x536f('0x354'))](new THREE[(_0x536f('0x488'))](0x64,0x64,0x64),_0x4b5782),this[_0x536f('0x491')][_0x536f('0x3b')]['y']=_0x1df1af,this[_0x536f('0x491')]['scale'][_0x536f('0x1b')](_0x4b363a,_0x4b363a,_0x4b363a),this[_0x536f('0x306')][_0x536f('0x489')][_0x536f('0x1c3')](this[_0x536f('0x491')]);}},{'key':_0x536f('0x4ab'),'value':function(_0x5f4a44){var _0x4b363a=_0x5f4a44['radius'],_0x4b363a=void 0x0===_0x4b363a?0x2710:_0x4b363a,_0x1df1af=_0x5f4a44[_0x536f('0x4ac')],_0x1df1af=void 0x0===_0x1df1af?_0x536f('0x4ad'):_0x1df1af,_0x4b5782=_0x5f4a44[_0x536f('0x4ae')],_0x4b5782=void 0x0===_0x4b5782?_0x536f('0x4af'):_0x4b5782,_0x38c650=_0x5f4a44[_0x536f('0xf8')],_0x146b25=void 0x0===_0x38c650?0x64:_0x38c650,_0x38c650=_0x5f4a44[_0x536f('0x4b0')],_0x317ccc=void 0x0===_0x38c650?0.6:_0x38c650,_0x5365ee=_0x5f4a44[_0x536f('0x1c7')],_0x38c650=new THREE['BoxBufferGeometry'](_0x4b363a,_0x4b363a,_0x4b363a),_0x41bbc4=new THREE['Color']()[_0x536f('0x33d')](_0x1df1af),_0x9d9635=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x4b5782),_0x57b657=this,_0x5f4a44=new THREE['MeshBasicMaterial']({'color':0xffffff,'side':THREE[_0x536f('0x4a9')],'fog':!0x1});return _0x5f4a44[_0x536f('0x422')]=function(_0x5f4a44){_0x5f4a44[_0x536f('0x168')][_0x536f('0x4b1')]={'value':_0x41bbc4},_0x5f4a44[_0x536f('0x168')]['bottomColor']={'value':_0x9d9635},_0x5f4a44[_0x536f('0x168')][_0x536f('0x4b2')]={'value':_0x5365ee},_0x5f4a44[_0x536f('0x168')][_0x536f('0xf8')]={'value':_0x146b25},_0x5f4a44[_0x536f('0x168')]['exponent']={'value':_0x317ccc},_0x5f4a44['vertexShader']=_0x5f4a44[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4b3'),_0x536f('0x4b4')),_0x5f4a44[_0x536f('0x57')]=_0x5f4a44[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x4b5')),_0x5f4a44[_0x536f('0x58')]=_0x5f4a44['fragmentShader'][_0x536f('0x56')]('uniform\x20float\x20opacity;',_0x536f('0x4b6')),_0x5f4a44['fragmentShader']=_0x5f4a44['fragmentShader'][_0x536f('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x536f('0x4b7')),_0x57b657[_0x536f('0x490')]=_0x5f4a44;},this[_0x536f('0x491')]=new THREE['Mesh'](_0x38c650,_0x5f4a44),this[_0x536f('0x306')][_0x536f('0x489')][_0x536f('0x1c3')](this[_0x536f('0x491')]),this['skyBox'];}},{'key':_0x536f('0x4b8'),'value':function(_0x5f4a44){var _0x4b363a=_0x5f4a44[_0x536f('0xd7')],_0x4b363a=void 0x0===_0x4b363a?0x2710:_0x4b363a,_0x1df1af=_0x5f4a44[_0x536f('0x4ac')],_0x4b5782=_0x5f4a44[_0x536f('0x4ae')],_0x4b5782=void 0x0===_0x4b5782?_0x536f('0x4af'):_0x4b5782,_0x38c650=_0x5f4a44[_0x536f('0x388')],_0x38c650=void 0x0===_0x38c650?0x0:_0x38c650,_0x5f4a44=_0x5f4a44['exponent'],_0x5f4a44=void 0x0===_0x5f4a44?0.8:_0x5f4a44,_0x4b5782=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x4b5782),_0x146b25=(_0x1df1af&&(_0x317ccc=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x1df1af)),JSON['parse']((0x0,_0x5365ee[_0x536f('0x6')])(THREE[_0x536f('0x486')][_0x536f('0x49c')]))),_0x317ccc=(_0x1df1af&&(_0x146b25[_0x536f('0x168')][_0x536f('0x4b1')]={'value':_0x317ccc}),_0x146b25[_0x536f('0x168')][_0x536f('0x4b9')]={'value':_0x4b5782},_0x146b25[_0x536f('0x168')][_0x536f('0xf8')]={'value':_0x38c650},_0x146b25['uniforms'][_0x536f('0x4b0')]={'value':_0x5f4a44},_0x146b25[_0x536f('0x57')]=_0x146b25[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4ba'),_0x536f('0x4bb')),_0x146b25['vertexShader']=_0x146b25[_0x536f('0x57')][_0x536f('0x56')]('#include\x20<project_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20gl_Position\x20=\x20newProject\x20*\x20mvPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x146b25['fragmentShader']=_0x146b25[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1df1af?'#define\x20IS_SKY_COLOR':'')+_0x536f('0x4bc')),_0x146b25[_0x536f('0x58')]=_0x146b25[_0x536f('0x58')][_0x536f('0x56')]('gl_FragColor.a\x20*=\x20opacity;',_0x536f('0x4bd')),new THREE[(_0x536f('0x3b3'))]({'fragmentShader':_0x146b25[_0x536f('0x58')],'vertexShader':_0x146b25['vertexShader'],'uniforms':_0x146b25[_0x536f('0x168')],'side':THREE[_0x536f('0x4a9')],'depthWrite':!0x1,'fog':!0x1}));this[_0x536f('0x48f')]&&_0x317ccc['uniforms']['tCube']&&!_0x1df1af&&(_0x317ccc[_0x536f('0x168')][_0x536f('0x487')][_0x536f('0x10')]=this['textureCube']),this[_0x536f('0x491')]=new THREE[(_0x536f('0x354'))](new THREE['SphereBufferGeometry'](0x64,0x40,0xa),_0x317ccc),this['skyBox'][_0x536f('0x1dc')][_0x536f('0x1b')](_0x4b363a,_0x4b363a,_0x4b363a),this['view'][_0x536f('0x489')][_0x536f('0x1c3')](this[_0x536f('0x491')]);}},{'key':_0x536f('0x4be'),'value':function(_0x5f4a44){var _0x5f4a44=_0x5f4a44[_0x536f('0x1c7')],_0x4b363a=new THREE[(_0x536f('0x4bf'))](0x1,0x40,0xa),_0x5f4a44=new THREE[(_0x536f('0x421'))]({'side':THREE['BackSide'],'fog':!0x1,'map':_0x5f4a44});_0x5f4a44[_0x536f('0x422')]=function(_0x5f4a44){_0x5f4a44[_0x536f('0x57')]=_0x5f4a44['vertexShader'][_0x536f('0x56')](_0x536f('0x451'),_0x536f('0x4c0'));},this[_0x536f('0x491')]=new THREE[(_0x536f('0x354'))](_0x4b363a,_0x5f4a44),this[_0x536f('0x491')]['scale'][_0x536f('0x1b')](0x186a0,0x186a0,0x186a0),this[_0x536f('0x306')]['scene']['add'](this[_0x536f('0x491')]);}},{'key':_0x536f('0x4c1'),'value':function(_0x5f4a44){var _0x5f4a44=_0x5f4a44['size'],_0x5f4a44=void 0x0===_0x5f4a44?0x2710:_0x5f4a44,_0x4b363a=JSON[_0x536f('0x2fb')]((0x0,_0x5365ee['default'])(THREE['ShaderLib'][_0x536f('0x49c')])),_0x4b363a=new THREE[(_0x536f('0x3b3'))]({'fragmentShader':_0x4b363a[_0x536f('0x58')],'vertexShader':_0x4b363a[_0x536f('0x57')],'uniforms':_0x4b363a[_0x536f('0x168')],'side':THREE[_0x536f('0x4a9')],'depthWrite':!0x1,'fog':!0x1});_0x4b363a[_0x536f('0x168')][_0x536f('0x487')]['value']=this[_0x536f('0x48f')],this['skyBox']=new THREE[(_0x536f('0x354'))](new THREE[(_0x536f('0x4bf'))](0x64,0x40,0xa),_0x4b363a),this[_0x536f('0x491')][_0x536f('0x1dc')][_0x536f('0x1b')](_0x5f4a44,_0x5f4a44,_0x5f4a44),this[_0x536f('0x491')][_0x536f('0x3b')]['y']=-0x55d4a80,this[_0x536f('0x306')][_0x536f('0x489')][_0x536f('0x1c3')](this[_0x536f('0x491')]);}},{'key':_0x536f('0x4c2'),'value':function(_0x5f4a44){var _0x1df1af=this,_0x4b363a=_0x5f4a44[_0x536f('0x4c3')],_0x4b5782=_0x5f4a44[_0x536f('0x4c4')],_0x38c650=void 0x0===_0x4b5782?0x2710:_0x4b5782,_0x4b5782=_0x5f4a44[_0x536f('0x388')],_0x146b25=void 0x0===_0x4b5782?0x0:_0x4b5782,_0x4b5782=_0x5f4a44[_0x536f('0x4c5')],_0x317ccc=void 0x0===_0x4b5782?0x0:_0x4b5782,_0x5365ee=new THREE['TextureLoader']()['load'](_0x4b363a,function(){var _0x5f4a44=_0x5365ee['image'],_0x5f4a44=_0x5f4a44['width']/_0x5f4a44['height']*_0x38c650/(0x2*Math['PI']),_0x5f4a44=(_0x5365ee['wrapT']=THREE[_0x536f('0x376')],_0x5365ee['wrapS']=THREE[_0x536f('0x376')],new THREE[(_0x536f('0x43a'))](_0x5f4a44,_0x5f4a44,_0x38c650,0x20,0x1,!0x0,0x0,0x2*Math['PI'])),_0x4b363a=new THREE[(_0x536f('0x421'))]({'map':_0x5365ee,'color':0xffffff,'side':THREE[_0x536f('0x4a9')],'transparent':!0x0});_0x4b363a[_0x536f('0x422')]=function(_0x5f4a44){_0x5f4a44['vertexShader']=_0x5f4a44[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x451'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');},_0x1df1af['skyBox']=new THREE[(_0x536f('0x354'))](_0x5f4a44,_0x4b363a),_0x1df1af[_0x536f('0x491')]['position']['y']=_0x146b25,_0x1df1af[_0x536f('0x491')][_0x536f('0x1f0')]['y']=THREE[_0x536f('0x19')][_0x536f('0x322')](_0x317ccc),_0x1df1af[_0x536f('0x306')]['scene'][_0x536f('0x1c3')](_0x1df1af[_0x536f('0x491')]);});}},{'key':_0x536f('0x4c6'),'value':function(){this['view'][_0x536f('0x489')][_0x536f('0x4c7')]=this['textureCube'],this[_0x536f('0x32d')]({'type':'canUpdate'});}},{'key':_0x536f('0xcd'),'value':function(){this[_0x536f('0x48f')]&&this[_0x536f('0x48f')][_0x536f('0xcd')](),this[_0x536f('0x48f')]=null,_0x9d9635[_0x536f('0x6')][_0x536f('0x367')](this[_0x536f('0x491')]),this[_0x536f('0x491')]=null;}}]),_0x4b363a[_0x536f('0x6')]=_0x21f4ce;},function(_0x11b307,_0x1e1ed0,_0x22ded3){'use strict';Object[_0x536f('0x1')](_0x1e1ed0,_0x536f('0x4'),{'value':!0x0});var _0x1e6744=_0x17ca99(_0x22ded3(0x10)),_0x30a6c6=_0x17ca99(_0x22ded3(0x0)),_0x564a29=_0x17ca99(_0x22ded3(0x1)),_0x19397f=_0x17ca99(_0x22ded3(0xb5)),_0x5cbdb4=_0x17ca99(_0x22ded3(0x37));function _0x17ca99(_0x11b307){return _0x11b307&&_0x11b307['__esModule']?_0x11b307:{'default':_0x11b307};}function _0x1fed51(_0x11b307){_0x11b307=_0x11b307[_0x536f('0x342')];(0x0,_0x30a6c6[_0x536f('0x6')])(this,_0x1fed51),this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x342')]=_0x11b307,this[_0x536f('0x1e5')]=null,this['skyMaterial']=null,this[_0x536f('0x4c8')]=null,this['sunPosition']=new THREE[(_0x536f('0x59'))](),this[_0x536f('0x4c9')]=0x32,this['theta']=0x91,this['skyConfigs']={'luminance':0x1,'turbidity':0x1,'rayleigh':0.415,'mieCoefficient':0.005,'mieDirectionalG':0.8},this[_0x536f('0x4ca')]={'luminance':0x1,'turbidity':0x1,'rayleigh':0.15,'mieCoefficient':0.005,'mieDirectionalG':0.8};}(0x0,_0x564a29[_0x536f('0x6')])(_0x1fed51,[{'key':_0x536f('0x5'),'value':function(_0x11b307){_0x11b307=_0x11b307[_0x536f('0x49a')],_0x11b307=void 0x0!==_0x11b307&&_0x11b307;return this['createMaterial'](),this['skyMesh']=new THREE[(_0x536f('0x354'))](new THREE[(_0x536f('0x4bf'))](0x1,0x18,0xc),this['skyMaterial']),this[_0x536f('0x4c8')][_0x536f('0x1dc')]['setScalar'](0x1faa3b500),this[_0x536f('0x4c8')][_0x536f('0x92')]=_0x536f('0x4cb'),this[_0x536f('0x356')][_0x536f('0x1c3')](this[_0x536f('0x4c8')]),this[_0x536f('0x2f3')](),this[_0x536f('0x4cc')]({'isCullGround':_0x11b307}),this[_0x536f('0x356')];}},{'key':_0x536f('0x33a'),'value':function(){this[_0x536f('0x4cd')]=new THREE[(_0x536f('0x3b3'))]({'uniforms':THREE[_0x536f('0x4ce')][_0x536f('0x1b1')](_0x19397f[_0x536f('0x6')][_0x536f('0x168')]),'fragmentShader':_0x19397f['default'][_0x536f('0x58')],'vertexShader':_0x19397f[_0x536f('0x6')]['vertexShader'],'side':THREE[_0x536f('0x4a9')]});}},{'key':_0x536f('0x4cc'),'value':function(_0x11b307){_0x11b307=(0x0,_0x1e6744[_0x536f('0x6')])(this[_0x536f('0x4cf')],_0x11b307);var _0x1e1ed0=this[_0x536f('0x4cd')][_0x536f('0x168')];_0x1e1ed0[_0x536f('0x4d0')][_0x536f('0x10')]=_0x11b307[_0x536f('0x4d0')],_0x1e1ed0[_0x536f('0x4d1')]['value']=_0x11b307[_0x536f('0x4d1')],_0x1e1ed0[_0x536f('0x4d2')]['value']=_0x11b307[_0x536f('0x4d2')],_0x1e1ed0['mieCoefficient'][_0x536f('0x10')]=_0x11b307['mieCoefficient'],_0x1e1ed0[_0x536f('0x4d3')][_0x536f('0x10')]=_0x11b307[_0x536f('0x4d3')],_0x1e1ed0[_0x536f('0x49a')][_0x536f('0x10')]=_0x11b307[_0x536f('0x49a')];}},{'key':_0x536f('0x4d4'),'value':function(){this[_0x536f('0x4d5')]['x']=0xa*Math['sin'](this[_0x536f('0x4d6')]*Math['PI']/0xb4)*Math['cos'](this[_0x536f('0x4c9')]*Math['PI']/0xb4),this[_0x536f('0x4d5')]['y']=0xa*Math[_0x536f('0x5a')](this[_0x536f('0x4c9')]*Math['PI']/0xb4),this['sunPosition']['z']=0xa*Math[_0x536f('0x5b')](this[_0x536f('0x4d6')]*Math['PI']/0xb4)*Math[_0x536f('0x5b')](this[_0x536f('0x4c9')]*Math['PI']/0xb4),this['skyMaterial'][_0x536f('0x168')][_0x536f('0x4d5')][_0x536f('0x10')][_0x536f('0x1bc')](this['sunPosition']),this[_0x536f('0x4cd')][_0x536f('0x168')][_0x536f('0x4d7')]['value']['copy'](this[_0x536f('0x342')][_0x536f('0x3b')]);}},{'key':'update','value':function(){this[_0x536f('0x356')][_0x536f('0x3b')][_0x536f('0x1bc')](this[_0x536f('0x342')]['position']),this[_0x536f('0x4d4')]();}},{'key':_0x536f('0xcd'),'value':function(){_0x5cbdb4[_0x536f('0x6')][_0x536f('0x367')](this[_0x536f('0x356')]),this[_0x536f('0x356')]=null,this[_0x536f('0x1e5')]=null,this[_0x536f('0x4cd')]=null,this[_0x536f('0x4c8')]=null;}}]),_0x1e1ed0[_0x536f('0x6')]=_0x1fed51;},function(_0x14ef53,_0x5a49fe,_0x207531){'use strict';Object[_0x536f('0x1')](_0x5a49fe,_0x536f('0x4'),{'value':!0x0}),_0x5a49fe['default']={'uniforms':{'luminance':{'value':0x1},'turbidity':{'value':0x2},'rayleigh':{'value':0x1},'mieCoefficient':{'value':0.005},'mieDirectionalG':{'value':0.8},'sunPosition':{'value':new THREE[(_0x536f('0x59'))]()},'cameraPos':{'value':new THREE[(_0x536f('0x59'))]()},'isCullGround':{'value':!0x1}},'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20sunPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rayleigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20turbidity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20e\x20=\x202.71828182845904523536028747135266249775724709369995957;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20lambda\x20=\x20vec3(\x20680E-9,\x20550E-9,\x20450E-9\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20totalRayleigh\x20=\x20vec3(\x205.804542996261093E-6,\x201.3562911419845635E-5,\x203.0265902468824876E-5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20v\x20=\x204.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20K\x20=\x20vec3(\x200.686,\x200.678,\x200.666\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20MieConst\x20=\x20vec3(\x201.8399918514433978E14,\x202.7798023919660528E14,\x204.0790479543861094E14\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20cutoffAngle\x20=\x201.6110731556870734;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20steepness\x20=\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20EE\x20=\x201000.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20sunIntensity(\x20float\x20zenithAngleCos\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20zenithAngleCos\x20=\x20clamp(\x20zenithAngleCos,\x20-1.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20EE\x20*\x20max(\x200.0,\x201.0\x20-\x20pow(\x20e,\x20-(\x20(\x20cutoffAngle\x20-\x20acos(\x20zenithAngleCos\x20)\x20)\x20/\x20steepness\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20totalMie(\x20float\x20T\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20(\x200.2\x20*\x20T\x20)\x20*\x2010E-18;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.434\x20*\x20c\x20*\x20MieConst;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunDirection\x20=\x20normalize(\x20sunPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunE\x20=\x20sunIntensity(\x20dot(\x20vSunDirection,\x20up\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunfade\x20=\x201.0\x20-\x20clamp(\x201.0\x20-\x20exp(\x20(\x20sunPosition.y\x20/\x20450000.0\x20)\x20),\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighCoefficient\x20=\x20rayleigh\x20-\x20(\x201.0\x20*\x20(\x201.0\x20-\x20vSunfade\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaR\x20=\x20totalRayleigh\x20*\x20rayleighCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaM\x20=\x20totalMie(\x20turbidity\x20)\x20*\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentShader':_0x536f('0x4d8')};},function(_0x16a0e3,_0x45fae,_0x583917){_0x583917(0xb7),_0x16a0e3[_0x536f('0x0')]=_0x583917(0x2)['Math'][_0x536f('0x4d9')];},function(_0x8039f5,_0x2fee48,_0x550709){var _0x3649d0=_0x550709(0x3);_0x3649d0(_0x3649d0['S'],_0x536f('0x19'),{'sign':_0x550709(0xb8)});},function(_0x480961,_0x1358c3){_0x480961[_0x536f('0x0')]=Math[_0x536f('0x4d9')]||function(_0x480961){return 0x0==(_0x480961=+_0x480961)||_0x480961!=_0x480961?_0x480961:_0x480961<0x0?-0x1:0x1;};},function(_0x57bf8c,_0x19314d,_0xcd2ebb){_0x57bf8c['exports']={'default':_0xcd2ebb(0xba),'__esModule':!0x0};},function(_0x2098fb,_0x1366b3,_0xff746a){_0xff746a(0xbb),_0x2098fb[_0x536f('0x0')]=_0xff746a(0x2)[_0x536f('0x19')]['log10'];},function(_0x2cdabd,_0x2afe92,_0x5573a8){_0x5573a8=_0x5573a8(0x3);_0x5573a8(_0x5573a8['S'],'Math',{'log10':function(_0x2cdabd){return Math[_0x536f('0x4da')](_0x2cdabd)*Math[_0x536f('0x4db')];}});},function(_0xf56173,_0xb73bef,_0x1c9763){var _0x3d2f2b=function(){return this;}()||Function(_0x536f('0x4dc'))(),_0x178c50=_0x3d2f2b[_0x536f('0x4dd')]&&0x0<=Object[_0x536f('0x2c3')](_0x3d2f2b)[_0x536f('0x4c')]('regeneratorRuntime'),_0x4e6887=_0x178c50&&_0x3d2f2b[_0x536f('0x4dd')];if(_0x3d2f2b[_0x536f('0x4dd')]=void 0x0,_0xf56173['exports']=_0x1c9763(0xbd),_0x178c50)_0x3d2f2b['regeneratorRuntime']=_0x4e6887;else try{delete _0x3d2f2b[_0x536f('0x4dd')];}catch(_0x4e7223){_0x3d2f2b['regeneratorRuntime']=void 0x0;}},function(_0x48d67d,_0x2077c2){!function(_0x2077c2){'use strict';var _0x141472,_0x12d017,_0x2b57a2,_0xf90cc3,_0x381cd7,_0x407421,_0x3fc19c,_0x4f4518=Object['prototype'],_0x4f3c25=_0x4f4518['hasOwnProperty'],_0x569f21=_0x536f('0x15')==typeof Symbol?Symbol:{},_0x810d0f=_0x569f21[_0x536f('0x8f')]||'@@iterator',_0x543784=_0x569f21[_0x536f('0x2c5')]||_0x536f('0x4de'),_0x2e578a=_0x569f21[_0x536f('0x2')]||_0x536f('0x4df'),_0x569f21=_0x536f('0x1c')==typeof _0x48d67d,_0x131324=_0x2077c2[_0x536f('0x4dd')];function _0x49d321(_0x2077c2,_0x3fc19c,_0x4f4518,_0x569f21){var _0x810d0f,_0x543784,_0x2e578a,_0x131324,_0x3fc19c=_0x3fc19c&&_0x3fc19c['prototype']instanceof _0x1484e1?_0x3fc19c:_0x1484e1,_0x3fc19c=Object[_0x536f('0x5')](_0x3fc19c['prototype']),_0x569f21=new _0x1a3065(_0x569f21||[]);return _0x3fc19c[_0x536f('0x4e0')]=(_0x810d0f=_0x2077c2,_0x543784=_0x4f4518,_0x2e578a=_0x569f21,_0x131324=_0x12d017,function(_0x2077c2,_0x3fc19c){if(_0x131324===_0xf90cc3)throw new Error(_0x536f('0x4e1'));if(_0x131324===_0x381cd7){if('throw'===_0x2077c2)throw _0x3fc19c;return _0x3f854e();}for(_0x2e578a[_0x536f('0x4e2')]=_0x2077c2,_0x2e578a['arg']=_0x3fc19c;;){var _0x4f4518=_0x2e578a[_0x536f('0x4e3')];if(_0x4f4518){_0x4f4518=function _0x2077c2(_0x3fc19c,_0x4f4518){var _0x569f21=_0x3fc19c[_0x536f('0x8f')][_0x4f4518['method']];if(_0x569f21===_0x141472){if(_0x4f4518[_0x536f('0x4e3')]=null,_0x536f('0x416')===_0x4f4518['method']){if(_0x3fc19c['iterator'][_0x536f('0x265')]&&(_0x4f4518['method']='return',_0x4f4518[_0x536f('0x4e4')]=_0x141472,_0x2077c2(_0x3fc19c,_0x4f4518),_0x536f('0x416')===_0x4f4518['method']))return _0x407421;_0x4f4518[_0x536f('0x4e2')]=_0x536f('0x416'),_0x4f4518[_0x536f('0x4e4')]=new TypeError(_0x536f('0x4e5'));}return _0x407421;}_0x569f21=_0x4c6b30(_0x569f21,_0x3fc19c['iterator'],_0x4f4518[_0x536f('0x4e4')]);if(_0x536f('0x416')===_0x569f21['type'])return _0x4f4518[_0x536f('0x4e2')]=_0x536f('0x416'),_0x4f4518[_0x536f('0x4e4')]=_0x569f21[_0x536f('0x4e4')],_0x4f4518['delegate']=null,_0x407421;_0x569f21=_0x569f21['arg'];return _0x569f21?_0x569f21['done']?(_0x4f4518[_0x3fc19c['resultName']]=_0x569f21[_0x536f('0x10')],_0x4f4518[_0x536f('0x79')]=_0x3fc19c[_0x536f('0x4e6')],_0x536f('0x265')!==_0x4f4518[_0x536f('0x4e2')]&&(_0x4f4518[_0x536f('0x4e2')]=_0x536f('0x79'),_0x4f4518[_0x536f('0x4e4')]=_0x141472),_0x4f4518[_0x536f('0x4e3')]=null,_0x407421):_0x569f21:(_0x4f4518['method']='throw',_0x4f4518[_0x536f('0x4e4')]=new TypeError(_0x536f('0x4e7')),_0x4f4518['delegate']=null,_0x407421);}(_0x4f4518,_0x2e578a);if(_0x4f4518){if(_0x4f4518===_0x407421)continue;return _0x4f4518;}}if('next'===_0x2e578a[_0x536f('0x4e2')])_0x2e578a[_0x536f('0x4e8')]=_0x2e578a[_0x536f('0x4e9')]=_0x2e578a[_0x536f('0x4e4')];else if(_0x536f('0x416')===_0x2e578a[_0x536f('0x4e2')]){if(_0x131324===_0x12d017)throw _0x131324=_0x381cd7,_0x2e578a['arg'];_0x2e578a[_0x536f('0x4ea')](_0x2e578a[_0x536f('0x4e4')]);}else'return'===_0x2e578a[_0x536f('0x4e2')]&&_0x2e578a[_0x536f('0x4eb')]('return',_0x2e578a[_0x536f('0x4e4')]);_0x131324=_0xf90cc3;_0x4f4518=_0x4c6b30(_0x810d0f,_0x543784,_0x2e578a);if('normal'===_0x4f4518[_0x536f('0x76')]){if(_0x131324=_0x2e578a[_0x536f('0x7a')]?_0x381cd7:_0x2b57a2,_0x4f4518[_0x536f('0x4e4')]!==_0x407421)return{'value':_0x4f4518[_0x536f('0x4e4')],'done':_0x2e578a['done']};}else _0x536f('0x416')===_0x4f4518[_0x536f('0x76')]&&(_0x131324=_0x381cd7,_0x2e578a[_0x536f('0x4e2')]='throw',_0x2e578a[_0x536f('0x4e4')]=_0x4f4518[_0x536f('0x4e4')]);}}),_0x3fc19c;}function _0x4c6b30(_0x2077c2,_0x3fc19c,_0x4f4518){try{return{'type':_0x536f('0x4ec'),'arg':_0x2077c2[_0x536f('0xa')](_0x3fc19c,_0x4f4518)};}catch(_0x7c8576){return{'type':_0x536f('0x416'),'arg':_0x7c8576};}}function _0x1484e1(){}function _0x4c0f4c(){}function _0x2b00e2(){}function _0x22d669(_0x2077c2){[_0x536f('0x79'),_0x536f('0x416'),'return'][_0x536f('0x2c8')](function(_0x3fc19c){_0x2077c2[_0x3fc19c]=function(_0x2077c2){return this[_0x536f('0x4e0')](_0x3fc19c,_0x2077c2);};});}function _0x4a709e(_0x2e578a){var _0x3fc19c;this[_0x536f('0x4e0')]=function(_0x4f4518,_0x569f21){function _0x2077c2(){return new Promise(function(_0x2077c2,_0x3fc19c){!function _0x3fc19c(_0x2077c2,_0x4f4518,_0x569f21,_0x810d0f){_0x2077c2=_0x4c6b30(_0x2e578a[_0x2077c2],_0x2e578a,_0x4f4518);if(_0x536f('0x416')===_0x2077c2['type'])_0x810d0f(_0x2077c2[_0x536f('0x4e4')]);else{var _0x543784=_0x2077c2['arg'],_0x4f4518=_0x543784[_0x536f('0x10')];if(_0x4f4518&&'object'==typeof _0x4f4518&&_0x4f3c25['call'](_0x4f4518,'__await'))return Promise[_0x536f('0x2d8')](_0x4f4518[_0x536f('0x4ed')])[_0x536f('0x398')](function(_0x2077c2){_0x3fc19c(_0x536f('0x79'),_0x2077c2,_0x569f21,_0x810d0f);},function(_0x2077c2){_0x3fc19c(_0x536f('0x416'),_0x2077c2,_0x569f21,_0x810d0f);});Promise[_0x536f('0x2d8')](_0x4f4518)['then'](function(_0x2077c2){_0x543784[_0x536f('0x10')]=_0x2077c2,_0x569f21(_0x543784);},_0x810d0f);}}(_0x4f4518,_0x569f21,_0x2077c2,_0x3fc19c);});}return _0x3fc19c=_0x3fc19c?_0x3fc19c[_0x536f('0x398')](_0x2077c2,_0x2077c2):_0x2077c2();};}function _0x258bf5(_0x2077c2){var _0x3fc19c={'tryLoc':_0x2077c2[0x0]};0x1 in _0x2077c2&&(_0x3fc19c[_0x536f('0x4ee')]=_0x2077c2[0x1]),0x2 in _0x2077c2&&(_0x3fc19c['finallyLoc']=_0x2077c2[0x2],_0x3fc19c[_0x536f('0x4ef')]=_0x2077c2[0x3]),this[_0x536f('0x4f0')][_0x536f('0x82')](_0x3fc19c);}function _0x472596(_0x2077c2){var _0x3fc19c=_0x2077c2[_0x536f('0x4f1')]||{};_0x3fc19c[_0x536f('0x76')]='normal',delete _0x3fc19c[_0x536f('0x4e4')],_0x2077c2['completion']=_0x3fc19c;}function _0x1a3065(_0x2077c2){this[_0x536f('0x4f0')]=[{'tryLoc':'root'}],_0x2077c2[_0x536f('0x2c8')](_0x258bf5,this),this['reset'](!0x0);}function _0x54c640(_0x3fc19c){if(_0x3fc19c){var _0x4f4518,_0x2077c2=_0x3fc19c[_0x810d0f];if(_0x2077c2)return _0x2077c2[_0x536f('0xa')](_0x3fc19c);if('function'==typeof _0x3fc19c['next'])return _0x3fc19c;if(!isNaN(_0x3fc19c[_0x536f('0xd')]))return _0x4f4518=-0x1,(_0x2077c2=function _0x2077c2(){for(;++_0x4f4518<_0x3fc19c['length'];)if(_0x4f3c25[_0x536f('0xa')](_0x3fc19c,_0x4f4518))return _0x2077c2[_0x536f('0x10')]=_0x3fc19c[_0x4f4518],_0x2077c2['done']=!0x1,_0x2077c2;return _0x2077c2[_0x536f('0x10')]=_0x141472,_0x2077c2[_0x536f('0x7a')]=!0x0,_0x2077c2;})['next']=_0x2077c2;}return{'next':_0x3f854e};}function _0x3f854e(){return{'value':_0x141472,'done':!0x0};}_0x131324?_0x569f21&&(_0x48d67d[_0x536f('0x0')]=_0x131324):((_0x131324=_0x2077c2[_0x536f('0x4dd')]=_0x569f21?_0x48d67d[_0x536f('0x0')]:{})[_0x536f('0x4f2')]=_0x49d321,_0x12d017='suspendedStart',_0x2b57a2=_0x536f('0x4f3'),_0xf90cc3='executing',_0x381cd7=_0x536f('0x4f4'),_0x407421={},(_0x2077c2={})[_0x810d0f]=function(){return this;},(_0x569f21=(_0x569f21=Object['getPrototypeOf'])&&_0x569f21(_0x569f21(_0x54c640([]))))&&_0x569f21!==_0x4f4518&&_0x4f3c25[_0x536f('0xa')](_0x569f21,_0x810d0f)&&(_0x2077c2=_0x569f21),_0x3fc19c=_0x2b00e2['prototype']=_0x1484e1[_0x536f('0x8')]=Object['create'](_0x2077c2),(_0x4c0f4c[_0x536f('0x8')]=_0x3fc19c[_0x536f('0x7d')]=_0x2b00e2)[_0x536f('0x7d')]=_0x4c0f4c,_0x2b00e2[_0x2e578a]=_0x4c0f4c['displayName']=_0x536f('0x4f5'),_0x131324[_0x536f('0x4f6')]=function(_0x2077c2){_0x2077c2='function'==typeof _0x2077c2&&_0x2077c2[_0x536f('0x7d')];return!!_0x2077c2&&(_0x2077c2===_0x4c0f4c||'GeneratorFunction'===(_0x2077c2[_0x536f('0x4f7')]||_0x2077c2[_0x536f('0x92')]));},_0x131324['mark']=function(_0x2077c2){return Object[_0x536f('0x331')]?Object[_0x536f('0x331')](_0x2077c2,_0x2b00e2):(_0x2077c2[_0x536f('0x66')]=_0x2b00e2,_0x2e578a in _0x2077c2||(_0x2077c2[_0x2e578a]=_0x536f('0x4f5'))),_0x2077c2[_0x536f('0x8')]=Object[_0x536f('0x5')](_0x3fc19c),_0x2077c2;},_0x131324['awrap']=function(_0x2077c2){return{'__await':_0x2077c2};},_0x22d669(_0x4a709e[_0x536f('0x8')]),_0x4a709e[_0x536f('0x8')][_0x543784]=function(){return this;},_0x131324[_0x536f('0x4f8')]=_0x4a709e,_0x131324[_0x536f('0x4f9')]=function(_0x2077c2,_0x3fc19c,_0x4f4518,_0x569f21){var _0x810d0f=new _0x4a709e(_0x49d321(_0x2077c2,_0x3fc19c,_0x4f4518,_0x569f21));return _0x131324[_0x536f('0x4f6')](_0x3fc19c)?_0x810d0f:_0x810d0f['next']()['then'](function(_0x2077c2){return _0x2077c2[_0x536f('0x7a')]?_0x2077c2[_0x536f('0x10')]:_0x810d0f[_0x536f('0x79')]();});},_0x22d669(_0x3fc19c),_0x3fc19c[_0x2e578a]='Generator',_0x3fc19c[_0x810d0f]=function(){return this;},_0x3fc19c[_0x536f('0x8d')]=function(){return _0x536f('0x4fa');},_0x131324[_0x536f('0x5e')]=function(_0x4f4518){var _0x2077c2,_0x569f21=[];for(_0x2077c2 in _0x4f4518)_0x569f21[_0x536f('0x82')](_0x2077c2);return _0x569f21[_0x536f('0x4fb')](),function _0x2077c2(){for(;_0x569f21[_0x536f('0xd')];){var _0x3fc19c=_0x569f21[_0x536f('0x4fc')]();if(_0x3fc19c in _0x4f4518)return _0x2077c2[_0x536f('0x10')]=_0x3fc19c,_0x2077c2[_0x536f('0x7a')]=!0x1,_0x2077c2;}return _0x2077c2[_0x536f('0x7a')]=!0x0,_0x2077c2;};},_0x131324[_0x536f('0x90')]=_0x54c640,_0x1a3065[_0x536f('0x8')]={'constructor':_0x1a3065,'reset':function(_0x2077c2){if(this[_0x536f('0x4fd')]=0x0,this[_0x536f('0x79')]=0x0,this[_0x536f('0x4e8')]=this['_sent']=_0x141472,this[_0x536f('0x7a')]=!0x1,this[_0x536f('0x4e3')]=null,this[_0x536f('0x4e2')]=_0x536f('0x79'),this[_0x536f('0x4e4')]=_0x141472,this['tryEntries'][_0x536f('0x2c8')](_0x472596),!_0x2077c2)for(var _0x3fc19c in this)'t'===_0x3fc19c[_0x536f('0x4fe')](0x0)&&_0x4f3c25[_0x536f('0xa')](this,_0x3fc19c)&&!isNaN(+_0x3fc19c['slice'](0x1))&&(this[_0x3fc19c]=_0x141472);},'stop':function(){this['done']=!0x0;var _0x2077c2=this['tryEntries'][0x0][_0x536f('0x4f1')];if('throw'===_0x2077c2[_0x536f('0x76')])throw _0x2077c2[_0x536f('0x4e4')];return this[_0x536f('0x4ff')];},'dispatchException':function(_0x4f4518){if(this['done'])throw _0x4f4518;var _0x569f21=this;function _0x2077c2(_0x2077c2,_0x3fc19c){return _0x543784[_0x536f('0x76')]=_0x536f('0x416'),_0x543784['arg']=_0x4f4518,_0x569f21['next']=_0x2077c2,_0x3fc19c&&(_0x569f21[_0x536f('0x4e2')]=_0x536f('0x79'),_0x569f21[_0x536f('0x4e4')]=_0x141472),!!_0x3fc19c;}for(var _0x3fc19c=this[_0x536f('0x4f0')][_0x536f('0xd')]-0x1;0x0<=_0x3fc19c;--_0x3fc19c){var _0x810d0f=this[_0x536f('0x4f0')][_0x3fc19c],_0x543784=_0x810d0f[_0x536f('0x4f1')];if('root'===_0x810d0f[_0x536f('0x500')])return _0x2077c2(_0x536f('0x45c'));if(_0x810d0f[_0x536f('0x500')]<=this['prev']){var _0x2e578a=_0x4f3c25[_0x536f('0xa')](_0x810d0f,'catchLoc'),_0x131324=_0x4f3c25[_0x536f('0xa')](_0x810d0f,_0x536f('0x501'));if(_0x2e578a&&_0x131324){if(this[_0x536f('0x4fd')]<_0x810d0f[_0x536f('0x4ee')])return _0x2077c2(_0x810d0f[_0x536f('0x4ee')],!0x0);if(this[_0x536f('0x4fd')]<_0x810d0f[_0x536f('0x501')])return _0x2077c2(_0x810d0f[_0x536f('0x501')]);}else if(_0x2e578a){if(this[_0x536f('0x4fd')]<_0x810d0f[_0x536f('0x4ee')])return _0x2077c2(_0x810d0f[_0x536f('0x4ee')],!0x0);}else{if(!_0x131324)throw new Error(_0x536f('0x502'));if(this[_0x536f('0x4fd')]<_0x810d0f[_0x536f('0x501')])return _0x2077c2(_0x810d0f['finallyLoc']);}}}},'abrupt':function(_0x2077c2,_0x3fc19c){for(var _0x4f4518=this['tryEntries'][_0x536f('0xd')]-0x1;0x0<=_0x4f4518;--_0x4f4518){var _0x569f21=this[_0x536f('0x4f0')][_0x4f4518];if(_0x569f21[_0x536f('0x500')]<=this[_0x536f('0x4fd')]&&_0x4f3c25[_0x536f('0xa')](_0x569f21,_0x536f('0x501'))&&this[_0x536f('0x4fd')]<_0x569f21[_0x536f('0x501')]){var _0x810d0f=_0x569f21;break;}}var _0x543784=(_0x810d0f=_0x810d0f&&('break'===_0x2077c2||_0x536f('0x503')===_0x2077c2)&&_0x810d0f[_0x536f('0x500')]<=_0x3fc19c&&_0x3fc19c<=_0x810d0f[_0x536f('0x501')]?null:_0x810d0f)?_0x810d0f[_0x536f('0x4f1')]:{};return _0x543784[_0x536f('0x76')]=_0x2077c2,_0x543784['arg']=_0x3fc19c,_0x810d0f?(this[_0x536f('0x4e2')]=_0x536f('0x79'),this[_0x536f('0x79')]=_0x810d0f[_0x536f('0x501')],_0x407421):this['complete'](_0x543784);},'complete':function(_0x2077c2,_0x3fc19c){if(_0x536f('0x416')===_0x2077c2[_0x536f('0x76')])throw _0x2077c2[_0x536f('0x4e4')];return _0x536f('0x504')===_0x2077c2[_0x536f('0x76')]||_0x536f('0x503')===_0x2077c2['type']?this[_0x536f('0x79')]=_0x2077c2[_0x536f('0x4e4')]:_0x536f('0x265')===_0x2077c2['type']?(this[_0x536f('0x4ff')]=this[_0x536f('0x4e4')]=_0x2077c2['arg'],this['method']=_0x536f('0x265'),this[_0x536f('0x79')]=_0x536f('0x45c')):_0x536f('0x4ec')===_0x2077c2[_0x536f('0x76')]&&_0x3fc19c&&(this[_0x536f('0x79')]=_0x3fc19c),_0x407421;},'finish':function(_0x2077c2){for(var _0x3fc19c=this[_0x536f('0x4f0')]['length']-0x1;0x0<=_0x3fc19c;--_0x3fc19c){var _0x4f4518=this['tryEntries'][_0x3fc19c];if(_0x4f4518[_0x536f('0x501')]===_0x2077c2)return this[_0x536f('0x30e')](_0x4f4518[_0x536f('0x4f1')],_0x4f4518[_0x536f('0x4ef')]),_0x472596(_0x4f4518),_0x407421;}},'catch':function(_0x2077c2){for(var _0x3fc19c=this[_0x536f('0x4f0')][_0x536f('0xd')]-0x1;0x0<=_0x3fc19c;--_0x3fc19c){var _0x4f4518,_0x569f21,_0x810d0f=this[_0x536f('0x4f0')][_0x3fc19c];if(_0x810d0f[_0x536f('0x500')]===_0x2077c2)return _0x536f('0x416')===(_0x4f4518=_0x810d0f[_0x536f('0x4f1')])['type']&&(_0x569f21=_0x4f4518['arg'],_0x472596(_0x810d0f)),_0x569f21;}throw new Error('illegal\x20catch\x20attempt');},'delegateYield':function(_0x2077c2,_0x3fc19c,_0x4f4518){return this[_0x536f('0x4e3')]={'iterator':_0x54c640(_0x2077c2),'resultName':_0x3fc19c,'nextLoc':_0x4f4518},_0x536f('0x79')===this[_0x536f('0x4e2')]&&(this[_0x536f('0x4e4')]=_0x141472),_0x407421;}});}(function(){return this;}()||Function('return\x20this')());},function(_0x364ef0,_0x28bec2,_0x500b7c){'use strict';function _0x4d2ebc(_0x364ef0,_0x28bec2){return this[_0x536f('0x505')]=[],this[_0x536f('0x506')](_0x364ef0,_0x28bec2),this;}Object['defineProperty'](_0x28bec2,'__esModule',{'value':!0x0});var _0x2442e5={'rainbow':[[0x0,0xff],[0.2,0xffff],[0.5,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'rainbow_alpha':[[0x0,0x0],[0.2,0xff],[0.4,0xffff],[0.6,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'cooltowarm':[[0x0,0x3c4ec2],[0.2,0x9bbcff],[0.5,0xdcdcdc],[0.8,0xf6a385],[0x1,0xb40426]],'blackbody':[[0x0,0x0],[0.2,0x780000],[0.5,0xe63200],[0.8,0xffff00],[0x1,0xffffff]],'grayscale':[[0x0,0x0],[0.2,0x404040],[0.5,0x7f7f80],[0.8,0xbfbfbf],[0x1,0xffffff]],'seaground':[[0x0,0x3d8fb4],[0.2,0x449cc7],[0.5,0x70b9e1],[0.8,0xa8d5ef],[0x1,0xc8e9fc]]};_0x4d2ebc[_0x536f('0x8')]={'constructor':THREE[_0x536f('0x507')],'lut':[],'map':[],'n':0x100,'minV':0x0,'maxV':0x1,'set':function(_0x364ef0){return _0x364ef0 instanceof THREE[_0x536f('0x507')]&&this[_0x536f('0x1bc')](_0x364ef0),this;},'setMin':function(_0x364ef0){return this[_0x536f('0x508')]=_0x364ef0,this;},'setMax':function(_0x364ef0){return this['maxV']=_0x364ef0,this;},'setColorMap':function(_0x364ef0,_0x28bec2){this[_0x536f('0xcf')]=_0x2442e5[_0x364ef0]||_0x2442e5[_0x536f('0x509')],this['n']=_0x28bec2||0x20;for(var _0x500b7c=0x1/this['n'],_0x4d2ebc=this[_0x536f('0x505')][_0x536f('0xd')]=0x0;_0x4d2ebc<=0x1;_0x4d2ebc+=_0x500b7c)for(var _0x3400ab,_0x300cef,_0x2beb3b,_0xef3f21,_0x4dadfe=0x0;_0x4dadfe<this[_0x536f('0xcf')][_0x536f('0xd')]-0x1;_0x4dadfe++)_0x4d2ebc>=this['map'][_0x4dadfe][0x0]&&_0x4d2ebc<this[_0x536f('0xcf')][_0x4dadfe+0x1][0x0]&&(_0x3400ab=this['map'][_0x4dadfe][0x0],_0x300cef=this['map'][_0x4dadfe+0x1][0x0],_0xef3f21=new THREE[(_0x536f('0x1b8'))](this['map'][_0x4dadfe][0x1]),_0x2beb3b=new THREE[(_0x536f('0x1b8'))](this[_0x536f('0xcf')][_0x4dadfe+0x1][0x1]),_0xef3f21=_0xef3f21['lerp'](_0x2beb3b,(_0x4d2ebc-_0x3400ab)/(_0x300cef-_0x3400ab)),this[_0x536f('0x505')][_0x536f('0x82')](_0xef3f21));return this;},'copy':function(_0x364ef0){return this['lut']=_0x364ef0[_0x536f('0x505')],this[_0x536f('0xcf')]=_0x364ef0[_0x536f('0xcf')],this['n']=_0x364ef0['n'],this[_0x536f('0x508')]=_0x364ef0[_0x536f('0x508')],this[_0x536f('0x50a')]=_0x364ef0[_0x536f('0x50a')],this;},'getColor':function(_0x364ef0){_0x364ef0<=this[_0x536f('0x508')]?_0x364ef0=this['minV']:_0x364ef0>=this['maxV']&&(_0x364ef0=this[_0x536f('0x50a')]),_0x364ef0=(_0x364ef0-this[_0x536f('0x508')])/(this['maxV']-this[_0x536f('0x508')]);_0x364ef0=Math[_0x536f('0x1c0')](_0x364ef0*this['n']);return _0x364ef0==this['n']&&--_0x364ef0,this['lut'][_0x364ef0];},'addColorMap':function(_0x364ef0,_0x28bec2){_0x2442e5[_0x364ef0]=_0x28bec2;},'createCanvas':function(){var _0x364ef0=document[_0x536f('0x93')]('canvas');return _0x364ef0[_0x536f('0x366')]=0x1,_0x364ef0[_0x536f('0x339')]=this['n'],this[_0x536f('0x50b')](_0x364ef0),_0x364ef0;},'updateCanvas':function(_0x364ef0){for(var _0x28bec2=_0x364ef0['getContext']('2d',{'alpha':!0x1}),_0x500b7c=_0x28bec2[_0x536f('0x50c')](0x0,0x0,0x1,this['n']),_0x4d2ebc=_0x500b7c['data'],_0xe3765a=0x0,_0x5e4d9d=0x1/this['n'],_0xc32b3c=0x1;0x0<=_0xc32b3c;_0xc32b3c-=_0x5e4d9d)for(var _0x48b229,_0x357223,_0x2442e5,_0xb4af11,_0xc79c30=this[_0x536f('0xcf')]['length']-0x1;0x0<=_0xc79c30;_0xc79c30--)_0xc32b3c<this[_0x536f('0xcf')][_0xc79c30][0x0]&&_0xc32b3c>=this[_0x536f('0xcf')][_0xc79c30-0x1][0x0]&&(_0x48b229=this[_0x536f('0xcf')][_0xc79c30-0x1][0x0],_0x357223=this[_0x536f('0xcf')][_0xc79c30][0x0],_0xb4af11=new THREE[(_0x536f('0x1b8'))](this['map'][_0xc79c30-0x1][0x1]),_0x2442e5=new THREE['Color'](this[_0x536f('0xcf')][_0xc79c30][0x1]),_0xb4af11=_0xb4af11[_0x536f('0x1b6')](_0x2442e5,(_0xc32b3c-_0x48b229)/(_0x357223-_0x48b229)),_0x4d2ebc[0x4*_0xe3765a]=Math[_0x536f('0x1c0')](0xff*_0xb4af11['r']),_0x4d2ebc[0x4*_0xe3765a+0x1]=Math['round'](0xff*_0xb4af11['g']),_0x4d2ebc[0x4*_0xe3765a+0x2]=Math[_0x536f('0x1c0')](0xff*_0xb4af11['b']),_0x4d2ebc[0x4*_0xe3765a+0x3]=0xff,_0xe3765a+=0x1);return _0x28bec2['putImageData'](_0x500b7c,0x0,0x0),_0x364ef0;}},_0x28bec2['Lut']=_0x4d2ebc,_0x28bec2[_0x536f('0x50d')]=_0x2442e5;},function(_0x3df713,_0x4d74cd,_0x1868ec){'use strict';function _0x30115a(_0x3df713,_0x4d74cd){return this['lut']=[],this[_0x536f('0x506')](_0x3df713,_0x4d74cd),this;}Object[_0x536f('0x1')](_0x4d74cd,_0x536f('0x4'),{'value':!0x0});var _0x5a7099={'rainbow':[[0x0,0xff,0x0],[0.2,0xffff],[0.5,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'cooltowarm':[[0x0,0x3c4ec2],[0.2,0x9bbcff],[0.5,0xdcdcdc],[0.8,0xf6a385],[0x1,0xb40426]],'blackbody':[[0x0,0x0],[0.2,0x780000],[0.5,0xe63200],[0.8,0xffff00],[0x1,0xffffff]],'grayscale':[[0x0,0x0],[0.2,0x404040],[0.5,0x7f7f80],[0.8,0xbfbfbf],[0x1,0xffffff]],'seaground':[[0x0,0x3d8fb4],[0.2,0x449cc7],[0.5,0x70b9e1],[0.8,0xa8d5ef],[0x1,0xc8e9fc]]};_0x30115a[_0x536f('0x8')]={'constructor':THREE[_0x536f('0x50e')],'lut':[],'map':[],'n':0x100,'minV':0x0,'maxV':0x1,'set':function(_0x3df713){return _0x3df713 instanceof THREE['LutAlpha']&&this[_0x536f('0x1bc')](_0x3df713),this;},'setMin':function(_0x3df713){return this[_0x536f('0x508')]=_0x3df713,this;},'setMax':function(_0x3df713){return this[_0x536f('0x50a')]=_0x3df713,this;},'setColorMap':function(_0x3df713,_0x4d74cd){this[_0x536f('0xcf')]=_0x5a7099[_0x3df713]||_0x5a7099[_0x536f('0x509')],this['n']=_0x4d74cd||0x20;for(var _0x1868ec=0x1/this['n'],_0x30115a=this[_0x536f('0x505')][_0x536f('0xd')]=0x0;_0x30115a<=0x1;_0x30115a+=_0x1868ec)for(var _0x18bc26,_0x2ecef5,_0x1a7f8f,_0x3046be,_0x2fc1fb,_0xc1fc84=0x0;_0xc1fc84<this[_0x536f('0xcf')]['length']-0x1;_0xc1fc84++)_0x30115a>=this['map'][_0xc1fc84][0x0]&&_0x30115a<this[_0x536f('0xcf')][_0xc1fc84+0x1][0x0]&&(_0x18bc26=this[_0x536f('0xcf')][_0xc1fc84][0x0],_0x2ecef5=this['map'][_0xc1fc84+0x1][0x0],_0x1a7f8f=0x1,void 0x0!==this[_0x536f('0xcf')][_0xc1fc84][0x2]&&(_0x1a7f8f=this[_0x536f('0xcf')][_0xc1fc84][0x2]),_0x3046be=new THREE['Color'](this[_0x536f('0xcf')][_0xc1fc84][0x1]),_0x2fc1fb=new THREE[(_0x536f('0x1b8'))](this[_0x536f('0xcf')][_0xc1fc84+0x1][0x1]),_0x3046be=_0x3046be['lerp'](_0x2fc1fb,(_0x30115a-_0x18bc26)/(_0x2ecef5-_0x18bc26)),_0x2fc1fb=new THREE[(_0x536f('0x1b7'))](_0x3046be['r'],_0x3046be['g'],_0x3046be['b'],_0x1a7f8f),this[_0x536f('0x505')]['push'](_0x2fc1fb));return this;},'copy':function(_0x3df713){return this[_0x536f('0x505')]=_0x3df713[_0x536f('0x505')],this[_0x536f('0xcf')]=_0x3df713['map'],this['n']=_0x3df713['n'],this[_0x536f('0x508')]=_0x3df713[_0x536f('0x508')],this[_0x536f('0x50a')]=_0x3df713[_0x536f('0x50a')],this;},'getColor':function(_0x3df713){_0x3df713<=this[_0x536f('0x508')]?_0x3df713=this[_0x536f('0x508')]:_0x3df713>=this[_0x536f('0x50a')]&&(_0x3df713=this['maxV']),_0x3df713=(_0x3df713-this[_0x536f('0x508')])/(this[_0x536f('0x50a')]-this[_0x536f('0x508')]);_0x3df713=Math[_0x536f('0x1c0')](_0x3df713*this['n']);return _0x3df713==this['n']&&--_0x3df713,this[_0x536f('0x505')][_0x3df713];},'addColorMap':function(_0x3df713,_0x4d74cd){_0x5a7099[_0x3df713]=_0x4d74cd;}},_0x4d74cd[_0x536f('0x50e')]=_0x30115a,_0x4d74cd[_0x536f('0x50d')]=_0x5a7099;},,,,,,,,,,,,function(_0x3d1c5c,_0x464aef,_0x166a9c){'use strict';var _0xf35c21,_0x549b3f=_0x3ba55e(_0x166a9c(0x4)),_0x5d61ae=(_0x166a9c(0xcc),_0x166a9c(0xcd),_0x166a9c(0x11)),_0x23f2ae=_0x3ba55e(_0x166a9c(0xce)),_0x4c34d3=_0x3ba55e(_0x166a9c(0xcf)),_0xc9a52f=_0x166a9c(0xbf),_0x4c0533=_0x166a9c(0x4e),_0x166a9c=_0x3ba55e(_0x166a9c(0x106));function _0x3ba55e(_0x3d1c5c){return _0x3d1c5c&&_0x3d1c5c['__esModule']?_0x3d1c5c:{'default':_0x3d1c5c};}if(!esmap)throw new Error(_0x536f('0x50f'));for(_0xf35c21 in esmap['ESLayerType']['EFFECT_MARKER']=_0x536f('0x510'),esmap[_0x536f('0x511')][_0x536f('0x512')]=_0x536f('0x510'),esmap[_0x536f('0x2a4')]={},_0x4c0533[_0x536f('0x2a4')])esmap[_0x536f('0x2a4')][_0xf35c21]=_0x4c0533[_0x536f('0x2a4')][_0xf35c21];esmap['effects']=!0x0,esmap[_0x536f('0x4e')]={'init':_0x166a9c[_0x536f('0x6')][_0x536f('0x37d')],'isExecuteInit':!0x1,'EffectLayer':_0x23f2ae[_0x536f('0x6')],'EffectMarker':_0x4c34d3['default'],'markers':_0x166a9c['default'][_0x536f('0x513')],'lines':_0x166a9c['default'][_0x536f('0x514')],'buildings':_0x166a9c['default'][_0x536f('0x515')],'floors':_0x166a9c[_0x536f('0x6')][_0x536f('0x516')],'ground':_0x166a9c['default'][_0x536f('0x517')],'lights':_0x166a9c[_0x536f('0x6')][_0x536f('0x518')],'models':_0x166a9c[_0x536f('0x6')][_0x536f('0x519')],'routes':_0x166a9c[_0x536f('0x6')][_0x536f('0x51a')],'skybox':_0x166a9c[_0x536f('0x6')][_0x536f('0x51b')],'water':_0x166a9c[_0x536f('0x6')]['water'],'video':_0x166a9c['default']['video'],'heatMap':_0x166a9c[_0x536f('0x6')]['heatMap'],'screenEffect':_0x166a9c[_0x536f('0x6')]['screenEffect'],'switchEffectTheme':_0x166a9c[_0x536f('0x6')][_0x536f('0x51c')],'switchEffectLight':_0x166a9c[_0x536f('0x6')][_0x536f('0x51d')],'clearAll':_0x166a9c[_0x536f('0x6')][_0x536f('0x51e')],'LutAlpha':_0xc9a52f['LutAlpha'],'addLayerToMap':function(_0x3d1c5c,_0x464aef,_0x166a9c){if(esmap[_0x536f('0x4e')][_0x536f('0x51f')]){if(!(0x0,_0x5d61ae[_0x536f('0x2d')])()[_0x536f('0x48e')][_0x536f('0x489')])throw new Error(_0x536f('0x520'));var _0xf35c21;(0x0,_0x5d61ae[_0x536f('0x30')])()?((_0xf35c21=(0x0,_0x5d61ae[_0x536f('0x2c')])(_0x464aef||0x0))[_0x536f('0x521')](_0x166a9c||0x1),(_0xf35c21=_0xf35c21[_0x536f('0x522')](_0x166a9c||0x1))[_0x536f('0x523')]||(_0xf35c21[_0x536f('0x523')]=[]),_0xf35c21[_0x536f('0x523')]['push'](_0x3d1c5c),_0x3d1c5c[_0x536f('0x524')]=_0xf35c21['FloorNum'],_0xf35c21[_0x536f('0x525')][_0x536f('0x1c3')](_0x3d1c5c[_0x536f('0x525')])):((_0x166a9c=(0x0,_0x5d61ae[_0x536f('0x2c')])())[_0x536f('0x521')](_0x464aef||0x1),(_0xf35c21=_0x166a9c[_0x536f('0x522')](_0x464aef||0x1))[_0x536f('0x523')]||(_0xf35c21[_0x536f('0x523')]=[]),_0xf35c21[_0x536f('0x523')][_0x536f('0x82')](_0x3d1c5c),_0x3d1c5c['FloorNum']=_0xf35c21[_0x536f('0x524')],_0xf35c21[_0x536f('0x525')]['add'](_0x3d1c5c[_0x536f('0x525')]));}else console[_0x536f('0xdc')](_0x536f('0x526'));},'addLayer':function(_0x3d1c5c){var _0x464aef,_0x166a9c=0x1<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x1]?arguments[0x1]:{};if(esmap['ESEffectTool'][_0x536f('0x51f')]){if(!(0x0,_0x5d61ae[_0x536f('0x2d')])()['mapView'][_0x536f('0x489')])throw new Error(_0x536f('0x520'));(0x0,_0x5d61ae[_0x536f('0x30')])()?((_0x464aef=(0x0,_0x5d61ae[_0x536f('0x2c')])(_0x166a9c['bid']||0x0))[_0x536f('0x521')](_0x166a9c[_0x536f('0x304')]||0x1),(_0x464aef=_0x464aef[_0x536f('0x522')](_0x166a9c[_0x536f('0x304')]||0x1))[_0x536f('0x523')]||(_0x464aef['_effectLayers']=[]),_0x464aef[_0x536f('0x523')]['push'](_0x3d1c5c),_0x3d1c5c[_0x536f('0x524')]=_0x464aef['FloorNum'],_0x464aef[_0x536f('0x525')][_0x536f('0x1c3')](_0x3d1c5c[_0x536f('0x525')])):((_0x464aef=(0x0,_0x5d61ae[_0x536f('0x2c')])()[_0x536f('0x522')](_0x166a9c[_0x536f('0x304')]||0x1))[_0x536f('0x523')]||(_0x464aef[_0x536f('0x523')]=[]),_0x464aef[_0x536f('0x523')][_0x536f('0x82')](_0x3d1c5c),_0x3d1c5c[_0x536f('0x524')]=_0x464aef[_0x536f('0x524')],_0x464aef[_0x536f('0x525')]['add'](_0x3d1c5c[_0x536f('0x525')]));}else console[_0x536f('0xdc')](_0x536f('0x526'));},'removeLayer':function(_0x3d1c5c){_0x3d1c5c[_0x536f('0xcd')]();},'removeLayersByNames':function(_0x3d1c5c){var _0x3d1c5c=this['getLayersByNames'](_0x3d1c5c),_0x464aef=!0x0,_0x166a9c=!0x1,_0xf35c21=void 0x0;try{for(var _0x23f2ae,_0x4c34d3=(0x0,_0x549b3f[_0x536f('0x6')])(_0x3d1c5c);!(_0x464aef=(_0x23f2ae=_0x4c34d3[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x464aef=!0x0){var _0xc9a52f=_0x23f2ae[_0x536f('0x10')];this[_0x536f('0x527')](_0xc9a52f);}}catch(_0x1ac9e0){_0x166a9c=!0x0,_0xf35c21=_0x1ac9e0;}finally{try{!_0x464aef&&_0x4c34d3[_0x536f('0x265')]&&_0x4c34d3[_0x536f('0x265')]();}finally{if(_0x166a9c)throw _0xf35c21;}}},'getLayersByNames':function(_0x3d1c5c){if(Array[_0x536f('0x1ab')](_0x3d1c5c)&&0x0<_0x3d1c5c['length']){var _0x464aef=[],_0x166a9c=(0x0,_0x5d61ae[_0x536f('0x2d')])();if((0x0,_0x5d61ae['checkIsCityEngine'])()){var _0xf35c21=(0x0,_0x5d61ae[_0x536f('0x2c')])(0x0)[_0x536f('0x522')](0x1),_0x23f2ae=!0x0,_0x4c34d3=!0x1,_0xc9a52f=void 0x0;try{for(var _0x4c0533,_0x3ba55e=(0x0,_0x549b3f['default'])(_0xf35c21[_0x536f('0x523')]);!(_0x23f2ae=(_0x4c0533=_0x3ba55e[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x23f2ae=!0x0){var _0x2e1092=_0x4c0533[_0x536f('0x10')];-0x1<_0x3d1c5c[_0x536f('0x4c')](_0x2e1092[_0x536f('0x92')])&&_0x464aef[_0x536f('0x82')](_0x2e1092);}}catch(_0x440b57){_0x4c34d3=!0x0,_0xc9a52f=_0x440b57;}finally{try{!_0x23f2ae&&_0x3ba55e[_0x536f('0x265')]&&_0x3ba55e[_0x536f('0x265')]();}finally{if(_0x4c34d3)throw _0xc9a52f;}}for(var _0x3cf00d=_0x166a9c[_0x536f('0x528')],_0x28b079=0x0;_0x28b079<_0x3cf00d[_0x536f('0xd')];_0x28b079++){var _0xfc88f7=!0x0,_0x559f38=!0x1,_0x26b035=void 0x0;try{for(var _0x31df92,_0x2faf9f=(0x0,_0x549b3f[_0x536f('0x6')])(_0x3cf00d[_0x28b079]['floorNums']);!(_0xfc88f7=(_0x31df92=_0x2faf9f['next']())[_0x536f('0x7a')]);_0xfc88f7=!0x0){var _0x13ea17=_0x31df92[_0x536f('0x10')],_0x132f78=_0x3cf00d[_0x28b079][_0x536f('0x522')](_0x13ea17);if(_0x132f78['_effectLayers']){var _0x9d033c=!0x0,_0x5c05aa=!0x1,_0x5042a7=void 0x0;try{for(var _0x35b21e,_0xc82218=(0x0,_0x549b3f[_0x536f('0x6')])(_0x132f78['_effectLayers']);!(_0x9d033c=(_0x35b21e=_0xc82218[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x9d033c=!0x0){var _0x49577a=_0x35b21e[_0x536f('0x10')];-0x1<_0x3d1c5c['indexOf'](_0x49577a[_0x536f('0x92')])&&_0x464aef[_0x536f('0x82')](_0x49577a);}}catch(_0x3c2d1a){_0x5c05aa=!0x0,_0x5042a7=_0x3c2d1a;}finally{try{!_0x9d033c&&_0xc82218[_0x536f('0x265')]&&_0xc82218['return']();}finally{if(_0x5c05aa)throw _0x5042a7;}}}}}catch(_0x4d7863){_0x559f38=!0x0,_0x26b035=_0x4d7863;}finally{try{!_0xfc88f7&&_0x2faf9f[_0x536f('0x265')]&&_0x2faf9f[_0x536f('0x265')]();}finally{if(_0x559f38)throw _0x26b035;}}}}else{var _0x4c63d3=(0x0,_0x5d61ae[_0x536f('0x2c')])(),_0x41374e=!0x0,_0xf35c21=!0x1,_0x4c34d3=void 0x0;try{for(var _0x20a23b,_0x4968ee=(0x0,_0x549b3f[_0x536f('0x6')])(_0x4c63d3['floorNums']);!(_0x41374e=(_0x20a23b=_0x4968ee['next']())[_0x536f('0x7a')]);_0x41374e=!0x0){var _0x110859=_0x20a23b[_0x536f('0x10')],_0x1ffb07=_0x4c63d3['getFloor'](_0x110859);if(_0x1ffb07[_0x536f('0x523')]){var _0x3ce55f=!0x0,_0x5e87a2=!0x1,_0x35c98=void 0x0;try{for(var _0x3555f9,_0x4ef903=(0x0,_0x549b3f[_0x536f('0x6')])(_0x1ffb07[_0x536f('0x523')]);!(_0x3ce55f=(_0x3555f9=_0x4ef903['next']())[_0x536f('0x7a')]);_0x3ce55f=!0x0){var _0x705186=_0x3555f9['value'];-0x1<_0x3d1c5c[_0x536f('0x4c')](_0x705186[_0x536f('0x92')])&&_0x464aef[_0x536f('0x82')](_0x705186);}}catch(_0xce7a35){_0x5e87a2=!0x0,_0x35c98=_0xce7a35;}finally{try{!_0x3ce55f&&_0x4ef903[_0x536f('0x265')]&&_0x4ef903[_0x536f('0x265')]();}finally{if(_0x5e87a2)throw _0x35c98;}}}}}catch(_0x26802e){_0xf35c21=!0x0,_0x4c34d3=_0x26802e;}finally{try{!_0x41374e&&_0x4968ee[_0x536f('0x265')]&&_0x4968ee['return']();}finally{if(_0xf35c21)throw _0x4c34d3;}}}return _0x464aef;}}};},function(_0x12676a,_0xbb6c31,_0x2f17ee){'use strict';var _0xae00de,_0x35d344,_0xc55508,_0x5446c9=_0x4fbf28(_0x2f17ee(0x50)),_0x34e603=_0x4fbf28(_0x2f17ee(0x1f));function _0x4fbf28(_0x12676a){return _0x12676a&&_0x12676a[_0x536f('0x4')]?_0x12676a:{'default':_0x12676a};}function _0x2a0ffe(_0x12676a){if(this instanceof _0x2a0ffe)throw new TypeError(_0x536f('0x529'));var _0x12676a=void 0x0===_0x12676a?void 0x0:String(_0x12676a),_0xbb6c31=(0x0,_0x34e603[_0x536f('0x6')])({'toString':function(){return this[_0x536f('0x52a')];},'valueOf':function(){return this;}});return(0x0,_0x5446c9[_0x536f('0x6')])(_0xbb6c31,{'__Description__':{'value':_0x12676a,'writable':!0x1,'enumerable':!0x1,'configurable':!0x1},'__Name__':{'value':_0x35d344(_0x12676a),'writable':!0x1,'enumerable':!0x1,'configurable':!0x1}}),_0xbb6c31;}_0x2f17ee=window,_0x35d344=function(_0x12676a){return'@@'+_0x12676a+'_'+ ++_0xae00de;},_0xc55508={},(_0xae00de=0x0,_0x5446c9[_0x536f('0x6')])(_0x2a0ffe,{'for':{'value':function(_0x12676a){_0x12676a=void 0x0===_0x12676a?void 0x0:String(_0x12676a);return _0xc55508[_0x12676a]||(_0xc55508[_0x12676a]=_0x2a0ffe(_0x12676a));},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0},'keyFor':{'value':function(_0x12676a){for(var _0xbb6c31 in _0xc55508)if(_0xc55508[_0xbb6c31]===_0x12676a)return _0xbb6c31;},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0}}),window['Symbol']||(_0x2f17ee['Symbol']=_0x2a0ffe);},function(_0x4ce8e4,_0x5887f8,_0x310aa7){'use strict';Array['prototype'][_0x536f('0x52b')]||Object[_0x536f('0x1')](Array['prototype'],_0x536f('0x52b'),{'value':function(_0x4ce8e4){if(null==this)throw new TypeError(_0x536f('0x52c'));for(var _0x5887f8=Object(this),_0x310aa7=_0x5887f8['length']>>>0x0,_0x34a581=arguments[0x1]>>0x0,_0x4c8e61=_0x34a581<0x0?Math[_0x536f('0x1af')](_0x310aa7+_0x34a581,0x0):Math[_0x536f('0x7f')](_0x34a581,_0x310aa7),_0x34a581=arguments[0x2],_0x34a581=void 0x0===_0x34a581?_0x310aa7:_0x34a581>>0x0,_0x328f58=_0x34a581<0x0?Math[_0x536f('0x1af')](_0x310aa7+_0x34a581,0x0):Math[_0x536f('0x7f')](_0x34a581,_0x310aa7);_0x4c8e61<_0x328f58;)_0x5887f8[_0x4c8e61]=_0x4ce8e4,_0x4c8e61++;return _0x5887f8;}});},function(_0x5cb46c,_0x16b819,_0x5576a1){'use strict';Object[_0x536f('0x1')](_0x16b819,'__esModule',{'value':!0x0});var _0x1fe948=_0x1acf9c(_0x5576a1(0x4)),_0xe3f426=_0x1acf9c(_0x5576a1(0x0)),_0xe985b0=_0x1acf9c(_0x5576a1(0x1)),_0x4b7643=_0x1acf9c(_0x5576a1(0x37));function _0x1acf9c(_0x5cb46c){return _0x5cb46c&&_0x5cb46c[_0x536f('0x4')]?_0x5cb46c:{'default':_0x5cb46c};}function _0x37ec54(_0x5cb46c,_0x16b819){(0x0,_0xe3f426[_0x536f('0x6')])(this,_0x37ec54),this['o3d_']=new THREE[(_0x536f('0x372'))](),(this[_0x536f('0x525')]['datas_']=this)[_0x536f('0x92')]=_0x5cb46c,this[_0x536f('0x76')]=_0x16b819,this[_0x536f('0x524')]=0x1,this[_0x536f('0x35c')]=[];}(0x0,_0xe985b0['default'])(_0x37ec54,[{'key':_0x536f('0x52d'),'value':function(_0x5cb46c){_0x5cb46c[_0x536f('0x525')]&&(this[_0x536f('0x525')][_0x536f('0x1c3')](_0x5cb46c[_0x536f('0x525')]),_0x5cb46c[_0x536f('0x32d')]({'type':_0x536f('0x493')}),this[_0x536f('0x35c')][_0x536f('0x82')](_0x5cb46c),_0x5cb46c[_0x536f('0x524')]=this['FloorNum'],esmap['ESEffectTool']['markers']&&esmap[_0x536f('0x4e')]['markers']['add'](_0x5cb46c));}},{'key':_0x536f('0xd1'),'value':function(_0x5cb46c){_0x5cb46c[_0x536f('0x525')]&&(esmap[_0x536f('0x4e')][_0x536f('0x513')]&&esmap[_0x536f('0x4e')][_0x536f('0x513')]['remove'](_0x5cb46c),_0x5cb46c[_0x536f('0xcd')]());}},{'key':_0x536f('0x52e'),'value':function(){if(0x0!==this['children']['length']){var _0x5cb46c=!0x0,_0x16b819=!0x1,_0x5576a1=void 0x0;try{for(var _0xe3f426,_0xe985b0=(0x0,_0x1fe948[_0x536f('0x6')])(this[_0x536f('0x35c')]);!(_0x5cb46c=(_0xe3f426=_0xe985b0[_0x536f('0x79')]())['done']);_0x5cb46c=!0x0){var _0x4b7643=_0xe3f426[_0x536f('0x10')];esmap[_0x536f('0x4e')][_0x536f('0x513')]&&esmap[_0x536f('0x4e')][_0x536f('0x513')][_0x536f('0xd1')](_0x4b7643),_0x4b7643[_0x536f('0xcd')](),_0x4b7643=null;}}catch(_0x67bcd5){_0x16b819=!0x0,_0x5576a1=_0x67bcd5;}finally{try{!_0x5cb46c&&_0xe985b0[_0x536f('0x265')]&&_0xe985b0[_0x536f('0x265')]();}finally{if(_0x16b819)throw _0x5576a1;}}this['children']['length']=0x0;}}},{'key':_0x536f('0xcd'),'value':function(){this[_0x536f('0x52e')](),_0x4b7643[_0x536f('0x6')]['disposeAll'](this[_0x536f('0x525')]);}},{'key':_0x536f('0x36c'),'set':function(_0x5cb46c){this[_0x536f('0x525')][_0x536f('0x36c')]=_0x5cb46c;},'get':function(){return this[_0x536f('0x525')][_0x536f('0x36c')];}}]),_0x16b819[_0x536f('0x6')]=_0x37ec54;},function(_0x3a4a51,_0x3d624c,_0x1cc7ed){'use strict';Object[_0x536f('0x1')](_0x3d624c,_0x536f('0x4'),{'value':!0x0});var _0x21e27a=_0x42fed8(_0x1cc7ed(0x29)),_0x73602f=_0x42fed8(_0x1cc7ed(0x20)),_0x4fa33f=_0x42fed8(_0x1cc7ed(0x17)),_0x538858=_0x42fed8(_0x1cc7ed(0x0)),_0x24f53a=_0x42fed8(_0x1cc7ed(0x1)),_0x25c8bc=_0x42fed8(_0x1cc7ed(0x1d)),_0x56525c=_0x42fed8(_0x1cc7ed(0x1e)),_0x3d537b=_0x42fed8(_0x1cc7ed(0x8f)),_0x51ef39=_0x42fed8(_0x1cc7ed(0x4)),_0xcd9e20=_0x42fed8(_0x1cc7ed(0x4a)),_0xcf1188=_0x1cc7ed(0x4e),_0xf9d5c4=function(_0x3a4a51){if(_0x3a4a51&&_0x3a4a51[_0x536f('0x4')])return _0x3a4a51;var _0x3d624c={};if(null!=_0x3a4a51)for(var _0x1cc7ed in _0x3a4a51)Object[_0x536f('0x8')][_0x536f('0x9')][_0x536f('0xa')](_0x3a4a51,_0x1cc7ed)&&(_0x3d624c[_0x1cc7ed]=_0x3a4a51[_0x1cc7ed]);return _0x3d624c[_0x536f('0x6')]=_0x3a4a51,_0x3d624c;}(_0x1cc7ed(0x32)),_0x58ebeb=_0x1cc7ed(0x104),_0x531322=_0x1cc7ed(0x24),_0x276e9d=_0x42fed8(_0x1cc7ed(0x40)),_0x4648c0=_0x42fed8(_0x1cc7ed(0x37)),_0x372a55=_0x1cc7ed(0x11),_0x5c91b7=_0x42fed8(_0x1cc7ed(0x105));function _0x42fed8(_0x3a4a51){return _0x3a4a51&&_0x3a4a51[_0x536f('0x4')]?_0x3a4a51:{'default':_0x3a4a51};}var _0x34eb52=(0x0,_0xcd9e20[_0x536f('0x6')])('marker'),_0x29c469=new _0x276e9d['default'](),_0x4ee104=((0x0,_0x3d537b['default'])(_0x1cc7ed={},_0xcf1188[_0x536f('0x272')][_0x536f('0xb6')],function(_0x3a4a51){var _0x3d624c=new _0xf9d5c4[(_0x536f('0xb6'))]({'colorStr':_0x3a4a51[_0x536f('0x21f')],'floatOffset':_0x3a4a51['floatOffset'],'speed':_0x3a4a51['speed']});return _0x3a4a51['x']&&_0x3a4a51['y']&&_0x3d624c[_0x536f('0x5')]({'radius':_0x3a4a51[_0x536f('0x21d')]}),_0x146366(_0x3a4a51,_0x3d624c[_0x536f('0x356')]),_0x3d624c;}),(0x0,_0x3d537b['default'])(_0x1cc7ed,_0xcf1188['MarkerFuncName'][_0x536f('0xb5')],function(_0x3a4a51){var _0x3d624c=new _0xf9d5c4[(_0x536f('0xb5'))](),_0x1cc7ed=_0x3a4a51[_0x536f('0x52f')]||(0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')][_0x536f('0xb5')]['texture']),_0x1cc7ed=_0x29c469['load'](_0x1cc7ed);return _0x3d624c[_0x536f('0x5')]({'texture':_0x1cc7ed,'radius':_0x3a4a51[_0x536f('0x21d')],'height':_0x3a4a51[_0x536f('0x531')],'colorStr':_0x3a4a51[_0x536f('0x21f')],'animateOpts':{'centerHeight':_0x3a4a51[_0x536f('0x339')],'swingHeight':_0x3a4a51[_0x536f('0x532')],'speed':0.02}}),!esmap[_0x536f('0x4e')][_0x536f('0x45')]['isOpenScreenEffect']&&_0x3a4a51[_0x536f('0x533')]&&(_0x3d624c[_0x536f('0xce')][_0x536f('0x1d6')]=THREE[_0x536f('0x44b')]),_0x146366(_0x3a4a51,_0x3d624c[_0x536f('0x356')]),_0x3d624c;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')]['CircleRotateYMarker'],function(_0x3a4a51){var _0x3d624c=new _0xf9d5c4[(_0x536f('0xb4'))](),_0x1cc7ed=_0x3a4a51[_0x536f('0x52f')]||(0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb['MARKER_ASSETS']['CircleRotateYMarker']['texture']),_0x1cc7ed=_0x29c469['load'](_0x1cc7ed),_0x73602f=(0x0,_0x372a55[_0x536f('0x2d')])();return _0x1cc7ed['anisotropy']=_0x73602f[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x535')][_0x536f('0x536')](),_0x3d624c[_0x536f('0x5')]({'colorStr':_0x3a4a51[_0x536f('0x21f')],'texture':_0x1cc7ed,'radius':_0x3a4a51[_0x536f('0x21d')],'speed':_0x3a4a51[_0x536f('0x36b')],'textureAngle':_0x3a4a51['angle'],'opacity':_0x3a4a51['opacity']}),_0x3a4a51[_0x536f('0x537')]&&(_0x3d624c[_0x536f('0xce')][_0x536f('0x1da')]=!0x1),_0x3a4a51['renderOrder']&&(_0x3d624c[_0x536f('0x356')][_0x536f('0x355')]=_0x3a4a51[_0x536f('0x355')]),!esmap[_0x536f('0x4e')]['options'][_0x536f('0x464')]&&_0x3a4a51['isShine']&&(_0x3d624c['material']['blending']=THREE[_0x536f('0x44b')]),_0x3a4a51[_0x536f('0x538')]?!0x0===_0x3a4a51['noBloomLight']&&_0x3a4a51['isShine']&&(_0x3d624c[_0x536f('0xce')]['blending']=THREE[_0x536f('0x44b')]):_0x146366(_0x3a4a51,_0x3d624c[_0x536f('0x356')]),_0x3d624c;}),(0x0,_0x3d537b['default'])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')]['PointsLine'],function(_0x3a4a51){var _0x3d624c=_0x29c469['load']((0x0,_0x372a55['getConfigAssetsPath'])(_0x58ebeb[_0x536f('0x530')][_0x536f('0xb3')][_0x536f('0x1c7')])),_0x1cc7ed=new _0xf9d5c4[(_0x536f('0xb3'))]({'gapDistance':_0x3a4a51[_0x536f('0x470')],'activeNum':_0x3a4a51[_0x536f('0x539')],'pointSize':_0x3a4a51[_0x536f('0x471')],'colorStr':_0x3a4a51[_0x536f('0x21f')]}),_0x3d624c=_0x1cc7ed['create']({'texture':_0x3d624c,'points':_0x3a4a51['points']}),_0x3a4a51=(_0x146366(_0x3a4a51,_0x3d624c),_0x3a4a51[_0x536f('0x27d')][0x0]);return(0x0,_0x372a55[_0x536f('0x2e')])(_0x3d624c,_0x3a4a51,_0x3a4a51[_0x536f('0x339')]),_0x1cc7ed;}),(0x0,_0x3d537b['default'])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')]['Points'],function(_0x3a4a51){var _0x3d624c=(0x0,_0x372a55[_0x536f('0x2d')])(),_0x1cc7ed=_0x3a4a51[_0x536f('0x52f')]||(0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')][_0x536f('0xb2')]['texture']),_0x1cc7ed=_0x29c469[_0x536f('0x263')](_0x1cc7ed),_0x3d624c=new _0xf9d5c4['Points']({'pointSize':_0x3a4a51[_0x536f('0x471')],'colorStr':_0x3a4a51[_0x536f('0x21f')],'animateType':_0x3a4a51[_0x536f('0x53a')],'timer':_0x3d624c[_0x536f('0x2e0')],'period':_0x3a4a51[_0x536f('0x53b')],'colorList':_0x3a4a51['colorList']}),_0x1cc7ed=_0x3d624c[_0x536f('0x5')]({'texture':_0x1cc7ed,'points':_0x3a4a51[_0x536f('0x27d')]}),_0x73602f=(_0x3a4a51[_0x536f('0x537')]&&(_0x3d624c['material'][_0x536f('0x1da')]=!0x1),_0x3a4a51['renderOrder']&&(_0x1cc7ed[_0x536f('0x355')]=_0x3a4a51['renderOrder']),_0x146366(_0x3a4a51,_0x1cc7ed),_0x3a4a51[_0x536f('0x27d')][0x0]),_0x3a4a51=void 0x0!==_0x3a4a51[_0x536f('0x339')]?_0x3a4a51[_0x536f('0x339')]:0.1;return(0x0,_0x372a55[_0x536f('0x2e')])(_0x1cc7ed,_0x73602f,_0x3a4a51),_0x3d624c;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')]['CircleRippleMarker'],function(_0x3a4a51){var _0x3d624c=_0x29c469[_0x536f('0x263')]((0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x28f')][_0x536f('0x1c7')])),_0x3d624c=new _0xf9d5c4['CircleRippleEffect']({'colorStr':_0x3a4a51[_0x536f('0x21f')],'isSpread':_0x3a4a51[_0x536f('0x41e')],'radius':_0x3a4a51[_0x536f('0x21d')],'texture':_0x3d624c,'speed':_0x3a4a51[_0x536f('0x36b')]}),_0x1cc7ed=(_0x3a4a51[_0x536f('0x537')]&&(_0x3d624c[_0x536f('0xce')][_0x536f('0x1da')]=!0x1),_0x3d624c[_0x536f('0xce')][_0x536f('0x1d9')]=!0x1,_0x3a4a51[_0x536f('0x201')]&&(_0x3d624c[_0x536f('0xce')]['opacity']=_0x3a4a51[_0x536f('0x201')]),_0x3d624c['create']());return _0x1cc7ed[_0x536f('0x355')]=_0x3a4a51[_0x536f('0x355')]||0x4c,!esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x464')]&&_0x3a4a51[_0x536f('0x533')]&&(_0x3d624c[_0x536f('0xce')]['blending']=THREE[_0x536f('0x44b')]),_0x146366(_0x3a4a51,_0x1cc7ed),_0x3d624c;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x28d')],function(_0x3a4a51){var _0x3d624c=_0x29c469[_0x536f('0x263')]((0x0,_0x372a55['getConfigAssetsPath'])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x28d')][_0x536f('0x1c7')])),_0x3d624c=((0x0,_0x372a55[_0x536f('0x30')])()&&(_0x3a4a51['isCilpGround']=!0x0),new _0xf9d5c4[(_0x536f('0xb1'))]({'texture':_0x3d624c,'radius':_0x3a4a51['radius'],'height':_0x3a4a51[_0x536f('0x53c')],'colorStr':_0x3a4a51[_0x536f('0x21f')],'isCilpGround':_0x3a4a51[_0x536f('0x53d')],'clipGroundY':_0x3a4a51[_0x536f('0x53e')]}));return _0x3d624c[_0x536f('0x5')](),esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x464')]&&_0x3d624c[_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x480')](0x0,0x0,0.2),!esmap[_0x536f('0x4e')][_0x536f('0x45')]['isOpenScreenEffect']&&_0x3a4a51['isShine']&&(_0x3d624c[_0x536f('0xce')][_0x536f('0x1d6')]=THREE[_0x536f('0x44b')]),_0x146366(_0x3a4a51,_0x3d624c['cincture']),_0x3d624c;}),(0x0,_0x3d537b['default'])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')]['ConeSpreadMarker'],function(_0x3a4a51){var _0x3d624c=_0x29c469['load']((0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x28e')]['texture'])),_0x1cc7ed=_0x29c469[_0x536f('0x263')]((0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x28e')][_0x536f('0x53f')])),_0x73602f=((0x0,_0x372a55[_0x536f('0x30')])()&&(_0x3a4a51[_0x536f('0x53d')]=!0x0),new _0xf9d5c4['ConeSpreadEffect']({'colorStr':_0x3a4a51['color']}));return _0x73602f[_0x536f('0x5')]({'texture':_0x3d624c,'alphaTexture':_0x1cc7ed,'radius':_0x3a4a51[_0x536f('0x21d')],'angle':_0x3a4a51[_0x536f('0x1ed')],'depth':_0x3a4a51['depth']}),esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x464')],!esmap['ESEffectTool'][_0x536f('0x45')]['isOpenScreenEffect']&&_0x3a4a51[_0x536f('0x533')]&&(_0x73602f['material'][_0x536f('0x1d6')]=THREE[_0x536f('0x44b')]),_0x73602f;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x294')],function(_0x3a4a51){var _0x3d624c=(0x0,_0x372a55[_0x536f('0x2d')])(),_0x1cc7ed=_0x3a4a51[_0x536f('0x52f')]||(0x0,_0x372a55['getConfigAssetsPath'])(_0x58ebeb[_0x536f('0x530')]['NumberUpParticle'][_0x536f('0x1c7')]),_0x1cc7ed=_0x29c469[_0x536f('0x263')](_0x1cc7ed),_0x73602f=_0x29c469[_0x536f('0x263')]((0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb['MARKER_ASSETS'][_0x536f('0x294')][_0x536f('0x53f')])),_0x24f53a=new _0xf9d5c4['NumberUpEffect']({'camera':_0x3d624c['mapView'][_0x536f('0x342')],'controls':_0x3d624c[_0x536f('0x307')],'colorStr':_0x3a4a51[_0x536f('0x21f')],'speed':_0x3a4a51['speed'],'offsetHeight':_0x3a4a51[_0x536f('0x444')],'texture':_0x1cc7ed,'alphaTex':_0x73602f});if(_0x3a4a51[_0x536f('0x52f')]||(_0x3a4a51[_0x536f('0x339')]=_0x3a4a51[_0x536f('0x366')]/(0x1/0x8)),_0x3a4a51[_0x536f('0x540')])for(var _0x56525c=0x0;_0x56525c<_0x3a4a51['lineNumber'];_0x56525c++){var _0x4fa33f=_0x24f53a[_0x536f('0x5')](_0x3a4a51);(0x0,_0x372a55['setPositionFromMc'])(_0x4fa33f,{'x':-Math['random']()*_0x3a4a51['extentRadius']+_0x3a4a51['extentRadius']/0x2+_0x3a4a51[_0x536f('0x541')]['x'],'y':-Math['random']()*_0x3a4a51[_0x536f('0x44a')]+_0x3a4a51[_0x536f('0x44a')]/0x2+_0x3a4a51['randomCenter']['y']},-Math[_0x536f('0x1ba')]()*_0x3a4a51[_0x536f('0x44a')]),_0x3a4a51[_0x536f('0x355')]&&(_0x4fa33f[_0x536f('0x355')]=_0x3a4a51[_0x536f('0x355')]);}else{var _0x538858=!0x0,_0x3d624c=!0x1,_0x1cc7ed=void 0x0;try{for(var _0x25c8bc,_0x3d537b=(0x0,_0x51ef39[_0x536f('0x6')])(_0x3a4a51[_0x536f('0x27d')]);!(_0x538858=(_0x25c8bc=_0x3d537b[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x538858=!0x0){var _0xcd9e20=_0x25c8bc['value'],_0xcf1188=_0x24f53a[_0x536f('0x5')](_0x3a4a51),_0x531322=-Math[_0x536f('0x1ba')]()*_0x3a4a51[_0x536f('0x44a')];_0x146366(_0x3a4a51,_0xcf1188),(0x0,_0x372a55[_0x536f('0x2e')])(_0xcf1188,_0xcd9e20,_0x531322),_0x3a4a51[_0x536f('0x355')]&&(_0xcf1188['renderOrder']=_0x3a4a51['renderOrder']);}}catch(_0x899c3d){_0x3d624c=!0x0,_0x1cc7ed=_0x899c3d;}finally{try{!_0x538858&&_0x3d537b[_0x536f('0x265')]&&_0x3d537b[_0x536f('0x265')]();}finally{if(_0x3d624c)throw _0x1cc7ed;}}}return _0x24f53a['setUpdateListen'](),_0x24f53a;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188['MarkerFuncName'][_0x536f('0x295')],function(_0x3a4a51){var _0x3d624c=_0x3a4a51[_0x536f('0x52f')]||(0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')]['SphereSpreadMarker'][_0x536f('0x1c7')]),_0x3d624c=_0x29c469[_0x536f('0x263')](_0x3d624c,!0x0),_0x1cc7ed=new _0xf9d5c4[(_0x536f('0xaf'))]({'radius':_0x3a4a51[_0x536f('0x21d')],'isShowConeScan':!0x1});return _0x1cc7ed[_0x536f('0x5')]({'texture':_0x3d624c,'colorStr':_0x3a4a51[_0x536f('0x21f')]}),_0x3a4a51[_0x536f('0x201')]&&(_0x1cc7ed[_0x536f('0xce')][_0x536f('0x201')]=_0x3a4a51[_0x536f('0x201')]),_0x1cc7ed;}),(0x0,_0x3d537b['default'])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x296')],function(_0x3a4a51){var _0x3d624c=(0x0,_0x372a55[_0x536f('0x2d')])(),_0x1cc7ed=_0x3a4a51[_0x536f('0x52f')]||(0x0,_0x372a55['getConfigAssetsPath'])(_0x58ebeb['MARKER_ASSETS'][_0x536f('0x296')][_0x536f('0x1c7')]),_0x1cc7ed=_0x3a4a51[_0x536f('0x542')]||_0x1cc7ed,_0x1cc7ed=_0x29c469[_0x536f('0x263')](_0x1cc7ed,!0x0),_0x73602f=(_0x1cc7ed[_0x536f('0x543')]=_0x3d624c[_0x536f('0x48e')]['renderer'][_0x536f('0x535')][_0x536f('0x536')](),new _0xf9d5c4[(_0x536f('0xae'))]({'texture':_0x1cc7ed,'colorStr':_0x3a4a51[_0x536f('0x21f')],'focusColorStr':_0x3a4a51['focuseColor'],'scale':_0x3a4a51[_0x536f('0x4c4')],'isTransparentLight':_0x3a4a51[_0x536f('0x544')],'isScrollX':void 0x0!==_0x3a4a51['isScrollX']?_0x3a4a51[_0x536f('0x545')]:!!_0x3a4a51['scrollImgUrl'],'scrollXRepeat':_0x3a4a51[_0x536f('0x546')],'isClockWise':_0x3a4a51[_0x536f('0x547')],'speed':void 0x0===_0x3a4a51[_0x536f('0x36b')]?0x1:_0x3a4a51[_0x536f('0x36b')],'isHideBackWall':_0x3a4a51[_0x536f('0x548')],'isSetTopAlphaTrans':_0x3a4a51['isSetTopAlphaTrans']})),_0x24f53a=(_0x3a4a51[_0x536f('0x537')]&&(_0x73602f[_0x536f('0x549')][_0x536f('0x1da')]=!0x1),!0x1===_0x3a4a51[_0x536f('0x54a')]&&(_0x73602f[_0x536f('0x549')]['depthWrite']=!0x0),_0x3a4a51[_0x536f('0x339')]=_0x3a4a51[_0x536f('0x339')]||0x0,!0x0),_0x3d624c=!0x1,_0x1cc7ed=void 0x0;try{for(var _0x56525c,_0x4fa33f=(0x0,_0x51ef39[_0x536f('0x6')])(_0x3a4a51[_0x536f('0x54b')]);!(_0x24f53a=(_0x56525c=_0x4fa33f[_0x536f('0x79')]())['done']);_0x24f53a=!0x0){var _0x538858=_0x56525c[_0x536f('0x10')],_0x25c8bc=[],_0x3d537b=_0x538858[_0x536f('0x27d')][0x0],_0xcd9e20=(_0x3d537b[_0x536f('0xf8')]=_0x3d537b[_0x536f('0xf8')]||0x0,!0x0),_0xcf1188=!0x1,_0x531322=void 0x0;try{for(var _0x276e9d,_0x4648c0=(0x0,_0x51ef39[_0x536f('0x6')])(_0x538858[_0x536f('0x27d')]);!(_0xcd9e20=(_0x276e9d=_0x4648c0[_0x536f('0x79')]())[_0x536f('0x7a')]);_0xcd9e20=!0x0){var _0x21e27a=_0x276e9d[_0x536f('0x10')];_0x25c8bc['push']({'x':-_0x21e27a['x'],'y':_0x21e27a[_0x536f('0xf8')]||0x0,'z':_0x21e27a['y']});}}catch(_0x4ee7d6){_0xcf1188=!0x0,_0x531322=_0x4ee7d6;}finally{try{!_0xcd9e20&&_0x4648c0[_0x536f('0x265')]&&_0x4648c0[_0x536f('0x265')]();}finally{if(_0xcf1188)throw _0x531322;}}var _0x5c91b7=_0x73602f[_0x536f('0x54c')]({'points':_0x25c8bc,'colorStr':_0x538858[_0x536f('0x21f')],'extentId':_0x538858['id'],'wallHeight':_0x3a4a51[_0x536f('0x4c4')],'isNoClose':_0x3a4a51['isNoClose']});_0x146366(_0x3a4a51,_0x5c91b7),(0x0,_0x372a55[_0x536f('0x2e')])(_0x5c91b7,_0x3d537b,_0x3d537b[_0x536f('0xf8')]+_0x3a4a51[_0x536f('0x339')]),_0x3a4a51[_0x536f('0x355')]&&(_0x5c91b7[_0x536f('0x355')]=_0x3a4a51[_0x536f('0x355')]);}}catch(_0x171ddf){_0x3d624c=!0x0,_0x1cc7ed=_0x171ddf;}finally{try{!_0x24f53a&&_0x4fa33f[_0x536f('0x265')]&&_0x4fa33f['return']();}finally{if(_0x3d624c)throw _0x1cc7ed;}}return _0x73602f[_0x536f('0x54b')]=_0x3a4a51['extentList'],_0x73602f;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x54d')],function(_0x3a4a51){var _0x3d624c=_0x29c469[_0x536f('0x263')]((0x0,_0x372a55['getConfigAssetsPath'])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x54d')][_0x536f('0x54e')])),_0x1cc7ed=_0x29c469[_0x536f('0x263')]((0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb['MARKER_ASSETS']['FireSmokeMarker'][_0x536f('0x54f')])),_0x73602f=new _0xf9d5c4[(_0x536f('0xa9'))]({'scale':_0x3a4a51['scale']}),_0x24f53a=null;return _0x3a4a51[_0x536f('0x550')]&&(_0x24f53a={'directionAngle':_0x3a4a51[_0x536f('0x550')][_0x536f('0x31f')]-_0x3a4a51[_0x536f('0x1ed')],'pitchAngle':_0x3a4a51[_0x536f('0x550')]['pitchAngle'],'spread':_0x3a4a51['windFactor']['intensity']}),_0x73602f['create']({'innerTex':_0x3d624c,'outTex':_0x1cc7ed,'spreadFactor':_0x3a4a51[_0x536f('0x551')],'vectorSpread':_0x24f53a,'angle':_0x3a4a51[_0x536f('0x1ed')],'depthTest':!_0x3a4a51[_0x536f('0x537')],'isOpenScreenEffect':esmap[_0x536f('0x4e')]['options'][_0x536f('0x464')]}),_0x73602f;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x552')],function(_0x3a4a51){var _0x3d624c=_0x29c469['load']((0x0,_0x372a55['getConfigAssetsPath'])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x552')][_0x536f('0x1c7')])),_0x1cc7ed=new _0xf9d5c4[(_0x536f('0xa7'))]({'scale':_0x3a4a51['scale']});return _0x1cc7ed[_0x536f('0x5')]({'tex':_0x3d624c,'color':_0x3a4a51[_0x536f('0x21f')],'isOpenScreenEffect':esmap[_0x536f('0x4e')][_0x536f('0x45')]['isOpenScreenEffect']}),_0x1cc7ed;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x297')],function(_0x3a4a51){var _0x3d624c=_0x29c469['load']((0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x297')]['texture'])),_0x1cc7ed=new _0xf9d5c4['Smoke']({'scale':_0x3a4a51['scale']});return _0x1cc7ed[_0x536f('0x5')]({'tex':_0x3d624c,'colorStr':_0x3a4a51[_0x536f('0x21f')],'intensity':_0x3a4a51[_0x536f('0x49b')],'spread':_0x3a4a51[_0x536f('0x1ee')],'isOpenScreenEffect':esmap['ESEffectTool'][_0x536f('0x45')][_0x536f('0x464')]}),_0x3a4a51[_0x536f('0x1ed')]&&(_0x1cc7ed[_0x536f('0x356')][_0x536f('0x1f0')]['y']=THREE[_0x536f('0x19')]['degToRad'](_0x3a4a51[_0x536f('0x1ed')])),_0x1cc7ed;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x298')],function(_0x3a4a51){var _0x3d624c=_0x29c469[_0x536f('0x263')]((0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb['MARKER_ASSETS'][_0x536f('0x297')]['texture'])),_0x1cc7ed=new _0xf9d5c4['SmokeSpread']({'scale':_0x3a4a51['scale']});return _0x1cc7ed[_0x536f('0x5')]({'tex':_0x3d624c,'color':_0x3a4a51['color'],'intensity':_0x3a4a51[_0x536f('0x49b')],'spread':_0x3a4a51[_0x536f('0x1ee')],'vectorSpread':{'directionAngle':_0x3a4a51['directionAngle'],'pitchAngle':_0x3a4a51[_0x536f('0x30d')]},'depthTest':void 0x0!==_0x3a4a51[_0x536f('0x537')]&&!_0x3a4a51[_0x536f('0x537')],'isOpenScreenEffect':esmap['ESEffectTool']['options'][_0x536f('0x464')]}),_0x3a4a51[_0x536f('0x1ed')]&&(_0x1cc7ed['object3d']['rotation']['y']=THREE[_0x536f('0x19')][_0x536f('0x322')](_0x3a4a51['angle'])),_0x1cc7ed;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x299')],function(_0x3a4a51){var _0x3d624c=_0x29c469[_0x536f('0x263')]((0x0,_0x372a55['getConfigAssetsPath'])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x299')][_0x536f('0x553')])),_0x1cc7ed=_0x29c469[_0x536f('0x263')]((0x0,_0x372a55['getConfigAssetsPath'])(_0x58ebeb['MARKER_ASSETS']['ExplosionMarker'][_0x536f('0x554')])),_0x73602f=new _0xf9d5c4['Explosion']({'scale':_0x3a4a51['scale'],'maxAge':_0x3a4a51[_0x536f('0x555')]});return _0x73602f[_0x536f('0x5')]({'smokeTex':_0x3d624c,'explosionTex':_0x1cc7ed,'isOpenScreenEffect':esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x464')]}),_0x3a4a51['angle']&&(_0x73602f['object3d'][_0x536f('0x1f0')]['y']=THREE['Math'][_0x536f('0x322')](_0x3a4a51[_0x536f('0x1ed')])),_0x73602f;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x29a')],function(_0x3a4a51){var _0x3d624c=_0x29c469[_0x536f('0x263')]((0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x29a')]['texture'])),_0x1cc7ed=new _0xf9d5c4[(_0x536f('0xa6'))]({'scale':_0x3a4a51[_0x536f('0x1dc')]});return _0x1cc7ed[_0x536f('0x5')]({'texture':_0x3d624c,'dirAngle':_0x3a4a51[_0x536f('0x46c')],'pitchAngle':_0x3a4a51[_0x536f('0x30d')],'isOpenScreenEffect':esmap[_0x536f('0x4e')][_0x536f('0x45')]['isOpenScreenEffect']}),_0x1cc7ed;}),(0x0,_0x3d537b['default'])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x29b')],function(_0x3a4a51){var _0x3d624c=_0x3a4a51[_0x536f('0x52f')]||(0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x29b')][_0x536f('0x1c7')]),_0x3d624c=_0x29c469[_0x536f('0x263')](_0x3d624c),_0x1cc7ed=new _0xf9d5c4[(_0x536f('0xa5'))]({'scale':_0x3a4a51['scale']});return _0x1cc7ed['create']({'texture':_0x3d624c,'color':_0x3a4a51[_0x536f('0x21f')],'isSpreadColor':_0x3a4a51[_0x536f('0x556')],'spread':_0x3a4a51[_0x536f('0x21d')],'extentHeight':_0x3a4a51[_0x536f('0x557')],'pointNum':_0x3a4a51['pointNum'],'isShine':_0x3a4a51[_0x536f('0x533')],'fixedSize':_0x3a4a51[_0x536f('0x558')],'speed':_0x3a4a51[_0x536f('0x36b')]}),_0x3a4a51[_0x536f('0x355')]&&(_0x1cc7ed[_0x536f('0x461')][_0x536f('0x355')]=_0x3a4a51[_0x536f('0x355')]),_0x1cc7ed;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')]['DeviceWindMarker'],function(_0x3a4a51){var _0x3d624c=_0x3a4a51[_0x536f('0x52f')]||(0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb['MARKER_ASSETS'][_0x536f('0x29b')][_0x536f('0x1c7')]),_0x3d624c=_0x29c469[_0x536f('0x263')](_0x3d624c),_0x1cc7ed=new _0xf9d5c4[(_0x536f('0xa4'))]({'scale':_0x3a4a51[_0x536f('0x1dc')]});return _0x1cc7ed[_0x536f('0x5')]({'texture':_0x3d624c,'directionAngle':_0x3a4a51[_0x536f('0x31f')],'extentWidth':_0x3a4a51[_0x536f('0x559')],'extentHeight':_0x3a4a51[_0x536f('0x557')],'speed':_0x3a4a51['speed'],'isOpenScreenEffect':esmap['ESEffectTool'][_0x536f('0x45')][_0x536f('0x464')]}),_0x3a4a51[_0x536f('0x355')]&&(_0x1cc7ed[_0x536f('0x461')][_0x536f('0x355')]=_0x3a4a51[_0x536f('0x355')]),_0x1cc7ed;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188['MarkerFuncName'][_0x536f('0x2a3')],function(_0x3a4a51){var _0x3d624c,_0x1cc7ed,_0x73602f;if(_0x3a4a51['imgUrl'])return _0x3d624c=(0x0,_0x372a55[_0x536f('0x2d')])(),_0x1cc7ed=_0x29c469[_0x536f('0x263')](_0x3a4a51[_0x536f('0x52f')]),(_0x73602f=new _0xf9d5c4[(_0x536f('0x55a'))]({}))[_0x536f('0x5')]({'timer':_0x3d624c['timer'],'texture':_0x1cc7ed,'scale':_0x3a4a51['scale'],'uvConfigs':{'imageWidth':_0x3a4a51[_0x536f('0x55b')][_0x536f('0x2e4')],'imageHeight':_0x3a4a51['imgStyle'][_0x536f('0x2f1')],'xCount':_0x3a4a51[_0x536f('0x55b')]['column'],'yCount':_0x3a4a51[_0x536f('0x55b')][_0x536f('0x55c')],'xStart':_0x3a4a51[_0x536f('0x55b')][_0x536f('0x55d')],'yStart':_0x3a4a51[_0x536f('0x55b')][_0x536f('0x55e')],'fps':_0x3a4a51[_0x536f('0x55b')]['fps']},'loop':_0x3a4a51['loop'],'fixedSize':_0x3a4a51[_0x536f('0x558')]}),_0x3a4a51[_0x536f('0x537')]&&(_0x73602f[_0x536f('0xce')][_0x536f('0x1da')]=!0x1),_0x73602f[_0x536f('0x55f')][_0x536f('0x92')]=_0x3a4a51[_0x536f('0x92')],_0x73602f;}),(0x0,_0x3d537b['default'])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x560')],function(_0x3a4a51){for(var _0x3d624c=(0x0,_0x372a55[_0x536f('0x2d')])(),_0x1cc7ed=_0x3a4a51['imgUrl']||(0x0,_0x372a55['getConfigAssetsPath'])(_0x58ebeb[_0x536f('0x530')][_0x536f('0x560')][_0x536f('0x1c7')]),_0x1cc7ed=_0x29c469[_0x536f('0x263')](_0x1cc7ed),_0x1cc7ed=new _0xf9d5c4[(_0x536f('0x561'))]({'colorStr':_0x3a4a51[_0x536f('0x21f')],'repeat':_0x3a4a51[_0x536f('0x562')],'texture':_0x1cc7ed}),_0x73602f=[],_0x24f53a=0x0,_0x56525c=_0x3a4a51[_0x536f('0x27d')][_0x536f('0xd')];_0x24f53a<_0x56525c;_0x24f53a++){var _0x4fa33f=_0x3d624c['coordMapToThree']({'x':_0x3a4a51['points'][_0x24f53a]['x'],'y':_0x3a4a51[_0x536f('0x27d')][_0x24f53a]['y'],'z':_0x3a4a51[_0x536f('0x27d')][_0x24f53a][_0x536f('0xf8')]});_0x73602f[_0x536f('0x82')](_0x4fa33f);}return _0x1cc7ed[_0x536f('0x5')]({'points':_0x73602f,'lineWidth':_0x3a4a51[_0x536f('0x341')],'lineHeight':_0x3a4a51['lineHeight']}),_0x1cc7ed;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188['MarkerFuncName'][_0x536f('0xc7')],function(_0x3a4a51){var _0x3d624c=(0x0,_0x372a55['getMapInstance'])(),_0x1cc7ed=_0x3a4a51[_0x536f('0x52f')]||(0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')][_0x536f('0xc7')][_0x536f('0x1c7')]),_0x1cc7ed=_0x29c469[_0x536f('0x263')](_0x1cc7ed),_0x73602f=new _0xf9d5c4[(_0x536f('0xc7'))]({'camera':_0x3d624c[_0x536f('0x48e')][_0x536f('0x342')],'texture':_0x1cc7ed,'colorStr':_0x3a4a51[_0x536f('0x21f')],'opacity':_0x3a4a51[_0x536f('0x201')],'lineWidth':_0x3a4a51[_0x536f('0x341')],'repeat':_0x3a4a51['imgRepeat']&&0x0<_0x3a4a51[_0x536f('0x562')]?{'x':_0x3a4a51[_0x536f('0x562')],'y':0x1}:{'x':0x1,'y':0x1},'speed':_0x3a4a51['speed'],'isCanChangeStyle':_0x3a4a51[_0x536f('0x371')],'renderOrder':_0x3a4a51[_0x536f('0x355')]});if(_0x73602f[_0x536f('0x365')](_0x3d624c),_0x3a4a51[_0x536f('0x355')]&&(_0x73602f['renderOrder']=_0x3a4a51[_0x536f('0x355')]),_0x3a4a51[_0x536f('0x537')]&&(_0x73602f[_0x536f('0x33b')][_0x536f('0x1da')]=!0x1),Array[_0x536f('0x1ab')](_0x3a4a51[_0x536f('0x563')])&&0x0<_0x3a4a51[_0x536f('0x563')][_0x536f('0xd')]){var _0x24f53a=!0x0,_0x1cc7ed=!0x1,_0x3d624c=void 0x0;try{for(var _0x56525c,_0x4fa33f=(0x0,_0x51ef39[_0x536f('0x6')])(_0x3a4a51[_0x536f('0x563')]);!(_0x24f53a=(_0x56525c=_0x4fa33f[_0x536f('0x79')]())['done']);_0x24f53a=!0x0){var _0x538858=_0x56525c[_0x536f('0x10')],_0x25c8bc=[],_0x3d537b=_0x538858[_0x536f('0x27d')][0x0],_0xcd9e20=!0x0,_0xcf1188=!0x1,_0x531322=void 0x0;try{for(var _0x276e9d,_0x4648c0=(0x0,_0x51ef39[_0x536f('0x6')])(_0x538858[_0x536f('0x27d')]);!(_0xcd9e20=(_0x276e9d=_0x4648c0[_0x536f('0x79')]())[_0x536f('0x7a')]);_0xcd9e20=!0x0){var _0x21e27a=_0x276e9d['value'];_0x25c8bc[_0x536f('0x82')](new THREE[(_0x536f('0x59'))](-_0x21e27a['x'],_0x21e27a[_0x536f('0xf8')]||0x0,_0x21e27a['y']));}}catch(_0x2fb526){_0xcf1188=!0x0,_0x531322=_0x2fb526;}finally{try{!_0xcd9e20&&_0x4648c0[_0x536f('0x265')]&&_0x4648c0[_0x536f('0x265')]();}finally{if(_0xcf1188)throw _0x531322;}}var _0x5c91b7=_0x73602f[_0x536f('0x351')](_0x25c8bc);_0x146366(_0x3a4a51,_0x5c91b7),(0x0,_0x372a55[_0x536f('0x2e')])(_0x5c91b7,_0x3d537b,_0x3a4a51['height']);}}catch(_0x4d1911){_0x1cc7ed=!0x0,_0x3d624c=_0x4d1911;}finally{try{!_0x24f53a&&_0x4fa33f[_0x536f('0x265')]&&_0x4fa33f[_0x536f('0x265')]();}finally{if(_0x1cc7ed)throw _0x3d624c;}}}return _0x73602f;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')]['PlaneVideoMarker'],function(_0x3a4a51){var _0x3d624c=new _0xf9d5c4[(_0x536f('0x9d'))]();return _0x3d624c[_0x536f('0x564')](_0x3a4a51['id'],_0x3a4a51[_0x536f('0x6e')]),_0x3d624c[_0x536f('0x33a')](),_0x3d624c['create']({'width':_0x3a4a51[_0x536f('0x565')],'height':_0x3a4a51[_0x536f('0x566')]}),_0x3d624c;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x29f')],function(_0x3a4a51){var _0x3d624c=new _0xf9d5c4[(_0x536f('0xac'))]({'colorStr':_0x3a4a51[_0x536f('0x21f')],'radius':_0x3a4a51['radius'],'angle':_0x3a4a51[_0x536f('0x1ed')],'speed':_0x3a4a51[_0x536f('0x36b')]}),_0x1cc7ed=_0x3d624c[_0x536f('0x5')]();return _0x3a4a51[_0x536f('0x537')]&&(_0x1cc7ed[_0x536f('0xce')][_0x536f('0x1da')]=!0x1),_0x3d624c;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188['MarkerFuncName'][_0x536f('0x2a0')],function(_0x3a4a51){var _0x3d624c=new _0xf9d5c4[(_0x536f('0xc3'))]({'colorStr':_0x3a4a51[_0x536f('0x21f')],'radius':_0x3a4a51[_0x536f('0x21d')],'speed':_0x3a4a51[_0x536f('0x36b')],'angle':_0x3a4a51[_0x536f('0x1ed')],'thickness':_0x3a4a51[_0x536f('0x567')]}),_0x1cc7ed=_0x3d624c[_0x536f('0x5')]();return _0x3a4a51['seeThrough']&&(_0x1cc7ed[_0x536f('0xce')][_0x536f('0x1da')]=!0x1),_0x3d624c;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')][_0x536f('0x2a1')],function(_0x3a4a51){var _0x3d624c=new _0xf9d5c4[(_0x536f('0xc4'))](),_0x1cc7ed=_0x29c469[_0x536f('0x263')](_0x3a4a51[_0x536f('0x52f')]),_0x73602f=_0x29c469['load'](_0x3a4a51[_0x536f('0x568')]),_0x24f53a=null;return _0x3a4a51[_0x536f('0x569')]&&(_0x24f53a=_0x29c469['load'](_0x3a4a51[_0x536f('0x569')])),_0x3d624c[_0x536f('0x5')]({'imgTex':_0x1cc7ed,'clipBorderTex':_0x24f53a,'heightImgUrl':_0x3a4a51[_0x536f('0x56a')],'normalTex':_0x73602f,'meshWidth':Math['ceil'](_0x3a4a51[_0x536f('0x56b')]),'meshHeight':Math[_0x536f('0x1b2')](_0x3a4a51[_0x536f('0x56c')]),'imageWidth':Math[_0x536f('0x1b2')](_0x3a4a51[_0x536f('0x2e4')]),'imageHeight':Math[_0x536f('0x1b2')](_0x3a4a51[_0x536f('0x2f1')]),'terrainDepth':_0x3a4a51['terrainDepth']}),_0x3d624c;}),(0x0,_0x3d537b[_0x536f('0x6')])(_0x1cc7ed,_0xcf1188[_0x536f('0x272')]['PlaneGroundMarker'],function(_0x3a4a51){var _0x3d624c=(0x0,_0x372a55[_0x536f('0x2d')])(),_0x1cc7ed=new _0xf9d5c4[(_0x536f('0x9e'))]({'colorStr':_0x3a4a51[_0x536f('0x21f')],'radius':_0x3a4a51[_0x536f('0x21d')],'repeat':_0x3a4a51[_0x536f('0x2ee')],'transFactor':_0x3a4a51[_0x536f('0x49e')],'materialType':_0x3a4a51[_0x536f('0x56d')],'isShowScanLight':_0x3a4a51['isScanLight'],'isAutoRepeat':_0x3a4a51[_0x536f('0x56e')]}),_0x73602f=_0x3a4a51[_0x536f('0x52f')]||(0x0,_0x372a55[_0x536f('0x27')])(_0x58ebeb[_0x536f('0x530')][_0x536f('0xc7')][_0x536f('0x1c7')]),_0x73602f=_0x29c469[_0x536f('0x263')](_0x73602f),_0x3d624c=(_0x73602f[_0x536f('0x375')]=THREE['RepeatWrapping'],_0x73602f['wrapS']=THREE[_0x536f('0x376')],_0x3a4a51['closeMinmap']&&(_0x73602f[_0x536f('0x543')]=_0x3d624c[_0x536f('0x48e')][_0x536f('0x534')]['capabilities'][_0x536f('0x536')]()),_0x1cc7ed['create']({'texture':_0x73602f}));return _0x3a4a51[_0x536f('0x201')]&&(_0x3d624c[_0x536f('0xce')][_0x536f('0x1d7')]=!0x0,_0x3d624c[_0x536f('0xce')][_0x536f('0x201')]=_0x3a4a51[_0x536f('0x201')]),_0x1cc7ed;}),_0x1cc7ed),_0x146366=function(_0x3a4a51,_0x3d624c){_0x3a4a51[_0x536f('0x533')]&&_0x3d624c[_0x536f('0x56f')][_0x536f('0x211')](0x1);},_0x276e9d=(_0xcd9e20=_0x531322['EventDispatcher'],(0x0,_0x56525c[_0x536f('0x6')])(_0x43ac84,_0xcd9e20),(0x0,_0x24f53a['default'])(_0x43ac84,[{'key':'_init','value':function(_0x3a4a51,_0x276e9d){var _0x3d537b=null,_0x4648c0=(0x0,_0x372a55[_0x536f('0x2d')])();switch(_0x3a4a51){case _0xcf1188['ESMarkerType'][_0x536f('0x570')]:(_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0xb6')]](_0x276e9d))[_0x536f('0x36c')]=!0x0,this[_0x536f('0x525')]=_0x3d537b['object3d'],(this[_0x536f('0x525')][_0x536f('0x3f')]=this)[_0x34eb52]['_instance']=_0x3d537b,_0x276e9d['x']&&_0x276e9d['y']&&this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]),this[_0x536f('0x572')]=function(_0x3a4a51){var _0x3d624c=_0x3d537b[_0x536f('0x5')]({'radius':_0x3a4a51[_0x536f('0x21d')]}),_0x1cc7ed=(0x0,_0x372a55[_0x536f('0x35')])(_0x3a4a51['x'],_0x3a4a51['y']);_0x3d624c['position'][_0x536f('0x1b')](_0x1cc7ed['x'],_0x3a4a51[_0x536f('0x339')]||0x0,_0x1cc7ed['y']);},this[_0x536f('0x33d')]=function(_0x3a4a51){_0x3a4a51[_0x536f('0x1dc')]&&_0x3d537b[_0x536f('0x356')][_0x536f('0x1dc')]['set'](_0x3a4a51['scale'],_0x3a4a51['scale'],_0x3a4a51[_0x536f('0x1dc')]);},this[_0x536f('0x573')](this[_0x536f('0x525')]);break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x574')]:(_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0xb5')]](_0x276e9d))[_0x536f('0x36c')]=!0x0,this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]);break;case _0xcf1188[_0x536f('0x2a4')]['CIRCLE_ROTATE']:(_0x3d537b=_0x4ee104[_0xcf1188['MarkerFuncName'][_0x536f('0xb4')]](_0x276e9d))[_0x536f('0x36c')]=!0x0,this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],this['o3d_'][_0x536f('0x3f')]=this,_0x3d537b[_0x536f('0x356')]['renderOrder']=0x47,this[_0x34eb52]['_instance']=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d['height']),this[_0x536f('0xe9')]=function(_0x3a4a51){_0x3a4a51?(_0x3d537b['material'][_0x536f('0x576')]['originColor']=_0x3d537b[_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x1b1')](),_0x3d537b[_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x33d')](_0x3a4a51)):_0x3d537b[_0x536f('0xce')]['color']['copy'](_0x3d537b[_0x536f('0xce')][_0x536f('0x576')][_0x536f('0x417')]);},this[_0x536f('0x33d')]=function(_0x3a4a51){_0x3a4a51[_0x536f('0x1dc')]&&_0x3d537b['object3d'][_0x536f('0x1dc')][_0x536f('0x1b')](_0x3a4a51[_0x536f('0x1dc')],_0x3a4a51[_0x536f('0x1dc')],_0x3a4a51[_0x536f('0x1dc')]),_0x3a4a51[_0x536f('0x21f')]&&_0x3d537b[_0x536f('0xce')]['color'][_0x536f('0x33d')](color);};break;case _0xcf1188['ESMarkerType'][_0x536f('0x577')]:(_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0xb3')]](_0x276e9d))[_0x536f('0x36c')]=!0x0,this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this['o3d_'][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x484')]=function(_0x3a4a51){_0x3d537b[_0x536f('0x484')]=_0x3a4a51;};break;case _0xcf1188['ESMarkerType'][_0x536f('0x578')]:(_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')]['Points']](_0x276e9d))['visible']=!0x0,this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x579')]=function(_0x3a4a51,_0x3d624c){for(var _0x1cc7ed=[],_0x73602f=-_0x3a4a51[0x0]['x'],_0x24f53a=_0x3a4a51[0x0]['y'],_0x56525c=0x0,_0x4fa33f=_0x3a4a51[_0x536f('0xd')];_0x56525c<_0x4fa33f;_0x56525c++){var _0x538858=_0x3a4a51[_0x56525c]['colorIndex']||0x0;_0x1cc7ed[_0x536f('0x82')]({'x':-_0x3a4a51[_0x56525c]['x']-_0x73602f,'y':(void 0x0!==_0x3a4a51[_0x56525c][_0x536f('0x339')]?_0x3a4a51[_0x56525c]:_0x3d537b[_0x536f('0x57a')])['height'],'z':_0x3a4a51[_0x56525c]['y']-_0x24f53a,'index':_0x538858,'visible':void 0x0===_0x3a4a51[_0x56525c][_0x536f('0x36c')]?0x1:+_0x3a4a51[_0x56525c][_0x536f('0x36c')]});}(0x0,_0x372a55[_0x536f('0x2e')])(_0x3d537b[_0x536f('0x27d')],_0x3a4a51[0x0],_0x276e9d[_0x536f('0x339')]),0x0==_0x3d624c?_0x3d537b[_0x536f('0x57b')](_0x1cc7ed):_0x3d537b[_0x536f('0x579')](_0x1cc7ed,_0x3d624c);};break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x57c')]:(_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x28f')]](_0x276e9d))[_0x536f('0x36c')]=!0x0,this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this['o3d_']['datas_']=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this['setPosition']({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d['height']),this[_0x536f('0xe9')]=function(_0x3a4a51){_0x3a4a51?(_0x3d537b[_0x536f('0xce')][_0x536f('0x576')][_0x536f('0x417')]=_0x3d537b[_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x1b1')](),_0x3d537b[_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x33d')](_0x3a4a51)):_0x3d537b[_0x536f('0xce')][_0x536f('0x21f')]['copy'](_0x3d537b[_0x536f('0xce')][_0x536f('0x576')][_0x536f('0x417')]);},this['setStyle']=function(_0x3a4a51){_0x3a4a51['scale']&&_0x3d537b[_0x536f('0x356')][_0x536f('0x1dc')][_0x536f('0x1b')](_0x3a4a51[_0x536f('0x1dc')],_0x3a4a51[_0x536f('0x1dc')],_0x3a4a51[_0x536f('0x1dc')]),_0x3a4a51['color']&&_0x3d537b['material'][_0x536f('0x21f')][_0x536f('0x33d')](color);};break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x57d')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x28d')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')][_0x536f('0x3f')]=this)[_0x34eb52]['_instance']=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]);break;case _0xcf1188['ESMarkerType']['CONE_SPREAD']:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')]['ConeSpreadMarker']](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this['o3d_'][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]-_0x276e9d[_0x536f('0x57e')]/0x2);break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x57f')]:_0x3d537b=_0x4ee104[_0xcf1188['MarkerFuncName']['NumberUpParticle']](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this['o3d_'][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b;break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x580')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x295')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this['o3d_']['datas_']=this)[_0x34eb52]['_instance']=_0x3d537b,this['animate']=function(){this[_0x34eb52][_0x536f('0x575')]['animate']();};break;case _0xcf1188['ESMarkerType'][_0x536f('0x581')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')]['ExtentWallMarker']](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b['object3d'],(this['o3d_']['datas_']=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this['wallListData']=_0x3d537b[_0x536f('0x54b')],this[_0x536f('0x582')]=function(_0x3a4a51){_0x3a4a51['color']&&_0x3d537b['wallMaterial'][_0x536f('0x21f')]['setStyle'](_0x3a4a51['color']);},this[_0x536f('0x583')]=function(_0x3a4a51){var _0x3d624c=[],_0x1cc7ed=_0x3a4a51[_0x536f('0x27d')][0x0],_0x73602f=(_0x1cc7ed['offset']=_0x1cc7ed[_0x536f('0xf8')]||0x0,!0x0),_0x24f53a=!0x1,_0x56525c=void 0x0;try{for(var _0x4fa33f,_0x538858=(0x0,_0x51ef39[_0x536f('0x6')])(_0x3a4a51['points']);!(_0x73602f=(_0x4fa33f=_0x538858[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x73602f=!0x0){var _0x25c8bc=_0x4fa33f[_0x536f('0x10')];_0x3d624c[_0x536f('0x82')]({'x':-_0x25c8bc['x'],'y':_0x25c8bc['offset']||0x0,'z':_0x25c8bc['y']});}}catch(_0x3b3e8c){_0x24f53a=!0x0,_0x56525c=_0x3b3e8c;}finally{try{!_0x73602f&&_0x538858[_0x536f('0x265')]&&_0x538858[_0x536f('0x265')]();}finally{if(_0x24f53a)throw _0x56525c;}}_0x24f53a=_0x3d537b[_0x536f('0x54c')]({'points':_0x3d624c,'extentId':_0x3a4a51['id'],'wallHeight':_0x3a4a51[_0x536f('0x4c4')]||_0x276e9d[_0x536f('0x4c4')],'isNoClose':_0x3a4a51[_0x536f('0x584')]||_0x276e9d[_0x536f('0x584')]});_0x146366(_0x276e9d,_0x24f53a),(0x0,_0x372a55['setPositionFromMc'])(_0x24f53a,_0x1cc7ed,_0x1cc7ed[_0x536f('0xf8')]+_0x276e9d[_0x536f('0x339')]),_0x276e9d['renderOrder']&&(_0x24f53a[_0x536f('0x355')]=_0x276e9d['renderOrder']);},this[_0x536f('0x585')]=function(_0x3a4a51){var _0x3d624c=!0x0,_0x1cc7ed=!0x1,_0x73602f=void 0x0;try{for(var _0x24f53a,_0x56525c=(0x0,_0x51ef39[_0x536f('0x6')])(_0x3d537b[_0x536f('0x586')]);!(_0x3d624c=(_0x24f53a=_0x56525c[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3d624c=!0x0){var _0x4fa33f=_0x24f53a[_0x536f('0x10')];if(_0x4fa33f['id']===_0x3a4a51){_0x3d537b[_0x536f('0x356')][_0x536f('0xd1')](_0x4fa33f[_0x536f('0x1e8')]);break;}}}catch(_0x49d207){_0x1cc7ed=!0x0,_0x73602f=_0x49d207;}finally{try{!_0x3d624c&&_0x56525c[_0x536f('0x265')]&&_0x56525c['return']();}finally{if(_0x1cc7ed)throw _0x73602f;}}};break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x587')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x54d')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this['o3d_'][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]),this[_0x536f('0x46a')]=function(_0x3a4a51){this[_0x34eb52][_0x536f('0x575')]['outfire'](_0x3a4a51);};break;case _0xcf1188['ESMarkerType'][_0x536f('0x588')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x552')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this['o3d_'][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d['height']);break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x589')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x297')]](_0x276e9d),this['o3d_']=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]);break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x58a')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x298')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')]['datas_']=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]);break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x58b')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x299')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b['object3d'],(this['o3d_'][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]),this[_0x536f('0x283')]=function(_0x3a4a51){var _0x3d624c=this,_0x1cc7ed=_0x3a4a51[_0x536f('0x555')],_0x1cc7ed=void 0x0===_0x1cc7ed?0x2:_0x1cc7ed,_0x3a4a51=_0x3a4a51[_0x536f('0x21d')],_0x3a4a51=void 0x0===_0x3a4a51?0x64:_0x3a4a51;this[_0x34eb52][_0x536f('0x575')]['toggleEmitter'](!0x0),this[_0x34eb52][_0x536f('0x575')][_0x536f('0x58c')]({'time':_0x1cc7ed,'radius':_0x3a4a51}),setTimeout(function(){_0x3d624c[_0x34eb52][_0x536f('0x575')][_0x536f('0x58d')](!0x1);},0x3e8*_0x1cc7ed);};break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x58e')]:_0x3d537b=_0x4ee104[_0xcf1188['MarkerFuncName'][_0x536f('0x29a')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')]['datas_']=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]);break;case _0xcf1188['ESMarkerType'][_0x536f('0x58f')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x29b')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')]['datas_']=this)[_0x34eb52]['_instance']=_0x3d537b,this['setPosition']({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]);break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x590')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x29c')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this['o3d_']['datas_']=this)[_0x34eb52]['_instance']=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]),this['updateConfig']=function(_0x3a4a51){this[_0x34eb52][_0x536f('0x575')]['updateConfig'](_0x3a4a51);};break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x591')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')]['SpriteSheetMarker']](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b['object3d'],(this['o3d_'][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]),this[_0x536f('0x592')]=function(){var _0x3d624c=this,_0x1cc7ed=0x0<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x0]?arguments[0x0]:{'duration':0x0};return new _0x73602f['default'](function(_0x3a4a51){setTimeout(function(){_0x3d624c[_0x34eb52]['_instance'][_0x536f('0x592')](),_0x3a4a51();},0x3e8*_0x1cc7ed['duration']);});},this[_0x536f('0x573')](this[_0x536f('0x525')]);break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x593')]:_0x3d537b=_0x4ee104[_0xcf1188['MarkerFuncName']['UpLine']](_0x276e9d),this['o3d_']=_0x3d537b[_0x536f('0x356')],(this['o3d_'][_0x536f('0x3f')]=this)[_0x34eb52]['_instance']=_0x3d537b;break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x594')]:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0xc7')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')]['datas_']=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,_0x4648c0['on'](_0x536f('0x595'),function(_0x3a4a51){'2D'===_0x3a4a51?_0x3d537b['object3d'][_0x536f('0x36c')]=!0x1:'3D'===_0x3a4a51&&(_0x3d537b[_0x536f('0x356')][_0x536f('0x36c')]=!0x0);}),this['addLine']=function(_0x3a4a51){var _0x3d624c=void 0x0,_0x1cc7ed=void 0x0,_0x73602f=void 0x0;if(Array['isArray'](_0x3a4a51))_0x1cc7ed=_0x3a4a51;else{if(_0x536f('0x1c')!==(void 0x0===_0x3a4a51?_0x536f('0x18'):(0x0,_0x21e27a['default'])(_0x3a4a51)))return void console['info'](_0x536f('0x596'));_0x3d624c=_0x3a4a51[_0x536f('0x597')],_0x1cc7ed=_0x3a4a51[_0x536f('0x27d')],_0x73602f=_0x3a4a51['id'];}var _0x3a4a51=_0x1cc7ed[0x0],_0x24f53a=[],_0x56525c=!0x0,_0x4fa33f=!0x1,_0x538858=void 0x0;try{for(var _0x25c8bc,_0x3d537b=(0x0,_0x51ef39['default'])(_0x1cc7ed);!(_0x56525c=(_0x25c8bc=_0x3d537b[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x56525c=!0x0){var _0xcd9e20=_0x25c8bc[_0x536f('0x10')],_0xcf1188=_0xcd9e20[_0x536f('0xf8')]||0x0,_0x531322=(_0xcd9e20[_0x536f('0x304')]&&(_0xcf1188=_0x4648c0[_0x536f('0x598')](_0x3d624c||0x0)[_0x536f('0x521')](_0xcd9e20[_0x536f('0x304')])+_0xcd9e20[_0x536f('0xf8')]),_0x4648c0[_0x536f('0x1d')]({'x':_0xcd9e20['x'],'y':_0xcd9e20['y'],'z':_0xcf1188,'bid':_0xcd9e20[_0x536f('0x597')]||0x0}));_0x24f53a[_0x536f('0x82')](_0x531322);}}catch(_0x390260){_0x4fa33f=!0x0,_0x538858=_0x390260;}finally{try{!_0x56525c&&_0x3d537b[_0x536f('0x265')]&&_0x3d537b[_0x536f('0x265')]();}finally{if(_0x4fa33f)throw _0x538858;}}_0x1cc7ed=this[_0x34eb52][_0x536f('0x575')][_0x536f('0x351')](_0x24f53a,!0x0);return this[_0x34eb52][_0x536f('0x575')][_0x536f('0x355')]&&(_0x1cc7ed[_0x536f('0x355')]=this[_0x34eb52][_0x536f('0x575')][_0x536f('0x355')]),_0x73602f&&(_0x1cc7ed[_0x536f('0x599')]=_0x73602f),(0x0,_0x372a55[_0x536f('0x2e')])(_0x1cc7ed,_0x3a4a51,_0x276e9d['height']),_0x146366(_0x276e9d,_0x1cc7ed),{'lastAngle':_0x1cc7ed[_0x536f('0x59a')]};},this[_0x536f('0x52e')]=function(){var _0x3d624c=[],_0x3a4a51=(this[_0x34eb52][_0x536f('0x575')][_0x536f('0x356')]['traverse'](function(_0x3a4a51){_0x3a4a51 instanceof THREE[_0x536f('0x354')]&&_0x3d624c[_0x536f('0x82')](_0x3a4a51);}),!0x0),_0x1cc7ed=!0x1,_0x73602f=void 0x0;try{for(var _0x24f53a,_0x56525c=(0x0,_0x51ef39[_0x536f('0x6')])(_0x3d624c);!(_0x3a4a51=(_0x24f53a=_0x56525c[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3a4a51=!0x0){var _0x4fa33f=_0x24f53a[_0x536f('0x10')];this[_0x34eb52][_0x536f('0x575')][_0x536f('0x356')][_0x536f('0xd1')](_0x4fa33f);}}catch(_0x452ae5){_0x1cc7ed=!0x0,_0x73602f=_0x452ae5;}finally{try{!_0x3a4a51&&_0x56525c['return']&&_0x56525c[_0x536f('0x265')]();}finally{if(_0x1cc7ed)throw _0x73602f;}}},this[_0x536f('0x59b')]=this[_0x34eb52]['_instance'][_0x536f('0x33b')],this[_0x536f('0x59c')]=this[_0x34eb52][_0x536f('0x575')]['addLineGeometry'][_0x536f('0x7')](this[_0x34eb52]['_instance']),this['fadeOut']=function(_0x3a4a51){this[_0x34eb52][_0x536f('0x575')][_0x536f('0x59d')](_0x3a4a51);},this[_0x536f('0x59e')]=function(_0x3a4a51){this[_0x34eb52][_0x536f('0x575')]['lineMaterial'][_0x536f('0x3bd')]=_0x3a4a51;},this[_0x536f('0x59f')]=function(_0x3a4a51){_0x3a4a51=_0x3a4a51||0x1,this[_0x34eb52]['_instance'][_0x536f('0x5a0')]||(this[_0x34eb52][_0x536f('0x575')][_0x536f('0x5a0')]=this[_0x34eb52][_0x536f('0x575')][_0x536f('0x33b')]['lineWidth']),this[_0x34eb52][_0x536f('0x575')][_0x536f('0x33b')][_0x536f('0x341')]=this[_0x34eb52][_0x536f('0x575')][_0x536f('0x5a0')]*_0x3a4a51;},this['setColor']=function(_0x3a4a51){_0x3a4a51&&this[_0x34eb52][_0x536f('0x575')][_0x536f('0x33b')][_0x536f('0x21f')][_0x536f('0x33d')](_0x3a4a51);},this[_0x536f('0x5a1')]=function(_0x3a4a51){var _0x3d624c;_0x3a4a51['imgUrl']&&((_0x3d624c=_0x29c469[_0x536f('0x263')](_0x3a4a51['imgUrl']))[_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x3d624c[_0x536f('0x434')]=THREE['RepeatWrapping'],(this[_0x34eb52][_0x536f('0x575')]['lineMaterial'][_0x536f('0xcf')]=_0x3d624c)[_0x536f('0xfa')]=!0x0),_0x3a4a51[_0x536f('0x562')]&&(this[_0x34eb52]['_instance'][_0x536f('0x33b')][_0x536f('0x2ee')]=_0x3a4a51['imgRepeat']&&0x0<_0x3a4a51[_0x536f('0x562')]?{'x':_0x3a4a51['imgRepeat'],'y':0x1}:{'x':0x1,'y':0x1}),_0x3a4a51[_0x536f('0x21f')]&&this[_0x34eb52][_0x536f('0x575')][_0x536f('0x33b')][_0x536f('0x21f')]['setStyle'](_0x3a4a51[_0x536f('0x21f')]),_0x3a4a51[_0x536f('0x36b')]&&(this[_0x34eb52][_0x536f('0x575')][_0x536f('0x36b')]=_0x3a4a51[_0x536f('0x36b')]);};break;case _0xcf1188['ESMarkerType']['PLANE_VIDEO']:_0x3d537b=_0x4ee104[_0xcf1188['MarkerFuncName'][_0x536f('0x5a2')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')][_0x536f('0x3f')]=this)[_0x34eb52]['_instance']=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]),this[_0x536f('0x5a3')]=function(){this[_0x34eb52][_0x536f('0x575')][_0x536f('0x5a3')]();},this[_0x536f('0x5a4')]=function(){this[_0x34eb52][_0x536f('0x575')][_0x536f('0x5a4')]();};break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x5a5')]:_0x3d537b=_0x4ee104[_0xcf1188['MarkerFuncName'][_0x536f('0x29f')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b['object3d'],(this['o3d_'][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d['height']),this[_0x536f('0x5a6')]=function(_0x3a4a51){this[_0x536f('0x525')][_0x536f('0x1f0')]['y']=THREE['Math'][_0x536f('0x322')](_0x3a4a51);};break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x5a7')]:_0x3d537b=_0x4ee104[_0xcf1188['MarkerFuncName'][_0x536f('0x2a0')]](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b['object3d'],(this[_0x536f('0x525')][_0x536f('0x3f')]=this)[_0x34eb52]['_instance']=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]),this['setAlpha']=function(_0x3a4a51){this[_0x34eb52][_0x536f('0x575')][_0x536f('0xce')][_0x536f('0x201')]=_0x3a4a51;};break;case _0xcf1188[_0x536f('0x2a4')][_0x536f('0x5a8')]:_0x3d537b=_0x4ee104[_0xcf1188['MarkerFuncName']['PlaneTerrainMarker']](_0x276e9d),this[_0x536f('0x525')]=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]);break;case _0xcf1188[_0x536f('0x2a4')]['PLANE_GROUND']:_0x3d537b=_0x4ee104[_0xcf1188[_0x536f('0x272')][_0x536f('0x2a2')]](_0x276e9d),this['o3d_']=_0x3d537b[_0x536f('0x356')],(this[_0x536f('0x525')][_0x536f('0x3f')]=this)[_0x34eb52][_0x536f('0x575')]=_0x3d537b,this[_0x536f('0x571')]({'x':_0x276e9d['x'],'y':_0x276e9d['y']},_0x276e9d[_0x536f('0x339')]),_0x4648c0['on'](_0x536f('0x5a9'),function(_0x3a4a51){_0x3d537b[_0x536f('0x56e')]&&_0x3d537b[_0x536f('0x420')]&&(_0x3d537b[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x5aa')]['value']=Number(_0x4648c0['zoomLevel']));});}_0x276e9d[_0x536f('0x5ab')]&&(_0x3a4a51=_0x276e9d[_0x536f('0x5ac')]||0x1f4,_0x3a4a51=new THREE[(_0x536f('0x5ad'))](_0x3a4a51),this[_0x536f('0x525')][_0x536f('0x1c3')](_0x3a4a51));}},{'key':_0x536f('0x571'),'value':function(_0x3a4a51,_0x3d624c){this[_0x536f('0x5ae')]={'x':_0x3a4a51['x'],'y':_0x3a4a51['y'],'z':_0x3d624c};_0x3a4a51=(0x0,_0x372a55[_0x536f('0x35')])(_0x3a4a51['x'],_0x3a4a51['y']);this[_0x536f('0x525')][_0x536f('0x3b')][_0x536f('0x1b')](_0x3a4a51['x'],_0x3d624c||0x0,_0x3a4a51['y']);}},{'key':_0x536f('0x5af'),'value':function(_0x3a4a51){this[_0x536f('0x525')][_0x536f('0x1f0')]['set'](THREE['Math'][_0x536f('0x322')](_0x3a4a51['x']),THREE[_0x536f('0x19')][_0x536f('0x322')](_0x3a4a51['y']),THREE[_0x536f('0x19')][_0x536f('0x322')](_0x3a4a51['z']));}},{'key':'dispose','value':function(){this[_0x536f('0x5b0')]=!0x1,this[_0x536f('0x5b1')](),_0x4648c0['default'][_0x536f('0x367')](this[_0x536f('0x525')]),this[_0x34eb52]['_instance'][_0x536f('0x5b2')]&&clearInterval(this[_0x34eb52][_0x536f('0x575')][_0x536f('0x5b2')]),this[_0x34eb52]['_instance']=null;}},{'key':_0x536f('0x573'),'value':function(_0x3a4a51){var _0x3d624c=(0x0,_0x372a55[_0x536f('0x2d')])();_0x3a4a51[_0x536f('0x3f')]=this,_0x3a4a51['name']=_0x536f('0x5b3'),_0x3d624c[_0x536f('0x5b4')][_0x536f('0x5b5')](_0x3a4a51);}},{'key':_0x536f('0x5b6'),'value':function(_0x3a4a51){this[_0x536f('0x5b0')]=!0x0,this[_0x536f('0x37c')]&&this[_0x536f('0x37c')](_0x3a4a51);}},{'key':'_bindListen','value':function(){this[_0x536f('0x37e')]('canUpdate',this[_0x536f('0x5b6')]);}},{'key':_0x536f('0x5b1'),'value':function(){this[_0x536f('0x380')](_0x536f('0x493'),this[_0x536f('0x5b6')]);}},{'key':'_setShowLevel','value':function(_0x3a4a51){this[_0x536f('0x525')]&&!this['isForceVisible']&&(Array['isArray'](this[_0x536f('0x5b7')])?this[_0x536f('0x525')][_0x536f('0x36c')]=_0x3a4a51>=this[_0x536f('0x5b7')][0x0]&&_0x3a4a51<=this[_0x536f('0x5b7')][0x1]:this['o3d_'][_0x536f('0x36c')]=_0x3a4a51>=this[_0x536f('0x5b7')]);}},{'key':_0x536f('0x5b8'),'value':function(){var _0x3d624c=this,_0x3a4a51=(0x0,_0x372a55['getMapInstance'])();_0x3a4a51['on'](_0x536f('0x5b9'),function(_0x3a4a51){_0x3d624c[_0x536f('0x5ba')](_0x3a4a51);}),this[_0x536f('0x5ba')](_0x3a4a51[_0x536f('0x5bb')]);}},{'key':_0x536f('0x5bc'),'value':function(_0x3a4a51){var _0x3d624c;this[_0x536f('0x5b0')]&&(this[_0x34eb52][_0x536f('0x575')][_0x536f('0x2f3')]&&this[_0x34eb52][_0x536f('0x575')][_0x536f('0x2f3')](_0x3a4a51),this[_0x34eb52][_0x536f('0x575')]['render']&&((_0x3d624c=this[_0x34eb52][_0x536f('0x575')][_0x536f('0x420')])&&(_0x3d624c['vertexShader']&&(_0x3d624c[_0x536f('0x57')]=''),_0x3d624c[_0x536f('0x58')]&&(_0x3d624c[_0x536f('0x58')]='')),this[_0x34eb52]['_instance'][_0x536f('0x36a')](_0x3a4a51)));}},{'key':_0x536f('0x36c'),'set':function(_0x3a4a51){this['o3d_'][_0x536f('0x36c')]=_0x3a4a51;},'get':function(){return this[_0x536f('0x525')][_0x536f('0x36c')];}},{'key':_0x536f('0x45d'),'set':function(_0x3a4a51){this[_0x34eb52][_0x536f('0x575')][_0x536f('0x45d')]=_0x3a4a51;}},{'key':_0x536f('0x5b7'),'set':function(_0x3a4a51){null!==_0x3a4a51&&(this['_options'][_0x536f('0x5b7')]=_0x3a4a51,this['_setShowLevel'](esmap[_0x536f('0x21')][_0x536f('0x22')][_0x536f('0x5bb')]));},'get':function(){return this['_options'][_0x536f('0x5b7')];}}]),_0x43ac84);function _0x43ac84(_0x3a4a51){var _0x3d624c=0x1<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x1]?arguments[0x1]:{},_0x1cc7ed=((0x0,_0x538858[_0x536f('0x6')])(this,_0x43ac84),(0x0,_0x25c8bc[_0x536f('0x6')])(this,(_0x43ac84['__proto__']||(0x0,_0x4fa33f[_0x536f('0x6')])(_0x43ac84))[_0x536f('0xa')](this))),_0x73602f=(_0x1cc7ed[_0x536f('0x5b0')]=!0x1,_0x1cc7ed['_options']=_0x3d624c,_0x1cc7ed['id']=_0x3d624c['id']||'',_0x1cc7ed[_0x536f('0x92')]=_0x3d624c[_0x536f('0x92')]||'',_0x1cc7ed[_0x536f('0x5bd')]=_0x3a4a51,_0x1cc7ed[_0x536f('0x5be')]=0xc8,_0x1cc7ed['FloorNum']=0x1,_0x1cc7ed['showLevel']=_0x3d624c[_0x536f('0x5b7')],_0x1cc7ed[_0x536f('0x525')]=null,_0x1cc7ed[_0x536f('0x5ae')]=null,_0x1cc7ed[_0x34eb52]={},(0x0,_0x5c91b7[_0x536f('0x6')])(_0x3a4a51)),_0x24f53a=!0x1,_0x56525c=(0x0,_0x372a55[_0x536f('0x2d')])();return _0x56525c&&(_0x24f53a=_0x56525c[_0x536f('0x5bf')][_0x536f('0x51')]('sk')),!0x0===_0x73602f||_0x24f53a?(Object[_0x536f('0x1')](_0x1cc7ed[_0x34eb52],_0x536f('0x575'),{'value':null,'writable':!0x0,'enumerable':!0x1}),_0x1cc7ed['_init'](_0x3a4a51,_0x3d624c),_0x1cc7ed[_0x536f('0x5c0')](),_0x3d624c['showLevel']&&_0x1cc7ed['_bindShowLevel'](_0x3d624c[_0x536f('0x5b7')]),_0x1cc7ed[_0x536f('0x37c')]=_0x3d624c[_0x536f('0x37c')],_0x1cc7ed):(console[_0x536f('0xdc')](_0x73602f+_0x536f('0x5c1')),(0x0,_0x25c8bc[_0x536f('0x6')])(_0x1cc7ed));}_0x3d624c[_0x536f('0x6')]=_0x276e9d;},function(_0x475cd8,_0x394db3,_0x55c513){'use strict';Object[_0x536f('0x1')](_0x394db3,_0x536f('0x4'),{'value':!0x0});var _0x562680=_0x2a3ad1(_0x55c513(0x4)),_0x48ebed=_0x2a3ad1(_0x55c513(0x17)),_0x11b6fd=_0x2a3ad1(_0x55c513(0x0)),_0x3fd8a8=_0x2a3ad1(_0x55c513(0x1)),_0x1b0c57=_0x2a3ad1(_0x55c513(0x1d)),_0x39bf7d=_0x2a3ad1(_0x55c513(0x1e)),_0x56b798=_0x2a3ad1(_0x55c513(0x40));function _0x2a3ad1(_0x475cd8){return _0x475cd8&&_0x475cd8[_0x536f('0x4')]?_0x475cd8:{'default':_0x475cd8};}function _0x3dabae(_0x475cd8){var _0x394db3=_0x475cd8[_0x536f('0xcf')],_0x55c513=_0x475cd8['id'],_0x3fd8a8=_0x475cd8[_0x536f('0x48e')],_0x39bf7d=_0x475cd8[_0x536f('0x5c2')],_0x39bf7d=void 0x0!==_0x39bf7d&&_0x39bf7d,_0x1d529d=_0x475cd8['texPath'],_0x4ed366=_0x475cd8[_0x536f('0x5c3')],_0xf2f5f4=_0x475cd8[_0x536f('0x5c4')],_0x57320c=_0x475cd8[_0x536f('0x5c5')],_0x2a3ad1=_0x475cd8[_0x536f('0x5c6')],_0x2a3ad1=void 0x0===_0x2a3ad1?0.1:_0x2a3ad1,_0x6eedd9=_0x475cd8[_0x536f('0x5c7')],_0x6eedd9=void 0x0===_0x6eedd9?'#ffffff':_0x6eedd9,_0x5f1aa8=_0x475cd8['highLightColorStr'],_0x5f1aa8=void 0x0===_0x5f1aa8?_0x536f('0x4af'):_0x5f1aa8,_0x562680=_0x475cd8['emissiveColorStr'],_0x562680=void 0x0===_0x562680?null:_0x562680,_0x43568b=_0x475cd8[_0x536f('0x201')],_0x43568b=void 0x0===_0x43568b?0x1:_0x43568b,_0x2cb47f=_0x475cd8['isBlending'],_0x2cb47f=void 0x0!==_0x2cb47f&&_0x2cb47f,_0x8259a4=_0x475cd8[_0x536f('0x5c8')],_0x8259a4=void 0x0!==_0x8259a4&&_0x8259a4,_0x2a8d41=_0x475cd8[_0x536f('0x5c9')],_0x2a8d41=void 0x0!==_0x2a8d41&&_0x2a8d41,_0x13d907=_0x475cd8['isBreathColor'],_0x13d907=void 0x0!==_0x13d907&&_0x13d907,_0x56b798=_0x475cd8[_0x536f('0x5ca')],_0x56b798=void 0x0!==_0x56b798&&_0x56b798,_0x20a22b=_0x475cd8['isShowVerticalScan'],_0x20a22b=void 0x0!==_0x20a22b&&_0x20a22b,_0x4a99f2=_0x475cd8[_0x536f('0x5cb')],_0x4a99f2=void 0x0!==_0x4a99f2&&_0x4a99f2,_0xa3a76f=_0x475cd8[_0x536f('0x5cc')],_0xa3a76f=void 0x0!==_0xa3a76f&&_0xa3a76f,_0x2d8309=_0x475cd8[_0x536f('0x5cd')],_0x2d8309=void 0x0===_0x2d8309?{'x':0x0,'y':0x0}:_0x2d8309,_0x653ca0=_0x475cd8[_0x536f('0x5ce')],_0x653ca0=void 0x0===_0x653ca0?_0x536f('0x5cf'):_0x653ca0,_0x475eec=_0x475cd8[_0x536f('0x5d0')],_0x475eec=void 0x0===_0x475eec?0x1f4:_0x475eec,_0x460cb4=_0x475cd8[_0x536f('0x5d1')],_0x460cb4=void 0x0===_0x460cb4?0x1:_0x460cb4,_0x34ee84=_0x475cd8['hlExtent'],_0x34ee84=void 0x0===_0x34ee84?[-0x2710,0x2710]:_0x34ee84,_0x9c8862=_0x475cd8[_0x536f('0x5d2')],_0x9c8862=void 0x0===_0x9c8862?0x1:_0x9c8862,_0xca1d3=_0x475cd8[_0x536f('0x5d3')],_0xca1d3=void 0x0===_0xca1d3?0x64:_0xca1d3,_0x32c0c8=_0x475cd8[_0x536f('0x5d4')],_0x32c0c8=void 0x0===_0x32c0c8?'#FFFFFF':_0x32c0c8,_0x400730=_0x475cd8['vlExtent'],_0x400730=void 0x0===_0x400730?[-0x64,0x64]:_0x400730,_0x30e7db=_0x475cd8[_0x536f('0x5d5')],_0x30e7db=void 0x0===_0x30e7db?0x1:_0x30e7db,_0x50f757=_0x475cd8['vlIsTop'],_0x50f757=void 0x0===_0x50f757||_0x50f757,_0x5c9e9b=_0x475cd8[_0x536f('0x5d6')],_0x5c9e9b=void 0x0===_0x5c9e9b?'#FFFFFF':_0x5c9e9b,_0x2d398b=_0x475cd8[_0x536f('0x5d7')],_0x2d398b=void 0x0===_0x2d398b?0x3e8:_0x2d398b,_0x228d59=_0x475cd8[_0x536f('0x5d8')],_0x228d59=void 0x0===_0x228d59?0x3e8:_0x228d59,_0x15cdb8=_0x475cd8['csSpeed'],_0x15cdb8=void 0x0===_0x15cdb8?0x1:_0x15cdb8,_0xff7ac3=_0x475cd8['csCenterPos'],_0xff7ac3=void 0x0===_0xff7ac3?{'x':0x0,'y':0x0}:_0xff7ac3,_0x21ff42=_0x475cd8[_0x536f('0x5d9')],_0x21ff42=void 0x0===_0x21ff42?_0x536f('0x36e'):_0x21ff42,_0x474343=_0x475cd8[_0x536f('0x5da')],_0x474343=void 0x0===_0x474343?0x3e8:_0x474343,_0x4a623f=_0x475cd8[_0x536f('0x5db')],_0x4a623f=void 0x0===_0x4a623f?0x1:_0x4a623f,_0x4a2157=_0x475cd8[_0x536f('0x5dc')],_0x4a2157=void 0x0===_0x4a2157?{'x':0x0,'y':0x0}:_0x4a2157,_0x290a44=_0x475cd8['radarTexPath'],_0xfb5b1d=_0x475cd8[_0x536f('0x5dd')],_0xfb5b1d=void 0x0===_0xfb5b1d?{'top':0x1,'side':0x1}:_0xfb5b1d,_0x561320=_0x475cd8[_0x536f('0x2ee')],_0x561320=void 0x0===_0x561320?{'x':0.08,'y':0.08}:_0x561320,_0x2380a5=_0x475cd8[_0x536f('0x5de')],_0x2380a5=void 0x0===_0x2380a5?{'x':0.08,'y':0.08}:_0x2380a5,_0x2e9de1=_0x475cd8['topRotate'],_0x2e9de1=void 0x0===_0x2e9de1?0x0:_0x2e9de1,_0x213e52=_0x475cd8['extentEffectConfig'],_0x213e52=void 0x0===_0x213e52?null:_0x213e52,_0x475cd8=_0x475cd8[_0x536f('0x5df')],_0x475cd8=void 0x0===_0x475cd8?null:_0x475cd8,_0x1380b8=((0x0,_0x11b6fd['default'])(this,_0x3dabae),(0x0,_0x1b0c57[_0x536f('0x6')])(this,(_0x3dabae[_0x536f('0x66')]||(0x0,_0x48ebed[_0x536f('0x6')])(_0x3dabae))[_0x536f('0xa')](this))),_0x3fd8a8=(_0x1380b8['map']=_0x394db3,_0x1380b8[_0x536f('0x306')]=_0x3fd8a8,_0x1380b8['id']=_0x55c513,_0x1380b8[_0x536f('0x5e0')]=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x6eedd9),_0x1380b8[_0x536f('0x5e1')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x5f1aa8),_0x1380b8[_0x536f('0x1c7')]=null,_0x1380b8[_0x536f('0x5e2')]=null,_0x1380b8[_0x536f('0x5e3')]=null,_0x1380b8[_0x536f('0x5e4')]=null,_0x1380b8[_0x536f('0x5e5')]=null,_0x1380b8[_0x536f('0x5e6')]=null,_0x1380b8['emissiveTexture']=null,_0x1380b8['material']=null,_0x1380b8[_0x536f('0x5e7')]=null,_0x1380b8[_0x536f('0x201')]=_0x43568b,_0x1380b8['emissiveFactor']=new THREE[(_0x536f('0x1b7'))](0x1,0x1,0x1,_0x2a3ad1),_0x562680&&(_0x394db3=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x562680),_0x1380b8[_0x536f('0x5e8')]['x']=_0x394db3['r'],_0x1380b8[_0x536f('0x5e8')]['y']=_0x394db3['g'],_0x1380b8[_0x536f('0x5e8')]['z']=_0x394db3['b']),_0x1380b8[_0x536f('0x41f')]=null,_0x1380b8[_0x536f('0x420')]=null,_0x1380b8['count']=0x0,_0x1380b8[_0x536f('0x5e9')]=_0x34ee84[0x0],_0x1380b8[_0x536f('0x5ea')]=0x0,_0x1380b8[_0x536f('0x5eb')]=0x0,_0x1380b8['rdTime']=0x0,_0x1380b8['isBlending']=_0x2cb47f,_0x1380b8[_0x536f('0x5c8')]=_0x8259a4?0x1:0x0,_0x1380b8[_0x536f('0x5ca')]=_0x56b798,_0x1380b8[_0x536f('0x5ec')]=_0x20a22b,_0x1380b8[_0x536f('0x5cb')]=_0x4a99f2,_0x1380b8[_0x536f('0x5cc')]=_0xa3a76f,_0x1380b8['centerPos']=_0x2d8309,_0x1380b8[_0x536f('0x5c9')]=_0x2a8d41?0x1:0x0,_0x1380b8[_0x536f('0x5ed')]=!0x1,_0x1380b8['hlExtent']=_0x34ee84,_0x1380b8[_0x536f('0x5d0')]=_0x475eec,_0x1380b8['hlDiffuse']=_0x460cb4,_0x1380b8[_0x536f('0x5ee')]=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x653ca0),_0x1380b8[_0x536f('0x5d2')]=_0x9c8862,_0x1380b8[_0x536f('0x5ef')]=_0x400730,_0x1380b8['vlColor']=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x32c0c8),_0x1380b8['vlHeight']=_0xca1d3,_0x1380b8['vlSpeed']=_0x30e7db,_0x1380b8[_0x536f('0x5f0')]=_0x50f757,_0x1380b8[_0x536f('0x5f1')]=new THREE['Color']()[_0x536f('0x33d')](_0x5c9e9b),_0x1380b8[_0x536f('0x5d7')]=_0x2d398b,_0x1380b8[_0x536f('0x5d8')]=_0x228d59,_0x1380b8['csSpeed']=_0x15cdb8,_0x1380b8['csCenterPos']=_0xff7ac3,_0x1380b8[_0x536f('0x5f2')]=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x21ff42),_0x1380b8[_0x536f('0x5da')]=_0x474343,_0x1380b8[_0x536f('0x5db')]=_0x4a623f,_0x1380b8[_0x536f('0x5f3')]=_0x290a44,_0x1380b8[_0x536f('0x5dc')]=_0x4a2157,_0x1380b8[_0x536f('0x5f4')]=_0x13d907,_0x1380b8[_0x536f('0x5f5')]=new THREE[(_0x536f('0x1b7'))](_0x2380a5['x'],_0x2380a5['y'],_0x561320['x'],_0x561320['y']),_0x1380b8['textureRotate']=new THREE[(_0x536f('0x1b5'))](THREE['Math'][_0x536f('0x322')](_0x2e9de1),0x0),_0x1380b8['textureLightStrength']=new THREE[(_0x536f('0x1b5'))](_0xfb5b1d[_0x536f('0x5f6')],_0xfb5b1d[_0x536f('0x3ad')]),_0x1380b8['isUseExtentEffect']=!0x1,_0x1380b8['extentRadius']=0x1f4,_0x1380b8[_0x536f('0x5f7')]={'x':0x0,'y':0x0},null),_0x55c513=(_0x213e52&&(_0x1380b8[_0x536f('0x5f8')]=!0x0,_0x1380b8[_0x536f('0x44a')]=_0x213e52['radius'],_0x1380b8[_0x536f('0x5f7')]=_0x213e52['center'],_0x3fd8a8=_0x213e52[_0x536f('0x5f9')]),_0x1380b8[_0x536f('0x5fa')]=!0x1,null);return _0x475cd8&&(_0x1380b8[_0x536f('0x5fa')]=!0x0,_0x55c513=_0x475cd8[_0x536f('0x5fb')]),_0x1380b8[_0x536f('0x5fc')]=null,_0x1380b8[_0x536f('0x5fd')]=null,_0x1380b8[_0x536f('0x5c2')]=_0x39bf7d,_0x1380b8[_0x536f('0x5fe')]=null,_0x1380b8[_0x536f('0x5ff')]=null,_0x1380b8[_0x536f('0x600')]=0x1,_0x1380b8[_0x536f('0x601')]=0x1,_0x1380b8['textureLoader']=new THREE['TextureLoader'](),_0x1380b8[_0x536f('0x602')]=0x0,_0x1380b8[_0x536f('0x33a')]({'sideTexPath':_0x1d529d,'topTexPath':_0x4ed366,'gradientTexPath':_0xf2f5f4,'extentGradientTexPath':_0x3fd8a8,'emissiveTexPath':_0x57320c,'screenSkyTexPath':_0x55c513}),_0x1380b8;}_0x55c513=_0x55c513(0x24)[_0x536f('0x73')],(0x0,_0x39bf7d['default'])(_0x3dabae,_0x55c513),(0x0,_0x3fd8a8[_0x536f('0x6')])(_0x3dabae,[{'key':_0x536f('0x603'),'value':function(_0x475cd8,_0x394db3,_0x55c513){var _0x3fd8a8,_0x39bf7d=this[_0x536f('0x5fe')][_0x475cd8];for(_0x3fd8a8 in _0x39bf7d[_0x536f('0x604')])if(_0x39bf7d[_0x536f('0x604')][_0x3fd8a8]===_0x394db3&&_0x39bf7d['sideImgIndexMap'][_0x3fd8a8]===_0x55c513)return{'style':_0x475cd8,'group':_0x3fd8a8};return{'style':null,'group':null};}},{'key':'computeTopFaceAttr','value':function(_0x475cd8){var _0x394db3=_0x475cd8[_0x536f('0x3f')]['brothers'][_0x536f('0xd')];if(0x0<_0x394db3)for(var _0x55c513,_0x3fd8a8,_0x39bf7d,_0x2a3ad1=0x0;_0x2a3ad1<_0x394db3;_0x2a3ad1++)void 0x0!==_0x475cd8['datas_'][_0x536f('0x605')][_0x2a3ad1][_0x536f('0x40')]&&this['isTileBuilding']&&(_0x55c513=this[_0x536f('0x5fc')][_0x475cd8[_0x536f('0x3f')][_0x536f('0x605')][_0x2a3ad1][_0x536f('0x40')]],this[_0x536f('0xce')]['transparent']=!0x0,void 0x0!==_0x55c513&&_0x55c513[_0x536f('0x606')]&&0x1==+_0x55c513[_0x536f('0x606')]&&_0x55c513[_0x536f('0x21f')]||(void 0x0!==_0x55c513&&_0x55c513['filltype']&&0x2==+_0x55c513['filltype']&&(_0x55c513[_0x536f('0x607')]||_0x55c513[_0x536f('0x608')])&&this[_0x536f('0x420')]?(_0x3fd8a8=(_0x3fd8a8=this[_0x536f('0x603')](this['id'],_0x55c513[_0x536f('0x607')],_0x55c513[_0x536f('0x608')]))[_0x536f('0x1fa')]?+_0x3fd8a8[_0x536f('0x1fa')]-0x1:0x0,_0x55c513[_0x536f('0x607')]&&(_0x39bf7d=this[_0x536f('0x5fe')][this['id']]['topImgIndexMap'][0x1+_0x3fd8a8])&&!this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x609')][_0x536f('0x10')][_0x3fd8a8]&&(this['shader']['uniforms'][_0x536f('0x609')]['value'][_0x3fd8a8]=this['themeTextureList'][_0x39bf7d][_0x536f('0x1c7')],0x2!=_0x55c513[_0x536f('0x60a')]?(this['shader'][_0x536f('0x168')]['topTexArr'][_0x536f('0x10')][_0x3fd8a8]['wrapS']=THREE[_0x536f('0x376')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x609')]['value'][_0x3fd8a8][_0x536f('0x375')]=THREE['RepeatWrapping'],this[_0x536f('0x420')][_0x536f('0x168')]['topTexWrapArr'][_0x536f('0x10')][_0x3fd8a8]=THREE['RepeatWrapping'],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x60b')][_0x536f('0x10')]['x']=this[_0x536f('0x601')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x60b')][_0x536f('0x10')]['y']=this['buildingBaseRepeat'],this[_0x536f('0x420')][_0x536f('0x168')]['topTexRepeatArr'][_0x536f('0x10')][_0x3fd8a8]=Math[_0x536f('0x7c')](+_0x55c513[_0x536f('0x60c')]/0x1f4*0x3e8)/0x3e8):this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x60d')][_0x536f('0x10')][_0x3fd8a8]=THREE[_0x536f('0x60e')],this['shader'][_0x536f('0x168')][_0x536f('0x609')][_0x536f('0x10')][_0x3fd8a8][_0x536f('0x92')]=_0x39bf7d),_0x55c513[_0x536f('0x608')]&&(_0x39bf7d=this[_0x536f('0x5fe')][this['id']][_0x536f('0x60f')][0x1+_0x3fd8a8])&&!this[_0x536f('0x420')]['uniforms']['sideTexArr'][_0x536f('0x10')][_0x3fd8a8]&&(this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x610')]['value'][_0x3fd8a8]=this['themeTextureList'][_0x39bf7d]['texture'],this['shader']['uniforms'][_0x536f('0x610')][_0x536f('0x10')][_0x3fd8a8][_0x536f('0x543')]=0x10,0x2!=_0x55c513[_0x536f('0x611')]?(this[_0x536f('0x420')]['uniforms'][_0x536f('0x610')]['value'][_0x3fd8a8][_0x536f('0x434')]=THREE[_0x536f('0x376')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x610')]['value'][_0x3fd8a8][_0x536f('0x375')]=THREE[_0x536f('0x376')],this[_0x536f('0x420')][_0x536f('0x168')]['sideTexWrapArr']['value'][_0x3fd8a8]=THREE[_0x536f('0x376')],this[_0x536f('0x420')]['uniforms'][_0x536f('0x60b')][_0x536f('0x10')]['z']=this[_0x536f('0x601')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x60b')][_0x536f('0x10')]['w']=this[_0x536f('0x601')],this[_0x536f('0x420')][_0x536f('0x168')]['sideTexRepeatArr'][_0x536f('0x10')][_0x3fd8a8]=Math[_0x536f('0x7c')](+_0x55c513[_0x536f('0x612')]/0x1f4*0x3e8)/0x3e8):this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x613')][_0x536f('0x10')][_0x3fd8a8]=THREE[_0x536f('0x60e')],this[_0x536f('0x420')]['uniforms'][_0x536f('0x610')]['value'][_0x3fd8a8][_0x536f('0x92')]=_0x39bf7d)):_0x475cd8[_0x536f('0x3f')]['brothers'][_0x2a3ad1]['RoomStyle']));}},{'key':_0x536f('0x614'),'value':function(_0x475cd8,_0x394db3){var _0x55c513=_0x475cd8[_0x536f('0x3f')][_0x536f('0x605')][_0x536f('0xd')];if(0x0<_0x55c513)for(var _0x3fd8a8,_0x39bf7d=0x0;_0x39bf7d<_0x55c513;_0x39bf7d++)void 0x0!==_0x475cd8['datas_'][_0x536f('0x605')][_0x39bf7d][_0x536f('0x40')]&&this[_0x536f('0x5c2')]&&(_0x3fd8a8=this[_0x536f('0x5fc')][_0x394db3],this[_0x536f('0xce')]['transparent']=!0x0,void 0x0!==_0x3fd8a8&&_0x3fd8a8[_0x536f('0x606')]&&0x1==+_0x3fd8a8['filltype']&&_0x3fd8a8[_0x536f('0x21f')]||(void 0x0!==_0x3fd8a8&&_0x3fd8a8['filltype']&&0x2==+_0x3fd8a8['filltype']&&(_0x3fd8a8['topImage']||_0x3fd8a8[_0x536f('0x608')])&&this[_0x536f('0x420')]?(_0x3fd8a8[_0x536f('0x607')]&&!this[_0x536f('0x420')][_0x536f('0x168')]['topTexArr']['value'][0x0]&&(this['shader'][_0x536f('0x168')][_0x536f('0x609')][_0x536f('0x10')][0x0]=this[_0x536f('0x5ff')][_0x3fd8a8[_0x536f('0x607')]][_0x536f('0x1c7')],0x2!=_0x3fd8a8[_0x536f('0x60a')]?(this['shader']['uniforms'][_0x536f('0x609')][_0x536f('0x10')][0x0][_0x536f('0x434')]=THREE[_0x536f('0x376')],this[_0x536f('0x420')]['uniforms'][_0x536f('0x609')][_0x536f('0x10')][0x0][_0x536f('0x375')]=THREE['RepeatWrapping'],this[_0x536f('0x420')]['uniforms'][_0x536f('0x60d')][_0x536f('0x10')][0x0]=THREE[_0x536f('0x376')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x60b')]['value']['x']=this[_0x536f('0x601')],this[_0x536f('0x420')][_0x536f('0x168')]['buildingTexRepeat'][_0x536f('0x10')]['y']=this[_0x536f('0x601')],this['shader'][_0x536f('0x168')][_0x536f('0x615')][_0x536f('0x10')][0x0]=Math[_0x536f('0x7c')](+_0x3fd8a8[_0x536f('0x60c')]/0x1f4*0x3e8)/0x3e8):this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x60d')]['value'][0x0]=THREE['ClampToEdgeWrapping'],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x609')][_0x536f('0x10')][0x0][_0x536f('0x92')]=_0x3fd8a8[_0x536f('0x607')]),_0x3fd8a8[_0x536f('0x608')]&&!this[_0x536f('0x420')][_0x536f('0x168')]['sideTexArr'][_0x536f('0x10')][0x0]&&(this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x610')][_0x536f('0x10')][0x0]=this[_0x536f('0x5ff')][_0x3fd8a8[_0x536f('0x608')]][_0x536f('0x1c7')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x610')][_0x536f('0x10')][0x0][_0x536f('0x543')]=0x10,0x2!=_0x3fd8a8[_0x536f('0x611')]?(this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x610')]['value'][0x0][_0x536f('0x434')]=THREE[_0x536f('0x376')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x610')]['value'][0x0][_0x536f('0x375')]=THREE['RepeatWrapping'],this[_0x536f('0x420')]['uniforms'][_0x536f('0x613')][_0x536f('0x10')][0x0]=THREE[_0x536f('0x376')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x60b')][_0x536f('0x10')]['z']=this[_0x536f('0x601')],this['shader'][_0x536f('0x168')]['buildingTexRepeat'][_0x536f('0x10')]['w']=this['buildingBaseRepeat'],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x616')][_0x536f('0x10')][0x0]=Math[_0x536f('0x7c')](+_0x3fd8a8['sideimagerepeat']/0x1f4*0x3e8)/0x3e8):this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x613')][_0x536f('0x10')][0x0]=THREE[_0x536f('0x60e')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x610')][_0x536f('0x10')][0x0][_0x536f('0x92')]=_0x3fd8a8[_0x536f('0x608')])):_0x475cd8[_0x536f('0x3f')][_0x536f('0x605')][_0x39bf7d][_0x536f('0x40')]));}},{'key':'getStyleFromRoomStyle','value':function(_0x475cd8){var _0x394db3=!0x0,_0x55c513=!0x1,_0x3fd8a8=void 0x0;try{for(var _0x39bf7d,_0x2a3ad1=(0x0,_0x562680[_0x536f('0x6')])(this[_0x536f('0x5fc')]);!(_0x394db3=(_0x39bf7d=_0x2a3ad1[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x394db3=!0x0){var _0x270f30=_0x39bf7d[_0x536f('0x10')];if(_0x270f30[_0x536f('0x617')]==_0x475cd8)return _0x270f30;}}catch(_0x167546){_0x55c513=!0x0,_0x3fd8a8=_0x167546;}finally{try{!_0x394db3&&_0x2a3ad1[_0x536f('0x265')]&&_0x2a3ad1[_0x536f('0x265')]();}finally{if(_0x55c513)throw _0x3fd8a8;}}console['error']('roomStyle',_0x475cd8);}},{'key':_0x536f('0x618'),'value':function(_0x475cd8,_0x394db3){var _0x55c513=!0x0,_0x3fd8a8=!0x1,_0x39bf7d=void 0x0;try{for(var _0x2a3ad1,_0x9b04ab=(0x0,_0x562680['default'])(this[_0x536f('0x5fd')]);!(_0x55c513=(_0x2a3ad1=_0x9b04ab[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x55c513=!0x0){var _0x16223a=_0x2a3ad1[_0x536f('0x10')];if(_0x16223a[_0x536f('0x619')][0x0]<=_0x394db3&&_0x16223a[_0x536f('0x619')][0x1]>_0x394db3)return void _0x475cd8[_0x536f('0x33d')](_0x16223a['color']);}}catch(_0x2dc675){_0x3fd8a8=!0x0,_0x39bf7d=_0x2dc675;}finally{try{!_0x55c513&&_0x9b04ab['return']&&_0x9b04ab[_0x536f('0x265')]();}finally{if(_0x3fd8a8)throw _0x39bf7d;}}}},{'key':_0x536f('0x61a'),'value':function(_0x475cd8,_0x394db3){return Math[_0x536f('0x1b9')](Math[_0x536f('0x1be')](Math[_0x536f('0x350')](_0x475cd8['x']-_0x394db3['x'],0x2)+Math[_0x536f('0x350')](_0x475cd8['y']-_0x394db3['y'],0x2)));}},{'key':_0x536f('0x61b'),'value':function(_0x475cd8,_0x394db3,_0x55c513){var _0x3fd8a8={'x':_0x475cd8[0x9*_0x55c513],'y':_0x475cd8[0x9*_0x55c513+0x1]},_0x39bf7d={'x':_0x475cd8[0x9*_0x55c513+0x3],'y':_0x475cd8[0x9*_0x55c513+0x4]},_0x475cd8={'x':_0x475cd8[0x9*_0x55c513+0x6],'y':_0x475cd8[0x9*_0x55c513+0x7]};return _0x394db3[0x9*_0x55c513+0x2]==_0x394db3[0x9*_0x55c513+0x5]?this['getDis'](_0x3fd8a8,_0x39bf7d):_0x394db3[0x9*_0x55c513+0x2]==_0x394db3[0x9*_0x55c513+0x8]?this[_0x536f('0x61a')](_0x3fd8a8,_0x475cd8):_0x394db3[0x9*_0x55c513+0x5]==_0x394db3[0x9*_0x55c513+0x8]?this[_0x536f('0x61a')](_0x39bf7d,_0x475cd8):void 0x0;}},{'key':_0x536f('0x33a'),'value':function(_0x475cd8){var _0x394db3=_0x475cd8['sideTexPath'],_0x55c513=_0x475cd8['topTexPath'],_0x3fd8a8=_0x475cd8[_0x536f('0x5c4')],_0x39bf7d=_0x475cd8[_0x536f('0x61c')],_0x2a3ad1=_0x475cd8[_0x536f('0x5c5')],_0x475cd8=_0x475cd8[_0x536f('0x61d')],_0x270689=this,_0x33123c=(new _0x56b798[(_0x536f('0x6'))](),this[_0x536f('0xce')]=new THREE['MeshStandardMaterial']({'color':this[_0x536f('0x5e0')]}),_0x394db3&&!this['isTileBuilding']&&(_0x270689[_0x536f('0x1c7')]=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](_0x394db3),_0x270689['texture'][_0x536f('0x434')]=THREE[_0x536f('0x376')],_0x270689[_0x536f('0x1c7')][_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x270689['texture'][_0x536f('0x543')]=_0x270689[_0x536f('0x306')][_0x536f('0x534')]['capabilities'][_0x536f('0x536')]()),_0x55c513&&!this[_0x536f('0x5c2')]&&(_0x270689[_0x536f('0x5e2')]=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](_0x55c513),_0x270689[_0x536f('0x5e2')][_0x536f('0x434')]=THREE[_0x536f('0x376')],_0x270689[_0x536f('0x5e2')][_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x270689['topTexture'][_0x536f('0x543')]=_0x270689[_0x536f('0x306')][_0x536f('0x534')][_0x536f('0x535')]['getMaxAnisotropy']()),_0x3fd8a8&&(_0x270689[_0x536f('0x5e3')]=new THREE[(_0x536f('0x26c'))]()['load'](_0x3fd8a8)),_0x39bf7d&&(_0x270689[_0x536f('0x5e4')]=new THREE[(_0x536f('0x26c'))]()['load'](_0x39bf7d)),_0x270689[_0x536f('0x5f3')]&&(_0x270689['radarScanTexture']=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](_0x270689[_0x536f('0x5f3')])),_0x2a3ad1&&(_0x270689[_0x536f('0x61e')]=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](_0x2a3ad1),_0x270689[_0x536f('0x61e')][_0x536f('0x434')]=THREE['RepeatWrapping'],_0x270689[_0x536f('0x61e')][_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x270689[_0x536f('0x61e')][_0x536f('0x543')]=_0x270689['view'][_0x536f('0x534')][_0x536f('0x535')][_0x536f('0x536')]()),_0x475cd8&&(_0x270689['screenSkyTexture']=new THREE[(_0x536f('0x26c'))]()['load'](_0x2a3ad1)),this[_0x536f('0x61f')]&&(this['material'][_0x536f('0x1d6')]=THREE[_0x536f('0x44b')]),this[_0x536f('0x201')]<0x1&&(this[_0x536f('0xce')]['transparent']=!0x0,this[_0x536f('0xce')][_0x536f('0x201')]=this[_0x536f('0x201')]),null),_0x562680=null,_0x5c06d5=null,_0xdeacce=null,_0x146c44=null,_0x2c7369=null,_0x4ef2c1=(this['isTileBuilding']&&(_0x5c06d5=new THREE[(_0x536f('0x620'))](new Array(0x4)[_0x536f('0x52b')](THREE[_0x536f('0x376')])),_0x33123c=new THREE['Uniform'](new Array(0x4)[_0x536f('0x52b')](null)),_0xdeacce=new THREE[(_0x536f('0x620'))](new Array(0x4)[_0x536f('0x52b')](THREE['RepeatWrapping'])),_0x562680=new THREE[(_0x536f('0x620'))](new Array(0x4)[_0x536f('0x52b')](null)),_0x146c44=new THREE[(_0x536f('0x620'))](new Array(0x4)[_0x536f('0x52b')](0x1)),_0x2c7369=new THREE['Uniform'](new Array(0x4)[_0x536f('0x52b')](0x1))),new THREE[(_0x536f('0x1b8'))](this[_0x536f('0xcf')][_0x536f('0x3c')][_0x536f('0x621')]));this['material']['onBeforeCompile']=function(_0x475cd8){_0x475cd8['uniforms']['isOpenScan']={'type':'i','value':_0x270689[_0x536f('0x5c8')]},_0x475cd8[_0x536f('0x168')]['iTime']={'value':_0x270689[_0x536f('0xf9')]},_0x475cd8[_0x536f('0x168')][_0x536f('0x622')]={'value':!0x1},_0x475cd8[_0x536f('0x168')][_0x536f('0x5e1')]={'value':_0x270689[_0x536f('0x5e1')]},_0x475cd8[_0x536f('0x168')][_0x536f('0x623')]={'value':_0x4ef2c1},_0x394db3&&(_0x475cd8[_0x536f('0x168')][_0x536f('0x624')]={'value':_0x270689[_0x536f('0x1c7')]},_0x475cd8[_0x536f('0x168')]['buildingTexRepeat']={'value':_0x270689[_0x536f('0x5f5')]},_0x475cd8[_0x536f('0x168')][_0x536f('0x625')]={'value':_0x270689[_0x536f('0x626')]},_0x475cd8[_0x536f('0x168')][_0x536f('0x627')]={'value':_0x270689[_0x536f('0x5e2')]},_0x475cd8[_0x536f('0x168')]['gradientTex']={'value':_0x270689[_0x536f('0x5e3')]},_0x475cd8['uniforms'][_0x536f('0x628')]={'value':_0x270689['textureLightStrength']}),_0x2a3ad1&&(_0x475cd8[_0x536f('0x168')]['emissiveTex']={'value':_0x270689[_0x536f('0x61e')]},_0x475cd8[_0x536f('0x168')][_0x536f('0x5e8')]={'value':_0x270689[_0x536f('0x5e8')]}),_0x270689[_0x536f('0x5c8')]&&(_0x475cd8['uniforms'][_0x536f('0x629')]={'value':!0x0},_0x475cd8[_0x536f('0x168')][_0x536f('0x5cd')]={'value':new THREE[(_0x536f('0x1b5'))](_0x270689[_0x536f('0x5cd')]['x'],_0x270689[_0x536f('0x5cd')]['y'])},_0x270689['isShowHorizonScan']&&(_0x475cd8[_0x536f('0x168')][_0x536f('0x5ee')]={'value':_0x270689['hlColor']},_0x475cd8[_0x536f('0x168')]['hlDiffuse']={'value':_0x270689[_0x536f('0x5d1')]},_0x475cd8['uniforms']['hlWidth']={'value':_0x270689[_0x536f('0x5d0')]},_0x475cd8[_0x536f('0x168')]['hlTime']={'value':_0x270689['hlTime']}),_0x270689[_0x536f('0x5ec')]&&(_0x475cd8[_0x536f('0x168')][_0x536f('0x62a')]={'value':_0x270689[_0x536f('0x62a')]},_0x475cd8[_0x536f('0x168')]['vlHeight']={'value':_0x270689[_0x536f('0x5d3')]},_0x475cd8[_0x536f('0x168')][_0x536f('0x5ea')]={'value':_0x270689[_0x536f('0x5ea')]}),_0x270689[_0x536f('0x5cb')]&&(_0x475cd8[_0x536f('0x168')]['csCenterPos']={'value':new THREE[(_0x536f('0x1b5'))](_0x270689[_0x536f('0x62b')]['x'],_0x270689[_0x536f('0x62b')]['y'])},_0x475cd8[_0x536f('0x168')][_0x536f('0x5d7')]={'value':_0x270689['spreadValue']},_0x475cd8[_0x536f('0x168')][_0x536f('0x5f1')]={'value':_0x270689[_0x536f('0x5f1')]},_0x475cd8[_0x536f('0x168')][_0x536f('0x5eb')]={'value':_0x270689['csTime']}),_0x270689[_0x536f('0x5cc')]&&(_0x475cd8['uniforms'][_0x536f('0x62c')]={'value':new THREE[(_0x536f('0x1b5'))](_0x270689['radarCenterPos']['x'],_0x270689[_0x536f('0x5dc')]['y'])},_0x475cd8[_0x536f('0x168')][_0x536f('0x62d')]={'value':_0x270689[_0x536f('0x5da')]},_0x475cd8[_0x536f('0x168')][_0x536f('0x62e')]={'value':_0x270689[_0x536f('0x5f2')]},_0x475cd8[_0x536f('0x168')]['rdTime']={'value':_0x270689[_0x536f('0x62f')]},_0x475cd8[_0x536f('0x168')][_0x536f('0x630')]={'value':_0x270689['radarScanTexture']})),_0x270689['isUseExtentEffect']&&(_0x475cd8['uniforms']['extentRadius']={'value':_0x270689[_0x536f('0x44a')]},_0x475cd8[_0x536f('0x168')][_0x536f('0x5f7')]={'value':new THREE['Vector2'](_0x270689[_0x536f('0x5f7')]['x'],_0x270689[_0x536f('0x5f7')]['y'])},_0x475cd8[_0x536f('0x168')][_0x536f('0x631')]={'value':_0x270689[_0x536f('0x5e4')]}),_0x270689['isUseScreenSky']&&(_0x475cd8[_0x536f('0x168')][_0x536f('0x4b2')]={'value':_0x270689[_0x536f('0x5e5')]}),_0x270689[_0x536f('0x5c2')]&&(_0x475cd8[_0x536f('0x168')][_0x536f('0x609')]=_0x33123c,_0x475cd8[_0x536f('0x168')][_0x536f('0x610')]=_0x562680,_0x475cd8[_0x536f('0x168')]['topTexWrapArr']=_0x5c06d5,_0x475cd8[_0x536f('0x168')][_0x536f('0x613')]=_0xdeacce,_0x475cd8[_0x536f('0x168')][_0x536f('0x615')]=_0x146c44,_0x475cd8[_0x536f('0x168')][_0x536f('0x616')]=_0x2c7369,_0x475cd8[_0x536f('0x168')][_0x536f('0x632')]={'value':_0x270689['id']}),_0x475cd8['vertexShader']=_0x475cd8[_0x536f('0x57')]['replace'](_0x536f('0x4b3'),_0x536f('0x633')+(_0x394db3?'#define\x20IS_TEXTURE':'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5c8')]?_0x536f('0x635'):'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5c2')]?_0x536f('0x636'):'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5fa')]?_0x536f('0x637'):'')+_0x536f('0x638')),_0x475cd8['vertexShader']=_0x475cd8['vertexShader'][_0x536f('0x56')]('#include\x20<uv_vertex>',_0x536f('0x639')),_0x475cd8['vertexShader']=_0x475cd8[_0x536f('0x57')]['replace'](_0x536f('0x63a'),_0x536f('0x63b')),_0x475cd8[_0x536f('0x58')]=_0x475cd8[_0x536f('0x58')][_0x536f('0x56')]('uniform\x20float\x20opacity;',_0x536f('0x634')+(_0x394db3?_0x536f('0x63c'):'')+_0x536f('0x634')+(_0x3fd8a8?_0x536f('0x63d'):'')+_0x536f('0x634')+(_0x2a3ad1?_0x536f('0x63e'):'')+_0x536f('0x634')+(_0x270689['isOpenScan']?_0x536f('0x635'):'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5f4')]?_0x536f('0x63f'):'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5ca')]?_0x536f('0x640'):'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5ec')]?_0x536f('0x641'):'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5cb')]?_0x536f('0x642'):'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5cc')]?'#define\x20RADAR_SCAN':'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5f8')]?_0x536f('0x643'):'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5fa')]?_0x536f('0x637'):'')+_0x536f('0x634')+(_0x270689[_0x536f('0x5c2')]?'#define\x20IS_TILE_BUILDING':'')+_0x536f('0x644')),_0x475cd8['fragmentShader']=_0x475cd8[_0x536f('0x58')]['replace'](_0x536f('0x645'),_0x536f('0x646')),_0x475cd8[_0x536f('0x58')]=_0x475cd8['fragmentShader'][_0x536f('0x56')](_0x536f('0x647'),_0x536f('0x648')),_0x475cd8[_0x536f('0x58')]=_0x475cd8[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x649')),_0x270689[_0x536f('0x420')]=_0x475cd8,_0x270689[_0x536f('0x32d')]({'type':'shaderCompileComplete'});};}},{'key':'updateParams','value':function(_0x475cd8){_0x475cd8[_0x536f('0x21f')],this['shader'];}},{'key':'getMaterial','value':function(){return this[_0x536f('0xce')];}},{'key':_0x536f('0x64a'),'value':function(){return this['wireframeMaterial'];}},{'key':'toggleColorLight','value':function(_0x475cd8,_0x394db3){var _0x55c513=this;new TWEEN[(_0x536f('0x323'))]({'intensity':_0x475cd8})['to']({'intensity':_0x394db3},0x7d0)['easing'](TWEEN[_0x536f('0x325')][_0x536f('0x326')]['Out'])[_0x536f('0x32a')](function(_0x475cd8){_0x55c513[_0x536f('0x600')]=_0x475cd8['intensity'],_0x55c513[_0x536f('0xce')][_0x536f('0x21f')]['setHSL'](0x0,0x0,_0x475cd8[_0x536f('0x49b')]);})[_0x536f('0x329')]();}},{'key':_0x536f('0x64b'),'value':function(_0x475cd8,_0x394db3){var _0x55c513=this;new TWEEN[(_0x536f('0x323'))]({'radius':_0x475cd8})['to']({'radius':_0x394db3},0x7d0)['easing'](TWEEN['Easing']['Quadratic'][_0x536f('0x327')])[_0x536f('0x32a')](function(_0x475cd8){_0x55c513[_0x536f('0x44a')]=_0x475cd8[_0x536f('0x21d')],_0x55c513[_0x536f('0x420')]['uniforms']['extentRadius']['value']=_0x475cd8['radius'];})[_0x536f('0x329')]();}},{'key':_0x536f('0xcd'),'value':function(){this[_0x536f('0xce')]&&this[_0x536f('0xce')][_0x536f('0xcd')](),this[_0x536f('0x1c7')]?this[_0x536f('0x1c7')][_0x536f('0xcd')]():this[_0x536f('0x1c7')]=null,this[_0x536f('0x5e2')]?this['topTexture'][_0x536f('0xcd')]():this[_0x536f('0x5e2')]=null,this[_0x536f('0x5e3')]?this[_0x536f('0x5e3')][_0x536f('0xcd')]():this[_0x536f('0x5e3')]=null,this['shader'],this[_0x536f('0x420')]=null,this[_0x536f('0x41f')]&&(this[_0x536f('0x41f')][_0x536f('0xce')][0x0]=null),this['shaderMesh']=null;}},{'key':'render','value':function(_0x475cd8){this[_0x536f('0x420')]&&(this['count']+=_0x475cd8,this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x429')][_0x536f('0x10')]=this[_0x536f('0xf9')],this[_0x536f('0x5ca')]&&(this['hlTime']>this['hlExtent'][0x1]&&(this[_0x536f('0x5e9')]=this[_0x536f('0x64c')][0x0]),this['hlTime']+=_0x475cd8*this['hlSpeed'],this[_0x536f('0x420')][_0x536f('0x168')]['hlTime'][_0x536f('0x10')]=-this[_0x536f('0x5e9')]),this[_0x536f('0x5ec')]&&(this[_0x536f('0x5ea')]>this[_0x536f('0x5ef')][0x0]&&(this[_0x536f('0x5ea')]=this['vlExtent'][0x1]),this['vlTime']+=_0x475cd8*this[_0x536f('0x5d5')],this['shader']['uniforms'][_0x536f('0x5ea')][_0x536f('0x10')]=-this[_0x536f('0x5ea')]),this[_0x536f('0x5cb')]&&(this[_0x536f('0x5eb')]+=_0x475cd8*this[_0x536f('0x64d')],this[_0x536f('0x5eb')]>this[_0x536f('0x5d8')]&&(this[_0x536f('0x5eb')]=0x0),this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x5eb')]['value']=this[_0x536f('0x5eb')]),this[_0x536f('0x5cc')]&&(this[_0x536f('0x62f')]+=_0x475cd8*this[_0x536f('0x5db')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x62f')][_0x536f('0x10')]=this[_0x536f('0x62f')]));}}]),_0x394db3['default']=_0x3dabae;},function(_0x23b88d,_0x5b6ead,_0x4dd977){'use strict';Object['defineProperty'](_0x5b6ead,'__esModule',{'value':!0x0});var _0x29e82d=_0x8e897f(_0x4dd977(0x0));function _0x8e897f(_0x23b88d){return _0x23b88d&&_0x23b88d[_0x536f('0x4')]?_0x23b88d:{'default':_0x23b88d};}function _0x33d44e(_0x23b88d){var _0x5b6ead=_0x23b88d['repeatTexPath'],_0x4dd977=_0x23b88d[_0x536f('0x64e')],_0x8e897f=_0x23b88d[_0x536f('0x64f')],_0x23b88d=_0x23b88d[_0x536f('0x650')];(0x0,_0x29e82d[_0x536f('0x6')])(this,_0x33d44e),this[_0x536f('0x64f')]=_0x8e897f,this['isShowTextureRepeat']=_0x23b88d,this['repeatTexture']=null,_0x23b88d&&(this[_0x536f('0x651')]=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](_0x5b6ead),this['repeatTexture'][_0x536f('0x375')]=THREE['RepeatWrapping'],this[_0x536f('0x651')]['wrapS']=THREE['RepeatWrapping'],this['noiseTexture']=new THREE['TextureLoader']()['load'](_0x4dd977),this['noiseTexture'][_0x536f('0x434')]=THREE[_0x536f('0x376')],this[_0x536f('0x652')][_0x536f('0x375')]=THREE[_0x536f('0x376')]),this[_0x536f('0x36b')]=0x1,this[_0x536f('0xf9')]=0x0,this[_0x536f('0x420')]=null;}(0x0,_0x8e897f(_0x4dd977(0x1))['default'])(_0x33d44e,[{'key':_0x536f('0x33a'),'value':function(_0x23b88d){var _0x5b6ead=_0x23b88d[_0x536f('0x653')],_0x4dd977=_0x23b88d[_0x536f('0x654')],_0x8e897f=_0x23b88d[_0x536f('0x655')],_0x29e82d=this,_0x23b88d=new THREE[(_0x536f('0x421'))]({'color':0xffffff,'transparent':!0x0});return _0x23b88d[_0x536f('0x422')]=function(_0x23b88d){_0x23b88d['uniforms'][_0x536f('0x49e')]={'value':0x0},_0x23b88d[_0x536f('0x168')][_0x536f('0x656')]={'value':0.8},_0x23b88d[_0x536f('0x168')][_0x536f('0x423')]={'value':_0x5b6ead},_0x23b88d[_0x536f('0x168')]['texture2']={'value':_0x4dd977},_0x23b88d['uniforms']['bgColor']={'value':_0x29e82d[_0x536f('0x657')]},_0x23b88d[_0x536f('0x168')][_0x536f('0x655')]={'value':new THREE[(_0x536f('0x1b5'))](_0x8e897f['x'],_0x8e897f['y'])},_0x23b88d[_0x536f('0x168')]['iTime']={'value':0x0},_0x29e82d[_0x536f('0x650')]&&(_0x23b88d['uniforms'][_0x536f('0x658')]={'value':_0x29e82d[_0x536f('0x652')]},_0x23b88d['uniforms'][_0x536f('0x659')]={'value':_0x29e82d['repeatTexture']}),_0x23b88d[_0x536f('0x57')]=_0x23b88d[_0x536f('0x57')][_0x536f('0x56')]('#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x09\x09\x09\x09'),_0x23b88d[_0x536f('0x57')]=_0x23b88d[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x65a')),_0x23b88d[_0x536f('0x58')]=_0x23b88d[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x634')+(_0x29e82d['isShowBackground']?_0x536f('0x65b'):'')+_0x536f('0x634')+(_0x29e82d[_0x536f('0x650')]?'#define\x20IS_TEX_REPEAT':'')+_0x536f('0x634')+(_0x29e82d[_0x536f('0x64f')]?_0x536f('0x65c'):'')+_0x536f('0x65d')),_0x23b88d[_0x536f('0x58')]=_0x23b88d[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x65e')),_0x29e82d[_0x536f('0x420')]=_0x23b88d;},_0x23b88d;}},{'key':_0x536f('0x36a'),'value':function(_0x23b88d){this['shader']&&(this[_0x536f('0xf9')]+=_0x23b88d*this['speed'],this[_0x536f('0x420')]['uniforms'][_0x536f('0x429')][_0x536f('0x10')]=this[_0x536f('0xf9')]);}}]),_0x5b6ead[_0x536f('0x6')]=_0x33d44e;},function(_0x2bf30c,_0x466a2b,_0x10ded5){'use strict';Object['defineProperty'](_0x466a2b,_0x536f('0x4'),{'value':!0x0});var _0x4f9016=_0x1fd1a7(_0x10ded5(0x0));function _0x1fd1a7(_0x2bf30c){return _0x2bf30c&&_0x2bf30c['__esModule']?_0x2bf30c:{'default':_0x2bf30c};}function _0x2b6fdf(_0x2bf30c){var _0x466a2b=_0x2bf30c[_0x536f('0x36d')],_0x466a2b=void 0x0===_0x466a2b?_0x536f('0x65f'):_0x466a2b,_0x10ded5=_0x2bf30c[_0x536f('0x660')],_0x10ded5=void 0x0===_0x10ded5?0x1:_0x10ded5,_0x2bf30c=_0x2bf30c[_0x536f('0x36b')],_0x2bf30c=void 0x0===_0x2bf30c?0x4:_0x2bf30c;(0x0,_0x4f9016[_0x536f('0x6')])(this,_0x2b6fdf),this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x36d')]=_0x466a2b,this[_0x536f('0x36b')]=_0x2bf30c,this[_0x536f('0x660')]=_0x10ded5,this[_0x536f('0xce')]=null,this[_0x536f('0x1e5')]={'cubeShader':null,'lineShader':null},this[_0x536f('0x661')]=null,this[_0x536f('0x356')]['visible']=!0x1,this[_0x536f('0x33a')]();}(0x0,_0x1fd1a7(_0x10ded5(0x1))[_0x536f('0x6')])(_0x2b6fdf,[{'key':_0x536f('0x33a'),'value':function(){var _0x466a2b=this;this['material']=new THREE[(_0x536f('0x421'))](),this[_0x536f('0xce')][_0x536f('0x21f')]=new THREE['Color']()[_0x536f('0x33d')](this[_0x536f('0x36d')]),this[_0x536f('0xce')][_0x536f('0x422')]=function(_0x2bf30c){_0x466a2b[_0x536f('0x662')](_0x2bf30c),_0x466a2b[_0x536f('0x1e5')][_0x536f('0x663')]=_0x2bf30c;},this[_0x536f('0x661')]=new THREE[(_0x536f('0x421'))]({'color':0xffffff,'wireframe':!0x0}),this[_0x536f('0x661')][_0x536f('0x422')]=function(_0x2bf30c){_0x466a2b[_0x536f('0x662')](_0x2bf30c),_0x466a2b['shaders'][_0x536f('0x664')]=_0x2bf30c;};}},{'key':_0x536f('0x662'),'value':function(_0x2bf30c){_0x2bf30c[_0x536f('0x168')][_0x536f('0x429')]={'value':0x0},_0x2bf30c[_0x536f('0x168')]['floatOffset']={'value':this[_0x536f('0x660')]},_0x2bf30c[_0x536f('0x57')]=_0x2bf30c[_0x536f('0x57')]['replace']('#include\x20<uv_pars_vertex>',_0x536f('0x665')),_0x2bf30c[_0x536f('0x57')]=_0x2bf30c[_0x536f('0x57')][_0x536f('0x56')]('#include\x20<logdepthbuf_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20vPos\x20=\x20modelMatrix\x20*\x20vec4(\x20rotateVerticesInY(position,\x20iTime),\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vPos.y\x20+=\x20floatOffset\x20*\x20sin(iTime);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<logdepthbuf_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}},{'key':_0x536f('0x5'),'value':function(_0x2bf30c){for(var _0x2bf30c=_0x2bf30c[_0x536f('0x21d')],_0x2bf30c=void 0x0===_0x2bf30c?0x5:_0x2bf30c,_0x466a2b=new THREE[(_0x536f('0x1c5'))](),_0x10ded5=new THREE[(_0x536f('0x666'))](0x1,0x0),_0x4f9016=0x0,_0x1fd1a7=_0x10ded5[_0x536f('0x169')][_0x536f('0x3b')]['array'],_0x2b6fdf=_0x1fd1a7[_0x536f('0xd')];_0x4f9016<_0x2b6fdf;_0x4f9016+=0x3)0x1===_0x1fd1a7[_0x4f9016+0x1]&&(_0x1fd1a7[_0x4f9016+0x1]=0x2);var _0x207f1d=new THREE[(_0x536f('0x354'))](_0x10ded5,this[_0x536f('0xce')]),_0x207f1d=(_0x207f1d[_0x536f('0x1f0')]['x']=-Math['PI'],_0x466a2b[_0x536f('0x1c3')](_0x207f1d),new THREE[(_0x536f('0x354'))](_0x10ded5,this[_0x536f('0x661')]));return _0x207f1d[_0x536f('0x1f0')]['x']=-Math['PI'],_0x207f1d[_0x536f('0x1dc')]['set'](1.01,1.01,1.01),_0x466a2b[_0x536f('0x1c3')](_0x207f1d),_0x466a2b['scale'][_0x536f('0x1b')](_0x2bf30c,_0x2bf30c,_0x2bf30c),this[_0x536f('0x356')][_0x536f('0x1c3')](_0x466a2b),_0x466a2b;}},{'key':_0x536f('0x36a'),'value':function(_0x2bf30c){this[_0x536f('0x1e5')]['cubeShader']&&this[_0x536f('0x1e5')]['lineShader']&&(this[_0x536f('0x1e5')][_0x536f('0x663')][_0x536f('0x168')][_0x536f('0x429')]['value']+=_0x2bf30c*this[_0x536f('0x36b')],this[_0x536f('0x1e5')][_0x536f('0x664')][_0x536f('0x168')][_0x536f('0x429')]['value']+=_0x2bf30c*this['speed']);}},{'key':_0x536f('0x36c'),'set':function(_0x2bf30c){this[_0x536f('0x356')]&&(this[_0x536f('0x356')][_0x536f('0x36c')]=_0x2bf30c);}}]),_0x466a2b[_0x536f('0x6')]=_0x2b6fdf;},function(_0x3ef774,_0x8e8bcf,_0xbf1249){'use strict';Object[_0x536f('0x1')](_0x8e8bcf,'__esModule',{'value':!0x0});var _0x4b1572=_0x3b1575(_0xbf1249(0x0));function _0x3b1575(_0x3ef774){return _0x3ef774&&_0x3ef774[_0x536f('0x4')]?_0x3ef774:{'default':_0x3ef774};}function _0x4c42bc(){(0x0,_0x4b1572[_0x536f('0x6')])(this,_0x4c42bc),this['object3d']=null,this[_0x536f('0xce')]=null,this[_0x536f('0x21d')]=0x0,this[_0x536f('0x667')]={'centerHeight':0x3c,'swingHeight':0x1e,'speed':0.02};}(0x0,_0x3b1575(_0xbf1249(0x1))[_0x536f('0x6')])(_0x4c42bc,[{'key':_0x536f('0x5'),'value':function(_0x3ef774){var _0x8e8bcf=_0x3ef774[_0x536f('0x1c7')],_0xbf1249=_0x3ef774[_0x536f('0x21d')],_0x4b1572=_0x3ef774[_0x536f('0x339')],_0x3b1575=_0x3ef774['animateOpts'],_0x3ef774=_0x3ef774[_0x536f('0x36d')],_0x4b1572=new THREE[(_0x536f('0x43a'))](_0xbf1249,_0xbf1249,_0x4b1572,0x20,0x1,!0x0,0x0,0x2*Math['PI']);return _0x8e8bcf[_0x536f('0x434')]=THREE['RepeatWrapping'],_0x8e8bcf['wrapT']=THREE['RepeatWrapping'],_0x8e8bcf[_0x536f('0x2ee')]['x']=0x4,this[_0x536f('0xce')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'side':THREE[_0x536f('0x345')],'transparent':!0x0,'map':_0x8e8bcf,'depthWrite':!0x1}),_0x3ef774&&(this[_0x536f('0xce')][_0x536f('0x21f')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x3ef774)),this[_0x536f('0x356')]=new THREE['Mesh'](_0x4b1572,this[_0x536f('0xce')]),this['radius']=_0xbf1249,_0x3b1575&&(void 0x0!==_0x3b1575[_0x536f('0x668')]&&void 0x0!==_0x3b1575[_0x536f('0x669')]&&(this[_0x536f('0x667')][_0x536f('0x668')]=_0x3b1575['centerHeight'],this[_0x536f('0x667')]['swingHeight']=_0x3b1575['swingHeight']),_0x3b1575[_0x536f('0x36b')]&&(this[_0x536f('0x667')]['speed']=_0x3b1575[_0x536f('0x36b')])),this[_0x536f('0x356')];}},{'key':_0x536f('0x2f3'),'value':function(){this[_0x536f('0x356')]&&(this[_0x536f('0x356')][_0x536f('0x1f0')]['y']-=this[_0x536f('0x667')][_0x536f('0x36b')],this['object3d'][_0x536f('0x3b')]['y']=Math[_0x536f('0x5a')](0.5*this['object3d'][_0x536f('0x1f0')]['y'])*this['moveOpts'][_0x536f('0x669')]+this[_0x536f('0x667')][_0x536f('0x668')]);}},{'key':_0x536f('0x36c'),'set':function(_0x3ef774){this[_0x536f('0x356')]&&(this[_0x536f('0x356')][_0x536f('0x36c')]=_0x3ef774);}}]),_0x8e8bcf[_0x536f('0x6')]=_0x4c42bc;},function(_0x3010a5,_0x4a82a7,_0x5b874c){'use strict';Object['defineProperty'](_0x4a82a7,_0x536f('0x4'),{'value':!0x0});var _0xf9db6d=_0x127c63(_0x5b874c(0x0));function _0x127c63(_0x3010a5){return _0x3010a5&&_0x3010a5['__esModule']?_0x3010a5:{'default':_0x3010a5};}function _0x43e824(){(0x0,_0xf9db6d[_0x536f('0x6')])(this,_0x43e824),this[_0x536f('0x356')]=null,this[_0x536f('0xce')]=null,this[_0x536f('0x66a')]=0x0;}(0x0,_0x127c63(_0x5b874c(0x1))[_0x536f('0x6')])(_0x43e824,[{'key':_0x536f('0x5'),'value':function(_0x3010a5){var _0x4a82a7=_0x3010a5[_0x536f('0x36d')],_0x5b874c=_0x3010a5[_0x536f('0x1c7')],_0xf9db6d=_0x3010a5[_0x536f('0x21d')],_0xf9db6d=void 0x0===_0xf9db6d?0x64:_0xf9db6d,_0x127c63=_0x3010a5['speed'],_0x127c63=void 0x0===_0x127c63?0x1:_0x127c63,_0x43e824=_0x3010a5['opacity'],_0x43e824=void 0x0===_0x43e824?0x1:_0x43e824,_0x3010a5=_0x3010a5['textureAngle'],_0x3010a5=void 0x0===_0x3010a5?0x0:_0x3010a5,_0xf9db6d=new THREE['PlaneBufferGeometry'](_0xf9db6d,_0xf9db6d);_0x5b874c[_0x536f('0x1f0')]=THREE[_0x536f('0x19')][_0x536f('0x322')](_0x3010a5),this[_0x536f('0xce')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0,'opacity':_0x43e824,'map':_0x5b874c,'depthWrite':!0x1,'side':THREE[_0x536f('0x345')]}),_0x4a82a7&&(this[_0x536f('0xce')]['color']=new THREE['Color']()[_0x536f('0x33d')](_0x4a82a7)),this[_0x536f('0x356')]=new THREE[(_0x536f('0x354'))](_0xf9db6d,this['material']),this[_0x536f('0x356')][_0x536f('0x1f0')]['x']=0.5*-Math['PI'],this[_0x536f('0x66a')]=_0x127c63;}},{'key':_0x536f('0x2f3'),'value':function(_0x3010a5){this[_0x536f('0x356')]&&(this[_0x536f('0x356')]['rotation']['z']+=_0x3010a5*this[_0x536f('0x66a')]);}},{'key':_0x536f('0x36c'),'set':function(_0x3010a5){this[_0x536f('0x356')]&&(this[_0x536f('0x356')][_0x536f('0x36c')]=_0x3010a5);}}]),_0x4a82a7[_0x536f('0x6')]=_0x43e824;},function(_0x3931c2,_0x18b06f,_0x2a56a7){'use strict';Object[_0x536f('0x1')](_0x18b06f,_0x536f('0x4'),{'value':!0x0});var _0x197326=_0x5b80bd(_0x2a56a7(0x4)),_0x564b9c=_0x5b80bd(_0x2a56a7(0x0)),_0x2a56a7=_0x5b80bd(_0x2a56a7(0x1));function _0x5b80bd(_0x3931c2){return _0x3931c2&&_0x3931c2[_0x536f('0x4')]?_0x3931c2:{'default':_0x3931c2};}(0x0,_0x2a56a7[_0x536f('0x6')])(_0x295df9,[{'key':_0x536f('0x5'),'value':function(_0x3931c2){var _0x18b06f=_0x3931c2['points'],_0x3931c2=_0x3931c2[_0x536f('0x1c7')],_0x2a56a7=[],_0x5b80bd=!0x0,_0x9e2f5b=!0x1,_0x45fa25=void 0x0;try{for(var _0x53ef2e,_0x564b9c=(0x0,_0x197326[_0x536f('0x6')])(_0x18b06f);!(_0x5b80bd=(_0x53ef2e=_0x564b9c[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5b80bd=!0x0){var _0x4c59fe=_0x53ef2e[_0x536f('0x10')];_0x2a56a7[_0x536f('0x82')]({'x':-_0x4c59fe['x'],'y':(void 0x0!==_0x4c59fe[_0x536f('0x339')]?_0x4c59fe:this)['height'],'z':_0x4c59fe['y'],'colorIndex':_0x4c59fe['colorIndex']||0x0,'visible':0x1});}}catch(_0x38676a){_0x9e2f5b=!0x0,_0x45fa25=_0x38676a;}finally{try{!_0x5b80bd&&_0x564b9c['return']&&_0x564b9c[_0x536f('0x265')]();}finally{if(_0x9e2f5b)throw _0x45fa25;}}for(var _0x1a4384,_0x5b9a39=_0x2a56a7[0x0],_0x1e24ba=new Float32Array(0x6*_0x2a56a7[_0x536f('0xd')]),_0x4bcbd8=0x0,_0x2172ac=_0x2a56a7[_0x536f('0xd')];_0x4bcbd8<_0x2172ac;_0x4bcbd8++)_0x1e24ba[0x0+(_0x1a4384=0x6*_0x4bcbd8)]=_0x2a56a7[_0x4bcbd8]['x']-_0x5b9a39['x'],_0x1e24ba[0x1+_0x1a4384]=_0x2a56a7[_0x4bcbd8]['y'],_0x1e24ba[0x2+_0x1a4384]=_0x2a56a7[_0x4bcbd8]['z']-_0x5b9a39['z'],_0x1e24ba[0x3+_0x1a4384]=_0x4bcbd8,_0x1e24ba[0x4+_0x1a4384]=_0x2a56a7[_0x4bcbd8][_0x536f('0x66b')],_0x1e24ba[0x5+_0x1a4384]=_0x2a56a7[_0x4bcbd8][_0x536f('0x36c')];var _0x18b06f=new THREE[(_0x536f('0x1e7'))](),_0x9e2f5b=new THREE[(_0x536f('0x66c'))](_0x1e24ba,0x6),_0x4d862f=(_0x9e2f5b[_0x536f('0x66d')](!0x0),_0x18b06f['addAttribute']('position',new THREE[(_0x536f('0x476'))](_0x9e2f5b,0x3,0x0)),_0x18b06f[_0x536f('0x1f5')](_0x536f('0x477'),new THREE['InterleavedBufferAttribute'](_0x9e2f5b,0x1,0x3)),_0x18b06f['addAttribute'](_0x536f('0x66e'),new THREE['InterleavedBufferAttribute'](_0x9e2f5b,0x1,0x4)),_0x18b06f['addAttribute'](_0x536f('0x66f'),new THREE[(_0x536f('0x476'))](_0x9e2f5b,0x1,0x5)),this[_0x536f('0xce')]=new THREE['PointsMaterial']({'color':0xffffff,'map':_0x3931c2,'sizeAttenuation':!0x1,'size':this[_0x536f('0x471')],'depthWrite':!0x1,'transparent':!0x0,'opacity':0x1}),this['colorStr']&&(this[_0x536f('0xce')]['color']=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](this['colorStr'])),[new THREE[(_0x536f('0x1b8'))](0xffffff)]);if(this[_0x536f('0x670')])for(var _0xd90099=0x0;_0xd90099<this['colorList']['length'];_0xd90099++)_0x4d862f['push'](new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](this[_0x536f('0x670')][_0xd90099]));var _0x5a4518=this;return this[_0x536f('0xce')]['onBeforeCompile']=function(_0x3931c2){_0x3931c2[_0x536f('0x168')][_0x536f('0x429')]={'value':0x0},_0x3931c2[_0x536f('0x168')][_0x536f('0x53a')]={'value':_0x5a4518[_0x536f('0x53a')]},_0x3931c2[_0x536f('0x168')][_0x536f('0x671')]={'value':0x0},_0x3931c2[_0x536f('0x168')][_0x536f('0x672')]={'value':_0x4d862f},_0x3931c2[_0x536f('0x57')]=_0x3931c2['vertexShader']['replace'](_0x536f('0x10b'),_0x536f('0x673')+_0x4d862f[_0x536f('0xd')]+_0x536f('0x674')),_0x3931c2[_0x536f('0x57')]=_0x3931c2[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x479'),_0x536f('0x675')),_0x3931c2[_0x536f('0x58')]=_0x3931c2['fragmentShader'][_0x536f('0x56')](_0x536f('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20animateType;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIsShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3931c2[_0x536f('0x58')]=_0x3931c2['fragmentShader'][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x676')),_0x5a4518[_0x536f('0x420')]=_0x3931c2;},this[_0x536f('0x27d')]=new THREE[(_0x536f('0xb2'))](_0x18b06f,this[_0x536f('0xce')]),this[_0x536f('0x356')][_0x536f('0x1c3')](this['points']),this['points'];}},{'key':_0x536f('0x57b'),'value':function(_0x3931c2){var _0x18b06f=0x1<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x1]?arguments[0x1]:0x1;if(this[_0x536f('0x27d')]){for(var _0x2a56a7=this[_0x536f('0x27d')][_0x536f('0xd0')][_0x536f('0x169')][_0x536f('0x3b')][_0x536f('0x2c9')],_0x5b80bd=_0x2a56a7[_0x536f('0xd8')],_0x4ce1cf=_0x2a56a7['stride'],_0x35d01e=0x0,_0xdc118=0x0;_0xdc118<_0x5b80bd[_0x536f('0xd')];_0xdc118+=_0x4ce1cf){var _0x564b9c=_0x3931c2[_0x35d01e]['x']-_0x5b80bd[_0xdc118],_0xc3a943=_0x3931c2[_0x35d01e]['y']-_0x5b80bd[_0xdc118+0x1],_0x39f654=_0x3931c2[_0x35d01e]['z']-_0x5b80bd[_0xdc118+0x2];_0x5b80bd[_0xdc118]+=_0x564b9c*_0x18b06f,_0x5b80bd[_0xdc118+0x1]+=_0xc3a943*_0x18b06f,_0x5b80bd[_0xdc118+0x2]+=_0x39f654*_0x18b06f,_0x5b80bd[_0xdc118+0x4]=_0x3931c2[_0x35d01e]['index']||0x0,_0x5b80bd[_0xdc118+0x5]=_0x3931c2[_0x35d01e][_0x536f('0x36c')],_0x35d01e++;}_0x2a56a7[_0x536f('0xfa')]=!0x0;}}},{'key':'moveTo','value':function(_0x18b06f,_0x3931c2){var _0x2a56a7=this;new TWEEN[(_0x536f('0x323'))]({'delta':0x0})['to']({'delta':0x1},0x3e8*_0x3931c2)[_0x536f('0x324')](TWEEN[_0x536f('0x325')][_0x536f('0x441')][_0x536f('0x442')])[_0x536f('0x32a')](function(_0x3931c2){_0x2a56a7[_0x536f('0x57b')](_0x18b06f,_0x3931c2[_0x536f('0x677')]);})['onComplete'](function(){})[_0x536f('0x329')]();}},{'key':'render','value':function(_0x3931c2){var _0x18b06f;this[_0x536f('0x27d')]&&this['shader']&&(0x4===this[_0x536f('0x53a')]?(_0x18b06f=this[_0x536f('0x2e0')][_0x536f('0x2f4')]()%this['period'],this['period']-_0x18b06f<0.5?this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x671')][_0x536f('0x10')]=0x1:this['shader'][_0x536f('0x168')][_0x536f('0x671')]['value']=0x0):(this[_0x536f('0xf9')]+=_0x3931c2,this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x429')]['value']=this['count']));}},{'key':'visible','set':function(_0x3931c2){this[_0x536f('0x27d')]&&(this[_0x536f('0x27d')][_0x536f('0x36c')]=_0x3931c2);}},{'key':_0x536f('0x484'),'set':function(_0x3931c2){this['points'][_0x536f('0xce')][_0x536f('0x340')]=!_0x3931c2,this[_0x536f('0x27d')][_0x536f('0xce')]['needsUpdate']=!0x0;}}]);_0x2a56a7=_0x295df9;function _0x295df9(_0x3931c2){var _0x18b06f=_0x3931c2[_0x536f('0x471')],_0x18b06f=void 0x0===_0x18b06f?0x32:_0x18b06f,_0x2a56a7=_0x3931c2['colorStr'],_0x2a56a7=void 0x0===_0x2a56a7?_0x536f('0x4af'):_0x2a56a7,_0x5b80bd=_0x3931c2[_0x536f('0x339')],_0x5b80bd=void 0x0===_0x5b80bd?0.1:_0x5b80bd,_0x20615f=_0x3931c2[_0x536f('0x53a')],_0x20615f=void 0x0===_0x20615f?'':_0x20615f,_0x7830f7=_0x3931c2[_0x536f('0x2e0')],_0x9da66b=_0x3931c2[_0x536f('0x53b')],_0x9da66b=void 0x0===_0x9da66b?0x1:_0x9da66b,_0x3931c2=_0x3931c2['colorList'];switch((0x0,_0x564b9c[_0x536f('0x6')])(this,_0x295df9),this[_0x536f('0x356')]=new THREE[(_0x536f('0x1c5'))](),this[_0x536f('0x356')][_0x536f('0x92')]='root',this['pointSize']=_0x18b06f,this[_0x536f('0x36d')]=_0x2a56a7,this[_0x536f('0x670')]=_0x3931c2,this['height']=_0x5b80bd,this[_0x536f('0x2e0')]=_0x7830f7,this['period']=_0x9da66b,this[_0x536f('0x27d')]=null,this[_0x536f('0xce')]=null,this[_0x536f('0x420')]=null,this[_0x536f('0x474')]=[],_0x20615f){case _0x536f('0x678'):this[_0x536f('0x53a')]=0x1;break;case _0x536f('0x679'):this[_0x536f('0x53a')]=0x2;break;case'twinkle':this[_0x536f('0x53a')]=0x3;break;case _0x536f('0x67a'):this['animateType']=0x4;break;case _0x536f('0x4ec'):this['animateType']=0x5;break;default:this[_0x536f('0x53a')]=0x1;}this[_0x536f('0xf9')]=0x0;}_0x18b06f[_0x536f('0x6')]=_0x2a56a7;},function(_0x559743,_0x113115,_0x38f9b4){'use strict';Object[_0x536f('0x1')](_0x113115,_0x536f('0x4'),{'value':!0x0});var _0x348f98=_0x2d7037(_0x38f9b4(0x0)),_0x1ea1a4=_0x2d7037(_0x38f9b4(0x1)),_0xf4f38=_0x2d7037(_0x38f9b4(0x78));function _0x2d7037(_0x559743){return _0x559743&&_0x559743['__esModule']?_0x559743:{'default':_0x559743};}function _0x3c46d9(_0x559743){_0x559743=_0x559743['map'];(0x0,_0x348f98[_0x536f('0x6')])(this,_0x3c46d9),this[_0x536f('0xcf')]=_0x559743,this[_0x536f('0x67b')]=[],this['textureSprites']=[],this[_0x536f('0x67c')]=!0x1;}(0x0,_0x1ea1a4['default'])(_0x3c46d9,[{'key':'initLoop','value':function(){this[_0x536f('0x67c')]||(this[_0x536f('0x67c')]=!0x0);}},{'key':_0x536f('0xcd'),'value':function(){this[_0x536f('0x67b')][_0x536f('0xd')]=0x0,this[_0x536f('0x67d')][_0x536f('0xd')]=0x0;}},{'key':_0x536f('0x67e'),'value':function(){var _0x559743=document[_0x536f('0x93')](_0x536f('0x411'));return _0x559743[_0x536f('0x366')]=0x2,_0x559743[_0x536f('0x339')]=0x2,_0x559743[_0x536f('0x412')]('2d')[_0x536f('0x415')]='#FFFFFF',new THREE[(_0x536f('0x1cb'))](_0x559743);}},{'key':_0x536f('0x67f'),'value':function(_0x559743,_0x113115){_0x559743[_0x536f('0x680')]||(_0x559743[_0x536f('0x680')]=this[_0x536f('0x67e')](),_0x559743['aoMapIntensity']=0x0),_0x559743['visible']=!0x0,_0x559743['defines'][_0x536f('0x681')]='',_0x559743[_0x536f('0x1d7')]=!0x0;var _0x38f9b4=new THREE['TextureLoader']()[_0x536f('0x263')](_0x113115,function(){});_0x559743['onBeforeCompile']=function(_0x559743){_0x559743[_0x536f('0x168')][_0x536f('0x682')]={'value':_0x38f9b4},_0x559743[_0x536f('0x58')]=_0x559743[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x683')),_0x559743[_0x536f('0x58')]=_0x559743[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x684'),_0x536f('0x685'));};}},{'key':_0x536f('0x686'),'value':function(_0x559743,_0x113115,_0x38f9b4){var _0x348f98=this,_0x1ea1a4=(_0x559743[_0x536f('0x680')]||(_0x559743[_0x536f('0x680')]=this['createTexture'](),_0x559743[_0x536f('0x687')]=0x0),new THREE['TextureLoader']()[_0x536f('0x263')](_0x113115,function(){_0x348f98['textures'][_0x536f('0x82')](_0x1ea1a4);}));_0x1ea1a4['wrapS']=THREE[_0x536f('0x376')],_0x1ea1a4['wrapT']=THREE[_0x536f('0x376')],_0x1ea1a4[_0x536f('0x688')]=new THREE[(_0x536f('0x1b5'))](0x0,0x0),_0x1ea1a4['uv2TransSpeed']=new THREE[(_0x536f('0x1b5'))](0x1,0x1),_0x38f9b4&&(_0x1ea1a4[_0x536f('0x689')]=new THREE[(_0x536f('0x1b5'))](_0x38f9b4['x'],_0x38f9b4['y'])),_0x559743[_0x536f('0x422')]=function(_0x559743){_0x559743['uniforms']['texture2']={'value':_0x1ea1a4},_0x559743[_0x536f('0x168')][_0x536f('0x68a')]={'value':_0x1ea1a4[_0x536f('0x688')]},_0x559743[_0x536f('0x58')]=_0x559743['fragmentShader'][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x68b')),_0x559743['fragmentShader']=_0x559743[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x647'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_MAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor\x20=\x20texture2D(\x20map,\x20vUv\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor2\x20=\x20texture2D(\x20texture2,\x20vUv2\x20+\x20tex2UvAni);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20=\x20mapTexelToLinear(\x20texelColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor2\x20=\x20mapTexelToLinear(\x20texelColor2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20+=\x20texelColor2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20texelColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');};}},{'key':_0x536f('0x68c'),'value':function(_0x559743,_0x113115){_0x113115=new _0xf4f38[(_0x536f('0x6'))]({'timer':this['map']['timer'],'imageWidth':_0x113115[_0x536f('0x68d')],'imageHeight':_0x113115[_0x536f('0x68e')],'xCount':_0x113115[_0x536f('0x55c')],'yCount':_0x113115[_0x536f('0x68f')],'fps':_0x113115[_0x536f('0x2f5')]});_0x113115[_0x536f('0x5')](_0x559743),_0x559743[_0x536f('0x690')]=_0x113115,this[_0x536f('0x67d')]['push'](_0x113115);}},{'key':'update','value':function(_0x559743){if(this[_0x536f('0x67c')]){for(var _0x113115=0x0,_0x38f9b4=this['textures'][_0x536f('0xd')];_0x113115<_0x38f9b4;_0x113115++)this['textures'][_0x113115]['uvTranslate']&&(this['textures'][_0x113115][_0x536f('0x691')]['x']&&(this[_0x536f('0x67b')][_0x113115][_0x536f('0xf8')]['x']+=_0x559743*this[_0x536f('0x67b')][_0x113115]['uvTranslate']['x']),this['textures'][_0x113115]['uvTranslate']['y']&&(this[_0x536f('0x67b')][_0x113115][_0x536f('0xf8')]['y']+=_0x559743*this[_0x536f('0x67b')][_0x113115][_0x536f('0x691')]['y'])),this[_0x536f('0x67b')][_0x113115][_0x536f('0x688')]&&(void 0x0!==this[_0x536f('0x67b')][_0x113115][_0x536f('0x688')]['x']&&(this['textures'][_0x113115][_0x536f('0x688')]['x']+=_0x559743*this[_0x536f('0x67b')][_0x113115][_0x536f('0x689')]['x']),void 0x0!==this[_0x536f('0x67b')][_0x113115][_0x536f('0x688')]['y']&&(this[_0x536f('0x67b')][_0x113115][_0x536f('0x688')]['y']+=_0x559743*this[_0x536f('0x67b')][_0x113115][_0x536f('0x689')]['y']));if(0x0<this[_0x536f('0x67d')][_0x536f('0xd')])for(var _0x348f98=0x0,_0x1ea1a4=this[_0x536f('0x67d')][_0x536f('0xd')];_0x348f98<_0x1ea1a4;_0x348f98++)this['textureSprites'][_0x348f98][_0x536f('0x2f3')]();}}},{'key':'dispose','value':function(){for(var _0x559743=this[_0x536f('0x67b')][_0x536f('0xd')]=0x0,_0x113115=this['textureSprites'][_0x536f('0xd')];_0x559743<_0x113115;_0x559743++)this['textureSprites'][_0x559743]['texture']=null;this[_0x536f('0x67d')][_0x536f('0xd')]=0x0;}}]),_0x113115['default']=_0x3c46d9;},function(_0x2e0be0,_0x4d3925,_0x14fb2e){'use strict';Object['defineProperty'](_0x4d3925,_0x536f('0x4'),{'value':!0x0});var _0xd43b4d=_0x1e6abf(_0x14fb2e(0x0)),_0x3687a8=_0x1e6abf(_0x14fb2e(0x1)),_0x59f36a=_0x1e6abf(_0x14fb2e(0x78));function _0x1e6abf(_0x2e0be0){return _0x2e0be0&&_0x2e0be0[_0x536f('0x4')]?_0x2e0be0:{'default':_0x2e0be0};}function _0x2aaf09(){(0x0,_0xd43b4d['default'])(this,_0x2aaf09),this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this['uvAnimate']=null,this[_0x536f('0xce')]=null,this['sprite']=null;}(0x0,_0x3687a8['default'])(_0x2aaf09,[{'key':_0x536f('0x5'),'value':function(_0x2e0be0){var _0x4d3925=_0x2e0be0[_0x536f('0x2e0')],_0x14fb2e=_0x2e0be0[_0x536f('0x1dc')],_0x14fb2e=void 0x0===_0x14fb2e?0x1:_0x14fb2e,_0xd43b4d=_0x2e0be0[_0x536f('0x1c7')],_0x3687a8=_0x2e0be0[_0x536f('0x1d1')],_0x3687a8=void 0x0===_0x3687a8||_0x3687a8,_0x1e6abf=_0x2e0be0[_0x536f('0x558')],_0x1e6abf=void 0x0===_0x1e6abf||_0x1e6abf,_0x2e0be0=_0x2e0be0['uvConfigs'],_0x2e0be0=void 0x0===_0x2e0be0?{'imageWidth':0x100,'imageHeight':0x100,'xCount':0x5,'yCount':0x5,'xStart':0x0,'yStart':0x0,'fps':0xc}:_0x2e0be0,_0x4d3925=(_0xd43b4d['minFilter']=THREE['LinearFilter'],this[_0x536f('0x55f')]=new _0x59f36a[(_0x536f('0x6'))]({'timer':_0x4d3925,'imageWidth':_0x2e0be0[_0x536f('0x2e4')],'imageHeight':_0x2e0be0[_0x536f('0x2f1')],'xCount':_0x2e0be0['xCount'],'yCount':_0x2e0be0[_0x536f('0x2e5')],'fps':_0x2e0be0[_0x536f('0x2f5')],'xStart':_0x2e0be0['xStart'],'yStart':_0x2e0be0[_0x536f('0x2e3')]}),this[_0x536f('0x55f')][_0x536f('0x5')](_0xd43b4d,!0x0),!0x1===_0x3687a8&&(this['setLoop'](!0x1),this['uvAnimate'][_0x536f('0x2ef')]()),_0x14fb2e),_0x2e0be0=new THREE[(_0x536f('0x692'))]({'map':_0xd43b4d,'transparent':!0x0});this[_0x536f('0x693')]=new THREE[(_0x536f('0x694'))](_0x2e0be0),this[_0x536f('0x693')][_0x536f('0x355')]=0x5a,this[_0x536f('0x693')]['scale']['set'](+_0x4d3925,this['uvAnimate']['ySize']/this['uvAnimate']['xSize']*_0x4d3925,0x1),this[_0x536f('0xce')]=_0x2e0be0,this['object3d']['add'](this[_0x536f('0x693')]),_0x1e6abf&&this[_0x536f('0x695')]();}},{'key':'setFixedSize','value':function(){this[_0x536f('0x693')]['userData'][_0x536f('0x696')]=new THREE[(_0x536f('0x59'))]()[_0x536f('0x1bc')](this['sprite'][_0x536f('0x1dc')]),this['sprite'][_0x536f('0x697')]=function(_0x2e0be0,_0x4d3925,_0x14fb2e){var _0xd43b4d=new THREE['Vector3']()[_0x536f('0x698')](this[_0x536f('0x3bf')]),_0x14fb2e=new THREE['Vector3']()[_0x536f('0x698')](_0x14fb2e[_0x536f('0x3bf')]),_0xd43b4d=0.1*_0xd43b4d[_0x536f('0x699')](_0x14fb2e)[_0x536f('0xd')]();this[_0x536f('0x1dc')]['x']=this[_0x536f('0x576')][_0x536f('0x696')]['x']*_0xd43b4d,this['scale']['y']=this['userData'][_0x536f('0x696')]['y']*_0xd43b4d;};}},{'key':'play','value':function(){this['uvAnimate'][_0x536f('0x2ec')]=!0x1;}},{'key':_0x536f('0x69a'),'value':function(_0x2e0be0){this[_0x536f('0x55f')][_0x536f('0x2eb')]=_0x2e0be0,this[_0x536f('0x55f')][_0x536f('0x2ec')]=!_0x2e0be0;}},{'key':_0x536f('0x2f3'),'value':function(){this[_0x536f('0x55f')]&&this[_0x536f('0x55f')][_0x536f('0x2f3')]();}}]),_0x4d3925['default']=_0x2aaf09;},function(_0x56867c,_0x2ff461,_0x5961b9){'use strict';Object[_0x536f('0x1')](_0x2ff461,_0x536f('0x4'),{'value':!0x0});var _0x3c1ceb=_0x135d08(_0x5961b9(0x0));function _0x135d08(_0x56867c){return _0x56867c&&_0x56867c['__esModule']?_0x56867c:{'default':_0x56867c};}function _0x6f748a(_0x56867c){var _0x2ff461=_0x56867c['texture'],_0x5961b9=_0x56867c[_0x536f('0x21d')],_0x5961b9=void 0x0===_0x5961b9?0x64:_0x5961b9,_0x135d08=_0x56867c[_0x536f('0x339')],_0x135d08=void 0x0===_0x135d08?0x32:_0x135d08,_0x3405b0=_0x56867c[_0x536f('0x36d')],_0x3405b0=void 0x0===_0x3405b0?_0x536f('0x36e'):_0x3405b0,_0x6283b9=_0x56867c[_0x536f('0x36b')],_0x6283b9=void 0x0===_0x6283b9?0.3:_0x6283b9,_0x2f6cc2=_0x56867c['isCilpGround'],_0x2f6cc2=void 0x0!==_0x2f6cc2&&_0x2f6cc2,_0x56867c=_0x56867c['clipGroundY'],_0x56867c=void 0x0===_0x56867c?0x0:_0x56867c;(0x0,_0x3c1ceb[_0x536f('0x6')])(this,_0x6f748a),this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x1c7')]=_0x2ff461,this['radius']=_0x5961b9,this['height']=_0x135d08,this[_0x536f('0x36d')]=_0x3405b0,this[_0x536f('0xf9')]=0x0,this[_0x536f('0x69b')]=null,this['material']=null,this[_0x536f('0x420')]=null,this[_0x536f('0x69c')]=0x0,this[_0x536f('0x36b')]=_0x6283b9,this['isCilpGround']=_0x2f6cc2,this['clipGroundY']=_0x56867c;}(0x0,_0x135d08(_0x5961b9(0x1))[_0x536f('0x6')])(_0x6f748a,[{'key':'create','value':function(){var _0x56867c=new THREE[(_0x536f('0x43a'))](this[_0x536f('0x21d')],this['radius'],this[_0x536f('0x339')],0x20,0x1,!0x0,0x0,0x2*Math['PI']),_0x2ff461=(this['texture'][_0x536f('0x434')]=THREE['RepeatWrapping'],this[_0x536f('0x1c7')]['wrapT']=THREE['RepeatWrapping'],this[_0x536f('0xce')]=new THREE[(_0x536f('0x421'))]({'color':0xffffff,'side':THREE[_0x536f('0x345')],'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x536f('0x44b')]}),this[_0x536f('0x36d')]&&(this['colorStr'],this[_0x536f('0xce')]['color'][_0x536f('0x33d')](this[_0x536f('0x36d')])),this);return this['material'][_0x536f('0x422')]=function(_0x56867c){_0x56867c[_0x536f('0x168')][_0x536f('0x600')]={'value':0x1},_0x56867c[_0x536f('0x168')][_0x536f('0x423')]={'value':_0x2ff461[_0x536f('0x1c7')]},_0x56867c[_0x536f('0x168')][_0x536f('0x53d')]={'value':_0x2ff461[_0x536f('0x53d')]},_0x56867c[_0x536f('0x168')][_0x536f('0x53e')]={'value':_0x2ff461[_0x536f('0x53e')]},_0x56867c['vertexShader']=_0x56867c[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x44e'),_0x536f('0x69d')),_0x56867c['vertexShader']=_0x56867c[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x69e'),_0x536f('0x69f')),_0x56867c[_0x536f('0x58')]=_0x56867c[_0x536f('0x58')]['replace'](_0x536f('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightIntensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCilpGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20clipGroundY;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x56867c[_0x536f('0x58')]=_0x56867c[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x6a0')),_0x2ff461[_0x536f('0x420')]=_0x56867c;},this['cincture']=new THREE[(_0x536f('0x354'))](_0x56867c,this[_0x536f('0xce')]),this[_0x536f('0x69b')]['renderOrder']=0x45,this[_0x536f('0x356')][_0x536f('0x1c3')](this['cincture']),this[_0x536f('0x356')],this[_0x536f('0x356')];}},{'key':'update','value':function(_0x56867c){this['cincture']&&(this[_0x536f('0x69c')]+=_0x56867c*this[_0x536f('0x36b')],0x1<this['cinctureCount']&&(this[_0x536f('0x69c')]=0x0),_0x56867c=0.5*(0x1-Math[_0x536f('0x5b')](this['cinctureCount']*Math['PI']*0x2)),this[_0x536f('0x69b')][_0x536f('0x1dc')]['x']=this[_0x536f('0x69b')][_0x536f('0x1dc')]['z']=1.5*(0x1-Math[_0x536f('0x5b')](this['cinctureCount']*Math['PI']))*0.5+0.001,this[_0x536f('0x69b')][_0x536f('0x1dc')]['y']=1.5*_0x56867c+0.001,this[_0x536f('0xce')][_0x536f('0x201')]=_0x56867c,this[_0x536f('0x420')]&&(this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x600')][_0x536f('0x10')]=_0x56867c));}},{'key':'visible','set':function(_0x56867c){this[_0x536f('0x356')]['visible']=_0x56867c;},'get':function(){return this[_0x536f('0x356')][_0x536f('0x36c')];}}]),_0x2ff461['default']=_0x6f748a;},function(_0x4b84e7,_0x446b98,_0x1bf98d){'use strict';Object[_0x536f('0x1')](_0x446b98,_0x536f('0x4'),{'value':!0x0});var _0x22f97c=_0x30bfa5(_0x1bf98d(0x0));function _0x30bfa5(_0x4b84e7){return _0x4b84e7&&_0x4b84e7[_0x536f('0x4')]?_0x4b84e7:{'default':_0x4b84e7};}function _0x38f9b6(_0x4b84e7){var _0x446b98=_0x4b84e7[_0x536f('0x1c7')],_0x4b84e7=_0x4b84e7[_0x536f('0x36d')],_0x4b84e7=void 0x0===_0x4b84e7?'#FFFFFF':_0x4b84e7;(0x0,_0x22f97c[_0x536f('0x6')])(this,_0x38f9b6),this['enabled']=!0x0,this[_0x536f('0x356')]=new THREE[(_0x536f('0x1c5'))](),this['texture']=_0x446b98,this[_0x536f('0x36d')]=_0x4b84e7,this[_0x536f('0xf9')]=0x0,this[_0x536f('0x36b')]=0x1,this[_0x536f('0xce')]=null;}(0x0,_0x30bfa5(_0x1bf98d(0x1))[_0x536f('0x6')])(_0x38f9b6,[{'key':'createMaterial','value':function(_0x4b84e7){_0x4b84e7[_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x4b84e7['wrapS']=THREE[_0x536f('0x376')],_0x4b84e7[_0x536f('0x2ee')]['y']=0x2,this[_0x536f('0xce')]=new THREE[(_0x536f('0x421'))]({'color':0xffffff,'transparent':!0x0,'map':_0x4b84e7,'opacity':0.6,'blending':THREE['AdditiveBlending']});}},{'key':_0x536f('0x5'),'value':function(_0x4b84e7){var _0x446b98=_0x4b84e7[_0x536f('0x1c7')],_0x1bf98d=_0x4b84e7[_0x536f('0x53f')],_0x22f97c=_0x4b84e7[_0x536f('0x21d')],_0x30bfa5=_0x4b84e7[_0x536f('0x57e')],_0x4b84e7=_0x4b84e7[_0x536f('0x1ed')],_0x4b84e7=(_0x4b84e7&&(_0x22f97c=Math[_0x536f('0x6a1')](THREE[_0x536f('0x19')][_0x536f('0x322')](_0x4b84e7/0x2))*_0x30bfa5),new THREE[(_0x536f('0x6a2'))](_0x22f97c,_0x30bfa5,0x14,0x1,!0x0)),_0x22f97c=(this[_0x536f('0x33a')](_0x446b98,_0x1bf98d),new THREE[(_0x536f('0x354'))](_0x4b84e7,this[_0x536f('0xce')]));return this[_0x536f('0x356')][_0x536f('0x1c3')](_0x22f97c),_0x22f97c;}},{'key':_0x536f('0x36a'),'value':function(_0x4b84e7){this[_0x536f('0xce')]&&this[_0x536f('0xce')][_0x536f('0xcf')]&&(this[_0x536f('0xf9')]+=_0x4b84e7*this[_0x536f('0x36b')]*0.1,this[_0x536f('0xce')]['map'][_0x536f('0xf8')]['y']=this[_0x536f('0xf9')]);}}]),_0x446b98[_0x536f('0x6')]=_0x38f9b6;},function(_0x4b569f,_0x485cf1,_0x3a707f){'use strict';Object[_0x536f('0x1')](_0x485cf1,_0x536f('0x4'),{'value':!0x0});var _0x44119c=_0x4827fb(_0x3a707f(0x4)),_0x43b444=_0x4827fb(_0x3a707f(0x0));function _0x4827fb(_0x4b569f){return _0x4b569f&&_0x4b569f[_0x536f('0x4')]?_0x4b569f:{'default':_0x4b569f};}function _0x19c234(_0x4b569f){var _0x485cf1=_0x4b569f[_0x536f('0x1c7')],_0x3a707f=_0x4b569f[_0x536f('0x36d')],_0x3a707f=void 0x0===_0x3a707f?_0x536f('0x36e'):_0x3a707f,_0x4827fb=_0x4b569f['focusColorStr'],_0x4827fb=void 0x0===_0x4827fb?_0x536f('0x6a3'):_0x4827fb,_0x3b94a1=_0x4b569f['scale'],_0x3b94a1=void 0x0===_0x3b94a1?0x14:_0x3b94a1,_0x45f929=_0x4b569f[_0x536f('0x36b')],_0x45f929=void 0x0===_0x45f929?0x1:_0x45f929,_0x183ed1=_0x4b569f[_0x536f('0x544')],_0x183ed1=void 0x0===_0x183ed1||_0x183ed1,_0x24ca5f=_0x4b569f[_0x536f('0x545')],_0x24ca5f=void 0x0!==_0x24ca5f&&_0x24ca5f,_0xde2497=_0x4b569f[_0x536f('0x546')],_0xde2497=void 0x0===_0xde2497?0xa:_0xde2497,_0x51dc57=_0x4b569f[_0x536f('0x6a4')],_0x51dc57=void 0x0!==_0x51dc57&&_0x51dc57,_0x426e86=_0x4b569f[_0x536f('0x548')],_0x426e86=void 0x0!==_0x426e86&&_0x426e86,_0x4b569f=_0x4b569f[_0x536f('0x54a')],_0x4b569f=void 0x0===_0x4b569f||_0x4b569f;(0x0,_0x43b444[_0x536f('0x6')])(this,_0x19c234),this[_0x536f('0x45d')]=!0x0,this[_0x536f('0x356')]=new THREE[(_0x536f('0x1c5'))](),this['texture']=_0x485cf1,this['alphaTex']=null,this['lineParams']={'spline':_0x536f('0x6a5'),'scale':_0x3b94a1,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this['height']=0x19,this[_0x536f('0x6a6')]=[],this['extentWallList']=[],this[_0x536f('0x6a7')]=null,this[_0x536f('0xf9')]=0x0,this['deltaSpeed']=0.005*_0x45f929,this[_0x536f('0x21f')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x3a707f),this[_0x536f('0x6a8')]=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x4827fb),this[_0x536f('0x549')]=null,this[_0x536f('0x420')]=null,this[_0x536f('0x6a9')]=null,this[_0x536f('0x545')]=_0x24ca5f,this[_0x536f('0x546')]=_0xde2497,this[_0x536f('0x6a4')]=_0x51dc57,this[_0x536f('0x548')]=_0x426e86,this[_0x536f('0x54a')]=Boolean(_0x4b569f),this['createMaterial'](_0x183ed1);}(0x0,_0x4827fb(_0x3a707f(0x1))[_0x536f('0x6')])(_0x19c234,[{'key':_0x536f('0x33a'),'value':function(_0x4b569f){this['wallMaterial']=new THREE[(_0x536f('0x421'))]({'color':0xffffff,'transparent':!0x0,'depthWrite':!0x1}),this[_0x536f('0x549')]['_ignoreAlpha']=!0x0,_0x4b569f&&(this['wallMaterial']['blending']=THREE[_0x536f('0x44b')]),this[_0x536f('0x549')][_0x536f('0x21f')]=this[_0x536f('0x21f')],this[_0x536f('0x1c7')][_0x536f('0x434')]=THREE['RepeatWrapping'],this[_0x536f('0x1c7')][_0x536f('0x375')]=THREE[_0x536f('0x376')];var _0x485cf1=this;this[_0x536f('0x545')]?(this['wallMaterial'][_0x536f('0x3ad')]=THREE[_0x536f('0x6aa')],this[_0x536f('0x1c7')][_0x536f('0x2ee')]['y']=0x2,this[_0x536f('0x1c7')][_0x536f('0x2ee')]['x']=this[_0x536f('0x546')],this[_0x536f('0x549')][_0x536f('0xcf')]=this['texture']):(this[_0x536f('0x549')][_0x536f('0x3ad')]=this[_0x536f('0x548')]?THREE['BackSide']:THREE[_0x536f('0x345')],this['wallMaterial'][_0x536f('0x422')]=function(_0x4b569f){_0x4b569f[_0x536f('0x168')][_0x536f('0x429')]={'value':0x0},_0x4b569f[_0x536f('0x168')][_0x536f('0x6ab')]={'value':0x1},_0x4b569f['uniforms'][_0x536f('0x6ac')]={'value':_0x485cf1[_0x536f('0x1c7')]},_0x4b569f[_0x536f('0x168')]['isAlphaMask']={'value':_0x485cf1[_0x536f('0x54a')]},_0x4b569f[_0x536f('0x57')]=_0x4b569f[_0x536f('0x57')]['replace'](_0x536f('0x44e'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4b569f[_0x536f('0x57')]=_0x4b569f[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x69e'),_0x536f('0x6ad')),_0x4b569f[_0x536f('0x58')]=_0x4b569f[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isAlphaMask;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20lineTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4b569f[_0x536f('0x58')]=_0x4b569f['fragmentShader'][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x6ae')),_0x485cf1[_0x536f('0x420')]=_0x4b569f;});}},{'key':_0x536f('0x54c'),'value':function(_0x4b569f){var _0x485cf1=_0x4b569f[_0x536f('0x27d')],_0x3a707f=_0x4b569f['extentId'],_0x4827fb=_0x4b569f['wallHeight'],_0x4827fb=void 0x0===_0x4827fb?0x5:_0x4827fb,_0x4b569f=_0x4b569f['isNoClose'],_0x4665c5=_0x485cf1[0x0],_0x3936ec=[],_0x5ec0fd=!0x0,_0x57143b=!0x1,_0x34c69f=void 0x0;try{for(var _0x4ea272,_0x2e8fdf=(0x0,_0x44119c['default'])(_0x485cf1);!(_0x5ec0fd=(_0x4ea272=_0x2e8fdf[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5ec0fd=!0x0){var _0x43b444=_0x4ea272[_0x536f('0x10')],_0x19c234=_0x43b444['x']-_0x4665c5['x'],_0x30da25=_0x43b444['z']-_0x4665c5['z'];_0x3936ec[_0x536f('0x82')]({'x':_0x19c234,'y':_0x30da25});}}catch(_0x535aa7){_0x57143b=!0x0,_0x34c69f=_0x535aa7;}finally{try{!_0x5ec0fd&&_0x2e8fdf[_0x536f('0x265')]&&_0x2e8fdf[_0x536f('0x265')]();}finally{if(_0x57143b)throw _0x34c69f;}}_0x4b569f||_0x3936ec[_0x536f('0x82')]({'x':0x0,'y':0x0});_0x485cf1=null,(_0x485cf1=this['isScrollX']?this[_0x536f('0x6af')]({'points':_0x3936ec,'height':_0x4827fb}):this[_0x536f('0x6b0')]({'points':_0x3936ec,'height':_0x4827fb}))[_0x536f('0x6b1')](),_0x57143b=new THREE[(_0x536f('0x354'))](_0x485cf1,this[_0x536f('0x549')]);return _0x57143b[_0x536f('0x355')]=0x47,_0x57143b[_0x536f('0x6b2')]=_0x3a707f,this[_0x536f('0x356')][_0x536f('0x1c3')](_0x57143b),this['extentWallList'][_0x536f('0x82')]({'id':_0x3a707f,'mesh':_0x57143b}),_0x57143b;}},{'key':_0x536f('0x6af'),'value':function(_0x485cf1){var _0x4b569f=_0x485cf1[_0x536f('0x27d')],_0x4b569f=void 0x0===_0x4b569f?[]:_0x4b569f,_0x485cf1=_0x485cf1['height'],_0x3a707f=void 0x0===_0x485cf1?0x0:_0x485cf1,_0x4827fb=[],_0x59d149=!0x0,_0x485cf1=!0x1,_0x4e2538=void 0x0;try{for(var _0x517aca,_0x5704b3=(0x0,_0x44119c[_0x536f('0x6')])(_0x4b569f);!(_0x59d149=(_0x517aca=_0x5704b3[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x59d149=!0x0){var _0x26b3bd=_0x517aca['value'];_0x4827fb[_0x536f('0x82')](new THREE[(_0x536f('0x59'))](_0x26b3bd['x'],_0x3a707f,_0x26b3bd['y']));}}catch(_0x5a40e1){_0x485cf1=!0x0,_0x4e2538=_0x5a40e1;}finally{try{!_0x59d149&&_0x5704b3[_0x536f('0x265')]&&_0x5704b3[_0x536f('0x265')]();}finally{if(_0x485cf1)throw _0x4e2538;}}_0x4b569f=new THREE[(_0x536f('0x6b3'))](_0x4827fb,!0x1,_0x536f('0x6b4'),0.01),_0x485cf1=new THREE[(_0x536f('0x6b5'))](_0x4b569f,this[_0x536f('0x6b6')][_0x536f('0x6b7')],this[_0x536f('0x6b6')][_0x536f('0x1dc')],this[_0x536f('0x6b6')][_0x536f('0x6b8')],this['lineParams'][_0x536f('0x6b9')]);return _0x485cf1['computeBoundingBox'](),_0x485cf1;}},{'key':_0x536f('0x6b0'),'value':function(_0x4b569f){for(var _0x485cf1=_0x4b569f[_0x536f('0x27d')],_0x3a707f=void 0x0===_0x485cf1?[]:_0x485cf1,_0x485cf1=_0x4b569f['height'],_0x4827fb=void 0x0===_0x485cf1?0x0:_0x485cf1,_0x405247=[],_0x9d40e5=[],_0x4ce08a=0x0,_0x24e73f=_0x405247[_0x536f('0xd')],_0x36986c=_0x9d40e5[_0x536f('0xd')];_0x4ce08a<_0x3a707f[_0x536f('0xd')]-0x1;_0x4ce08a++){var _0x22cd60=_0x3a707f[_0x4ce08a],_0x31b0d0=_0x3a707f[_0x4ce08a+0x1];_0x405247[_0x24e73f++]=_0x22cd60['x'],_0x405247[_0x24e73f++]=0x0,_0x405247[_0x24e73f++]=_0x22cd60['y'],_0x9d40e5[_0x36986c++]=0x0,_0x9d40e5[_0x36986c++]=0x0,_0x405247[_0x24e73f++]=_0x31b0d0['x'],_0x405247[_0x24e73f++]=0x0,_0x405247[_0x24e73f++]=_0x31b0d0['y'],_0x9d40e5[_0x36986c++]=0x1,_0x9d40e5[_0x36986c++]=0x0,_0x405247[_0x24e73f++]=_0x22cd60['x'],_0x405247[_0x24e73f++]=_0x4827fb,_0x405247[_0x24e73f++]=_0x22cd60['y'],_0x9d40e5[_0x36986c++]=0x0,_0x9d40e5[_0x36986c++]=0x1,_0x405247[_0x24e73f++]=_0x22cd60['x'],_0x405247[_0x24e73f++]=_0x4827fb,_0x405247[_0x24e73f++]=_0x22cd60['y'],_0x9d40e5[_0x36986c++]=0x0,_0x9d40e5[_0x36986c++]=0x1,_0x405247[_0x24e73f++]=_0x31b0d0['x'],_0x405247[_0x24e73f++]=0x0,_0x405247[_0x24e73f++]=_0x31b0d0['y'],_0x9d40e5[_0x36986c++]=0x1,_0x9d40e5[_0x36986c++]=0x0,_0x405247[_0x24e73f++]=_0x31b0d0['x'],_0x405247[_0x24e73f++]=_0x4827fb,_0x405247[_0x24e73f++]=_0x31b0d0['y'],_0x9d40e5[_0x36986c++]=0x1,_0x9d40e5[_0x36986c++]=0x1;}_0x4b569f=new THREE[(_0x536f('0x1e7'))]();return _0x4b569f['addAttribute']('position',new THREE['BufferAttribute'](new Float32Array(_0x405247),0x3)),_0x4b569f[_0x536f('0x1f5')]('uv',new THREE['BufferAttribute'](new Float32Array(_0x9d40e5),0x2)),_0x4b569f;}},{'key':_0x536f('0x6ba'),'value':function(_0x4b569f){_0x4b569f=this[_0x536f('0x6bb')](_0x4b569f),_0x4b569f=new THREE[(_0x536f('0x354'))](new THREE[(_0x536f('0x6bc'))](_0x4b569f),this[_0x536f('0x6a9')]);return _0x4b569f['rotateX'](0.5*-Math['PI']),_0x4b569f[_0x536f('0x3b')]['y']=0x0,_0x4b569f;}},{'key':_0x536f('0x6bb'),'value':function(_0x4b569f){var _0x485cf1=new THREE[(_0x536f('0x6bd'))](),_0x3a707f=(_0x485cf1[_0x536f('0x579')](0x0,0x0),!0x0),_0x4827fb=!0x1,_0x3ac4d3=void 0x0;try{for(var _0xed9881,_0x580292=(0x0,_0x44119c[_0x536f('0x6')])(_0x4b569f);!(_0x3a707f=(_0xed9881=_0x580292[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3a707f=!0x0){var _0x275822=_0xed9881[_0x536f('0x10')];_0x485cf1['lineTo'](_0x275822['x'],-_0x275822['z']);}}catch(_0x5f4689){_0x4827fb=!0x0,_0x3ac4d3=_0x5f4689;}finally{try{!_0x3a707f&&_0x580292[_0x536f('0x265')]&&_0x580292[_0x536f('0x265')]();}finally{if(_0x4827fb)throw _0x3ac4d3;}}return _0x485cf1;}},{'key':_0x536f('0x36a'),'value':function(){this[_0x536f('0x45d')]&&this['shader']?(this['count']-=this[_0x536f('0x6be')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x429')][_0x536f('0x10')]=this[_0x536f('0xf9')]):this['isScrollX']&&(this[_0x536f('0xf9')]=this['isClockWise']?this[_0x536f('0xf9')]+this[_0x536f('0x6be')]:this['count']-this[_0x536f('0x6be')],this[_0x536f('0x549')]['map'][_0x536f('0xf8')]['x']=this[_0x536f('0xf9')]);}},{'key':_0x536f('0x6bf'),'value':function(_0x4b569f){var _0x485cf1=!0x0,_0x3a707f=!0x1,_0x4827fb=void 0x0;try{for(var _0x3bcc26,_0x7634f5=(0x0,_0x44119c[_0x536f('0x6')])(this['extentIds']);!(_0x485cf1=(_0x3bcc26=_0x7634f5['next']())[_0x536f('0x7a')]);_0x485cf1=!0x0)if(_0x3bcc26[_0x536f('0x10')]===_0x4b569f)return!0x0;}catch(_0x198c1e){_0x3a707f=!0x0,_0x4827fb=_0x198c1e;}finally{try{!_0x485cf1&&_0x7634f5[_0x536f('0x265')]&&_0x7634f5['return']();}finally{if(_0x3a707f)throw _0x4827fb;}}return!0x1;}},{'key':_0x536f('0x6c0'),'value':function(_0x4b569f){var _0x485cf1=!0x0,_0x3a707f=!0x1,_0x4827fb=void 0x0;try{for(var _0x12f6b5,_0x10c781=(0x0,_0x44119c['default'])(this[_0x536f('0x586')]);!(_0x485cf1=(_0x12f6b5=_0x10c781[_0x536f('0x79')]())['done']);_0x485cf1=!0x0){var _0x4f41dd=_0x12f6b5[_0x536f('0x10')];if(_0x4f41dd['id']===_0x4b569f)return _0x4f41dd;}}catch(_0xe203){_0x3a707f=!0x0,_0x4827fb=_0xe203;}finally{try{!_0x485cf1&&_0x10c781[_0x536f('0x265')]&&_0x10c781[_0x536f('0x265')]();}finally{if(_0x3a707f)throw _0x4827fb;}}return null;}},{'key':'focusExtent','value':function(_0x4b569f){var _0x485cf1=_0x4b569f[_0x536f('0x6b2')],_0x4b569f=_0x4b569f[_0x536f('0x6c1')],_0x4b569f=void 0x0===_0x4b569f||_0x4b569f,_0x3a707f=this['getExtentWall'](_0x485cf1);_0x3a707f&&(this[_0x536f('0x6a7')]=_0x485cf1,_0x3a707f[_0x536f('0x1e8')][_0x536f('0xce')]['color']['copy'](this['focusColor']),_0x4b569f&&this[_0x536f('0x6c2')](_0x3a707f[_0x536f('0x1e8')]),this['switchExtentsVisible'](!0x1),_0x3a707f[_0x536f('0x1e8')][_0x536f('0x36c')]=!0x0);}},{'key':_0x536f('0x6c3'),'value':function(){var _0x4b569f;this['_focusExtentId']&&(this['switchExtentsVisible'](!0x0),(_0x4b569f=this['getExtentWall'](this[_0x536f('0x6a7')]))['mesh'][_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x1bc')](_0x4b569f[_0x536f('0x1e8')][_0x536f('0x6c4')]),this[_0x536f('0x6a7')]=null);}},{'key':_0x536f('0x6c2'),'value':function(_0x4b569f){_0x4b569f[_0x536f('0x3b')]['y']=-0x19;var _0x485cf1=new THREE[(_0x536f('0x59'))]()[_0x536f('0x1bc')](_0x4b569f['position']);_0x485cf1['y']=0x19,new TWEEN['Tween'](_0x4b569f['position'])['to'](_0x485cf1,0x3e8)[_0x536f('0x324')](TWEEN['Easing'][_0x536f('0x6c5')][_0x536f('0x327')])[_0x536f('0x329')]();}},{'key':_0x536f('0x6c6'),'value':function(_0x4b569f){var _0x485cf1=!0x0,_0x3a707f=!0x1,_0x4827fb=void 0x0;try{for(var _0xfb810a,_0x32f7dd=(0x0,_0x44119c[_0x536f('0x6')])(this['extentWallList']);!(_0x485cf1=(_0xfb810a=_0x32f7dd[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x485cf1=!0x0)_0xfb810a[_0x536f('0x10')][_0x536f('0x1e8')]['visible']=_0x4b569f;}catch(_0x34ccb6){_0x3a707f=!0x0,_0x4827fb=_0x34ccb6;}finally{try{!_0x485cf1&&_0x32f7dd[_0x536f('0x265')]&&_0x32f7dd[_0x536f('0x265')]();}finally{if(_0x3a707f)throw _0x4827fb;}}}},{'key':_0x536f('0x36c'),'set':function(_0x4b569f){this[_0x536f('0x6c6')](_0x4b569f);}}]),_0x485cf1[_0x536f('0x6')]=_0x19c234;},function(_0x38fbf9,_0x1de57d,_0x194356){'use strict';Object['defineProperty'](_0x1de57d,_0x536f('0x4'),{'value':!0x0});var _0x539b1f=_0x43d9b7(_0x194356(0x4)),_0x41defb=_0x43d9b7(_0x194356(0x0));function _0x43d9b7(_0x38fbf9){return _0x38fbf9&&_0x38fbf9[_0x536f('0x4')]?_0x38fbf9:{'default':_0x38fbf9};}function _0x3b37f3(_0x38fbf9){var _0x1de57d=_0x38fbf9[_0x536f('0x1c7')],_0x194356=_0x38fbf9[_0x536f('0x36d')],_0x194356=void 0x0===_0x194356?_0x536f('0x36e'):_0x194356,_0x43d9b7=_0x38fbf9[_0x536f('0x6c7')],_0x43d9b7=void 0x0===_0x43d9b7?_0x536f('0x6a3'):_0x43d9b7,_0x18e7a0=_0x38fbf9[_0x536f('0x443')],_0x325b3b=_0x38fbf9[_0x536f('0x6c8')],_0x3e9c94=_0x38fbf9['scale'],_0x3e9c94=void 0x0===_0x3e9c94?0x14:_0x3e9c94,_0x38fbf9=_0x38fbf9[_0x536f('0x36b')],_0x38fbf9=void 0x0===_0x38fbf9?0.004:_0x38fbf9;(0x0,_0x41defb[_0x536f('0x6')])(this,_0x3b37f3),this[_0x536f('0x45d')]=!0x0,this[_0x536f('0x356')]=new THREE['Group'](),this[_0x536f('0x1c7')]=_0x1de57d,this['alphaTex']=null,this['groundColor']=null,_0x325b3b&&(this[_0x536f('0x6c9')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x325b3b),this[_0x536f('0x443')]=_0x18e7a0,this['alphaTex'][_0x536f('0x434')]=THREE['RepeatWrapping'],this[_0x536f('0x443')][_0x536f('0x434')]=THREE[_0x536f('0x376')]),this[_0x536f('0x6b6')]={'spline':_0x536f('0x6a5'),'scale':_0x3e9c94,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this['height']=0x19,this['extentIds']=[],this[_0x536f('0x586')]=[],this[_0x536f('0x6a7')]=null,this[_0x536f('0xf9')]=0x0,this[_0x536f('0x6be')]=_0x38fbf9,this[_0x536f('0x21f')]=new THREE['Color']()['setStyle'](_0x194356),this[_0x536f('0x6a8')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x43d9b7),this[_0x536f('0x549')]=null,this[_0x536f('0x420')]=null,this[_0x536f('0x6a9')]=null,this[_0x536f('0x33a')]();}(0x0,_0x43d9b7(_0x194356(0x1))[_0x536f('0x6')])(_0x3b37f3,[{'key':_0x536f('0x33a'),'value':function(){this[_0x536f('0x549')]=new THREE[(_0x536f('0x421'))]({'color':0xffffff,'transparent':!0x0}),this[_0x536f('0x549')]['color']=this[_0x536f('0x21f')],this[_0x536f('0x1c7')]['wrapS']=THREE['RepeatWrapping'],this[_0x536f('0x1c7')]['wrapT']=THREE[_0x536f('0x376')],this[_0x536f('0x1c7')][_0x536f('0x2ee')]['y']=0x1,this[_0x536f('0x1c7')][_0x536f('0xfa')]=!0x0,this[_0x536f('0x549')][_0x536f('0xcf')]=this[_0x536f('0x1c7')];var _0x1de57d=this;this[_0x536f('0x6c9')]&&(this[_0x536f('0x6a9')]=new THREE[(_0x536f('0x421'))]({'color':this['groundColor'],'transparent':!0x0,'depthWrite':!0x1}),this[_0x536f('0x6a9')]['onBeforeCompile']=function(_0x38fbf9){_0x38fbf9['uniforms'][_0x536f('0x443')]={'value':_0x1de57d[_0x536f('0x443')]},_0x38fbf9[_0x536f('0x57')]=_0x38fbf9[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x44e'),_0x536f('0x6ca')),_0x38fbf9['vertexShader']=_0x38fbf9['vertexShader'][_0x536f('0x56')](_0x536f('0x69e'),_0x536f('0x6cb')),_0x38fbf9[_0x536f('0x58')]=_0x38fbf9[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x38fbf9['fragmentShader']=_0x38fbf9['fragmentShader'][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x6cc'));});}},{'key':_0x536f('0x54c'),'value':function(_0x38fbf9){var _0x1de57d=_0x38fbf9[_0x536f('0x27d')],_0x38fbf9=_0x38fbf9['extentId'],_0x194356=_0x1de57d[0x0],_0x43d9b7=[],_0x458e83=!0x0,_0x59461f=!0x1,_0x191809=void 0x0;try{for(var _0x41defb,_0x3b37f3=(0x0,_0x539b1f[_0x536f('0x6')])(_0x1de57d);!(_0x458e83=(_0x41defb=_0x3b37f3['next']())[_0x536f('0x7a')]);_0x458e83=!0x0){var _0xe83615=_0x41defb[_0x536f('0x10')],_0xeab225=_0xe83615['x']-_0x194356['x'],_0x1e5ca4=_0xe83615['y']-_0x194356['y'],_0x1e4386=_0xe83615['z']-_0x194356['z'];_0x43d9b7[_0x536f('0x82')](new THREE[(_0x536f('0x59'))](_0xeab225,_0x1e5ca4,_0x1e4386));}}catch(_0x441494){_0x59461f=!0x0,_0x191809=_0x441494;}finally{try{!_0x458e83&&_0x3b37f3[_0x536f('0x265')]&&_0x3b37f3[_0x536f('0x265')]();}finally{if(_0x59461f)throw _0x191809;}}_0x43d9b7['push'](new THREE['Vector3']());var _0x1de57d=new THREE[(_0x536f('0x6b3'))](_0x43d9b7,!0x1,_0x536f('0x6b4'),0.01),_0x59461f=new THREE[(_0x536f('0x6b5'))](_0x1de57d,this[_0x536f('0x6b6')][_0x536f('0x6b7')],this[_0x536f('0x6b6')][_0x536f('0x1dc')],this[_0x536f('0x6b6')][_0x536f('0x6b8')],this[_0x536f('0x6b6')][_0x536f('0x6b9')]),_0x191809=(_0x59461f[_0x536f('0x6b1')](),_0x59461f['boundingBox'][_0x536f('0x6cd')]()),_0x1de57d={'x':-_0x194356['x']-_0x191809['x'],'y':_0x194356['z']+_0x191809['z']},_0x191809=new THREE[(_0x536f('0x354'))](_0x59461f,this[_0x536f('0x549')]);return _0x191809[_0x536f('0x355')]=0x47,_0x191809[_0x536f('0x6b2')]=_0x38fbf9,_0x191809[_0x536f('0x6c4')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x1bc')](this[_0x536f('0x549')][_0x536f('0x21f')]),this[_0x536f('0x6c9')]&&(_0x59461f=this[_0x536f('0x6ba')](_0x43d9b7,this['groundColor']),_0x191809['add'](_0x59461f)),this[_0x536f('0x356')]['add'](_0x191809),this[_0x536f('0x586')]['push']({'id':_0x38fbf9,'mesh':_0x191809,'center':{'x':_0x1de57d['x'],'y':_0x1de57d['y']}}),_0x191809;}},{'key':'addGround','value':function(_0x38fbf9){_0x38fbf9=this[_0x536f('0x6bb')](_0x38fbf9),_0x38fbf9=new THREE['Mesh'](new THREE[(_0x536f('0x6bc'))](_0x38fbf9),this[_0x536f('0x6a9')]);return _0x38fbf9[_0x536f('0x43b')](0.5*-Math['PI']),_0x38fbf9[_0x536f('0x3b')]['y']=-0x14,_0x38fbf9;}},{'key':'createShape','value':function(_0x38fbf9){var _0x1de57d=new THREE[(_0x536f('0x6bd'))](),_0x194356=(_0x1de57d['moveTo'](0x0,0x0),!0x0),_0x43d9b7=!0x1,_0x247b0a=void 0x0;try{for(var _0x32c22f,_0x1d7184=(0x0,_0x539b1f[_0x536f('0x6')])(_0x38fbf9);!(_0x194356=(_0x32c22f=_0x1d7184[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x194356=!0x0){var _0x41defb=_0x32c22f[_0x536f('0x10')];_0x1de57d[_0x536f('0x6ce')](_0x41defb['x'],-_0x41defb['z']);}}catch(_0x43963e){_0x43d9b7=!0x0,_0x247b0a=_0x43963e;}finally{try{!_0x194356&&_0x1d7184[_0x536f('0x265')]&&_0x1d7184[_0x536f('0x265')]();}finally{if(_0x43d9b7)throw _0x247b0a;}}return _0x1de57d;}},{'key':'render','value':function(){this['enabled']&&this[_0x536f('0x420')]&&(this['count']-=this[_0x536f('0x6be')],this[_0x536f('0x549')][_0x536f('0xcf')][_0x536f('0xf8')]['x']=this['count']);}}]),_0x1de57d[_0x536f('0x6')]=_0x3b37f3;},function(_0x10009b,_0x5ac176,_0x251156){'use strict';Object[_0x536f('0x1')](_0x5ac176,_0x536f('0x4'),{'value':!0x0});var _0x1016a1=_0x210be6(_0x251156(0x4)),_0x332407=_0x210be6(_0x251156(0x0)),_0x5811ad=_0x210be6(_0x251156(0x1)),_0x31a7ef=_0x210be6(_0x251156(0x37));function _0x210be6(_0x10009b){return _0x10009b&&_0x10009b[_0x536f('0x4')]?_0x10009b:{'default':_0x10009b};}function _0x6be4e1(_0x10009b){var _0x5ac176=_0x10009b[_0x536f('0x36d')],_0x5ac176=void 0x0===_0x5ac176?_0x536f('0x36e'):_0x5ac176,_0x251156=_0x10009b[_0x536f('0x36f')],_0x251156=void 0x0===_0x251156?_0x536f('0x6cf'):_0x251156,_0x5811ad=_0x10009b['depthTest'],_0x5811ad=void 0x0===_0x5811ad||_0x5811ad,_0x10009b=_0x10009b['opacity'],_0x10009b=void 0x0===_0x10009b?0.4:_0x10009b;(0x0,_0x332407['default'])(this,_0x6be4e1),this['parent']=null,this[_0x536f('0x36f')]=_0x251156,this[_0x536f('0xce')]=null,this[_0x536f('0x6d0')]=[],_0x536f('0x6d1')!==_0x251156&&(this['material']=new THREE['LineBasicMaterial']({'color':0xffffff}),this[_0x536f('0xce')]['depthTest']=_0x5811ad,_0x10009b<0x1&&(this['material']['transparent']=!0x0,this[_0x536f('0xce')][_0x536f('0x201')]=_0x10009b),_0x5ac176&&(this[_0x536f('0xce')][_0x536f('0x21f')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x5ac176)));}(0x0,_0x5811ad[_0x536f('0x6')])(_0x6be4e1,[{'key':_0x536f('0x6d2'),'value':function(_0x10009b,_0x5ac176){this[_0x536f('0xd2')]=_0x10009b;_0x10009b=new THREE['EdgesGeometry'](_0x5ac176),_0x5ac176=new THREE[(_0x536f('0x3c8'))](_0x10009b,this[_0x536f('0xce')]);return _0x5ac176[_0x536f('0x355')]=0x4f,this[_0x536f('0xd2')][_0x536f('0x1c3')](_0x5ac176),this[_0x536f('0x6d0')][_0x536f('0x82')](_0x5ac176),_0x5ac176;}},{'key':_0x536f('0xcd'),'value':function(){if(this['parent']){var _0x10009b=!0x0,_0x5ac176=!0x1,_0x251156=void 0x0;try{for(var _0x5811ad,_0x332407=(0x0,_0x1016a1[_0x536f('0x6')])(this[_0x536f('0x6d0')]);!(_0x10009b=(_0x5811ad=_0x332407[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x10009b=!0x0){var _0x210be6=_0x5811ad['value'];this[_0x536f('0xd2')][_0x536f('0xd1')](_0x210be6),_0x31a7ef[_0x536f('0x6')][_0x536f('0x6d3')](_0x210be6);}}catch(_0x45d794){_0x5ac176=!0x0,_0x251156=_0x45d794;}finally{try{!_0x10009b&&_0x332407[_0x536f('0x265')]&&_0x332407[_0x536f('0x265')]();}finally{if(_0x5ac176)throw _0x251156;}}this[_0x536f('0x6d0')]=[];}}}]),_0x5ac176[_0x536f('0x6')]=_0x6be4e1;},function(_0x30ce9b,_0xb5dd94,_0x3a3a50){'use strict';Object[_0x536f('0x1')](_0xb5dd94,_0x536f('0x4'),{'value':!0x0});var _0x566c3b=_0x4d45d(_0x3a3a50(0x0)),_0x549696=_0x4d45d(_0x3a3a50(0x1)),_0x4eba07=_0x4d45d(_0x3a3a50(0xa0));function _0x4d45d(_0x30ce9b){return _0x30ce9b&&_0x30ce9b['__esModule']?_0x30ce9b:{'default':_0x30ce9b};}function _0x4adaa9(_0x30ce9b){var _0xb5dd94=_0x30ce9b[_0x536f('0x36d')],_0xb5dd94=void 0x0===_0xb5dd94?_0x536f('0x4af'):_0xb5dd94,_0x3a3a50=_0x30ce9b['radius'],_0x549696=_0x30ce9b[_0x536f('0x1ed')],_0x549696=void 0x0===_0x549696?0x0:_0x549696,_0x30ce9b=_0x30ce9b[_0x536f('0x36b')],_0x30ce9b=void 0x0===_0x30ce9b?0x1:_0x30ce9b;(0x0,_0x566c3b[_0x536f('0x6')])(this,_0x4adaa9),this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x36d')]=_0xb5dd94,this[_0x536f('0xce')]=null,this[_0x536f('0x41f')]=null,this['radius']=_0x3a3a50||0xc8,this[_0x536f('0x420')]=null,this['count']=0x0,this[_0x536f('0x36b')]=_0x30ce9b,this[_0x536f('0x1ed')]=_0x549696,this['createMaterial'](_0xb5dd94);}(0x0,_0x549696[_0x536f('0x6')])(_0x4adaa9,[{'key':_0x536f('0x33a'),'value':function(){var _0x30ce9b=_0x4eba07[_0x536f('0x6')][_0x536f('0x6d4')]([0.625,0x1]),_0xb5dd94=new THREE['CanvasTexture'](_0x30ce9b),_0x3a3a50=this;this[_0x536f('0xce')]=new THREE['MeshBasicMaterial']({'transparent':!0x0,'opacity':0.5}),this[_0x536f('0x36d')]&&this['material'][_0x536f('0x21f')][_0x536f('0x33d')](this['colorStr']),this[_0x536f('0xce')][_0x536f('0x422')]=function(_0x30ce9b){_0x30ce9b['uniforms']['iTime']={'value':0x0},_0x30ce9b[_0x536f('0x168')]['texture1']={'value':_0xb5dd94},_0x30ce9b[_0x536f('0x57')]=_0x30ce9b[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4b3'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x30ce9b[_0x536f('0x57')]=_0x30ce9b[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x6d5')),_0x30ce9b['fragmentShader']=_0x30ce9b['fragmentShader'][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x6d6')),_0x30ce9b['fragmentShader']=_0x30ce9b[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x6d7')),_0x3a3a50[_0x536f('0x420')]=_0x30ce9b;};}},{'key':_0x536f('0x5'),'value':function(){var _0x30ce9b=new THREE[(_0x536f('0x428'))](this[_0x536f('0x21d')],this[_0x536f('0x21d')]),_0x30ce9b=new THREE[(_0x536f('0x354'))](_0x30ce9b,this[_0x536f('0xce')]);return _0x30ce9b[_0x536f('0x1f0')]['x']=0.5*-Math['PI'],_0x30ce9b['rotation']['z']=THREE[_0x536f('0x19')][_0x536f('0x322')](this['angle']),_0x30ce9b[_0x536f('0x355')]=0x4e,this[_0x536f('0x356')][_0x536f('0x1c3')](_0x30ce9b),_0x30ce9b;}},{'key':_0x536f('0x36a'),'value':function(_0x30ce9b){this[_0x536f('0x420')]&&(this[_0x536f('0xf9')]+=_0x30ce9b*this[_0x536f('0x36b')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x429')][_0x536f('0x10')]=this[_0x536f('0xf9')]);}},{'key':'visible','set':function(_0x30ce9b){this[_0x536f('0x356')][_0x536f('0x36c')]=_0x30ce9b;},'get':function(){return this['object3d'][_0x536f('0x36c')];}}]),_0xb5dd94[_0x536f('0x6')]=_0x4adaa9;},function(_0x4f96cb,_0x111f1d,_0x4f3648){'use strict';Object[_0x536f('0x1')](_0x111f1d,'__esModule',{'value':!0x0});var _0x58c981=_0x3c51d9(_0x4f3648(0x0)),_0x4534bf=_0x3c51d9(_0x4f3648(0x1)),_0x8b3502=_0x3c51d9(_0x4f3648(0xa0));function _0x3c51d9(_0x4f96cb){return _0x4f96cb&&_0x4f96cb[_0x536f('0x4')]?_0x4f96cb:{'default':_0x4f96cb};}function _0x1438e4(_0x4f96cb){var _0x111f1d=_0x4f96cb[_0x536f('0x36d')],_0x111f1d=void 0x0===_0x111f1d?'#ffffff':_0x111f1d,_0x4f3648=_0x4f96cb[_0x536f('0x21d')],_0x4534bf=_0x4f96cb[_0x536f('0x36b')],_0x4534bf=void 0x0===_0x4534bf?0x1:_0x4534bf,_0x8b3502=_0x4f96cb[_0x536f('0x1ed')],_0x8b3502=void 0x0===_0x8b3502?0x0:_0x8b3502,_0x4f96cb=_0x4f96cb[_0x536f('0x567')],_0x4f96cb=void 0x0===_0x4f96cb?0x1:_0x4f96cb;(0x0,_0x58c981[_0x536f('0x6')])(this,_0x1438e4),this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),_0x8b3502&&(this[_0x536f('0x356')][_0x536f('0x1f0')]['y']=THREE[_0x536f('0x19')][_0x536f('0x322')](_0x8b3502)),this[_0x536f('0x36d')]=_0x111f1d,this[_0x536f('0xce')]=null,this[_0x536f('0x41f')]=null,this[_0x536f('0x21d')]=_0x4f3648||0xc8,this[_0x536f('0x420')]=null,this['count']=0x0,this['speed']=_0x4534bf,this[_0x536f('0x567')]=0x1/_0x4f96cb,this[_0x536f('0x33a')](_0x111f1d);}(0x0,_0x4534bf[_0x536f('0x6')])(_0x1438e4,[{'key':_0x536f('0x33a'),'value':function(){var _0x4f96cb=_0x8b3502[_0x536f('0x6')][_0x536f('0x6d4')]([0.625,0x1]),_0x111f1d=new THREE['CanvasTexture'](_0x4f96cb),_0x4f3648=this;this[_0x536f('0xce')]=new THREE[(_0x536f('0x421'))]({'transparent':!0x0,'opacity':0.5}),this[_0x536f('0x36d')]&&this[_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x33d')](this[_0x536f('0x36d')]),this[_0x536f('0xce')][_0x536f('0x422')]=function(_0x4f96cb){_0x4f96cb['uniforms'][_0x536f('0x423')]={'value':_0x111f1d},_0x4f96cb['uniforms'][_0x536f('0x429')]={'value':0x0},_0x4f96cb[_0x536f('0x168')][_0x536f('0x567')]={'value':_0x4f3648[_0x536f('0x567')]},_0x4f96cb[_0x536f('0x57')]=_0x4f96cb[_0x536f('0x57')]['replace'](_0x536f('0x4b3'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4f96cb[_0x536f('0x57')]=_0x4f96cb['vertexShader'][_0x536f('0x56')]('#include\x20<uv_vertex>',_0x536f('0x6d5')),_0x4f96cb['fragmentShader']=_0x4f96cb[_0x536f('0x58')][_0x536f('0x56')]('uniform\x20float\x20opacity;',_0x536f('0x6d8')),_0x4f96cb[_0x536f('0x58')]=_0x4f96cb[_0x536f('0x58')][_0x536f('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x536f('0x6d9')),_0x4f3648[_0x536f('0x420')]=_0x4f96cb;};}},{'key':_0x536f('0x5'),'value':function(){var _0x4f96cb=new THREE[(_0x536f('0x428'))](this[_0x536f('0x21d')],this[_0x536f('0x21d')]),_0x4f96cb=new THREE[(_0x536f('0x354'))](_0x4f96cb,this[_0x536f('0xce')]);return _0x4f96cb['rotation']['x']=0.5*-Math['PI'],_0x4f96cb[_0x536f('0x1f0')]['z']=0.5*Math['PI'],_0x4f96cb[_0x536f('0x355')]=0x4e,this[_0x536f('0x356')][_0x536f('0x1c3')](_0x4f96cb),_0x4f96cb;}},{'key':_0x536f('0x36a'),'value':function(_0x4f96cb){this[_0x536f('0x420')]&&(this['count']+=_0x4f96cb*this[_0x536f('0x36b')],this[_0x536f('0x420')][_0x536f('0x168')]['iTime']['value']=this[_0x536f('0xf9')]);}},{'key':_0x536f('0x36c'),'set':function(_0x4f96cb){this['object3d'][_0x536f('0x36c')]=_0x4f96cb;},'get':function(){return this[_0x536f('0x356')][_0x536f('0x36c')];}}]),_0x111f1d['default']=_0x1438e4;},function(_0x4eaa86,_0x56739a,_0x2e7cde){'use strict';Object['defineProperty'](_0x56739a,_0x536f('0x4'),{'value':!0x0});var _0x41fbb3=_0x5c0cdc(_0x2e7cde(0x0)),_0x538bc8=_0x5c0cdc(_0x2e7cde(0x1));function _0x5c0cdc(_0x4eaa86){return _0x4eaa86&&_0x4eaa86['__esModule']?_0x4eaa86:{'default':_0x4eaa86};}function _0x22bdd1(){(0x0,_0x41fbb3[_0x536f('0x6')])(this,_0x22bdd1),this['object3d']=new THREE['Object3D']();}_0x5c0cdc(_0x2e7cde(0xa0)),(0x0,_0x538bc8['default'])(_0x22bdd1,[{'key':'createMaterial','value':function(_0x4eaa86){var _0x56739a=_0x4eaa86[_0x536f('0x6da')],_0x2e7cde=_0x4eaa86[_0x536f('0x6db')],_0x41fbb3=_0x4eaa86[_0x536f('0x6dc')],_0x538bc8=_0x4eaa86[_0x536f('0x6dd')],_0x5c0cdc=_0x4eaa86['terrainDepth'],_0x22bdd1=_0x4eaa86[_0x536f('0x6de')],_0x3b74d2=_0x4eaa86[_0x536f('0x6df')],_0x4eaa86=new THREE['MeshStandardMaterial']({'transparent':!0x0,'metalness':0x0,'roughness':0x1,'map':_0x56739a,'normalMap':_0x2e7cde,'displacementMap':_0x41fbb3,'displacementScale':_0x5c0cdc,'displacementBias':0x0});return _0x4eaa86[_0x536f('0x422')]=function(_0x4eaa86){_0x4eaa86[_0x536f('0x168')][_0x536f('0x6de')]={'value':new THREE[(_0x536f('0x1b5'))](_0x22bdd1[_0x536f('0x366')],_0x22bdd1[_0x536f('0x339')])},_0x4eaa86[_0x536f('0x168')][_0x536f('0x6e0')]={'value':_0x3b74d2},_0x4eaa86[_0x536f('0x168')][_0x536f('0x6dd')]={'value':_0x538bc8},_0x4eaa86[_0x536f('0x57')]=_0x4eaa86[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4b3'),_0x536f('0x6e1')),_0x4eaa86['vertexShader']=_0x4eaa86[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x6d5')),_0x4eaa86['vertexShader']=_0x4eaa86[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x6e2'),_0x536f('0x6e3')),_0x4eaa86[_0x536f('0x57')]=_0x4eaa86[_0x536f('0x57')]['replace'](_0x536f('0x6e4'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<worldpos_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4eaa86['fragmentShader']=_0x4eaa86[_0x536f('0x58')][_0x536f('0x56')]('uniform\x20float\x20opacity;',_0x536f('0x6e5')),_0x4eaa86[_0x536f('0x58')]=_0x4eaa86[_0x536f('0x58')][_0x536f('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x536f('0x6e6'));},_0x4eaa86;}},{'key':'create','value':function(_0x4eaa86){var _0x56739a=_0x4eaa86['imgTex'],_0x2e7cde=_0x4eaa86[_0x536f('0x56a')],_0x41fbb3=_0x4eaa86[_0x536f('0x6db')],_0x538bc8=_0x4eaa86[_0x536f('0x6dd')],_0x5c0cdc=_0x4eaa86['meshWidth'],_0x22bdd1=_0x4eaa86['meshHeight'],_0x1d2c4d=_0x4eaa86[_0x536f('0x2e4')],_0x5abdb6=_0x4eaa86[_0x536f('0x2f1')],_0x4eaa86=_0x4eaa86['terrainDepth'],_0x2e7cde=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](_0x2e7cde),_0x56739a=(_0x538bc8&&(_0x538bc8['wrapS']=THREE[_0x536f('0x376')],_0x538bc8[_0x536f('0x375')]=THREE['RepeatWrapping']),this[_0x536f('0x33a')]({'imgTex':_0x56739a,'normalTex':_0x41fbb3,'heightTex':_0x2e7cde,'clipBorderTex':_0x538bc8,'terrainDepth':_0x4eaa86,'extentWH':{'width':_0x5c0cdc,'height':_0x22bdd1},'GSD':new THREE[(_0x536f('0x1b5'))](_0x5c0cdc/_0x1d2c4d,_0x22bdd1/_0x5abdb6)})),_0x41fbb3=new THREE['PlaneBufferGeometry'](_0x5c0cdc,_0x22bdd1,_0x1d2c4d,_0x5abdb6),_0x2e7cde=new THREE['Mesh'](_0x41fbb3,_0x56739a);return _0x2e7cde[_0x536f('0x1f0')]['x']=0.5*-Math['PI'],_0x2e7cde[_0x536f('0x1f0')]['z']=Math['PI'],this['object3d'][_0x536f('0x1c3')](_0x2e7cde),_0x2e7cde;}},{'key':'setHeightMapBorder','value':function(_0x4eaa86,_0x41fbb3){new THREE[(_0x536f('0x496'))]()['load'](_0x4eaa86,function(_0x4eaa86){var _0x56739a=document[_0x536f('0x93')](_0x536f('0x411')),_0x2e7cde=_0x56739a[_0x536f('0x412')]('2d');_0x56739a['width']=_0x4eaa86['naturalWidth'],_0x56739a[_0x536f('0x339')]=_0x4eaa86[_0x536f('0x6e7')],_0x2e7cde[_0x536f('0x497')](_0x4eaa86,0x0,0x0),_0x2e7cde[_0x536f('0x6e8')]=_0x536f('0x6e9'),_0x2e7cde[_0x536f('0x341')]=0x1,_0x2e7cde[_0x536f('0x6ea')](),_0x2e7cde['moveTo'](0x0,0x0),_0x2e7cde['lineTo'](_0x56739a[_0x536f('0x366')],0x0),_0x2e7cde[_0x536f('0x6eb')](),_0x2e7cde[_0x536f('0x6ea')](),_0x2e7cde[_0x536f('0x579')](0x0,_0x56739a[_0x536f('0x339')]-0x1),_0x2e7cde[_0x536f('0x6ce')](_0x56739a['width'],_0x56739a[_0x536f('0x339')]-0x1),_0x2e7cde[_0x536f('0x6eb')](),_0x2e7cde['beginPath'](),_0x2e7cde[_0x536f('0x579')](0x0,0x0),_0x2e7cde['lineTo'](0x0,_0x56739a[_0x536f('0x339')]),_0x2e7cde[_0x536f('0x6eb')](),_0x2e7cde['beginPath'](),_0x2e7cde[_0x536f('0x579')](_0x56739a[_0x536f('0x366')]-0x1,0x0),_0x2e7cde['lineTo'](_0x56739a[_0x536f('0x366')]-0x1,_0x56739a[_0x536f('0x339')]),_0x2e7cde[_0x536f('0x6eb')](),_0x41fbb3[_0x536f('0x6ec')]=new THREE[(_0x536f('0x6ed'))](_0x56739a),_0x41fbb3[_0x536f('0x6ee')]=terrainDepth,_0x41fbb3[_0x536f('0x6ef')]=0x0,_0x41fbb3[_0x536f('0xfa')]=!0x0;});}},{'key':_0x536f('0x36c'),'set':function(_0x4eaa86){this[_0x536f('0x356')][_0x536f('0x36c')]=_0x4eaa86;},'get':function(){return this[_0x536f('0x356')][_0x536f('0x36c')];}}]),_0x56739a[_0x536f('0x6')]=_0x22bdd1;},function(_0x50001f,_0xac8665,_0x1773d4){'use strict';Object[_0x536f('0x1')](_0xac8665,_0x536f('0x4'),{'value':!0x0});var _0x380bb5=_0x1b27c3(_0x1773d4(0x17)),_0x3c182d=_0x1b27c3(_0x1773d4(0x0)),_0x58162a=_0x1b27c3(_0x1773d4(0x1)),_0x4c60d5=_0x1b27c3(_0x1773d4(0x1d)),_0x5583d7=_0x1b27c3(_0x1773d4(0x1e));function _0x1b27c3(_0x50001f){return _0x50001f&&_0x50001f[_0x536f('0x4')]?_0x50001f:{'default':_0x50001f};}function _0x5433a5(_0x50001f){var _0xac8665=_0x50001f[_0x536f('0x36d')],_0xac8665=void 0x0===_0xac8665?_0x536f('0x4af'):_0xac8665,_0x1773d4=_0x50001f['radius'],_0x58162a=_0x50001f['speed'],_0x58162a=void 0x0===_0x58162a?0x1:_0x58162a,_0x50001f=_0x50001f[_0x536f('0x6f0')],_0x50001f=void 0x0===_0x50001f?0x32:_0x50001f,_0x5583d7=((0x0,_0x3c182d[_0x536f('0x6')])(this,_0x5433a5),(0x0,_0x4c60d5[_0x536f('0x6')])(this,(_0x5433a5[_0x536f('0x66')]||(0x0,_0x380bb5[_0x536f('0x6')])(_0x5433a5))[_0x536f('0xa')](this)));return _0x5583d7[_0x536f('0x36d')]=_0xac8665,_0x5583d7[_0x536f('0xce')]=null,_0x5583d7[_0x536f('0x21d')]=_0x1773d4||0xc8,_0x5583d7[_0x536f('0x420')]=null,_0x5583d7[_0x536f('0xf9')]=0x0,_0x5583d7[_0x536f('0x36b')]=_0x58162a,_0x5583d7[_0x536f('0x6f0')]=_0x50001f,_0x5583d7;}_0x1773d4=_0x1773d4(0x24)[_0x536f('0x73')],(0x0,_0x5583d7['default'])(_0x5433a5,_0x1773d4),(0x0,_0x58162a[_0x536f('0x6')])(_0x5433a5,[{'key':_0x536f('0x6f1'),'value':function(_0x50001f){return 0.84/_0x50001f*0x168;}},{'key':_0x536f('0x33a'),'value':function(){var _0xac8665=this,_0x1773d4=(this[_0x536f('0xce')]=new THREE[(_0x536f('0x421'))]({'transparent':!0x0,'opacity':0.5}),this[_0x536f('0x36d')]&&this['material'][_0x536f('0x21f')][_0x536f('0x33d')](this[_0x536f('0x36d')]),this[_0x536f('0x6f1')](this[_0x536f('0x6f0')]));return this[_0x536f('0xce')]['onBeforeCompile']=function(_0x50001f){_0x50001f[_0x536f('0x168')]['iTime']={'value':0x0},_0x50001f[_0x536f('0x168')]['rFall']={'value':_0x1773d4},_0x50001f[_0x536f('0x57')]=_0x50001f['vertexShader'][_0x536f('0x56')](_0x536f('0x4b3'),_0x536f('0x6f2')),_0x50001f[_0x536f('0x57')]=_0x50001f[_0x536f('0x57')][_0x536f('0x56')]('#include\x20<uv_vertex>',_0x536f('0x6d5')),_0x50001f['fragmentShader']=_0x50001f[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x6f3')),_0x50001f['fragmentShader']=_0x50001f[_0x536f('0x58')][_0x536f('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x536f('0x6f4')),_0xac8665[_0x536f('0x420')]=_0x50001f,_0xac8665[_0x536f('0x32d')]({'type':_0x536f('0x493')});},this[_0x536f('0xce')];}},{'key':_0x536f('0x2f3'),'value':function(_0x50001f){_0x50001f[_0x536f('0x21f')]&&this[_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x33d')](_0x50001f[_0x536f('0x21f')]),_0x50001f[_0x536f('0x6f0')]&&'number'==typeof _0x50001f[_0x536f('0x6f0')]&&this[_0x536f('0x420')]&&(this['shader']['uniforms'][_0x536f('0x6f5')][_0x536f('0x10')]=this[_0x536f('0x6f1')](_0x50001f[_0x536f('0x6f0')]));}},{'key':_0x536f('0x36a'),'value':function(_0x50001f){this['shader']&&(this[_0x536f('0xf9')]+=_0x50001f*this[_0x536f('0x36b')],this['shader'][_0x536f('0x168')][_0x536f('0x429')][_0x536f('0x10')]=this[_0x536f('0xf9')]);}}]),_0xac8665[_0x536f('0x6')]=_0x5433a5;},function(_0x4a717c,_0x3c2a1d,_0x2219d0){'use strict';Object['defineProperty'](_0x3c2a1d,'__esModule',{'value':!0x0});var _0x4021da=_0x54f19c(_0x2219d0(0x17)),_0x327214=_0x54f19c(_0x2219d0(0x0)),_0x4731e8=_0x54f19c(_0x2219d0(0x1)),_0x5eea5a=_0x54f19c(_0x2219d0(0x1d)),_0x42fa8e=_0x54f19c(_0x2219d0(0x1e));function _0x54f19c(_0x4a717c){return _0x4a717c&&_0x4a717c[_0x536f('0x4')]?_0x4a717c:{'default':_0x4a717c};}function _0x2ae3b4(_0x4a717c){var _0x3c2a1d=_0x4a717c[_0x536f('0x36d')],_0x3c2a1d=void 0x0===_0x3c2a1d?'#ffffff':_0x3c2a1d,_0x2219d0=_0x4a717c[_0x536f('0x21d')],_0x4731e8=_0x4a717c[_0x536f('0x36b')],_0x4731e8=void 0x0===_0x4731e8?0x1:_0x4731e8,_0x4a717c=_0x4a717c[_0x536f('0x6f6')],_0x4a717c=void 0x0===_0x4a717c?0x3:_0x4a717c,_0x42fa8e=((0x0,_0x327214[_0x536f('0x6')])(this,_0x2ae3b4),(0x0,_0x5eea5a[_0x536f('0x6')])(this,(_0x2ae3b4[_0x536f('0x66')]||(0x0,_0x4021da[_0x536f('0x6')])(_0x2ae3b4))['call'](this)));return _0x42fa8e[_0x536f('0x36d')]=_0x3c2a1d,_0x42fa8e[_0x536f('0xce')]=null,_0x42fa8e[_0x536f('0x21d')]=_0x2219d0||0xc8,_0x42fa8e[_0x536f('0x420')]=null,_0x42fa8e[_0x536f('0xf9')]=0x0,_0x42fa8e[_0x536f('0x36b')]=_0x4731e8,_0x42fa8e[_0x536f('0x6f6')]=_0x4a717c,_0x42fa8e;}_0x2219d0=_0x2219d0(0x24)[_0x536f('0x73')],(0x0,_0x42fa8e[_0x536f('0x6')])(_0x2ae3b4,_0x2219d0),(0x0,_0x4731e8[_0x536f('0x6')])(_0x2ae3b4,[{'key':_0x536f('0x6f7'),'value':function(_0x4a717c){return{'density':Math[_0x536f('0x7c')](0xf*_0x4a717c),'depth':0.5/_0x4a717c,'sway':0.3*_0x4a717c,'speed':0.7*_0x4a717c};}},{'key':_0x536f('0x33a'),'value':function(){var _0x3c2a1d=this,_0x2219d0=(this[_0x536f('0xce')]=new THREE['MeshBasicMaterial']({'transparent':!0x0}),this['colorStr']&&this[_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x33d')](this['colorStr']),this[_0x536f('0x6f7')](this[_0x536f('0x6f6')]));return this[_0x536f('0x36b')]=_0x2219d0[_0x536f('0x36b')],this[_0x536f('0xce')][_0x536f('0x422')]=function(_0x4a717c){_0x4a717c[_0x536f('0x168')][_0x536f('0x429')]={'value':0x0},_0x4a717c[_0x536f('0x168')][_0x536f('0x6f8')]={'value':_0x2219d0[_0x536f('0x6f8')]},_0x4a717c['uniforms']['depth']={'value':_0x2219d0[_0x536f('0x57e')]},_0x4a717c[_0x536f('0x168')][_0x536f('0x6f9')]={'value':_0x2219d0[_0x536f('0x6f9')]},_0x4a717c[_0x536f('0x57')]=_0x4a717c[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4b3'),_0x536f('0x6f2')),_0x4a717c['vertexShader']=_0x4a717c[_0x536f('0x57')]['replace'](_0x536f('0x424'),_0x536f('0x6d5')),_0x4a717c[_0x536f('0x58')]=_0x4a717c[_0x536f('0x58')]['replace'](_0x536f('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20density;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20depth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20sway;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20mat3\x20p\x20=\x20mat3(13.323122,23.5112,21.71123,21.1212,28.7312,11.9312,21.8112,14.7212,61.3934);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4a717c['fragmentShader']=_0x4a717c[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x6fa')),_0x3c2a1d[_0x536f('0x420')]=_0x4a717c,_0x3c2a1d['dispatchEvent']({'type':_0x536f('0x493')});},this[_0x536f('0xce')];}},{'key':_0x536f('0x2f3'),'value':function(_0x4a717c){_0x4a717c['color']&&this[_0x536f('0xce')][_0x536f('0x21f')]['setStyle'](_0x4a717c[_0x536f('0x21f')]),_0x4a717c[_0x536f('0x6f6')]&&'number'==typeof _0x4a717c['snowFall']&&(_0x4a717c=this['computeSnowFallFactor'](_0x4a717c[_0x536f('0x6f6')]),this[_0x536f('0x420')]&&(this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x6f8')]['value']=_0x4a717c['density']),this[_0x536f('0x420')]&&(this['shader'][_0x536f('0x168')]['depth'][_0x536f('0x10')]=_0x4a717c[_0x536f('0x57e')]),this[_0x536f('0x420')]&&(this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x6f9')][_0x536f('0x10')]=_0x4a717c[_0x536f('0x6f9')]));}},{'key':_0x536f('0x36a'),'value':function(_0x4a717c){this[_0x536f('0x420')]&&(this[_0x536f('0xf9')]+=_0x4a717c*this[_0x536f('0x36b')],this[_0x536f('0x420')]['uniforms'][_0x536f('0x429')][_0x536f('0x10')]=this[_0x536f('0xf9')]);}}]),_0x3c2a1d[_0x536f('0x6')]=_0x2ae3b4;},function(_0x445215,_0x479b3b,_0x50dffb){'use strict';Object[_0x536f('0x1')](_0x479b3b,_0x536f('0x4'),{'value':!0x0});var _0x32ed82=_0x30529f(_0x50dffb(0x0)),_0x30f2c0=_0x30529f(_0x50dffb(0x1)),_0x31bbbe=_0x30529f(_0x50dffb(0x3b));function _0x30529f(_0x445215){return _0x445215&&_0x445215['__esModule']?_0x445215:{'default':_0x445215};}function _0xe73fe(_0x445215){_0x445215=_0x445215[_0x536f('0x1dc')],_0x445215=void 0x0===_0x445215?0xa:_0x445215;(0x0,_0x32ed82[_0x536f('0x6')])(this,_0xe73fe),this[_0x536f('0x45d')]=!0x1,this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x1dc')]=_0x445215,this['shaderParticleEngine']=null,this[_0x536f('0x6fb')]=null,this[_0x536f('0x460')]=null,this[_0x536f('0x461')]=null,this['_visible']=!0x0;}(0x0,_0x30f2c0[_0x536f('0x6')])(_0xe73fe,[{'key':'create','value':function(_0x445215){var _0x479b3b=_0x445215[_0x536f('0x6fc')],_0x50dffb=_0x445215[_0x536f('0x49b')],_0x50dffb=void 0x0===_0x50dffb?0x1:_0x50dffb,_0x32ed82=_0x445215[_0x536f('0x1ee')],_0x32ed82=void 0x0===_0x32ed82?0x1:_0x32ed82,_0x30f2c0=_0x445215['isOpenScreenEffect'],_0x445215=_0x445215[_0x536f('0x36d')],_0x445215=void 0x0===_0x445215?_0x536f('0x6fd'):_0x445215,_0x30f2c0=_0x30f2c0?0x4:0x1;this[_0x536f('0x461')]=new THREE[(_0x536f('0x1c5'))](),this[_0x536f('0x6fb')]=new _0x31bbbe[(_0x536f('0x6'))][(_0x536f('0x1c5'))]({'texture':{'value':_0x479b3b},'transparent':!0x0,'blending':THREE[_0x536f('0x466')],'maxParticleCount':0x14*_0x30f2c0*_0x50dffb}),this['smokeEmitter']=new _0x31bbbe[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'maxAge':{'value':1.5},'position':{'value':new THREE['Vector3'](0x0,0x0,0x0),'spread':new THREE[(_0x536f('0x59'))](+_0x32ed82,0x1,0x1)},'velocity':{'value':new THREE['Vector3'](0x0,0x1,0x0),'spread':new THREE[(_0x536f('0x59'))](0x1,0x1,0x1)},'color':{'value':[new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x445215)]},'size':{'value':[0xf*this['scale']]},'opacity':{'value':[0x0,0.3,0.7,0.3,0x0]},'particleCount':0xa*_0x30f2c0*_0x50dffb}),this['smokeParticle']['material'][_0x536f('0x168')][_0x536f('0x468')]['value']=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0x6fb')][_0x536f('0x1f7')](this['smokeEmitter']),this[_0x536f('0x6fb')][_0x536f('0x1e8')][_0x536f('0x1dc')][_0x536f('0x1b')](this[_0x536f('0x1dc')],this[_0x536f('0x1dc')],this[_0x536f('0x1dc')]),this['centerGroup'][_0x536f('0x1c3')](this['smokeParticle'][_0x536f('0x1e8')]),this['centerGroup'][_0x536f('0x355')]=0xb,this[_0x536f('0x356')][_0x536f('0x1c3')](this['centerGroup']),this[_0x536f('0x45d')]=!0x0;}},{'key':_0x536f('0x36a'),'value':function(_0x445215){this[_0x536f('0x45d')]&&this['smokeParticle']&&this['smokeParticle'][_0x536f('0x21b')](_0x445215);}},{'key':_0x536f('0x46a'),'value':function(_0x445215){(0x64<_0x445215||_0x445215<0x0)&&(_0x445215=0x64);_0x445215=Math['round'](0x64*(0x1-_0x445215/0x64))/0x64;this[_0x536f('0x6fe')][_0x536f('0x22b')]=_0x445215;}},{'key':_0x536f('0x36c'),'set':function(_0x445215){this[_0x536f('0x462')]=_0x445215,this[_0x536f('0x461')]['visible']=_0x445215;}}]),_0x479b3b[_0x536f('0x6')]=_0xe73fe;},function(_0x547409,_0x16a0a8,_0x43df20){'use strict';Object['defineProperty'](_0x16a0a8,_0x536f('0x4'),{'value':!0x0});var _0x38ba4d=_0x1765ab(_0x43df20(0x0)),_0x55c9ad=_0x1765ab(_0x43df20(0x1)),_0x318512=_0x1765ab(_0x43df20(0x3b)),_0x238891=_0x43df20(0x11);function _0x1765ab(_0x547409){return _0x547409&&_0x547409['__esModule']?_0x547409:{'default':_0x547409};}function _0x170ac6(_0x547409){_0x547409=_0x547409[_0x536f('0x1dc')],_0x547409=void 0x0===_0x547409?0x1:_0x547409;(0x0,_0x38ba4d[_0x536f('0x6')])(this,_0x170ac6),this[_0x536f('0x45d')]=!0x1,this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x1dc')]=_0x547409,this[_0x536f('0x6ff')]=null,this[_0x536f('0x6fb')]=null,this['emitter']=null,this['centerGroup']=null,this['_visible']=!0x0;}(0x0,_0x55c9ad[_0x536f('0x6')])(_0x170ac6,[{'key':_0x536f('0x5'),'value':function(_0x547409){var _0x16a0a8=_0x547409[_0x536f('0x6fc')],_0x43df20=_0x547409[_0x536f('0x49b')],_0x43df20=void 0x0===_0x43df20?0x1:_0x43df20,_0x38ba4d=_0x547409[_0x536f('0x1ee')],_0x38ba4d=void 0x0===_0x38ba4d?0x1:_0x38ba4d,_0x55c9ad=_0x547409['isOpenScreenEffect'],_0x1765ab=_0x547409[_0x536f('0x465')],_0x547409=_0x547409[_0x536f('0x1da')],_0x547409=void 0x0!==_0x547409&&_0x547409,_0x55c9ad=_0x55c9ad?0x4:0x1,_0x170ac6=(this[_0x536f('0x461')]=new THREE[(_0x536f('0x1c5'))](),new THREE[(_0x536f('0x59'))]());_0x1765ab&&(_0x170ac6=(0x0,_0x238891[_0x536f('0x25')])(_0x1765ab[_0x536f('0x30d')],_0x1765ab['directionAngle']))[_0x536f('0x1c2')](_0x38ba4d),this[_0x536f('0x6fb')]=new _0x318512[(_0x536f('0x6'))][(_0x536f('0x1c5'))]({'texture':{'value':_0x16a0a8},'depthTest':_0x547409,'depthWrite':!0x1,'transparent':!0x0,'blending':THREE[_0x536f('0x466')],'maxParticleCount':0x64*_0x55c9ad*_0x43df20}),this[_0x536f('0x6fe')]=new _0x318512['default'][(_0x536f('0x1f8'))]({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x536f('0x59'))](0x0,0x0,0x0),'spread':new THREE[(_0x536f('0x59'))](0x1,0x1,0x1)},'acceleration':{'value':_0x170ac6,'spread':new THREE[(_0x536f('0x59'))](0x1,0x1,0x1)},'velocity':{'value':_0x170ac6,'spread':new THREE[(_0x536f('0x59'))](0x1,0x1,0x1)},'color':{'value':[new THREE['Color'](0xeeeeee)]},'size':{'value':[0x0,0x2*this[_0x536f('0x1dc')],0x4*this[_0x536f('0x1dc')],0x8*this[_0x536f('0x1dc')],0xf*this[_0x536f('0x1dc')]]},'opacity':{'value':[0x0,0.3,0.7,0.3,0x0]},'particleCount':0x64*_0x55c9ad*_0x43df20}),this[_0x536f('0x6fb')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x468')]['value']=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0x6fb')][_0x536f('0x1f7')](this['smokeEmitter']),this[_0x536f('0x6fb')][_0x536f('0x1e8')][_0x536f('0x1dc')][_0x536f('0x1b')](this[_0x536f('0x1dc')],this[_0x536f('0x1dc')],this[_0x536f('0x1dc')]),this[_0x536f('0x6fb')]['mesh'][_0x536f('0x355')]=0x64,this[_0x536f('0x461')][_0x536f('0x1c3')](this[_0x536f('0x6fb')][_0x536f('0x1e8')]),this[_0x536f('0x356')]['add'](this[_0x536f('0x461')]),this[_0x536f('0x45d')]=!0x0;}},{'key':_0x536f('0x36a'),'value':function(_0x547409){this[_0x536f('0x45d')]&&this[_0x536f('0x6fb')]&&this[_0x536f('0x6fb')][_0x536f('0x21b')](_0x547409);}},{'key':_0x536f('0x46a'),'value':function(_0x547409){(0x64<_0x547409||_0x547409<0x0)&&(_0x547409=0x64);_0x547409=Math[_0x536f('0x1c0')](0x64*(0x1-_0x547409/0x64))/0x64;this[_0x536f('0x6fe')]['activeMultiplier']=_0x547409;}},{'key':'visible','set':function(_0x547409){this[_0x536f('0x462')]=_0x547409,this['centerGroup'][_0x536f('0x36c')]=_0x547409;}}]),_0x16a0a8[_0x536f('0x6')]=_0x170ac6;},function(_0x416429,_0x7ed500,_0x2a2421){'use strict';Object['defineProperty'](_0x7ed500,'__esModule',{'value':!0x0});var _0x24f91a=_0x1e490d(_0x2a2421(0x0)),_0x2a0476=_0x1e490d(_0x2a2421(0x1)),_0x1600ee=_0x1e490d(_0x2a2421(0x3b));function _0x1e490d(_0x416429){return _0x416429&&_0x416429[_0x536f('0x4')]?_0x416429:{'default':_0x416429};}function _0x37ff4a(_0x416429){_0x416429=_0x416429[_0x536f('0x1dc')],_0x416429=void 0x0===_0x416429?0xa:_0x416429;(0x0,_0x24f91a[_0x536f('0x6')])(this,_0x37ff4a),this[_0x536f('0x45d')]=!0x1,this['object3d']=new THREE['Object3D'](),this['scale']=_0x416429,this[_0x536f('0x6ff')]=null,this[_0x536f('0x45f')]=null,this[_0x536f('0x460')]=null,this[_0x536f('0x461')]=null,this[_0x536f('0x462')]=!0x0;}(0x0,_0x2a0476['default'])(_0x37ff4a,[{'key':_0x536f('0x5'),'value':function(_0x416429){var _0x7ed500=_0x416429[_0x536f('0x6fc')],_0x416429=_0x416429['isOpenScreenEffect']?0x4:0x1;this[_0x536f('0x461')]=new THREE['Group'](),this[_0x536f('0x45f')]=new _0x1600ee['default']['Group']({'texture':{'value':_0x7ed500},'transparent':!0x0,'depthWrite':!0x1,'blending':THREE['AdditiveBlending'],'maxParticleCount':0x32*_0x416429}),this[_0x536f('0x467')]=new _0x1600ee[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x536f('0x59'))](0x0,0x0,0x0),'spread':new THREE[(_0x536f('0x59'))](0x1,0x1,0x1)},'acceleration':{'value':new THREE['Vector3'](0x0,0x5,0x0),'spread':new THREE[(_0x536f('0x59'))](0x0,0x0,0x0)},'velocity':{'value':new THREE[(_0x536f('0x59'))](0x0,-0x5,0x0),'spread':new THREE[(_0x536f('0x59'))](0.5,0x1,0.5)},'color':{'value':[new THREE['Color'](0xff00)]},'size':{'value':[0xf*this[_0x536f('0x1dc')]]},'opacity':{'value':[0x0,0.8,0x1,0.8,0x0]},'particleCount':0x32*_0x416429}),this[_0x536f('0x45f')]['material']['uniforms'][_0x536f('0x468')]['value']=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0x45f')][_0x536f('0x1f7')](this['fireEmitter']),this[_0x536f('0x45f')][_0x536f('0x1e8')]['scale'][_0x536f('0x1b')](this[_0x536f('0x1dc')],this['scale'],this[_0x536f('0x1dc')]),this[_0x536f('0x461')]['add'](this[_0x536f('0x45f')][_0x536f('0x1e8')]),this[_0x536f('0x461')][_0x536f('0x355')]=0xb,this[_0x536f('0x356')]['add'](this[_0x536f('0x461')]),this[_0x536f('0x45d')]=!0x0;}},{'key':_0x536f('0x36a'),'value':function(_0x416429){this[_0x536f('0x45d')]&&this[_0x536f('0x45f')]&&this[_0x536f('0x45f')]['tick'](_0x416429);}},{'key':_0x536f('0x46a'),'value':function(_0x416429){(0x64<_0x416429||_0x416429<0x0)&&(_0x416429=0x64);_0x416429=Math[_0x536f('0x1c0')](0x64*(0x1-_0x416429/0x64))/0x64;this[_0x536f('0x467')][_0x536f('0x22b')]=_0x416429;}},{'key':_0x536f('0x36c'),'set':function(_0x416429){this['_visible']=_0x416429,this[_0x536f('0x461')][_0x536f('0x36c')]=_0x416429;}}]),_0x7ed500[_0x536f('0x6')]=_0x37ff4a;},function(_0x28ae71,_0x154408,_0x2d91c3){'use strict';Object[_0x536f('0x1')](_0x154408,'__esModule',{'value':!0x0});var _0x193e28=_0x346bca(_0x2d91c3(0x0)),_0x1bba2f=_0x346bca(_0x2d91c3(0x1)),_0xfe5f4f=_0x346bca(_0x2d91c3(0x3b));function _0x346bca(_0x28ae71){return _0x28ae71&&_0x28ae71[_0x536f('0x4')]?_0x28ae71:{'default':_0x28ae71};}function _0x395d09(_0x28ae71){_0x28ae71=_0x28ae71['scale'],_0x28ae71=void 0x0===_0x28ae71?0x1:_0x28ae71;(0x0,_0x193e28[_0x536f('0x6')])(this,_0x395d09),this[_0x536f('0x45d')]=!0x1,this['object3d']=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x1dc')]=_0x28ae71,this[_0x536f('0x6ff')]=null,this[_0x536f('0x700')]=null,this[_0x536f('0x460')]=null,this[_0x536f('0x461')]=null,this[_0x536f('0x462')]=!0x0;}(0x0,_0x1bba2f[_0x536f('0x6')])(_0x395d09,[{'key':_0x536f('0x5'),'value':function(_0x28ae71){var _0x154408=_0x28ae71['texture'],_0x2d91c3=_0x28ae71['spread'],_0x2d91c3=void 0x0===_0x2d91c3?0x14:_0x2d91c3,_0x193e28=_0x28ae71[_0x536f('0x557')],_0x193e28=void 0x0===_0x193e28?0xa:_0x193e28,_0x1bba2f=_0x28ae71[_0x536f('0x36b')],_0x1bba2f=void 0x0===_0x1bba2f?0x1:_0x1bba2f,_0x346bca=_0x28ae71[_0x536f('0x558')],_0x346bca=void 0x0!==_0x346bca&&_0x346bca,_0x395d09=_0x28ae71[_0x536f('0x21f')],_0x395d09=void 0x0===_0x395d09?_0x536f('0x4af'):_0x395d09,_0x2c43b1=_0x28ae71['pointNum'],_0x2c43b1=void 0x0===_0x2c43b1?0x14:_0x2c43b1,_0x2d5b9b=_0x28ae71[_0x536f('0x701')],_0x2d5b9b=void 0x0!==_0x2d5b9b&&_0x2d5b9b,_0x28ae71=_0x28ae71[_0x536f('0x533')],_0x28ae71=void 0x0!==_0x28ae71&&_0x28ae71;this[_0x536f('0x461')]=new THREE[(_0x536f('0x1c5'))](),this[_0x536f('0x700')]=new _0xfe5f4f['default'][(_0x536f('0x1c5'))]({'texture':{'value':_0x154408},'hasPerspective':!_0x346bca,'transparent':!0x0,'blending':_0x28ae71?THREE[_0x536f('0x44b')]:THREE['NormalBlending'],'depthWrite':!0x1,'maxParticleCount':0x2*_0x2c43b1}),this[_0x536f('0x6fe')]=new _0xfe5f4f[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'maxAge':{'value':0x3},'position':{'value':new THREE[(_0x536f('0x59'))](0x0,0.5*_0x193e28,0x0),'spread':new THREE[(_0x536f('0x59'))](+_0x2d91c3,_0x193e28,+_0x2d91c3),'randomise':!0x0},'velocity':{'value':new THREE['Vector3'](0x0,0x2*_0x1bba2f,0x0),'spread':new THREE[(_0x536f('0x59'))](0x0,0x0,0x0)},'color':{'value':[new THREE['Color']()[_0x536f('0x33d')](_0x395d09)],'spread':_0x2d5b9b?new THREE[(_0x536f('0x59'))](0x0,0.5,0x0):null},'size':{'value':[0x6*this[_0x536f('0x1dc')]],'spread':0x1e,'randomise':!0x0},'opacity':{'value':[0x0,0.3,0x1,0.5,0x0]},'angle':{'value':0x5a},'particleCount':_0x2c43b1}),this[_0x536f('0x700')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x468')][_0x536f('0x10')]=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0x700')][_0x536f('0x1f7')](this[_0x536f('0x6fe')]),this[_0x536f('0x461')][_0x536f('0x1c3')](this[_0x536f('0x700')][_0x536f('0x1e8')]),this[_0x536f('0x356')][_0x536f('0x1c3')](this[_0x536f('0x461')]),this[_0x536f('0x45d')]=!0x0;}},{'key':_0x536f('0x36a'),'value':function(_0x28ae71){this[_0x536f('0x45d')]&&this['floatPointsParticle']&&this[_0x536f('0x700')]['tick'](_0x28ae71);}},{'key':_0x536f('0x36c'),'set':function(_0x28ae71){this[_0x536f('0x462')]=_0x28ae71,this[_0x536f('0x461')][_0x536f('0x36c')]=_0x28ae71;}}]),_0x154408[_0x536f('0x6')]=_0x395d09;},function(_0x4e86f0,_0x45e071,_0x3f9d55){'use strict';Object[_0x536f('0x1')](_0x45e071,_0x536f('0x4'),{'value':!0x0});var _0x23cc4d=_0x17efe1(_0x3f9d55(0x4)),_0x3da975=_0x17efe1(_0x3f9d55(0x0)),_0x52d96f=_0x17efe1(_0x3f9d55(0x1)),_0x4c0a6e=_0x17efe1(_0x3f9d55(0x3b));function _0x17efe1(_0x4e86f0){return _0x4e86f0&&_0x4e86f0[_0x536f('0x4')]?_0x4e86f0:{'default':_0x4e86f0};}function _0x52ff6a(_0x4e86f0){var _0x45e071=_0x4e86f0[_0x536f('0x1dc')],_0x45e071=void 0x0===_0x45e071?0x2:_0x45e071,_0x4e86f0=_0x4e86f0[_0x536f('0x1fb')],_0x4e86f0=void 0x0===_0x4e86f0?0x2:_0x4e86f0;(0x0,_0x3da975[_0x536f('0x6')])(this,_0x52ff6a),this[_0x536f('0x45d')]=!0x1,this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x1dc')]=_0x45e071,this[_0x536f('0x1fb')]=_0x4e86f0,this[_0x536f('0x6ff')]=null,this[_0x536f('0x702')]=null,this['shockwaveParticle']=null,this[_0x536f('0x460')]=null,this[_0x536f('0x461')]=null,this[_0x536f('0x462')]=!0x0;}(0x0,_0x52d96f[_0x536f('0x6')])(_0x52ff6a,[{'key':'create','value':function(_0x4e86f0){var _0x45e071=_0x4e86f0[_0x536f('0x554')],_0x3f9d55=_0x4e86f0['smokeTex'],_0x4e86f0=(_0x4e86f0['isOpenScreenEffect'],this['maxAge']),_0x45e071=(this[_0x536f('0x461')]=new THREE[(_0x536f('0x1c5'))](),this[_0x536f('0x702')]=new _0x4c0a6e[(_0x536f('0x6'))]['Group']({'texture':{'value':_0x45e071,'frames':new THREE[(_0x536f('0x1b5'))](0x5,0x5),'loop':0x1},'depthTest':!0x0,'depthWrite':!0x1,'blending':THREE['AdditiveBlending'],'scale':0x258*this[_0x536f('0x1dc')]}),this[_0x536f('0x703')]=new _0x4c0a6e['default'][(_0x536f('0x1c5'))]({'texture':{'value':_0x3f9d55},'depthTest':!0x0,'depthWrite':!0x0,'blending':THREE[_0x536f('0x466')]}),new _0x4c0a6e[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'particleCount':0xc8*this[_0x536f('0x1dc')],'type':_0x4c0a6e['default'][_0x536f('0x221')]['DISC'],'position':{'radius':0x5,'spread':new THREE[(_0x536f('0x59'))](0x5)},'maxAge':{'value':_0x4e86f0,'spread':0x0},'activeMultiplier':0x7d0,'velocity':{'value':new THREE[(_0x536f('0x59'))](0x28)},'rotation':{'axis':new THREE[(_0x536f('0x59'))](0x1,0x0,0x0),'angle':0.5*Math['PI'],'static':!0x0},'size':{'value':0x2*this['scale']},'color':{'value':[new THREE[(_0x536f('0x1b8'))](0.4,0.2,0.1),new THREE[(_0x536f('0x1b8'))](0.2,0.2,0.2)]},'opacity':{'value':[0.5,0.2,0x0]}})),_0x3f9d55=new _0x4c0a6e[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'particleCount':0x64*this[_0x536f('0x1dc')],'type':_0x4c0a6e[_0x536f('0x6')][_0x536f('0x221')][_0x536f('0x704')],'position':{'radius':0.1},'maxAge':{'value':_0x4e86f0},'activeMultiplier':0x28,'velocity':{'value':new THREE[(_0x536f('0x59'))](0x64)},'acceleration':{'value':new THREE['Vector3'](0x0,-0x14,0x0),'distribution':_0x4c0a6e['default']['distributions'][_0x536f('0x222')]},'size':{'value':0x2*this[_0x536f('0x1dc')]},'drag':{'value':0x1},'color':{'value':[new THREE[(_0x536f('0x1b8'))](0x1,0x1,0x1),new THREE[(_0x536f('0x1b8'))](0x1,0x1,0x0),new THREE['Color'](0x1,0x0,0x0),new THREE['Color'](0.4,0.2,0.1)]},'opacity':{'value':[0.4,0x0]}}),_0x3da975=new _0x4c0a6e[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'particleCount':0x14*this[_0x536f('0x1dc')],'type':_0x4c0a6e['default'][_0x536f('0x221')][_0x536f('0x704')],'position':{'radius':0x1},'maxAge':{'value':_0x4e86f0},'activeMultiplier':0x14,'velocity':{'value':new THREE[(_0x536f('0x59'))](0xa)},'size':{'value':[0x14*this[_0x536f('0x1dc')],0x64*this[_0x536f('0x1dc')]]},'color':{'value':[new THREE[(_0x536f('0x1b8'))](0.5,0.1,0.05),new THREE[(_0x536f('0x1b8'))](0.2,0.2,0.2)]},'opacity':{'value':[0.5,0.35,0.1,0x0]}}),_0x52d96f=new _0x4c0a6e[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'particleCount':0x32*this['scale'],'position':{'spread':new THREE[(_0x536f('0x59'))](0xa,0xa,0xa),'distribution':_0x4c0a6e['default'][_0x536f('0x221')][_0x536f('0x704')]},'maxAge':{'value':_0x4e86f0},'activeMultiplier':0x7d0,'velocity':{'value':new THREE[(_0x536f('0x59'))](0x8,0x3,0xa),'distribution':_0x4c0a6e[_0x536f('0x6')]['distributions']['SPHERE']},'size':{'value':0x28*this[_0x536f('0x1dc')]},'color':{'value':new THREE[(_0x536f('0x1b8'))](0.2,0.2,0.2)},'opacity':{'value':[0x0,0x0,0.2,0x0]}}),_0x4e86f0=new _0x4c0a6e[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'particleCount':0x32*this[_0x536f('0x1dc')],'position':{'spread':new THREE[(_0x536f('0x59'))](0x5,0x5,0x5)},'velocity':{'spread':new THREE[(_0x536f('0x59'))](0x1e),'distribution':_0x4c0a6e[_0x536f('0x6')][_0x536f('0x221')]['SPHERE']},'size':{'value':[0x2*this[_0x536f('0x1dc')],0x14*this[_0x536f('0x1dc')],0x14*this[_0x536f('0x1dc')],0x14*this[_0x536f('0x1dc')]]},'maxAge':{'value':_0x4e86f0},'activeMultiplier':0x7d0,'opacity':{'value':[0.5,0.25,0x0,0x0]}});this[_0x536f('0x702')]['addEmitter'](_0x3da975)[_0x536f('0x1f7')](_0x4e86f0),this[_0x536f('0x703')]['addEmitter'](_0x3f9d55)[_0x536f('0x1f7')](_0x52d96f)[_0x536f('0x1f7')](_0x45e071),this[_0x536f('0x702')],this[_0x536f('0x703')],this['toggleEmitter'](!0x1),this[_0x536f('0x702')][_0x536f('0x1e8')][_0x536f('0x1dc')][_0x536f('0x1b')](this[_0x536f('0x1dc')],this[_0x536f('0x1dc')],this[_0x536f('0x1dc')]),this['shockwaveParticle'][_0x536f('0x1e8')][_0x536f('0x1dc')][_0x536f('0x1b')](this[_0x536f('0x1dc')],this['scale'],this[_0x536f('0x1dc')]),this[_0x536f('0x461')][_0x536f('0x1c3')](this[_0x536f('0x702')][_0x536f('0x1e8')]),this[_0x536f('0x461')][_0x536f('0x1c3')](this[_0x536f('0x703')][_0x536f('0x1e8')]),this[_0x536f('0x461')][_0x536f('0x355')]=0x64,this['object3d'][_0x536f('0x1c3')](this['centerGroup']),this[_0x536f('0x705')](),this[_0x536f('0x45d')]=!0x0;}},{'key':_0x536f('0x58d'),'value':function(_0x4e86f0){if(this[_0x536f('0x702')]&&0x0<this['particle'][_0x536f('0x1ea')][_0x536f('0xd')]){var _0x45e071=!0x0,_0x3f9d55=!0x1,_0x3da975=void 0x0;try{for(var _0x52d96f,_0x4c0a6e=(0x0,_0x23cc4d['default'])(this[_0x536f('0x702')][_0x536f('0x1ea')]);!(_0x45e071=(_0x52d96f=_0x4c0a6e['next']())[_0x536f('0x7a')]);_0x45e071=!0x0)_0x52d96f['value'][_0x536f('0x22d')]=_0x4e86f0;}catch(_0x8da84a){_0x3f9d55=!0x0,_0x3da975=_0x8da84a;}finally{try{!_0x45e071&&_0x4c0a6e[_0x536f('0x265')]&&_0x4c0a6e['return']();}finally{if(_0x3f9d55)throw _0x3da975;}}}if(this['shockwaveParticle']&&0x0<this[_0x536f('0x703')][_0x536f('0x1ea')][_0x536f('0xd')]){var _0x17efe1=!0x0,_0x3f9d55=!0x1,_0x3da975=void 0x0;try{for(var _0x52ff6a,_0x5e2998=(0x0,_0x23cc4d[_0x536f('0x6')])(this[_0x536f('0x703')][_0x536f('0x1ea')]);!(_0x17efe1=(_0x52ff6a=_0x5e2998[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x17efe1=!0x0)_0x52ff6a[_0x536f('0x10')]['alive']=_0x4e86f0;}catch(_0x4df3aa){_0x3f9d55=!0x0,_0x3da975=_0x4df3aa;}finally{try{!_0x17efe1&&_0x5e2998['return']&&_0x5e2998[_0x536f('0x265')]();}finally{if(_0x3f9d55)throw _0x3da975;}}}}},{'key':'createShockWave','value':function(){var _0x4e86f0=new THREE[(_0x536f('0x706'))]({'color':_0x536f('0x707'),'transparent':!0x0,'depthWrite':!0x1}),_0x45e071=(_0x4e86f0[_0x536f('0x422')]=function(_0x4e86f0){_0x4e86f0[_0x536f('0x168')][_0x536f('0x708')]={'value':1.2},_0x4e86f0['uniforms'][_0x536f('0x709')]={'value':1.6},_0x4e86f0[_0x536f('0x168')][_0x536f('0x70a')]={'value':new THREE['Color'](0xffffff)},_0x4e86f0['vertexShader']=_0x4e86f0[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4b3'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4e86f0[_0x536f('0x57')]=_0x4e86f0['vertexShader'][_0x536f('0x56')]('#include\x20<uv_vertex>',_0x536f('0x70b')),_0x4e86f0[_0x536f('0x58')]=_0x4e86f0[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x70c')),_0x4e86f0[_0x536f('0x58')]=_0x4e86f0[_0x536f('0x58')]['replace']('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x536f('0x70d'));},new THREE[(_0x536f('0x4bf'))](0x4,0x20,0x20)),_0x45e071=new THREE[(_0x536f('0x354'))](_0x45e071,_0x4e86f0);_0x45e071[_0x536f('0x36c')]=!0x1,this[_0x536f('0x70e')]=_0x45e071,this[_0x536f('0x356')][_0x536f('0x1c3')](_0x45e071);}},{'key':'playShockWave','value':function(_0x4e86f0){var _0x45e071=this,_0x3f9d55=_0x4e86f0['time'],_0x3f9d55=void 0x0===_0x3f9d55?0x2:_0x3f9d55,_0x4e86f0=_0x4e86f0[_0x536f('0x21d')],_0x4e86f0=void 0x0===_0x4e86f0?0x64:_0x4e86f0;this['shockSphere'][_0x536f('0x36c')]=!0x0,this[_0x536f('0x70e')][_0x536f('0x3b')]['y']=-_0x4e86f0/0x2*1.5,new TWEEN['Tween']({'x':0x0,'opacity':0.7})['to']({'x':_0x4e86f0,'opacity':0x0},0x3e8*_0x3f9d55)['easing'](TWEEN[_0x536f('0x325')]['Circular'][_0x536f('0x327')])['onUpdate'](function(_0x4e86f0){_0x45e071[_0x536f('0x70e')][_0x536f('0x1dc')][_0x536f('0x1b')](_0x4e86f0['x'],_0x4e86f0['x'],_0x4e86f0['x']),_0x45e071[_0x536f('0x70e')][_0x536f('0xce')][_0x536f('0x201')]=_0x4e86f0[_0x536f('0x201')];})[_0x536f('0x70f')](function(_0x4e86f0){_0x45e071[_0x536f('0x70e')][_0x536f('0x36c')]=!0x1;})[_0x536f('0x329')]();}},{'key':_0x536f('0x36a'),'value':function(_0x4e86f0){this[_0x536f('0x45d')]&&this[_0x536f('0x702')]&&this[_0x536f('0x703')]&&(this[_0x536f('0x702')]['tick'](_0x4e86f0),this[_0x536f('0x703')][_0x536f('0x21b')](_0x4e86f0));}},{'key':_0x536f('0x36c'),'set':function(_0x4e86f0){this[_0x536f('0x462')]=_0x4e86f0,this['centerGroup'][_0x536f('0x36c')]=_0x4e86f0;}}]),_0x45e071[_0x536f('0x6')]=_0x52ff6a;},function(_0xf9eaac,_0x32377d,_0x4d99b3){'use strict';Object[_0x536f('0x1')](_0x32377d,_0x536f('0x4'),{'value':!0x0});var _0x50a455=_0x5750a6(_0x4d99b3(0x29)),_0x4e8986=_0x5750a6(_0x4d99b3(0x0)),_0x2dc297=_0x5750a6(_0x4d99b3(0x1)),_0x3b3abd=_0x5750a6(_0x4d99b3(0x3b));function _0x5750a6(_0xf9eaac){return _0xf9eaac&&_0xf9eaac['__esModule']?_0xf9eaac:{'default':_0xf9eaac};}function _0x4e4eb1(_0xf9eaac){_0xf9eaac=_0xf9eaac['scale'],_0xf9eaac=void 0x0===_0xf9eaac?0x1:_0xf9eaac;(0x0,_0x4e8986[_0x536f('0x6')])(this,_0x4e4eb1),this[_0x536f('0x45d')]=!0x1,this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x1dc')]=_0xf9eaac,this[_0x536f('0x6ff')]=null,this[_0x536f('0x46d')]=null,this[_0x536f('0x460')]=null,this[_0x536f('0x461')]=null,this[_0x536f('0x462')]=!0x0;}(0x0,_0x2dc297[_0x536f('0x6')])(_0x4e4eb1,[{'key':_0x536f('0x5'),'value':function(_0xf9eaac){var _0x32377d=_0xf9eaac['texture'],_0x4d99b3=_0xf9eaac[_0x536f('0x31f')],_0x4d99b3=void 0x0===_0x4d99b3?0x0:_0x4d99b3,_0x4e8986=_0xf9eaac[_0x536f('0x559')],_0x4e8986=void 0x0===_0x4e8986?0x1:_0x4e8986,_0x2dc297=_0xf9eaac[_0x536f('0x557')],_0x2dc297=void 0x0===_0x2dc297?0x1:_0x2dc297,_0x5750a6=_0xf9eaac['speed'],_0x5750a6=void 0x0===_0x5750a6?0x1:_0x5750a6,_0x4e4eb1=_0xf9eaac[_0x536f('0x5ab')],_0x4e4eb1=void 0x0!==_0x4e4eb1&&_0x4e4eb1;_0xf9eaac[_0x536f('0x464')],this[_0x536f('0x461')]=new THREE[(_0x536f('0x1c5'))](),this['particleGroup']=new _0x3b3abd[(_0x536f('0x6'))]['Group']({'texture':{'value':_0x32377d}}),this[_0x536f('0x460')]=new _0x3b3abd[(_0x536f('0x6'))][(_0x536f('0x1f8'))]({'maxAge':{'value':0.5},'position':{'value':new THREE['Vector3'](0x0,0x0,0x0),'spread':new THREE['Vector3'](_0x4e8986,0x0,_0x2dc297)},'acceleration':{'value':new THREE[(_0x536f('0x59'))](0x0,_0x5750a6/0x2,0x0)},'velocity':{'value':new THREE[(_0x536f('0x59'))](0x0,_0x5750a6,0x0),'spread':new THREE['Vector3'](_0x5750a6/0x2,0x0,_0x5750a6/0x2)},'color':{'value':[new THREE[(_0x536f('0x1b8'))](0x5ba3f1)]},'size':{'value':[0.5]},'opacity':{'value':[0x1,0x0]},'particleCount':0x12c}),this[_0x536f('0x46d')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x468')]['value']=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0x46d')][_0x536f('0x1f7')](this[_0x536f('0x460')]),this[_0x536f('0x46d')]['mesh']['scale']['set'](this[_0x536f('0x1dc')],this['scale'],this[_0x536f('0x1dc')]),this[_0x536f('0x461')][_0x536f('0x1c3')](this[_0x536f('0x46d')][_0x536f('0x1e8')]),_0x4e4eb1&&this['centerGroup'][_0x536f('0x1c3')](new THREE[(_0x536f('0x5ad'))](0x2710)),_0x536f('0x1c')===(void 0x0===_0x4d99b3?'undefined':(0x0,_0x50a455[_0x536f('0x6')])(_0x4d99b3))?(_0xf9eaac={'x':THREE['Math'][_0x536f('0x322')](_0x4d99b3['x']||0x0),'y':THREE['Math'][_0x536f('0x322')](_0x4d99b3['y']||0x0),'z':THREE[_0x536f('0x19')][_0x536f('0x322')](_0x4d99b3['z']||0x0)},_0x32377d=new THREE[(_0x536f('0x710'))](),_0x4e8986=new THREE['Quaternion'](),_0x2dc297=new THREE[(_0x536f('0x710'))](),_0x32377d['setFromAxisAngle'](new THREE[(_0x536f('0x59'))](0x1,0x0,0x0),_0xf9eaac['x']),_0x4e8986[_0x536f('0x711')](new THREE[(_0x536f('0x59'))](0x0,0x1,0x0),_0xf9eaac['y']),_0x2dc297['setFromAxisAngle'](new THREE['Vector3'](0x0,0x0,0x1),_0xf9eaac['z']),(_0x5750a6=new THREE[(_0x536f('0x710'))]())[_0x536f('0x712')](_0x32377d)[_0x536f('0x712')](_0x4e8986)[_0x536f('0x712')](_0x2dc297),this[_0x536f('0x461')][_0x536f('0x713')][_0x536f('0x1bc')](_0x5750a6)):(this[_0x536f('0x461')][_0x536f('0x43b')](THREE[_0x536f('0x19')][_0x536f('0x322')](0x5a)),this[_0x536f('0x461')][_0x536f('0x714')](THREE[_0x536f('0x19')][_0x536f('0x322')](_0x4d99b3))),this[_0x536f('0x356')][_0x536f('0x1c3')](this['centerGroup']),this[_0x536f('0x45d')]=!0x0;}},{'key':'render','value':function(_0xf9eaac){this[_0x536f('0x45d')]&&this[_0x536f('0x46d')]&&this[_0x536f('0x46d')][_0x536f('0x21b')](_0xf9eaac);}},{'key':'updateConfig','value':function(_0xf9eaac){this[_0x536f('0x460')]?(_0xf9eaac[_0x536f('0x36b')]&&(this[_0x536f('0x460')]['velocity']['value']=new THREE[(_0x536f('0x59'))](0x0,_0xf9eaac[_0x536f('0x36b')],0x0)),_0xf9eaac['color']&&(this[_0x536f('0x460')][_0x536f('0x21f')][_0x536f('0x10')]=[new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0xf9eaac['color'])])):console['error'](_0x536f('0x715'));}},{'key':_0x536f('0x36c'),'set':function(_0xf9eaac){this[_0x536f('0x462')]=_0xf9eaac,this['centerGroup'][_0x536f('0x36c')]=_0xf9eaac;}}]),_0x32377d[_0x536f('0x6')]=_0x4e4eb1;},function(_0x279313,_0x3edcbe,_0x40f414){'use strict';Object[_0x536f('0x1')](_0x3edcbe,_0x536f('0x4'),{'value':!0x0});var _0x40e27e=_0x396b31(_0x40f414(0x0));function _0x396b31(_0x279313){return _0x279313&&_0x279313['__esModule']?_0x279313:{'default':_0x279313};}function _0x3c33f2(_0x279313){var _0x3edcbe=_0x279313[_0x536f('0x36d')],_0x40f414=_0x279313[_0x536f('0x2ee')],_0x40f414=void 0x0===_0x40f414?{'x':0x1,'y':0x2}:_0x40f414,_0x396b31=_0x279313[_0x536f('0x36b')],_0x396b31=void 0x0===_0x396b31?0.5:_0x396b31,_0x279313=_0x279313[_0x536f('0x1c7')];(0x0,_0x40e27e[_0x536f('0x6')])(this,_0x3c33f2),this['object3d']=new THREE['Object3D'](),this[_0x536f('0xce')]=null,this[_0x536f('0x420')]=null,this[_0x536f('0x2ee')]=_0x40f414,this[_0x536f('0x36b')]=_0x396b31,_0x279313[_0x536f('0x434')]=THREE['RepeatWrapping'],_0x279313[_0x536f('0x375')]=THREE['RepeatWrapping'],this['createMaterial'](_0x3edcbe,_0x279313);}(0x0,_0x396b31(_0x40f414(0x1))[_0x536f('0x6')])(_0x3c33f2,[{'key':'createTexture','value':function(){var _0x279313=document[_0x536f('0x93')]('canvas'),_0x3edcbe=(_0x279313[_0x536f('0x366')]=0x4,_0x279313['height']=0x80,_0x279313['getContext']('2d')),_0x40f414=_0x3edcbe[_0x536f('0x716')](0x0,0x0,_0x279313['width'],_0x279313[_0x536f('0x339')]);return _0x40f414[_0x536f('0x413')](0x0,_0x536f('0x717')),_0x40f414[_0x536f('0x413')](0.3,_0x536f('0x36e')),_0x40f414['addColorStop'](0.7,_0x536f('0x36e')),_0x40f414[_0x536f('0x413')](0x1,'#000000'),_0x3edcbe[_0x536f('0x415')]=_0x40f414,_0x3edcbe[_0x536f('0x718')](0x0,0x0,_0x279313[_0x536f('0x366')],_0x279313[_0x536f('0x339')]),new THREE[(_0x536f('0x6ed'))](_0x279313);}},{'key':_0x536f('0x33a'),'value':function(_0x279313,_0x3edcbe){this['material']=new THREE[(_0x536f('0x421'))]({'side':THREE[_0x536f('0x345')],'transparent':!0x0,'depthWrite':!0x0,'depthTest':!0x0,'blending':THREE[_0x536f('0x44b')]});var _0x40f414=this[_0x536f('0x67e')](),_0x396b31=(_0x279313&&this['material'][_0x536f('0x21f')]['setStyle'](_0x279313),this);this[_0x536f('0xce')][_0x536f('0x422')]=function(_0x279313){_0x279313[_0x536f('0x168')][_0x536f('0x429')]={'value':0x0},_0x279313[_0x536f('0x168')][_0x536f('0x423')]={'value':_0x3edcbe},_0x279313[_0x536f('0x168')]['alphaTex']={'value':_0x40f414},_0x279313['uniforms'][_0x536f('0x719')]={'value':new THREE[(_0x536f('0x1b5'))](_0x396b31[_0x536f('0x2ee')]['x'],_0x396b31[_0x536f('0x2ee')]['y'])},_0x279313[_0x536f('0x57')]=_0x279313[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x44e'),_0x536f('0x71a')),_0x279313[_0x536f('0x57')]=_0x279313[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x69e'),_0x536f('0x71b')),_0x279313['fragmentShader']=_0x279313['fragmentShader'][_0x536f('0x56')](_0x536f('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x279313[_0x536f('0x58')]=_0x279313['fragmentShader'][_0x536f('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture2D(alphaTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20alphaTexCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x396b31[_0x536f('0x420')]=_0x279313;};}},{'key':_0x536f('0x5'),'value':function(_0x279313){for(var _0x3edcbe=_0x279313[_0x536f('0x27d')],_0x40f414=_0x279313['lineWidth'],_0x396b31=void 0x0===_0x40f414?0x1:_0x40f414,_0x40f414=_0x279313[_0x536f('0x458')],_0x40e27e=void 0x0===_0x40f414?0x64:_0x40f414,_0x3c33f2=0x0,_0x486239=_0x3edcbe[_0x536f('0xd')];_0x3c33f2<_0x486239;_0x3c33f2++){var _0xe0d735=new THREE[(_0x536f('0x372'))](),_0x39e442=new THREE[(_0x536f('0x428'))](_0x396b31,_0x40e27e),_0x39e442=(_0x39e442[_0x536f('0x71c')](0x0,0.5*_0x40e27e,0x0),new THREE[(_0x536f('0x354'))](_0x39e442,this[_0x536f('0xce')])),_0x3832ed=new THREE[(_0x536f('0x428'))](_0x396b31,_0x40e27e),_0x3832ed=(_0x3832ed[_0x536f('0x71c')](0x0,0.5*_0x40e27e,0x0),new THREE[(_0x536f('0x354'))](_0x3832ed,this['material']));_0x3832ed[_0x536f('0x1f0')]['y']=0.5*Math['PI'],_0x39e442[_0x536f('0x355')]=0x5a,_0x3832ed[_0x536f('0x355')]=0x5a,_0xe0d735[_0x536f('0x1c3')](_0x39e442),_0xe0d735[_0x536f('0x1c3')](_0x3832ed),_0xe0d735[_0x536f('0x3b')][_0x536f('0x1bc')](_0x3edcbe[_0x3c33f2]),this['object3d'][_0x536f('0x1c3')](_0xe0d735);}}},{'key':_0x536f('0x36a'),'value':function(_0x279313){this[_0x536f('0x420')]&&(this['shader'][_0x536f('0x168')][_0x536f('0x429')][_0x536f('0x10')]-=_0x279313*this['speed']);}}]),_0x3edcbe[_0x536f('0x6')]=_0x3c33f2;},function(_0x38906e,_0x59a774,_0x54f6c9){'use strict';Object['defineProperty'](_0x59a774,_0x536f('0x4'),{'value':!0x0});var _0x3b7b67=_0x23b579(_0x54f6c9(0x20)),_0x4ff64f=_0x23b579(_0x54f6c9(0x0)),_0x1c6751=_0x23b579(_0x54f6c9(0x1)),_0x25cd6f=_0x54f6c9(0xea),_0x21058c=_0x54f6c9(0xeb),_0x258c04=_0x54f6c9(0xec),_0x3b4172=_0x54f6c9(0xed);function _0x23b579(_0x38906e){return _0x38906e&&_0x38906e['__esModule']?_0x38906e:{'default':_0x38906e};}function _0x364e92(_0x38906e){(0x0,_0x4ff64f['default'])(this,_0x364e92),this[_0x536f('0xcf')]=_0x38906e,this[_0x536f('0x261')]=new _0x3b4172[(_0x536f('0x71d'))](),this[_0x536f('0x71e')]=null;}(0x0,_0x1c6751[_0x536f('0x6')])(_0x364e92,[{'key':'loadHDR','value':function(_0x38906e){var _0x59a774=this,_0x4ff64f=_0x38906e[_0x536f('0x71f')],_0x38906e=_0x38906e[_0x536f('0x720')],_0x1c6751=void 0x0===_0x38906e?0x200:_0x38906e,_0x3b4172=this;return new _0x3b7b67[(_0x536f('0x6'))](function(_0x54f6c9,_0x38906e){_0x59a774['textureLoader'][_0x536f('0x263')](_0x4ff64f,function(_0x38906e){_0x38906e[_0x536f('0x48d')]=THREE['RGBEEncoding'],_0x38906e[_0x536f('0x433')]=THREE[_0x536f('0x721')],_0x38906e[_0x536f('0x436')]=THREE[_0x536f('0x721')],_0x38906e['flipY']=!0x0;var _0x38906e=new _0x258c04['EquirectangularToCubeGenerator'](_0x38906e,{'resolution':_0x1c6751})[_0x536f('0x2f3')](_0x3b4172[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')]),_0x38906e=new _0x25cd6f[(_0x536f('0x722'))](_0x38906e),_0x59a774=(_0x38906e[_0x536f('0x2f3')](_0x3b4172['map']['mapView'][_0x536f('0x534')]),new _0x21058c['PMREMCubeUVPacker'](_0x38906e[_0x536f('0x723')]));_0x59a774['update'](_0x3b4172['map']['mapView'][_0x536f('0x534')]),_0x3b4172[_0x536f('0x71e')]=_0x59a774['CubeUVRenderTarget'][_0x536f('0x1c7')],_0x54f6c9(_0x3b4172[_0x536f('0x71e')]),_0x38906e['dispose'](),_0x59a774['dispose']();});});}}]),_0x59a774['default']=_0x364e92;},function(_0x1ceba8,_0x3f637d,_0x4fbbd7){'use strict';Object[_0x536f('0x1')](_0x3f637d,_0x536f('0x4'),{'value':!0x0});(_0x4f518d=new THREE[(_0x536f('0x3b3'))]({'defines':{'SAMPLES_PER_LEVEL':0x14},'uniforms':{'faceIndex':{'value':0x0},'roughness':{'value':0.5},'mapSize':{'value':0.5},'envMap':{'value':null},'tFlip':{'value':-0x1}},'vertexShader':_0x536f('0x724'),'fragmentShader':_0x536f('0x725'),'blending':THREE[_0x536f('0x726')]}))[_0x536f('0x76')]=_0x536f('0x722'),_0x5b1bf8=_0x4f518d,_0x288a61=new THREE[(_0x536f('0x727'))](-0x1,0x1,0x1,-0x1,0x0,0x3e8),_0x5bbf4f=new THREE[(_0x536f('0x485'))](),(_0x4f518d=new THREE[(_0x536f('0x354'))](new THREE[(_0x536f('0x428'))](0x2,0x2,0x0),_0x5b1bf8))[_0x536f('0xce')][_0x536f('0x3ad')]=THREE[_0x536f('0x345')],_0x5bbf4f[_0x536f('0x1c3')](_0x4f518d),_0x5bbf4f[_0x536f('0x1c3')](_0x288a61),_0xe511ad[_0x536f('0x8')]={'constructor':_0xe511ad,'update':function(_0x1ceba8){var _0x3f637d=this[_0x536f('0x728')][_0x536f('0x729')]?-0x1:0x1,_0x4fbbd7=(_0x5b1bf8['defines'][_0x536f('0x72a')]=this['samplesPerLevel'],_0x5b1bf8[_0x536f('0x168')]['faceIndex'][_0x536f('0x10')]=0x0,_0x5b1bf8[_0x536f('0x168')]['envMap'][_0x536f('0x10')]=this['sourceTexture'],_0x5b1bf8[_0x536f('0x4aa')]=this[_0x536f('0x728')],_0x5b1bf8[_0x536f('0xfa')]=!0x0,_0x1ceba8[_0x536f('0x72b')]),_0x3f4833=_0x1ceba8[_0x536f('0x72c')],_0x1708ce=_0x1ceba8[_0x536f('0x72d')],_0xbdfc1=_0x1ceba8['toneMappingExposure'],_0x12d9cf=_0x1ceba8[_0x536f('0x72e')]();_0x1ceba8[_0x536f('0x72d')]=THREE[_0x536f('0x72f')],_0x1ceba8['toneMappingExposure']=0x1,_0x1ceba8[_0x536f('0x72b')]=!0x1,_0x1ceba8[_0x536f('0x72c')]=!0x1;for(var _0x581e01=0x0;_0x581e01<this[_0x536f('0x730')];_0x581e01++){var _0x5216b1=_0x581e01/(this[_0x536f('0x730')]-0x1),_0x5216b1=(_0x5b1bf8[_0x536f('0x168')][_0x536f('0x2fe')][_0x536f('0x10')]=0.9*_0x5216b1,_0x5b1bf8['uniforms']['tFlip']['value']=0x0==_0x581e01?_0x3f637d:0x1,this[_0x536f('0x723')][_0x581e01][_0x536f('0x366')]);_0x5b1bf8[_0x536f('0x168')]['mapSize'][_0x536f('0x10')]=_0x5216b1,this[_0x536f('0x731')](_0x1ceba8,this['cubeLods'][_0x581e01]),_0x581e01<0x5&&(_0x5b1bf8[_0x536f('0x168')][_0x536f('0x4aa')]['value']=this[_0x536f('0x723')][_0x581e01][_0x536f('0x1c7')]);}_0x1ceba8[_0x536f('0x732')](_0x12d9cf),_0x1ceba8[_0x536f('0x72d')]=_0x1708ce,_0x1ceba8['toneMappingExposure']=_0xbdfc1,_0x1ceba8[_0x536f('0x72b')]=_0x4fbbd7,_0x1ceba8[_0x536f('0x72c')]=_0x3f4833;},'renderToCubeMapTarget':function(_0x1ceba8,_0x3f637d){for(var _0x4fbbd7=0x0;_0x4fbbd7<0x6;_0x4fbbd7++)this[_0x536f('0x733')](_0x1ceba8,_0x3f637d,_0x4fbbd7);},'renderToCubeMapTargetFace':function(_0x1ceba8,_0x3f637d,_0x4fbbd7){_0x5b1bf8['uniforms']['faceIndex'][_0x536f('0x10')]=_0x4fbbd7,_0x1ceba8[_0x536f('0x732')](_0x3f637d,_0x4fbbd7),_0x1ceba8[_0x536f('0x2dc')](),_0x1ceba8[_0x536f('0x36a')](_0x5bbf4f,_0x288a61);},'dispose':function(){for(var _0x1ceba8=0x0,_0x3f637d=this[_0x536f('0x723')][_0x536f('0xd')];_0x1ceba8<_0x3f637d;_0x1ceba8++)this['cubeLods'][_0x1ceba8][_0x536f('0xcd')]();}};var _0x5b1bf8,_0x288a61,_0x5bbf4f,_0x4f518d=_0xe511ad;function _0xe511ad(_0x1ceba8,_0x3f637d,_0x4fbbd7){this['sourceTexture']=_0x1ceba8,this['resolution']=void 0x0!==_0x4fbbd7?_0x4fbbd7:0x100,this['samplesPerLevel']=void 0x0!==_0x3f637d?_0x3f637d:0x20;var _0x1ceba8=this[_0x536f('0x728')][_0x536f('0x48d')]===THREE[_0x536f('0x734')]||this[_0x536f('0x728')][_0x536f('0x48d')]===THREE[_0x536f('0x735')]||this[_0x536f('0x728')][_0x536f('0x48d')]===THREE[_0x536f('0x736')],_0x288a61=(this[_0x536f('0x728')]['minFilter']=_0x1ceba8?THREE['LinearFilter']:THREE[_0x536f('0x721')],this[_0x536f('0x728')][_0x536f('0x436')]=_0x1ceba8?THREE['LinearFilter']:THREE[_0x536f('0x721')],this[_0x536f('0x728')][_0x536f('0x737')]=this[_0x536f('0x728')][_0x536f('0x737')]&&_0x1ceba8,this[_0x536f('0x723')]=[],this[_0x536f('0x370')]),_0x5bbf4f={'format':this[_0x536f('0x728')]['format'],'magFilter':this[_0x536f('0x728')]['magFilter'],'minFilter':this[_0x536f('0x728')][_0x536f('0x433')],'type':this[_0x536f('0x728')][_0x536f('0x76')],'generateMipmaps':this[_0x536f('0x728')][_0x536f('0x737')],'anisotropy':this['sourceTexture'][_0x536f('0x543')],'encoding':this['sourceTexture'][_0x536f('0x48d')]};this[_0x536f('0x730')]=Math[_0x536f('0x4da')](_0x288a61)/Math[_0x536f('0x4da')](0x2)-0x2;for(var _0x4f518d=0x0;_0x4f518d<this[_0x536f('0x730')];_0x4f518d++){var _0xe511ad=new THREE['WebGLRenderTargetCube'](_0x288a61,_0x288a61,_0x5bbf4f);_0xe511ad[_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0x738')+_0x4f518d,this['cubeLods']['push'](_0xe511ad),_0x288a61=Math[_0x536f('0x1af')](0x10,_0x288a61/0x2);}}_0x3f637d[_0x536f('0x722')]=_0x4f518d;},function(_0x4fc562,_0xe4b84e,_0xa2f26d){'use strict';var _0x4c3282,_0xd97bac,_0xd9d26d,_0x5359ea;function _0x59ce91(_0x4fc562){var _0xe4b84e=0x4*(this[_0x536f('0x723')]=_0x4fc562)[0x0][_0x536f('0x366')],_0xa2f26d=_0x4fc562[0x0][_0x536f('0x1c7')],_0xa2f26d={'format':_0xa2f26d[_0x536f('0x48a')],'magFilter':_0xa2f26d[_0x536f('0x436')],'minFilter':_0xa2f26d[_0x536f('0x433')],'type':_0xa2f26d[_0x536f('0x76')],'generateMipmaps':_0xa2f26d[_0x536f('0x737')],'anisotropy':_0xa2f26d[_0x536f('0x543')],'encoding':_0xa2f26d[_0x536f('0x48d')]===THREE['RGBEEncoding']?THREE[_0x536f('0x739')]:_0xa2f26d['encoding']},_0x4c3282=(_0xa2f26d['encoding']===THREE['RGBM16Encoding']&&(_0xa2f26d[_0x536f('0x436')]=THREE[_0x536f('0x432')],_0xa2f26d[_0x536f('0x433')]=THREE[_0x536f('0x432')]),this[_0x536f('0x73a')]=new THREE[(_0x536f('0x73b'))](_0xe4b84e,_0xe4b84e,_0xa2f26d),this[_0x536f('0x73a')][_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0x73c'),this[_0x536f('0x73a')][_0x536f('0x1c7')][_0x536f('0x48c')]=THREE[_0x536f('0x73d')],this[_0x536f('0x73e')]=[],new THREE[(_0x536f('0x428'))](0x1,0x1)),_0x59ce91=[],_0x31ed80=(_0x59ce91['push'](new THREE[(_0x536f('0x1b5'))](0x0,0x0)),_0x59ce91[_0x536f('0x82')](new THREE[(_0x536f('0x1b5'))](0x1,0x0)),_0x59ce91['push'](new THREE['Vector2'](0x2,0x0)),_0x59ce91[_0x536f('0x82')](new THREE[(_0x536f('0x1b5'))](0x0,0x1)),_0x59ce91['push'](new THREE[(_0x536f('0x1b5'))](0x1,0x1)),_0x59ce91[_0x536f('0x82')](new THREE[(_0x536f('0x1b5'))](0x2,0x1)),_0xe4b84e),_0xe4b84e=_0x4fc562[0x0][_0x536f('0x366')],_0x203c49=0x0,_0xd97bac=0x4;this[_0x536f('0x730')]=Math[_0x536f('0x4da')](_0x4fc562[0x0][_0x536f('0x366')])/Math[_0x536f('0x4da')](0x2)-0x2;for(var _0xd9d26d=0x0;_0xd9d26d<this[_0x536f('0x730')];_0xd9d26d++){for(var _0xfe7a83=0.5*(_0x31ed80-_0x31ed80/_0xd97bac),_0x5f2d36=(0x10<_0xe4b84e&&(_0xd97bac*=0x2),0x10<_0xe4b84e?0x6:0x1),_0x2ae8e0=0x0,_0x287805=0x0,_0x2fe88f=_0xe4b84e,_0x5e9ab4=0x0;_0x5e9ab4<_0x5f2d36;_0x5e9ab4++){for(var _0x20337d=0x0;_0x20337d<0x6;_0x20337d++){var _0xe8b867=_0x5359ea[_0x536f('0x1b1')](),_0xe8b867=(_0xe8b867[_0x536f('0x168')][_0x536f('0x4aa')][_0x536f('0x10')]=this[_0x536f('0x723')][_0xd9d26d][_0x536f('0x1c7')],_0xe8b867[_0x536f('0x4aa')]=this[_0x536f('0x723')][_0xd9d26d][_0x536f('0x1c7')],_0xe8b867['uniforms'][_0x536f('0x73f')]['value']=_0x20337d,_0xe8b867[_0x536f('0x168')][_0x536f('0x740')][_0x536f('0x10')]=_0x2fe88f,new THREE['Mesh'](_0x4c3282,_0xe8b867));_0xe8b867[_0x536f('0x3b')]['x']=_0x59ce91[_0x20337d]['x']*_0x2fe88f-_0xfe7a83+_0x2ae8e0,_0xe8b867['position']['y']=_0x59ce91[_0x20337d]['y']*_0x2fe88f-_0xfe7a83+_0x203c49+_0x287805,_0xe8b867['material'][_0x536f('0x3ad')]=THREE[_0x536f('0x4a9')],_0xe8b867[_0x536f('0x1dc')][_0x536f('0x741')](_0x2fe88f),this[_0x536f('0x73e')][_0x536f('0x82')](_0xe8b867);}_0x287805+=1.75*_0x2fe88f,_0x2ae8e0+=1.25*_0x2fe88f,_0x2fe88f/=0x2;}_0x203c49+=0x2*_0xe4b84e,0x10<_0xe4b84e&&(_0xe4b84e/=0x2);}}Object[_0x536f('0x1')](_0xe4b84e,_0x536f('0x4'),{'value':!0x0}),_0xd97bac=new THREE[(_0x536f('0x727'))](),_0xd9d26d=new THREE[(_0x536f('0x485'))](),(_0x4c3282=new THREE[(_0x536f('0x3b3'))]({'uniforms':{'faceIndex':{'value':0x0},'mapSize':{'value':0x0},'envMap':{'value':null},'testColor':{'value':new THREE[(_0x536f('0x59'))](0x1,0x1,0x1)}},'vertexShader':_0x536f('0x742'),'fragmentShader':_0x536f('0x743'),'blending':THREE[_0x536f('0x726')]}))['type']='PMREMCubeUVPacker',_0x5359ea=_0x4c3282,_0x59ce91[_0x536f('0x8')]={'constructor':_0x59ce91,'update':function(_0x4fc562){var _0xe4b84e=0x4*this[_0x536f('0x723')][0x0][_0x536f('0x366')];_0xd97bac[_0x536f('0x38a')]=0.5*-_0xe4b84e,_0xd97bac[_0x536f('0x744')]=0.5*_0xe4b84e,_0xd97bac[_0x536f('0x5f6')]=0.5*-_0xe4b84e,_0xd97bac[_0x536f('0x745')]=0.5*_0xe4b84e,_0xd97bac[_0x536f('0x343')]=0x0,_0xd97bac['far']=0x1,_0xd97bac['updateProjectionMatrix']();for(var _0xa2f26d=0x0;_0xa2f26d<this[_0x536f('0x73e')][_0x536f('0xd')];_0xa2f26d++)_0xd9d26d[_0x536f('0x1c3')](this[_0x536f('0x73e')][_0xa2f26d]);var _0xe4b84e=_0x4fc562[_0x536f('0x72b')],_0x4c3282=_0x4fc562[_0x536f('0x72c')],_0x59ce91=_0x4fc562[_0x536f('0x72d')],_0x145c79=_0x4fc562['toneMappingExposure'],_0x143135=_0x4fc562[_0x536f('0x72e')]();for(_0x4fc562[_0x536f('0x72b')]=!0x1,_0x4fc562[_0x536f('0x72c')]=!0x1,_0x4fc562['toneMapping']=THREE[_0x536f('0x72f')],_0x4fc562[_0x536f('0x746')]=0x1,_0x4fc562[_0x536f('0x732')](this['CubeUVRenderTarget']),_0x4fc562['render'](_0xd9d26d,_0xd97bac),_0x4fc562[_0x536f('0x732')](_0x143135),_0x4fc562['toneMapping']=_0x59ce91,_0x4fc562[_0x536f('0x746')]=_0x145c79,_0x4fc562[_0x536f('0x72b')]=_0xe4b84e,_0x4fc562[_0x536f('0x72c')]=_0x4c3282,_0xa2f26d=0x0;_0xa2f26d<this['objects'][_0x536f('0xd')];_0xa2f26d++)_0xd9d26d[_0x536f('0xd1')](this['objects'][_0xa2f26d]);},'dispose':function(){for(var _0x4fc562=0x0,_0xe4b84e=this['objects'][_0x536f('0xd')];_0x4fc562<_0xe4b84e;_0x4fc562++)this['objects'][_0x4fc562][_0x536f('0xce')][_0x536f('0xcd')]();this[_0x536f('0x73e')][0x0][_0x536f('0xd0')][_0x536f('0xcd')]();}},_0xe4b84e[_0x536f('0x747')]=_0x59ce91;},function(_0x5ee922,_0x29e73e,_0x53345e){'use strict';function _0x24c218(_0x5ee922){this[_0x536f('0x534')]=_0x5ee922;}Object[_0x536f('0x1')](_0x29e73e,_0x536f('0x4'),{'value':!0x0}),_0x24c218[_0x536f('0x8')][_0x536f('0x748')]=function(_0x5ee922,_0x29e73e){_0x29e73e=_0x29e73e||{};var _0x53345e=new THREE[(_0x536f('0x485'))](),_0x24c218=new THREE[(_0x536f('0x3b3'))]({'type':_0x536f('0x749'),'uniforms':THREE['UniformsUtils']['clone']({'tEquirect':{'value':null}}),'vertexShader':'\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09vec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x0a\x09\x09\x09\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x0a\x09\x09\x09\x09#include\x20<begin_vertex>\x0a\x09\x09\x09\x09#include\x20<project_vertex>\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','fragmentShader':_0x536f('0x74a'),'side':THREE['BackSide'],'blending':THREE[_0x536f('0x726')]}),_0x24c218=(_0x24c218[_0x536f('0x168')]['tEquirect'][_0x536f('0x10')]=_0x5ee922,new THREE[(_0x536f('0x354'))](new THREE[(_0x536f('0x488'))](0x5,0x5,0x5),_0x24c218)),_0x24e763=(_0x53345e[_0x536f('0x1c3')](_0x24c218),_0x29e73e['resolution']||0x200),_0x29e73e={'type':_0x5ee922[_0x536f('0x76')],'format':_0x5ee922['format'],'encoding':_0x5ee922[_0x536f('0x48d')],'generateMipmaps':(void 0x0!==_0x29e73e[_0x536f('0x737')]?_0x29e73e:_0x5ee922)[_0x536f('0x737')],'minFilter':(void 0x0!==_0x29e73e[_0x536f('0x433')]?_0x29e73e:_0x5ee922)['minFilter'],'magFilter':(void 0x0!==_0x29e73e[_0x536f('0x436')]?_0x29e73e:_0x5ee922)['magFilter']},_0x5ee922=new THREE[(_0x536f('0x74b'))](0x1,0xa,_0x24e763,_0x29e73e);return _0x5ee922['update'](this['renderer'],_0x53345e),_0x24c218[_0x536f('0xd0')][_0x536f('0xcd')](),_0x24c218[_0x536f('0xce')][_0x536f('0xcd')](),_0x5ee922[_0x536f('0x74c')];};_0x396269=new THREE[(_0x536f('0x74d'))](0x5a,0x1,0.1,0xa),_0xd1ae2a=new THREE[(_0x536f('0x485'))](),(_0x165ade=new THREE[(_0x536f('0x354'))](new THREE['BoxBufferGeometry'](0x1,0x1,0x1),((_0x40c223=new THREE['ShaderMaterial']({'uniforms':{'equirectangularMap':{'value':null}},'vertexShader':'varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localPosition\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','fragmentShader':'#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20equirectangularMap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20EquirectangularSampleUV(vec3\x20v)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(atan(v.z,\x20v.x),\x20asin(v.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20*=\x20vec2(0.1591,\x200.3183);\x20//\x20inverse\x20atan\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20EquirectangularSampleUV(normalize(localPosition));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(equirectangularMap,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','blending':THREE[_0x536f('0x726')]}))[_0x536f('0x76')]='EquirectangularToCubeGenerator',_0x40c223)))[_0x536f('0xce')]['side']=THREE[_0x536f('0x4a9')],_0xd1ae2a['add'](_0x165ade),_0x2e41f4[_0x536f('0x8')]={'constructor':_0x2e41f4,'update':function(_0x5ee922){var _0x29e73e=_0x5ee922[_0x536f('0x72e')]();_0x165ade[_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x74e')][_0x536f('0x10')]=this[_0x536f('0x728')];for(var _0x53345e=0x0;_0x53345e<0x6;_0x53345e++){var _0x24c218=this[_0x536f('0x74f')][_0x53345e];_0x396269[_0x536f('0x3b')][_0x536f('0x1b')](0x0,0x0,0x0),_0x396269['up'][_0x536f('0x1b')](_0x24c218['u'][0x0],_0x24c218['u'][0x1],_0x24c218['u'][0x2]),_0x396269[_0x536f('0x43d')](_0x24c218['t'][0x0],_0x24c218['t'][0x1],_0x24c218['t'][0x2]),_0x5ee922[_0x536f('0x732')](this[_0x536f('0x74c')],_0x53345e),_0x5ee922[_0x536f('0x2dc')](),_0x5ee922[_0x536f('0x36a')](_0xd1ae2a,_0x396269);}return _0x5ee922['setRenderTarget'](_0x29e73e),this[_0x536f('0x74c')][_0x536f('0x1c7')];},'dispose':function(){this[_0x536f('0x74c')][_0x536f('0xcd')]();}};var _0x396269,_0xd1ae2a,_0x165ade,_0x40c223=_0x2e41f4;function _0x2e41f4(_0x5ee922,_0x29e73e){_0x29e73e=_0x29e73e||{},this[_0x536f('0x728')]=_0x5ee922,this['resolution']=_0x29e73e[_0x536f('0x370')]||0x200,this[_0x536f('0x74f')]=[{'t':[0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[-0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x1,0x0],'u':[0x0,0x0,0x1]},{'t':[0x0,-0x1,0x0],'u':[0x0,0x0,-0x1]},{'t':[0x0,0x0,0x1],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x0,-0x1],'u':[0x0,-0x1,0x0]}];_0x5ee922={'format':_0x29e73e[_0x536f('0x48a')]||this[_0x536f('0x728')][_0x536f('0x48a')],'magFilter':this[_0x536f('0x728')][_0x536f('0x436')],'minFilter':this[_0x536f('0x728')][_0x536f('0x433')],'type':_0x29e73e[_0x536f('0x76')]||this[_0x536f('0x728')][_0x536f('0x76')],'generateMipmaps':this[_0x536f('0x728')][_0x536f('0x737')],'anisotropy':this['sourceTexture'][_0x536f('0x543')],'encoding':this[_0x536f('0x728')][_0x536f('0x48d')]};this[_0x536f('0x74c')]=new THREE['WebGLRenderTargetCube'](this[_0x536f('0x370')],this[_0x536f('0x370')],_0x5ee922);}_0x29e73e[_0x536f('0x750')]=_0x24c218,_0x29e73e[_0x536f('0x751')]=_0x40c223;},function(_0x52734e,_0x1e414c,_0x48a6a4){'use strict';Object[_0x536f('0x1')](_0x1e414c,_0x536f('0x4'),{'value':!0x0}),_0x1e414c[_0x536f('0x71d')]=void 0x0;_0x48a6a4=_0x48a6a4(0x1f),_0x48a6a4=_0x48a6a4&&_0x48a6a4[_0x536f('0x4')]?_0x48a6a4:{'default':_0x48a6a4};function _0x944925(_0x52734e){this[_0x536f('0x752')]=void 0x0!==_0x52734e?_0x52734e:THREE[_0x536f('0x753')],this[_0x536f('0x76')]=THREE[_0x536f('0x754')];}(_0x944925['prototype']=(0x0,_0x48a6a4['default'])(THREE[_0x536f('0x755')]['prototype']))[_0x536f('0x756')]=function(_0x52734e){function _0x1f1762(_0x52734e,_0x1e414c){switch(_0x52734e){case _0x19f26a:console[_0x536f('0x1f9')](_0x536f('0x757')+(_0x1e414c||''));break;case _0x330526:console['error']('THREE.RGBELoader\x20Write\x20Error:\x20'+(_0x1e414c||''));break;case _0x5756d3:console[_0x536f('0x1f9')]('THREE.RGBELoader\x20Bad\x20File\x20Format:\x20'+(_0x1e414c||''));break;default:console[_0x536f('0x1f9')](_0x536f('0x758')+(_0x1e414c||''));}return _0x3d3305;}function _0x540c48(_0x52734e,_0x1e414c,_0x48a6a4){_0x1e414c=_0x1e414c||0x400;for(var _0x944925=_0x52734e[_0x536f('0x759')],_0x221783=-0x1,_0x421c27=0x0,_0x452af1='',_0x2c08e5=String[_0x536f('0x75a')][_0x536f('0x16')](null,new Uint16Array(_0x52734e[_0x536f('0xde')](_0x944925,_0x944925+0x80)));(_0x221783=_0x2c08e5['indexOf'](_0x44e0f8))<0x0&&_0x421c27<_0x1e414c&&_0x944925<_0x52734e[_0x536f('0x75b')];)_0x452af1+=_0x2c08e5,_0x421c27+=_0x2c08e5['length'],_0x944925+=0x80,_0x2c08e5+=String[_0x536f('0x75a')]['apply'](null,new Uint16Array(_0x52734e[_0x536f('0xde')](_0x944925,_0x944925+0x80)));return-0x1<_0x221783&&(!0x1!==_0x48a6a4&&(_0x52734e[_0x536f('0x759')]+=_0x421c27+_0x221783+0x1),_0x452af1+_0x2c08e5['slice'](0x0,_0x221783));}var _0x1e414c,_0x48a6a4,_0x944925,_0x231bc5,_0xbe5e36,_0x3d3305=-0x1,_0x19f26a=0x1,_0x330526=0x2,_0x5756d3=0x3,_0x44e0f8='\x0a',_0x52734e=new Uint8Array(_0x52734e),_0x3569b2=(_0x52734e[_0x536f('0x759')]=0x0,function(_0x52734e){var _0x1e414c,_0x48a6a4,_0x944925=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,_0x231bc5=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,_0xbe5e36=/^\s*FORMAT=(\S+)\s*$/,_0x3d3305=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,_0x330526={'valid':0x0,'string':'','comments':'','programtype':_0x536f('0x75c'),'format':'','gamma':0x1,'exposure':0x1,'width':0x0,'height':0x0};if(_0x52734e['pos']>=_0x52734e[_0x536f('0x75b')]||!(_0x1e414c=_0x540c48(_0x52734e)))return _0x1f1762(_0x19f26a,_0x536f('0x75d'));if(!(_0x48a6a4=_0x1e414c['match'](/^#\?(\S+)$/)))return _0x1f1762(_0x5756d3,_0x536f('0x75e'));for(_0x330526[_0x536f('0x75f')]|=0x1,_0x330526[_0x536f('0x760')]=_0x48a6a4[0x1],_0x330526['string']+=_0x1e414c+'\x0a';!0x1!==(_0x1e414c=_0x540c48(_0x52734e));)if(_0x330526['string']+=_0x1e414c+'\x0a','#'===_0x1e414c[_0x536f('0x4fe')](0x0))_0x330526[_0x536f('0x761')]+=_0x1e414c+'\x0a';else if((_0x48a6a4=_0x1e414c[_0x536f('0x55')](_0x944925))&&(_0x330526[_0x536f('0x762')]=parseFloat(_0x48a6a4[0x1],0xa)),(_0x48a6a4=_0x1e414c[_0x536f('0x55')](_0x231bc5))&&(_0x330526[_0x536f('0x763')]=parseFloat(_0x48a6a4[0x1],0xa)),(_0x48a6a4=_0x1e414c['match'](_0xbe5e36))&&(_0x330526[_0x536f('0x75f')]|=0x2,_0x330526[_0x536f('0x48a')]=_0x48a6a4[0x1]),(_0x48a6a4=_0x1e414c['match'](_0x3d3305))&&(_0x330526[_0x536f('0x75f')]|=0x4,_0x330526[_0x536f('0x339')]=parseInt(_0x48a6a4[0x1],0xa),_0x330526[_0x536f('0x366')]=parseInt(_0x48a6a4[0x2],0xa)),0x2&_0x330526[_0x536f('0x75f')]&&0x4&_0x330526['valid'])break;return 0x2&_0x330526['valid']?0x4&_0x330526['valid']?_0x330526:_0x1f1762(_0x5756d3,'missing\x20image\x20size\x20specifier'):_0x1f1762(_0x5756d3,_0x536f('0x764'));}(_0x52734e));if(_0x3d3305!==_0x3569b2){var _0x292eac=_0x3569b2[_0x536f('0x366')],_0x3b5fd7=_0x3569b2[_0x536f('0x339')],_0x3f5d5e=function(_0x52734e,_0x1e414c,_0x48a6a4){var _0x944925,_0x231bc5,_0xbe5e36,_0x3d3305,_0x330526,_0x540c48,_0x44e0f8,_0x3569b2,_0x292eac,_0x3b5fd7,_0x3f5d5e,_0x1c6da6,_0x290af1,_0x51023c=_0x1e414c,_0x1abeb9=_0x48a6a4;if(_0x51023c<0x8||0x7fff<_0x51023c||0x2!==_0x52734e[0x0]||0x2!==_0x52734e[0x1]||0x80&_0x52734e[0x2])return new Uint8Array(_0x52734e);if(_0x51023c!==(_0x52734e[0x2]<<0x8|_0x52734e[0x3]))return _0x1f1762(_0x5756d3,_0x536f('0x765'));if(!(_0x944925=new Uint8Array(0x4*_0x1e414c*_0x48a6a4))||!_0x944925[_0x536f('0xd')])return _0x1f1762(0x4,'unable\x20to\x20allocate\x20buffer\x20space');for(_0xbe5e36=_0x231bc5=0x0,_0x3569b2=0x4*_0x51023c,_0x290af1=new Uint8Array(0x4),_0x540c48=new Uint8Array(_0x3569b2);0x0<_0x1abeb9&&_0xbe5e36<_0x52734e[_0x536f('0x75b')];){if(_0xbe5e36+0x4>_0x52734e['byteLength'])return _0x1f1762(_0x19f26a);if(_0x290af1[0x0]=_0x52734e[_0xbe5e36++],_0x290af1[0x1]=_0x52734e[_0xbe5e36++],_0x290af1[0x2]=_0x52734e[_0xbe5e36++],_0x290af1[0x3]=_0x52734e[_0xbe5e36++],0x2!=_0x290af1[0x0]||0x2!=_0x290af1[0x1]||(_0x290af1[0x2]<<0x8|_0x290af1[0x3])!=_0x51023c)return _0x1f1762(_0x5756d3,_0x536f('0x766'));for(_0x44e0f8=0x0;_0x44e0f8<_0x3569b2&&_0xbe5e36<_0x52734e['byteLength'];){if((_0x1c6da6=0x80<(_0x3d3305=_0x52734e[_0xbe5e36++]))&&(_0x3d3305-=0x80),0x0===_0x3d3305||_0x3569b2<_0x44e0f8+_0x3d3305)return _0x1f1762(_0x5756d3,_0x536f('0x767'));if(_0x1c6da6)for(_0x330526=_0x52734e[_0xbe5e36++],_0x292eac=0x0;_0x292eac<_0x3d3305;_0x292eac++)_0x540c48[_0x44e0f8++]=_0x330526;else _0x540c48[_0x536f('0x1b')](_0x52734e[_0x536f('0xde')](_0xbe5e36,_0xbe5e36+_0x3d3305),_0x44e0f8),_0x44e0f8+=_0x3d3305,_0xbe5e36+=_0x3d3305;}for(_0x3b5fd7=_0x51023c,_0x292eac=0x0;_0x292eac<_0x3b5fd7;_0x292eac++)_0x944925[_0x231bc5]=_0x540c48[_0x292eac+(_0x3f5d5e=0x0)],_0x3f5d5e+=_0x51023c,_0x944925[_0x231bc5+0x1]=_0x540c48[_0x292eac+_0x3f5d5e],_0x3f5d5e+=_0x51023c,_0x944925[_0x231bc5+0x2]=_0x540c48[_0x292eac+_0x3f5d5e],_0x3f5d5e+=_0x51023c,_0x944925[_0x231bc5+0x3]=_0x540c48[_0x292eac+_0x3f5d5e],_0x231bc5+=0x4;_0x1abeb9--;}return _0x944925;}(_0x52734e[_0x536f('0xde')](_0x52734e['pos']),_0x292eac,_0x3b5fd7);if(_0x3d3305!==_0x3f5d5e){if(this['type']===THREE[_0x536f('0x754')])var _0x372bea=_0x3f5d5e,_0x9a9587=THREE[_0x536f('0x768')],_0x358f36=THREE[_0x536f('0x754')];else if(this[_0x536f('0x76')]===THREE[_0x536f('0x769')]){for(var _0x401060=_0x3f5d5e[_0x536f('0xd')]/0x4*0x3,_0x2fc5ee=new Float32Array(_0x401060),_0x44bfa9=0x0;_0x44bfa9<_0x401060;_0x44bfa9++)_0x944925=_0x2fc5ee,_0x231bc5=0x3*_0x44bfa9,0x0,_0xbe5e36=(_0x1e414c=_0x3f5d5e)[0x3+(_0x48a6a4=0x4*_0x44bfa9)],_0xbe5e36=Math[_0x536f('0x350')](0x2,_0xbe5e36-0x80)/0xff,_0x944925[0x0+_0x231bc5]=_0x1e414c[0x0+_0x48a6a4]*_0xbe5e36,_0x944925[0x1+_0x231bc5]=_0x1e414c[0x1+_0x48a6a4]*_0xbe5e36,_0x944925[0x2+_0x231bc5]=_0x1e414c[0x2+_0x48a6a4]*_0xbe5e36;_0x372bea=_0x2fc5ee,_0x9a9587=THREE[_0x536f('0x48b')],_0x358f36=THREE[_0x536f('0x769')];}else console[_0x536f('0x1f9')](_0x536f('0x76a'),this[_0x536f('0x76')]);return{'width':_0x292eac,'height':_0x3b5fd7,'data':_0x372bea,'header':_0x3569b2[_0x536f('0x8a')],'gamma':_0x3569b2[_0x536f('0x762')],'exposure':_0x3569b2[_0x536f('0x763')],'format':_0x9a9587,'type':_0x358f36};}}return null;},_0x944925[_0x536f('0x8')][_0x536f('0x76b')]=function(_0x52734e){return this[_0x536f('0x76')]=_0x52734e,this;},_0x1e414c[_0x536f('0x71d')]=_0x944925;},function(_0x55ce15,_0x458480,_0xd6b1c0){'use strict';Object[_0x536f('0x1')](_0x458480,_0x536f('0x4'),{'value':!0x0});var _0x1e920e=_0x10951f(_0xd6b1c0(0x0));function _0x10951f(_0x55ce15){return _0x55ce15&&_0x55ce15['__esModule']?_0x55ce15:{'default':_0x55ce15};}function _0x5c82f0(_0x55ce15){var _0x458480=_0x55ce15[_0x536f('0x1dc')],_0x458480=void 0x0===_0x458480?0x6:_0x458480,_0xd6b1c0=_0x55ce15[_0x536f('0x36b')],_0xd6b1c0=void 0x0===_0xd6b1c0?0.005:_0xd6b1c0,_0x10951f=_0x55ce15[_0x536f('0x76c')],_0x10951f=void 0x0===_0x10951f?0x32:_0x10951f,_0x1cc634=_0x55ce15[_0x536f('0x1c7')],_0x19c78d=_0x55ce15['skyTexture'],_0x20319a=_0x55ce15['colorStr'],_0x20319a=void 0x0===_0x20319a?_0x536f('0x76d'):_0x20319a,_0x557133=_0x55ce15[_0x536f('0x76e')],_0x557133=void 0x0===_0x557133?0x1:_0x557133,_0x5ce5d5=_0x55ce15['lightColorStr'],_0x5ce5d5=void 0x0===_0x5ce5d5?_0x536f('0x76f'):_0x5ce5d5,_0x1e63a8=_0x55ce15[_0x536f('0x770')],_0x1e63a8=void 0x0===_0x1e63a8?0x0:_0x1e63a8,_0x55ce15=_0x55ce15[_0x536f('0x201')],_0x55ce15=void 0x0===_0x55ce15?0x1:_0x55ce15;(0x0,_0x1e920e['default'])(this,_0x5c82f0),this[_0x536f('0x45d')]=!0x1,this['color']=new THREE['Color']()[_0x536f('0x33d')](_0x20319a),this[_0x536f('0x771')]=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x5ce5d5),this[_0x536f('0x36b')]=_0xd6b1c0,this['fluctuate']=_0x10951f,this[_0x536f('0x76e')]=_0x557133,this[_0x536f('0x770')]=_0x1e63a8,this[_0x536f('0x201')]=_0x55ce15,this[_0x536f('0x1dc')]=_0x458480,this[_0x536f('0x772')]=null,this[_0x536f('0x420')]=null,this['count']=0x0,this['material']=null,this['texture']=_0x1cc634,this[_0x536f('0x773')]=_0x19c78d,this['alphaMaskPath']=null,this[_0x536f('0x774')]=[];}(0x0,_0x10951f(_0xd6b1c0(0x1))[_0x536f('0x6')])(_0x5c82f0,[{'key':_0x536f('0x775'),'value':function(_0x55ce15){var _0x458480=_0x55ce15[_0x536f('0x3f')][_0x536f('0x605')][_0x536f('0xd')];if(0x0<_0x458480){this[_0x536f('0x774')]['push'](_0x55ce15);for(var _0xd6b1c0=_0x55ce15[_0x536f('0xd0')][_0x536f('0x776')](_0x536f('0x3b')),_0x10951f=new Array(_0xd6b1c0[_0x536f('0xf9')]),_0x3cf568=0x0;_0x3cf568<_0x458480;_0x3cf568++){var _0x468c6e=_0x55ce15[_0x536f('0x3f')][_0x536f('0x605')][_0x3cf568]['faceRange'][0x0],_0x374afa=_0x55ce15[_0x536f('0x3f')][_0x536f('0x605')][_0x3cf568][_0x536f('0x777')][0x0],_0x456d13=_0x55ce15['datas_']['brothers'][_0x3cf568][_0x536f('0x778')][0x1];_0x10951f[_0x536f('0x52b')](0x1,_0x468c6e,_0x374afa),_0x10951f[_0x536f('0x52b')](0x0,_0x374afa,_0x456d13);}_0x55ce15[_0x536f('0xd0')][_0x536f('0x1f5')](_0x536f('0x779'),new THREE[(_0x536f('0x102'))](new Float32Array(_0x10951f),0x1));}}},{'key':_0x536f('0x77a'),'value':function(){return this[_0x536f('0xce')];}},{'key':'createMaterial','value':function(_0x55ce15,_0x458480){var _0xd6b1c0=this,_0x10951f=(this[_0x536f('0x1c7')][_0x536f('0x375')]=THREE[_0x536f('0x376')],this['texture'][_0x536f('0x434')]=THREE[_0x536f('0x376')],_0x55ce15?(this['material']=_0x55ce15,this[_0x536f('0xce')][_0x536f('0x21f')]=this[_0x536f('0x21f')],_0xd6b1c0[_0x536f('0xce')][_0x536f('0xcf')]&&(_0x458480?(_0xd6b1c0['material'][_0x536f('0xcf')][_0x536f('0xcd')](),_0xd6b1c0[_0x536f('0xce')]['map']=null,_0xd6b1c0[_0x536f('0xce')][_0x536f('0x77b')]=this[_0x536f('0x77b')]):(_0xd6b1c0[_0x536f('0xce')]['defines'][_0x536f('0x77c')]='',this[_0x536f('0x1c7')]=_0xd6b1c0[_0x536f('0xce')][_0x536f('0xcf')],_0xd6b1c0[_0x536f('0xce')][_0x536f('0x77b')]=this['originTexName'],_0xd6b1c0[_0x536f('0xce')]['map']=null))):this['material']=new THREE[(_0x536f('0x706'))]({'color':this[_0x536f('0x21f')]}),0x1!==this[_0x536f('0x201')]&&(this[_0x536f('0xce')][_0x536f('0x1d7')]=!0x0,this[_0x536f('0xce')][_0x536f('0x201')]=this['opacity']),null);return _0xd6b1c0[_0x536f('0x77d')]&&(_0xd6b1c0['material'][_0x536f('0x167')][_0x536f('0x77e')]='',_0xd6b1c0[_0x536f('0xce')]['transparent']=!0x0,(_0x10951f=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](_0xd6b1c0[_0x536f('0x77d')]))[_0x536f('0x77f')]=!0x1),_0xd6b1c0[_0x536f('0x773')]&&(_0xd6b1c0[_0x536f('0xce')]['defines']['IS_USE_SS_SKY']=''),this['material'][_0x536f('0x422')]=function(_0x55ce15){_0x55ce15[_0x536f('0x168')][_0x536f('0x429')]={'value':0x0},_0x55ce15[_0x536f('0x168')][_0x536f('0x780')]={'value':_0xd6b1c0['scale']||0x5},_0x55ce15[_0x536f('0x168')][_0x536f('0x76c')]={'value':_0xd6b1c0[_0x536f('0x76c')]},_0x55ce15['uniforms'][_0x536f('0x76e')]={'value':_0xd6b1c0[_0x536f('0x76e')]},_0x55ce15[_0x536f('0x168')][_0x536f('0x423')]={'value':_0xd6b1c0['texture']},_0x55ce15[_0x536f('0x168')][_0x536f('0x682')]={'value':_0x10951f},_0x55ce15[_0x536f('0x168')]['skyTex']={'value':_0xd6b1c0[_0x536f('0x773')]},_0x55ce15[_0x536f('0x168')][_0x536f('0x771')]={'value':_0xd6b1c0['lightColor']},_0x55ce15[_0x536f('0x168')]['flowDirect']={'value':THREE[_0x536f('0x19')][_0x536f('0x322')](_0xd6b1c0['flowAngle'])},_0x55ce15['vertexShader']=_0x55ce15[_0x536f('0x57')]['replace']('#include\x20<uv_pars_vertex>',_0x536f('0x781')),_0x55ce15[_0x536f('0x57')]=_0x55ce15[_0x536f('0x57')]['replace'](_0x536f('0x424'),_0x536f('0x782')),_0x55ce15[_0x536f('0x57')]=_0x55ce15[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x63a'),_0x536f('0x783')),_0x55ce15['fragmentShader']=_0x55ce15[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x784')),_0x55ce15['fragmentShader']=_0x55ce15[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x684'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texture2D(\x20alphaMaskTex,\x20vUV2\x20).a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x55ce15[_0x536f('0x58')]=_0x55ce15[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x785')),_0xd6b1c0[_0x536f('0x420')]=_0x55ce15;},this[_0x536f('0xce')];}},{'key':'updateParams','value':function(_0x55ce15){_0x55ce15=_0x55ce15['scale'];this[_0x536f('0x420')]&&_0x55ce15&&(this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x780')][_0x536f('0x10')]=_0x55ce15);}},{'key':_0x536f('0xcd'),'value':function(){this[_0x536f('0xce')]&&this[_0x536f('0xce')][_0x536f('0xcd')](),this['texture']&&this[_0x536f('0x1c7')][_0x536f('0xcd')](),this[_0x536f('0x1c7')]=null,this['material']=null,this[_0x536f('0x420')]=null;for(var _0x55ce15=0x0,_0x458480=this[_0x536f('0x774')][_0x536f('0xd')];_0x55ce15<_0x458480;_0x55ce15++)this[_0x536f('0x774')][_0x55ce15][_0x536f('0xce')][0x0]=null;this['targetMeshes']['length']=0x0;}},{'key':_0x536f('0x36a'),'value':function(){this['material']&&this['shader']&&(this[_0x536f('0xf9')]+=this['speed'],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x429')][_0x536f('0x10')]=this[_0x536f('0xf9')]);}}]),_0x458480[_0x536f('0x6')]=_0x5c82f0;},function(_0x587c82,_0x2c2274,_0x23548d){'use strict';Object[_0x536f('0x1')](_0x2c2274,'__esModule',{'value':!0x0});var _0x1cd83a=_0x2e72ae(_0x23548d(0x0)),_0x5ce70e=_0x2e72ae(_0x23548d(0x1)),_0x56d1fe=_0x23548d(0xf0);function _0x2e72ae(_0x587c82){return _0x587c82&&_0x587c82['__esModule']?_0x587c82:{'default':_0x587c82};}function _0x41ffa1(_0x587c82){var _0x2c2274=_0x587c82[_0x536f('0x2a6')],_0x23548d=_0x587c82[_0x536f('0x36b')],_0x23548d=void 0x0===_0x23548d?0x1:_0x23548d,_0x587c82=_0x587c82[_0x536f('0x786')];(0x0,_0x1cd83a[_0x536f('0x6')])(this,_0x41ffa1),this[_0x536f('0x772')]=null,this[_0x536f('0x2a6')]=_0x2c2274,this[_0x536f('0x36b')]=_0x23548d,this[_0x536f('0x786')]=_0x587c82;}(0x0,_0x5ce70e[_0x536f('0x6')])(_0x41ffa1,[{'key':_0x536f('0x787'),'value':function(_0x587c82,_0x2c2274,_0x23548d,_0x1cd83a,_0x5ce70e,_0x2e72ae,_0x41ffa1){_0x23548d=new THREE['TextureLoader']()['load'](_0x23548d);return _0x23548d[_0x536f('0x434')]=_0x23548d[_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x1cd83a&&((_0x1cd83a=new THREE['TextureLoader']()['load'](_0x1cd83a))[_0x536f('0x77f')]=!0x1,_0x1cd83a[_0x536f('0xfa')]=!0x0),this['water']=new _0x56d1fe[(_0x536f('0x788'))](_0x587c82,_0x2c2274,{'textureWidth':0x200,'textureHeight':0x200,'waterNormals':_0x23548d,'waterMask':null,'alpha':0x1,'sunDirection':this['light'][_0x536f('0x3b')][_0x536f('0x1b1')]()['normalize'](),'sunColor':_0x536f('0x4af'),'waterColor':this[_0x536f('0x786')]||_0x536f('0x789'),'distortionScale':3.7,'fog':!0x1,'isPlaneGeo':_0x5ce70e,'side':_0x2e72ae?THREE[_0x536f('0x345')]:THREE['FrontSide'],'clipViewValue':_0x41ffa1}),this['water'];}},{'key':'updateWater','value':function(_0x587c82){this['water']&&this[_0x536f('0x772')][_0x536f('0x420')]&&(_0x587c82[_0x536f('0x786')]&&this[_0x536f('0x772')][_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x786')][_0x536f('0x10')][_0x536f('0x33d')](_0x587c82[_0x536f('0x786')]),_0x587c82[_0x536f('0x36b')]&&(this[_0x536f('0x36b')]=_0x587c82[_0x536f('0x36b')]));}},{'key':_0x536f('0x36a'),'value':function(_0x587c82){this['water']&&this[_0x536f('0x772')][_0x536f('0x420')]&&(this[_0x536f('0x772')][_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x429')]['value']+=_0x587c82*this[_0x536f('0x36b')]);}}]),_0x2c2274[_0x536f('0x6')]=_0x41ffa1;},function(_0x34c7a,_0xd963d5,_0x1f017d){'use strict';Object[_0x536f('0x1')](_0xd963d5,_0x536f('0x4'),{'value':!0x0}),_0xd963d5[_0x536f('0x788')]=void 0x0;var _0x1f017d=_0x1f017d(0xa1),_0x190b72=_0x1f017d&&_0x1f017d[_0x536f('0x4')]?_0x1f017d:{'default':_0x1f017d};_0xd963d5['Water']=function(_0x34c7a,_0xd963d5,_0x1f017d){var _0x43baa6=this,_0x444cd7=(_0x43baa6['isViewBackFace']=!0x1,_0x43baa6[_0x536f('0x78a')]={},void 0x0!==(_0x1f017d=_0x1f017d||{})[_0x536f('0x78b')]?_0x1f017d['textureWidth']:0x200),_0x5a2941=void 0x0!==_0x1f017d[_0x536f('0x78c')]?_0x1f017d[_0x536f('0x78c')]:0x200,_0x252fea=void 0x0!==_0x1f017d['clipBias']?_0x1f017d[_0x536f('0x78d')]:0x0,_0x4579c5=(void 0x0!==_0x1f017d[_0x536f('0x78e')]&&_0x1f017d[_0x536f('0x78e')],void 0x0!==_0x1f017d[_0x536f('0x429')]&&_0x1f017d[_0x536f('0x429')],void 0x0!==_0x1f017d[_0x536f('0x78f')]?_0x1f017d[_0x536f('0x78f')]:null),_0x22bed9=void 0x0!==_0x1f017d[_0x536f('0x790')]?_0x1f017d[_0x536f('0x790')]:null,_0x127beb=void 0x0!==_0x1f017d[_0x536f('0x791')]?_0x1f017d[_0x536f('0x791')]:new THREE[(_0x536f('0x59'))](0.70707,0.70707,0x0),_0x1c492a=new THREE[(_0x536f('0x1b8'))](void 0x0!==_0x1f017d['sunColor']?_0x1f017d[_0x536f('0x792')]:0xffffff),_0x2aa43d=new THREE['Color'](void 0x0!==_0x1f017d['waterColor']?_0x1f017d[_0x536f('0x786')]:0x7f7f7f),_0x538d4b=void 0x0!==_0x1f017d[_0x536f('0x793')]?_0x1f017d[_0x536f('0x793')]:new THREE['Vector3'](0x0,0x0,0x0),_0x325ff7=void 0x0!==_0x1f017d['distortionScale']?_0x1f017d['distortionScale']:0x14,_0xa8cbec=void 0x0!==_0x1f017d[_0x536f('0x3ad')]?_0x1f017d[_0x536f('0x3ad')]:THREE[_0x536f('0x794')],_0x5cc7c8=(void 0x0!==_0x1f017d[_0x536f('0x1db')]&&_0x1f017d[_0x536f('0x1db')],void 0x0!==_0x1f017d[_0x536f('0x795')]&&_0x1f017d['isPlaneGeo']),_0x52f954=void 0x0!==_0x1f017d[_0x536f('0x796')]&&_0x1f017d[_0x536f('0x796')],_0x1f017d=void 0x0===_0x1f017d[_0x536f('0x797')]||_0x1f017d[_0x536f('0x797')],_0x18a7f6=new THREE[(_0x536f('0x798'))](),_0x8a8f=new THREE[(_0x536f('0x59'))](),_0xdf011e=new THREE['Vector3'](),_0x612979=new THREE['Vector3'](),_0x474ead=new THREE[(_0x536f('0x35e'))](),_0x592db3=new THREE[(_0x536f('0x59'))](0x0,0x0,-0x1),_0xb0c8ef=new THREE[(_0x536f('0x1b7'))](),_0x3baf77=new THREE[(_0x536f('0x59'))](),_0x1d86d1=new THREE[(_0x536f('0x59'))](),_0x289468=new THREE[(_0x536f('0x1b7'))](),_0x2401d3=new THREE['Matrix4'](),_0x346dd3=new THREE[(_0x536f('0x74d'))](),_0x2b4805={'minFilter':THREE['LinearFilter'],'magFilter':THREE['LinearFilter'],'format':THREE[_0x536f('0x48b')],'stencilBuffer':!0x0},_0x54540b=new THREE[(_0x536f('0x73b'))](_0x444cd7,_0x5a2941,_0x2b4805);THREE[_0x536f('0x19')]['isPowerOfTwo'](_0x444cd7)&&THREE[_0x536f('0x19')][_0x536f('0x799')](_0x5a2941)||(_0x54540b[_0x536f('0x1c7')][_0x536f('0x737')]=!0x1),_0x43baa6[_0x536f('0xce')]=_0xd963d5,_0x22bed9&&(_0x43baa6[_0x536f('0xce')][_0x536f('0x167')]['IS_USE_MASK_TEXTURE']=''),_0x52f954&&(_0x43baa6['material'][_0x536f('0x167')][_0x536f('0x79a')]=''),_0x43baa6[_0x536f('0xce')][_0x536f('0x1d7')]=!0x0,_0x43baa6[_0x536f('0xce')]['lights']=!0x0,_0x43baa6['material'][_0x536f('0x3ad')]=_0xa8cbec,_0x43baa6[_0x536f('0xce')][_0x536f('0x1db')]=!0x1,_0x1f017d&&(_0x43baa6['material'][_0x536f('0x680')]=((_0x2b4805=document[_0x536f('0x93')](_0x536f('0x411')))[_0x536f('0x366')]=0x2,_0x2b4805['height']=0x2,_0x2b4805[_0x536f('0x412')]('2d')[_0x536f('0x415')]=_0x536f('0x36e'),new THREE[(_0x536f('0x1cb'))](_0x2b4805)),_0x43baa6[_0x536f('0xce')][_0x536f('0x687')]=0x0),_0x43baa6[_0x536f('0xce')][_0x536f('0x422')]=function(_0x34c7a){_0x34c7a['uniforms'][_0x536f('0x79b')]={'value':_0x4579c5},_0x34c7a[_0x536f('0x168')][_0x536f('0x79c')]={'value':_0x54540b[_0x536f('0x1c7')]},_0x34c7a[_0x536f('0x168')]['alpha']={'value':0x1},_0x34c7a[_0x536f('0x168')][_0x536f('0x429')]={'value':0x0},_0x34c7a[_0x536f('0x168')][_0x536f('0xd7')]={'value':0x1},_0x34c7a[_0x536f('0x168')][_0x536f('0x79d')]={'value':_0x325ff7},_0x34c7a[_0x536f('0x168')][_0x536f('0x79e')]={'value':_0x2401d3},_0x34c7a[_0x536f('0x168')][_0x536f('0x792')]={'value':_0x1c492a},_0x34c7a['uniforms'][_0x536f('0x791')]={'value':_0x127beb},_0x34c7a[_0x536f('0x168')]['eye']={'value':_0x538d4b},_0x34c7a[_0x536f('0x168')][_0x536f('0x786')]={'value':_0x2aa43d},_0x34c7a['uniforms'][_0x536f('0x79f')]={'value':_0x22bed9},_0x34c7a[_0x536f('0x168')][_0x536f('0x796')]={'value':_0x52f954},_0x34c7a[_0x536f('0x168')][_0x536f('0x7a0')]={'value':!0x1},_0x34c7a['uniforms']['waterFog']={'value':new THREE[(_0x536f('0x1b5'))](0x32,0xc8)},_0x34c7a['uniforms']['fogNearColor']={'value':new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')]('#2074a3')},_0x34c7a['uniforms'][_0x536f('0x7a1')]={'value':new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')]('#032541')},_0x34c7a[_0x536f('0x57')]=_0x34c7a[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4b3'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20textureMatrix;\x0a\x09\x09\x09uniform\x20float\x20iTime;\x0a\x0a\x09\x09\x09varying\x20vec4\x20mirrorCoord;\x0a\x09\x09\x09varying\x20vec4\x20worldPosition;\x0a\x09\x09\x09varying\x20vec4\x20viewPosition;\x0a\x09\x09\x09varying\x20vec2\x20vUV;\x0a\x09\x09\x09varying\x20float\x20vFogDepth;\x0a\x0a\x09\x09\x09//\x20t:offset\x20s:repeat\x20c:center\x0a\x09\x09\x09mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x09\x09\x09\x09float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x09\x09\x09\x09float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x09\x09\x09\x09return\x20mat3(\x0a\x09\x09\x09\x09\x09sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x09\x09\x09\x09\x09-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x09\x09\x09\x09\x09tx,\x20ty,\x201\x0a\x09\x09\x09\x09);\x0a\x09\x09\x09}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x34c7a['vertexShader']=_0x34c7a[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x69e'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mirrorCoord\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09viewPosition\x20=\x20viewMatrix\x20*\x20mirrorCoord;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20mirrorCoord.xyzw;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mirrorCoord\x20=\x20textureMatrix\x20*\x20mirrorCoord;\x0a\x09\x09\x09vec4\x20mvPosition1\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vFogDepth\x20=\x20-mvPosition1.z;\x0a\x09\x09\x09//\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x201.0,\x201.0,\x201.5,\x200.0,\x200.0);\x0a\x09\x09\x09//\x20vUV\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x09\x09\x09vUV\x20=\x20uv;\x0a\x09\x09\x09#if\x20defined(\x20USE_AOMAP\x20)\x0a\x09\x09\x09\x09vUV\x20=\x20uv2;\x0a\x09\x09\x09#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x34c7a[_0x536f('0x58')]=_0x34c7a[_0x536f('0x58')][_0x536f('0x56')]('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20mirrorSampler;\x0a\x09\x09\x09uniform\x20float\x20alpha;\x0a\x09\x09\x09uniform\x20float\x20iTime;\x0a\x09\x09\x09uniform\x20float\x20size;\x0a\x09\x09\x09uniform\x20float\x20distortionScale;\x0a\x09\x09\x09uniform\x20bool\x20isShowWaterFog;\x0a\x09\x09\x09uniform\x20sampler2D\x20normalSampler;\x0a\x09\x09\x09uniform\x20vec3\x20sunColor;\x0a\x09\x09\x09uniform\x20vec3\x20sunDirection;\x0a\x09\x09\x09uniform\x20vec3\x20eye;\x0a\x09\x09\x09uniform\x20vec3\x20waterColor;\x0a\x09\x09\x09uniform\x20vec2\x20waterFog;\x0a\x09\x09\x09uniform\x20vec3\x20fogNearColor;\x0a\x09\x09\x09uniform\x20vec3\x20fogFarColor;\x0a\x09\x09\x09#ifdef\x20IS_USE_MASK_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09uniform\x20sampler2D\x20maskTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x09\x09\x09#ifdef\x20IS_USE_CLIP_VIEW\x0a\x09\x09\x09\x09uniform\x20float\x20clipViewValue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x09\x09\x09varying\x20vec4\x20mirrorCoord;\x0a\x09\x09\x09varying\x20vec4\x20viewPosition;\x0a\x09\x09\x09varying\x20vec4\x20worldPosition;\x0a\x09\x09\x09varying\x20vec2\x20vUV;\x0a\x09\x09\x09varying\x20float\x20vFogDepth;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20getNoise(\x20vec2\x20uv\x20)\x20{\x0a\x09\x09\x09\x09vec2\x20uv0\x20=\x20(\x20uv\x20/\x20103.0\x20)\x20+\x20vec2(iTime\x20/\x2017.0,\x20iTime\x20/\x2029.0);\x0a\x09\x09\x09\x09vec2\x20uv1\x20=\x20uv\x20/\x20107.0-vec2(\x20iTime\x20/\x20-19.0,\x20iTime\x20/\x2031.0\x20);\x0a\x09\x09\x09\x09vec2\x20uv2\x20=\x20uv\x20/\x20vec2(\x208907.0,\x209803.0\x20)\x20+\x20vec2(\x20iTime\x20/\x20101.0,\x20iTime\x20/\x2097.0\x20);\x0a\x09\x09\x09\x09vec2\x20uv3\x20=\x20uv\x20/\x20vec2(\x201091.0,\x201027.0\x20)\x20-\x20vec2(\x20iTime\x20/\x20109.0,\x20iTime\x20/\x20-113.0\x20);\x0a\x09\x09\x09\x09vec4\x20noise\x20=\x20texture2D(\x20normalSampler,\x20uv0\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2D(\x20normalSampler,\x20uv1\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2D(\x20normalSampler,\x20uv2\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2D(\x20normalSampler,\x20uv3\x20);\x0a\x09\x09\x09\x09return\x20noise\x20*\x200.5\x20-\x201.0;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20sunLight(\x20const\x20vec3\x20surfaceNormal,\x20const\x20vec3\x20eyeDirection,\x20float\x20shiny,\x20float\x20spec,\x20float\x20diffuse,\x20inout\x20vec3\x20diffuseColor,\x20inout\x20vec3\x20specularColor\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20reflection\x20=\x20normalize(\x20reflect(\x20-sunDirection,\x20surfaceNormal\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20direction\x20=\x20max(\x200.0,\x20dot(\x20eyeDirection,\x20reflection\x20)\x20);\x0a\x09\x09\x09\x09specularColor\x20+=\x20pow(\x20direction,\x20shiny\x20)\x20*\x20sunColor\x20*\x20spec;\x0a\x09\x09\x09\x09diffuseColor\x20+=\x20max(\x20dot(\x20sunDirection,\x20surfaceNormal\x20),\x200.0\x20)\x20*\x20sunColor\x20*\x20diffuse;\x0a\x09\x09\x09}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x34c7a[_0x536f('0x58')]=_0x34c7a[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x7a2'),_0x536f('0x7a3')),_0x34c7a[_0x536f('0x58')]=_0x34c7a[_0x536f('0x58')][_0x536f('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x536f('0x7a4')),_0x43baa6[_0x536f('0x420')]=_0x34c7a;},_0x43baa6[_0x536f('0x1e8')]=new THREE[(_0x536f('0x354'))](_0x34c7a,_0xd963d5),_0x43baa6[_0x536f('0x1e8')][_0x536f('0x7a5')]=!0x0,_0x43baa6[_0x536f('0x1e8')]['onBeforeRender']=function(_0x34c7a,_0xd963d5,_0x1f017d){if(_0xdf011e['setFromMatrixPosition'](_0x43baa6[_0x536f('0x1e8')]['matrixWorld']),_0x612979[_0x536f('0x698')](_0x1f017d[_0x536f('0x3bf')]),_0x474ead['extractRotation'](_0x43baa6[_0x536f('0x1e8')]['matrixWorld']),_0x5cc7c8?_0x8a8f[_0x536f('0x1b')](0x0,0x0,_0x43baa6['isViewBackFace']?-0x1:0x1):_0x8a8f[_0x536f('0x1b')](0x0,0x1,0x0),_0x8a8f['applyMatrix4'](_0x474ead),_0x3baf77[_0x536f('0x358')](_0xdf011e,_0x612979),!(0x0<_0x3baf77[_0x536f('0x7a6')](_0x8a8f))){_0x3baf77[_0x536f('0x7a7')](_0x8a8f)['negate'](),_0x3baf77['add'](_0xdf011e),_0x474ead[_0x536f('0x7a8')](_0x1f017d['matrixWorld']),_0x592db3['set'](0x0,0x0,-0x1),_0x592db3[_0x536f('0x3c7')](_0x474ead),_0x592db3[_0x536f('0x1c3')](_0x612979),_0x1d86d1[_0x536f('0x358')](_0xdf011e,_0x592db3),_0x1d86d1['reflect'](_0x8a8f)[_0x536f('0x7a9')](),_0x1d86d1[_0x536f('0x1c3')](_0xdf011e),_0x346dd3[_0x536f('0x3b')]['copy'](_0x3baf77),_0x346dd3['up'][_0x536f('0x1b')](0x0,0x1,0x0),_0x346dd3['up'][_0x536f('0x3c7')](_0x474ead),_0x346dd3['up'][_0x536f('0x7a7')](_0x8a8f),_0x346dd3[_0x536f('0x43d')](_0x1d86d1),_0x346dd3['far']=_0x1f017d['far'],_0x346dd3['updateMatrixWorld'](),_0x346dd3[_0x536f('0x7aa')][_0x536f('0x1bc')](_0x1f017d[_0x536f('0x7aa')]),_0x2401d3[_0x536f('0x1b')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),_0x2401d3[_0x536f('0x712')](_0x346dd3[_0x536f('0x7aa')]),_0x2401d3['multiply'](_0x346dd3[_0x536f('0x7ab')]),_0x18a7f6['setFromNormalAndCoplanarPoint'](_0x8a8f,_0xdf011e),_0x18a7f6[_0x536f('0x3c7')](_0x346dd3[_0x536f('0x7ab')]),_0xb0c8ef[_0x536f('0x1b')](_0x18a7f6[_0x536f('0x4ec')]['x'],_0x18a7f6[_0x536f('0x4ec')]['y'],_0x18a7f6['normal']['z'],_0x18a7f6['constant']);var _0x444cd7,_0x5a2941,_0x4579c5=_0x346dd3['projectionMatrix'],_0x4579c5=(_0x289468['x']=((0x0,_0x190b72[_0x536f('0x6')])(_0xb0c8ef['x'])+_0x4579c5[_0x536f('0xe8')][0x8])/_0x4579c5[_0x536f('0xe8')][0x0],_0x289468['y']=((0x0,_0x190b72[_0x536f('0x6')])(_0xb0c8ef['y'])+_0x4579c5[_0x536f('0xe8')][0x9])/_0x4579c5[_0x536f('0xe8')][0x5],_0x289468['z']=-0x1,_0x289468['w']=(0x1+_0x4579c5['elements'][0xa])/_0x4579c5[_0x536f('0xe8')][0xe],_0xb0c8ef[_0x536f('0x1c2')](0x2/_0xb0c8ef[_0x536f('0x7a6')](_0x289468)),_0x4579c5[_0x536f('0xe8')][0x2]=_0xb0c8ef['x'],_0x4579c5[_0x536f('0xe8')][0x6]=_0xb0c8ef['y'],_0x4579c5[_0x536f('0xe8')][0xa]=_0xb0c8ef['z']+0x1-_0x252fea,_0x4579c5['elements'][0xe]=_0xb0c8ef['w'],_0x538d4b[_0x536f('0x698')](_0x1f017d[_0x536f('0x3bf')]),_0x34c7a[_0x536f('0x72e')]());for(_0x444cd7 in _0x43baa6['mesh'][_0x536f('0x36c')]=!0x1,_0x43baa6[_0x536f('0x78a')])_0x43baa6[_0x536f('0x78a')][_0x444cd7]['visible']=!0x1;for(_0x5a2941 in _0x34c7a[_0x536f('0x732')](_0x54540b),_0x34c7a['clear'](),_0x34c7a[_0x536f('0x36a')](_0xd963d5,_0x346dd3),_0x43baa6[_0x536f('0x1e8')][_0x536f('0x36c')]=!0x0,_0x43baa6[_0x536f('0x78a')])_0x43baa6[_0x536f('0x78a')][_0x5a2941][_0x536f('0x36c')]=!0x0;_0x34c7a['setRenderTarget'](_0x4579c5);}};};},function(_0x4e4b62,_0x3c1694,_0x2ee038){'use strict';Object[_0x536f('0x1')](_0x3c1694,_0x536f('0x4'),{'value':!0x0});var _0x201bf5=_0x3e0b36(_0x2ee038(0x0));function _0x3e0b36(_0x4e4b62){return _0x4e4b62&&_0x4e4b62['__esModule']?_0x4e4b62:{'default':_0x4e4b62};}function _0x32f73b(){(0x0,_0x201bf5[_0x536f('0x6')])(this,_0x32f73b),this[_0x536f('0x7ac')]=null;}(0x0,_0x3e0b36(_0x2ee038(0x1))[_0x536f('0x6')])(_0x32f73b,[{'key':_0x536f('0x7ad'),'value':function(){for(var _0x4e4b62=new Float32Array(0x7530),_0x3c1694=0x0,_0x2ee038=0x0;_0x2ee038<0x64;_0x2ee038++)for(var _0x201bf5=0x0;_0x201bf5<0x64;_0x201bf5++)_0x4e4b62[_0x3c1694]=0xa*_0x2ee038-0x1f4,_0x4e4b62[_0x3c1694+0x1]=0x0,_0x4e4b62[_0x3c1694+0x2]=0xa*_0x201bf5-0x1f4,_0x3c1694+=0x3;var _0x3e0b36=new THREE[(_0x536f('0x1e7'))](),_0x32f73b=(_0x3e0b36[_0x536f('0x1f5')](_0x536f('0x3b'),new THREE[(_0x536f('0x102'))](_0x4e4b62,0x3)),new THREE[(_0x536f('0x7ae'))]({'color':0xffffff,'size':1.2}));return _0x32f73b['sizeAttenuation']=!0x1,this['particles']=new THREE[(_0x536f('0xb2'))](_0x3e0b36,_0x32f73b),this[_0x536f('0x7ac')];}}]),_0x3c1694['default']=_0x32f73b;},function(_0x4dc4ef,_0x55b314,_0xb30ec7){'use strict';Object[_0x536f('0x1')](_0x55b314,_0x536f('0x4'),{'value':!0x0});var _0x365fff=_0x1f0889(_0xb30ec7(0x0));function _0x1f0889(_0x4dc4ef){return _0x4dc4ef&&_0x4dc4ef[_0x536f('0x4')]?_0x4dc4ef:{'default':_0x4dc4ef};}function _0x5dd7b4(_0x4dc4ef){var _0x55b314=_0x4dc4ef['speed'],_0x55b314=void 0x0===_0x55b314?0.5:_0x55b314,_0x4dc4ef=_0x4dc4ef[_0x536f('0x49e')],_0x4dc4ef=void 0x0===_0x4dc4ef?[0.078125,0.9375]:_0x4dc4ef;(0x0,_0x365fff['default'])(this,_0x5dd7b4),this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0xce')]=null,this['shader']=null,this[_0x536f('0x49e')]=_0x4dc4ef,this['speed']=_0x55b314,this[_0x536f('0xf9')]=0x0;}(0x0,_0x1f0889(_0xb30ec7(0x1))[_0x536f('0x6')])(_0x5dd7b4,[{'key':_0x536f('0x5'),'value':function(_0x4dc4ef){_0x4dc4ef=_0x4dc4ef[_0x536f('0x21d')],_0x4dc4ef=void 0x0===_0x4dc4ef?0x64:_0x4dc4ef,_0x4dc4ef=new THREE[(_0x536f('0x428'))](_0x4dc4ef,_0x4dc4ef),_0x4dc4ef=new THREE[(_0x536f('0x354'))](_0x4dc4ef,this[_0x536f('0xce')]);return _0x4dc4ef[_0x536f('0x1f0')]['x']=0.5*-Math['PI'],this[_0x536f('0x356')][_0x536f('0x1c3')](_0x4dc4ef),this['object3d'];}},{'key':_0x536f('0x33a'),'value':function(_0x4dc4ef){var _0x55b314=_0x4dc4ef[_0x536f('0x1c7')],_0xb30ec7=_0x4dc4ef[_0x536f('0x2ee')],_0x365fff=void 0x0===_0xb30ec7?{'x':0x0,'y':0x0}:_0xb30ec7,_0xb30ec7=_0x4dc4ef[_0x536f('0x36d')],_0x1f0889=void 0x0===_0xb30ec7?_0x536f('0x36e'):_0xb30ec7,_0x4dc4ef=this['createCircleGradient'](),_0x5dd7b4=new THREE['CanvasTexture'](_0x4dc4ef),_0x50a168=(_0x55b314[_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x55b314['wrapS']=THREE[_0x536f('0x376')],this[_0x536f('0xce')]=new THREE[(_0x536f('0x706'))]({'transparent':!0x0,'depthWrite':!0x1}),this);return this[_0x536f('0xce')][_0x536f('0x422')]=function(_0x4dc4ef){_0x4dc4ef[_0x536f('0x168')]['iTime']={'value':0x0},_0x4dc4ef[_0x536f('0x168')]['texture1']={'value':_0x55b314},_0x4dc4ef[_0x536f('0x168')][_0x536f('0x443')]={'value':_0x5dd7b4},_0x4dc4ef[_0x536f('0x168')][_0x536f('0x719')]={'value':new THREE[(_0x536f('0x1b5'))](_0x365fff['x'],_0x365fff['y'])},_0x4dc4ef['uniforms'][_0x536f('0x21f')]={'value':new THREE[(_0x536f('0x1b8'))](_0x1f0889)},_0x4dc4ef[_0x536f('0x57')]=_0x4dc4ef['vertexShader'][_0x536f('0x56')](_0x536f('0x4b3'),_0x536f('0x7af')),_0x4dc4ef['vertexShader']=_0x4dc4ef[_0x536f('0x57')]['replace'](_0x536f('0x424'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4dc4ef[_0x536f('0x58')]=_0x4dc4ef['fragmentShader'][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x7b0')),_0x4dc4ef['fragmentShader']=_0x4dc4ef['fragmentShader'][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x7b1')),_0x50a168[_0x536f('0x420')]=_0x4dc4ef;},this['material'];}},{'key':_0x536f('0x6d4'),'value':function(){var _0x4dc4ef=document[_0x536f('0x93')]('canvas'),_0x55b314=(_0x4dc4ef[_0x536f('0x366')]=0x100,_0x4dc4ef[_0x536f('0x339')]=0x100,_0x4dc4ef['getContext']('2d')),_0xb30ec7=_0x55b314['createRadialGradient'](0x80,0x80,0x80*this[_0x536f('0x49e')][0x0],0x80,0x80,0x80*this['transFactor'][0x1]);return _0xb30ec7[_0x536f('0x413')](0x0,'rgba(255,\x20255,\x20255,\x201)'),_0xb30ec7['addColorStop'](0x1,_0x536f('0x414')),_0x55b314['fillStyle']=_0xb30ec7,_0x55b314[_0x536f('0x718')](0x0,0x0,0x100,0x100),_0x4dc4ef;}},{'key':_0x536f('0xcd'),'value':function(){this[_0x536f('0xce')]&&this['material'][_0x536f('0xcd')](),this['shader'],this[_0x536f('0x420')]=null,this[_0x536f('0x356')]=null;}},{'key':'render','value':function(_0x4dc4ef){this[_0x536f('0x420')]&&(this[_0x536f('0xf9')]+=_0x4dc4ef*this['speed'],this['shader'][_0x536f('0x168')][_0x536f('0x429')][_0x536f('0x10')]=this[_0x536f('0xf9')]);}}]),_0x55b314[_0x536f('0x6')]=_0x5dd7b4;},function(_0x23eca5,_0xa2472,_0x2b01bb){'use strict';Object['defineProperty'](_0xa2472,_0x536f('0x4'),{'value':!0x0});var _0x58a102=_0x3ecedf(_0x2b01bb(0x0));function _0x3ecedf(_0x23eca5){return _0x23eca5&&_0x23eca5[_0x536f('0x4')]?_0x23eca5:{'default':_0x23eca5};}function _0x3b32fa(_0x23eca5){var _0xa2472=_0x23eca5[_0x536f('0x36d')],_0xa2472=void 0x0===_0xa2472?_0x536f('0x36e'):_0xa2472,_0x2b01bb=_0x23eca5[_0x536f('0x21d')],_0x2b01bb=void 0x0===_0x2b01bb?0x3e8:_0x2b01bb,_0x3ecedf=_0x23eca5['repeat'],_0x3ecedf=void 0x0===_0x3ecedf?{'x':0xa,'y':0xa}:_0x3ecedf,_0x193a2f=_0x23eca5['transFactor'],_0x193a2f=void 0x0===_0x193a2f?[0.078125,0.9375]:_0x193a2f,_0xd164d2=_0x23eca5[_0x536f('0x56d')],_0xd164d2=void 0x0===_0xd164d2?_0x536f('0x7b2'):_0xd164d2,_0x4f30b0=_0x23eca5[_0x536f('0x7b3')],_0x4f30b0=void 0x0===_0x4f30b0||_0x4f30b0,_0x86af14=_0x23eca5['scanLightColorStr'],_0x86af14=void 0x0===_0x86af14?_0x536f('0x36e'):_0x86af14,_0x566d1a=_0x23eca5[_0x536f('0x36b')],_0x566d1a=void 0x0===_0x566d1a?0.5:_0x566d1a,_0x23eca5=_0x23eca5['isAutoRepeat'],_0x23eca5=void 0x0!==_0x23eca5&&_0x23eca5;(0x0,_0x58a102[_0x536f('0x6')])(this,_0x3b32fa),this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x21f')]=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0xa2472),this[_0x536f('0x21d')]=_0x2b01bb,this[_0x536f('0x719')]=_0x3ecedf,this[_0x536f('0x49e')]=_0x193a2f,this[_0x536f('0x56d')]=_0xd164d2,this[_0x536f('0x420')]=null,this[_0x536f('0x36b')]=_0x566d1a,this[_0x536f('0xf9')]=0x0,this[_0x536f('0x7b3')]=_0x4f30b0,this['scanLightColor']=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x86af14),this[_0x536f('0x56e')]=_0x23eca5;}(0x0,_0x3ecedf(_0x2b01bb(0x1))[_0x536f('0x6')])(_0x3b32fa,[{'key':_0x536f('0x5'),'value':function(_0x23eca5){var _0xa2472=_0x23eca5[_0x536f('0x1c7')],_0x23eca5=_0x23eca5[_0x536f('0x7b4')],_0xa2472=this[_0x536f('0x7b5')](_0xa2472,_0x23eca5),_0x23eca5=_0xa2472[_0x536f('0xd0')],_0xa2472=_0xa2472[_0x536f('0xce')],_0x23eca5=new THREE['Mesh'](_0x23eca5,_0xa2472);return _0x23eca5[_0x536f('0x1f0')]['x']=0.5*-Math['PI'],this[_0x536f('0x356')]['add'](_0x23eca5),_0x23eca5;}},{'key':'createGround','value':function(_0xa2472,_0x2b01bb){var _0x23eca5=this['createCircleGradient'](),_0x3ecedf=new THREE[(_0x536f('0x6ed'))](_0x23eca5),_0x23eca5=(this[_0x536f('0x21d')],this['color'],new THREE[(_0x536f('0x428'))](0x2*this[_0x536f('0x21d')],0x2*this[_0x536f('0x21d')])),_0x3fee78=new THREE[(_0x536f('0x421'))]({'color':this[_0x536f('0x21f')],'transparent':!0x0}),_0x2f835c=((_0x3fee78=new((_0x536f('0x7b6'))===this[(_0x536f('0x56d'))]?THREE['MeshLambertMaterial']:(_0x536f('0x7b7'))===this[(_0x536f('0x56d'))]?THREE['MeshStandardMaterial']:THREE[(_0x536f('0x421'))])({'color':this[_0x536f('0x21f')],'transparent':!0x0}))[_0x536f('0x92')]=_0x536f('0x7b8'),this);return _0x3fee78['onBeforeCompile']=function(_0x23eca5){_0x23eca5[_0x536f('0x168')]['iTime']={'value':0x0},_0x23eca5[_0x536f('0x168')][_0x536f('0x423')]={'value':_0xa2472},_0x23eca5[_0x536f('0x168')]['scanTexture']={'value':_0x2b01bb},_0x23eca5[_0x536f('0x168')]['scanLightColor']={'value':_0x2f835c['scanLightColor']},_0x23eca5[_0x536f('0x168')]['alphaTex']={'value':_0x3ecedf},_0x23eca5[_0x536f('0x168')][_0x536f('0x5aa')]={'value':_0x2f835c[_0x536f('0x56e')]?Number(esmap[_0x536f('0x21')][_0x536f('0x22')][_0x536f('0x5bb')]):0x1},_0x23eca5[_0x536f('0x168')]['texRepeat']={'value':new THREE[(_0x536f('0x1b5'))](_0x2f835c['texRepeat']['x'],_0x2f835c['texRepeat']['y'])},_0x23eca5[_0x536f('0x57')]=_0x23eca5[_0x536f('0x57')][_0x536f('0x56')]('#include\x20<uv_pars_vertex>',_0x536f('0x7b9')),_0x23eca5[_0x536f('0x57')]=_0x23eca5[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv\x20*\x20autoRepeat,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x23eca5[_0x536f('0x58')]=_0x23eca5[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x7ba')+(_0xa2472?_0x536f('0x63c'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2f835c[_0x536f('0x7b3')]?_0x536f('0x7bb'):'')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20scanLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20scanTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20centerSpreadLine(vec3\x20resultColor,\x20float\x20time,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(uv,\x20vec2(0.5),\x20time,\x20.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec3(scanLightColor),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20waveSpread(vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-uv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-uv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x23eca5[_0x536f('0x58')]=_0x23eca5[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x427'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SCAN_LIGHT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20scanTex\x20=\x20texture2D(scanTexture,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20scanTex.rgb\x20=\x20centerSpreadLine(scanTex.rgb,\x20iTime,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scanTex.rgb\x20*=\x20(waveSpread(nUV)\x20+\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20scanTex,\x20scanTex.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20alphaColor.g\x20*\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2f835c[_0x536f('0x420')]=_0x23eca5;},{'geometry':_0x23eca5,'material':_0x3fee78};}},{'key':_0x536f('0x6d4'),'value':function(){var _0x23eca5=document[_0x536f('0x93')](_0x536f('0x411')),_0xa2472=(_0x23eca5['width']=0x100,_0x23eca5[_0x536f('0x339')]=0x100,_0x23eca5[_0x536f('0x412')]('2d')),_0x2b01bb=_0xa2472[_0x536f('0x7bc')](0x80,0x80,0x80*this[_0x536f('0x49e')][0x0],0x80,0x80,0x80*this[_0x536f('0x49e')][0x1]);return _0x2b01bb['addColorStop'](0x0,'rgba(255,\x20255,\x20255,\x201)'),_0x2b01bb[_0x536f('0x413')](0x1,_0x536f('0x414')),_0xa2472['fillStyle']=_0x2b01bb,_0xa2472[_0x536f('0x718')](0x0,0x0,0x100,0x100),_0x23eca5;}},{'key':_0x536f('0xcd'),'value':function(){this[_0x536f('0xce')]&&this[_0x536f('0xce')][_0x536f('0xcd')](),this[_0x536f('0x420')],this['shader']=null,this[_0x536f('0x356')]=null;}},{'key':_0x536f('0x36a'),'value':function(_0x23eca5){this['shader']&&(this[_0x536f('0xf9')]+=_0x23eca5*this[_0x536f('0x36b')],this['shader'][_0x536f('0x168')][_0x536f('0x429')]['value']=this[_0x536f('0xf9')]);}}]),_0xa2472[_0x536f('0x6')]=_0x3b32fa;},function(_0x343601,_0x423357,_0x2622a4){'use strict';Object[_0x536f('0x1')](_0x423357,'__esModule',{'value':!0x0});var _0x307486=_0x281859(_0x2622a4(0x0));function _0x281859(_0x343601){return _0x343601&&_0x343601[_0x536f('0x4')]?_0x343601:{'default':_0x343601};}function _0x5b7783(){(0x0,_0x307486[_0x536f('0x6')])(this,_0x5b7783),this['object3d']=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x7bd')]=null,this['texture']=null,this[_0x536f('0xce')]=null;}(0x0,_0x281859(_0x2622a4(0x1))[_0x536f('0x6')])(_0x5b7783,[{'key':_0x536f('0x5a3'),'value':function(){this[_0x536f('0x7bd')]&&this[_0x536f('0x7bd')][_0x536f('0x592')]();}},{'key':_0x536f('0x5a4'),'value':function(){this[_0x536f('0x7bd')]&&(this[_0x536f('0x7bd')]['muted']=!0x1);}},{'key':_0x536f('0x564'),'value':function(_0x343601,_0x423357){var _0x2622a4=document[_0x536f('0x93')](_0x536f('0x7be')),_0x343601=(_0x2622a4[_0x536f('0x6a')][_0x536f('0x6b')]='none',_0x2622a4[_0x536f('0x7bf')]('id',_0x343601),_0x2622a4['loop']=!0x0,_0x2622a4[_0x536f('0x7c0')]=!0x0,_0x2622a4[_0x536f('0x7c1')]=!0x0,_0x2622a4[_0x536f('0x7c2')]=_0x536f('0x7c3'),document[_0x536f('0x93')](_0x536f('0x7c4')));return _0x343601['setAttribute'](_0x536f('0x76'),_0x536f('0x7c5')),_0x343601[_0x536f('0x7bf')](_0x536f('0x6e'),_0x423357),_0x2622a4['currentTime']=0x1,_0x2622a4[_0x536f('0x6d')](_0x343601),this[_0x536f('0x7bd')]=_0x2622a4,this['videoElement'];}},{'key':_0x536f('0x33a'),'value':function(){if(this[_0x536f('0x7bd')])return this[_0x536f('0x1c7')]=new THREE['VideoTexture'](this[_0x536f('0x7bd')]),this['material']=new THREE[(_0x536f('0x421'))]({'map':this[_0x536f('0x1c7')],'side':THREE[_0x536f('0x345')]}),this[_0x536f('0xce')];}},{'key':'create','value':function(_0x343601){var _0x423357=_0x343601[_0x536f('0x366')],_0x343601=_0x343601['height'],_0x423357=new THREE['PlaneBufferGeometry'](_0x423357,_0x343601),_0x343601=new THREE['Mesh'](_0x423357,this[_0x536f('0xce')]);return this['object3d'][_0x536f('0x1c3')](_0x343601),this['object3d'];}}]),_0x423357[_0x536f('0x6')]=_0x5b7783;},function(_0x4afd11,_0x5e46e5,_0x5cf8dc){'use strict';Object[_0x536f('0x1')](_0x5e46e5,_0x536f('0x4'),{'value':!0x0});var _0x41d6b1=_0x2d6721(_0x5cf8dc(0x0));function _0x2d6721(_0x4afd11){return _0x4afd11&&_0x4afd11[_0x536f('0x4')]?_0x4afd11:{'default':_0x4afd11};}function _0x506aa5(_0x4afd11){var _0x5e46e5=_0x4afd11[_0x536f('0xce')],_0x5cf8dc=_0x4afd11['num'],_0x2d6721=_0x4afd11[_0x536f('0x342')],_0x501ba8=_0x4afd11[_0x536f('0x7c6')],_0x461835=_0x4afd11[_0x536f('0xd0')],_0x1de5e9=_0x4afd11[_0x536f('0x759')],_0x4f6b19=_0x4afd11['rot'],_0x4afd11=_0x4afd11[_0x536f('0x1dc')];(0x0,_0x41d6b1[_0x536f('0x6')])(this,_0x506aa5),this['num']=_0x5cf8dc||0x3e8,this[_0x536f('0x342')]=_0x2d6721,this[_0x536f('0x7c6')]=_0x501ba8,this[_0x536f('0x7c7')]=!0x1,this[_0x536f('0x7c8')]=!0x1,this['material']=_0x5e46e5||new THREE[(_0x536f('0x421'))]({'color':0xff00}),this[_0x536f('0x7c7')]=void 0x0!==this['material'][_0x536f('0x7c9')]&&this['material']['morphTargets'],this[_0x536f('0x34d')]({'geometry':_0x461835,'pos':_0x1de5e9,'rot':_0x4f6b19,'scale':_0x4afd11}),this['setMaterial'](),this[_0x536f('0x7c6')]&&this['setShadow'](),this['mesh']=new THREE['Mesh'](this[_0x536f('0xd0')],this['material']),this[_0x536f('0x1e8')]['castShadow']=!0x0,this[_0x536f('0x1e8')][_0x536f('0x7a5')]=!0x0,this[_0x536f('0x1e8')][_0x536f('0x456')]=!0x1,this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x356')][_0x536f('0x1c3')](this['mesh']),this[_0x536f('0x1e8')][_0x536f('0x7ca')]=this['depthMaterial'];}(0x0,_0x2d6721(_0x5cf8dc(0x1))['default'])(_0x506aa5,[{'key':_0x536f('0x34d'),'value':function(_0x4afd11){var _0x5e46e5,_0x5cf8dc;for(_0x5cf8dc in this['clear'](),_0x5e46e5=void 0x0!==_0x4afd11[_0x536f('0x1e8')]?_0x4afd11[_0x536f('0x1e8')]['geometry']:void 0x0!==_0x4afd11['geometry']?_0x4afd11['geometry']:new THREE[(_0x536f('0x488'))](0x1,0x1,0x1),this['geometry']=new THREE[(_0x536f('0x7cb'))](),this['geometry'][_0x536f('0x7cc')]=this[_0x536f('0x7cd')],_0x5e46e5[_0x536f('0x169')])this['geometry'][_0x536f('0x1f5')](_0x5cf8dc,_0x5e46e5[_0x536f('0x776')](_0x5cf8dc));if(this['geometry'][_0x536f('0x7ce')](_0x5e46e5['getIndex']()),this[_0x536f('0x7c7')]){var _0x2d6721=_0x5e46e5[_0x536f('0x7cf')];for(_0x5cf8dc in _0x2d6721){for(var _0x36a79a=[],_0xee487d=_0x2d6721[_0x5cf8dc],_0x2c4c6f=0x0,_0x1632b2=_0xee487d['length'];_0x2c4c6f<_0x1632b2;_0x2c4c6f++)_0x36a79a[_0x536f('0x82')](_0xee487d[_0x2c4c6f][_0x536f('0x1b1')]());this[_0x536f('0xd0')][_0x536f('0x7cf')][_0x5cf8dc]=_0x36a79a;}this['geometry'][_0x536f('0x7c9')]=_0x5e46e5[_0x536f('0x7c9')];}this[_0x536f('0x7d0')]=new Float32Array(0x3*this['num']),this[_0x536f('0x7d1')]=new Float32Array(0x3*this[_0x536f('0x7cd')]),this['orientations']=new Float32Array(0x4*this['num']);for(var _0x41d6b1=new THREE['Quaternion'](),_0x506aa5=new THREE[(_0x536f('0x7d2'))](),_0x206eb6=THREE[_0x536f('0x19')]['DEG2RAD'],_0x2c4c6f=0x0;_0x2c4c6f<this[_0x536f('0x7cd')];_0x2c4c6f++){var _0x3c28d4=0x3*_0x2c4c6f,_0x39aa42=0x4*_0x2c4c6f;_0x4afd11['pos']?(this['offsets'][_0x3c28d4]=_0x4afd11[_0x536f('0x759')][_0x3c28d4],this[_0x536f('0x7d0')][0x1+_0x3c28d4]=_0x4afd11[_0x536f('0x759')][0x1+_0x3c28d4],this[_0x536f('0x7d0')][0x2+_0x3c28d4]=_0x4afd11['pos'][0x2+_0x3c28d4]):(this['offsets'][_0x3c28d4]=Math[_0x536f('0x7d3')](-0xc8,0xc8),this['offsets'][0x1+_0x3c28d4]=Math[_0x536f('0x7d3')](-0x14,0x14),this['offsets'][0x2+_0x3c28d4]=Math[_0x536f('0x7d3')](-0xc8,0xc8)),_0x4afd11['rot']?_0x41d6b1[_0x536f('0x7d4')](_0x506aa5['set'](_0x4afd11[_0x536f('0x7d5')][_0x3c28d4]*_0x206eb6,_0x4afd11[_0x536f('0x7d5')][0x1+_0x3c28d4]*_0x206eb6,_0x4afd11['rot'][0x2+_0x3c28d4]*_0x206eb6)):_0x41d6b1['set'](0x0,0x0,0x0,0x1),_0x41d6b1['normalize'](),this[_0x536f('0x7d6')][_0x39aa42]=_0x41d6b1['x'],this['orientations'][0x1+_0x39aa42]=_0x41d6b1['y'],this[_0x536f('0x7d6')][0x2+_0x39aa42]=_0x41d6b1['z'],this[_0x536f('0x7d6')][0x3+_0x39aa42]=_0x41d6b1['w'],_0x4afd11[_0x536f('0x1dc')]?(this['scales'][_0x3c28d4]=_0x4afd11[_0x536f('0x1dc')][_0x3c28d4],this[_0x536f('0x7d1')][0x1+_0x3c28d4]=_0x4afd11[_0x536f('0x1dc')][0x1+_0x3c28d4],this[_0x536f('0x7d1')][0x2+_0x3c28d4]=_0x4afd11[_0x536f('0x1dc')][0x2+_0x3c28d4]):(this[_0x536f('0x7d1')][_0x3c28d4]=0x1,this[_0x536f('0x7d1')][0x1+_0x3c28d4]=0x1,this[_0x536f('0x7d1')][0x2+_0x3c28d4]=0x1);}this[_0x536f('0x7d7')]=new THREE['InstancedBufferAttribute'](this[_0x536f('0x7d0')],0x3)[_0x536f('0x66d')](!0x0),this[_0x536f('0x7d8')]=new THREE[(_0x536f('0x7d9'))](this['scales'],0x3),this[_0x536f('0x7da')]=new THREE[(_0x536f('0x7d9'))](this[_0x536f('0x7d6')],0x4),this[_0x536f('0xd0')]['addAttribute'](_0x536f('0xf8'),this['offsetAttribute']),this[_0x536f('0xd0')][_0x536f('0x1f5')](_0x536f('0x7d1'),this[_0x536f('0x7d8')]),this[_0x536f('0xd0')][_0x536f('0x1f5')]('orientation',this[_0x536f('0x7da')]);}},{'key':_0x536f('0x7db'),'value':function(){var _0x5e46e5=[][_0x536f('0x107')]('\x0a'),_0x5cf8dc=(this[_0x536f('0x7dc')]=[_0x536f('0x7dd'),_0x536f('0x7de'),'attribute\x20vec3\x20offset;','attribute\x20vec3\x20scales;',_0x536f('0x7df'),_0x536f('0x7e0'),_0x536f('0x7e1'),_0x536f('0x7e2'),_0x536f('0x7e3'),_0x536f('0x7e4'),_0x536f('0x7e5'),_0x536f('0x7e6'),_0x536f('0x7e7'),_0x536f('0x7e8'),_0x536f('0x7e9'),_0x536f('0x7ea'),_0x536f('0x7eb'),_0x536f('0x7ec'),_0x536f('0x7ed'),'B[1][2]\x20=\x20(\x20yz\x20+\x20wx\x20)\x20*\x20sy;',_0x536f('0x7ee'),_0x536f('0x7ef'),'B[2][1]\x20=\x20(\x20yz\x20-\x20wx\x20)\x20*\x20sz;',_0x536f('0x7f0'),_0x536f('0x7f1'),_0x536f('0x7f2'),'B[3][1]\x20=\x20position.y;',_0x536f('0x7f3'),_0x536f('0x7f4'),'return\x20B;','}',_0x536f('0x7f5'),'return\x20transpose(\x20inverse(\x20mat3(\x20A\x20)\x20)\x20);','}'][_0x536f('0x107')]('\x0a')+'\x0a',this[_0x536f('0x7f6')]=[_0x536f('0x7dd'),_0x536f('0x7de'),_0x536f('0x7f7'),_0x536f('0x7f8'),_0x536f('0x7df'),_0x536f('0x7e0'),'float\x20x\x20=\x20quaternion.x,\x20y\x20=\x20quaternion.y,\x20z\x20=\x20quaternion.z,\x20w\x20=\x20quaternion.w;',_0x536f('0x7e2'),_0x536f('0x7e3'),_0x536f('0x7e4'),'float\x20wx\x20=\x20w\x20*\x20x2,\x20wy\x20=\x20w\x20*\x20y2,\x20wz\x20=\x20w\x20*\x20z2;',_0x536f('0x7e6'),_0x536f('0x7e7'),_0x536f('0x7e8'),_0x536f('0x7e9'),_0x536f('0x7ea'),_0x536f('0x7eb'),_0x536f('0x7ec'),'B[1][1]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20zz\x20)\x20)\x20*\x20sy;',_0x536f('0x7f9'),_0x536f('0x7ee'),'B[2][0]\x20=\x20(\x20xz\x20+\x20wy\x20)\x20*\x20sz;',_0x536f('0x7fa'),'B[2][2]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20yy\x20)\x20)\x20*\x20sz;',_0x536f('0x7f1'),_0x536f('0x7f2'),_0x536f('0x7fb'),_0x536f('0x7f3'),_0x536f('0x7f4'),_0x536f('0x7fc'),'}',_0x536f('0x7fd'),_0x536f('0x7fe'),_0x536f('0x7ff'),_0x536f('0x800'),_0x536f('0x801'),_0x536f('0x802'),_0x536f('0x803'),_0x536f('0x804'),'float\x20detInv\x20=\x201.0\x20/\x20det;',_0x536f('0x805'),_0x536f('0x806'),_0x536f('0x807'),'B[0][2]\x20=\x20(\x20n32\x20*\x20n21\x20-\x20n31\x20*\x20n22\x20)\x20*\x20detInv;',_0x536f('0x808'),'B[1][1]\x20=\x20(\x20n33\x20*\x20n11\x20-\x20n31\x20*\x20n13\x20)\x20*\x20detInv;',_0x536f('0x809'),_0x536f('0x80a'),_0x536f('0x80b'),_0x536f('0x80c'),_0x536f('0x7fc'),'}',_0x536f('0x80d'),_0x536f('0x805'),_0x536f('0x80e'),'B[0][1]\x20=\x20A[1][0];',_0x536f('0x80f'),_0x536f('0x810'),_0x536f('0x811'),_0x536f('0x812'),'B[2][0]\x20=\x20A[0][2];',_0x536f('0x813'),_0x536f('0x814'),'return\x20B;','}',_0x536f('0x7f5'),_0x536f('0x815'),'}'][_0x536f('0x107')]('\x0a')+'\x0a',this[_0x536f('0x816')]=[_0x536f('0x817'),_0x536f('0x818')][_0x536f('0x107')]('\x0a')+'\x0a',this[_0x536f('0x819')]=[_0x536f('0x81a'),_0x536f('0x81b')][_0x536f('0x107')]('\x0a')+'\x0a',this[_0x536f('0x81c')]=['#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)',_0x536f('0x81d'),_0x536f('0x115')][_0x536f('0x107')]('\x0a')+'\x0a',this['normalVertex']=[_0x536f('0x81e'),'vec3\x20transformedNormal\x20=\x20normalMtx\x20*\x20objectNormal;',_0x536f('0x81f'),_0x536f('0x820'),_0x536f('0x115'),_0x536f('0x821'),_0x536f('0x822'),_0x536f('0x81f'),_0x536f('0x823'),_0x536f('0x115'),_0x536f('0x115')]['join']('\x0a')+'\x0a',this[_0x536f('0x824')]=[_0x536f('0x825'),_0x536f('0x826'),_0x536f('0x827'),'transformed\x20+=\x20(\x20morphTarget2\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x202\x20];','transformed\x20+=\x20(\x20morphTarget3\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x203\x20];',_0x536f('0x828'),_0x536f('0x829'),'transformed\x20+=\x20(\x20morphTarget5\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x205\x20];',_0x536f('0x82a'),_0x536f('0x82b'),_0x536f('0x115'),'#endif'][_0x536f('0x107')]('\x0a')+'\x0a',this);this[_0x536f('0xce')][_0x536f('0x422')]=function(_0x4afd11){_0x4afd11[_0x536f('0x168')]['cmtx']={'value':_0x5cf8dc[_0x536f('0x342')][_0x536f('0x7ab')]},_0x4afd11[_0x536f('0x168')][_0x536f('0x82c')]={'value':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]},_0x4afd11[_0x536f('0x57')]=_0x4afd11['vertexShader']['replace'](_0x536f('0x82d'),_0x536f('0x82d')+_0x5cf8dc[_0x536f('0x7f6')])[_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x82e')+_0x5cf8dc['beginInstanceVertex'])['replace'](_0x536f('0x82f'),_0x5cf8dc[_0x536f('0x830')])[_0x536f('0x56')](_0x536f('0x63a'),_0x5cf8dc['projectVertex'])[_0x536f('0x56')]('#include\x20<worldpos_vertex>',_0x5cf8dc[_0x536f('0x81c')]),_0x4afd11[_0x536f('0x58')]=_0x5e46e5+'\x0a'+_0x4afd11[_0x536f('0x58')],_0x5cf8dc['uniforms']=_0x4afd11['uniforms'];};}},{'key':'setShadow','value':function(){this[_0x536f('0x831')]=new THREE[(_0x536f('0x832'))]({'depthPacking':THREE['RGBADepthPacking'],'skinning':this[_0x536f('0x7c8')],'morphTargets':this[_0x536f('0x7c7')]});var _0x5e46e5=this;this['depthMaterial'][_0x536f('0x422')]=function(_0x4afd11){_0x4afd11[_0x536f('0x168')][_0x536f('0x833')]={'value':_0x5e46e5[_0x536f('0x7c6')][_0x536f('0x7ab')]},_0x4afd11[_0x536f('0x57')]=_0x4afd11[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x82d'),_0x536f('0x82d')+_0x5e46e5[_0x536f('0x7f6')])[_0x536f('0x56')](_0x536f('0x424'),'#include\x20<uv_vertex>\x0a'+_0x5e46e5[_0x536f('0x816')])[_0x536f('0x56')](_0x536f('0x63a'),_0x5e46e5[_0x536f('0x819')]);};}},{'key':_0x536f('0x834'),'value':function(_0x4afd11){this[_0x536f('0x1e8')][_0x536f('0x835')][0x0]=_0x4afd11;}},{'key':_0x536f('0x571'),'value':function(_0x4afd11){this[_0x536f('0x7d7')][_0x536f('0xfa')]=!0x0;}},{'key':_0x536f('0x836'),'value':function(_0x4afd11){this['orientationAttribute'][_0x536f('0xfa')]=!0x0;}},{'key':_0x536f('0x837'),'value':function(_0x4afd11){this[_0x536f('0x7d8')]['needsUpdate']=!0x0;}},{'key':'clear','value':function(){void 0x0!==this[_0x536f('0x1e8')]&&this[_0x536f('0xd1')](this[_0x536f('0x1e8')]),void 0x0!==this[_0x536f('0xd0')]&&this[_0x536f('0xd0')][_0x536f('0xcd')]();}},{'key':_0x536f('0xcd'),'value':function(){this['object3d'][_0x536f('0xd1')](this['mesh']),this[_0x536f('0xd0')][_0x536f('0xcd')](),this[_0x536f('0xce')][_0x536f('0xcd')](),this[_0x536f('0x1e8')]=null;}}]),_0x5e46e5[_0x536f('0x6')]=_0x506aa5;},function(_0x2ff636,_0x3c881a,_0x3ba659){'use strict';Object[_0x536f('0x1')](_0x3c881a,_0x536f('0x4'),{'value':!0x0});var _0xe0ca31=_0x5a6f2f(_0x3ba659(0x4)),_0x1bffe6=_0x5a6f2f(_0x3ba659(0x0)),_0x2d017b=_0x5a6f2f(_0x3ba659(0x1)),_0x1431f4=_0x5a6f2f(_0x3ba659(0xf7)),_0x679581=_0x5a6f2f(_0x3ba659(0x37)),_0x3685e0=_0x5a6f2f(_0x3ba659(0xf9));function _0x5a6f2f(_0x2ff636){return _0x2ff636&&_0x2ff636['__esModule']?_0x2ff636:{'default':_0x2ff636};}function _0x11c3ba(_0x2ff636){var _0x3c881a=_0x2ff636[_0x536f('0xcf')],_0x3ba659=_0x2ff636[_0x536f('0x3b')],_0x3ba659=void 0x0===_0x3ba659?new THREE[(_0x536f('0x59'))](0x0,0x3,0x0):_0x3ba659,_0x2d017b=_0x2ff636[_0x536f('0x77')],_0x2d017b=void 0x0===_0x2d017b?new THREE['Vector3'](0x3,0x0,0x0):_0x2d017b,_0x1431f4=_0x2ff636[_0x536f('0x838')],_0x3685e0=_0x2ff636[_0x536f('0x344')],_0x3685e0=void 0x0===_0x3685e0?0x14:_0x3685e0,_0x5a6f2f=_0x2ff636['fov'],_0x5a6f2f=void 0x0===_0x5a6f2f?0x1e:_0x5a6f2f,_0x679581=_0x2ff636[_0x536f('0x839')],_0x679581=void 0x0===_0x679581?0x10/0x9:_0x679581,_0x436b73=_0x2ff636['isShowHelper'],_0x436b73=void 0x0!==_0x436b73&&_0x436b73,_0x2ff636=_0x2ff636['isShowFarPlane'],_0x2ff636=void 0x0!==_0x2ff636&&_0x2ff636;(0x0,_0x1bffe6['default'])(this,_0x11c3ba),this['map']=_0x3c881a,this[_0x536f('0xce')]=null,this[_0x536f('0x83a')]=null,this[_0x536f('0x83b')]=null,this[_0x536f('0x83c')]=null,this['containMeshList']=[],this[_0x536f('0x3b')]=_0x3ba659,this[_0x536f('0x77')]=_0x2d017b,this[_0x536f('0x838')]=_0x1431f4,this[_0x536f('0x83d')]=_0x3685e0,this[_0x536f('0x83e')]=_0x5a6f2f,this[_0x536f('0x839')]=_0x679581,this[_0x536f('0x83f')]=_0x436b73,this[_0x536f('0x840')]=_0x2ff636,this[_0x536f('0x3b8')]=null;}(0x0,_0x2d017b[_0x536f('0x6')])(_0x11c3ba,[{'key':_0x536f('0x37d'),'value':function(_0x3c881a){if(this['receiveLayer']&&this[_0x536f('0x838')][_0x536f('0x525')]){var _0x3ba659=this,_0x2ff636=new THREE[(_0x536f('0x841'))](_0x3c881a);if(this['alphaMap']=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](esmap['ESEffectTool'][_0x536f('0x50')]+_0x536f('0x842')),this[_0x536f('0x843')](_0x2ff636),this[_0x536f('0x838')][_0x536f('0x525')][_0x536f('0x41c')](function(_0x2ff636){_0x536f('0x354')!=_0x2ff636[_0x536f('0x76')]||_0x2ff636['datas_']&&0x7==_0x2ff636[_0x536f('0x3f')]['nodeType']||_0x3ba659[_0x536f('0x844')][_0x536f('0x82')](_0x2ff636);}),0x0<this[_0x536f('0x844')][_0x536f('0xd')]){var _0x2d017b=!0x0,_0x3c881a=!0x1,_0x1431f4=void 0x0;try{for(var _0x3685e0,_0x5a6f2f=(0x0,_0xe0ca31['default'])(this['containMeshList']);!(_0x2d017b=(_0x3685e0=_0x5a6f2f[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x2d017b=!0x0){var _0x679581=_0x3685e0['value'];if(0x0<_0x679581[_0x536f('0xce')][_0x536f('0xd')]){var _0x3f0a57=[],_0x1bffe6=!0x0,_0x11c3ba=!0x1,_0x29da59=void 0x0;try{for(var _0x1f6e01,_0x378366=(0x0,_0xe0ca31['default'])(_0x679581[_0x536f('0xce')]);!(_0x1bffe6=(_0x1f6e01=_0x378366['next']())[_0x536f('0x7a')]);_0x1bffe6=!0x0){var _0x195216,_0x420ae1=_0x1f6e01['value'];_0x420ae1 instanceof THREE['Material']&&(_0x195216=this[_0x536f('0x845')](_0x2ff636,_0x679581,_0x420ae1['clone'](),this[_0x536f('0x3b8')]),_0x3f0a57[_0x536f('0x82')](_0x195216));}}catch(_0x3c6411){_0x11c3ba=!0x0,_0x29da59=_0x3c6411;}finally{try{!_0x1bffe6&&_0x378366[_0x536f('0x265')]&&_0x378366[_0x536f('0x265')]();}finally{if(_0x11c3ba)throw _0x29da59;}}_0x679581[_0x536f('0x846')]=_0x679581[_0x536f('0xce')],_0x679581[_0x536f('0xce')]=_0x3f0a57;}else{var _0x4a2995=this[_0x536f('0x845')](_0x2ff636,_0x679581,_0x679581[_0x536f('0xce')]['clone'](),this[_0x536f('0x3b8')]);_0x679581['_originMaterial']=_0x679581[_0x536f('0xce')],_0x679581[_0x536f('0xce')]=_0x4a2995;}}}catch(_0x239388){_0x3c881a=!0x0,_0x1431f4=_0x239388;}finally{try{!_0x2d017b&&_0x5a6f2f[_0x536f('0x265')]&&_0x5a6f2f[_0x536f('0x265')]();}finally{if(_0x3c881a)throw _0x1431f4;}}}}}},{'key':'dispose','value':function(){if(0x0<this[_0x536f('0x844')][_0x536f('0xd')]){for(var _0x2ff636=0x0,_0x3c881a=this[_0x536f('0x844')][_0x536f('0xd')];_0x2ff636<_0x3c881a;_0x2ff636++){if(this[_0x536f('0x844')][_0x2ff636]['_tempMaterial']=this[_0x536f('0x844')][_0x2ff636]['material'],this[_0x536f('0x844')][_0x2ff636][_0x536f('0xce')]=this[_0x536f('0x844')][_0x2ff636][_0x536f('0x846')],0x0<this[_0x536f('0x844')][_0x2ff636][_0x536f('0x847')][_0x536f('0xd')]){var _0x3ba659=!0x0,_0x2d017b=!0x1,_0x1431f4=void 0x0;try{for(var _0x3685e0,_0x5a6f2f=(0x0,_0xe0ca31[_0x536f('0x6')])(this[_0x536f('0x844')][_0x2ff636][_0x536f('0x847')]);!(_0x3ba659=(_0x3685e0=_0x5a6f2f['next']())[_0x536f('0x7a')]);_0x3ba659=!0x0)_0x3685e0[_0x536f('0x10')]['dispose']();}catch(_0x8c6686){_0x2d017b=!0x0,_0x1431f4=_0x8c6686;}finally{try{!_0x3ba659&&_0x5a6f2f[_0x536f('0x265')]&&_0x5a6f2f['return']();}finally{if(_0x2d017b)throw _0x1431f4;}}this[_0x536f('0x844')][_0x2ff636]['_tempMaterial'][_0x536f('0xd')]=0x0;}else this[_0x536f('0x844')][_0x2ff636][_0x536f('0x847')]['dispose']();this[_0x536f('0x844')][_0x2ff636]['_originMaterial']=null,this[_0x536f('0x844')][_0x2ff636][_0x536f('0x847')]=null,this[_0x536f('0x844')][_0x2ff636][_0x536f('0x848')]=!0x1,this['containMeshList'][_0x2ff636][_0x536f('0x849')]=null;}this[_0x536f('0x844')][_0x536f('0xd')]=0x0,_0x679581[_0x536f('0x6')][_0x536f('0x367')](this[_0x536f('0x83c')][_0x536f('0x356')]),this[_0x536f('0x83c')]=null,_0x679581[_0x536f('0x6')]['dispseMesh'](this[_0x536f('0x83b')]),this[_0x536f('0x83b')]=null;}}},{'key':_0x536f('0x84a'),'value':function(_0x2ff636){_0x2ff636?(this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x32e')]=!0x1,this[_0x536f('0xcf')]['controls']['enableZoom']=!0x1,_0x2ff636=new THREE[(_0x536f('0x59'))]()[_0x536f('0x358')](map[_0x536f('0x307')][_0x536f('0x77')],map[_0x536f('0x307')]['object'][_0x536f('0x3b')])[_0x536f('0x1c1')](),this[_0x536f('0xcf')][_0x536f('0x307')]['target'][_0x536f('0x1b')](this['map'][_0x536f('0x307')]['object'][_0x536f('0x3b')]['x']+_0x2ff636['x'],this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x1c')][_0x536f('0x3b')]['y']+_0x2ff636['y'],this[_0x536f('0xcf')]['controls'][_0x536f('0x1c')][_0x536f('0x3b')]['z']+_0x2ff636['z'])):(this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x32e')]=!0x0,this[_0x536f('0xcf')][_0x536f('0x307')]['enableZoom']=!0x0);}},{'key':_0x536f('0x84b'),'value':function(_0x2ff636){if(0x0<this['containMeshList'][_0x536f('0xd')])for(var _0x3c881a=0x0,_0x3ba659=this[_0x536f('0x844')][_0x536f('0xd')];_0x3c881a<_0x3ba659;_0x3c881a++)this[_0x536f('0x844')][_0x3c881a][_0x536f('0x849')][_0x536f('0x168')][_0x536f('0x84c')][_0x536f('0x10')][_0x536f('0x33d')](_0x2ff636);this[_0x536f('0x83b')]&&this['projectPlane']['material'][_0x536f('0x21f')][_0x536f('0x33d')](_0x2ff636);}},{'key':'scanSceneMesh','value':function(_0x2ff636){for(var _0x3c881a=_0x2ff636[_0x536f('0x84d')],_0x3ba659=_0x2ff636[_0x536f('0x84e')],_0x2d017b=_0x2ff636[_0x536f('0x84f')],_0x1431f4=_0x2ff636[_0x536f('0x850')],_0x3685e0=_0x2ff636[_0x536f('0x851')],_0x5a6f2f=(this[_0x536f('0xcf')]['rayPointer']&&(this[_0x536f('0xcf')][_0x536f('0x852')][_0x536f('0x853')]={}),Math[_0x536f('0x1b9')](_0x2d017b-_0x3c881a)/_0x3685e0),_0x679581=Math[_0x536f('0x1b9')](_0x1431f4-_0x3ba659)/_0x3685e0,_0x20cb01=0x0;_0x20cb01<_0x3685e0;_0x20cb01++)for(var _0x1bffe6=0x0;_0x1bffe6<_0x3685e0;_0x1bffe6++)this['raySceneMesh']({'x':_0x3c881a+_0x20cb01*_0x5a6f2f,'y':_0x3ba659+_0x1bffe6*_0x679581});}},{'key':'raySceneMesh','value':function(_0x2ff636){_0x2ff636=this[_0x536f('0xcf')][_0x536f('0x854')]({'coord':{'x':_0x2ff636['x'],'y':_0x2ff636['y']},'debug':!0x0,'mode':_0x536f('0x1e8'),'depth':map['getFloorHeight'](map[_0x536f('0x855')])+0x5});_0x2ff636&&(this['map']['rayPointer'][_0x536f('0x853')][_0x2ff636[_0x536f('0x1c')][_0x536f('0x1c8')]]=!0x0,this[_0x536f('0x844')][_0x536f('0x82')](_0x2ff636['object']));}},{'key':_0x536f('0x843'),'value':function(_0x2ff636){this[_0x536f('0x83a')]=new THREE[(_0x536f('0x74d'))](this['cameraFov'],this[_0x536f('0x839')],0.01,this[_0x536f('0x83d')]),this['projector'][_0x536f('0x3b')][_0x536f('0x1bc')](this[_0x536f('0x3b')]),this[_0x536f('0x83a')]['lookAt'](this['target']),this[_0x536f('0x83a')][_0x536f('0x856')](),this[_0x536f('0x83a')]['updateMatrixWorld'](),this[_0x536f('0x83a')][_0x536f('0x857')](),this[_0x536f('0xcf')]['controls'][_0x536f('0x858')]=0x0,this[_0x536f('0x859')]();}},{'key':_0x536f('0x859'),'value':function(){var _0x2ff636=this;this[_0x536f('0x83c')]=new _0x3685e0[(_0x536f('0x6'))](this[_0x536f('0x83a')]),this['helper']['object3d'][_0x536f('0x36c')]=this[_0x536f('0x83f')],this[_0x536f('0x840')]&&this[_0x536f('0x85a')](this[_0x536f('0x83c')],texture,function(){_0x2ff636[_0x536f('0x83b')][_0x536f('0xce')]['alphaMap']=_0x2ff636['alphaMap'];}),this[_0x536f('0x83c')][_0x536f('0x2f3')](),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')]['add'](this[_0x536f('0x83c')][_0x536f('0x356')]);}},{'key':_0x536f('0x85a'),'value':function(_0x2ff636,_0x3c881a,_0x3ba659){var _0x2d017b,_0x1431f4=this,_0x3685e0=['f1','f2','f3','f4'],_0x5a6f2f=[],_0x679581=_0x2ff636['geometry'][_0x536f('0x776')](_0x536f('0x3b'));for(_0x2d017b in _0x2ff636[_0x536f('0x85b')]){var _0x3d7b41=!0x0,_0x1bffe6=!0x1,_0x11c3ba=void 0x0;try{for(var _0x41093b,_0x30003b=(0x0,_0xe0ca31['default'])(_0x3685e0);!(_0x3d7b41=(_0x41093b=_0x30003b[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3d7b41=!0x0){var _0x3ae08f=_0x41093b['value'];if(_0x3ae08f===_0x2d017b){for(var _0x2327a3=new THREE[(_0x536f('0x59'))](),_0x4a4d50=0x0;_0x4a4d50<0x3;_0x4a4d50++)0x0==_0x4a4d50&&(_0x2327a3['x']=_0x679581['getX'](_0x2ff636[_0x536f('0x85b')][_0x3ae08f][_0x4a4d50])),0x1==_0x4a4d50&&(_0x2327a3['y']=_0x679581[_0x536f('0x85c')](_0x2ff636[_0x536f('0x85b')][_0x3ae08f][_0x4a4d50])),0x2==_0x4a4d50&&(_0x2327a3['z']=_0x679581[_0x536f('0x85d')](_0x2ff636['pointMap'][_0x3ae08f][_0x4a4d50]));_0x5a6f2f[_0x536f('0x82')](_0x2327a3);}}}catch(_0x4b6924){_0x1bffe6=!0x0,_0x11c3ba=_0x4b6924;}finally{try{!_0x3d7b41&&_0x30003b[_0x536f('0x265')]&&_0x30003b[_0x536f('0x265')]();}finally{if(_0x1bffe6)throw _0x11c3ba;}}}var _0x2d6e86=new THREE['BufferGeometry']()[_0x536f('0x85e')](_0x5a6f2f),_0x2a8175=(_0x2d6e86[_0x536f('0x1f5')]('uv',new THREE[(_0x536f('0x102'))](new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1]),0x2)),_0x2d6e86[_0x536f('0x7ce')]([0x0,0x1,0x3,0x1,0x2,0x3]),new THREE[(_0x536f('0x421'))]({'color':0xffffff,'transparent':!0x0})),_0x2d6e86=new THREE[(_0x536f('0x354'))](_0x2d6e86,_0x2a8175);_0x2a8175[_0x536f('0x422')]=function(_0x2ff636){_0x2ff636['uniforms'][_0x536f('0x85f')]={'value':_0x3c881a},_0x2ff636[_0x536f('0x168')][_0x536f('0x860')]={'value':_0x1431f4[_0x536f('0x3b8')]},_0x2ff636[_0x536f('0x57')]=_0x2ff636[_0x536f('0x57')][_0x536f('0x56')]('#include\x20<uv_pars_vertex>',_0x536f('0x861')),_0x2ff636['vertexShader']=_0x2ff636[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x862')),_0x2ff636[_0x536f('0x58')]=_0x2ff636[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTexMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2ff636[_0x536f('0x58')]=_0x2ff636['fragmentShader'][_0x536f('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x536f('0x863')),_0x3ba659&&_0x3ba659();},_0x2d6e86[_0x536f('0x355')]=0xc8,_0x2ff636[_0x536f('0x1c3')](_0x2d6e86),this[_0x536f('0x83b')]=_0x2d6e86;}},{'key':_0x536f('0x864'),'value':function(_0x2ff636){if(this[_0x536f('0x83a')][_0x536f('0x43d')](_0x2ff636),0x0<this[_0x536f('0x844')][_0x536f('0xd')])for(var _0x3c881a=0x0,_0x3ba659=this[_0x536f('0x844')][_0x536f('0xd')];_0x3c881a<_0x3ba659;_0x3c881a++)this[_0x536f('0x844')][_0x3c881a][_0x536f('0x849')]['saveCameraMatrices']();this['helper']['update']();}},{'key':'addToPicker','value':function(_0x2ff636,_0x3c881a){_0x536f('0x354')===_0x2ff636[_0x536f('0x76')]&&(_0x2ff636['datas_']={'name':_0x3c881a},this[_0x536f('0xcf')][_0x536f('0x5b4')][_0x536f('0x865')][_0x536f('0x82')](_0x2ff636)),_0x536f('0x372')===_0x2ff636[_0x536f('0x76')]&&(_0x2ff636[_0x536f('0x3f')]={'name':_0x3c881a},_0x2ff636['name']='_root_',this[_0x536f('0xcf')][_0x536f('0x5b4')][_0x536f('0x865')][_0x536f('0x82')](_0x2ff636));}},{'key':_0x536f('0x866'),'value':function(_0x2ff636){this[_0x536f('0xcf')]['mapPicker']['objects_'][_0x536f('0x82')](_0x2ff636);}},{'key':'resetMaterial','value':function(_0x2ff636,_0x3c881a){texture[_0x536f('0x48d')]=THREE['sRGBEncoding'],_0x2ff636[_0x536f('0xfa')]=!0x0;_0x2ff636=new _0x1431f4['default']({'camera':this['projector'],'texture':_0x2ff636,'color':_0x536f('0x36e')});(_0x3c881a['material']=_0x2ff636)[_0x536f('0x867')](_0x3c881a);}},{'key':_0x536f('0x845'),'value':function(_0x2ff636,_0x3c881a,_0x3ba659,_0x2d017b){_0x2ff636[_0x536f('0xfa')]=!0x0,_0x3ba659[_0x536f('0x1d7')]=!0x0;_0x2ff636=new _0x1431f4[(_0x536f('0x6'))]({'material':_0x3ba659,'camera':this[_0x536f('0x83a')],'texture':_0x2ff636,'alphaMap':_0x2d017b,'color':_0x536f('0x36e'),'isShowFarPlane':this[_0x536f('0x840')]});return _0x3c881a[_0x536f('0x848')]||(_0x2ff636['project'](_0x3c881a),_0x3c881a[_0x536f('0x849')]=_0x2ff636,_0x3c881a[_0x536f('0x848')]=!0x0),_0x3ba659;}},{'key':_0x536f('0x868'),'value':function(_0x2ff636){var _0x3c881a=this,_0x2ff636=new THREE[(_0x536f('0x841'))](_0x2ff636);_0x2ff636['needsUpdate']=!0x0,this['material']=new _0x1431f4[(_0x536f('0x6'))]({'camera':this[_0x536f('0x83a')],'texture':_0x2ff636,'color':_0x536f('0x869')}),this['map']['mapView'][_0x536f('0x489')][_0x536f('0x41c')](function(_0x2ff636){_0x536f('0x354')===_0x2ff636[_0x536f('0x76')]&&_0x2ff636[_0x536f('0x86a')]&&_0x536f('0x7c')===_0x2ff636[_0x536f('0x86a')]&&_0x2ff636[_0x536f('0x3f')]&&0x1==_0x2ff636[_0x536f('0x3f')][_0x536f('0x7c')]&&_0x2ff636[_0x536f('0xce')]&&(_0x2ff636[_0x536f('0xce')]=_0x3c881a[_0x536f('0xce')],_0x3c881a['material'][_0x536f('0x867')](_0x2ff636));});}}]),_0x3c881a[_0x536f('0x6')]=_0x11c3ba;},function(_0x3565ba,_0x49d255,_0x3737d1){'use strict';Object['defineProperty'](_0x49d255,_0x536f('0x4'),{'value':!0x0});var _0x525867=_0x555755(_0x3737d1(0x10)),_0x964e7a=_0x555755(_0x3737d1(0x9c)),_0x4b35b9=_0x555755(_0x3737d1(0xf8)),_0x344315=_0x555755(_0x3737d1(0x0)),_0x3737d1=_0x555755(_0x3737d1(0x1));function _0x555755(_0x3565ba){return _0x3565ba&&_0x3565ba[_0x536f('0x4')]?_0x3565ba:{'default':_0x3565ba};}function _0x5a4532(_0x3565ba,_0x49d255,_0x3737d1,_0x555755){if(!_0x3565ba[_0x536f('0x86b')])return[0x1,0x1];if(0x0===_0x3565ba[_0x536f('0x86b')][_0x536f('0x86c')]&&0x0===_0x3565ba[_0x536f('0x86b')][_0x536f('0x86d')])return[0x1,0x1];var _0x3565ba=(_0x3565ba[_0x536f('0x86b')][_0x536f('0x86e')]||_0x3565ba['image'][_0x536f('0x86c')])/(_0x3565ba[_0x536f('0x86b')][_0x536f('0x6e7')]||_0x3565ba[_0x536f('0x86b')][_0x536f('0x86d')]),_0x49d255=_0x360982(_0x49d255),_0x1c3e28=0x1/_0x49d255*0x1,_0x525867=void 0x0,_0xfbda2a=void 0x0;return(_0x555755?_0x49d255<_0x3565ba:_0x3565ba<_0x49d255)?(_0x525867=0x1/(_0x1c3e28*_0x3565ba*_0x3737d1),_0xfbda2a=0x1/_0x3737d1):(_0xfbda2a=0x1/(0x1/_0x3565ba*0x1/_0x1c3e28*_0x3737d1),_0x525867=0x1/_0x3737d1),[_0x525867,_0xfbda2a];}var _0x360982=function(_0x3565ba){switch(_0x3565ba['type']){case _0x536f('0x74d'):return _0x3565ba[_0x536f('0x86f')];case _0x536f('0x727'):return Math[_0x536f('0x1b9')](_0x3565ba['right']-_0x3565ba[_0x536f('0x38a')])/Math['abs'](_0x3565ba['top']-_0x3565ba[_0x536f('0x745')]);default:throw new Error(_0x3565ba[_0x536f('0x76')]+_0x536f('0x870'));}},_0x3737d1=((0x0,_0x3737d1[_0x536f('0x6')])(_0x776420,[{'key':_0x536f('0x871'),'value':function(_0x49d255){var _0x3565ba,_0x3737d1,_0x555755,_0x32deae=this;_0x49d255[_0x536f('0x422')]=function(_0x3565ba){_0x49d255[_0x536f('0x848')]=!0x0,(0x0,_0x525867['default'])(_0x32deae['uniforms'],_0x3565ba['uniforms']),_0x3565ba[_0x536f('0x168')]=_0x32deae[_0x536f('0x168')],_0x3565ba[_0x536f('0x57')]=_0x3565ba[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4b3'),_0x536f('0x872')),_0x3565ba[_0x536f('0x57')]=_0x3565ba[_0x536f('0x57')][_0x536f('0x56')]('#include\x20<uv_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSavedNormal\x20=\x20mat3(savedModelMatrix)\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cameraMvpPos\x20=\x20viewMatrixCamera\x20*\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTexCoords\x20=\x20projectionMatrixCamera\x20*\x20cameraMvpPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20cameraMvpPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3565ba['fragmentShader']=_0x3565ba[_0x536f('0x58')][_0x536f('0x56')]('uniform\x20float\x20opacity;',_0x536f('0x873')+_0x32deae['projectedTexelToLinear']+_0x536f('0x874')),_0x3565ba['fragmentShader']=_0x3565ba['fragmentShader'][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x875'));},window['addEventListener'](_0x536f('0x876'),function(){_0x32deae['uniforms'][_0x536f('0x877')][_0x536f('0x10')]['copy'](_0x32deae[_0x536f('0x342')][_0x536f('0x7aa')]),_0x32deae['saveDimensions']();}),_0x3565ba=_0x32deae[_0x536f('0x1c7')],_0x3737d1=function(){_0x32deae[_0x536f('0x168')][_0x536f('0x878')][_0x536f('0x10')]=!0x0,_0x32deae[_0x536f('0x879')]();},_0x3565ba[_0x536f('0x86b')]&&0x0!==_0x3565ba['image'][_0x536f('0x86c')]&&0x0!==_0x3565ba[_0x536f('0x86b')][_0x536f('0x86d')]||(_0x555755=setInterval(function(){if(_0x3565ba[_0x536f('0x86b')]&&0x0!==_0x3565ba[_0x536f('0x86b')][_0x536f('0x86c')]&&0x0!==_0x3565ba['image'][_0x536f('0x86d')])return clearInterval(_0x555755),_0x3737d1();},0x10));}},{'key':_0x536f('0x879'),'value':function(){var _0x3565ba=_0x5a4532(this[_0x536f('0x1c7')],this[_0x536f('0x342')],this[_0x536f('0x87a')],this['cover']),_0x3565ba=(0x0,_0x964e7a['default'])(_0x3565ba,0x2),_0x49d255=_0x3565ba[0x0],_0x3565ba=_0x3565ba[0x1];this['uniforms'][_0x536f('0x87b')]['value']=_0x49d255,this[_0x536f('0x168')][_0x536f('0x87c')][_0x536f('0x10')]=_0x3565ba;}},{'key':_0x536f('0x87d'),'value':function(){this[_0x536f('0x342')][_0x536f('0x856')](),this[_0x536f('0x342')]['updateMatrixWorld'](),this['camera'][_0x536f('0x857')]();var _0x3565ba=this[_0x536f('0x342')][_0x536f('0x7ab')],_0x49d255=this[_0x536f('0x342')]['projectionMatrix'],_0x3737d1=this[_0x536f('0x342')][_0x536f('0x3bf')];this[_0x536f('0x168')][_0x536f('0x87e')]['value']['copy'](_0x3565ba),this[_0x536f('0x168')][_0x536f('0x877')][_0x536f('0x10')][_0x536f('0x1bc')](_0x49d255),this[_0x536f('0x168')][_0x536f('0x87f')]['value'][_0x536f('0x1bc')](this[_0x536f('0x342')][_0x536f('0x3b')]),this[_0x536f('0x168')][_0x536f('0x880')][_0x536f('0x10')][_0x536f('0x1b')](0x0,0x0,0x1)[_0x536f('0x3c7')](_0x3737d1),this[_0x536f('0x168')][_0x536f('0x881')][_0x536f('0x10')]=!0x0;}},{'key':_0x536f('0x867'),'value':function(_0x3565ba){_0x3565ba['updateWorldMatrix'](!0x0,!0x1),this[_0x536f('0x168')][_0x536f('0x882')][_0x536f('0x10')][_0x536f('0x1bc')](_0x3565ba['matrixWorld']),this['uniforms'][_0x536f('0x883')][_0x536f('0x10')]=0x0,this[_0x536f('0x87d')]();}}]),_0x776420);function _0x776420(_0x3565ba){var _0x49d255=_0x3565ba['camera'],_0x3737d1=_0x3565ba[_0x536f('0x1c7')],_0x555755=_0x3565ba['alphaMap'],_0x2f5af9=_0x3565ba[_0x536f('0x87a')],_0x2f5af9=void 0x0===_0x2f5af9?0x1:_0x2f5af9,_0x525867=_0x3565ba['textureOffset'],_0x525867=void 0x0===_0x525867?new THREE[(_0x536f('0x1b5'))]():_0x525867,_0x8f79df=_0x3565ba['cover'],_0x8f79df=void 0x0!==_0x8f79df&&_0x8f79df,_0x360982=_0x3565ba['material'],_0x3a5b9b=_0x3565ba[_0x536f('0x884')],_0x3a5b9b=void 0x0===_0x3a5b9b||_0x3a5b9b,_0x4aa7b4=_0x3565ba[_0x536f('0x840')],_0x4aa7b4=void 0x0===_0x4aa7b4||_0x4aa7b4,_0x3565ba=((0x0,_0x4b35b9[_0x536f('0x6')])(_0x3565ba,[_0x536f('0x342'),_0x536f('0x1c7'),_0x536f('0x3b8'),'textureScale',_0x536f('0x885'),'cover',_0x536f('0xce'),_0x536f('0x884'),'isShowFarPlane']),(0x0,_0x344315[_0x536f('0x6')])(this,_0x776420),this['material']=_0x360982,this[_0x536f('0x342')]=_0x49d255,this['texture']=_0x3737d1,this[_0x536f('0x87a')]=_0x2f5af9,this[_0x536f('0x886')]=_0x8f79df,this['isShowHepler']=_0x3a5b9b,_0x5a4532(_0x3737d1,_0x49d255,_0x2f5af9,_0x8f79df)),_0x3a5b9b=(0x0,_0x964e7a[_0x536f('0x6')])(_0x3565ba,0x2),_0x2f5af9=_0x3a5b9b[0x0],_0x8f79df=_0x3a5b9b[0x1];this['projectedTexelToLinear']=_0x536f('0x887')+(_0x3565ba=function(_0x3565ba){switch(_0x3565ba){case THREE[_0x536f('0x734')]:return[_0x536f('0x441'),'(\x20value\x20)'];case THREE[_0x536f('0x736')]:return[_0x536f('0x888'),_0x536f('0x889')];case THREE[_0x536f('0x88a')]:return[_0x536f('0x75c'),_0x536f('0x889')];case THREE['RGBM7Encoding']:return[_0x536f('0x88b'),_0x536f('0x88c')];case THREE[_0x536f('0x739')]:return[_0x536f('0x88b'),_0x536f('0x88d')];case THREE[_0x536f('0x88e')]:return['RGBD',_0x536f('0x88f')];case THREE[_0x536f('0x735')]:return['Gamma','(\x20value,\x20float(\x20GAMMA_FACTOR\x20)\x20)'];case THREE[_0x536f('0x890')]:return[_0x536f('0x891'),_0x536f('0x889')];default:return[_0x536f('0x441'),_0x536f('0x889')];}}(_0x3737d1[_0x536f('0x48d')]))[0x0]+_0x536f('0x892')+_0x3565ba[0x1]+_0x536f('0x893'),this[_0x536f('0x168')]={'projectedTexture':{'value':_0x3737d1},'textureMask':{'value':_0x555755},'isTextureLoaded':{'value':Boolean(_0x3737d1[_0x536f('0x86b')])},'isTextureProjected':{'value':!0x1},'backgroundOpacity':{'value':0x1},'viewMatrixCamera':{'value':new THREE[(_0x536f('0x35e'))]()},'projectionMatrixCamera':{'value':new THREE[(_0x536f('0x35e'))]()},'projPosition':{'value':new THREE[(_0x536f('0x59'))]()},'projDirection':{'value':new THREE['Vector3'](0x0,0x0,-0x1)},'savedModelMatrix':{'value':new THREE[(_0x536f('0x35e'))]()},'widthScaled':{'value':_0x2f5af9},'heightScaled':{'value':_0x8f79df},'textureOffset':{'value':_0x525867},'cameraFarDistance':{'value':_0x49d255[_0x536f('0x344')]},'visualFieldColor':{'value':new THREE['Color'](0xffffff)},'isCullByCamera':{'value':_0x4aa7b4}},this['createMaterial2'](_0x360982);}_0x49d255[_0x536f('0x6')]=_0x3737d1;},function(_0x3bc630,_0x25938c,_0x2efca8){'use strict';_0x25938c[_0x536f('0x4')]=!0x0,_0x25938c[_0x536f('0x6')]=function(_0x3bc630,_0x25938c){var _0x2efca8,_0x45b5e5={};for(_0x2efca8 in _0x3bc630)0x0<=_0x25938c['indexOf'](_0x2efca8)||Object[_0x536f('0x8')][_0x536f('0x9')][_0x536f('0xa')](_0x3bc630,_0x2efca8)&&(_0x45b5e5[_0x2efca8]=_0x3bc630[_0x2efca8]);return _0x45b5e5;};},function(_0xcaa06a,_0x47c38b,_0x4be09a){'use strict';Object[_0x536f('0x1')](_0x47c38b,_0x536f('0x4'),{'value':!0x0});var _0x546b1b=_0x4d9941(_0x4be09a(0x0));function _0x4d9941(_0xcaa06a){return _0xcaa06a&&_0xcaa06a[_0x536f('0x4')]?_0xcaa06a:{'default':_0xcaa06a};}function _0x24c49c(_0xcaa06a){(0x0,_0x546b1b[_0x536f('0x6')])(this,_0x24c49c),this[_0x536f('0x356')]=new THREE[(_0x536f('0x372'))](),this[_0x536f('0x894')]=null,this[_0x536f('0x342')]=_0xcaa06a,this[_0x536f('0x85b')]=null,this[_0x536f('0xd0')]=null,this[_0x536f('0xce')]=null,this[_0x536f('0x895')]=new THREE[(_0x536f('0x59'))](),this[_0x536f('0x896')](),this['update']();}(0x0,_0x4d9941(_0x4be09a(0x1))[_0x536f('0x6')])(_0x24c49c,[{'key':_0x536f('0x896'),'value':function(){this[_0x536f('0xd0')]=new THREE[(_0x536f('0x1e7'))](),this[_0x536f('0xce')]=new THREE['LineBasicMaterial']({'color':0xffffff,'vertexColors':THREE[_0x536f('0x897')]});var _0x4be09a=[],_0x546b1b=[],_0x4d9941={},_0xcaa06a=new THREE['Color'](0xffaa00),_0x47c38b=(new THREE[(_0x536f('0x1b8'))](0xff0000),new THREE['Color'](0xaaff)),_0x24c49c=new THREE[(_0x536f('0x1b8'))](0xffffff),_0x4a1588=new THREE[(_0x536f('0x1b8'))](0x333333);function _0x2e14ae(_0xcaa06a,_0x47c38b){_0x4be09a['push'](0x0,0x0,0x0),_0x546b1b['push'](_0x47c38b['r'],_0x47c38b['g'],_0x47c38b['b']),void 0x0===_0x4d9941[_0xcaa06a]&&(_0x4d9941[_0xcaa06a]=[]),_0x4d9941[_0xcaa06a][_0x536f('0x82')](_0x4be09a[_0x536f('0xd')]/0x3-0x1);}function _0x833840(_0xcaa06a,_0x47c38b,_0x4be09a){_0x2e14ae(_0xcaa06a,_0x4be09a),_0x2e14ae(_0x47c38b,_0x4be09a);}_0x833840('n1','n2',_0xcaa06a),_0x833840('n2','n4',_0xcaa06a),_0x833840('n4','n3',_0xcaa06a),_0x833840('n3','n1',_0xcaa06a),_0x833840('f1','f2',_0xcaa06a),_0x833840('f2','f4',_0xcaa06a),_0x833840('f4','f3',_0xcaa06a),_0x833840('f3','f1',_0xcaa06a),_0x833840('n1','f1',_0xcaa06a),_0x833840('n2','f2',_0xcaa06a),_0x833840('n3','f3',_0xcaa06a),_0x833840('n4','f4',_0xcaa06a),_0x833840('u1','u2',_0x47c38b),_0x833840('u2','u3',_0x47c38b),_0x833840('u3','u1',_0x47c38b),_0x833840('c','t',_0x24c49c),_0x833840('cn1',_0x536f('0x898'),_0x4a1588),_0x833840(_0x536f('0x899'),_0x536f('0x89a'),_0x4a1588),_0x833840(_0x536f('0x89b'),_0x536f('0x89c'),_0x4a1588),_0x833840(_0x536f('0x89d'),_0x536f('0x89e'),_0x4a1588),this[_0x536f('0xd0')][_0x536f('0x1f5')](_0x536f('0x3b'),new THREE[(_0x536f('0x455'))](_0x4be09a,0x3)),this[_0x536f('0xd0')][_0x536f('0x1f5')]('color',new THREE[(_0x536f('0x455'))](_0x546b1b,0x3)),this['camera']['updateProjectionMatrix']&&this['camera'][_0x536f('0x856')](),this[_0x536f('0x89f')]=this[_0x536f('0x342')][_0x536f('0x3bf')],this['matrixAutoUpdate']=!0x1;_0xcaa06a=new THREE[(_0x536f('0x3c8'))](this[_0x536f('0xd0')],this[_0x536f('0xce')]);this[_0x536f('0x85b')]=_0x4d9941,this[_0x536f('0x356')][_0x536f('0x1c3')](_0xcaa06a);}},{'key':_0x536f('0x8a0'),'value':function(_0xcaa06a,_0x47c38b,_0x4be09a,_0x546b1b){this[_0x536f('0x895')][_0x536f('0x1b')](_0x47c38b,_0x4be09a,_0x546b1b)[_0x536f('0x8a1')](this['camera']);var _0x4d9941=this[_0x536f('0x85b')][_0xcaa06a];if(void 0x0!==_0x4d9941)for(var _0x24c49c=this[_0x536f('0xd0')][_0x536f('0x776')](_0x536f('0x3b')),_0x75a565=0x0,_0x37083d=_0x4d9941[_0x536f('0xd')];_0x75a565<_0x37083d;_0x75a565++)_0x24c49c[_0x536f('0x8a2')](_0x4d9941[_0x75a565],this[_0x536f('0x895')]['x'],this[_0x536f('0x895')]['y'],this[_0x536f('0x895')]['z']);}},{'key':'update','value':function(){this[_0x536f('0x342')]['projectionMatrixInverse']['copy'](this['camera']['projectionMatrixInverse']),this[_0x536f('0x8a0')]('c',0x0,0x0,-0x1),this['setPoint']('t',0x0,0x0,0x1),this[_0x536f('0x8a0')]('n1',-0x1,-0x1,-0x1),this[_0x536f('0x8a0')]('n2',0x1,-0x1,-0x1),this[_0x536f('0x8a0')]('n3',-0x1,0x1,-0x1),this[_0x536f('0x8a0')]('n4',0x1,0x1,-0x1),this['setPoint']('f1',-0x1,-0x1,0x1),this[_0x536f('0x8a0')]('f2',0x1,-0x1,0x1),this[_0x536f('0x8a0')]('f3',-0x1,0x1,0x1),this['setPoint']('f4',0x1,0x1,0x1),this['setPoint']('u1',0.7,1.1,-0x1),this[_0x536f('0x8a0')]('u2',-0.7,1.1,-0x1),this[_0x536f('0x8a0')]('u3',0x0,0x2,-0x1),this[_0x536f('0x8a0')](_0x536f('0x89b'),-0x1,0x0,0x1),this[_0x536f('0x8a0')]('cf2',0x1,0x0,0x1),this[_0x536f('0x8a0')]('cf3',0x0,-0x1,0x1),this[_0x536f('0x8a0')](_0x536f('0x89e'),0x0,0x1,0x1),this['setPoint'](_0x536f('0x8a3'),-0x1,0x0,-0x1),this[_0x536f('0x8a0')](_0x536f('0x898'),0x1,0x0,-0x1),this[_0x536f('0x8a0')](_0x536f('0x899'),0x0,-0x1,-0x1),this[_0x536f('0x8a0')]('cn4',0x0,0x1,-0x1),this[_0x536f('0xd0')]['getAttribute'](_0x536f('0x3b'))[_0x536f('0xfa')]=!0x0;}}]),_0x47c38b[_0x536f('0x6')]=_0x24c49c;},function(_0x502578,_0x540f4c,_0x361b22){'use strict';Object[_0x536f('0x1')](_0x540f4c,_0x536f('0x4'),{'value':!0x0});var _0x413be2=_0x3631c1(_0x361b22(0x4)),_0x2b7b3c=_0x3631c1(_0x361b22(0x17)),_0x438276=_0x3631c1(_0x361b22(0x0)),_0x4c7eef=_0x3631c1(_0x361b22(0x1)),_0x22adb9=_0x3631c1(_0x361b22(0x1d)),_0x55ded7=_0x3631c1(_0x361b22(0x1e)),_0x22e7c2=_0x3631c1(_0x361b22(0x40));function _0x3631c1(_0x502578){return _0x502578&&_0x502578[_0x536f('0x4')]?_0x502578:{'default':_0x502578};}function _0x5fe091(_0x502578){var _0x540f4c=_0x502578[_0x536f('0x655')],_0x540f4c=void 0x0===_0x540f4c?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x540f4c,_0x361b22=_0x502578['isNoTileFactor'],_0x361b22=void 0x0===_0x361b22?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x361b22,_0x4c7eef=_0x502578[_0x536f('0x8a4')],_0x55ded7=_0x502578[_0x536f('0x8a5')],_0x3631c1=_0x502578[_0x536f('0x8a6')],_0x2195f2=_0x502578['texture4Path'],_0xa09623=_0x502578['noisePath'],_0xdfb266=_0x502578['normalUvIndex'],_0x413be2=_0x502578[_0x536f('0x8a7')],_0x31bef5=_0x502578[_0x536f('0x543')],_0x502578=(_0x502578[_0x536f('0x8a8')],(0x0,_0x438276[_0x536f('0x6')])(this,_0x5fe091),(0x0,_0x22adb9[_0x536f('0x6')])(this,(_0x5fe091[_0x536f('0x66')]||(0x0,_0x2b7b3c['default'])(_0x5fe091))[_0x536f('0xa')](this))),_0x540f4c=(_0x502578[_0x536f('0x8a9')]=new _0x22e7c2[(_0x536f('0x6'))](),_0x502578[_0x536f('0x655')]=new THREE[(_0x536f('0x1b7'))](_0x540f4c[_0x536f('0x423')],_0x540f4c[_0x536f('0x8aa')],_0x540f4c['texture3'],_0x540f4c[_0x536f('0x8ab')]),_0x502578[_0x536f('0x8ac')]=new THREE[(_0x536f('0x1b7'))](_0x361b22[_0x536f('0x423')],_0x361b22['texture2'],_0x361b22['texture3'],_0x361b22[_0x536f('0x8ab')]),_0x502578[_0x536f('0x8ad')]=_0xdfb266,_0x502578[_0x536f('0x8a7')]=_0x413be2,_0x502578[_0x536f('0x543')]=_0x31bef5,_0x502578[_0x536f('0x67b')]={'texture2':null,'textureMask':null,'texture3':null,'texture4':null,'noise':null},_0x502578['shader']=null,[{'name':_0x536f('0x8aa'),'path':_0x4c7eef},{'name':_0x536f('0x8ae'),'path':_0x55ded7},{'name':_0x536f('0x8af'),'path':_0x3631c1},{'name':_0x536f('0x8ab'),'path':_0x2195f2},{'name':_0x536f('0x8b0'),'path':_0xa09623}]);return _0x502578[_0x536f('0x8b1')](_0x540f4c),_0x502578;}_0x361b22=_0x361b22(0x24)['EventDispatcher'],(0x0,_0x55ded7['default'])(_0x5fe091,_0x361b22),(0x0,_0x4c7eef[_0x536f('0x6')])(_0x5fe091,[{'key':_0x536f('0x8b1'),'value':function(_0x502578){var _0x5a6585=this,_0x446151=this;this['textureManager'][_0x536f('0x266')](_0x502578)[_0x536f('0x398')](function(_0x502578){var _0x540f4c=!0x0,_0x361b22=!0x1,_0x4c7eef=void 0x0;try{for(var _0x55ded7,_0x3631c1=(0x0,_0x413be2[_0x536f('0x6')])(_0x502578);!(_0x540f4c=(_0x55ded7=_0x3631c1[_0x536f('0x79')]())['done']);_0x540f4c=!0x0){var _0x1ee36a=_0x55ded7[_0x536f('0x10')];'texture2'===_0x1ee36a['name']&&(_0x446151[_0x536f('0x67b')][_0x536f('0x8aa')]=_0x1ee36a,_0x446151['textures']['texture2'][_0x536f('0x434')]=THREE[_0x536f('0x376')],_0x446151[_0x536f('0x67b')][_0x536f('0x8aa')][_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x5a6585[_0x536f('0x543')]&&(_0x446151[_0x536f('0x67b')][_0x536f('0x8aa')]['anisotropy']=_0x5a6585['anisotropy'])),_0x536f('0x8ae')===_0x1ee36a['name']&&(_0x1ee36a[_0x536f('0x77f')]=!0x1,_0x446151[_0x536f('0x67b')]['textureMask']=_0x1ee36a),_0x536f('0x8af')===_0x1ee36a['name']&&(_0x446151['textures'][_0x536f('0x8af')]=_0x1ee36a,_0x446151['textures'][_0x536f('0x8af')][_0x536f('0x434')]=THREE[_0x536f('0x376')],_0x446151[_0x536f('0x67b')][_0x536f('0x8af')][_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x5a6585[_0x536f('0x543')]&&(_0x446151[_0x536f('0x67b')][_0x536f('0x8af')]['anisotropy']=_0x5a6585[_0x536f('0x543')])),_0x536f('0x8ab')===_0x1ee36a[_0x536f('0x92')]&&(_0x446151[_0x536f('0x67b')]['texture4']=_0x1ee36a,_0x446151['textures'][_0x536f('0x8ab')]['wrapS']=THREE[_0x536f('0x376')],_0x446151[_0x536f('0x67b')][_0x536f('0x8ab')][_0x536f('0x375')]=THREE['RepeatWrapping'],_0x5a6585['anisotropy']&&(_0x446151[_0x536f('0x67b')]['texture4']['anisotropy']=_0x5a6585[_0x536f('0x543')])),_0x536f('0x8b0')===_0x1ee36a[_0x536f('0x92')]&&(_0x446151[_0x536f('0x67b')][_0x536f('0x8b0')]=_0x1ee36a,_0x446151[_0x536f('0x67b')][_0x536f('0x8b0')][_0x536f('0x434')]=THREE['RepeatWrapping'],_0x446151[_0x536f('0x67b')]['noise'][_0x536f('0x375')]=THREE[_0x536f('0x376')]);}}catch(_0x3ab022){_0x361b22=!0x0,_0x4c7eef=_0x3ab022;}finally{try{!_0x540f4c&&_0x3631c1['return']&&_0x3631c1['return']();}finally{if(_0x361b22)throw _0x4c7eef;}}_0x446151[_0x536f('0x32d')]({'type':_0x536f('0x493')});});}},{'key':_0x536f('0x67e'),'value':function(){var _0x502578=document[_0x536f('0x93')](_0x536f('0x411'));return _0x502578[_0x536f('0x366')]=0x2,_0x502578[_0x536f('0x339')]=0x2,_0x502578[_0x536f('0x412')]('2d')[_0x536f('0x415')]=_0x536f('0x36e'),new THREE[(_0x536f('0x1cb'))](_0x502578);}},{'key':_0x536f('0x33a'),'value':function(_0x540f4c){var _0x361b22=this;_0x540f4c['aoMap']||(_0x540f4c[_0x536f('0x680')]=this[_0x536f('0x67e')](),_0x540f4c[_0x536f('0x687')]=0x0),_0x361b22[_0x536f('0x67b')][_0x536f('0x8af')]&&(_0x540f4c[_0x536f('0x167')][_0x536f('0x8b2')]=''),_0x361b22[_0x536f('0x67b')][_0x536f('0x8ab')]&&(_0x540f4c[_0x536f('0x167')][_0x536f('0x8b3')]=''),_0x361b22['textures']['alphaMask']&&(_0x540f4c['defines']['IS_USE_MASK_ALPHA']='',_0x540f4c['transparent']=!0x0),_0x361b22[_0x536f('0x8ad')]&&(_0x540f4c[_0x536f('0x167')][_0x536f('0x8b4')]='',0x2==_0x361b22[_0x536f('0x8ad')]&&(_0x540f4c['normalMap'][_0x536f('0x434')]=THREE[_0x536f('0x60e')],_0x540f4c[_0x536f('0x8b5')][_0x536f('0x375')]=THREE[_0x536f('0x60e')],_0x540f4c[_0x536f('0x8b6')]=THREE[_0x536f('0x8b7')]),_0x361b22[_0x536f('0x8a7')]&&(_0x540f4c[_0x536f('0x167')][_0x536f('0x8b8')]='')),this['anisotropy']&&(_0x540f4c[_0x536f('0xcf')][_0x536f('0x543')]=this['anisotropy']),_0x540f4c[_0x536f('0x422')]=function(_0x502578){_0x502578['uniforms'][_0x536f('0x423')]={'value':_0x540f4c['map']},_0x502578[_0x536f('0x168')][_0x536f('0x8aa')]={'value':_0x361b22[_0x536f('0x67b')][_0x536f('0x8aa')]},_0x502578[_0x536f('0x168')][_0x536f('0x8ae')]={'value':_0x361b22['textures']['textureMask']},_0x361b22[_0x536f('0x67b')]['texture3']&&(_0x502578[_0x536f('0x168')]['texture3']={'value':_0x361b22[_0x536f('0x67b')]['texture3']}),_0x361b22[_0x536f('0x67b')][_0x536f('0x8ab')]&&(_0x502578['uniforms'][_0x536f('0x8ab')]={'value':_0x361b22['textures'][_0x536f('0x8ab')]}),_0x502578[_0x536f('0x168')]['noiseTex']={'value':_0x361b22[_0x536f('0x67b')]['noise']},_0x502578[_0x536f('0x168')][_0x536f('0x8b9')]={'value':_0x361b22[_0x536f('0x655')]},_0x502578[_0x536f('0x168')][_0x536f('0x8ba')]={'value':_0x361b22[_0x536f('0x8ac')]},_0x502578[_0x536f('0x57')]=_0x502578[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x44e'),_0x536f('0x8bb')),_0x502578[_0x536f('0x57')]=_0x502578[_0x536f('0x57')][_0x536f('0x56')]('#include\x20<uv2_vertex>',_0x536f('0x8bc')),_0x502578[_0x536f('0x58')]=_0x502578[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20othersRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20noTileConfigs;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20noiseTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texSum(\x20vec4\x20v\x20)\x20{\x20return\x20v.x+v.y+v.z;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureNoTile(\x20sampler2D\x20samp,\x20in\x20vec2\x20x\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20k\x20=\x20texture2D(\x20noiseTex,\x200.005*x\x20).x;\x20//\x20cheap\x20(cache\x20friendly)\x20lookup\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdx\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdy\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20l\x20=\x20k*8.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(l);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ia\x20=\x20floor(l+0.5);\x20//\x20suslik\x27s\x20method\x20(see\x20comments)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ib\x20=\x20floor(l);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20min(f,\x201.0-f)*2.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offa\x20=\x20sin(vec2(3.0,7.0)*ia);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offb\x20=\x20sin(vec2(3.0,7.0)*ib);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cola\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offa,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20colb\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offb,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20cola,\x20colb,\x20smoothstep(0.2,0.8,f-0.1*texSum(cola-colb))\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x502578[_0x536f('0x58')]=_0x502578[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x8bd'),_0x536f('0x8be')),_0x502578[_0x536f('0x58')]=_0x502578[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x647'),_0x536f('0x8bf')),_0x361b22[_0x536f('0x420')]=_0x502578;};}}]),_0x540f4c[_0x536f('0x6')]=_0x5fe091;},function(_0x5b2ba6,_0x7aa2ee,_0x51be7d){'use strict';Object['defineProperty'](_0x7aa2ee,_0x536f('0x4'),{'value':!0x0});var _0x4e6200=_0x100be8(_0x51be7d(0x4)),_0x353e8b=_0x100be8(_0x51be7d(0x17)),_0x20f9fa=_0x100be8(_0x51be7d(0x0)),_0x45b0c3=_0x100be8(_0x51be7d(0x1)),_0x56853b=_0x100be8(_0x51be7d(0x1d)),_0x3a6fe9=_0x100be8(_0x51be7d(0x1e)),_0x4f4d05=_0x100be8(_0x51be7d(0x40));function _0x100be8(_0x5b2ba6){return _0x5b2ba6&&_0x5b2ba6[_0x536f('0x4')]?_0x5b2ba6:{'default':_0x5b2ba6};}function _0x279c5a(_0x5b2ba6){var _0x7aa2ee=_0x5b2ba6['textureMaskPath'],_0x51be7d=_0x5b2ba6[_0x536f('0x8c0')],_0x45b0c3=_0x5b2ba6['isUseScanEffect'],_0x45b0c3=void 0x0!==_0x45b0c3&&_0x45b0c3,_0x3a6fe9=_0x5b2ba6['isUseUv2Light'],_0x3a6fe9=void 0x0!==_0x3a6fe9&&_0x3a6fe9,_0x5b2ba6=_0x5b2ba6[_0x536f('0x8c1')],_0x100be8=((0x0,_0x20f9fa[_0x536f('0x6')])(this,_0x279c5a),(0x0,_0x56853b[_0x536f('0x6')])(this,(_0x279c5a[_0x536f('0x66')]||(0x0,_0x353e8b[_0x536f('0x6')])(_0x279c5a))[_0x536f('0xa')](this))),_0x51be7d=(_0x100be8[_0x536f('0x8a9')]=new _0x4f4d05['default'](),_0x100be8[_0x536f('0x8c2')]=null,_0x100be8[_0x536f('0x8c0')]=_0x51be7d,_0x100be8[_0x536f('0x8c3')]=_0x45b0c3,_0x100be8['isUseUv2Light']=_0x3a6fe9,_0x100be8[_0x536f('0x5eb')]=0x0,_0x100be8[_0x536f('0x64d')]=0.15,_0x100be8[_0x536f('0x5d8')]=1.1,_0x100be8[_0x536f('0x8c1')]=_0x5b2ba6||0x0,_0x100be8['textures']={'textureMask':null},[{'name':_0x536f('0x8ae'),'path':_0x7aa2ee}]);return _0x100be8[_0x536f('0x8b1')](_0x51be7d),_0x100be8;}_0x51be7d=_0x51be7d(0x24)[_0x536f('0x73')],(0x0,_0x3a6fe9[_0x536f('0x6')])(_0x279c5a,_0x51be7d),(0x0,_0x45b0c3[_0x536f('0x6')])(_0x279c5a,[{'key':_0x536f('0xcd'),'value':function(){for(var _0x5b2ba6 in this[_0x536f('0x67b')])this[_0x536f('0x67b')][_0x5b2ba6]&&this[_0x536f('0x67b')][_0x5b2ba6]['dispose']();}},{'key':_0x536f('0x8b1'),'value':function(_0x5b2ba6){var _0x20f9fa=this;this[_0x536f('0x8a9')][_0x536f('0x266')](_0x5b2ba6)['then'](function(_0x5b2ba6){var _0x7aa2ee=!0x0,_0x51be7d=!0x1,_0x45b0c3=void 0x0;try{for(var _0x3a6fe9,_0x100be8=(0x0,_0x4e6200[_0x536f('0x6')])(_0x5b2ba6);!(_0x7aa2ee=(_0x3a6fe9=_0x100be8['next']())[_0x536f('0x7a')]);_0x7aa2ee=!0x0){var _0x353e8b=_0x3a6fe9[_0x536f('0x10')];'textureMask'===_0x353e8b[_0x536f('0x92')]&&(_0x353e8b[_0x536f('0x77f')]=!0x1,_0x20f9fa[_0x536f('0x67b')][_0x536f('0x8ae')]=_0x353e8b);}}catch(_0x38ce5b){_0x51be7d=!0x0,_0x45b0c3=_0x38ce5b;}finally{try{!_0x7aa2ee&&_0x100be8[_0x536f('0x265')]&&_0x100be8['return']();}finally{if(_0x51be7d)throw _0x45b0c3;}}_0x20f9fa[_0x536f('0x32d')]({'type':'canUpdate'});});}},{'key':_0x536f('0x67e'),'value':function(){var _0x5b2ba6=document[_0x536f('0x93')]('canvas');return _0x5b2ba6['width']=0x2,_0x5b2ba6[_0x536f('0x339')]=0x2,_0x5b2ba6[_0x536f('0x412')]('2d')[_0x536f('0x415')]=_0x536f('0x36e'),new THREE[(_0x536f('0x1cb'))](_0x5b2ba6);}},{'key':'createMaterial','value':function(_0x5b2ba6){var _0x7aa2ee=this;if(!_0x7aa2ee[_0x536f('0x67b')][_0x536f('0x8ae')])return!0x1;_0x5b2ba6[_0x536f('0x680')]||(_0x5b2ba6['aoMap']=this[_0x536f('0x67e')](),_0x5b2ba6[_0x536f('0x687')]=0x0),_0x5b2ba6[_0x536f('0x422')]=function(_0x5b2ba6){_0x5b2ba6[_0x536f('0x168')][_0x536f('0x429')]={'value':0x0},_0x5b2ba6[_0x536f('0x168')][_0x536f('0x8c4')]={'value':_0x7aa2ee[_0x536f('0x8c0')]},_0x5b2ba6[_0x536f('0x168')][_0x536f('0x8c5')]={'value':_0x7aa2ee[_0x536f('0x8c3')]},_0x5b2ba6[_0x536f('0x168')]['scanOffset']={'value':_0x7aa2ee[_0x536f('0x8c1')]},_0x5b2ba6['uniforms'][_0x536f('0x8ae')]={'value':_0x7aa2ee[_0x536f('0x67b')][_0x536f('0x8ae')]},_0x5b2ba6[_0x536f('0x57')]=_0x5b2ba6['vertexShader'][_0x536f('0x56')](_0x536f('0x44e'),_0x536f('0x8c6')),_0x5b2ba6[_0x536f('0x57')]=_0x5b2ba6[_0x536f('0x57')][_0x536f('0x56')]('#include\x20<uv2_vertex>',_0x536f('0x8c7')),_0x5b2ba6[_0x536f('0x58')]=_0x5b2ba6[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x8c8')),_0x5b2ba6[_0x536f('0x58')]=_0x5b2ba6['fragmentShader']['replace'](_0x536f('0x647'),_0x536f('0x8c9')),_0x7aa2ee[_0x536f('0x8ca')]&&(_0x5b2ba6[_0x536f('0x58')]=_0x5b2ba6[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x8cb'),_0x536f('0x8cc'))),_0x5b2ba6[_0x536f('0x58')]=_0x5b2ba6[_0x536f('0x58')][_0x536f('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x536f('0x8cd')),_0x7aa2ee['effectShader']=_0x5b2ba6;};}},{'key':_0x536f('0x36a'),'value':function(_0x5b2ba6){this[_0x536f('0x8c2')]&&(this[_0x536f('0x5eb')]+=_0x5b2ba6*this[_0x536f('0x64d')],this[_0x536f('0x8c2')][_0x536f('0x168')]['iTime'][_0x536f('0x10')]=this[_0x536f('0x5eb')]);}}]),_0x7aa2ee[_0x536f('0x6')]=_0x279c5a;},function(_0x479c01,_0x538671,_0x3575db){'use strict';Object[_0x536f('0x1')](_0x538671,_0x536f('0x4'),{'value':!0x0});var _0x38638f=_0x3601f8(_0x3575db(0x0));function _0x3601f8(_0x479c01){return _0x479c01&&_0x479c01[_0x536f('0x4')]?_0x479c01:{'default':_0x479c01};}function _0xdd97b9(){(0x0,_0x38638f['default'])(this,_0xdd97b9),this[_0x536f('0x8ce')]=[];}(0x0,_0x3601f8(_0x3575db(0x1))[_0x536f('0x6')])(_0xdd97b9,[{'key':'dispose','value':function(){this[_0x536f('0x8ce')]['length']=0x0;}},{'key':_0x536f('0x67e'),'value':function(){var _0x479c01=document['createElement'](_0x536f('0x411'));return _0x479c01['width']=0x2,_0x479c01['height']=0x2,_0x479c01[_0x536f('0x412')]('2d')[_0x536f('0x415')]=_0x536f('0x36e'),new THREE['Texture'](_0x479c01);}},{'key':'createMaterial','value':function(_0x479c01){_0x479c01[_0x536f('0x680')]||(_0x479c01[_0x536f('0x680')]=this[_0x536f('0x67e')](),_0x479c01[_0x536f('0x687')]=0x0),_0x479c01[_0x536f('0x422')]=function(_0x479c01){_0x479c01[_0x536f('0x168')][_0x536f('0x8cf')]={'value':!0x1},_0x479c01[_0x536f('0x58')]=_0x479c01[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x8cb'),_0x536f('0x8d0'));},this[_0x536f('0x8ce')]['push'](_0x479c01);}},{'key':_0x536f('0x8d1'),'value':function(_0x479c01){var _0x38638f,_0x538671=_0x479c01['isShow'],_0x538671=void 0x0!==_0x538671&&_0x538671,_0x3575db=_0x479c01['time'],_0x3575db=void 0x0===_0x3575db?0x1:_0x3575db,_0x3601f8=_0x479c01['callback'];0x0<this[_0x536f('0x8ce')][_0x536f('0xd')]&&(_0x38638f=this,new TWEEN['Tween']({'x':_0x538671?0x0:0x1})['to']({'x':_0x538671?0x1:0x0},0x3e8*_0x3575db)[_0x536f('0x32a')](function(_0x479c01){for(var _0x538671=0x0,_0x3575db=_0x38638f['materialList'][_0x536f('0xd')];_0x538671<_0x3575db;_0x538671++)_0x38638f[_0x536f('0x8ce')][_0x538671][_0x536f('0x8d2')]=_0x479c01['x'];})[_0x536f('0x70f')](function(){_0x3601f8&&_0x3601f8();})[_0x536f('0x324')](TWEEN[_0x536f('0x325')][_0x536f('0x326')]['In'])['start']());}},{'key':_0x536f('0x8d3'),'value':function(){this[_0x536f('0x8ce')]['length']=0x0;}}]),_0x538671[_0x536f('0x6')]=_0xdd97b9;},function(_0x96c2ad,_0x27385a,_0x519abe){'use strict';Object[_0x536f('0x1')](_0x27385a,_0x536f('0x4'),{'value':!0x0});var _0x11a606=_0x4bd5d0(_0x519abe(0x0));function _0x4bd5d0(_0x96c2ad){return _0x96c2ad&&_0x96c2ad[_0x536f('0x4')]?_0x96c2ad:{'default':_0x96c2ad};}function _0x5c6617(_0x96c2ad){_0x96c2ad=_0x96c2ad[_0x536f('0x8d4')],_0x96c2ad=void 0x0===_0x96c2ad?'#0052ab':_0x96c2ad;(0x0,_0x11a606[_0x536f('0x6')])(this,_0x5c6617),this[_0x536f('0x70a')]=new THREE['Color']()[_0x536f('0x33d')](_0x96c2ad),this[_0x536f('0xce')]=null,this[_0x536f('0x420')]=null,this[_0x536f('0xf9')]=null;}(0x0,_0x4bd5d0(_0x519abe(0x1))[_0x536f('0x6')])(_0x5c6617,[{'key':_0x536f('0x33a'),'value':function(_0x96c2ad){var _0x27385a=this;_0x96c2ad[_0x536f('0x422')]=function(_0x96c2ad){_0x96c2ad[_0x536f('0x168')][_0x536f('0x708')]={'value':1.2},_0x96c2ad['uniforms']['power']={'value':1.4},_0x96c2ad[_0x536f('0x168')]['glowColor']={'value':_0x27385a[_0x536f('0x70a')]},_0x96c2ad['vertexShader']=_0x96c2ad[_0x536f('0x57')]['replace']('#include\x20<uv_pars_vertex>',_0x536f('0x8d5')),_0x96c2ad[_0x536f('0x57')]=_0x96c2ad[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x70b')),_0x96c2ad[_0x536f('0x58')]=_0x96c2ad[_0x536f('0x58')][_0x536f('0x56')]('uniform\x20float\x20opacity;',_0x536f('0x70c')),_0x96c2ad[_0x536f('0x58')]=_0x96c2ad[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x427'),_0x536f('0x8d6'));},this['material']=_0x96c2ad;}},{'key':_0x536f('0x77a'),'value':function(){return this[_0x536f('0xce')];}},{'key':_0x536f('0x36a'),'value':function(_0x96c2ad){this[_0x536f('0x420')]&&(this[_0x536f('0xf9')]+=_0x96c2ad,this[_0x536f('0x420')]['uniforms']['iTime'][_0x536f('0x10')]=this[_0x536f('0xf9')]);}}]),_0x27385a[_0x536f('0x6')]=_0x5c6617;},function(_0x7975d1,_0x381b9e,_0xfabc26){'use strict';Object['defineProperty'](_0x381b9e,'__esModule',{'value':!0x0});var _0x13819a=_0x5e428a(_0xfabc26(0x17)),_0x431f6e=_0x5e428a(_0xfabc26(0x0)),_0x3f6328=_0x5e428a(_0xfabc26(0x1)),_0x1fb462=_0x5e428a(_0xfabc26(0x1d)),_0xe0f86a=_0x5e428a(_0xfabc26(0x1e)),_0x1e737a=_0x5e428a(_0xfabc26(0x40)),_0x5c69cf=_0xfabc26(0x24),_0x506a67=_0x5e428a(_0xfabc26(0x78));function _0x5e428a(_0x7975d1){return _0x7975d1&&_0x7975d1[_0x536f('0x4')]?_0x7975d1:{'default':_0x7975d1};}function _0x590392(_0x7975d1){var _0x381b9e=_0x7975d1[_0x536f('0xcf')],_0x7975d1=_0x7975d1['speed'],_0x7975d1=void 0x0===_0x7975d1?0.5:_0x7975d1,_0xfabc26=((0x0,_0x431f6e['default'])(this,_0x590392),(0x0,_0x1fb462[_0x536f('0x6')])(this,(_0x590392[_0x536f('0x66')]||(0x0,_0x13819a[_0x536f('0x6')])(_0x590392))[_0x536f('0xa')](this)));return _0xfabc26[_0x536f('0xcf')]=_0x381b9e,_0xfabc26[_0x536f('0xce')]=null,_0xfabc26[_0x536f('0x36b')]=_0x7975d1,_0xfabc26[_0x536f('0x1c7')]=null,_0xfabc26[_0x536f('0x67c')]=!0x1,_0xfabc26[_0x536f('0x8d7')]=null,_0xfabc26[_0x536f('0x67d')]=[],_0xfabc26;}_0xfabc26=_0x5c69cf[_0x536f('0x73')],(0x0,_0xe0f86a[_0x536f('0x6')])(_0x590392,_0xfabc26),(0x0,_0x3f6328[_0x536f('0x6')])(_0x590392,[{'key':'loadTexture','value':function(_0x7975d1){var _0x381b9e=this;new _0x1e737a[(_0x536f('0x6'))]()[_0x536f('0x267')]({'name':'foam','path':_0x7975d1})[_0x536f('0x398')](function(_0x7975d1){_0x381b9e[_0x536f('0x1c7')]=_0x7975d1,_0x381b9e[_0x536f('0x1c7')]['anisotropy']=_0x381b9e['map'][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x535')]['getMaxAnisotropy'](),_0x381b9e['dispatchEvent']({'type':_0x536f('0x493')});});}},{'key':_0x536f('0x8d8'),'value':function(_0x7975d1){this[_0x536f('0x8d7')]=new _0x506a67[(_0x536f('0x6'))]({'timer':this[_0x536f('0xcf')][_0x536f('0x2e0')],'imageWidth':_0x7975d1[_0x536f('0x68d')],'imageHeight':_0x7975d1[_0x536f('0x68e')],'xCount':_0x7975d1[_0x536f('0x55c')],'yCount':_0x7975d1[_0x536f('0x68f')],'fps':_0x7975d1['fps']}),this[_0x536f('0x8d7')]['create'](this[_0x536f('0x1c7')],!0x0);}},{'key':_0x536f('0x8d9'),'value':function(_0x7975d1){this['textureSprite']&&_0x7975d1&&(this[_0x536f('0x8d7')][_0x536f('0x2f5')]=_0x7975d1);}},{'key':_0x536f('0x8da'),'value':function(_0x7975d1){_0x7975d1[_0x536f('0x21f')][_0x536f('0x33d')](_0x536f('0x4af')),_0x7975d1['transparent']=!0x0,_0x7975d1['opacity']=0x1,_0x7975d1[_0x536f('0x1d9')]=!0x1,_0x7975d1[_0x536f('0xcf')]=this[_0x536f('0x1c7')],_0x7975d1[_0x536f('0xcf')][_0x536f('0xfa')]=!0x0,_0x7975d1[_0x536f('0xfa')]=!0x0,this['material']=_0x7975d1;}},{'key':_0x536f('0x36a'),'value':function(){this[_0x536f('0x8d7')]&&this['textureSprite'][_0x536f('0x2f3')]();}}]),_0x381b9e[_0x536f('0x6')]=_0x590392;},function(_0x526756,_0x810892,_0x4fbc23){'use strict';Object['defineProperty'](_0x810892,_0x536f('0x4'),{'value':!0x0});var _0x4294f0=_0x12eecb(_0x4fbc23(0x0)),_0xfff7d2=_0x12eecb(_0x4fbc23(0x1)),_0x2dce39=_0x4fbc23(0xbe);function _0x12eecb(_0x526756){return _0x526756&&_0x526756[_0x536f('0x4')]?_0x526756:{'default':_0x526756};}function _0x366d02(_0x526756){_0x526756['heightExtent'];var _0x810892=_0x526756['gradientType'],_0x810892=void 0x0===_0x810892?_0x536f('0x8db'):_0x810892,_0x4fbc23=_0x526756[_0x536f('0x544')],_0xfff7d2=_0x526756[_0x536f('0x71f')],_0x12eecb=_0x526756[_0x536f('0x719')],_0x12eecb=void 0x0===_0x12eecb?{'x':0x64,'y':0x64}:_0x12eecb,_0x198d71=_0x526756[_0x536f('0x8dc')],_0x2c0017=_0x526756[_0x536f('0x8dd')],_0x526756=_0x526756[_0x536f('0x8de')],_0x526756=void 0x0===_0x526756?{'scale':0xc8,'fogNear':0.15,'fogFar':0xc8}:_0x526756;(0x0,_0x4294f0[_0x536f('0x6')])(this,_0x366d02),this['heightExtent']=new THREE[(_0x536f('0x1b5'))](0x0,-0x8),this[_0x536f('0x786')]=new THREE['Color']()[_0x536f('0x33d')]('#bbcde0'),this[_0x536f('0x8df')]=_0x810892,this[_0x536f('0x8e0')]=new _0x2dce39[(_0x536f('0x507'))](_0x810892),this[_0x536f('0x544')]=_0x4fbc23,this['isShowContour']=_0x198d71,this[_0x536f('0x8dd')]=_0x2c0017,this['seaGroundConfigs']=_0x526756,this['groundTexPath']=_0xfff7d2,this[_0x536f('0x8e1')]=_0x12eecb,this[_0x536f('0x420')]=null,this['count']=0x0,this[_0x536f('0x36b')]=0.05;}(0x0,_0xfff7d2[_0x536f('0x6')])(_0x366d02,[{'key':_0x536f('0x8e2'),'value':function(){if(this[_0x536f('0x8df')]&&_0x2dce39[_0x536f('0x50d')][this[_0x536f('0x8df')]])return _0x2dce39[_0x536f('0x50d')][this['gradientType']];}},{'key':'setGradientConfig','value':function(_0x526756){_0x526756&&_0x526756['name']&&_0x526756[_0x536f('0x8e3')]&&0x0<_0x526756[_0x536f('0x8e3')]['length']&&this[_0x536f('0x8e0')][_0x536f('0x8e4')](this[_0x536f('0x8df')],_0x526756[_0x536f('0x8e3')]),this[_0x536f('0x8e0')][_0x536f('0x506')](this[_0x536f('0x8df')]);_0x526756=new THREE[(_0x536f('0x6ed'))](this[_0x536f('0x8e0')][_0x536f('0x8e5')]());_0x526756[_0x536f('0xfa')]=!0x0,this[_0x536f('0x420')]['uniforms'][_0x536f('0x8e6')]['value']=_0x526756;}},{'key':'setSeaGroundConfigs','value':function(_0x526756){_0x526756[_0x536f('0x1dc')]&&(this[_0x536f('0x420')][_0x536f('0x168')]['seaGroundScale'][_0x536f('0x10')]=_0x526756[_0x536f('0x1dc')]),_0x526756[_0x536f('0x8e7')]&&_0x526756['fogFar']&&(this['shader'][_0x536f('0x168')][_0x536f('0x8e8')]['value']=new THREE[(_0x536f('0x1b5'))](_0x526756[_0x536f('0x8e7')],_0x526756[_0x536f('0x8e9')]));}},{'key':_0x536f('0x33a'),'value':function(_0x526756){var _0x4fbc23=this,_0xfff7d2=new THREE['CanvasTexture'](this[_0x536f('0x8e0')][_0x536f('0x8e5')]()),_0x12eecb=null;return this['groundTexPath']&&((_0x12eecb=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](this[_0x536f('0x8ea')]))[_0x536f('0x434')]=THREE[_0x536f('0x376')],_0x12eecb[_0x536f('0x375')]=THREE[_0x536f('0x376')]),_0x526756[_0x536f('0x422')]=function(_0x526756){var _0x810892=_0x526756[_0x536f('0x168')];_0x526756['uniforms']=_0x810892,_0x526756['uniforms'][_0x536f('0x8eb')]={'value':_0x4fbc23[_0x536f('0x8eb')]||!0x1},_0x526756['uniforms'][_0x536f('0x429')]={'value':0x0},_0x526756[_0x536f('0x168')][_0x536f('0x8ec')]={'value':_0x4fbc23[_0x536f('0x8ec')]},_0x526756[_0x536f('0x168')][_0x536f('0x8e6')]={'value':_0xfff7d2},_0x12eecb&&(_0x526756[_0x536f('0x168')][_0x536f('0x8ed')]={'value':_0x12eecb}),_0x526756[_0x536f('0x168')][_0x536f('0x8dc')]={'value':_0x4fbc23[_0x536f('0x8dc')]||!0x1},_0x526756[_0x536f('0x168')][_0x536f('0x786')]={'value':_0x4fbc23[_0x536f('0x786')]},_0x526756[_0x536f('0x168')][_0x536f('0x8ee')]={'value':_0x4fbc23[_0x536f('0x8dd')]||!0x1},_0x526756[_0x536f('0x168')]['seaGroundScale']={'value':_0x4fbc23[_0x536f('0x8de')][_0x536f('0x1dc')]},_0x526756[_0x536f('0x168')][_0x536f('0x8e8')]={'value':new THREE['Vector2'](_0x4fbc23[_0x536f('0x8de')][_0x536f('0x8e7')],_0x4fbc23[_0x536f('0x8de')][_0x536f('0x8e9')])},_0x526756[_0x536f('0x57')]=_0x526756['vertexShader'][_0x536f('0x56')](_0x536f('0x4b3'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x526756[_0x536f('0x57')]=_0x526756[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x8ef')),_0x526756['fragmentShader']=_0x526756[_0x536f('0x58')][_0x536f('0x56')]('uniform\x20float\x20opacity;',_0x536f('0x634')+(_0x4fbc23[_0x536f('0x8ea')]?_0x536f('0x8f0'):'')+_0x536f('0x8f1')),_0x526756[_0x536f('0x58')]=_0x526756['fragmentShader'][_0x536f('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x536f('0x8f2')),_0x4fbc23['shader']=_0x526756;},_0x526756;}},{'key':'render','value':function(_0x526756){this[_0x536f('0x420')]&&(this[_0x536f('0xf9')]+=_0x526756*this[_0x536f('0x36b')],this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x429')][_0x536f('0x10')]=this['count']);}},{'key':'isShow','set':function(_0x526756){this['shader']&&(this['shader'][_0x536f('0x168')][_0x536f('0x8eb')][_0x536f('0x10')]=_0x526756);},'get':function(){if(this[_0x536f('0x420')])return this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x8eb')][_0x536f('0x10')];}},{'key':_0x536f('0x8f3'),'set':function(_0x526756){this['shader']&&(this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x8ee')]['value']=_0x526756);},'get':function(){if(this['shader'])return this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x8ee')][_0x536f('0x10')];}}]),_0x810892[_0x536f('0x6')]=_0x366d02;},function(_0x32bc4b,_0x46e261,_0x3a2cbf){'use strict';Object[_0x536f('0x1')](_0x46e261,_0x536f('0x4'),{'value':!0x0});var _0x55362f=_0x22b719(_0x3a2cbf(0x0));function _0x22b719(_0x32bc4b){return _0x32bc4b&&_0x32bc4b[_0x536f('0x4')]?_0x32bc4b:{'default':_0x32bc4b};}function _0x518706(){(0x0,_0x55362f[_0x536f('0x6')])(this,_0x518706),this['shader']=null,this['material']=null;}(0x0,_0x22b719(_0x3a2cbf(0x1))['default'])(_0x518706,[{'key':'createMaterial','value':function(_0x32bc4b,_0x46e261){var _0x3a2cbf=this;_0x32bc4b[_0x536f('0x422')]=function(_0x32bc4b){_0x32bc4b[_0x536f('0x168')]['isShow']={'value':!0x1},_0x32bc4b['uniforms'][_0x536f('0x429')]={'value':0x0},_0x32bc4b[_0x536f('0x168')]['hmExtent']={'value':new THREE[(_0x536f('0x1b7'))](_0x46e261[_0x536f('0x7f')]['x'],_0x46e261[_0x536f('0x1af')]['x'],_0x46e261[_0x536f('0x7f')]['z'],_0x46e261[_0x536f('0x1af')]['z'])},_0x32bc4b[_0x536f('0x168')][_0x536f('0x8f4')]={'value':null},_0x32bc4b[_0x536f('0x57')]=_0x32bc4b[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4b3'),_0x536f('0x8f5')),_0x32bc4b[_0x536f('0x57')]=_0x32bc4b[_0x536f('0x57')]['replace'](_0x536f('0x424'),_0x536f('0x8f6')),_0x32bc4b['fragmentShader']=_0x32bc4b[_0x536f('0x58')]['replace'](_0x536f('0x3d6'),_0x536f('0x634')+(_0x3a2cbf[_0x536f('0x8ea')]?_0x536f('0x8f0'):'')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20hmExtent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20hmTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x32bc4b['fragmentShader']=_0x32bc4b[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x427'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20hmExtent.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20hmExtent.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20hmExtent.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20hmExtent.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow\x20&&\x20vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(hmTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3a2cbf[_0x536f('0x420')]=_0x32bc4b;},this[_0x536f('0xce')]=_0x32bc4b;}},{'key':_0x536f('0x8f7'),'value':function(_0x32bc4b){this[_0x536f('0x420')]&&((_0x32bc4b=_0x32bc4b[_0x536f('0x1b1')]())[_0x536f('0x77f')]=!0x1,_0x32bc4b[_0x536f('0xfa')]=!0x0,this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x8f4')][_0x536f('0x10')]=_0x32bc4b);}},{'key':_0x536f('0x8f8'),'value':function(_0x32bc4b,_0x46e261){var _0x3a2cbf=this,_0x55362f=_0x32bc4b[_0x536f('0xcf')][_0x536f('0x1b1')]();return _0x55362f[_0x536f('0xfa')]=!0x0,_0x32bc4b[_0x536f('0x1d7')]=!0x0,_0x46e261=_0x46e261&&_0x46e261[_0x536f('0x56')](/target/g,_0x536f('0x8f9'))[_0x536f('0x56')](/(\d+)/g,function(_0x32bc4b){_0x32bc4b=Number(_0x32bc4b)/0xff;return(_0x32bc4b=0x1===(_0x32bc4b=0x0===_0x32bc4b?_0x536f('0x8fa'):_0x32bc4b)?_0x536f('0x8fb'):_0x32bc4b)[_0x536f('0x8d')]();}),_0x32bc4b[_0x536f('0x422')]=function(_0x32bc4b){_0x32bc4b[_0x536f('0x168')][_0x536f('0x8eb')]={'value':!0x0},_0x32bc4b[_0x536f('0x168')]['iTime']={'value':0x0},_0x32bc4b[_0x536f('0x168')][_0x536f('0x8f4')]={'value':_0x55362f},_0x32bc4b[_0x536f('0x57')]=_0x32bc4b[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4b3'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x32bc4b[_0x536f('0x57')]=_0x32bc4b[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x8fc')),_0x32bc4b['fragmentShader']=_0x32bc4b[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20replaceCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20hmTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20checkColorIsNear\x20(vec3\x20curCol,\x20vec3\x20targetCol,\x20float\x20nearFactor){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20delta\x20=\x20vec3(curCol\x20-\x20targetCol);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(abs(delta.r)\x20<\x20nearFactor\x20&&\x20abs(delta.g)\x20<\x20nearFactor\x20&&\x20abs(delta.b)\x20<\x20nearFactor){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x32bc4b['fragmentShader']=_0x32bc4b[_0x536f('0x58')]['replace'](_0x536f('0x427'),_0x536f('0x8fd')+_0x46e261+_0x536f('0x8fe')),_0x3a2cbf[_0x536f('0x420')]=_0x32bc4b;},_0x32bc4b;}},{'key':'isShow','set':function(_0x32bc4b){this[_0x536f('0x420')]&&(this['shader'][_0x536f('0x168')][_0x536f('0x8eb')]['value']=_0x32bc4b);}}]),_0x46e261[_0x536f('0x6')]=_0x518706;},function(_0xeefadf,_0x26ff2e,_0x4f7b68){'use strict';Object[_0x536f('0x1')](_0x26ff2e,_0x536f('0x4'),{'value':!0x0});var _0x24aac6=_0x45038f(_0x4f7b68(0x0)),_0x4a8b03=_0x45038f(_0x4f7b68(0x1)),_0x4a38d7=_0x4f7b68(0xbf),_0x27ac21=_0x4f7b68(0xbe);function _0x45038f(_0xeefadf){return _0xeefadf&&_0xeefadf[_0x536f('0x4')]?_0xeefadf:{'default':_0xeefadf};}function _0x85db86(){(0x0,_0x24aac6[_0x536f('0x6')])(this,_0x85db86),this[_0x536f('0x8df')]=_0x536f('0x509'),this[_0x536f('0x8e0')]=new _0x4a38d7[(_0x536f('0x50e'))](this['gradientType']),this[_0x536f('0x8ff')]=!0x1,this[_0x536f('0xce')]=null;}(0x0,_0x4a8b03[_0x536f('0x6')])(_0x85db86,[{'key':_0x536f('0x900'),'value':function(_0xeefadf){_0xeefadf&&_0xeefadf['name']&&_0xeefadf[_0x536f('0x8e3')]&&0x0<_0xeefadf[_0x536f('0x8e3')][_0x536f('0xd')]&&(this[_0x536f('0x8df')]=_0xeefadf[_0x536f('0x92')],this[_0x536f('0x8e0')][_0x536f('0x8e4')](this[_0x536f('0x8df')],_0xeefadf[_0x536f('0x8e3')])),this[_0x536f('0x8e0')][_0x536f('0x506')](this[_0x536f('0x8df')]);}},{'key':_0x536f('0x67e'),'value':function(_0xeefadf){for(var _0x26ff2e=0x1<arguments['length']&&void 0x0!==arguments[0x1]?arguments[0x1]:-0x32,_0x4f7b68=0x2<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x2]?arguments[0x2]:0x32,_0x24aac6=arguments[0x3],_0x4a8b03=document[_0x536f('0x93')](_0x536f('0x411')),_0x4a38d7=(_0x4a8b03['width']=0x200,_0x4a8b03[_0x536f('0x339')]=0x2,_0x4a8b03[_0x536f('0x412')]('2d')),_0x45038f=(_0x24aac6||(this['gradientLut']=new _0x27ac21[(_0x536f('0x507'))](this[_0x536f('0x8df')])),_0x4a38d7[_0x536f('0x716')](0x0,0x0,_0x4a8b03[_0x536f('0x366')],0x0)),_0x85db86=0x0,_0x429aa7=_0xeefadf[_0x536f('0xd')];_0x85db86<_0x429aa7;_0x85db86++){var _0x45a009,_0x25a1cc=_0x85db86/_0x429aa7,_0x66d813=Math[_0x536f('0x1b9')](_0xeefadf[_0x85db86][_0x536f('0x10')]/((_0x4f7b68-_0x26ff2e)/0x2));_0x24aac6?(_0x45a009=this[_0x536f('0x8e0')]['getColor'](_0x66d813),_0x45038f['addColorStop'](_0x25a1cc,_0x536f('0x901')+0xff*_0x45a009['x']+',\x20'+0xff*_0x45a009['y']+',\x20'+0xff*_0x45a009['z']+',\x20'+_0x45a009['w']+')')):(_0x45a009=this[_0x536f('0x8e0')][_0x536f('0x902')](_0x66d813),_0x45038f[_0x536f('0x413')](_0x25a1cc,_0x536f('0x903')+0xff*_0x45a009['r']+',\x20'+0xff*_0x45a009['g']+',\x20'+0xff*_0x45a009['b']+')'));}return _0x4a38d7[_0x536f('0x415')]=_0x45038f,_0x4a38d7['fillRect'](0x0,0x0,_0x4a8b03['width'],_0x4a8b03[_0x536f('0x339')]),new THREE['CanvasTexture'](_0x4a8b03);}},{'key':_0x536f('0x904'),'value':function(_0xeefadf){var _0x26ff2e=this,_0x4f7b68=_0xeefadf[_0x536f('0x1c7')],_0x24aac6=_0xeefadf[_0x536f('0x555')],_0x24aac6=void 0x0===_0x24aac6?0x1:_0x24aac6,_0x4a8b03=_0xeefadf[_0x536f('0x4c5')];this[_0x536f('0x420')]&&_0x4f7b68&&(_0x4f7b68[_0x536f('0x434')]=THREE[_0x536f('0x376')],_0x4f7b68[_0x536f('0x375')]=THREE['RepeatWrapping'],_0x4f7b68[_0x536f('0xfa')]=!0x0,this[_0x536f('0x8ff')]?(this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x8aa')][_0x536f('0x10')]=_0x4f7b68,this['isSetTexture']=!0x1):(this[_0x536f('0x420')]['uniforms'][_0x536f('0x423')][_0x536f('0x10')]=_0x4f7b68,this[_0x536f('0x8ff')]=!0x0),new TWEEN[(_0x536f('0x323'))]({'x':this[_0x536f('0x8ff')]?0x1:0x0})['to']({'x':this[_0x536f('0x8ff')]?0x0:0x1},0x3e8*_0x24aac6)[_0x536f('0x324')](TWEEN[_0x536f('0x325')][_0x536f('0x441')]['None'])[_0x536f('0x32a')](function(_0xeefadf){_0x26ff2e[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x49e')][_0x536f('0x10')]=_0xeefadf['x'],_0x4a8b03&&(_0x26ff2e[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x4c5')][_0x536f('0x10')]=THREE[_0x536f('0x19')][_0x536f('0x322')](_0x4a8b03));})['start']());}},{'key':_0x536f('0x33a'),'value':function(_0xeefadf){var _0x26ff2e=0x1<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,_0x4f7b68=this;_0xeefadf[_0x536f('0x1d7')]=!0x0,_0xeefadf['onBeforeCompile']=function(_0xeefadf){_0xeefadf[_0x536f('0x168')]['isShow']={'value':!0x1},_0xeefadf[_0x536f('0x168')][_0x536f('0x429')]={'value':0x0},_0xeefadf['uniforms']['texture1']={'value':null},_0xeefadf['uniforms']['texture2']={'value':null},_0xeefadf[_0x536f('0x168')][_0x536f('0x49e')]={'value':0x0},_0xeefadf[_0x536f('0x168')]['rotateAngle']={'value':THREE['Math']['degToRad'](_0x26ff2e)},_0xeefadf[_0x536f('0x57')]=_0xeefadf[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x4b3'),_0x536f('0x905')),_0xeefadf[_0x536f('0x57')]=_0xeefadf[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x906')),_0xeefadf[_0x536f('0x58')]=_0xeefadf[_0x536f('0x58')][_0x536f('0x56')](_0x536f('0x3d6'),_0x536f('0x907')),_0xeefadf[_0x536f('0x58')]=_0xeefadf[_0x536f('0x58')]['replace'](_0x536f('0x427'),_0x536f('0x908')),_0x4f7b68['shader']=_0xeefadf;};}},{'key':_0x536f('0x8eb'),'set':function(_0xeefadf){this[_0x536f('0x420')]&&(this[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x8eb')][_0x536f('0x10')]=_0xeefadf);}}]),_0x26ff2e['default']=_0x85db86;},function(_0x5cd25b,_0xc54644,_0x3ece11){'use strict';Object[_0x536f('0x1')](_0xc54644,_0x536f('0x4'),{'value':!0x0});var _0x4f6648=_0xb6add7(_0x3ece11(0x0)),_0x29c67e=_0xb6add7(_0x3ece11(0x1));function _0xb6add7(_0x5cd25b){return _0x5cd25b&&_0x5cd25b[_0x536f('0x4')]?_0x5cd25b:{'default':_0x5cd25b};}_0x3ece11(0x103);var _0x23efca=0x2,_0x1998ea=0x1,_0x4d54df=0x1,_0x30f7a8=0x1,_0x4f8023=0x1,_0x1c9f82=0x1,_0x3ece11=((0x0,_0x29c67e[_0x536f('0x6')])(_0x1ecc5d,[{'key':'updateWind','value':function(){_0x23efca=this[_0x536f('0x909')]['noise'](Math[_0x536f('0x1ba')](),Math[_0x536f('0x1ba')]());}},{'key':'applyWindEffect','value':function(_0x5cd25b){var _0xc54644=Math['sin'](0x0)*_0x23efca*0.001*_0x1998ea,_0x3ece11=Math[_0x536f('0x5b')](0x0)*_0x23efca*0.001*_0x4d54df,_0x4f6648=Math[_0x536f('0x5a')](0x0)*_0x23efca*0.01*_0x30f7a8,_0x29c67e=Math[_0x536f('0x5b')](0x0)*_0x23efca*0.01*_0x4f8023,_0xb6add7=0.1*(this['perlin'][_0x536f('0x8b0')](Math['random'](),Math[_0x536f('0x1ba')]())-0.5)*_0x1c9f82;_0x5cd25b[_0x536f('0x1f0')]['z']+=_0xc54644,_0x5cd25b[_0x536f('0x1f0')]['x']+=_0x3ece11,_0x5cd25b[_0x536f('0x3b')]['x']+=_0x4f6648,_0x5cd25b[_0x536f('0x3b')]['y']+=_0x29c67e,_0x5cd25b['position']['z']+=_0xb6add7,_0x5cd25b[_0x536f('0x1f0')]['z']>this['maxAngle']?(_0x5cd25b['rotation']['z']=this[_0x536f('0x90a')],_0x1998ea=-0x1):_0x5cd25b[_0x536f('0x1f0')]['z']<-this['maxAngle']&&(_0x5cd25b['rotation']['z']=-this['maxAngle'],_0x1998ea=0x1),_0x5cd25b[_0x536f('0x1f0')]['x']>this['maxAngle']?(_0x5cd25b[_0x536f('0x1f0')]['x']=this[_0x536f('0x90a')],_0x4d54df=-0x1):_0x5cd25b['rotation']['x']<-this[_0x536f('0x90a')]&&(_0x5cd25b[_0x536f('0x1f0')]['x']=-this[_0x536f('0x90a')],_0x4d54df=0x1),_0x5cd25b[_0x536f('0x3b')]['x']>this[_0x536f('0x90b')]?(_0x5cd25b[_0x536f('0x3b')]['x']=this[_0x536f('0x90b')],_0x30f7a8=-0x1):_0x5cd25b['position']['x']<-this[_0x536f('0x90b')]&&(_0x5cd25b['position']['x']=-this[_0x536f('0x90b')],_0x30f7a8=0x1),_0x5cd25b[_0x536f('0x3b')]['y']>this[_0x536f('0x90c')]?(_0x5cd25b[_0x536f('0x3b')]['y']=this[_0x536f('0x90c')]+this[_0x536f('0x444')],_0x1c9f82=-0x1):_0x5cd25b['position']['y']<-this[_0x536f('0x90c')]&&(_0x5cd25b[_0x536f('0x3b')]['y']=-this[_0x536f('0x90c')]+this['offsetHeight'],_0x1c9f82=0x1),_0x5cd25b['position']['z']>this[_0x536f('0x90d')]?(_0x5cd25b[_0x536f('0x3b')]['z']=this[_0x536f('0x90d')],_0x4f8023=-0x1):_0x5cd25b[_0x536f('0x3b')]['z']<-this['maxSway']&&(_0x5cd25b[_0x536f('0x3b')]['z']=-this[_0x536f('0x90d')],_0x4f8023=0x1);}},{'key':_0x536f('0x90e'),'value':function(_0x5cd25b){var _0xc54644=0.001*Date[_0x536f('0x2cf')](),_0x3ece11=(_0x5cd25b[_0x536f('0x3b')]['y']=this[_0x536f('0x444')]+0x2*Math[_0x536f('0x5a')](_0xc54644),THREE[_0x536f('0x19')]['degToRad'](0x2d)),_0x3ece11=new THREE['Vector3'](Math['cos'](_0x3ece11),0x0,Math['sin'](_0x3ece11));_0x5cd25b[_0x536f('0x3b')][_0x536f('0x1c3')](_0x3ece11[_0x536f('0x1c2')](0.02*Math[_0x536f('0x5a')](_0xc54644)));}},{'key':'update','value':function(){this['targetObj']&&this[_0x536f('0x90e')](this[_0x536f('0x90f')]);}}]),_0x1ecc5d);function _0x1ecc5d(_0x5cd25b){var _0xc54644=_0x5cd25b[_0x536f('0x90f')],_0x5cd25b=_0x5cd25b['offsetHeight'],_0x5cd25b=void 0x0===_0x5cd25b?0x0:_0x5cd25b;(0x0,_0x4f6648[_0x536f('0x6')])(this,_0x1ecc5d),this[_0x536f('0x90f')]=_0xc54644,this[_0x536f('0x444')]=_0x5cd25b,this[_0x536f('0x90a')]=Math['PI']/0x3c,this[_0x536f('0x90b')]=0x5,this['maxSway']=0x5,this['maxHeave']=0x5,this[_0x536f('0x909')]=new THREE['SimplexNoise'](),this[_0x536f('0x910')]();}_0xc54644['default']=_0x3ece11;},function(_0x4e7de6,_0x3972cf,_0x974e1b){'use strict';THREE['SimplexNoise']=function(_0x4e7de6){null==_0x4e7de6&&(_0x4e7de6=Math),this[_0x536f('0x911')]=[[0x1,0x1,0x0],[-0x1,0x1,0x0],[0x1,-0x1,0x0],[-0x1,-0x1,0x0],[0x1,0x0,0x1],[-0x1,0x0,0x1],[0x1,0x0,-0x1],[-0x1,0x0,-0x1],[0x0,0x1,0x1],[0x0,-0x1,0x1],[0x0,0x1,-0x1],[0x0,-0x1,-0x1]],this[_0x536f('0x912')]=[[0x0,0x1,0x1,0x1],[0x0,0x1,0x1,-0x1],[0x0,0x1,-0x1,0x1],[0x0,0x1,-0x1,-0x1],[0x0,-0x1,0x1,0x1],[0x0,-0x1,0x1,-0x1],[0x0,-0x1,-0x1,0x1],[0x0,-0x1,-0x1,-0x1],[0x1,0x0,0x1,0x1],[0x1,0x0,0x1,-0x1],[0x1,0x0,-0x1,0x1],[0x1,0x0,-0x1,-0x1],[-0x1,0x0,0x1,0x1],[-0x1,0x0,0x1,-0x1],[-0x1,0x0,-0x1,0x1],[-0x1,0x0,-0x1,-0x1],[0x1,0x1,0x0,0x1],[0x1,0x1,0x0,-0x1],[0x1,-0x1,0x0,0x1],[0x1,-0x1,0x0,-0x1],[-0x1,0x1,0x0,0x1],[-0x1,0x1,0x0,-0x1],[-0x1,-0x1,0x0,0x1],[-0x1,-0x1,0x0,-0x1],[0x1,0x1,0x1,0x0],[0x1,0x1,-0x1,0x0],[0x1,-0x1,0x1,0x0],[0x1,-0x1,-0x1,0x0],[-0x1,0x1,0x1,0x0],[-0x1,0x1,-0x1,0x0],[-0x1,-0x1,0x1,0x0],[-0x1,-0x1,-0x1,0x0]],this['p']=[];for(var _0x3972cf=0x0;_0x3972cf<0x100;_0x3972cf++)this['p'][_0x3972cf]=Math[_0x536f('0x7c')](0x100*_0x4e7de6[_0x536f('0x1ba')]());for(this[_0x536f('0x913')]=[],_0x3972cf=0x0;_0x3972cf<0x200;_0x3972cf++)this['perm'][_0x3972cf]=this['p'][0xff&_0x3972cf];this['simplex']=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x3,0x2],[0x0,0x0,0x0,0x0],[0x0,0x2,0x3,0x1],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x2,0x3,0x0],[0x0,0x2,0x1,0x3],[0x0,0x0,0x0,0x0],[0x0,0x3,0x1,0x2],[0x0,0x3,0x2,0x1],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x3,0x2,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x3],[0x0,0x0,0x0,0x0],[0x1,0x3,0x0,0x2],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x2,0x3,0x0,0x1],[0x2,0x3,0x1,0x0],[0x1,0x0,0x2,0x3],[0x1,0x0,0x3,0x2],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x2,0x0,0x3,0x1],[0x0,0x0,0x0,0x0],[0x2,0x1,0x3,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x2,0x0,0x1,0x3],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x3,0x0,0x1,0x2],[0x3,0x0,0x2,0x1],[0x0,0x0,0x0,0x0],[0x3,0x1,0x2,0x0],[0x2,0x1,0x0,0x3],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x3,0x1,0x0,0x2],[0x0,0x0,0x0,0x0],[0x3,0x2,0x0,0x1],[0x3,0x2,0x1,0x0]];},THREE[_0x536f('0x914')][_0x536f('0x8')][_0x536f('0x7a6')]=function(_0x4e7de6,_0x3972cf,_0x974e1b){return _0x4e7de6[0x0]*_0x3972cf+_0x4e7de6[0x1]*_0x974e1b;},THREE[_0x536f('0x914')][_0x536f('0x8')][_0x536f('0x915')]=function(_0x4e7de6,_0x3972cf,_0x974e1b,_0x1b0262){return _0x4e7de6[0x0]*_0x3972cf+_0x4e7de6[0x1]*_0x974e1b+_0x4e7de6[0x2]*_0x1b0262;},THREE[_0x536f('0x914')][_0x536f('0x8')][_0x536f('0x916')]=function(_0x4e7de6,_0x3972cf,_0x974e1b,_0x4d010b,_0x5e08f2){return _0x4e7de6[0x0]*_0x3972cf+_0x4e7de6[0x1]*_0x974e1b+_0x4e7de6[0x2]*_0x4d010b+_0x4e7de6[0x3]*_0x5e08f2;},THREE[_0x536f('0x914')][_0x536f('0x8')][_0x536f('0x8b0')]=function(_0x4e7de6,_0x3972cf){var _0x974e1b=(_0x4e7de6+_0x3972cf)*(0.5*(Math['sqrt'](0x3)-0x1)),_0x578dec=Math[_0x536f('0x7c')](_0x4e7de6+_0x974e1b),_0x974e1b=Math[_0x536f('0x7c')](_0x3972cf+_0x974e1b),_0x2b1509=(0x3-Math['sqrt'](0x3))/0x6,_0x33615b=(_0x578dec+_0x974e1b)*_0x2b1509,_0x4e7de6=_0x4e7de6-(_0x578dec-_0x33615b),_0x3972cf=_0x3972cf-(_0x974e1b-_0x33615b),_0x33615b=_0x3972cf<_0x4e7de6?(_0x28eca8=0x1,0x0):(_0x28eca8=0x0,0x1),_0x2082dd=_0x4e7de6-_0x28eca8+_0x2b1509,_0x527087=_0x3972cf-_0x33615b+_0x2b1509,_0x460795=_0x4e7de6-0x1+0x2*_0x2b1509,_0x2b1509=_0x3972cf-0x1+0x2*_0x2b1509,_0x578dec=0xff&_0x578dec,_0x974e1b=0xff&_0x974e1b,_0x4ce93f=this[_0x536f('0x913')][_0x578dec+this[_0x536f('0x913')][_0x974e1b]]%0xc,_0x28eca8=this[_0x536f('0x913')][_0x578dec+_0x28eca8+this['perm'][_0x974e1b+_0x33615b]]%0xc,_0x33615b=this[_0x536f('0x913')][0x1+_0x578dec+this['perm'][0x1+_0x974e1b]]%0xc,_0x578dec=0.5-_0x4e7de6*_0x4e7de6-_0x3972cf*_0x3972cf,_0x974e1b=0.5-_0x2082dd*_0x2082dd-_0x527087*_0x527087,_0x2909b6=0.5-_0x460795*_0x460795-_0x2b1509*_0x2b1509;return 0x46*((_0x578dec<0x0?0x0:(_0x578dec*=_0x578dec)*_0x578dec*this['dot'](this[_0x536f('0x911')][_0x4ce93f],_0x4e7de6,_0x3972cf))+(_0x974e1b<0x0?0x0:(_0x974e1b*=_0x974e1b)*_0x974e1b*this[_0x536f('0x7a6')](this[_0x536f('0x911')][_0x28eca8],_0x2082dd,_0x527087))+(_0x2909b6<0x0?0x0:(_0x2909b6*=_0x2909b6)*_0x2909b6*this[_0x536f('0x7a6')](this[_0x536f('0x911')][_0x33615b],_0x460795,_0x2b1509)));},THREE[_0x536f('0x914')][_0x536f('0x8')][_0x536f('0x917')]=function(_0x4e7de6,_0x3972cf,_0x974e1b){var _0x11e716=(_0x4e7de6+_0x3972cf+_0x974e1b)*(0x1/0x3),_0x269bcc=Math[_0x536f('0x7c')](_0x4e7de6+_0x11e716),_0x2b9ffe=Math[_0x536f('0x7c')](_0x3972cf+_0x11e716),_0x11e716=Math['floor'](_0x974e1b+_0x11e716),_0x5d7825=(_0x269bcc+_0x2b9ffe+_0x11e716)*(0x1/0x6),_0x4e7de6=_0x4e7de6-(_0x269bcc-_0x5d7825),_0x3972cf=_0x3972cf-(_0x2b9ffe-_0x5d7825),_0x974e1b=_0x974e1b-(_0x11e716-_0x5d7825),_0x5d7825=_0x3972cf<=_0x4e7de6?_0x974e1b<=_0x3972cf?(_0xc50ff8=_0x4e8d77=_0x8818a6=0x1,_0x1ef0b7=_0x4789dc=0x0):_0x4e8d77=_0x974e1b<=_0x4e7de6?(_0xc50ff8=_0x1ef0b7=_0x4789dc=0x0,_0x8818a6=0x1):(_0xc50ff8=_0x4789dc=_0x8818a6=0x0,_0x1ef0b7=0x1):_0x3972cf<_0x974e1b?(_0x4e8d77=_0x4789dc=_0x8818a6=0x0,_0xc50ff8=_0x1ef0b7=0x1):_0x4e7de6<_0x974e1b?(_0x4e8d77=_0x1ef0b7=_0x8818a6=0x0,_0xc50ff8=_0x4789dc=0x1):(_0xc50ff8=_0x4e8d77=_0x4789dc=0x1,_0x1ef0b7=_0x8818a6=0x0),_0x36714e=_0x4e7de6-_0x8818a6+0x1/0x6,_0x1c0fc7=_0x3972cf-_0x4789dc+0x1/0x6,_0x26c528=_0x974e1b-_0x1ef0b7+0x1/0x6,_0x2386c4=_0x4e7de6-_0x4e8d77+0x1/0x6*0x2,_0x38daf5=_0x3972cf-_0xc50ff8+0x1/0x6*0x2,_0x31b3fb=_0x974e1b-_0x5d7825+0x1/0x6*0x2,_0x3157e8=_0x4e7de6-0x1+0.5,_0x56b031=_0x3972cf-0x1+0.5,_0x22e94e=_0x974e1b-0x1+0.5,_0x269bcc=0xff&_0x269bcc,_0x2b9ffe=0xff&_0x2b9ffe,_0x11e716=0xff&_0x11e716,_0x46fe50=this[_0x536f('0x913')][_0x269bcc+this[_0x536f('0x913')][_0x2b9ffe+this[_0x536f('0x913')][_0x11e716]]]%0xc,_0x8818a6=this['perm'][_0x269bcc+_0x8818a6+this['perm'][_0x2b9ffe+_0x4789dc+this[_0x536f('0x913')][_0x11e716+_0x1ef0b7]]]%0xc,_0x4789dc=this[_0x536f('0x913')][_0x269bcc+_0x4e8d77+this['perm'][_0x2b9ffe+_0xc50ff8+this[_0x536f('0x913')][_0x11e716+_0x5d7825]]]%0xc,_0x1ef0b7=this['perm'][0x1+_0x269bcc+this['perm'][0x1+_0x2b9ffe+this['perm'][0x1+_0x11e716]]]%0xc,_0x4e8d77=0.6-_0x4e7de6*_0x4e7de6-_0x3972cf*_0x3972cf-_0x974e1b*_0x974e1b,_0xc50ff8=0.6-_0x36714e*_0x36714e-_0x1c0fc7*_0x1c0fc7-_0x26c528*_0x26c528,_0x5d7825=0.6-_0x2386c4*_0x2386c4-_0x38daf5*_0x38daf5-_0x31b3fb*_0x31b3fb,_0x269bcc=0.6-_0x3157e8*_0x3157e8-_0x56b031*_0x56b031-_0x22e94e*_0x22e94e;return 0x20*((_0x4e8d77<0x0?0x0:(_0x4e8d77*=_0x4e8d77)*_0x4e8d77*this[_0x536f('0x915')](this[_0x536f('0x911')][_0x46fe50],_0x4e7de6,_0x3972cf,_0x974e1b))+(_0xc50ff8<0x0?0x0:(_0xc50ff8*=_0xc50ff8)*_0xc50ff8*this[_0x536f('0x915')](this[_0x536f('0x911')][_0x8818a6],_0x36714e,_0x1c0fc7,_0x26c528))+(_0x5d7825<0x0?0x0:(_0x5d7825*=_0x5d7825)*_0x5d7825*this['dot3'](this[_0x536f('0x911')][_0x4789dc],_0x2386c4,_0x38daf5,_0x31b3fb))+(_0x269bcc<0x0?0x0:(_0x269bcc*=_0x269bcc)*_0x269bcc*this['dot3'](this[_0x536f('0x911')][_0x1ef0b7],_0x3157e8,_0x56b031,_0x22e94e)));},THREE[_0x536f('0x914')][_0x536f('0x8')][_0x536f('0x918')]=function(_0x4e7de6,_0x3972cf,_0x974e1b,_0x2c33de){var _0x2b95d9=this[_0x536f('0x912')],_0x1e6a45=this[_0x536f('0x919')],_0x6c006c=this[_0x536f('0x913')],_0x3c38a6=(Math[_0x536f('0x1be')](0x5)-0x1)/0x4,_0x374852=(0x5-Math[_0x536f('0x1be')](0x5))/0x14,_0x3c38a6=(_0x4e7de6+_0x3972cf+_0x974e1b+_0x2c33de)*_0x3c38a6,_0x3f24b8=Math['floor'](_0x4e7de6+_0x3c38a6),_0x2d8bb1=Math[_0x536f('0x7c')](_0x3972cf+_0x3c38a6),_0x4fe8f6=Math[_0x536f('0x7c')](_0x974e1b+_0x3c38a6),_0x3c38a6=Math[_0x536f('0x7c')](_0x2c33de+_0x3c38a6),_0x1ccd77=(_0x3f24b8+_0x2d8bb1+_0x4fe8f6+_0x3c38a6)*_0x374852,_0x4e7de6=_0x4e7de6-(_0x3f24b8-_0x1ccd77),_0x3972cf=_0x3972cf-(_0x2d8bb1-_0x1ccd77),_0x974e1b=_0x974e1b-(_0x4fe8f6-_0x1ccd77),_0x2c33de=_0x2c33de-(_0x3c38a6-_0x1ccd77),_0x1ccd77=(_0x3972cf<_0x4e7de6?0x20:0x0)+(_0x974e1b<_0x4e7de6?0x10:0x0)+(_0x974e1b<_0x3972cf?0x8:0x0)+(_0x2c33de<_0x4e7de6?0x4:0x0)+(_0x2c33de<_0x3972cf?0x2:0x0)+(_0x2c33de<_0x974e1b?0x1:0x0),_0xb764b5=0x3<=_0x1e6a45[_0x1ccd77][0x0]?0x1:0x0,_0xd47ce1=0x3<=_0x1e6a45[_0x1ccd77][0x1]?0x1:0x0,_0x599a00=0x3<=_0x1e6a45[_0x1ccd77][0x2]?0x1:0x0,_0x3ad864=0x3<=_0x1e6a45[_0x1ccd77][0x3]?0x1:0x0,_0x4cde51=0x2<=_0x1e6a45[_0x1ccd77][0x0]?0x1:0x0,_0x2ba518=0x2<=_0x1e6a45[_0x1ccd77][0x1]?0x1:0x0,_0x2b139c=0x2<=_0x1e6a45[_0x1ccd77][0x2]?0x1:0x0,_0x2231d4=0x2<=_0x1e6a45[_0x1ccd77][0x3]?0x1:0x0,_0xf40acc=0x1<=_0x1e6a45[_0x1ccd77][0x0]?0x1:0x0,_0x379392=0x1<=_0x1e6a45[_0x1ccd77][0x1]?0x1:0x0,_0x18230c=0x1<=_0x1e6a45[_0x1ccd77][0x2]?0x1:0x0,_0x1e6a45=0x1<=_0x1e6a45[_0x1ccd77][0x3]?0x1:0x0,_0x1ccd77=_0x4e7de6-_0xb764b5+_0x374852,_0x4b9c31=_0x3972cf-_0xd47ce1+_0x374852,_0x4b853b=_0x974e1b-_0x599a00+_0x374852,_0x19ee24=_0x2c33de-_0x3ad864+_0x374852,_0x323500=_0x4e7de6-_0x4cde51+0x2*_0x374852,_0x5eeb71=_0x3972cf-_0x2ba518+0x2*_0x374852,_0x804b4e=_0x974e1b-_0x2b139c+0x2*_0x374852,_0x1c0a28=_0x2c33de-_0x2231d4+0x2*_0x374852,_0x1aab5d=_0x4e7de6-_0xf40acc+0x3*_0x374852,_0x59c5df=_0x3972cf-_0x379392+0x3*_0x374852,_0x136fb6=_0x974e1b-_0x18230c+0x3*_0x374852,_0xee14dc=_0x2c33de-_0x1e6a45+0x3*_0x374852,_0x2463c6=_0x4e7de6-0x1+0x4*_0x374852,_0x5eef86=_0x3972cf-0x1+0x4*_0x374852,_0x13b56a=_0x974e1b-0x1+0x4*_0x374852,_0x374852=_0x2c33de-0x1+0x4*_0x374852,_0x3f24b8=0xff&_0x3f24b8,_0x2d8bb1=0xff&_0x2d8bb1,_0x4fe8f6=0xff&_0x4fe8f6,_0x3c38a6=0xff&_0x3c38a6,_0x359d52=_0x6c006c[_0x3f24b8+_0x6c006c[_0x2d8bb1+_0x6c006c[_0x4fe8f6+_0x6c006c[_0x3c38a6]]]]%0x20,_0xb764b5=_0x6c006c[_0x3f24b8+_0xb764b5+_0x6c006c[_0x2d8bb1+_0xd47ce1+_0x6c006c[_0x4fe8f6+_0x599a00+_0x6c006c[_0x3c38a6+_0x3ad864]]]]%0x20,_0xd47ce1=_0x6c006c[_0x3f24b8+_0x4cde51+_0x6c006c[_0x2d8bb1+_0x2ba518+_0x6c006c[_0x4fe8f6+_0x2b139c+_0x6c006c[_0x3c38a6+_0x2231d4]]]]%0x20,_0x599a00=_0x6c006c[_0x3f24b8+_0xf40acc+_0x6c006c[_0x2d8bb1+_0x379392+_0x6c006c[_0x4fe8f6+_0x18230c+_0x6c006c[_0x3c38a6+_0x1e6a45]]]]%0x20,_0x3ad864=_0x6c006c[0x1+_0x3f24b8+_0x6c006c[0x1+_0x2d8bb1+_0x6c006c[0x1+_0x4fe8f6+_0x6c006c[0x1+_0x3c38a6]]]]%0x20,_0x4cde51=0.6-_0x4e7de6*_0x4e7de6-_0x3972cf*_0x3972cf-_0x974e1b*_0x974e1b-_0x2c33de*_0x2c33de,_0x2ba518=0.6-_0x1ccd77*_0x1ccd77-_0x4b9c31*_0x4b9c31-_0x4b853b*_0x4b853b-_0x19ee24*_0x19ee24,_0x2b139c=0.6-_0x323500*_0x323500-_0x5eeb71*_0x5eeb71-_0x804b4e*_0x804b4e-_0x1c0a28*_0x1c0a28,_0x2231d4=0.6-_0x1aab5d*_0x1aab5d-_0x59c5df*_0x59c5df-_0x136fb6*_0x136fb6-_0xee14dc*_0xee14dc,_0xf40acc=0.6-_0x2463c6*_0x2463c6-_0x5eef86*_0x5eef86-_0x13b56a*_0x13b56a-_0x374852*_0x374852;return 0x1b*((_0x4cde51<0x0?0x0:(_0x4cde51*=_0x4cde51)*_0x4cde51*this['dot4'](_0x2b95d9[_0x359d52],_0x4e7de6,_0x3972cf,_0x974e1b,_0x2c33de))+(_0x2ba518<0x0?0x0:(_0x2ba518*=_0x2ba518)*_0x2ba518*this[_0x536f('0x916')](_0x2b95d9[_0xb764b5],_0x1ccd77,_0x4b9c31,_0x4b853b,_0x19ee24))+(_0x2b139c<0x0?0x0:(_0x2b139c*=_0x2b139c)*_0x2b139c*this['dot4'](_0x2b95d9[_0xd47ce1],_0x323500,_0x5eeb71,_0x804b4e,_0x1c0a28))+(_0x2231d4<0x0?0x0:(_0x2231d4*=_0x2231d4)*_0x2231d4*this[_0x536f('0x916')](_0x2b95d9[_0x599a00],_0x1aab5d,_0x59c5df,_0x136fb6,_0xee14dc))+(_0xf40acc<0x0?0x0:(_0xf40acc*=_0xf40acc)*_0xf40acc*this[_0x536f('0x916')](_0x2b95d9[_0x3ad864],_0x2463c6,_0x5eef86,_0x13b56a,_0x374852)));};},function(_0x1e537e,_0x57d3f1,_0x1be4ca){'use strict';Object[_0x536f('0x1')](_0x57d3f1,_0x536f('0x4'),{'value':!0x0}),_0x57d3f1[_0x536f('0x530')]={'CylinderFloatMarker':{'texture':_0x536f('0x91a')},'CircleRotateYMarker':{'texture':'images/building/circular_04.png'},'PointsLine':{'texture':'images/points/particle1.png'},'Points':{'texture':_0x536f('0x91b')},'CircleRippleMarker':{'texture':_0x536f('0x91c')},'CylinderSpreadMarker':{'texture':'images/scale1.png'},'ConeSpreadMarker':{'texture':_0x536f('0x91d'),'alphaTexture':_0x536f('0x91e')},'NumberUpParticle':{'texture':'images/number/fly0101_03.png','alphaTexture':_0x536f('0x91f')},'ExtentWallMarker':{'texture':_0x536f('0x91d')},'SphereSpreadMarker':{'texture':_0x536f('0x920'),'coneTexture':_0x536f('0x921')},'FireSmokeMarker':{'innerTexture':_0x536f('0x922'),'outTexture':'images/fire/out_fire.png'},'FireMarker':{'texture':_0x536f('0x923')},'SmokeMarker':{'texture':_0x536f('0x922')},'ExplosionMarker':{'smokeTex':'images/explosion/smokeparticle.png','explosionTex':_0x536f('0x924')},'WaterSpreadMarker':{'texture':'images/water/smokeparticle.png'},'FloatPointsMarker':{'texture':_0x536f('0x91b')},'UpLine':{'texture':_0x536f('0x925')},'MulripleMeshLine':{'texture':_0x536f('0x926')}};},function(_0x4ffab8,_0x1d3690,_0x5df758){'use strict';Object['defineProperty'](_0x1d3690,_0x536f('0x4'),{'value':!0x0}),_0x1d3690[_0x536f('0x6')]=function(_0x4ffab8){for(var _0x1d3690 in _0x8d881f[_0x536f('0x2a4')])if(_0x4ffab8===_0x8d881f[_0x536f('0x2a4')][_0x1d3690])return esmap['ESMapUtil'][_0x536f('0x927')](0x2)>=_0x8d881f[_0x536f('0x274')][_0x1d3690]||_0x1d3690;};var _0x8d881f=_0x5df758(0x4e);},function(_0x589907,_0x38db54,_0x2cae61){'use strict';Object[_0x536f('0x1')](_0x38db54,'__esModule',{'value':!0x0});var _0x34200,_0x502dd5,_0xd7a672,_0x3906d4,_0x284e0a,_0x5d2f51,_0x407922,_0x1f658f,_0x577c3f,_0x106c4d,_0x230a3c,_0x40fb87,_0x234544,_0x540033,_0xd2486c,_0x32619e,_0x34b5d0,_0x17e9cb,_0x5ef5a4,_0xecd362=_0x33f806(_0x2cae61(0x10)),_0x343c16=_0x33f806(_0x2cae61(0x44)),_0x5d246b=_0x33f806(_0x2cae61(0x4)),_0x38ada=_0x2cae61(0x11),_0x7ecc3c=_0x2cae61(0x79),_0x31eaf7=_0x2cae61(0x4e),_0x1a6b96=_0x33f806(_0x2cae61(0x107)),_0x267750=_0x33f806(_0x2cae61(0x125)),_0x56becd=_0x33f806(_0x2cae61(0x7b)),_0x571ee5=_0x33f806(_0x2cae61(0x126)),_0xa9e008=_0x33f806(_0x2cae61(0x128)),_0x38a6ae=_0x33f806(_0x2cae61(0x129)),_0x38c90a=_0x33f806(_0x2cae61(0x12a)),_0xa923fd=_0x33f806(_0x2cae61(0x12b)),_0x483153=_0x2cae61(0x24),_0x2cae61=_0x2cae61(0x8d);function _0x33f806(_0x38db54){return _0x38db54&&_0x38db54['__esModule']?_0x38db54:{'default':_0x38db54};}function _0x32e848(){}function _0x5201d3(_0x38db54,_0x2cae61,_0x407922){var _0x234544=_0x38db54,_0x32619e=_0x38db54['mapId'];if(_0x32619e&&_0x2cae61[_0x536f('0x928')]){_0x5ef5a4||(_0x5ef5a4=new esmap['ESEffectTool'][(_0x536f('0x929'))](_0x536f('0x92a'),esmap[_0x536f('0x511')][_0x536f('0x512')]),esmap[_0x536f('0x4e')][_0x536f('0x92b')](_0x5ef5a4),_0x5ef5a4[_0x536f('0x92c')]=[]);_0x38db54=_0x34200[_0x536f('0x92d')][_0x536f('0x92e')][_0x32619e];if(_0x38db54){var _0x1a6b96=!0x0,_0x33f806=!0x0,_0x2cae61=!0x1,_0xd2486c=void 0x0;try{for(var _0x34b5d0,_0x17e9cb=(0x0,_0x5d246b[_0x536f('0x6')])(_0x5ef5a4[_0x536f('0x92c')]);!(_0x33f806=(_0x34b5d0=_0x17e9cb[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x33f806=!0x0)if(_0x34b5d0['value']===_0x32619e){_0x1a6b96=!0x1;break;}}catch(_0x36c60f){_0x2cae61=!0x0,_0xd2486c=_0x36c60f;}finally{try{!_0x33f806&&_0x17e9cb['return']&&_0x17e9cb[_0x536f('0x265')]();}finally{if(_0x2cae61)throw _0xd2486c;}}_0x2cae61=_0x407922||_0x234544[_0x536f('0x525')]['userData'],_0x1a6b96&&(_0xd2486c=_0x2cae61[_0x536f('0x92f')]['box3']['max']['y']-_0x2cae61[_0x536f('0x92f')]['box3'][_0x536f('0x7f')]['y'],_0x407922=Math[_0x536f('0x1b9')](_0x2cae61[_0x536f('0x92f')][_0x536f('0x930')][_0x536f('0x1af')]['x']-_0x2cae61[_0x536f('0x92f')]['box3']['min']['x']),_0x2cae61=Math[_0x536f('0x1b9')](_0x2cae61[_0x536f('0x92f')][_0x536f('0x930')][_0x536f('0x1af')]['z']-_0x2cae61[_0x536f('0x92f')]['box3'][_0x536f('0x7f')]['z']),_0x407922=0.05*Math[_0x536f('0x1be')](_0x407922*_0x407922+_0x2cae61*_0x2cae61),(_0x2cae61=new esmap[(_0x536f('0x4e'))]['EffectMarker'](esmap[_0x536f('0x2a4')]['CUBE_FLOAT'],{'x':_0x38db54['x'],'y':_0x38db54['y'],'height':_0xd2486c+0x4*_0x407922,'radius':Math['min'](0xa,_0x407922),'showLevel':12.5}))[_0x536f('0x92')]=_0x32619e,_0x2cae61[_0x536f('0x931')]=_0x234544[_0x536f('0x597')],_0x2cae61[_0x536f('0x525')][_0x536f('0x92')]=_0x536f('0x5b3'),_0x2cae61['o3d_'][_0x536f('0x3f')]={'buildingId':_0x32619e,'isOpen':!0x1},_0x34200[_0x536f('0x5b4')][_0x536f('0x5b5')](_0x2cae61[_0x536f('0x525')]),_0x5ef5a4['addMarker'](_0x2cae61),_0x5ef5a4[_0x536f('0x92c')]['push'](_0x32619e));}}}function _0x12e31a(_0x38db54,_0x2cae61){var _0x407922;!_0x5d2f51||esmap[_0x536f('0x932')]&&esmap['ESTileMap'][_0x536f('0x933')]||(esmap[_0x536f('0x932')]&&!esmap['ESTileMap'][_0x536f('0x933')]?esmap[_0x536f('0x4e')]['options'][_0x536f('0x934')]&&_0x38db54&&_0x38db54[_0x536f('0x935')]&&(_0x2cae61&&_0x38db54['shadow'][_0x536f('0x227')]||(_0x407922=_0x34200[_0x536f('0x48e')][_0x38db54[_0x536f('0x935')][_0x536f('0x936')]],_0x3906d4[_0x536f('0x935')][_0x536f('0x937')](_0x407922,_0x38db54[_0x536f('0x935')],_0x234544))):esmap['ESEffectTool'][_0x536f('0x45')][_0x536f('0x934')]&&_0x38db54&&_0x38db54[_0x536f('0x935')]&&(_0x2cae61&&_0x38db54[_0x536f('0x935')][_0x536f('0x227')]||(_0x407922=_0x34200[_0x536f('0x48e')][_0x38db54[_0x536f('0x935')][_0x536f('0x936')]],_0x3906d4['shadow'][_0x536f('0x937')](_0x407922,_0x38db54[_0x536f('0x935')],_0x234544))));}function _0x3362ac(_0x38db54){_0x34b5d0[_0x536f('0x938')]&&_0x34b5d0[_0x536f('0x939')]&&_0x2b7494(_0x38db54,_0x34200['id']);}function _0x28ae18(_0x38db54,_0x2cae61){if(_0xd7a672[_0x536f('0x928')]&&_0x5ef5a4&&0x0<_0x5ef5a4[_0x536f('0x35c')][_0x536f('0xd')]){var _0x407922=!0x0,_0x234544=!0x1,_0x32619e=void 0x0;try{for(var _0x1a6b96,_0x33f806=(0x0,_0x5d246b[_0x536f('0x6')])(_0x5ef5a4['children']);!(_0x407922=(_0x1a6b96=_0x33f806[_0x536f('0x79')]())['done']);_0x407922=!0x0){var _0xd2486c=_0x1a6b96[_0x536f('0x10')];if(_0xd2486c[_0x536f('0x92')]===_0x38db54){_0xd2486c[_0x536f('0x93a')]=!_0x2cae61,_0xd2486c[_0x536f('0x36c')]=_0x2cae61;break;}}}catch(_0x3541fa){_0x234544=!0x0,_0x32619e=_0x3541fa;}finally{try{!_0x407922&&_0x33f806['return']&&_0x33f806['return']();}finally{if(_0x234544)throw _0x32619e;}}}}function _0x2b7494(_0x234544,_0x38db54){if(_0x38db54=_0x38db54||{},!_0x5d2f51){if(_0x577c3f=new _0x56becd[(_0x536f('0x6'))](_0x34200,_0x34200[_0x536f('0x307')]),_0x34200[_0x536f('0x93b')]||(_0x34200[_0x536f('0x93b')]=function(_0x38db54){var _0x2cae61=_0x34200[_0x536f('0x1d')]({'x':_0x38db54['x'],'y':_0x38db54['y'],'z':_0x38db54['z'],'bid':_0x38db54[_0x536f('0x597')]||0x0});return _0x577c3f['flyFocusTo']({'targetPos':_0x2cae61,'radius':_0x38db54[_0x536f('0x21d')],'pitchAngle':_0x38db54[_0x536f('0x30d')],'directionAngle':_0x38db54['directionAngle'],'time':_0x38db54[_0x536f('0x555')],'callback':_0x38db54[_0x536f('0x37c')]});}),_0x34200[_0x536f('0x93c')]||(_0x34200['cameraFlyToHelper']=function(_0x38db54,_0x2cae61){var _0x407922=_0x34200[_0x536f('0x307')][_0x536f('0x1c')][_0x536f('0x3b')]['distanceTo'](_0x34200['controls']['target']),_0x38db54=_0x38db54&&_0x2cae61?_0x34200[_0x536f('0x93d')]({'bid':_0x38db54,'fnum':_0x2cae61}):_0x34200[_0x536f('0x93e')](_0x34200[_0x536f('0x307')][_0x536f('0x77')]);console[_0x536f('0xdc')]((0x0,_0x343c16[_0x536f('0x6')])({'direct':_0x34200['rotateAngle'],'pitch':_0x34200['tiltAngle'],'distance':_0x407922,'target':_0x38db54}));}),_0x106c4d||(_0x34200[_0x536f('0x93f')]=function(){(_0x106c4d=_0x106c4d||new _0x571ee5[(_0x536f('0x6'))](_0x34200))['addControls']();},_0x34200['removeWalkControls']=function(){_0x106c4d[_0x536f('0x940')]();}),_0x230a3c||(_0x34200[_0x536f('0x941')]=function(_0x38db54){(_0x230a3c=_0x230a3c||new _0xa9e008[(_0x536f('0x6'))](_0x34200))[_0x536f('0x5')](_0x38db54);}),_0x234544[_0x536f('0x942')]){if(_0x502dd5['envTexture']&&(_0x502dd5['envTexture'][_0x536f('0x943')]=!0x0,_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7[_0x536f('0x2b0')][_0x536f('0x945')],'configs':_0x502dd5[_0x536f('0x946')]})),Array[_0x536f('0x1ab')](_0x502dd5[_0x536f('0x947')])){var _0x2cae61=!0x0,_0x407922=!0x1,_0x32619e=void 0x0;try{for(var _0x1a6b96,_0x33f806=(0x0,_0x5d246b['default'])(_0x502dd5[_0x536f('0x947')]);!(_0x2cae61=(_0x1a6b96=_0x33f806['next']())[_0x536f('0x7a')]);_0x2cae61=!0x0){var _0xd2486c=_0x1a6b96[_0x536f('0x10')];(0x0,_0x38ada[_0x536f('0x2b')])(_0xd2486c['roomStyle'],0x0)&&(_0xd2486c[_0x536f('0x948')]&&(_0x3906d4[_0x536f('0x515')][_0x536f('0x949')]=_0x502dd5['buildingScanLight']),_0xd2486c[_0x536f('0x94a')]&&(_0xd2486c[_0x536f('0x94a')]=(0x0,_0x38ada['getConfigAssetsPath'])(_0xd2486c[_0x536f('0x94a')])),_0xd2486c[_0x536f('0x94b')]&&(_0xd2486c[_0x536f('0x94b')]=(0x0,_0x38ada[_0x536f('0x27')])(_0xd2486c[_0x536f('0x94b')])),_0xd2486c[_0x536f('0x94c')]&&(_0xd2486c[_0x536f('0x94c')]=(0x0,_0x38ada[_0x536f('0x27')])(_0xd2486c[_0x536f('0x94c')])),_0xd2486c[_0x536f('0x94d')]&&_0xd2486c['extentEffect']['gradientImg']&&(_0xd2486c[_0x536f('0x94d')][_0x536f('0x5f9')]=(0x0,_0x38ada[_0x536f('0x27')])(_0xd2486c[_0x536f('0x94d')][_0x536f('0x5f9')])),_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7[_0x536f('0x2b0')][_0x536f('0x94e')],'configs':_0xd2486c}));}}catch(_0x390d9f){_0x407922=!0x0,_0x32619e=_0x390d9f;}finally{try{!_0x2cae61&&_0x33f806[_0x536f('0x265')]&&_0x33f806[_0x536f('0x265')]();}finally{if(_0x407922)throw _0x32619e;}}if(0x0<_0x3906d4['buildings'][_0x536f('0x94f')][_0x536f('0xd')]){var _0x34b5d0=!0x0,_0x407922=!0x1,_0x32619e=void 0x0;try{for(var _0x17e9cb,_0x5ef5a4=(0x0,_0x5d246b['default'])(_0x3906d4[_0x536f('0x515')][_0x536f('0x94f')]);!(_0x34b5d0=(_0x17e9cb=_0x5ef5a4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x34b5d0=!0x0){var _0xecd362=_0x17e9cb[_0x536f('0x10')];_0x3906d4[_0x536f('0x515')][_0x536f('0x950')](_0x38db54,_0xecd362);}}catch(_0x14e5a2){_0x407922=!0x0,_0x32619e=_0x14e5a2;}finally{try{!_0x34b5d0&&_0x5ef5a4[_0x536f('0x265')]&&_0x5ef5a4[_0x536f('0x265')]();}finally{if(_0x407922)throw _0x32619e;}}}}if(Array['isArray'](_0x502dd5[_0x536f('0x951')])){var _0x32e848=!0x0,_0x407922=!0x1,_0x32619e=void 0x0;try{for(var _0x5201d3,_0x3362ac=(0x0,_0x5d246b[_0x536f('0x6')])(_0x502dd5['tileRoomEffect']);!(_0x32e848=(_0x5201d3=_0x3362ac[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x32e848=!0x0){var _0x28ae18=_0x5201d3[_0x536f('0x10')];_0x28ae18[_0x536f('0x948')]&&(_0x3906d4[_0x536f('0x515')][_0x536f('0x949')]=_0x502dd5[_0x536f('0x952')]),_0x28ae18['topImg']&&(_0x28ae18['topImg']=(0x0,_0x38ada[_0x536f('0x27')])(_0x28ae18[_0x536f('0x94a')])),_0x28ae18[_0x536f('0x94b')]&&(_0x28ae18[_0x536f('0x94b')]=(0x0,_0x38ada[_0x536f('0x27')])(_0x28ae18[_0x536f('0x94b')])),_0x28ae18['colorImg']&&(_0x28ae18[_0x536f('0x94c')]=(0x0,_0x38ada['getConfigAssetsPath'])(_0x28ae18[_0x536f('0x94c')])),_0x28ae18['extentEffect']&&_0x28ae18[_0x536f('0x94d')]['gradientImg']&&(_0x28ae18[_0x536f('0x94d')][_0x536f('0x5f9')]=(0x0,_0x38ada[_0x536f('0x27')])(_0x28ae18[_0x536f('0x94d')][_0x536f('0x5f9')])),_0x28ae18['emissiveImg']&&(_0x28ae18['emissiveImg']=(0x0,_0x38ada[_0x536f('0x27')])(_0x28ae18[_0x536f('0x953')])),_0x28ae18[_0x536f('0x954')]&&_0x28ae18[_0x536f('0x954')][_0x536f('0x5fb')]&&(_0x28ae18['screenSky'][_0x536f('0x5fb')]=(0x0,_0x38ada[_0x536f('0x27')])(_0x28ae18[_0x536f('0x954')]['skyImg'])),_0x28ae18[_0x536f('0x5c2')]=!0x0,_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7['ESEffectsConstant']['Buildings'],'configs':_0x28ae18});}}catch(_0xf4547){_0x407922=!0x0,_0x32619e=_0xf4547;}finally{try{!_0x32e848&&_0x3362ac['return']&&_0x3362ac['return']();}finally{if(_0x407922)throw _0x32619e;}}}_0x502dd5[_0x536f('0x7c')]&&_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7['ESEffectsConstant'][_0x536f('0x955')],'configs':_0x502dd5[_0x536f('0x7c')]}),_0x502dd5[_0x536f('0x516')]&&_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7[_0x536f('0x2b0')][_0x536f('0x955')],'configs':_0x502dd5[_0x536f('0x516')]}),_0x502dd5['pointLight']&&(_0x502dd5['pointLight'][_0x536f('0x956')]=!0x0,_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7[_0x536f('0x2b0')][_0x536f('0x945')],'configs':_0x502dd5[_0x536f('0x957')]})),_0x502dd5[_0x536f('0x958')]&&esmap[_0x536f('0x4e')][_0x536f('0x45')]['isUseEffectLights']&&(_0x502dd5[_0x536f('0x958')]['isDirectLight']=!0x0,_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7[_0x536f('0x2b0')]['Lights'],'configs':_0x502dd5[_0x536f('0x958')]})),_0x502dd5[_0x536f('0x959')]&&esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x95a')]&&(_0x502dd5[_0x536f('0x959')][_0x536f('0x95b')]=!0x0,_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7[_0x536f('0x2b0')][_0x536f('0x945')],'configs':_0x502dd5['ambientLight']}));}if(_0x234544[_0x536f('0x95c')]&&_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7['ESEffectsConstant'][_0x536f('0xbd')],'configs':_0x502dd5[_0x536f('0x51b')]}),_0x234544[_0x536f('0x41a')]&&0x0<=_0x540033&&Array[_0x536f('0x1ab')](_0x502dd5[_0x536f('0x772')])){var _0x2b7494=!0x0,_0x407922=!0x1,_0x32619e=void 0x0;try{for(var _0x7ecc3c,_0x589907=(0x0,_0x5d246b[_0x536f('0x6')])(_0x502dd5[_0x536f('0x772')]);!(_0x2b7494=(_0x7ecc3c=_0x589907[_0x536f('0x79')]())['done']);_0x2b7494=!0x0){var _0x267750=_0x7ecc3c['value'];((0x0,_0x38ada[_0x536f('0x2b')])(_0x267750[_0x536f('0x3e')])||_0x267750[_0x536f('0x76')])&&_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7['ESEffectsConstant'][_0x536f('0x788')],'configs':_0x267750});}}catch(_0x44def5){_0x407922=!0x0,_0x32619e=_0x44def5;}finally{try{!_0x2b7494&&_0x589907[_0x536f('0x265')]&&_0x589907[_0x536f('0x265')]();}finally{if(_0x407922)throw _0x32619e;}}}if(_0x234544['isShowGround']&&0x0<=_0x540033&&Array[_0x536f('0x1ab')](_0x502dd5[_0x536f('0x517')])){var _0x38a6ae=!0x0,_0x407922=!0x1,_0x32619e=void 0x0;try{for(var _0x38c90a,_0xa923fd=(0x0,_0x5d246b[_0x536f('0x6')])(_0x502dd5[_0x536f('0x517')]);!(_0x38a6ae=(_0x38c90a=_0xa923fd['next']())[_0x536f('0x7a')]);_0x38a6ae=!0x0){var _0x483153=_0x38c90a[_0x536f('0x10')];(0x0,_0x38ada[_0x536f('0x2b')])(_0x483153[_0x536f('0x3e')],0x0)&&(_0x483153[_0x536f('0x95d')]&&(_0x483153['repeatImg']=(0x0,_0x38ada[_0x536f('0x27')])(_0x483153['repeatImg'])),_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7[_0x536f('0x2b0')][_0x536f('0x95e')],'configs':_0x483153})),_0x483153[_0x536f('0x95f')]&&(_0x483153[_0x536f('0x95d')]&&(_0x483153['repeatImg']=(0x0,_0x38ada[_0x536f('0x27')])(_0x483153[_0x536f('0x95d')])),_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7[_0x536f('0x2b0')][_0x536f('0x95e')],'configs':_0x483153}));}}catch(_0x4e2ac5){_0x407922=!0x0,_0x32619e=_0x4e2ac5;}finally{try{!_0x38a6ae&&_0xa923fd[_0x536f('0x265')]&&_0xa923fd[_0x536f('0x265')]();}finally{if(_0x407922)throw _0x32619e;}}}_0x234544[_0x536f('0x960')]&&0x1<=_0x540033&&Array[_0x536f('0x1ab')](_0x502dd5[_0x536f('0x519')])&&(_0x3906d4[_0x536f('0x519')][_0x536f('0x961')]=_0x502dd5['models']),_0x502dd5[_0x536f('0x935')]&&0x1<=_0x540033&&_0x3906d4[_0x536f('0x935')]['preInit'](_0x502dd5[_0x536f('0x935')]),_0x502dd5[_0x536f('0x1db')]&&_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7[_0x536f('0x2b0')]['Fog'],'configs':_0x502dd5[_0x536f('0x1db')]}),_0x234544['isOpenScreenEffect']&&_0x502dd5[_0x536f('0x962')]&&0x1<=_0x540033&&(_0x407922=!0x1,(_0x32619e=esmap[_0x536f('0x36')][_0x536f('0x963')]())[_0x536f('0x964')]&&(_0x407922=!0x0),!_0x32619e[_0x536f('0x965')]&&_0x32619e['platform']&&0x0<=[_0x536f('0x966'),'iPad','iPod'][_0x536f('0x4c')](_0x32619e[_0x536f('0x967')])&&(_0x407922=!0x0),(_0x407922=!_0x32619e[_0x536f('0x965')]&&_0x536f('0x968')==_0x32619e['platform']||_0x407922)?(_0x34200[_0x536f('0x45')][_0x536f('0x969')]=!0x0,_0x3906d4[_0x536f('0x944')]({'type':_0x31eaf7[_0x536f('0x2b0')][_0x536f('0x96a')],'configs':_0x502dd5['screenEffects']})):console[_0x536f('0xdc')](_0x536f('0x96b'))),_0x3906d4[_0x536f('0x519')][_0x536f('0x96c')](_0x502dd5),(_0xd7a672['isShowShadow']||_0x3906d4[_0x536f('0x96d')][_0x536f('0x45d')])&&(_0x32619e=(0x0,_0x38ada[_0x536f('0x30')])()?_0x536f('0x96e'):'modelLoadedAll',_0x34200[_0x536f('0x96f')](_0x32619e,function(_0x38db54){var _0x2cae61,_0x407922=_0x234544;_0x407922['effectQuality']?_0x536f('0x970')===_0x407922[_0x536f('0x971')]?(_0x3906d4[_0x536f('0x935')][_0x536f('0x45d')]&&(_0x34200[_0x536f('0x48e')]['renderer']['shadowMap'][_0x536f('0x45d')]=!0x0,_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xfa')]=!0x0),_0x3906d4[_0x536f('0x96d')][_0x536f('0x45d')]&&_0x3906d4['postProcessing'][_0x536f('0x973')][_0x536f('0x837')](0x2),_0x42f83c(),console[_0x536f('0xdc')](_0x536f('0x974')+esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x971')],'color:#66ccff;')):_0x536f('0x975')===_0x407922[_0x536f('0x971')]?(_0x3906d4[_0x536f('0x935')][_0x536f('0x45d')]&&(_0x34200[_0x536f('0x48e')][_0x536f('0x534')]['shadowMap'][_0x536f('0x45d')]=!0x0,_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xfa')]=!0x0),_0x3906d4[_0x536f('0x96d')][_0x536f('0x45d')]&&_0x3906d4[_0x536f('0x96d')][_0x536f('0x973')][_0x536f('0x837')](1.5),_0x42f83c(),console[_0x536f('0xdc')]('%c\x20effect\x20quality:\x20'+esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x971')],_0x536f('0x976'))):_0x536f('0x977')===_0x407922['effectQuality']&&(_0x3906d4[_0x536f('0x935')][_0x536f('0x45d')]&&(_0x34200[_0x536f('0x48e')]['renderer'][_0x536f('0x972')][_0x536f('0x45d')]=!0x1,_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xfa')]=!0x0),_0x3906d4[_0x536f('0x96d')][_0x536f('0x45d')]&&_0x3906d4[_0x536f('0x96d')][_0x536f('0x973')][_0x536f('0x837')](0x1),console[_0x536f('0xdc')]('%c\x20effect\x20quality:\x20'+esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x971')],_0x536f('0x976'))):(_0x42f83c(),_0x40fb87[_0x536f('0x978')](0xf)[_0x536f('0x398')](function(){_0x40fb87[_0x536f('0x978')](0x3c,!0x0);}),_0x2cae61=esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x979')],_0x40fb87['addEventListener'](_0x536f('0x97a'),function(_0x38db54){_0x38db54[_0x536f('0x2f5')]&&(_0x38db54['fps']<=0x5&&!_0x2cae61?(_0x3906d4['shadow'][_0x536f('0x45d')]&&(_0x34200['mapView'][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0x45d')]=!0x1,_0x34200[_0x536f('0x48e')][_0x536f('0x534')]['shadowMap'][_0x536f('0xfa')]=!0x0,Math['floor'](_0x38db54[_0x536f('0x2f5')])),_0x3906d4['postProcessing'][_0x536f('0x45d')]&&(_0x34200[_0x536f('0x45')]['closeComposer']=!0x1,Math['floor'](_0x38db54['fps'])),esmap[_0x536f('0x4e')][_0x536f('0x45')]['effectQuality']='close'):0x5<_0x38db54[_0x536f('0x2f5')]&&_0x38db54['fps']<=0x14&&(_0x536f('0x970')!=_0x2cae61||'medium'!=_0x2cae61)?(_0x3906d4[_0x536f('0x935')][_0x536f('0x45d')]&&!_0x3906d4[_0x536f('0x935')][_0x536f('0x97b')]&&(_0x34200['mapView'][_0x536f('0x534')][_0x536f('0x972')]['enabled']=!0x0,_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xfa')]=!0x0),_0x3906d4[_0x536f('0x96d')][_0x536f('0x45d')]&&(_0x3906d4[_0x536f('0x96d')][_0x536f('0x973')]['setScale'](0x1),Math[_0x536f('0x7c')](_0x38db54['fps'])),esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x971')]=_0x536f('0x977')):0x14<_0x38db54[_0x536f('0x2f5')]&&_0x38db54[_0x536f('0x2f5')]<=0x1e&&_0x536f('0x970')!=_0x2cae61?(_0x3906d4['shadow']['enabled']&&!_0x3906d4[_0x536f('0x935')][_0x536f('0x97b')]&&(_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0x45d')]=!0x0,_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xfa')]=!0x0),_0x3906d4['postProcessing'][_0x536f('0x45d')]&&(_0x3906d4['postProcessing']['screenEffect']['setScale'](1.5),Math[_0x536f('0x7c')](_0x38db54[_0x536f('0x2f5')])),esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x971')]='medium'):0x1e<_0x38db54[_0x536f('0x2f5')]&&(_0x3906d4['shadow'][_0x536f('0x45d')]&&!_0x3906d4[_0x536f('0x935')][_0x536f('0x97b')]&&(_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0x45d')]=!0x0,_0x34200['mapView'][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xfa')]=!0x0),_0x3906d4[_0x536f('0x96d')]['enabled']&&(_0x3906d4[_0x536f('0x96d')][_0x536f('0x973')][_0x536f('0x837')](0x2),Math[_0x536f('0x7c')](_0x38db54[_0x536f('0x2f5')])),esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x971')]=_0x536f('0x970')),_0x1f658f||console['info']('%c\x20effect\x20quality:\x20'+esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x971')],_0x536f('0x976'))),_0x1f658f=!0x0;})),_0x12e31a(_0x502dd5);})),_0x3906d4[_0x536f('0x97c')]=!0x0,_0x284e0a[_0x536f('0x97c')]=!0x0,esmap[_0x536f('0x4e')][_0x536f('0x52')]&&(esmap[_0x536f('0x97d')]=_0x3906d4),esmap['ESMap'][_0x536f('0x97e')]?_0x34200['once'](_0x536f('0x97f'),function(){_0x5d2f51=!0x0,esmap[_0x536f('0x4e')]['isInitComplete']=!0x0,_0x34200[_0x536f('0x282')]&&_0x34200[_0x536f('0x282')](_0x536f('0x980')),_0x34200[_0x536f('0x48e')]['show']();}):(_0x5d2f51=!0x0,esmap[_0x536f('0x4e')][_0x536f('0x51f')]=!0x0,_0x34200['fire']&&_0x34200[_0x536f('0x282')]('effectsInitComplete'),_0x34200['mapView'][_0x536f('0x981')]());}}function _0x42f83c(){var _0x38db54;esmap[_0x536f('0x932')]&&esmap[_0x536f('0x932')]['inited']||_0xd7a672['isShowShadow']&&_0x502dd5[_0x536f('0x935')]&&0x1<=_0x540033&&(_0x38db54=!0x1,(_0x38db54=!!esmap['ESMapUtil'][_0x536f('0x963')]()[_0x536f('0x964')]||_0x38db54)&&_0x3906d4['addEffect']({'type':_0x31eaf7[_0x536f('0x2b0')]['Shadow'],'configs':_0x502dd5[_0x536f('0x935')]}));}_0x34200=(0x0,_0x38ada['getMapInstance'])(),_0xd7a672=_0x502dd5=null,_0x3906d4=new _0x1a6b96[(_0x536f('0x6'))](),_0x284e0a=new _0x267750[(_0x536f('0x6'))](),_0x1f658f=_0x407922=_0x5d2f51=!0x1,_0x230a3c=_0x106c4d=_0x577c3f=null,_0x40fb87=new _0x38a6ae[(_0x536f('0x6'))](),_0x234544=new THREE[(_0x536f('0x59'))](),_0xd2486c=null,_0x34b5d0={'json':_0x32619e=!(_0x540033=0x9),'preload':!0x1},_0x17e9cb=[],esmap[_0x536f('0x982')]=_0x7ecc3c[_0x536f('0x2f9')],esmap[_0x536f('0x983')]=THREE[_0x536f('0x2fa')],esmap[_0x536f('0x984')]=_0x483153[_0x536f('0x73')],esmap[_0x536f('0x985')]=_0x2cae61['getSegementPoints'],_0x5ef5a4=null,_0x32e848[_0x536f('0x37d')]=function(){var _0x33f806,_0x32619e=0x0<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x0]?arguments[0x0]:{},_0x1a6b96=JSON[_0x536f('0x2fb')]((0x0,_0x343c16[_0x536f('0x6')])(_0x32619e)),_0x38db54=(_0x32619e=(0x0,_0xecd362[_0x536f('0x6')])({'loadRoads':!0x0,'showRoads':!0x1,'isUseEffectLights':!0x0,'isSetRoomEffect':!0x0,'isShowSkybox':!0x0,'isShowGround':!0x1,'isShowShadow':!0x1,'isSetModelEffect':!0x0,'isOpenScreenEffect':!0x1,'isCloseFpsDetection':!0x1,'isTileRouteShine':!0x1,'isChangeTileRoute':!0x1,'minFpsLimit':0x14,'roadsDataSrc':null,'effectQuality':null,'minEffectQuality':null,'isShowBuildingTip':!0x0,'isEsmapV':!0x1},_0x32619e),_0x3906d4[_0x536f('0x37d')](),(_0xd7a672=_0x32619e)['effectThemeSrc']+'/'+_0x32619e['effectThemeId']+'/');esmap[_0x536f('0x4e')][_0x536f('0x50')]=_0x38db54,esmap[_0x536f('0x4e')][_0x536f('0x54')]=null,esmap[_0x536f('0x4e')][_0x536f('0x45')]=_0x32619e,(0x0,_0x38ada['checkIsCityEngine'])()||(esmap['ESEffectTool'][_0x536f('0x4f')]=null),_0x34200=(0x0,_0x38ada[_0x536f('0x2d')])(),_0x32619e[_0x536f('0x960')],_0x32619e[_0x536f('0x986')]&&(_0x33f806=!0x0,esmap['ESEffectTool'][_0x536f('0x986')]||Object[_0x536f('0x1')](esmap['ESEffectTool'],_0x536f('0x986'),{'get':function(){return _0x33f806;},'set':function(_0x38db54){if(0x0<_0x3906d4['routes']['routesMarkers'][_0x536f('0xd')]){var _0x2cae61=!0x0,_0x407922=!0x1,_0x234544=void 0x0;try{for(var _0x32619e,_0x1a6b96=(0x0,_0x5d246b[_0x536f('0x6')])(_0x3906d4[_0x536f('0x51a')]['routesMarkers']);!(_0x2cae61=(_0x32619e=_0x1a6b96[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x2cae61=!0x0)_0x32619e[_0x536f('0x10')][_0x536f('0x356')][_0x536f('0x36c')]=_0x38db54;}catch(_0x111529){_0x407922=!0x0,_0x234544=_0x111529;}finally{try{!_0x2cae61&&_0x1a6b96[_0x536f('0x265')]&&_0x1a6b96['return']();}finally{if(_0x407922)throw _0x234544;}}}_0x33f806=_0x38db54;}})),esmap['ESEffectTool']&&(esmap[_0x536f('0x4e')][_0x536f('0x987')]=!0x0),_0x34200['on'](_0x536f('0x988'),function(_0x38db54){}),_0x34200['on'](_0x536f('0x989'),function(_0x38db54){if(0x0<_0x3906d4[_0x536f('0x515')][_0x536f('0x98a')][_0x536f('0xd')]&&_0xd7a672[_0x536f('0x942')]){var _0x2cae61=!0x0,_0x407922=!0x1,_0x234544=void 0x0;try{for(var _0x32619e,_0x1a6b96=(0x0,_0x5d246b[_0x536f('0x6')])(_0x3906d4[_0x536f('0x515')][_0x536f('0x98a')]);!(_0x2cae61=(_0x32619e=_0x1a6b96[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x2cae61=!0x0){var _0x33f806=_0x32619e['value'];_0x33f806[_0x536f('0x67c')]||(_0x3906d4[_0x536f('0x515')][_0x536f('0x98b')](_0x33f806),_0x33f806[_0x536f('0x67c')]=!0x0);}}catch(_0x548129){_0x407922=!0x0,_0x234544=_0x548129;}finally{try{!_0x2cae61&&_0x1a6b96[_0x536f('0x265')]&&_0x1a6b96[_0x536f('0x265')]();}finally{if(_0x407922)throw _0x234544;}}}_0xd7a672['isShowWater']&&_0x3906d4[_0x536f('0x772')]['addTilePlaneWater'](_0x502dd5);}),_0x34200['on'](_0x536f('0x98c'),function(_0x38db54){if(0x0<_0x3906d4['buildings'][_0x536f('0x98a')][_0x536f('0xd')]&&_0xd7a672['isSetRoomEffect']){var _0x2cae61=!0x0,_0x407922=!0x1,_0x234544=void 0x0;try{for(var _0x32619e,_0x1a6b96=(0x0,_0x5d246b[_0x536f('0x6')])(_0x3906d4[_0x536f('0x515')]['tileBuilidngThemes']);!(_0x2cae61=(_0x32619e=_0x1a6b96['next']())[_0x536f('0x7a')]);_0x2cae61=!0x0){var _0x33f806=_0x32619e['value'];_0x3906d4[_0x536f('0x515')][_0x536f('0x98d')](_0x38db54['id'],_0x33f806);}}catch(_0x489d21){_0x407922=!0x0,_0x234544=_0x489d21;}finally{try{!_0x2cae61&&_0x1a6b96[_0x536f('0x265')]&&_0x1a6b96[_0x536f('0x265')]();}finally{if(_0x407922)throw _0x234544;}}}}),_0x34200['on']('navLoaded',function(_0x38db54){}),_0x34200['on']('unloadTile',function(_0x38db54){}),_0x34200['on'](_0x536f('0x98e'),function(_0x38db54){var _0x2cae61,_0x407922=_0x38db54[_0x536f('0x2c9')]['Effect']||{};for(_0x2cae61 in _0x407922=function(_0x38db54){if(null==_0x38db54)throw new TypeError(_0x536f('0x98f'));for(var _0x407922=Object(_0x38db54),_0x2cae61=arguments['length'],_0x234544=Array(0x1<_0x2cae61?_0x2cae61-0x1:0x0),_0x32619e=0x1;_0x32619e<_0x2cae61;_0x32619e++)_0x234544[_0x32619e-0x1]=arguments[_0x32619e];return _0x234544[_0x536f('0x2c8')](function(_0x38db54){if(null!=_0x38db54)for(var _0x2cae61 in _0x38db54)Object['prototype']['hasOwnProperty'][_0x536f('0xa')](_0x38db54,_0x2cae61)&&(_0x407922[_0x2cae61]=_0x38db54[_0x2cae61]);}),_0x407922;}(_0x32619e,_0x407922))void 0x0!==_0x1a6b96[_0x2cae61]&&_0x1a6b96[_0x2cae61]!==_0x407922[_0x2cae61]&&(_0x407922[_0x2cae61]=_0x1a6b96[_0x2cae61]);if(_0x38db54[_0x536f('0x2c9')][_0x536f('0x4a')]&&_0x38db54[_0x536f('0x2c9')][_0x536f('0x4a')][_0x536f('0x42')]&&(_0x34200['effectId']=_0x38db54['data'][_0x536f('0x4a')][_0x536f('0x42')]),esmap['ESEffectTool'][_0x536f('0x45')]=_0x407922,_0x32619e[_0x536f('0x53')]&&_0x32619e['effectThemeId']||!(0x0,_0x38ada[_0x536f('0x30')])()){if(!_0x407922[_0x536f('0x53')]||!_0x407922[_0x536f('0x42')]){var _0x234544=(0x0,_0x38ada[_0x536f('0x28')])(_0x34200,_0x38db54[_0x536f('0x2c9')]);if(!_0x234544)return console[_0x536f('0xdc')](_0x536f('0x990'),_0x536f('0x991')),void(_0x34200[_0x536f('0x282')]&&_0x34200['fire'](_0x536f('0x992')));esmap[_0x536f('0x4e')]['configPath']=_0x234544;}}else _0xd2486c=(0x0,_0x38ada[_0x536f('0x29')])(_0x34200,_0x32619e),esmap[_0x536f('0x4e')][_0x536f('0x50')]=(0x0,_0x38ada[_0x536f('0x29')])(_0x34200,_0x32619e,!0x0),esmap[_0x536f('0x4e')][_0x536f('0x4f')]=_0xd2486c,_0x32619e['debugParams']&&_0x32619e[_0x536f('0x993')]['localEffectSrc']&&_0x32619e[_0x536f('0x993')]['localEffectId']&&(esmap[_0x536f('0x4e')]['configPath']=_0x32619e[_0x536f('0x993')][_0x536f('0x994')]+'/'+_0x32619e['debugParams'][_0x536f('0x995')]+'/'),_0x38db54[_0x536f('0x4a')]&&void 0x0!==_0x38db54[_0x536f('0x4a')][_0x536f('0x95a')]&&(esmap['ESEffectTool'][_0x536f('0x45')][_0x536f('0x95a')]=_0x38db54['Effect']['isUseEffectLights']);_0x234544=_0xd2486c||esmap[_0x536f('0x4e')][_0x536f('0x50')];try{(0x0,_0x7ecc3c['requestEffectThemeConfig'])(_0x234544)[_0x536f('0x398')](function(_0x38db54){esmap['ESEffectTool'][_0x536f('0x52')]&&(esmap['ESEffectTool'][_0x536f('0x996')]=_0x38db54),_0x502dd5=_0x38db54,_0x34b5d0[_0x536f('0x938')]=!0x0,_0x3362ac(esmap[_0x536f('0x4e')][_0x536f('0x45')]);});}catch(_0x47eda1){console[_0x536f('0xdc')](_0x536f('0x997'),'color:red;'),console['info'](_0x47eda1);}}),_0x34200['on']('tileTexturesReady',function(){}),_0x34200['on']('preLoadComplete',function(_0x38db54){(0x0,_0x38c90a[_0x536f('0x6')])(),(0x0,_0xa923fd[_0x536f('0x6')])(),_0x34b5d0[_0x536f('0x939')]=!0x0,_0x3362ac(esmap[_0x536f('0x4e')][_0x536f('0x45')]);}),_0x34200['on'](_0x536f('0x97f'),function(_0x38db54){}),_0x34200['controls'][_0x536f('0x37e')](_0x536f('0x998'),function(){_0x34200[_0x536f('0x999')]===esmap[_0x536f('0x99a')]['MODE_2D']&&_0x536f('0x977')==_0x34200[_0x536f('0x45')][_0x536f('0x99b')]&&(_0x34200[_0x536f('0x48e')]['camera'][_0x536f('0x1f0')]['copy'](_0x34200[_0x536f('0x307')][_0x536f('0x1c')][_0x536f('0x1f0')]),_0x34200[_0x536f('0x48e')][_0x536f('0x342')][_0x536f('0x3b')][_0x536f('0x1bc')](_0x34200[_0x536f('0x307')]['object']['position']),_0x34200[_0x536f('0x48e')][_0x536f('0x342')][_0x536f('0x99c')]());}),_0x34200['on'](_0x536f('0x99d'),function(_0x38db54){0x0<=_0x38db54['name'][_0x536f('0x4c')](_0x536f('0x99e'))&&'low'==_0x34200[_0x536f('0x45')]['quality']&&((0x0,_0x38ada['checkIsCityEngine'])()?_0x3906d4[_0x536f('0x519')][_0x536f('0x99f')](_0x38db54,_0x34200[_0x536f('0x5bf')][_0x536f('0x9a0')][_0x38db54['name']],_0x3906d4[_0x536f('0x935')]):_0x3906d4[_0x536f('0x519')][_0x536f('0x9a1')](_0x38db54,_0x34200[_0x536f('0x5bf')]['singleMesheDatas'][_0x38db54[_0x536f('0x92')]],_0x3906d4['shadow']));}),_0x34200['on'](_0x536f('0x9a2'),function(_0x38db54){_0x34200[_0x536f('0x92d')][_0x536f('0x9a3')][_0x38db54]&&_0x34200[_0x536f('0x92d')][_0x536f('0x9a3')][_0x38db54]['Lines']&&!_0x34200['options'][_0x536f('0x9a4')]&&_0x34200['options']['loadRoads']&&_0xd7a672[_0x536f('0x9a5')]&&_0x3906d4[_0x536f('0x51a')][_0x536f('0x9a6')](_0x34200[_0x536f('0x92d')][_0x536f('0x9a3')][_0x38db54][_0x536f('0x9a7')],_0x38db54,_0xd7a672[_0x536f('0x9a8')],_0xd7a672[_0x536f('0x9a9')]);}),_0x34200['on'](_0x536f('0x9aa'),function(_0x38db54){if(_0x502dd5){var _0x2cae61=_0x34200['mapView'][_0x536f('0x9ab')];if(_0x2cae61&&_0xd7a672['isShowShadow']&&_0x38db54[_0x536f('0x525')]&&_0x502dd5[_0x536f('0x935')]&&(_0x34200[_0x536f('0x1e')]===esmap[_0x536f('0x1f')][_0x536f('0x20')]&&_0x38db54['bType']&&0x2===_0x38db54[_0x536f('0x9ac')]&&_0x38db54['o3d_']?_0x3906d4[_0x536f('0x935')][_0x536f('0x9ad')](_0x38db54,!0x1):_0x3906d4['shadow'][_0x536f('0x9ae')](_0x38db54,_0x502dd5[_0x536f('0x935')])),_0xd7a672['isSetModelEffect']&&0x1<=_0x540033&&_0x2cae61){if(_0x502dd5['models']&&Array['isArray'](_0x502dd5['models'])){_0x3906d4[_0x536f('0x51b')][_0x536f('0x48f')]&&(_0x3906d4[_0x536f('0x519')][_0x536f('0x9af')]=_0x3906d4[_0x536f('0x51b')][_0x536f('0x48f')]);var _0x407922=!0x0,_0x2cae61=!0x1,_0x234544=void 0x0;try{for(var _0x32619e,_0x1a6b96=(0x0,_0x5d246b[_0x536f('0x6')])(_0x502dd5['models']);!(_0x407922=(_0x32619e=_0x1a6b96['next']())[_0x536f('0x7a')]);_0x407922=!0x0)_0x32619e[_0x536f('0x10')][_0x536f('0x92')]==_0x38db54[_0x536f('0x9b0')]&&_0x3906d4[_0x536f('0x519')]['setModelsEffect'](_0x38db54[_0x536f('0x9b0')],!_0x34200[_0x536f('0x45')][_0x536f('0x9b1')]&&_0x38db54[_0x536f('0x9b2')]||_0x38db54['o3d_'],_0x34200[_0x536f('0x45')][_0x536f('0x9b1')],_0x502dd5);}catch(_0x31e31f){_0x2cae61=!0x0,_0x234544=_0x31e31f;}finally{try{!_0x407922&&_0x1a6b96[_0x536f('0x265')]&&_0x1a6b96[_0x536f('0x265')]();}finally{if(_0x2cae61)throw _0x234544;}}}_0x502dd5[_0x536f('0x9b3')]&&Array[_0x536f('0x1ab')](_0x502dd5[_0x536f('0x9b3')])&&_0x3906d4[_0x536f('0x519')][_0x536f('0x9b4')](!_0x34200[_0x536f('0x45')][_0x536f('0x9b1')]&&_0x38db54['child']||_0x38db54[_0x536f('0x525')],_0x34200[_0x536f('0x45')][_0x536f('0x9b1')],_0x502dd5),_0x34200[_0x536f('0x5bf')]['modelStore']&&_0x34200[_0x536f('0x5bf')][_0x536f('0x9b5')][_0x38db54['model']]['ms']&&_0x34200[_0x536f('0x5bf')][_0x536f('0x9b5')][_0x38db54[_0x536f('0x9b0')]]['ms'][_0x536f('0x1e8')]&&_0x34200[_0x536f('0x5bf')]['modelStore'][_0x38db54['model']]['ms'][_0x536f('0xce')]&&_0x3906d4[_0x536f('0x519')][_0x536f('0x9b6')](_0x38db54['o3d_'],_0x34200[_0x536f('0x45')][_0x536f('0x9b1')],_0x34200[_0x536f('0x5bf')][_0x536f('0x9b5')][_0x38db54[_0x536f('0x9b0')]]['ms']);}if((0x0,_0x38ada[_0x536f('0x30')])()){if(_0x34200[_0x536f('0x45')]['mergeModel3D']){if(_0x38db54['brothers']&&0x0<_0x38db54[_0x536f('0x605')][_0x536f('0xd')]){var _0x33f806=!0x0,_0x2cae61=!0x1,_0x234544=void 0x0;try{for(var _0xd2486c,_0x34b5d0=(0x0,_0x5d246b[_0x536f('0x6')])(_0x38db54[_0x536f('0x605')]);!(_0x33f806=(_0xd2486c=_0x34b5d0['next']())['done']);_0x33f806=!0x0)_0x5201d3(_0xd2486c[_0x536f('0x10')],_0xd7a672,_0x38db54['o3d_']['userData']);}catch(_0x1002f6){_0x2cae61=!0x0,_0x234544=_0x1002f6;}finally{try{!_0x33f806&&_0x34b5d0[_0x536f('0x265')]&&_0x34b5d0['return']();}finally{if(_0x2cae61)throw _0x234544;}}}}else _0x5201d3(_0x38db54,_0xd7a672);_0x3906d4[_0x536f('0x519')][_0x536f('0x9b7')]&&!_0x3906d4[_0x536f('0x519')][_0x536f('0x9b7')][_0x536f('0x9b8')]&&(_0x3906d4[_0x536f('0x515')]['setTileBuildingsEnvTexture'](_0x3906d4['models'][_0x536f('0x9b7')]),_0x3906d4['models'][_0x536f('0x9b7')][_0x536f('0x9b8')]=!0x0);}}}),_0x34200['on'](_0x536f('0x9b9'),function(){_0x5ef5a4&&(_0x5ef5a4[_0x536f('0x36c')]=!0x1);}),_0x34200['on']('buildingExit',function(){_0x5ef5a4&&(_0x5ef5a4['visible']=!0x0);}),_0x34200['on']('tileUpdated',function(){0x0<_0x3906d4[_0x536f('0x515')][_0x536f('0x98a')][_0x536f('0xd')]&&_0xd7a672[_0x536f('0x942')]&&!_0x407922&&(setTimeout(function(){var _0x38db54=!0x0,_0x2cae61=!0x1,_0x407922=void 0x0;try{for(var _0x234544,_0x32619e=(0x0,_0x5d246b[_0x536f('0x6')])(_0x3906d4[_0x536f('0x515')][_0x536f('0x98a')]);!(_0x38db54=(_0x234544=_0x32619e['next']())[_0x536f('0x7a')]);_0x38db54=!0x0)_0x234544[_0x536f('0x10')][_0x536f('0xce')][_0x536f('0xfa')]=!0x0;}catch(_0x4c1bb7){_0x2cae61=!0x0,_0x407922=_0x4c1bb7;}finally{try{!_0x38db54&&_0x32619e[_0x536f('0x265')]&&_0x32619e[_0x536f('0x265')]();}finally{if(_0x2cae61)throw _0x407922;}}},0x1770),_0x407922=!0x0);}),_0x34200['on'](_0x536f('0x9ba'),function(_0x38db54){_0x28ae18(_0x38db54['id'],!0x1);}),_0x34200['on']('closeBuilding',function(_0x38db54){_0x28ae18(_0x38db54[_0x536f('0x597')],!0x0),_0xd7a672['isShowShadow']&&_0x502dd5[_0x536f('0x935')]&&setTimeout(function(){esmap['ESEffectTool'][_0x536f('0x519')]['showShadow']();},0x1f4);}),_0x34200['on']('modelLoadedAll',function(_0x38db54){var _0x38db54=_0x38db54[_0x536f('0x597')],_0x2cae61=(0x0,_0x38ada[_0x536f('0x2c')])(_0x38db54)['getFloor'](0x1)[_0x536f('0x9bb')](esmap[_0x536f('0x9bc')][_0x536f('0x9bd')]);if(_0x2cae61&&_0x2cae61[0x0])for(var _0x407922=0x0;_0x407922<_0x2cae61[0x0][_0x536f('0x525')][_0x536f('0x35c')][_0x536f('0xd')];_0x407922++)for(var _0x234544=_0x2cae61[0x0][_0x536f('0x525')][_0x536f('0x35c')][_0x407922],_0x32619e=0x0;_0x32619e<_0x234544[_0x536f('0xce')]['length'];_0x32619e++){var _0x1a6b96=_0x234544[_0x536f('0xce')][_0x32619e];_0x1a6b96&&_0x1a6b96['userData']['imgdata']&&_0x536f('0x9be')==_0x1a6b96[_0x536f('0x576')]['imgdata'][_0x536f('0x92')]&&(_0x1a6b96[_0x536f('0x36c')]=!0x1,_0x1a6b96[_0x536f('0xcd')]());}}),_0x34200['on'](_0x536f('0x595'),function(_0x38db54){esmap[_0x536f('0x4e')][_0x536f('0x986')]&&'2D'===_0x38db54?esmap[_0x536f('0x4e')][_0x536f('0x986')]=!0x1:!0x1===esmap[_0x536f('0x4e')][_0x536f('0x986')]&&'3D'===_0x38db54&&(esmap[_0x536f('0x4e')][_0x536f('0x986')]=!0x0);}),_0x34200['on'](_0x536f('0x9bf'),function(_0x38db54){_0x3906d4[_0x536f('0x519')]['updateLightPoints']();}),_0x34200['on'](_0x536f('0x9c0'),function(_0x38db54){_0x3906d4[_0x536f('0x515')]['updateTileBuildingHighLightColor'](_0x38db54[_0x536f('0x21f')]);}),_0x34200['on'](_0x536f('0x9c1'),function(){_0x234544[_0x536f('0x1bc')](_0x34200[_0x536f('0x307')][_0x536f('0x77')]),esmap[_0x536f('0x4e')][_0x536f('0x9c2')]=!0x0;}),_0x34200['on'](_0x536f('0x9c3'),function(){_0x12e31a(_0x502dd5,!0x0);}),_0x34200['on'](_0x536f('0x9c4'),function(_0x38db54){TWEEN[_0x536f('0x2f3')](),_0x3906d4[_0x536f('0x36a')](_0x38db54),_0x284e0a['render'](_0x38db54),_0x40fb87[_0x536f('0x2f3')]();}),_0x34200[_0x536f('0x96f')](_0x536f('0xcd'),function(){_0x32e848[_0x536f('0x51e')]();});},_0x32e848[_0x536f('0x9c5')]=_0x31eaf7[_0x536f('0x2b0')],_0x32e848[_0x536f('0x513')]=_0x284e0a,_0x32e848[_0x536f('0x514')]={'getCrossFloorLinePoints':function(_0x38db54,_0x2cae61){if(_0x38db54&&0x0!=_0x38db54[_0x536f('0xd')]){var _0x38db54=(0x0,_0x7ecc3c[_0x536f('0x303')])(_0x38db54),_0x407922=[],_0x234544=!0x0,_0x32619e=!0x1,_0x1a6b96=void 0x0;try{for(var _0x33f806,_0xd2486c=(0x0,_0x5d246b['default'])(_0x38db54);!(_0x234544=(_0x33f806=_0xd2486c[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x234544=!0x0){var _0x34b5d0=_0x33f806['value'],_0x17e9cb=[],_0x5ef5a4=!0x0,_0xecd362=!0x1,_0x32e848=void 0x0;try{for(var _0x5201d3,_0x3362ac=(0x0,_0x5d246b[_0x536f('0x6')])(_0x34b5d0);!(_0x5ef5a4=(_0x5201d3=_0x3362ac[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5ef5a4=!0x0){var _0x28ae18,_0x2b7494=_0x5201d3[_0x536f('0x10')];_0x2b7494[_0x536f('0x305')]?(_0x28ae18=_0x2cae61['getFloorHeight'](_0x2b7494[_0x536f('0x304')])-_0x2cae61[_0x536f('0x521')](_0x2b7494['crossTo']),_0x17e9cb['push']({'x':_0x2b7494['x'],'y':_0x2b7494['y'],'offset':_0x2b7494['offset']-_0x28ae18})):_0x17e9cb[_0x536f('0x82')]({'x':_0x2b7494['x'],'y':_0x2b7494['y'],'offset':_0x2b7494[_0x536f('0xf8')]});}}catch(_0x1330e6){_0xecd362=!0x0,_0x32e848=_0x1330e6;}finally{try{!_0x5ef5a4&&_0x3362ac[_0x536f('0x265')]&&_0x3362ac['return']();}finally{if(_0xecd362)throw _0x32e848;}}_0x407922['push']({'fnum':_0x34b5d0[0x0][_0x536f('0x304')],'linePoints':_0x17e9cb});}}catch(_0x959cc8){_0x32619e=!0x0,_0x1a6b96=_0x959cc8;}finally{try{!_0x234544&&_0xd2486c[_0x536f('0x265')]&&_0xd2486c[_0x536f('0x265')]();}finally{if(_0x32619e)throw _0x1a6b96;}}return _0x407922;}}},_0x32e848[_0x536f('0x515')]={'dispose':function(_0x38db54){_0x3906d4[_0x536f('0x515')][_0x536f('0xcd')](_0x38db54);},'removeAll':function(){_0x3906d4[_0x536f('0x515')]['disposeAll']();},'updateBuildingScanLight':function(_0x38db54,_0x2cae61){_0x536f('0x9c6')===_0x38db54&&_0x3906d4[_0x536f('0x515')]['updateTileBuildingHorizonScan'](_0x2cae61),_0x536f('0x9c7')===_0x38db54&&_0x3906d4['buildings'][_0x536f('0x9c8')](_0x2cae61),_0x536f('0x9c9')===_0x38db54&&_0x3906d4[_0x536f('0x515')][_0x536f('0x9ca')](_0x2cae61);},'toggleBuildingScanLight':function(_0x38db54,_0x2cae61){_0x3906d4['buildings']['toggleTileBuildingsScan'](_0x38db54,_0x2cae61);},'updateBuildingExtentLight':function(_0x38db54){_0x3906d4['buildings'][_0x536f('0x9cb')](_0x38db54);},'closeTileBuildingsLight':function(){_0x3906d4[_0x536f('0x515')][_0x536f('0x9cc')](!0x1);},'openTileBuildingsLight':function(){_0x3906d4[_0x536f('0x515')]['toggleTileBuildingsLight'](!0x0);},'toggleBuildingHighLight':function(_0x38db54){_0x38db54?_0x3906d4[_0x536f('0x515')][_0x536f('0x9cd')](!0x0):_0x3906d4['buildings']['updateTileBuildingExtentLightDown'](!0x1);},'updateTileBuildingAlpha':function(_0x38db54){_0x3906d4['buildings']['updateTileBuildingAlpha'](_0x38db54);},'toggleBuildingVisible':function(_0x38db54){_0x3906d4['buildings'][_0x536f('0x9ce')](_0x38db54);},'toggleTileBuildingFlatten':function(_0x38db54,_0x2cae61){},'_getEditBt':function(){return _0x3906d4[_0x536f('0x515')]['editTileBuildingThemes'];},'_getEditBtColor':function(){return _0x3906d4[_0x536f('0x515')][_0x536f('0x9cf')];}},_0x32e848[_0x536f('0x516')]={'removeAll':function(){_0x3906d4['floors']['dispose']();},'settingControlFloor':function(_0x38db54){_0x3906d4[_0x536f('0x516')][_0x536f('0x9d0')]&&_0x38db54['id']&&_0x3906d4['floors'][_0x536f('0x9d1')][_0x38db54['id']]&&(_0x3906d4['floors'][_0x536f('0x9d1')][_0x38db54['id']][_0x536f('0x9d2')]||(_0x3906d4['floors']['controlFloors'][_0x38db54['id']][_0x536f('0x9d2')]=_0x3906d4[_0x536f('0x516')][_0x536f('0x9d1')][_0x38db54['id']][_0x536f('0x3b')][_0x536f('0x1b1')]()),_0x38db54['x']&&_0x38db54['y'],void 0x0!==_0x38db54[_0x536f('0x444')]&&(!0x1===_0x38db54[_0x536f('0x444')]?_0x3906d4[_0x536f('0x516')][_0x536f('0x9d1')][_0x38db54['id']]['position']['y']=_0x3906d4[_0x536f('0x516')][_0x536f('0x9d1')][_0x38db54['id']]['_originPos']['y']:_0x3906d4[_0x536f('0x516')][_0x536f('0x9d1')][_0x38db54['id']][_0x536f('0x3b')]['y']=_0x38db54[_0x536f('0x444')]),void 0x0!==_0x38db54['isShow']&&(_0x3906d4[_0x536f('0x516')][_0x536f('0x9d1')][_0x38db54['id']]['visible']=_0x38db54['isShow']),_0x38db54[_0x536f('0x201')]&&(_0x3906d4[_0x536f('0x516')][_0x536f('0x9d1')][_0x38db54['id']][_0x536f('0xce')]['opacity']=_0x38db54[_0x536f('0x201')]),_0x38db54[_0x536f('0x59d')]&&_0x3906d4[_0x536f('0x516')]['fadeOut'](_0x38db54['id'],_0x38db54[_0x536f('0x555')]));}},_0x32e848['ground']={'removeAll':function(){_0x3906d4[_0x536f('0x517')][_0x536f('0x367')]();}},_0x32e848[_0x536f('0x518')]={'updateAmbientLight':function(_0x38db54,_0x2cae61){var _0x407922=null,_0x234544=null;_0x536f('0x14')==typeof _0x38db54?_0x407922=_0x38db54:(_0x407922=_0x38db54[_0x536f('0x49b')],_0x234544=_0x38db54['color']),_0x3906d4[_0x536f('0x518')][_0x536f('0x9d3')]({'intensity':_0x407922,'color':_0x234544,'isAnimate':!0x0,'time':_0x2cae61});},'updateDirectLights':function(_0x38db54,_0x2cae61){var _0x407922=!0x0,_0x234544=!0x1,_0x32619e=void 0x0;try{for(var _0x1a6b96,_0x33f806=(0x0,_0x5d246b[_0x536f('0x6')])(_0x3906d4[_0x536f('0x518')][_0x536f('0x9d4')]);!(_0x407922=(_0x1a6b96=_0x33f806[_0x536f('0x79')]())['done']);_0x407922=!0x0){var _0xd2486c=_0x1a6b96[_0x536f('0x10')];_0x3906d4['lights'][_0x536f('0x9d5')](_0xd2486c,_0x38db54,!0x0,_0x2cae61);}}catch(_0x2d7664){_0x234544=!0x0,_0x32619e=_0x2d7664;}finally{try{!_0x407922&&_0x33f806[_0x536f('0x265')]&&_0x33f806[_0x536f('0x265')]();}finally{if(_0x234544)throw _0x32619e;}}},'recoverAmbientLight':function(){_0x3906d4[_0x536f('0x518')][_0x536f('0x9d3')]({'isAnimate':!0x0,'isRecover':!0x0});},'removeAll':function(){_0x3906d4[_0x536f('0x518')]['dispose']();},'getLights':function(){return _0x3906d4['lights'];},'addPointLights':function(_0x38db54){_0x3906d4[_0x536f('0x518')]['addPointLights'](_0x38db54);},'togglePointLights':function(_0x38db54){var _0x2cae61=!0x0,_0x407922=!0x1,_0x234544=void 0x0;try{for(var _0x32619e,_0x1a6b96=(0x0,_0x5d246b['default'])(_0x3906d4[_0x536f('0x518')]['pointLights']);!(_0x2cae61=(_0x32619e=_0x1a6b96['next']())[_0x536f('0x7a')]);_0x2cae61=!0x0)_0x32619e[_0x536f('0x10')][_0x536f('0x36c')]=_0x38db54;}catch(_0x48c185){_0x407922=!0x0,_0x234544=_0x48c185;}finally{try{!_0x2cae61&&_0x1a6b96[_0x536f('0x265')]&&_0x1a6b96['return']();}finally{if(_0x407922)throw _0x234544;}}}},_0x32e848[_0x536f('0x51a')]={'removeAll':function(){_0x3906d4[_0x536f('0x51a')][_0x536f('0x367')]();},'updateTileRoutesRandomStyle':function(_0x38db54){_0x34200[_0x536f('0x45')][_0x536f('0x9a5')]&&esmap[_0x536f('0x4e')]['options'][_0x536f('0x9a9')]&&_0x3906d4[_0x536f('0x51a')][_0x536f('0x9d6')](_0x38db54);},'recoverTileRoutesStyle':function(){_0x34200[_0x536f('0x45')][_0x536f('0x9a5')]&&esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x9a9')]&&_0x3906d4['routes'][_0x536f('0x9d7')]();},'toggleTileRoutesVisible':function(_0x38db54){_0x3906d4[_0x536f('0x51a')][_0x536f('0x9d8')](_0x38db54);}},_0x32e848['skybox']={'removeAll':function(){_0x3906d4['skybox'][_0x536f('0xcd')]();},'getSkybox':function(){return _0x3906d4['skybox'][_0x536f('0x9d9')]?_0x3906d4[_0x536f('0x51b')]:null;},'updateSkybox':function(_0x38db54,_0x2cae61){_0x3906d4['skybox']['updateSkybox'](_0x38db54,_0x2cae61);},'toggleSkyBox':function(_0x38db54){var _0x2cae61=_0x3906d4[_0x536f('0x51b')][_0x536f('0x9d9')];_0x2cae61&&_0x2cae61['skyBox']&&(_0x2cae61[_0x536f('0x491')][_0x536f('0x36c')]=!!_0x38db54,_0x3906d4[_0x536f('0x51b')]['isLockSkyboxVisible']=!_0x2cae61['skyBox'][_0x536f('0x36c')]);}},_0x32e848[_0x536f('0x772')]={'removeAll':function(){_0x3906d4[_0x536f('0x772')][_0x536f('0x367')]();},'setStyle':function(_0x38db54,_0x2cae61){_0x3906d4['water'][_0x536f('0x33d')](_0x38db54,_0x2cae61);},'createWaveMarker':function(_0x38db54){_0x3906d4['water'][_0x536f('0x9da')](_0x38db54);},'updateWaveLines':function(_0x38db54,_0x2cae61){_0x3906d4[_0x536f('0x772')]['updateWaveLines'](_0x38db54,_0x2cae61);},'removeWaveLines':function(){_0x3906d4[_0x536f('0x772')][_0x536f('0x9db')]();}},_0x32e848[_0x536f('0x9dc')]={'setWaterRipple':function(_0x38db54){_0x3906d4[_0x536f('0x9dc')][_0x536f('0x9dd')](_0x38db54);},'setHeatPointImg':function(_0x38db54,_0x2cae61){_0x3906d4[_0x536f('0x9dc')][_0x536f('0x9de')](_0x38db54,_0x2cae61);}},_0x32e848[_0x536f('0x519')]={'_createMirroWater':function(_0x38db54,_0x2cae61){return _0x3906d4[_0x536f('0x519')][_0x536f('0x9df')](_0x38db54,_0x2cae61);},'_getMirroWater':function(_0x38db54){return _0x3906d4['models'][_0x536f('0x9e0')][_0x38db54[_0x536f('0x92')]];},'_addOceanTerrianMat':function(_0x38db54){_0x3906d4['models']['oceanTerrainMat']=_0x38db54;},'_getModelTerrainEffects':function(){return _0x3906d4[_0x536f('0x519')][_0x536f('0x9e1')];},'showTerrainGradient':function(_0x38db54){var _0x2cae61;_0x38db54[_0x536f('0x92')]&&void 0x0!==_0x38db54['isShow']&&(_0x2cae61=_0x3906d4[_0x536f('0x519')][_0x536f('0x9e2')])[_0x38db54[_0x536f('0x92')]]&&_0x2cae61[_0x38db54['name']][_0x536f('0x420')]&&(_0x2cae61[_0x38db54[_0x536f('0x92')]][_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x8eb')][_0x536f('0x10')]=_0x38db54['isShow']);},'setTerrainGradientConfig':function(_0x38db54){if(_0x38db54[_0x536f('0x92')]){var _0x2cae61=_0x3906d4['models']['gradientTerrainList'];if(_0x2cae61[_0x38db54[_0x536f('0x92')]])return _0x2cae61[_0x38db54[_0x536f('0x92')]]['setGradientConfig'](_0x38db54);}},'getTerrainGradientConfig':function(_0x38db54){if(_0x38db54['name']){var _0x2cae61=_0x3906d4[_0x536f('0x519')][_0x536f('0x9e2')];if(_0x2cae61[_0x38db54[_0x536f('0x92')]])return _0x2cae61[_0x38db54[_0x536f('0x92')]][_0x536f('0x8e2')]();}},'toggleModelLights':function(_0x38db54){_0x3906d4[_0x536f('0x519')][_0x536f('0x9e3')][_0x536f('0x8d1')](_0x38db54),_0x3906d4['models']['toggleLightPoints'](_0x38db54);},'createModelLightPoints':function(){_0x3906d4[_0x536f('0x519')][_0x536f('0x9e4')]();},'showShadow':function(){_0xd7a672[_0x536f('0x934')]&&_0x502dd5[_0x536f('0x935')]&&(_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0x45d')]=!0x0,_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xfa')]=!0x0,_0x3906d4[_0x536f('0x935')]['isLockShadowVisible']=!0x1,_0x3906d4[_0x536f('0x935')][_0x536f('0x9e5')]&&(_0x3906d4['shadow'][_0x536f('0x9e5')][_0x536f('0x36c')]=!0x0));},'closeShadow':function(){_0xd7a672[_0x536f('0x934')]&&_0x502dd5[_0x536f('0x935')]&&(_0x34200['mapView']['renderer']['shadowMap'][_0x536f('0x45d')]=!0x1,_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xfa')]=!0x0,_0x3906d4['shadow'][_0x536f('0x97b')]=!0x0,_0x3906d4[_0x536f('0x935')][_0x536f('0x9e5')]&&(_0x3906d4[_0x536f('0x935')]['shadowPlane'][_0x536f('0x36c')]=!0x1));},'toggleShadow':function(_0x38db54){_0xd7a672[_0x536f('0x934')]&&_0x502dd5['shadow']&&(_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0x45d')]=!!_0x38db54,_0x3906d4[_0x536f('0x935')][_0x536f('0x97b')]=!_0x38db54,_0x3906d4['shadow'][_0x536f('0x9e5')]&&(_0x3906d4['shadow'][_0x536f('0x9e5')][_0x536f('0x36c')]=!!_0x38db54),_0x34200[_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xfa')]=!0x0);},'updateShadow':function(){var _0x38db54;_0xd7a672[_0x536f('0x934')]&&_0x502dd5['shadow']&&(_0x38db54=_0x34200[_0x536f('0x48e')][_0x502dd5['shadow'][_0x536f('0x936')]],_0x3906d4[_0x536f('0x935')]['updateShadow2'](_0x38db54,_0x502dd5[_0x536f('0x935')],_0x234544));},'getShadow':function(){return _0x3906d4['shadow'];},'setUvTransform':function(_0x38db54){if(_0x38db54['id'])for(var _0x2cae61=_0x3906d4[_0x536f('0x519')]['uvTransformTextures'],_0x407922=0x0;_0x407922<_0x2cae61[_0x536f('0xd')];_0x407922++)if(_0x2cae61[_0x407922]['_markerId']===_0x38db54['id']){_0x38db54[_0x536f('0xf8')]&&(_0x38db54[_0x536f('0xf8')]['x']&&(_0x2cae61[_0x407922][_0x536f('0xf8')]['x']=_0x38db54['offset']['x']),_0x38db54[_0x536f('0xf8')]['y']&&(_0x2cae61[_0x407922]['offset']['y']=_0x38db54[_0x536f('0xf8')]['y']));break;}},'setTargetsFocus':function(_0x2cae61){var _0x407922=_0x2cae61[_0x536f('0x9e6')],_0x234544=_0x2cae61[_0x536f('0x9e7')],_0x32619e=_0x2cae61[_0x536f('0x201')];if(0x0<_0x234544[_0x536f('0xd')])if(_0x32619e)_0x407922['o3d_'][_0x536f('0x41c')](function(_0x38db54){_0x38db54[_0x536f('0xce')]&&-0x1===_0x234544[_0x536f('0x4c')](_0x38db54['material']['name'])&&(esmap['ESMapUtil']['setAlpha']({'target':_0x38db54,'alpha':_0x32619e,'clonemat':!0x1,'noOcclusion':!0x0}),_0x17e9cb['push'](_0x38db54));});else if(!0x1===_0x32619e){var _0x38db54=!0x0,_0x2cae61=!0x1,_0x407922=void 0x0;try{for(var _0x1a6b96,_0x33f806=(0x0,_0x5d246b[_0x536f('0x6')])(_0x17e9cb);!(_0x38db54=(_0x1a6b96=_0x33f806[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x38db54=!0x0){var _0xd2486c=_0x1a6b96[_0x536f('0x10')];esmap[_0x536f('0x36')]['setAlpha']({'target':_0xd2486c,'alpha':!0x1,'clonemat':!0x1,'noOcclusion':!0x0});}}catch(_0x35603c){_0x2cae61=!0x0,_0x407922=_0x35603c;}finally{try{!_0x38db54&&_0x33f806[_0x536f('0x265')]&&_0x33f806[_0x536f('0x265')]();}finally{if(_0x2cae61)throw _0x407922;}}_0x17e9cb['length']=0x0;}},'setControlGroupObj':function(_0x38db54){var _0x2cae61=_0x38db54[_0x536f('0x9e8')],_0x407922=_0x38db54[_0x536f('0x12')],_0x234544=_0x38db54[_0x536f('0x201')],_0x32619e=_0x38db54['transparent'],_0x1a6b96=_0x38db54[_0x536f('0x36c')],_0x33f806=_0x38db54['offsetY'],_0xd2486c=_0x38db54[_0x536f('0x355')],_0x34b5d0=_0x38db54[_0x536f('0x9e9')],_0x17e9cb=_0x3906d4[_0x536f('0x519')]['modelsControlGroups'];function _0x5ef5a4(_0x38db54,_0x2cae61){_0x38db54=_0x38db54[_0x536f('0xce')];Array[_0x536f('0x1ab')](_0x38db54)&&(_0x38db54=_0x38db54[0x0]),_0x32619e&&(_0x38db54[_0x536f('0x1d7')]=!0x0),_0x2cae61&&0x0<_0x2cae61&&(_0x38db54[_0x536f('0x576')][_0x536f('0x201')]||(_0x38db54['userData'][_0x536f('0x201')]=_0x38db54['opacity']),_0x38db54[_0x536f('0x201')]=_0x2cae61),!0x1===_0x2cae61&&_0x38db54[_0x536f('0x576')][_0x536f('0x201')]&&(_0x38db54[_0x536f('0x201')]=_0x38db54[_0x536f('0x576')][_0x536f('0x201')]);}function _0xecd362(_0x38db54,_0x2cae61){_0x38db54=_0x38db54[_0x536f('0xce')];Array['isArray'](_0x38db54)&&(_0x38db54=_0x38db54[0x0]),_0x2cae61&&0x0<_0x2cae61&&(_0x38db54[_0x536f('0x576')][_0x536f('0x687')]||(_0x38db54[_0x536f('0x576')][_0x536f('0x687')]=_0x38db54[_0x536f('0x687')]),_0x38db54[_0x536f('0x687')]=_0x2cae61),!0x1===_0x2cae61&&_0x38db54[_0x536f('0x576')][_0x536f('0x687')]&&(_0x38db54[_0x536f('0x687')]=_0x38db54[_0x536f('0x576')][_0x536f('0x687')]);}if(_0x17e9cb[_0x2cae61])for(var _0x32e848 in _0x17e9cb[_0x2cae61])if(_0x32e848===_0x407922){if(void 0x0!==_0x234544)if(_0x536f('0x372')===_0x17e9cb[_0x2cae61][_0x32e848][_0x536f('0x76')])_0x17e9cb[_0x2cae61][_0x32e848][_0x536f('0x41c')](function(_0x38db54){_0x536f('0x354')===_0x38db54[_0x536f('0x76')]&&-0x1<_0x38db54['name']['indexOf'](_0x536f('0x9ea'))&&-0x1<_0x38db54[_0x536f('0x92')]['indexOf'](_0x407922)&&(_0x234544&&0x0<_0x234544&&(_0x38db54[_0x536f('0xce')]['userData'][_0x536f('0x201')]||(_0x38db54['material'][_0x536f('0x576')][_0x536f('0x201')]=_0x38db54['material'][_0x536f('0x201')]),_0x38db54['material'][_0x536f('0x201')]=_0x234544),!0x1===_0x234544&&(_0x38db54['material']['opacity']=_0x38db54[_0x536f('0xce')][_0x536f('0x576')]['opacity']));});else if(Array[_0x536f('0x1ab')](_0x17e9cb[_0x2cae61][_0x32e848])){var _0x5201d3=!0x0,_0x3362ac=!0x1,_0x28ae18=void 0x0;try{for(var _0x2b7494,_0x7ecc3c=(0x0,_0x5d246b[_0x536f('0x6')])(_0x17e9cb[_0x2cae61][_0x32e848]);!(_0x5201d3=(_0x2b7494=_0x7ecc3c[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5201d3=!0x0)_0x5ef5a4(_0x2b7494['value'],_0x234544);}catch(_0x447f42){_0x3362ac=!0x0,_0x28ae18=_0x447f42;}finally{try{!_0x5201d3&&_0x7ecc3c[_0x536f('0x265')]&&_0x7ecc3c[_0x536f('0x265')]();}finally{if(_0x3362ac)throw _0x28ae18;}}}else _0x5ef5a4(_0x17e9cb[_0x2cae61][_0x32e848],_0x234544);if(void 0x0!==_0x34b5d0)if(Array['isArray'](_0x17e9cb[_0x2cae61][_0x32e848])){var _0x589907=!0x0,_0x3362ac=!0x1,_0x28ae18=void 0x0;try{for(var _0x267750,_0x38a6ae=(0x0,_0x5d246b['default'])(_0x17e9cb[_0x2cae61][_0x32e848]);!(_0x589907=(_0x267750=_0x38a6ae['next']())['done']);_0x589907=!0x0)_0xecd362(_0x267750[_0x536f('0x10')],_0x34b5d0);}catch(_0x36ac19){_0x3362ac=!0x0,_0x28ae18=_0x36ac19;}finally{try{!_0x589907&&_0x38a6ae[_0x536f('0x265')]&&_0x38a6ae['return']();}finally{if(_0x3362ac)throw _0x28ae18;}}}else _0xecd362(_0x17e9cb[_0x2cae61][_0x32e848],_0x34b5d0);if(void 0x0!==_0x1a6b96)if(Array['isArray'](_0x17e9cb[_0x2cae61][_0x32e848])){var _0x38c90a=!0x0,_0xa923fd=!0x1,_0x483153=void 0x0;try{for(var _0x34200,_0x502dd5=(0x0,_0x5d246b['default'])(_0x17e9cb[_0x2cae61][_0x32e848]);!(_0x38c90a=(_0x34200=_0x502dd5[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x38c90a=!0x0)_0x34200['value']['visible']=_0x1a6b96;}catch(_0x14bbaa){_0xa923fd=!0x0,_0x483153=_0x14bbaa;}finally{try{!_0x38c90a&&_0x502dd5['return']&&_0x502dd5[_0x536f('0x265')]();}finally{if(_0xa923fd)throw _0x483153;}}}else _0x17e9cb[_0x2cae61][_0x32e848][_0x536f('0x36c')]=_0x1a6b96;void 0x0!==_0x33f806&&(_0x17e9cb[_0x2cae61][_0x32e848][_0x536f('0x3b')]['y']=_0x33f806),void 0x0!==_0xd2486c&&(_0x17e9cb[_0x2cae61][_0x32e848]['renderOrder']=_0xd2486c),_0x17e9cb[_0x2cae61][_0x32e848];}},'setModelBloomLight':function(_0x38db54,_0x2cae61){_0x38db54&&_0x38db54[_0x536f('0x525')]&&_0x38db54[_0x536f('0x525')]['traverse'](function(_0x38db54){_0x536f('0x354')==_0x38db54[_0x536f('0x76')]&&!0x1===_0x38db54[_0x536f('0x9eb')]&&esmap[_0x536f('0x4e')]['screenEffect'][_0x536f('0x9ec')](_0x38db54,_0x2cae61);});},'removeModelBloomLight':function(_0x38db54){_0x38db54&&_0x38db54[_0x536f('0x525')]&&_0x38db54[_0x536f('0x525')]['traverse'](function(_0x38db54){_0x536f('0x354')==_0x38db54['type']&&!0x0===_0x38db54[_0x536f('0x9eb')]&&esmap[_0x536f('0x4e')][_0x536f('0x973')]['removeObjectBloomLight'](_0x38db54);});},'setModelProjectionHeatmap':function(_0x38db54,_0x2cae61){var _0x407922=_0x3906d4['models']['projectionHeatMaps'];_0x407922[_0x38db54]&&(_0x2cae61=_0x2cae61[_0x536f('0x9ed')]())&&(_0x407922[_0x38db54]['setHeatMapTexture'](_0x2cae61),_0x407922[_0x38db54]['isShow']=!0x0);},'setModelTextureHeatmap':function(_0x38db54,_0x2cae61){var _0x407922,_0x234544,_0x32619e=_0x3906d4[_0x536f('0x519')][_0x536f('0x9ee')];_0x32619e[_0x38db54]&&_0x2cae61[_0x536f('0x9ef')]&&(_0x407922=_0x32619e[_0x38db54]['material']['_mesh'],_0x234544=_0x32619e[_0x38db54][_0x536f('0xce')]['clone'](),_0x32619e[_0x38db54][_0x536f('0x8f8')](_0x234544,_0x2cae61['transparencyCondition']),Array[_0x536f('0x1ab')](_0x407922[_0x536f('0xce')])?_0x407922[_0x536f('0xce')][0x0]=_0x234544:_0x407922[_0x536f('0xce')]=_0x234544,_0x234544[_0x536f('0xfa')]=!0x0);},'updateModelTextureHeatmap':function(_0x38db54,_0x2cae61){var _0x407922,_0x234544,_0x32619e=_0x3906d4[_0x536f('0x519')][_0x536f('0x9ee')];_0x32619e[_0x38db54]&&(_0x407922=_0x32619e[_0x38db54]['material'][_0x536f('0x9f0')][_0x536f('0xce')],_0x2cae61[_0x536f('0x52f')]&&(_0x234544=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](_0x2cae61['imgUrl'],function(){_0x32619e[_0x38db54][_0x536f('0x8f7')](_0x234544),_0x407922[_0x536f('0xfa')]=!0x0;})));},'toggleModelHeatmap':function(_0x38db54,_0x2cae61){var _0x407922=_0x3906d4[_0x536f('0x519')][_0x536f('0x9f1')];_0x407922[_0x38db54]&&(_0x407922[_0x38db54]['isShow']=!!_0x2cae61);},'setModelGradient':function(_0x38db54){var _0x2cae61,_0x407922=_0x3906d4[_0x536f('0x519')][_0x536f('0x9f2')];_0x38db54['name']&&_0x407922[_0x38db54[_0x536f('0x92')]]&&(_0x2cae61=_0x407922[_0x38db54[_0x536f('0x92')]][_0x536f('0x67e')](_0x38db54[_0x536f('0x2c9')],_0x38db54[_0x536f('0x9f3')],_0x38db54['maxValue'],_0x38db54[_0x536f('0x9f4')]),_0x407922[_0x38db54[_0x536f('0x92')]]['updateTexture']({'texture':_0x2cae61,'time':_0x38db54[_0x536f('0x555')],'rotateAngle':_0x38db54[_0x536f('0x4c5')]}),_0x407922[_0x38db54[_0x536f('0x92')]][_0x536f('0x8eb')]=!0x0);},'toggleModelGradient':function(_0x38db54){var _0x2cae61=_0x3906d4[_0x536f('0x519')][_0x536f('0x9f2')];_0x38db54['name']&&_0x2cae61[_0x38db54[_0x536f('0x92')]]&&(_0x2cae61[_0x38db54[_0x536f('0x92')]][_0x536f('0x8eb')]=!!_0x38db54[_0x536f('0x8eb')]);},'setModelFloatShake':function(_0x38db54,_0x2cae61){_0x38db54&&_0x3906d4[_0x536f('0x519')]['createFloatShakeModel'](_0x38db54,_0x2cae61);}},_0x32e848[_0x536f('0x7be')]={'createVideoProjector':function(_0x38db54){return _0x3906d4[_0x536f('0x7be')][_0x536f('0x9f5')](_0x38db54);},'clearVideoProjector':function(){_0x3906d4['video'][_0x536f('0x2dc')]();},'showVisualField':function(_0x38db54){_0x3906d4[_0x536f('0x7be')][_0x536f('0x84b')](_0x38db54);},'updateProjectorTarget':function(_0x38db54){_0x3906d4[_0x536f('0x7be')][_0x536f('0x9f6')](_0x38db54);},'isLockCameraControls':function(_0x38db54){_0x3906d4['video'][_0x536f('0x84a')](_0x38db54);}},_0x32e848[_0x536f('0x973')]={'setObjectBloomLight':function(_0x38db54,_0x2cae61){if(esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x464')]){var _0x407922=esmap[_0x536f('0x36')][_0x536f('0x963')]();if((_0x38db54 instanceof THREE[_0x536f('0x354')]||_0x38db54 instanceof THREE['Object3D'])&&(_0x38db54[_0x536f('0x56f')][_0x536f('0x211')](0x1),_0x38db54['_isBloom']=!0x0,_0x407922[_0x536f('0x964')]&&_0x2cae61&&0x0<_0x2cae61&&_0x2cae61<0x1))if(Array[_0x536f('0x1ab')](_0x38db54[_0x536f('0xce')])){var _0x234544=!0x0,_0x407922=!0x1,_0x32619e=void 0x0;try{for(var _0x1a6b96,_0x33f806=(0x0,_0x5d246b['default'])(_0x38db54['material']);!(_0x234544=(_0x1a6b96=_0x33f806[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x234544=!0x0){var _0xd2486c=_0x1a6b96[_0x536f('0x10')],_0x34b5d0=(_0xd2486c[_0x536f('0x9f7')]||(_0xd2486c[_0x536f('0x9f7')]=_0xd2486c[_0x536f('0x21f')][_0x536f('0x1b1')]()),_0xd2486c[_0x536f('0x9f7')][_0x536f('0x1b1')]());_0x34b5d0['offsetHSL'](0x0,0x0,_0x2cae61-0x1),_0xd2486c[_0x536f('0x21f')][_0x536f('0x1bc')](_0x34b5d0);}}catch(_0x18606e){_0x407922=!0x0,_0x32619e=_0x18606e;}finally{try{!_0x234544&&_0x33f806[_0x536f('0x265')]&&_0x33f806['return']();}finally{if(_0x407922)throw _0x32619e;}}}else{_0x38db54[_0x536f('0xce')][_0x536f('0x9f7')]||(_0x38db54[_0x536f('0xce')][_0x536f('0x9f7')]=_0x38db54[_0x536f('0xce')][_0x536f('0x21f')][_0x536f('0x1b1')]());_0x407922=_0x38db54[_0x536f('0xce')]['_bloomOriginColor'][_0x536f('0x1b1')]();_0x407922[_0x536f('0x9f8')](0x0,0x0,_0x2cae61-0x1),_0x38db54['material']['color'][_0x536f('0x1bc')](_0x407922);}}},'removeObjectBloomLight':function(_0x38db54){if(_0x38db54 instanceof THREE[_0x536f('0x354')])if(_0x38db54[_0x536f('0x56f')][_0x536f('0x212')](0x1),Array[_0x536f('0x1ab')](_0x38db54[_0x536f('0xce')])){var _0x2cae61=!0x0,_0x407922=!0x1,_0x234544=void 0x0;try{for(var _0x32619e,_0x1a6b96=(0x0,_0x5d246b['default'])(_0x38db54[_0x536f('0xce')]);!(_0x2cae61=(_0x32619e=_0x1a6b96['next']())[_0x536f('0x7a')]);_0x2cae61=!0x0){var _0x33f806=_0x32619e[_0x536f('0x10')];_0x33f806[_0x536f('0x9f7')]&&_0x33f806['color'][_0x536f('0x1bc')](_0x33f806[_0x536f('0x9f7')]);}}catch(_0x55d03a){_0x407922=!0x0,_0x234544=_0x55d03a;}finally{try{!_0x2cae61&&_0x1a6b96[_0x536f('0x265')]&&_0x1a6b96['return']();}finally{if(_0x407922)throw _0x234544;}}}else _0x38db54[_0x536f('0xce')][_0x536f('0x9f7')]&&_0x38db54['material'][_0x536f('0x21f')][_0x536f('0x1bc')](_0x38db54[_0x536f('0xce')][_0x536f('0x9f7')]);else console[_0x536f('0xdc')](_0x536f('0x9f9'));},'updateOutlineStyle':function(_0x38db54){_0x3906d4['postProcessing'][_0x536f('0x9fa')](_0x38db54);},'setObjectOutline':function(_0x38db54,_0x2cae61){_0x3906d4['postProcessing'][_0x536f('0x9fb')](_0x38db54,_0x2cae61);},'removeObjectOutline':function(_0x38db54){_0x3906d4[_0x536f('0x96d')][_0x536f('0x9fc')](_0x38db54);},'clearSelectedOutline':function(){_0x3906d4[_0x536f('0x96d')][_0x536f('0x9fd')]();},'resetBackgroundColor':function(_0x38db54){_0x3906d4[_0x536f('0x96d')]['screenEffect'][_0x536f('0x9fe')]&&(_0x3906d4[_0x536f('0x96d')]['screenEffect']['relaceBgMaterial']['color'][_0x536f('0x33d')](_0x38db54),_0x3906d4[_0x536f('0x96d')][_0x536f('0x973')][_0x536f('0x9fe')][_0x536f('0xfa')]=!0x0);},'toggleScreenEffect':function(_0x38db54){_0x3906d4[_0x536f('0x96d')][_0x536f('0x973')]&&(_0x38db54&&!_0x3906d4[_0x536f('0x96d')][_0x536f('0x973')]['enabled']?console[_0x536f('0xdc')](_0x536f('0x9ff'),_0x536f('0x991')):(esmap[_0x536f('0x21')][_0x536f('0x22')][_0x536f('0x45')][_0x536f('0x969')]=!!_0x38db54,_0x3906d4['postProcessing'][_0x536f('0x973')]&&(_0x3906d4[_0x536f('0x96d')][_0x536f('0x973')][_0x536f('0xa00')][_0x536f('0xd')]=0x0),esmap['ESEffectTool']['options']['isOpenScreenEffect']=_0x38db54));},'setRainScreenEffect':function(_0x38db54){return _0x3906d4[_0x536f('0x96d')]['setRainScreenEffect'](_0x38db54);},'setSnowScreenEffect':function(_0x38db54){return _0x3906d4['postProcessing'][_0x536f('0xa01')](_0x38db54);}},_0x32e848['switchEffectLight']=function(_0x38db54,_0x2cae61,_0x407922){_0x32619e||(_0x3906d4[_0x536f('0x518')][_0x536f('0xa02')]({'configs':_0x38db54}),_0x3906d4[_0x536f('0x518')][_0x536f('0xa03')](_0x38db54[_0x536f('0x946')]),_0x3906d4[_0x536f('0x51b')][_0x536f('0xa04')](_0x38db54['skybox']),_0x3906d4[_0x536f('0x935')][_0x536f('0x45d')]&&(_0x536f('0x977')==esmap['ESEffectTool'][_0x536f('0x45')]['effectQuality']?esmap['ESEffectTool']['models'][_0x536f('0xa05')]():_0x3906d4[_0x536f('0x935')][_0x536f('0xa06')]({'configs':_0x38db54,'isAnimate':void 0x0===_0x38db54['shadowAnimate']||_0x38db54[_0x536f('0xa07')]})),setTimeout(function(){_0x32619e=!0x1,_0x2cae61&&_0x2cae61();},0x7d0));},_0x32e848['switchEffectTheme']=function(_0x38db54){_0x32e848['clearAll'](),_0x2b7494(_0x38db54,esmap[_0x536f('0x4e')]['configPath']);},_0x32e848[_0x536f('0x51e')]=function(){_0x230a3c=_0xd7a672=_0x502dd5=null,_0x5d2f51=!(_0x34b5d0={'json':_0x32619e=_0x1f658f=_0x407922=_0x5d2f51=!0x1,'preload':!0x1}),_0x3906d4[_0x536f('0x52e')](),_0x284e0a[_0x536f('0xcd')](),_0x40fb87[_0x536f('0x74')]&&_0x40fb87[_0x536f('0x380')](_0x536f('0x97a'),_0x40fb87[_0x536f('0x74')][_0x536f('0x97a')][0x0]),_0x34200=null;},Object[_0x536f('0x1')](_0x32e848,'initComplete',{'enumerable':!0x1,'get':function(){return _0x5d2f51;},'set':function(_0x38db54){_0x5d2f51=_0x38db54;}}),_0x38db54['default']=_0x32e848;},function(_0x5ade9d,_0x2b5a2e,_0x1c9e96){'use strict';Object[_0x536f('0x1')](_0x2b5a2e,_0x536f('0x4'),{'value':!0x0});var _0x47d119=_0x49ec7a(_0x1c9e96(0x0)),_0x530085=_0x49ec7a(_0x1c9e96(0x1)),_0x51200a=function(_0x5ade9d){if(_0x5ade9d&&_0x5ade9d['__esModule'])return _0x5ade9d;var _0x2b5a2e={};if(null!=_0x5ade9d)for(var _0x1c9e96 in _0x5ade9d)Object[_0x536f('0x8')][_0x536f('0x9')][_0x536f('0xa')](_0x5ade9d,_0x1c9e96)&&(_0x2b5a2e[_0x1c9e96]=_0x5ade9d[_0x1c9e96]);return _0x2b5a2e[_0x536f('0x6')]=_0x5ade9d,_0x2b5a2e;}(_0x1c9e96(0x108)),_0x58596b=_0x1c9e96(0x4e),_0x248bc6=_0x1c9e96(0x11);function _0x49ec7a(_0x5ade9d){return _0x5ade9d&&_0x5ade9d[_0x536f('0x4')]?_0x5ade9d:{'default':_0x5ade9d};}function _0x3d7d85(){(0x0,_0x47d119[_0x536f('0x6')])(this,_0x3d7d85),this[_0x536f('0xcf')]=(0x0,_0x248bc6['getMapInstance'])(),this[_0x536f('0x97c')]=!0x0,this['buildings']=null,this['floors']=null,this[_0x536f('0x517')]=null,this[_0x536f('0x518')]=null,this['routes']=null,this[_0x536f('0x51b')]=null,this[_0x536f('0x772')]=null,this[_0x536f('0x519')]=null,this['postProcessing']=null,this[_0x536f('0x935')]=null,this['fog']=null,this[_0x536f('0x7be')]=null,this[_0x536f('0x9dc')]=null,this[_0x536f('0x37d')]();}(0x0,_0x530085[_0x536f('0x6')])(_0x3d7d85,[{'key':_0x536f('0x37d'),'value':function(){this[_0x536f('0x518')]=new _0x51200a[(_0x536f('0x945'))](),this[_0x536f('0x515')]=new _0x51200a[(_0x536f('0x94e'))]({'lights':this[_0x536f('0x518')]}),this[_0x536f('0x516')]=new _0x51200a[(_0x536f('0x955'))](),this['ground']=new _0x51200a[(_0x536f('0x95e'))](),this[_0x536f('0x51a')]=new _0x51200a[(_0x536f('0xa08'))](),this[_0x536f('0x51b')]=new _0x51200a[(_0x536f('0xbd'))](),this[_0x536f('0x772')]=new _0x51200a['Water'](this[_0x536f('0x51b')]),this[_0x536f('0x519')]=new _0x51200a[(_0x536f('0xa09'))]({'water':this[_0x536f('0x772')],'lights':this['lights']}),this['postProcessing']=new _0x51200a['PostProcessing'](),this[_0x536f('0x935')]=new _0x51200a[(_0x536f('0xa0a'))](),this['fog']=new _0x51200a[(_0x536f('0xa0b'))](),this[_0x536f('0x7be')]=new _0x51200a[(_0x536f('0xa0c'))](),this[_0x536f('0x9dc')]=new _0x51200a[(_0x536f('0xa0d'))]();}},{'key':_0x536f('0x944'),'value':function(_0x5ade9d){var _0x2b5a2e=_0x5ade9d[_0x536f('0x76')],_0x1c9e96=_0x5ade9d[_0x536f('0xa0e')],_0x47d119=_0x5ade9d['data'];switch(_0x2b5a2e){case _0x58596b['ESEffectsConstant'][_0x536f('0x94e')]:_0x1c9e96[_0x536f('0x5c2')]?this[_0x536f('0x515')][_0x536f('0xa0f')](_0x1c9e96):this[_0x536f('0x515')]['addBuildingsEffect'](_0x1c9e96['roomStyle'],_0x1c9e96);break;case _0x58596b[_0x536f('0x2b0')][_0x536f('0x955')]:this[_0x536f('0x516')][_0x536f('0xa10')](_0x1c9e96);break;case _0x58596b['ESEffectsConstant']['Ground']:this[_0x536f('0x517')][_0x536f('0xa11')](_0x1c9e96);break;case _0x58596b['ESEffectsConstant'][_0x536f('0x945')]:_0x1c9e96['isPointLight']&&this[_0x536f('0x518')][_0x536f('0xa12')](_0x1c9e96),_0x1c9e96[_0x536f('0xa13')]&&this['lights'][_0x536f('0xa14')](_0x1c9e96),_0x1c9e96[_0x536f('0x95b')]&&this['lights']['updateAmbientLight'](_0x1c9e96),_0x1c9e96[_0x536f('0x943')]&&this[_0x536f('0x518')][_0x536f('0xa15')](_0x1c9e96);break;case _0x58596b[_0x536f('0x2b0')][_0x536f('0xa08')]:_0x1c9e96['isNavPath']?this['routes'][_0x536f('0xa16')](0x1,_0x1c9e96):this[_0x536f('0x51a')][_0x536f('0xa17')](_0x1c9e96,_0x47d119);break;case _0x58596b[_0x536f('0x2b0')]['Skybox']:this[_0x536f('0x51b')]['setSkyBox'](_0x1c9e96);break;case _0x58596b[_0x536f('0x2b0')][_0x536f('0x788')]:this['water']['addWater'](_0x1c9e96);break;case _0x58596b[_0x536f('0x2b0')][_0x536f('0xa09')]:this[_0x536f('0x519')][_0x536f('0xa18')](_0x1c9e96,_0x47d119);break;case _0x58596b[_0x536f('0x2b0')][_0x536f('0x96a')]:this['postProcessing'][_0x536f('0x37d')](_0x1c9e96);break;case _0x58596b[_0x536f('0x2b0')]['Shadow']:this['shadow']['init2'](_0x1c9e96);break;case _0x58596b['ESEffectsConstant'][_0x536f('0xa0b')]:this[_0x536f('0x1db')]['init'](_0x1c9e96);}}},{'key':_0x536f('0xa19'),'value':function(_0x5ade9d){var _0x2b5a2e=_0x5ade9d[_0x536f('0x76')];switch(_0x5ade9d[_0x536f('0x632')],_0x5ade9d[_0x536f('0x2c9')],_0x2b5a2e){case _0x58596b['ESEffectsConstant']['Buildings']:case _0x58596b[_0x536f('0x2b0')][_0x536f('0x955')]:case _0x58596b[_0x536f('0x2b0')][_0x536f('0x95e')]:case _0x58596b[_0x536f('0x2b0')]['Lights']:case _0x58596b[_0x536f('0x2b0')]['Routes']:case _0x58596b[_0x536f('0x2b0')]['Skybox']:case _0x58596b[_0x536f('0x2b0')][_0x536f('0x788')]:}}},{'key':_0x536f('0xa1a'),'value':function(_0x5ade9d){var _0x2b5a2e=_0x5ade9d[_0x536f('0x76')];switch(_0x5ade9d[_0x536f('0x632')],_0x5ade9d[_0x536f('0x2c9')],_0x2b5a2e){case _0x58596b['ESEffectsConstant'][_0x536f('0x94e')]:case _0x58596b[_0x536f('0x2b0')][_0x536f('0x955')]:case _0x58596b[_0x536f('0x2b0')][_0x536f('0x95e')]:case _0x58596b[_0x536f('0x2b0')][_0x536f('0x945')]:case _0x58596b['ESEffectsConstant'][_0x536f('0xa08')]:case _0x58596b['ESEffectsConstant'][_0x536f('0xbd')]:case _0x58596b[_0x536f('0x2b0')][_0x536f('0x788')]:}}},{'key':_0x536f('0x52e'),'value':function(){this[_0x536f('0x515')]['disposeAll'](),this[_0x536f('0x516')]['dispose'](),this[_0x536f('0x517')][_0x536f('0x367')](),this['lights'][_0x536f('0xcd')](),this['routes'][_0x536f('0x367')](),this[_0x536f('0x51b')][_0x536f('0xcd')](),this[_0x536f('0x772')][_0x536f('0x367')](),this[_0x536f('0x519')][_0x536f('0x367')](),this[_0x536f('0x96d')][_0x536f('0xcd')]();}},{'key':_0x536f('0x36a'),'value':function(_0x5ade9d){this[_0x536f('0x97c')]&&(this[_0x536f('0x515')][_0x536f('0x36a')](_0x5ade9d),this['routes'][_0x536f('0x36a')](_0x5ade9d),this[_0x536f('0x772')][_0x536f('0x36a')](_0x5ade9d),this[_0x536f('0x516')][_0x536f('0x36a')](_0x5ade9d),this[_0x536f('0x519')][_0x536f('0x36a')](_0x5ade9d),this[_0x536f('0x96d')][_0x536f('0x36a')](_0x5ade9d),this['heatMap'][_0x536f('0x36a')](_0x5ade9d));}},{'key':_0x536f('0xcd'),'value':function(){}}]),_0x2b5a2e[_0x536f('0x6')]=_0x3d7d85;},function(_0xb65a34,_0x5a825a,_0x23792c){'use strict';Object['defineProperty'](_0x5a825a,_0x536f('0x4'),{'value':!0x0}),_0x5a825a[_0x536f('0xa0d')]=_0x5a825a[_0x536f('0xa0c')]=_0x5a825a[_0x536f('0xa0b')]=_0x5a825a[_0x536f('0xa0a')]=_0x5a825a[_0x536f('0x96a')]=_0x5a825a[_0x536f('0xa09')]=_0x5a825a[_0x536f('0x788')]=_0x5a825a[_0x536f('0xbd')]=_0x5a825a['Routes']=_0x5a825a[_0x536f('0x945')]=_0x5a825a[_0x536f('0x95e')]=_0x5a825a['Floors']=_0x5a825a[_0x536f('0x94e')]=void 0x0;var _0x2ed99a=_0x3cf98d(_0x23792c(0x109)),_0x4292bc=_0x3cf98d(_0x23792c(0x10a)),_0x205c88=_0x3cf98d(_0x23792c(0x10b)),_0x48fc81=_0x3cf98d(_0x23792c(0x10c)),_0x40b20e=_0x3cf98d(_0x23792c(0x10e)),_0x576101=_0x3cf98d(_0x23792c(0x114)),_0x18e2fd=_0x3cf98d(_0x23792c(0x115)),_0x8c80ff=_0x3cf98d(_0x23792c(0x116)),_0x4e52cd=_0x3cf98d(_0x23792c(0x117)),_0x4722d7=_0x3cf98d(_0x23792c(0x121)),_0x50794c=_0x3cf98d(_0x23792c(0x122)),_0x32be55=_0x3cf98d(_0x23792c(0x123)),_0x23792c=_0x3cf98d(_0x23792c(0x124));function _0x3cf98d(_0xb65a34){return _0xb65a34&&_0xb65a34[_0x536f('0x4')]?_0xb65a34:{'default':_0xb65a34};}_0x5a825a['Buildings']=_0x2ed99a[_0x536f('0x6')],_0x5a825a[_0x536f('0x955')]=_0x4292bc[_0x536f('0x6')],_0x5a825a['Ground']=_0x205c88[_0x536f('0x6')],_0x5a825a[_0x536f('0x945')]=_0x48fc81[_0x536f('0x6')],_0x5a825a[_0x536f('0xa08')]=_0x40b20e[_0x536f('0x6')],_0x5a825a[_0x536f('0xbd')]=_0x576101[_0x536f('0x6')],_0x5a825a[_0x536f('0x788')]=_0x18e2fd[_0x536f('0x6')],_0x5a825a[_0x536f('0xa09')]=_0x8c80ff[_0x536f('0x6')],_0x5a825a['PostProcessing']=_0x4e52cd[_0x536f('0x6')],_0x5a825a[_0x536f('0xa0a')]=_0x4722d7[_0x536f('0x6')],_0x5a825a['Fog']=_0x50794c[_0x536f('0x6')],_0x5a825a['Video']=_0x32be55[_0x536f('0x6')],_0x5a825a[_0x536f('0xa0d')]=_0x23792c[_0x536f('0x6')];},function(_0x166062,_0x26d7d4,_0x257a4d){'use strict';Object[_0x536f('0x1')](_0x26d7d4,_0x536f('0x4'),{'value':!0x0});var _0x3ef8c0=_0x7c8ad4(_0x257a4d(0x3c)),_0x4d7e1d=_0x7c8ad4(_0x257a4d(0x4)),_0x5d3320=_0x7c8ad4(_0x257a4d(0x0)),_0x2fc53e=_0x7c8ad4(_0x257a4d(0x1)),_0x59923e=_0x257a4d(0x11),_0x2d53c9=function(_0x166062){if(_0x166062&&_0x166062[_0x536f('0x4')])return _0x166062;var _0x26d7d4={};if(null!=_0x166062)for(var _0x257a4d in _0x166062)Object['prototype']['hasOwnProperty'][_0x536f('0xa')](_0x166062,_0x257a4d)&&(_0x26d7d4[_0x257a4d]=_0x166062[_0x257a4d]);return _0x26d7d4[_0x536f('0x6')]=_0x166062,_0x26d7d4;}(_0x257a4d(0x32)),_0x21617f=_0x257a4d(0x79);function _0x7c8ad4(_0x166062){return _0x166062&&_0x166062[_0x536f('0x4')]?_0x166062:{'default':_0x166062};}function _0x4d394b(_0x166062){_0x166062=_0x166062[_0x536f('0x518')];(0x0,_0x5d3320[_0x536f('0x6')])(this,_0x4d394b),this['map']=(0x0,_0x59923e['getMapInstance'])(),this[_0x536f('0x518')]=_0x166062,this['buildingsThemes']=[],this[_0x536f('0x98a')]=[],this[_0x536f('0xa1b')]=[],this[_0x536f('0x949')]=null,this[_0x536f('0xa1c')]={'horizonScan':!0x1,'verticalScan':!0x1,'centerSpread':!0x1,'radarScan':!0x1},this[_0x536f('0x934')]=!0x1,this[_0x536f('0xa1d')]={},this['editTileBuildingColorTheme']=null;}(0x0,_0x2fc53e[_0x536f('0x6')])(_0x4d394b,[{'key':_0x536f('0xa1e'),'value':function(_0x166062,_0x26d7d4,_0x257a4d){_0x26d7d4={'map':this[_0x536f('0xcf')],'id':_0x166062['id'],'mapView':_0x26d7d4,'isTileBuilding':_0x257a4d,'centerPos':_0x166062[_0x536f('0xa1f')],'buildingColorStr':_0x166062[_0x536f('0x21f')],'repeat':_0x166062[_0x536f('0xa20')],'topRepeat':_0x166062[_0x536f('0xa21')],'textureLightStrength':_0x166062[_0x536f('0xa22')],'texPath':_0x166062[_0x536f('0x94b')],'topTexPath':_0x166062[_0x536f('0x94a')],'gradientTexPath':_0x166062[_0x536f('0x94c')],'emissiveTexPath':_0x166062['emissiveImg'],'emissiveTexScale':_0x166062[_0x536f('0xa23')],'emissiveColorStr':_0x166062[_0x536f('0xa24')],'opacity':_0x166062[_0x536f('0x201')],'isBreathColor':_0x166062['colorBreath'],'isBlending':_0x166062['transprentHightLight'],'isOpenScan':_0x166062[_0x536f('0x948')],'isShowHorizonScan':_0x166062[_0x536f('0x5ca')],'isShowVerticalScan':_0x166062[_0x536f('0x5ec')],'isShowCenterSpread':_0x166062['isShowCenterSpread'],'isShowRadarScan':_0x166062[_0x536f('0x5cc')],'hlColorStr':_0x166062['horizonScanColor'],'hlWidth':_0x166062[_0x536f('0xa25')],'hlDiffuse':_0x166062[_0x536f('0xa26')],'hlExtent':_0x166062[_0x536f('0xa27')],'hlSpeed':_0x166062['horizonScanSpeed'],'vlHeight':_0x166062['verticalScanHeight'],'vlColorStr':_0x166062[_0x536f('0xa28')],'vlExtent':_0x166062['verticalScanExtent'],'vlSpeed':_0x166062[_0x536f('0xa29')],'csColorStr':_0x166062['centerSpreadColor'],'csMaxRadius':_0x166062[_0x536f('0xa2a')],'csSpeed':_0x166062[_0x536f('0xa2b')],'csCenterPos':_0x166062[_0x536f('0xa2c')],'rdColorStr':_0x166062[_0x536f('0xa2d')],'radarRadius':_0x166062[_0x536f('0xa2e')],'radarSpeed':_0x166062[_0x536f('0xa2f')],'radarCenterPos':_0x166062[_0x536f('0xa30')],'radarTexPath':_0x166062['radarScanImg'],'extentEffectConfig':_0x166062[_0x536f('0x94d')],'screenSkyConfig':_0x166062['screenSky']};return _0x26d7d4[_0x536f('0x5cd')]&&(_0x26d7d4[_0x536f('0x5cd')]=(0x0,_0x59923e[_0x536f('0x35')])(_0x26d7d4['centerPos']['x'],_0x26d7d4[_0x536f('0x5cd')]['y'])),_0x26d7d4['extentEffectConfig']&&_0x26d7d4[_0x536f('0xa31')][_0x536f('0xa32')]&&(_0x26d7d4[_0x536f('0xa31')][_0x536f('0xa32')]=(0x0,_0x59923e[_0x536f('0x35')])(_0x26d7d4['extentEffectConfig'][_0x536f('0xa32')]['x'],_0x26d7d4[_0x536f('0xa31')]['center']['y'])),new _0x2d53c9['BuildingsTexture2'](_0x26d7d4);}},{'key':_0x536f('0xa33'),'value':function(_0x166062,_0x479242){_0x479242[_0x536f('0x948')]&&this[_0x536f('0xa34')](_0x479242);var _0x33db38=(0x0,_0x59923e['getBuiding'])(0x0)[_0x536f('0x522')](_0x479242[_0x536f('0x95f')]||0x1)[_0x536f('0x9bb')]([esmap[_0x536f('0x9bc')][_0x536f('0xa35')],esmap[_0x536f('0x9bc')]['MODEL_BASE']]),_0x413180=this[_0x536f('0xa1e')](_0x479242,this['map'][_0x536f('0x48e')]);_0x413180[_0x536f('0x37e')]('canUpdate',function(){var _0x166062=!0x0,_0x26d7d4=!0x1,_0x257a4d=void 0x0;try{for(var _0x5d3320,_0x2fc53e=(0x0,_0x4d7e1d['default'])(_0x33db38);!(_0x166062=(_0x5d3320=_0x2fc53e[_0x536f('0x79')]())['done']);_0x166062=!0x0){var _0x7c8ad4=_0x5d3320[_0x536f('0x10')],_0x3ef8c0=!0x0,_0x4d394b=!0x1,_0x3c6576=void 0x0;try{for(var _0x36bf9d,_0x5ad7ed=(0x0,_0x4d7e1d[_0x536f('0x6')])(_0x7c8ad4[_0x536f('0x525')][_0x536f('0x35c')]);!(_0x3ef8c0=(_0x36bf9d=_0x5ad7ed[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3ef8c0=!0x0){var _0xd940ae,_0x3bab6a=_0x36bf9d['value'],_0x566c3e=(0x0,_0x59923e['getMaterialByRoomStyle'])(_0x3bab6a,_0x479242[_0x536f('0x3e')]);if(_0x566c3e){_0x3bab6a[_0x536f('0xce')][_0x566c3e[_0x536f('0x576')][_0x536f('0x336')]]=_0x413180[_0x536f('0x77a')](),_0x413180[_0x536f('0x41f')]=_0x3bab6a,_0x536f('0x6cf')===_0x479242['lineframe']&&_0x479242[_0x536f('0xa36')]&&((_0xd940ae=new _0x2d53c9[(_0x536f('0xc2'))]({'colorStr':_0x479242[_0x536f('0xa37')],'opacity':_0x479242[_0x536f('0xa36')],'depthTest':!0x1}))[_0x536f('0x6d2')](_0x3bab6a,_0x3bab6a[_0x536f('0xd0')]),_0x3bab6a[_0x536f('0x3b')]['y']+=0x1,self['edgeLineFrameList']['push'](_0xd940ae)),(0x0,_0x21617f[_0x536f('0x2f7')])(_0x3bab6a[_0x536f('0xce')][_0x566c3e[_0x536f('0x576')]['index']],_0x479242);break;}}}catch(_0xcbf5f9){_0x4d394b=!0x0,_0x3c6576=_0xcbf5f9;}finally{try{!_0x3ef8c0&&_0x5ad7ed[_0x536f('0x265')]&&_0x5ad7ed['return']();}finally{if(_0x4d394b)throw _0x3c6576;}}}}catch(_0x2d3a2f){_0x26d7d4=!0x0,_0x257a4d=_0x2d3a2f;}finally{try{!_0x166062&&_0x2fc53e['return']&&_0x2fc53e[_0x536f('0x265')]();}finally{if(_0x26d7d4)throw _0x257a4d;}}}),_0x413180[_0x536f('0x3e')]=_0x166062,_0x413180['_effectConfig']=_0x479242,this[_0x536f('0x94f')][_0x536f('0x82')](_0x413180);}},{'key':_0x536f('0x950'),'value':function(_0x166062,_0x26d7d4,_0x257a4d){var _0x166062=(0x0,_0x59923e[_0x536f('0x2c')])(_0x166062)[_0x536f('0x522')](_0x257a4d||0x1)[_0x536f('0x9bb')]([esmap['ESLayerType'][_0x536f('0xa35')],esmap[_0x536f('0x9bc')][_0x536f('0xa38')]]),_0x5d3320=!0x0,_0x257a4d=!0x1,_0x2fc53e=void 0x0;try{for(var _0x7c8ad4,_0x3ef8c0=(0x0,_0x4d7e1d[_0x536f('0x6')])(_0x166062);!(_0x5d3320=(_0x7c8ad4=_0x3ef8c0[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5d3320=!0x0){var _0x4d394b=_0x7c8ad4['value'],_0xe58bc1=!0x0,_0x5249a1=!0x1,_0x195736=void 0x0;try{for(var _0x1057f9,_0x16b790=(0x0,_0x4d7e1d[_0x536f('0x6')])(_0x4d394b[_0x536f('0x525')][_0x536f('0x35c')]);!(_0xe58bc1=(_0x1057f9=_0x16b790['next']())[_0x536f('0x7a')]);_0xe58bc1=!0x0){var _0x31044a=_0x1057f9[_0x536f('0x10')];if((0x0,_0x59923e['getMaterialByRoomStyle'])(_0x31044a,_0x26d7d4[_0x536f('0x3e')])&&0x0<_0x31044a['datas_'][_0x536f('0x605')][_0x536f('0xd')]){_0x26d7d4[_0x536f('0x775')](_0x31044a);break;}}}catch(_0xd72df9){_0x5249a1=!0x0,_0x195736=_0xd72df9;}finally{try{!_0xe58bc1&&_0x16b790[_0x536f('0x265')]&&_0x16b790[_0x536f('0x265')]();}finally{if(_0x5249a1)throw _0x195736;}}}}catch(_0x1aa985){_0x257a4d=!0x0,_0x2fc53e=_0x1aa985;}finally{try{!_0x5d3320&&_0x3ef8c0['return']&&_0x3ef8c0[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x2fc53e;}}}},{'key':_0x536f('0xa0f'),'value':function(_0x166062){for(var _0x26d7d4 in this[_0x536f('0xcf')][_0x536f('0x3c')][_0x536f('0xa39')])0x0===this[_0x536f('0x98a')][_0x536f('0xd')]?this['createTileBuildingsEffect'](_0x166062,0x0):this['tileBuilidngThemes'][this[_0x536f('0xcf')][_0x536f('0x3c')][_0x536f('0xa39')][_0x26d7d4][_0x536f('0xa3a')]]||this[_0x536f('0xa3b')](_0x166062,this[_0x536f('0xcf')]['mapTheme'][_0x536f('0xa39')][_0x26d7d4]['prodMatIdx']),this[_0x536f('0xcf')][_0x536f('0x45')][_0x536f('0x9a4')]&&(0x2==+this[_0x536f('0xcf')][_0x536f('0x3c')]['tileStyles'][_0x26d7d4][_0x536f('0x606')]?this[_0x536f('0xa3c')](_0x166062,_0x26d7d4):0x1!=+this['map'][_0x536f('0x3c')][_0x536f('0xa39')][_0x26d7d4]['filltype']||this[_0x536f('0x9cf')]||this[_0x536f('0xa3c')](_0x166062,_0x26d7d4,!0x0));}},{'key':'createEditTileBuildingEffect','value':function(_0x166062,_0x26d7d4,_0x257a4d){_0x166062['openScan']&&this[_0x536f('0xa34')](_0x166062),_0x166062['id']=_0x26d7d4;var _0x5d3320=this[_0x536f('0xa1e')](_0x166062,this[_0x536f('0xcf')][_0x536f('0x48e')],!_0x257a4d),_0x2fc53e=(_0x257a4d||(_0x5d3320[_0x536f('0x5fc')]=this[_0x536f('0xcf')][_0x536f('0x3c')][_0x536f('0xa39')],_0x5d3320['themeTextureList']=this[_0x536f('0xcf')]['mapTheme']['tileTextures']),_0x5d3320[_0x536f('0x946')]=_0x166062[_0x536f('0x946')],_0x5d3320[_0x536f('0x77a')]()),_0x166062=((0x0,_0x21617f[_0x536f('0x2f7')])(_0x2fc53e,_0x166062),_0x166062[_0x536f('0xa3d')]&&(_0x5d3320[_0x536f('0xa3d')]=_0x166062[_0x536f('0xa3d')]),_0x5d3320[_0x536f('0x3e')]=_0x166062[_0x536f('0x3e')],this['isShowShadow']=_0x166062[_0x536f('0x935')],_0x257a4d?this[_0x536f('0x9cf')]=_0x5d3320:this[_0x536f('0xa1d')][_0x26d7d4]=_0x5d3320,new THREE['Mesh'](new THREE[(_0x536f('0x488'))](0x1,0x1,0x1),_0x2fc53e));_0x166062[_0x536f('0x1dc')][_0x536f('0x1b')](0.01,0.01,0.01),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](_0x166062),_0x5d3320[_0x536f('0x37e')](_0x536f('0xa3e'),function(){});}},{'key':_0x536f('0xa3b'),'value':function(_0x166062,_0x26d7d4){_0x166062[_0x536f('0x948')]&&this[_0x536f('0xa34')](_0x166062),_0x166062['id']=_0x26d7d4;var _0x26d7d4=this[_0x536f('0xa1e')](_0x166062,this[_0x536f('0xcf')][_0x536f('0x48e')],!0x0),_0x257a4d=(_0x26d7d4[_0x536f('0x5fc')]=this['map'][_0x536f('0x3c')]['tileStyles'],_0x26d7d4['themeTextureList']=this[_0x536f('0xcf')][_0x536f('0x3c')][_0x536f('0xa3f')],_0x26d7d4[_0x536f('0x946')]=_0x166062[_0x536f('0x946')],_0x26d7d4[_0x536f('0x5fe')]=this[_0x536f('0xa40')](),_0x26d7d4[_0x536f('0x77a')]());(0x0,_0x21617f[_0x536f('0x2f7')])(_0x257a4d,_0x166062),_0x166062[_0x536f('0xa3d')]&&(_0x26d7d4[_0x536f('0xa3d')]=_0x166062[_0x536f('0xa3d')]),_0x26d7d4['roomStyle']=_0x166062[_0x536f('0x3e')],this[_0x536f('0x934')]=_0x166062[_0x536f('0x935')],this['tileBuilidngThemes'][_0x536f('0x82')](_0x26d7d4);}},{'key':'addTileBuildingsEffect','value':function(_0x166062){if(0x3e8<_0x166062['id']){for(var _0x26d7d4 in this['map']['mapTheme'][_0x536f('0xa39')])if(this['map']['mapTheme']['tileStyles'][_0x26d7d4][_0x536f('0xa3a')]===_0x166062['id']){this[_0x536f('0xcf')]['mapTheme']['modelBasicMat'][_0x166062['id']]=this[_0x536f('0xcf')][_0x536f('0x3c')][_0x536f('0xa39')][_0x26d7d4]['material'];break;}}else{var _0x257a4d=_0x166062[_0x536f('0x77a')]();_0x257a4d&&(this[_0x536f('0xcf')][_0x536f('0x3c')][_0x536f('0xa41')][_0x166062['id']]=_0x257a4d);}}},{'key':_0x536f('0x98d'),'value':function(_0x166062,_0x26d7d4){var _0x257a4d,_0x5d3320=this,_0x166062=this[_0x536f('0xcf')]['getTileById'](_0x166062);_0x166062&&(_0x257a4d=_0x166062['getLayersByTypes']([esmap['ESLayerType'][_0x536f('0xa35')],esmap['ESLayerType']['MODEL_BASE']]),_0x26d7d4['shader']?this[_0x536f('0xa42')](_0x257a4d,_0x26d7d4):_0x26d7d4[_0x536f('0x37e')](_0x536f('0xa3e'),function(){_0x5d3320['computeBuildingFaceAttr'](_0x257a4d,_0x26d7d4);}));}},{'key':'computeBuildingFaceAttr','value':function(_0x166062,_0x26d7d4){var _0x257a4d=!0x0,_0x5d3320=!0x1,_0x2fc53e=void 0x0;try{for(var _0x7c8ad4,_0x3ef8c0=(0x0,_0x4d7e1d['default'])(_0x166062);!(_0x257a4d=(_0x7c8ad4=_0x3ef8c0[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x257a4d=!0x0){var _0x4d394b=_0x7c8ad4[_0x536f('0x10')],_0x3665fc=!0x0,_0x43799a=!0x1,_0x403399=void 0x0;try{for(var _0x313c4b,_0xd2ab3b=(0x0,_0x4d7e1d['default'])(_0x4d394b[_0x536f('0x525')][_0x536f('0x35c')]);!(_0x3665fc=(_0x313c4b=_0xd2ab3b[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3665fc=!0x0){var _0x373a46=_0x313c4b[_0x536f('0x10')];0x0<_0x373a46[_0x536f('0x3f')][_0x536f('0x605')][_0x536f('0xd')]&&(_0x26d7d4[_0x536f('0x775')](_0x373a46),_0x26d7d4[_0x536f('0xa3d')]&&(_0x373a46[_0x536f('0x355')]=_0x26d7d4['renderSort']),this[_0x536f('0x934')]&&(_0x373a46[_0x536f('0xa43')]=!0x0,_0x373a46[_0x536f('0x7a5')]=!0x0));}}catch(_0x36d5c2){_0x43799a=!0x0,_0x403399=_0x36d5c2;}finally{try{!_0x3665fc&&_0xd2ab3b[_0x536f('0x265')]&&_0xd2ab3b[_0x536f('0x265')]();}finally{if(_0x43799a)throw _0x403399;}}}}catch(_0x197868){_0x5d3320=!0x0,_0x2fc53e=_0x197868;}finally{try{!_0x257a4d&&_0x3ef8c0['return']&&_0x3ef8c0[_0x536f('0x265')]();}finally{if(_0x5d3320)throw _0x2fc53e;}}}},{'key':_0x536f('0xa40'),'value':function(){for(var _0x166062={},_0x26d7d4=0x0,_0x257a4d=this['map'][_0x536f('0x3c')][_0x536f('0xa44')][_0x536f('0x32')],_0x5d3320=0x0;_0x5d3320<_0x257a4d['length'];_0x5d3320++){var _0x2fc53e,_0x7c8ad4=_0x257a4d[_0x5d3320];0x2==+_0x7c8ad4['filltype']&&0x1!=+_0x7c8ad4[_0x536f('0x7b2')]&&(_0x166062[_0x26d7d4]||(_0x166062[_0x26d7d4]={'topImgIndexMap':{},'sideImgIndexMap':{}}),_0x7c8ad4[_0x536f('0xa45')]&&!_0x166062[_0x26d7d4][_0x536f('0x604')][_0x7c8ad4[_0x536f('0xa45')]]&&(_0x2fc53e=(0x0,_0x3ef8c0['default'])(_0x166062[_0x26d7d4][_0x536f('0x604')])[_0x536f('0xd')]+0x1,_0x166062[_0x26d7d4][_0x536f('0x604')][_0x2fc53e]=_0x7c8ad4[_0x536f('0xa45')]),_0x7c8ad4['sideimage']&&!_0x166062[_0x26d7d4]['sideImgIndexMap'][_0x7c8ad4['sideimage']]&&(_0x2fc53e=(0x0,_0x3ef8c0[_0x536f('0x6')])(_0x166062[_0x26d7d4][_0x536f('0x60f')])[_0x536f('0xd')]+0x1,_0x166062[_0x26d7d4][_0x536f('0x60f')][_0x2fc53e]=_0x7c8ad4[_0x536f('0xa46')],0x4<=_0x2fc53e&&(_0x166062[++_0x26d7d4]={'topImgIndexMap':{},'sideImgIndexMap':{}})));}return _0x166062;}},{'key':'setBuildingScanConfig','value':function(_0x166062){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d[_0x536f('0x6')])(_0x166062[_0x536f('0xa47')]);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())['done']);_0x26d7d4=!0x0){var _0x3ef8c0=_0x2fc53e[_0x536f('0x10')],_0x4d394b=null,_0x52b797=!0x0,_0x519065=!0x1,_0x451c15=void 0x0;try{for(var _0x2df4e0,_0x4b8a6b=(0x0,_0x4d7e1d[_0x536f('0x6')])(this[_0x536f('0x949')]);!(_0x52b797=(_0x2df4e0=_0x4b8a6b[_0x536f('0x79')]())['done']);_0x52b797=!0x0){var _0x227afe=_0x2df4e0[_0x536f('0x10')];if(_0x227afe['type']===_0x3ef8c0){_0x4d394b=_0x227afe;break;}}}catch(_0x3f0e74){_0x519065=!0x0,_0x451c15=_0x3f0e74;}finally{try{!_0x52b797&&_0x4b8a6b[_0x536f('0x265')]&&_0x4b8a6b[_0x536f('0x265')]();}finally{if(_0x519065)throw _0x451c15;}}switch(_0x3ef8c0){case'horizon_scan':_0x166062[_0x536f('0x5ca')]=!0x0,_0x166062['lineScanCenter']=_0x4d394b[_0x536f('0xa1f')],_0x166062[_0x536f('0xa48')]=_0x4d394b['scanColor'],_0x166062['horizonScanWidth']=_0x4d394b[_0x536f('0xa49')],_0x166062[_0x536f('0xa26')]=_0x4d394b[_0x536f('0xa4a')],_0x166062['horizonScanExtent']=_0x4d394b['scanExtent'],_0x166062[_0x536f('0xa4b')]=_0x4d394b[_0x536f('0xa4c')],this[_0x536f('0xa1c')][_0x536f('0xa4d')]=!0x0;break;case'vertical_scan':_0x166062[_0x536f('0x5ec')]=!0x0,_0x166062[_0x536f('0xa4e')]=_0x4d394b[_0x536f('0x53c')],_0x166062[_0x536f('0xa28')]=_0x4d394b[_0x536f('0xa4f')],_0x166062['verticalScanExtent']=_0x4d394b['scanExtent'],_0x166062[_0x536f('0xa29')]=_0x4d394b[_0x536f('0xa4c')],this[_0x536f('0xa1c')][_0x536f('0xa50')]=!0x0;break;case _0x536f('0x9c7'):_0x166062[_0x536f('0x5cb')]=!0x0,_0x166062[_0x536f('0xa2c')]=(0x0,_0x59923e[_0x536f('0x35')])(_0x4d394b['scanCenter']['x'],_0x4d394b[_0x536f('0xa51')]['y']),_0x166062['centerSpreadColor']=_0x4d394b[_0x536f('0xa4f')],_0x166062[_0x536f('0xa2a')]=_0x4d394b[_0x536f('0xa52')],_0x166062[_0x536f('0xa2b')]=_0x4d394b['scanSpeed'],this[_0x536f('0xa1c')][_0x536f('0xa53')]=!0x0;break;case _0x536f('0x9c9'):_0x166062[_0x536f('0x5cc')]=!0x0,_0x166062['radarScanCenterPos']=(0x0,_0x59923e[_0x536f('0x35')])(_0x4d394b[_0x536f('0xa51')]['x'],_0x4d394b[_0x536f('0xa51')]['y']),_0x166062['radarScanRadius']=_0x4d394b['scanRadius'],_0x166062[_0x536f('0xa2d')]=_0x4d394b[_0x536f('0xa4f')],_0x166062['radarScanImg']=(0x0,_0x59923e['getConfigAssetsPath'])(_0x4d394b[_0x536f('0xa54')]),this[_0x536f('0xa1c')][_0x536f('0xa55')]=!0x0;}}}catch(_0x43c11d){_0x257a4d=!0x0,_0x5d3320=_0x43c11d;}finally{try{!_0x26d7d4&&_0x7c8ad4[_0x536f('0x265')]&&_0x7c8ad4[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}},{'key':_0x536f('0xa56'),'value':function(_0x166062){if(0x0<this[_0x536f('0x98a')][_0x536f('0xd')]&&_0x166062){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d[_0x536f('0x6')])(this['tileBuilidngThemes']);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())['done']);_0x26d7d4=!0x0){var _0x3ef8c0=_0x2fc53e[_0x536f('0x10')];_0x3ef8c0[_0x536f('0x420')]&&_0x3ef8c0[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x5e1')][_0x536f('0x10')]['setStyle'](_0x166062);}}catch(_0x2d5d98){_0x257a4d=!0x0,_0x5d3320=_0x2d5d98;}finally{try{!_0x26d7d4&&_0x7c8ad4[_0x536f('0x265')]&&_0x7c8ad4[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}}},{'key':'updateTileBuildingAlpha','value':function(_0x166062){if(0x0<this['tileBuilidngThemes'][_0x536f('0xd')]){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d['default'])(this[_0x536f('0x98a')]);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x26d7d4=!0x0){var _0x3ef8c0=_0x2fc53e[_0x536f('0x10')];_0x3ef8c0['material']['userData'][_0x536f('0xa57')]||(_0x3ef8c0[_0x536f('0xce')][_0x536f('0x576')][_0x536f('0xa57')]=_0x3ef8c0[_0x536f('0xce')][_0x536f('0x201')]),_0x3ef8c0['material'][_0x536f('0x201')]=!0x1===_0x166062?_0x3ef8c0[_0x536f('0xce')][_0x536f('0x576')][_0x536f('0xa57')]:_0x3ef8c0[_0x536f('0xce')]['opacity']=_0x166062;}}catch(_0x27766e){_0x257a4d=!0x0,_0x5d3320=_0x27766e;}finally{try{!_0x26d7d4&&_0x7c8ad4[_0x536f('0x265')]&&_0x7c8ad4['return']();}finally{if(_0x257a4d)throw _0x5d3320;}}}}},{'key':_0x536f('0x9cd'),'value':function(_0x166062){if(0x0<this[_0x536f('0x98a')][_0x536f('0xd')]){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d[_0x536f('0x6')])(this[_0x536f('0x98a')]);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x26d7d4=!0x0){var _0x3ef8c0=_0x2fc53e['value'];_0x3ef8c0['shader']&&(_0x3ef8c0['shader'][_0x536f('0x168')][_0x536f('0x622')][_0x536f('0x10')]=_0x166062);}}catch(_0x119e46){_0x257a4d=!0x0,_0x5d3320=_0x119e46;}finally{try{!_0x26d7d4&&_0x7c8ad4[_0x536f('0x265')]&&_0x7c8ad4['return']();}finally{if(_0x257a4d)throw _0x5d3320;}}}}},{'key':'updateTileBuildingHorizonScan','value':function(_0x166062){if(0x0<this[_0x536f('0x98a')]['length']&&this['isCanUseScanStatus'][_0x536f('0xa4d')]){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d['default'])(this[_0x536f('0x98a')]);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x26d7d4=!0x0){var _0x3ef8c0,_0x4d394b=_0x2fc53e[_0x536f('0x10')];_0x4d394b[_0x536f('0x420')]&&(_0x4d394b[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x629')]['value']=!0x0,_0x166062[_0x536f('0xa58')]&&(_0x4d394b[_0x536f('0x64c')]=_0x166062[_0x536f('0xa58')],_0x4d394b[_0x536f('0x5e9')]=_0x4d394b['hlExtent'][0x0],_0x4d394b[_0x536f('0x420')][_0x536f('0x168')]['hlTime'][_0x536f('0x10')]=_0x4d394b[_0x536f('0x64c')][0x0]),_0x166062['scanSpeed']&&(_0x4d394b['hlSpeed']=_0x166062[_0x536f('0xa4c')]),_0x166062['scanColor']&&_0x4d394b[_0x536f('0x5ee')][_0x536f('0x33d')](_0x166062[_0x536f('0xa4f')]),_0x166062[_0x536f('0xa49')]&&(_0x4d394b[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x5d0')]['value']=_0x166062['scanLightWidth']),_0x166062[_0x536f('0xa1f')]&&(_0x3ef8c0=(0x0,_0x59923e[_0x536f('0x35')])(_0x166062[_0x536f('0xa1f')]['x'],_0x166062[_0x536f('0xa1f')]['y']),_0x4d394b[_0x536f('0x420')]['uniforms'][_0x536f('0x5cd')]['value']['set'](_0x3ef8c0['x'],_0x3ef8c0['y'])));}}catch(_0x26d399){_0x257a4d=!0x0,_0x5d3320=_0x26d399;}finally{try{!_0x26d7d4&&_0x7c8ad4[_0x536f('0x265')]&&_0x7c8ad4[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}}},{'key':_0x536f('0x9c8'),'value':function(_0x166062){if(0x0<this[_0x536f('0x98a')][_0x536f('0xd')]&&this[_0x536f('0xa1c')][_0x536f('0xa53')]){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d[_0x536f('0x6')])(this['tileBuilidngThemes']);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x26d7d4=!0x0){var _0x3ef8c0,_0x4d394b=_0x2fc53e[_0x536f('0x10')];_0x4d394b[_0x536f('0x420')]&&(_0x4d394b[_0x536f('0x420')][_0x536f('0x168')]['csTime']['value']=0x0,_0x4d394b['shader'][_0x536f('0x168')]['isShowScan'][_0x536f('0x10')]=!0x0,_0x166062[_0x536f('0xa4c')]&&(_0x4d394b[_0x536f('0x64d')]=_0x166062['scanSpeed']),_0x166062[_0x536f('0xa4f')]&&_0x4d394b[_0x536f('0x5f1')]['setStyle'](_0x166062[_0x536f('0xa4f')]),_0x166062[_0x536f('0xa52')]&&(_0x4d394b[_0x536f('0x5d8')]=_0x166062[_0x536f('0xa52')]),_0x166062[_0x536f('0x551')]&&(_0x4d394b['shader']['uniforms'][_0x536f('0x5d7')][_0x536f('0x10')]=0x3e8*_0x166062[_0x536f('0x551')]),_0x166062[_0x536f('0xa51')]&&(_0x3ef8c0=(0x0,_0x59923e['coordTransToThree'])(_0x166062[_0x536f('0xa51')]['x'],_0x166062[_0x536f('0xa51')]['y']),_0x4d394b[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x62b')][_0x536f('0x10')]['set'](_0x3ef8c0['x'],_0x3ef8c0['y'])),_0x4d394b[_0x536f('0x5eb')]=0x0);}}catch(_0xeb29ec){_0x257a4d=!0x0,_0x5d3320=_0xeb29ec;}finally{try{!_0x26d7d4&&_0x7c8ad4['return']&&_0x7c8ad4[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}}},{'key':'updateTileBuildingRadarScan','value':function(_0x166062){if(0x0<this[_0x536f('0x98a')][_0x536f('0xd')]&&this[_0x536f('0xa1c')]['radarScan']){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d[_0x536f('0x6')])(this['tileBuilidngThemes']);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4['next']())['done']);_0x26d7d4=!0x0){var _0x3ef8c0,_0x4d394b=_0x2fc53e['value'];_0x4d394b[_0x536f('0x420')]&&(_0x4d394b[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x62f')]['value']=0x0,_0x4d394b[_0x536f('0x420')]['uniforms'][_0x536f('0x629')][_0x536f('0x10')]=!0x0,_0x166062['scanSpeed']&&(_0x4d394b[_0x536f('0x5db')]=_0x166062[_0x536f('0xa4c')]),_0x166062[_0x536f('0xa4f')]&&_0x4d394b[_0x536f('0x5f2')]['setStyle'](_0x166062[_0x536f('0xa4f')]),_0x166062[_0x536f('0xa59')]&&(_0x4d394b['shader'][_0x536f('0x168')]['rdRadius'][_0x536f('0x10')]=_0x166062[_0x536f('0xa59')]),_0x166062['scanCenter']&&(_0x3ef8c0=(0x0,_0x59923e['coordTransToThree'])(_0x166062['scanCenter']['x'],_0x166062['scanCenter']['y']),_0x4d394b[_0x536f('0x420')]['uniforms'][_0x536f('0x62c')]['value'][_0x536f('0x1b')](_0x3ef8c0['x'],_0x3ef8c0['y'])),_0x4d394b['rdTime']=0x0);}}catch(_0x1c5ce6){_0x257a4d=!0x0,_0x5d3320=_0x1c5ce6;}finally{try{!_0x26d7d4&&_0x7c8ad4[_0x536f('0x265')]&&_0x7c8ad4[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}}},{'key':_0x536f('0xa5a'),'value':function(_0x166062,_0x26d7d4){if('horizon_scan'===_0x166062&&0x0<this[_0x536f('0x98a')][_0x536f('0xd')]&&this[_0x536f('0xa1c')][_0x536f('0xa4d')]){var _0x257a4d=!0x0,_0x5d3320=!0x1,_0x2fc53e=void 0x0;try{for(var _0x7c8ad4,_0x3ef8c0=(0x0,_0x4d7e1d[_0x536f('0x6')])(this[_0x536f('0x98a')]);!(_0x257a4d=(_0x7c8ad4=_0x3ef8c0['next']())['done']);_0x257a4d=!0x0){var _0x4d394b=_0x7c8ad4[_0x536f('0x10')];_0x4d394b[_0x536f('0x420')]['uniforms']['hlTime']['value']=0x0,_0x4d394b[_0x536f('0x5e9')]=0x0,_0x4d394b['shader'][_0x536f('0x168')][_0x536f('0x629')][_0x536f('0x10')]=_0x26d7d4;}}catch(_0x1adbeb){_0x5d3320=!0x0,_0x2fc53e=_0x1adbeb;}finally{try{!_0x257a4d&&_0x3ef8c0[_0x536f('0x265')]&&_0x3ef8c0[_0x536f('0x265')]();}finally{if(_0x5d3320)throw _0x2fc53e;}}}if('center_spread'===_0x166062&&0x0<this['tileBuilidngThemes'][_0x536f('0xd')]&&this[_0x536f('0xa1c')][_0x536f('0xa53')]){var _0x291d83=!0x0,_0x5d3320=!0x1,_0x2fc53e=void 0x0;try{for(var _0xbcf343,_0x528da8=(0x0,_0x4d7e1d[_0x536f('0x6')])(this[_0x536f('0x98a')]);!(_0x291d83=(_0xbcf343=_0x528da8[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x291d83=!0x0){var _0x15183c=_0xbcf343[_0x536f('0x10')];_0x15183c[_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x5eb')]['value']=0x0,_0x15183c[_0x536f('0x5eb')]=0x0,_0x15183c[_0x536f('0x420')][_0x536f('0x168')]['isShowScan'][_0x536f('0x10')]=_0x26d7d4;}}catch(_0x32a87f){_0x5d3320=!0x0,_0x2fc53e=_0x32a87f;}finally{try{!_0x291d83&&_0x528da8[_0x536f('0x265')]&&_0x528da8[_0x536f('0x265')]();}finally{if(_0x5d3320)throw _0x2fc53e;}}}if('radar_scan'===_0x166062&&0x0<this[_0x536f('0x98a')][_0x536f('0xd')]&&this[_0x536f('0xa1c')][_0x536f('0xa55')]){var _0xb385de=!0x0,_0x5d3320=!0x1,_0x2fc53e=void 0x0;try{for(var _0x4ecda3,_0xc1924e=(0x0,_0x4d7e1d[_0x536f('0x6')])(this['tileBuilidngThemes']);!(_0xb385de=(_0x4ecda3=_0xc1924e[_0x536f('0x79')]())['done']);_0xb385de=!0x0){var _0x2ab233=_0x4ecda3[_0x536f('0x10')];_0x2ab233[_0x536f('0x420')][_0x536f('0x168')]['rdTime']['value']=0x0,_0x2ab233[_0x536f('0x62f')]=0x0,_0x2ab233[_0x536f('0x420')]['uniforms'][_0x536f('0x629')]['value']=_0x26d7d4;}}catch(_0x223c98){_0x5d3320=!0x0,_0x2fc53e=_0x223c98;}finally{try{!_0xb385de&&_0xc1924e[_0x536f('0x265')]&&_0xc1924e[_0x536f('0x265')]();}finally{if(_0x5d3320)throw _0x2fc53e;}}}}},{'key':_0x536f('0x9cb'),'value':function(_0x166062){if(0x0<this[_0x536f('0x98a')][_0x536f('0xd')]){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d['default'])(this[_0x536f('0x98a')]);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x26d7d4=!0x0){var _0x3ef8c0,_0x4d394b=_0x2fc53e['value'];_0x4d394b[_0x536f('0x5f8')]&&(_0x166062['openLight']?(_0x3ef8c0=(0x0,_0x59923e['coordTransToThree'])(_0x166062['center']['x'],_0x166062[_0x536f('0xa32')]['y']),_0x4d394b[_0x536f('0x420')][_0x536f('0x168')]['extentCenter'][_0x536f('0x10')][_0x536f('0x1b')](_0x3ef8c0['x'],_0x3ef8c0['y']),_0x4d394b[_0x536f('0x64b')](0x0,_0x166062[_0x536f('0x21d')])):_0x4d394b[_0x536f('0x64b')](_0x166062['radius'],0x0));}}catch(_0x33c6c5){_0x257a4d=!0x0,_0x5d3320=_0x33c6c5;}finally{try{!_0x26d7d4&&_0x7c8ad4['return']&&_0x7c8ad4[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}}},{'key':_0x536f('0x9cc'),'value':function(_0x166062){if(0x0<this[_0x536f('0x98a')][_0x536f('0xd')]){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d[_0x536f('0x6')])(this['tileBuilidngThemes']);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x26d7d4=!0x0){var _0x3ef8c0=_0x2fc53e[_0x536f('0x10')];_0x166062?_0x3ef8c0[_0x536f('0xa5b')](_0x3ef8c0['lightIntensity'],0x1):_0x3ef8c0[_0x536f('0xa5b')](_0x3ef8c0['lightIntensity'],0.1);}}catch(_0x45ef63){_0x257a4d=!0x0,_0x5d3320=_0x45ef63;}finally{try{!_0x26d7d4&&_0x7c8ad4[_0x536f('0x265')]&&_0x7c8ad4[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}}},{'key':'toggleBuildingVisible','value':function(_0x166062){if(0x0<this[_0x536f('0x98a')][_0x536f('0xd')]){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d[_0x536f('0x6')])(this[_0x536f('0x98a')]);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x26d7d4=!0x0)_0x2fc53e[_0x536f('0x10')][_0x536f('0xce')][_0x536f('0x36c')]=_0x166062;}catch(_0x4a7b97){_0x257a4d=!0x0,_0x5d3320=_0x4a7b97;}finally{try{!_0x26d7d4&&_0x7c8ad4[_0x536f('0x265')]&&_0x7c8ad4[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}}},{'key':_0x536f('0xa5c'),'value':function(_0x166062){if(0x0<this[_0x536f('0x98a')][_0x536f('0xd')]){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d['default'])(this[_0x536f('0x98a')]);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x26d7d4=!0x0){var _0x3ef8c0=_0x2fc53e['value'];_0x3ef8c0[_0x536f('0x946')]&&(_0x3ef8c0[_0x536f('0xce')][_0x536f('0x4aa')]=_0x166062,_0x3ef8c0[_0x536f('0xce')][_0x536f('0x300')]=_0x3ef8c0[_0x536f('0x946')][_0x536f('0x49b')]||0x1,_0x3ef8c0[_0x536f('0xce')]['needsUpdate']=!0x0);}}catch(_0x297d12){_0x257a4d=!0x0,_0x5d3320=_0x297d12;}finally{try{!_0x26d7d4&&_0x7c8ad4[_0x536f('0x265')]&&_0x7c8ad4[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}}},{'key':_0x536f('0x2f3'),'value':function(_0x166062){}},{'key':_0x536f('0xcd'),'value':function(_0x166062){for(var _0x26d7d4=-0x1,_0x257a4d=0x0,_0x5d3320=this[_0x536f('0x94f')][_0x536f('0xd')];_0x257a4d<_0x5d3320;_0x257a4d++)if(this['buildingsThemes'][_0x257a4d][_0x536f('0x3e')]===_0x166062){this[_0x536f('0x94f')][_0x257a4d][_0x536f('0xcd')](),_0x26d7d4=_0x257a4d;break;}-0x1<_0x26d7d4&&this[_0x536f('0x94f')][_0x536f('0x75')](_0x26d7d4,0x1);}},{'key':_0x536f('0x367'),'value':function(){for(var _0x166062=0x0,_0x26d7d4=this[_0x536f('0x94f')][_0x536f('0xd')];_0x166062<_0x26d7d4;_0x166062++)this[_0x536f('0x94f')][_0x166062][_0x536f('0xcd')](),this[_0x536f('0x94f')][_0x166062]=null;for(var _0x257a4d=0x0,_0x5d3320=this[_0x536f('0xa1b')][_0x536f('0xd')];_0x257a4d<_0x5d3320;_0x257a4d++)this[_0x536f('0xa1b')][_0x257a4d]['dispose'](),this[_0x536f('0xa1b')][_0x257a4d]=null;this[_0x536f('0x94f')][_0x536f('0xd')]=0x0,this[_0x536f('0xa1b')][_0x536f('0xd')]=0x0;}},{'key':_0x536f('0x36a'),'value':function(_0x166062){if(0x0<this[_0x536f('0x94f')]['length']){var _0x26d7d4=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x2fc53e,_0x7c8ad4=(0x0,_0x4d7e1d['default'])(this[_0x536f('0x94f')]);!(_0x26d7d4=(_0x2fc53e=_0x7c8ad4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x26d7d4=!0x0){var _0x3ef8c0=_0x2fc53e[_0x536f('0x10')];(0x0,_0x59923e[_0x536f('0x26')])(_0x3ef8c0[_0x536f('0x420')]),_0x3ef8c0[_0x536f('0x36a')](_0x166062);}}catch(_0x430894){_0x257a4d=!0x0,_0x5d3320=_0x430894;}finally{try{!_0x26d7d4&&_0x7c8ad4[_0x536f('0x265')]&&_0x7c8ad4[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}if(0x0<this[_0x536f('0x98a')]['length']){var _0x4d394b=!0x0,_0x257a4d=!0x1,_0x5d3320=void 0x0;try{for(var _0x5cba8b,_0x399a6e=(0x0,_0x4d7e1d[_0x536f('0x6')])(this[_0x536f('0x98a')]);!(_0x4d394b=(_0x5cba8b=_0x399a6e[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x4d394b=!0x0){var _0x333b3b=_0x5cba8b[_0x536f('0x10')];(0x0,_0x59923e[_0x536f('0x26')])(_0x333b3b['shader']),_0x333b3b['render'](_0x166062);}}catch(_0x64f899){_0x257a4d=!0x0,_0x5d3320=_0x64f899;}finally{try{!_0x4d394b&&_0x399a6e[_0x536f('0x265')]&&_0x399a6e[_0x536f('0x265')]();}finally{if(_0x257a4d)throw _0x5d3320;}}}}}]),_0x26d7d4['default']=_0x4d394b;},function(_0x2bfd55,_0x460ab8,_0x4fb2e5){'use strict';Object[_0x536f('0x1')](_0x460ab8,_0x536f('0x4'),{'value':!0x0});var _0x124dd0=_0x2a9fa2(_0x4fb2e5(0x4)),_0x22d0b5=_0x2a9fa2(_0x4fb2e5(0x0)),_0x415ec1=_0x2a9fa2(_0x4fb2e5(0x1)),_0x20cf6b=_0x4fb2e5(0x11),_0x176ab4=function(_0x2bfd55){if(_0x2bfd55&&_0x2bfd55[_0x536f('0x4')])return _0x2bfd55;var _0x460ab8={};if(null!=_0x2bfd55)for(var _0x4fb2e5 in _0x2bfd55)Object['prototype'][_0x536f('0x9')]['call'](_0x2bfd55,_0x4fb2e5)&&(_0x460ab8[_0x4fb2e5]=_0x2bfd55[_0x4fb2e5]);return _0x460ab8[_0x536f('0x6')]=_0x2bfd55,_0x460ab8;}(_0x4fb2e5(0x32)),_0x2e45f3=_0x4fb2e5(0x79);function _0x2a9fa2(_0x2bfd55){return _0x2bfd55&&_0x2bfd55[_0x536f('0x4')]?_0x2bfd55:{'default':_0x2bfd55};}function _0x1d8fc7(){(0x0,_0x22d0b5['default'])(this,_0x1d8fc7),this[_0x536f('0xcf')]=(0x0,_0x20cf6b['getMapInstance'])(),this[_0x536f('0xa5d')]=[],this[_0x536f('0xa5e')]=[],this['controlFloorLayer']=null,this[_0x536f('0x9d1')]={};}(0x0,_0x415ec1[_0x536f('0x6')])(_0x1d8fc7,[{'key':_0x536f('0xa10'),'value':function(_0x31f691){var _0x2bfd55=!0x0,_0x460ab8=!0x1,_0x4fb2e5=void 0x0;try{for(var _0x22d0b5,_0x415ec1=(0x0,_0x124dd0[_0x536f('0x6')])(_0x31f691);!(_0x2bfd55=(_0x22d0b5=_0x415ec1[_0x536f('0x79')]())['done']);_0x2bfd55=!0x0){var _0x2a9fa2=_0x22d0b5['value'],_0x1d8fc7=(0x0,_0x20cf6b[_0x536f('0x2c')])(0x0)[_0x536f('0x522')](_0x2a9fa2[_0x536f('0x95f')]||0x1);if(_0x1d8fc7){var _0x50c8fd,_0x1d8df6,_0x59656f,_0x305773,_0x20c7d9,_0x48e30f,_0x5ef29e,_0x5e6f92,_0x469870,_0x39f14d,_0x5985f4,_0x2f9ebc,_0x5b12e8,_0x1860af=_0x1d8fc7[_0x536f('0x9bb')]([esmap[_0x536f('0x9bc')][_0x536f('0xa5f')]]),_0x4f81ad=null,_0x4f81ad=_0x1860af&&0x0!==_0x1860af[_0x536f('0xd')]?_0x1860af[0x0]['o3d_']['children'][0x0]:(_0x50c8fd=new THREE[(_0x536f('0x428'))](0x1,0x1),_0x1d8df6=new THREE[(_0x536f('0x421'))](),new THREE[(_0x536f('0x354'))](_0x50c8fd,_0x1d8df6));if(_0x536f('0x7b7')===_0x2a9fa2[_0x536f('0xa60')]&&(_0x59656f=_0x4f81ad[_0x536f('0xce')][0x0],_0x305773=new THREE[(_0x536f('0x706'))]({'color':_0x59656f[_0x536f('0x21f')]}),(0x0,_0x2e45f3['setStandardMaterialParams'])(_0x305773,_0x2a9fa2),_0x4f81ad[_0x536f('0xce')][0x0]=_0x305773,this['floorsMesh'][_0x536f('0x82')](_0x4f81ad)),_0x536f('0xa61')===_0x2a9fa2[_0x536f('0xa60')]&&_0x2a9fa2[_0x536f('0xa62')]){if(Array[_0x536f('0x1ab')](_0x4f81ad[_0x536f('0xce')])){var _0xeec1b7=!0x0,_0x2b92b8=!0x1,_0x3fb378=void 0x0;try{for(var _0x114656,_0x2ac3ba=(0x0,_0x124dd0[_0x536f('0x6')])(_0x4f81ad['material']);!(_0xeec1b7=(_0x114656=_0x2ac3ba['next']())[_0x536f('0x7a')]);_0xeec1b7=!0x0)_0x114656[_0x536f('0x10')][_0x536f('0xcd')]();}catch(_0x4b2665){_0x2b92b8=!0x0,_0x3fb378=_0x4b2665;}finally{try{!_0xeec1b7&&_0x2ac3ba[_0x536f('0x265')]&&_0x2ac3ba[_0x536f('0x265')]();}finally{if(_0x2b92b8)throw _0x3fb378;}}}else _0x4f81ad[_0x536f('0xce')]['dispose']();_0x4f81ad[_0x536f('0xd0')]['dispose']();var _0x335ac7=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')]((0x0,_0x20cf6b[_0x536f('0x27')])(_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x95d')])),_0x184743=(_0x335ac7[_0x536f('0x543')]=this['map'][_0x536f('0x48e')]['renderer'][_0x536f('0x535')][_0x536f('0x536')](),new _0x176ab4[(_0x536f('0x9f'))]({'speed':_0x2a9fa2[_0x536f('0xa62')]['speed']})),_0x239942=(_0x4f81ad[_0x536f('0xd0')]=new THREE[(_0x536f('0x428'))](_0x2a9fa2[_0x536f('0xa62')]['radius'],_0x2a9fa2['effectConfigs']['radius']),_0x4f81ad['material']=_0x184743[_0x536f('0x33a')]({'texture':_0x335ac7,'repeat':_0x2a9fa2[_0x536f('0xa62')]['repeat'],'colorStr':_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x21f')]}),_0x4f81ad[_0x536f('0x1f0')]['x']=0.5*-Math['PI'],_0x2a9fa2[_0x536f('0x444')]?_0x4f81ad[_0x536f('0x3b')]['y']+ +_0x2a9fa2[_0x536f('0x444')]:_0x4f81ad[_0x536f('0x3b')]['y']);_0x4f81ad[_0x536f('0x3b')]['y']=_0x239942,_0x2a9fa2[_0x536f('0xa62')][_0x536f('0xa32')]&&(0x0,_0x20cf6b[_0x536f('0x2e')])(_0x4f81ad,_0x2a9fa2[_0x536f('0xa62')][_0x536f('0xa32')],_0x239942),this[_0x536f('0xa5e')][_0x536f('0x82')](_0x184743);}if(_0x2a9fa2[_0x536f('0x21f')]&&_0x4f81ad['material'][0x0]['color'][_0x536f('0x33d')](_0x2a9fa2[_0x536f('0x21f')]),_0x2a9fa2[_0x536f('0xa63')]&&(_0x20c7d9=_0x4f81ad['material'][0x0],(_0x48e30f=new THREE['TextureLoader']()[_0x536f('0x263')]((0x0,_0x20cf6b[_0x536f('0x27')])(_0x2a9fa2[_0x536f('0xa63')])))['wrapT']=THREE[_0x536f('0x60e')],_0x48e30f['wrapS']=THREE[_0x536f('0x60e')],_0x5ef29e=_0x2a9fa2[_0x536f('0xa64')]||0x2710,_0x5e6f92=new THREE[(_0x536f('0x428'))](_0x5ef29e,_0x5ef29e),_0x20c7d9['transparent']=!0x0,_0x20c7d9[_0x536f('0x3b8')]=_0x48e30f,_0x20c7d9[_0x536f('0xfa')]=!0x0,(_0x469870=new THREE['Mesh'](_0x5e6f92,_0x20c7d9))['rotation']['x']=0.5*-Math['PI'],_0x469870[_0x536f('0x3b')]['y']=_0x4f81ad[_0x536f('0x3b')]['y']-0.5,_0x1860af[0x0]['o3d_']['add'](_0x469870)),_0x536f('0xa65')===_0x2a9fa2[_0x536f('0xa60')]&&_0x2a9fa2['effectConfigs']){if(_0x2a9fa2['effectConfigs'][_0x536f('0xa66')])(_0x4f81ad=0x0===_0x1860af['length']?new THREE[(_0x536f('0x354'))](new THREE[(_0x536f('0x428'))](0x1,0x1),new THREE['MeshBasicMaterial']()):_0x4f81ad['clone']())['name']=_0x2a9fa2[_0x536f('0xa62')][_0x536f('0xa67')],this[_0x536f('0x9d1')][_0x2a9fa2['effectConfigs'][_0x536f('0xa67')]]=_0x4f81ad;else{if(Array['isArray'](_0x4f81ad[_0x536f('0xce')])){var _0x3c6598=!0x0,_0x3fc712=!0x1,_0xf740bb=void 0x0;try{for(var _0x510c5d,_0x41c4d6=(0x0,_0x124dd0[_0x536f('0x6')])(_0x4f81ad[_0x536f('0xce')]);!(_0x3c6598=(_0x510c5d=_0x41c4d6[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3c6598=!0x0)_0x510c5d['value'][_0x536f('0xcd')]();}catch(_0x23c53e){_0x3fc712=!0x0,_0xf740bb=_0x23c53e;}finally{try{!_0x3c6598&&_0x41c4d6[_0x536f('0x265')]&&_0x41c4d6[_0x536f('0x265')]();}finally{if(_0x3fc712)throw _0xf740bb;}}}else _0x4f81ad[_0x536f('0xce')]['dispose']();_0x4f81ad['geometry'][_0x536f('0xcd')]();}var _0x109010=null,_0x3a30b2=(_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x95d')]&&((_0x109010=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')]((0x0,_0x20cf6b[_0x536f('0x27')])(_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x95d')])))['wrapT']=THREE['RepeatWrapping'],_0x109010[_0x536f('0x434')]=THREE['RepeatWrapping'],_0x2a9fa2[_0x536f('0xa62')]['anisotropy']&&(_0x109010[_0x536f('0x543')]=this[_0x536f('0xcf')]['mapView'][_0x536f('0x534')]['capabilities']['getMaxAnisotropy']())),null),_0xd4c498=(_0x2a9fa2[_0x536f('0xa62')][_0x536f('0xa68')]&&((_0x3a30b2=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')]((0x0,_0x20cf6b[_0x536f('0x27')])(_0x2a9fa2[_0x536f('0xa62')]['scanRepeatImg'])))[_0x536f('0x375')]=THREE[_0x536f('0x376')],_0x3a30b2[_0x536f('0x434')]=THREE[_0x536f('0x376')],_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x543')]&&(_0x3a30b2[_0x536f('0x543')]=this['map']['mapView'][_0x536f('0x534')][_0x536f('0x535')][_0x536f('0x536')]())),new _0x176ab4['ClearSkyGround']({'colorStr':_0x2a9fa2[_0x536f('0xa62')]['color'],'radius':_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x21d')],'repeat':_0x2a9fa2['effectConfigs'][_0x536f('0x2ee')],'transFactor':_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x49e')],'materialType':_0x2a9fa2[_0x536f('0xa62')]['materialType']})),_0x44ad86=(this[_0x536f('0xa5e')][_0x536f('0x82')](_0xd4c498),_0xd4c498['createGround'](_0x109010,_0x3a30b2)),_0x214858=_0x44ad86[_0x536f('0xd0')],_0xe86245=_0x44ad86['material'],_0x445ee4=(_0x4f81ad[_0x536f('0xd0')]=_0x214858,_0x4f81ad['material']=_0xe86245,_0x4f81ad[_0x536f('0x1f0')]['x']=0.5*-Math['PI'],_0x4f81ad[_0x536f('0x92')]='gradient_floor',(0x0,_0x2e45f3[_0x536f('0x2f7')])(_0xe86245,_0x2a9fa2[_0x536f('0xa62')]),_0x2a9fa2[_0x536f('0xa62')]['opacity']&&(_0x4f81ad[_0x536f('0xce')]['transparent']=!0x0,_0x4f81ad[_0x536f('0xce')][_0x536f('0x201')]=_0x2a9fa2['effectConfigs'][_0x536f('0x201')]),_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x7a5')]&&(_0x4f81ad['receiveShadow']=!0x0),_0x2a9fa2[_0x536f('0x444')]?_0x4f81ad[_0x536f('0x3b')]['y']+ +_0x2a9fa2[_0x536f('0x444')]:_0x4f81ad[_0x536f('0x3b')]['y']);_0x4f81ad[_0x536f('0x3b')]['y']=_0x445ee4,_0x2a9fa2['pos']&&(_0x4f81ad[_0x536f('0x3b')]['x']=_0x2a9fa2['pos']['x'],_0x4f81ad[_0x536f('0x3b')]['z']=_0x2a9fa2['pos']['y']),_0x2a9fa2['effectConfigs']['radius']&&this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x342')]['far']<=_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x21d')]&&(this[_0x536f('0xcf')]['mapView'][_0x536f('0x342')][_0x536f('0x344')]=_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x21d')]+0x3e8,this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x342')]['updateProjectionMatrix']()),_0x2a9fa2['effectConfigs']['isControl']&&(this[_0x536f('0x9d0')]||(this[_0x536f('0x9d0')]=new THREE[(_0x536f('0x372'))](),this['map'][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](this[_0x536f('0x9d0')])),void 0x0!==_0x2a9fa2[_0x536f('0xa62')][_0x536f('0x36c')]&&(_0x4f81ad[_0x536f('0x36c')]=_0x2a9fa2['effectConfigs'][_0x536f('0x36c')]),this[_0x536f('0x9d0')][_0x536f('0x1c3')](_0x4f81ad));}_0x536f('0xa69')===_0x2a9fa2[_0x536f('0xa60')]&&_0x2a9fa2['effectConfigs']&&(_0x4f81ad[_0x536f('0x36c')]=!0x1,_0x39f14d=new _0x176ab4['GeometryMirro']({'texWidth':window['innerWidth'],'texHeight':window['innerHeight']}),_0x5985f4=new THREE['PlaneBufferGeometry'](0x3e8,0x3e8),_0x2f9ebc=_0x39f14d[_0x536f('0x5')](_0x5985f4),_0x5b12e8=_0x2a9fa2[_0x536f('0x444')]?_0x4f81ad[_0x536f('0x3b')]['y']+ +_0x2a9fa2[_0x536f('0x444')]:_0x4f81ad[_0x536f('0x3b')]['y'],_0x2f9ebc['position']['y']=_0x5b12e8,_0x2f9ebc[_0x536f('0x43b')](-Math['PI']/0x2),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](_0x2f9ebc)),!0x1===_0x2a9fa2['visible']&&(_0x4f81ad['visible']=!0x1);}}}catch(_0x440165){_0x460ab8=!0x0,_0x4fb2e5=_0x440165;}finally{try{!_0x2bfd55&&_0x415ec1[_0x536f('0x265')]&&_0x415ec1[_0x536f('0x265')]();}finally{if(_0x460ab8)throw _0x4fb2e5;}}}},{'key':_0x536f('0x59d'),'value':function(_0x460ab8,_0x2bfd55){var _0x4fb2e5=this;new TWEEN[(_0x536f('0x323'))]({'x':0x0})['to']({'x':0x1},0x3e8*_0x2bfd55)['onUpdate'](function(_0x2bfd55){_0x4fb2e5[_0x536f('0x9d1')][_0x460ab8][_0x536f('0xce')][_0x536f('0x201')]=_0x2bfd55['x'];})['easing'](TWEEN['Easing']['Quadratic']['In'])[_0x536f('0x329')]();}},{'key':_0x536f('0xcd'),'value':function(){for(var _0x2bfd55=0x0,_0x460ab8=this[_0x536f('0xa5d')][_0x536f('0xd')];_0x2bfd55<_0x460ab8;_0x2bfd55++)this[_0x536f('0xa5d')][_0x2bfd55][_0x536f('0xce')][0x0]['dispose'](),this['floorsMesh'][_0x2bfd55][_0x536f('0xce')][0x0]=null;for(var _0x4fb2e5=this[_0x536f('0xa5d')]['length']=0x0,_0x22d0b5=this[_0x536f('0xa5e')][_0x536f('0xd')];_0x4fb2e5<_0x22d0b5;_0x4fb2e5++)this[_0x536f('0xa5e')][_0x4fb2e5]['dispose'](),this['floorEffects'][_0x4fb2e5]=null;this[_0x536f('0xa5e')][_0x536f('0xd')]=0x0,this[_0x536f('0x9d0')]&&(this['controlFloorLayer']=null);}},{'key':'render','value':function(_0x2bfd55){if(0x0<this[_0x536f('0xa5e')][_0x536f('0xd')]){var _0x460ab8=!0x0,_0x4fb2e5=!0x1,_0x22d0b5=void 0x0;try{for(var _0x415ec1,_0x2a9fa2=(0x0,_0x124dd0[_0x536f('0x6')])(this[_0x536f('0xa5e')]);!(_0x460ab8=(_0x415ec1=_0x2a9fa2['next']())[_0x536f('0x7a')]);_0x460ab8=!0x0)_0x415ec1[_0x536f('0x10')][_0x536f('0x36a')](_0x2bfd55);}catch(_0x2a801e){_0x4fb2e5=!0x0,_0x22d0b5=_0x2a801e;}finally{try{!_0x460ab8&&_0x2a9fa2['return']&&_0x2a9fa2[_0x536f('0x265')]();}finally{if(_0x4fb2e5)throw _0x22d0b5;}}}}}]),_0x460ab8['default']=_0x1d8fc7;},function(_0xf790d5,_0x5bc18d,_0x5904f8){'use strict';Object['defineProperty'](_0x5bc18d,_0x536f('0x4'),{'value':!0x0});var _0x58a1c4=_0x310fc4(_0x5904f8(0x4)),_0x1338db=_0x310fc4(_0x5904f8(0x0)),_0x3b5294=_0x310fc4(_0x5904f8(0x1)),_0x2e9b69=_0x5904f8(0x11),_0xbf0bc5=function(_0xf790d5){if(_0xf790d5&&_0xf790d5['__esModule'])return _0xf790d5;var _0x5bc18d={};if(null!=_0xf790d5)for(var _0x5904f8 in _0xf790d5)Object[_0x536f('0x8')][_0x536f('0x9')][_0x536f('0xa')](_0xf790d5,_0x5904f8)&&(_0x5bc18d[_0x5904f8]=_0xf790d5[_0x5904f8]);return _0x5bc18d['default']=_0xf790d5,_0x5bc18d;}(_0x5904f8(0x32)),_0x38cc94=_0x5904f8(0x79);function _0x310fc4(_0xf790d5){return _0xf790d5&&_0xf790d5['__esModule']?_0xf790d5:{'default':_0xf790d5};}function _0x3e4344(){(0x0,_0x1338db[_0x536f('0x6')])(this,_0x3e4344),this[_0x536f('0xcf')]=(0x0,_0x2e9b69['getMapInstance'])(),this['groundThemes']=[],this[_0x536f('0xa1b')]=[],this['_tempMaterials']=[];}(0x0,_0x3b5294[_0x536f('0x6')])(_0x3e4344,[{'key':'addGroundTexture','value':function(_0x1f5cc3){var _0x2f1534,_0x29ff1d=(0x0,_0x2e9b69[_0x536f('0x2c')])(0x0)[_0x536f('0x522')](0x1)[_0x536f('0x9bb')]([esmap[_0x536f('0x9bc')]['MODEL'],esmap[_0x536f('0x9bc')][_0x536f('0xa38')],esmap['ESLayerType'][_0x536f('0xa5f')]]);if(_0x1f5cc3[_0x536f('0x95d')]&&((_0x2f1534=new _0xbf0bc5[(_0x536f('0xa6a'))]({'view':this[_0x536f('0xcf')][_0x536f('0x48e')],'type':_0x1f5cc3[_0x536f('0xa6b')],'texPath':_0x1f5cc3[_0x536f('0x95d')],'texScale':_0x1f5cc3[_0x536f('0xa6c')],'texRepeat':_0x1f5cc3[_0x536f('0xa6c')]?{'x':_0x1f5cc3['repeatScaleFactor'],'y':_0x1f5cc3[_0x536f('0xa6c')]}:null}))[_0x536f('0x37e')](_0x536f('0x493'),function(){var _0xf790d5=!0x0,_0x5bc18d=!0x1,_0x5904f8=void 0x0;try{for(var _0x1338db,_0x3b5294=(0x0,_0x58a1c4[_0x536f('0x6')])(_0x29ff1d);!(_0xf790d5=(_0x1338db=_0x3b5294[_0x536f('0x79')]())[_0x536f('0x7a')]);_0xf790d5=!0x0){var _0x310fc4=_0x1338db[_0x536f('0x10')],_0x3e4344=!0x0,_0x15a8b3=!0x1,_0x5edf64=void 0x0;try{for(var _0x3c8155,_0x2c4500=(0x0,_0x58a1c4['default'])(_0x310fc4[_0x536f('0x525')][_0x536f('0x35c')]);!(_0x3e4344=(_0x3c8155=_0x2c4500[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3e4344=!0x0){var _0x483f9b=_0x3c8155[_0x536f('0x10')],_0x218a96=(0x0,_0x2e9b69[_0x536f('0x2a')])(_0x483f9b,_0x1f5cc3['roomStyle']);if(_0x218a96){_0x483f9b[_0x536f('0xce')][_0x218a96[_0x536f('0x576')][_0x536f('0x336')]]=_0x2f1534[_0x536f('0x77a')](),_0x2f1534[_0x536f('0xa6d')]=_0x483f9b;break;}if(_0x536f('0x7c')===_0x483f9b[_0x536f('0x86a')]&&_0x1f5cc3[_0x536f('0x95f')]&&_0x1f5cc3[_0x536f('0x95f')]===_0x483f9b[_0x536f('0x3f')][_0x536f('0x524')]){_0x483f9b[_0x536f('0xce')][0x0]=_0x2f1534[_0x536f('0x77a')](),_0x2f1534['targetMesh']=_0x483f9b;break;}}}catch(_0x22c3ab){_0x15a8b3=!0x0,_0x5edf64=_0x22c3ab;}finally{try{!_0x3e4344&&_0x2c4500['return']&&_0x2c4500[_0x536f('0x265')]();}finally{if(_0x15a8b3)throw _0x5edf64;}}}}catch(_0x5a9d84){_0x5bc18d=!0x0,_0x5904f8=_0x5a9d84;}finally{try{!_0xf790d5&&_0x3b5294[_0x536f('0x265')]&&_0x3b5294[_0x536f('0x265')]();}finally{if(_0x5bc18d)throw _0x5904f8;}}}),this[_0x536f('0xa6e')][_0x536f('0x82')](_0x2f1534)),_0x1f5cc3['roughness']||_0x1f5cc3['metalness']){var _0xf790d5=!0x0,_0x5bc18d=!0x1,_0x5904f8=void 0x0;try{for(var _0x1338db,_0x3b5294=(0x0,_0x58a1c4['default'])(_0x29ff1d);!(_0xf790d5=(_0x1338db=_0x3b5294[_0x536f('0x79')]())[_0x536f('0x7a')]);_0xf790d5=!0x0){var _0x310fc4=_0x1338db['value'],_0x3e4344=!0x0,_0x3ed442=!0x1,_0x3f5269=void 0x0;try{for(var _0x45e644,_0x23b9fe=(0x0,_0x58a1c4[_0x536f('0x6')])(_0x310fc4[_0x536f('0x525')]['children']);!(_0x3e4344=(_0x45e644=_0x23b9fe[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3e4344=!0x0){var _0x40f26a=_0x45e644[_0x536f('0x10')];if(_0x326a46=(0x0,_0x2e9b69[_0x536f('0x2a')])(_0x40f26a,_0x1f5cc3['roomStyle'])){var _0x5d784f=_0x40f26a[_0x536f('0xce')][_0x326a46[_0x536f('0x576')][_0x536f('0x336')]],_0x245911=new THREE[(_0x536f('0x706'))]({'color':_0x5d784f['color']});(0x0,_0x38cc94[_0x536f('0x2f7')])(_0x245911,_0x1f5cc3),_0x40f26a[_0x536f('0xce')][_0x326a46[_0x536f('0x576')][_0x536f('0x336')]]=_0x245911;break;}}}catch(_0x51e10b){_0x3ed442=!0x0,_0x3f5269=_0x51e10b;}finally{try{!_0x3e4344&&_0x23b9fe[_0x536f('0x265')]&&_0x23b9fe[_0x536f('0x265')]();}finally{if(_0x3ed442)throw _0x3f5269;}}}}catch(_0x436626){_0x5bc18d=!0x0,_0x5904f8=_0x436626;}finally{try{!_0xf790d5&&_0x3b5294[_0x536f('0x265')]&&_0x3b5294['return']();}finally{if(_0x5bc18d)throw _0x5904f8;}}}if(_0x1f5cc3[_0x536f('0x2ae')]){var _0x2a416f=!0x0,_0x5bc18d=!0x1,_0x5904f8=void 0x0;try{for(var _0xc020b5,_0x594ea6=(0x0,_0x58a1c4[_0x536f('0x6')])(_0x29ff1d);!(_0x2a416f=(_0xc020b5=_0x594ea6['next']())[_0x536f('0x7a')]);_0x2a416f=!0x0){var _0x26e112=_0xc020b5[_0x536f('0x10')],_0x223e4e=!0x0,_0x3ffd78=!0x1,_0xec9fb=void 0x0;try{for(var _0x17bfe9,_0x45b17c=(0x0,_0x58a1c4['default'])(_0x26e112['o3d_'][_0x536f('0x35c')]);!(_0x223e4e=(_0x17bfe9=_0x45b17c[_0x536f('0x79')]())['done']);_0x223e4e=!0x0){var _0x326a46,_0x186e99=_0x17bfe9[_0x536f('0x10')];if(_0x326a46=(0x0,_0x2e9b69[_0x536f('0x2a')])(_0x186e99,_0x1f5cc3[_0x536f('0x3e')])){var _0x3c80e4=new _0xbf0bc5[(_0x536f('0xc2'))]({'colorStr':_0x1f5cc3[_0x536f('0xa37')],'opacity':_0x1f5cc3[_0x536f('0xa36')],'depthTest':!0x0});_0x3c80e4['createLineFrame'](_0x186e99,_0x186e99['geometry']),_0x1f5cc3['offsetY']&&(_0x186e99[_0x536f('0x3b')]['y']+=_0x1f5cc3[_0x536f('0x388')]),this[_0x536f('0xa1b')]['push'](_0x3c80e4);break;}}}catch(_0x1a870b){_0x3ffd78=!0x0,_0xec9fb=_0x1a870b;}finally{try{!_0x223e4e&&_0x45b17c['return']&&_0x45b17c[_0x536f('0x265')]();}finally{if(_0x3ffd78)throw _0xec9fb;}}}}catch(_0x4e7956){_0x5bc18d=!0x0,_0x5904f8=_0x4e7956;}finally{try{!_0x2a416f&&_0x594ea6[_0x536f('0x265')]&&_0x594ea6[_0x536f('0x265')]();}finally{if(_0x5bc18d)throw _0x5904f8;}}}}},{'key':'dispose','value':function(){}},{'key':_0x536f('0x367'),'value':function(){for(var _0xf790d5=0x0,_0x5bc18d=this[_0x536f('0xa6e')]['length'];_0xf790d5<_0x5bc18d;_0xf790d5++)this[_0x536f('0xa6e')][_0xf790d5][_0x536f('0xcd')](),this['groundThemes'][_0xf790d5]=null;for(var _0x5904f8=this[_0x536f('0xa6e')][_0x536f('0xd')]=0x0,_0x1338db=this['edgeLineFrameList']['length'];_0x5904f8<_0x1338db;_0x5904f8++)this[_0x536f('0xa1b')][_0x5904f8][_0x536f('0xcd')](),this[_0x536f('0xa1b')][_0x5904f8]=null;this[_0x536f('0xa1b')]['length']=0x0;}}]),_0x5bc18d[_0x536f('0x6')]=_0x3e4344;},function(_0x54e812,_0x26cf7e,_0x42f46b){'use strict';Object[_0x536f('0x1')](_0x26cf7e,_0x536f('0x4'),{'value':!0x0});var _0x487467=_0x49dccb(_0x42f46b(0x20)),_0xecb371=_0x49dccb(_0x42f46b(0x4)),_0x3e28d6=_0x49dccb(_0x42f46b(0x0)),_0x59b2e8=_0x49dccb(_0x42f46b(0x1)),_0x1777b1=_0x42f46b(0x11),_0x3972e0=_0x42f46b(0x10d),_0x5c14e0=_0x49dccb(_0x42f46b(0x40));function _0x49dccb(_0x54e812){return _0x54e812&&_0x54e812[_0x536f('0x4')]?_0x54e812:{'default':_0x54e812};}function _0x2441c6(){(0x0,_0x3e28d6[_0x536f('0x6')])(this,_0x2441c6),this[_0x536f('0xcf')]=(0x0,_0x1777b1[_0x536f('0x2d')])(),this[_0x536f('0x519')]=null,this[_0x536f('0x959')]=null,this[_0x536f('0xa6f')]=[],this['directionalLights']=[],this[_0x536f('0xa70')]=null,this[_0x536f('0x9b7')]=null,this[_0x536f('0xa71')]=[];}(0x0,_0x59b2e8[_0x536f('0x6')])(_0x2441c6,[{'key':_0x536f('0xa12'),'value':function(_0x54e812){if(0x0!=_0x54e812[_0x536f('0xd')]){var _0x26cf7e=!0x0,_0x42f46b=!0x1,_0x3e28d6=void 0x0;try{for(var _0x487467,_0x59b2e8=(0x0,_0xecb371[_0x536f('0x6')])(_0x54e812);!(_0x26cf7e=(_0x487467=_0x59b2e8['next']())[_0x536f('0x7a')]);_0x26cf7e=!0x0){var _0x3972e0,_0x5c14e0=_0x487467['value'],_0x49dccb=new THREE[(_0x536f('0xa72'))]();_0x5c14e0['name']&&(_0x49dccb['name']=_0x5c14e0[_0x536f('0x92')]),_0x5c14e0[_0x536f('0x21f')]&&(_0x49dccb['color']=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x5c14e0[_0x536f('0x21f')])),_0x5c14e0['intensity']&&(_0x49dccb['intensity']=_0x5c14e0['intensity']),_0x5c14e0[_0x536f('0x38d')]&&(_0x49dccb[_0x536f('0xa73')]=_0x5c14e0[_0x536f('0x38d')]),_0x5c14e0[_0x536f('0x3b')]&&(0x0,_0x1777b1[_0x536f('0x2e')])(_0x49dccb,_0x5c14e0[_0x536f('0x3b')],_0x5c14e0['position'][_0x536f('0x339')]),(_0x5c14e0[_0x536f('0x5ab')]||esmap['ESEffectTool'][_0x536f('0x52')])&&(_0x3972e0=new THREE[(_0x536f('0xa74'))](_0x49dccb,0x493e0),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](_0x3972e0)),this['map'][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](_0x49dccb),this[_0x536f('0xa6f')]['push'](_0x49dccb);}}catch(_0x552378){_0x42f46b=!0x0,_0x3e28d6=_0x552378;}finally{try{!_0x26cf7e&&_0x59b2e8['return']&&_0x59b2e8[_0x536f('0x265')]();}finally{if(_0x42f46b)throw _0x3e28d6;}}}}},{'key':'updatePointLights','value':function(_0x54e812,_0x26cf7e){var _0x42f46b=!0x0,_0x3e28d6=!0x1,_0x487467=void 0x0;try{for(var _0x59b2e8,_0x3972e0=(0x0,_0xecb371[_0x536f('0x6')])(this[_0x536f('0xa0e')]);!(_0x42f46b=(_0x59b2e8=_0x3972e0['next']())['done']);_0x42f46b=!0x0){var _0x5c14e0=_0x59b2e8[_0x536f('0x10')];if(_0x54e812[_0x536f('0x92')]===_0x5c14e0[_0x536f('0x92')]){_0x54e812[_0x536f('0x21f')]&&(pointLight['color']=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x54e812[_0x536f('0x21f')])),_0x26cf7e[_0x536f('0x49b')]&&(pointLight[_0x536f('0x49b')]=_0x26cf7e[_0x536f('0x49b')]),_0x26cf7e[_0x536f('0x38d')]&&(pointLight[_0x536f('0xa73')]=_0x26cf7e[_0x536f('0x38d')]),_0x26cf7e['position']&&(0x0,_0x1777b1[_0x536f('0x2e')])(pointLight,_0x26cf7e[_0x536f('0x3b')],_0x26cf7e[_0x536f('0x3b')][_0x536f('0x339')]);break;}}}catch(_0x5c3cc8){_0x3e28d6=!0x0,_0x487467=_0x5c3cc8;}finally{try{!_0x42f46b&&_0x3972e0['return']&&_0x3972e0[_0x536f('0x265')]();}finally{if(_0x3e28d6)throw _0x487467;}}}},{'key':_0x536f('0xa14'),'value':function(_0x54e812){if(0x0!=_0x54e812[_0x536f('0xd')]){var _0x26cf7e=!0x0,_0x42f46b=!0x1,_0x3e28d6=void 0x0;try{for(var _0x487467,_0x59b2e8=(0x0,_0xecb371[_0x536f('0x6')])(_0x54e812);!(_0x26cf7e=(_0x487467=_0x59b2e8['next']())[_0x536f('0x7a')]);_0x26cf7e=!0x0){var _0x3972e0,_0x5c14e0,_0x49dccb,_0x2441c6,_0x4badc6,_0x59fae4=_0x487467[_0x536f('0x10')];_0x59fae4[_0x536f('0xa75')]?((_0x3972e0=this[_0x536f('0xcf')][_0x536f('0x48e')][_0x59fae4[_0x536f('0xa75')]])&&(_0x3972e0[_0x536f('0xa76')]={},_0x59fae4['replaceLight']&&(_0x3972e0[_0x536f('0x92')]=_0x59fae4[_0x536f('0xa75')]),!0x1===_0x59fae4[_0x536f('0x36c')]&&(_0x3972e0[_0x536f('0x36c')]=!0x1),_0x59fae4['color']&&(_0x3972e0[_0x536f('0xa76')]['color']=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x1bc')](_0x3972e0[_0x536f('0x21f')]),_0x3972e0['color']=new THREE[(_0x536f('0x1b8'))]()['setStyle'](_0x59fae4[_0x536f('0x21f')])),_0x59fae4['intensity']&&(_0x3972e0[_0x536f('0xa76')][_0x536f('0x49b')]=_0x3972e0[_0x536f('0x49b')],_0x3972e0[_0x536f('0x49b')]=_0x59fae4[_0x536f('0x49b')]),_0x59fae4[_0x536f('0x22c')]&&(_0x3972e0[_0x536f('0xa76')]['position']=new THREE[(_0x536f('0x59'))]()['copy'](_0x3972e0[_0x536f('0x3b')]),_0x3972e0[_0x536f('0x3b')][_0x536f('0x1b')](_0x59fae4['direction']['x'],_0x59fae4['direction']['y'],_0x59fae4['direction']['z'])),void 0x0!==_0x59fae4[_0x536f('0x31f')]&&void 0x0!==_0x59fae4['pitchAngle']&&(_0x5c14e0=(0x0,_0x1777b1[_0x536f('0x25')])(_0x59fae4['pitchAngle'],_0x59fae4['directionAngle']),_0x3972e0[_0x536f('0x3b')][_0x536f('0x1bc')](_0x5c14e0),_0x3972e0[_0x536f('0x31f')]=_0x59fae4[_0x536f('0x31f')],_0x3972e0[_0x536f('0x30d')]=_0x59fae4['pitchAngle']),_0x59fae4['target']&&(_0x3972e0[_0x536f('0xa76')]['target']=new THREE[(_0x536f('0x59'))]()[_0x536f('0x1bc')](_0x3972e0[_0x536f('0x77')]),_0x3972e0[_0x536f('0x77')][_0x536f('0x3b')][_0x536f('0x1b')](_0x59fae4[_0x536f('0x77')]['x'],_0x59fae4['target']['y'],_0x59fae4[_0x536f('0x77')]['z']),_0x3972e0[_0x536f('0x77')][_0x536f('0x99c')]()),(_0x59fae4[_0x536f('0x5ab')]||esmap[_0x536f('0x4e')][_0x536f('0x52')])&&(_0x2441c6=0x64,_0x4badc6=new THREE['DirectionalLightHelper'](_0x3972e0,_0x2441c6),_0x3972e0[_0x536f('0x83c')]=_0x4badc6,this['map'][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](_0x4badc6))),this[_0x536f('0x9d4')][_0x536f('0x82')](_0x3972e0)):((_0x49dccb=new THREE['DirectionalLight']())['_originConfig']={},_0x59fae4[_0x536f('0x92')]&&(_0x49dccb[_0x536f('0x92')]=_0x59fae4[_0x536f('0x92')]),_0x59fae4['color']&&(_0x49dccb[_0x536f('0x21f')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x59fae4[_0x536f('0x21f')]),_0x49dccb[_0x536f('0xa76')]['color']=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x1bc')](_0x49dccb[_0x536f('0x21f')])),_0x59fae4[_0x536f('0x49b')]&&(_0x49dccb[_0x536f('0x49b')]=_0x59fae4[_0x536f('0x49b')],_0x49dccb['_originConfig'][_0x536f('0x49b')]=_0x59fae4[_0x536f('0x49b')]),_0x59fae4[_0x536f('0x22c')]&&_0x49dccb[_0x536f('0x3b')][_0x536f('0x1b')](_0x59fae4[_0x536f('0x22c')]['x'],_0x59fae4['direction']['y'],_0x59fae4[_0x536f('0x22c')]['z']),_0x59fae4[_0x536f('0x77')]&&(_0x49dccb[_0x536f('0x77')][_0x536f('0x3b')][_0x536f('0x1b')](_0x59fae4[_0x536f('0x77')]['x'],_0x59fae4['target']['y'],_0x59fae4[_0x536f('0x77')]['z']),_0x49dccb[_0x536f('0x77')][_0x536f('0x99c')]()),void 0x0!==_0x59fae4[_0x536f('0x31f')]&&void 0x0!==_0x59fae4['pitchAngle']&&(_0x49dccb[_0x536f('0x3b')][_0x536f('0x1bc')]((0x0,_0x1777b1[_0x536f('0x25')])(_0x59fae4[_0x536f('0x30d')],_0x59fae4[_0x536f('0x31f')])),_0x49dccb[_0x536f('0x31f')]=_0x59fae4[_0x536f('0x31f')],_0x49dccb['pitchAngle']=_0x59fae4[_0x536f('0x30d')]),(_0x59fae4['debug']||esmap[_0x536f('0x4e')]['EFFECT_EDITOR'])&&(_0x2441c6=0x64,_0x4badc6=new THREE['DirectionalLightHelper'](_0x49dccb,_0x2441c6),_0x49dccb[_0x536f('0x83c')]=_0x4badc6,this['map'][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](_0x4badc6)),_0x59fae4[_0x536f('0xa70')]&&(this['tileBuildingLight']=_0x49dccb),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](_0x49dccb),this[_0x536f('0x9d4')][_0x536f('0x82')](_0x49dccb));}}catch(_0x428cd1){_0x42f46b=!0x0,_0x3e28d6=_0x428cd1;}finally{try{!_0x26cf7e&&_0x59b2e8[_0x536f('0x265')]&&_0x59b2e8['return']();}finally{if(_0x42f46b)throw _0x3e28d6;}}}}},{'key':_0x536f('0xa77'),'value':function(_0x54e812,_0x26cf7e,_0x42f46b){var _0x3e28d6=(0x0,_0x1777b1['directionFromAlphaBeta'])(_0x26cf7e['pitchAngle'],_0x26cf7e['directionAngle']);_0x42f46b[_0x536f('0xa73')]&&_0x3e28d6[_0x536f('0x1c2')](_0x42f46b['distance']),_0x42f46b[_0x536f('0xa78')]?(_0x54e812['position'][_0x536f('0x1bc')](_0x3e28d6),_0x54e812[_0x536f('0x3b')][_0x536f('0x1c1')]()['multiplyScalar'](_0x42f46b['distance'])[_0x536f('0x1c3')](new THREE[(_0x536f('0x59'))](this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x77')]['x'],0x0,this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x77')]['z'])),_0x54e812[_0x536f('0x77')][_0x536f('0x3b')][_0x536f('0x1bc')](new THREE[(_0x536f('0x59'))](this[_0x536f('0xcf')][_0x536f('0x307')]['target']['x'],0x0,this['map'][_0x536f('0x307')][_0x536f('0x77')]['z'])),_0x54e812[_0x536f('0x77')]['updateMatrixWorld'](!0x0)):_0x54e812['position'][_0x536f('0x1bc')](_0x3e28d6),_0x54e812['directionAngle']=_0x26cf7e[_0x536f('0x31f')],_0x54e812[_0x536f('0x30d')]=_0x26cf7e['pitchAngle'],_0x54e812[_0x536f('0x83c')]&&(0x1<_0x42f46b['planeScale']&&_0x54e812[_0x536f('0x83c')][_0x536f('0xa79')][_0x536f('0x1dc')][_0x536f('0x1c2')](_0x42f46b['planeScale']),_0x54e812[_0x536f('0x83c')]['update']());}},{'key':_0x536f('0x9d5'),'value':function(_0x54e812,_0x26cf7e,_0x42f46b,_0x3e28d6){var _0x487467=!0x0,_0x59b2e8=!0x1,_0x3972e0=void 0x0;try{for(var _0x5c14e0,_0x49dccb=(0x0,_0xecb371[_0x536f('0x6')])(_0x26cf7e);!(_0x487467=(_0x5c14e0=_0x49dccb[_0x536f('0x79')]())['done']);_0x487467=!0x0){var _0x2441c6=_0x5c14e0[_0x536f('0x10')];_0x54e812[_0x536f('0x92')]===_0x2441c6['name']&&(!0x1===_0x2441c6[_0x536f('0x36c')]&&(_0x54e812[_0x536f('0x36c')]=!0x1),_0x2441c6[_0x536f('0x21f')]?_0x54e812[_0x536f('0x21f')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x2441c6[_0x536f('0x21f')]):_0x54e812[_0x536f('0xa76')]&&_0x54e812[_0x536f('0xa76')][_0x536f('0x21f')]&&_0x54e812[_0x536f('0x21f')]['copy'](_0x54e812['_originConfig']['color']),_0x2441c6[_0x536f('0x49b')]?_0x42f46b?this['lightAnimate'](_0x54e812,_0x2441c6['intensity'],_0x3e28d6):_0x54e812[_0x536f('0x49b')]=_0x2441c6['intensity']:_0x42f46b?_0x54e812[_0x536f('0xa76')]&&_0x54e812['_originConfig']['intensity']&&this[_0x536f('0xa7a')](_0x54e812,_0x54e812[_0x536f('0xa76')][_0x536f('0x49b')],_0x3e28d6):_0x54e812[_0x536f('0xa76')]&&_0x54e812[_0x536f('0xa76')][_0x536f('0x49b')]&&(_0x54e812[_0x536f('0x49b')]=_0x54e812[_0x536f('0xa76')]['intensity']),void 0x0!==_0x2441c6[_0x536f('0x31f')]&&void 0x0!==_0x2441c6['pitchAngle']&&(_0x54e812[_0x536f('0x3b')][_0x536f('0x1bc')]((0x0,_0x1777b1[_0x536f('0x25')])(_0x2441c6['pitchAngle'],_0x2441c6['directionAngle'])),_0x54e812['directionAngle']=_0x2441c6[_0x536f('0x31f')],_0x54e812[_0x536f('0x30d')]=_0x2441c6[_0x536f('0x30d')]));}}catch(_0xf29a8f){_0x59b2e8=!0x0,_0x3972e0=_0xf29a8f;}finally{try{!_0x487467&&_0x49dccb[_0x536f('0x265')]&&_0x49dccb[_0x536f('0x265')]();}finally{if(_0x59b2e8)throw _0x3972e0;}}}},{'key':_0x536f('0xa7b'),'value':function(){var _0x54e812=!0x0,_0x26cf7e=!0x1,_0x42f46b=void 0x0;try{for(var _0x3e28d6,_0x487467=(0x0,_0xecb371['default'])(this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x35c')]);!(_0x54e812=(_0x3e28d6=_0x487467[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x54e812=!0x0){var _0x59b2e8=_0x3e28d6[_0x536f('0x10')];if('AmbientLight'==_0x59b2e8[_0x536f('0x76')]){this[_0x536f('0x959')]=_0x59b2e8;break;}}}catch(_0x1d8452){_0x26cf7e=!0x0,_0x42f46b=_0x1d8452;}finally{try{!_0x54e812&&_0x487467[_0x536f('0x265')]&&_0x487467[_0x536f('0x265')]();}finally{if(_0x26cf7e)throw _0x42f46b;}}}},{'key':_0x536f('0x9d3'),'value':function(_0x54e812){if(!this[_0x536f('0x959')]){var _0x26cf7e=!0x0,_0x42f46b=!0x1,_0x3e28d6=void 0x0;try{for(var _0x487467,_0x59b2e8=(0x0,_0xecb371[_0x536f('0x6')])(this[_0x536f('0xcf')]['mapView']['scene'][_0x536f('0x35c')]);!(_0x26cf7e=(_0x487467=_0x59b2e8[_0x536f('0x79')]())['done']);_0x26cf7e=!0x0){var _0x3972e0=_0x487467[_0x536f('0x10')];if(_0x536f('0xa7c')==_0x3972e0[_0x536f('0x76')]){this['ambientLight']=_0x3972e0;break;}}}catch(_0x31adb7){_0x42f46b=!0x0,_0x3e28d6=_0x31adb7;}finally{try{!_0x26cf7e&&_0x59b2e8[_0x536f('0x265')]&&_0x59b2e8[_0x536f('0x265')]();}finally{if(_0x42f46b)throw _0x3e28d6;}}}this['ambientLight']&&(_0x54e812[_0x536f('0x21f')]&&this[_0x536f('0x959')][_0x536f('0x21f')][_0x536f('0x33d')](_0x54e812['color']),_0x54e812[_0x536f('0x49b')]&&(this['ambientLight'][_0x536f('0xa7d')]||(this[_0x536f('0x959')][_0x536f('0xa7d')]=this['ambientLight'][_0x536f('0x49b')]),_0x54e812[_0x536f('0x6c1')]?this['lightAnimate'](this[_0x536f('0x959')],_0x54e812[_0x536f('0x49b')],_0x54e812[_0x536f('0x555')])[_0x536f('0x398')](function(){_0x54e812['callback']&&_0x54e812[_0x536f('0x37c')]();}):this[_0x536f('0x959')][_0x536f('0x49b')]=_0x54e812[_0x536f('0x49b')]),_0x54e812['isRecover']&&this[_0x536f('0xa7a')](this[_0x536f('0x959')],this['ambientLight']['_originIntensity'],_0x54e812['time'])[_0x536f('0x398')](function(){_0x54e812['callback']&&_0x54e812[_0x536f('0x37c')]();}));}},{'key':'lightAnimate','value':function(_0x42f46b,_0x26cf7e){var _0x3e28d6=0x2<arguments['length']&&void 0x0!==arguments[0x2]?arguments[0x2]:0x2;return new _0x487467['default'](function(_0x54e812){new TWEEN['Tween']({'intensity':_0x42f46b[_0x536f('0x49b')]})['to']({'intensity':_0x26cf7e},0x3e8*_0x3e28d6)[_0x536f('0x324')](TWEEN[_0x536f('0x325')][_0x536f('0x441')][_0x536f('0x442')])[_0x536f('0x32a')](function(_0x54e812,_0x26cf7e){_0x42f46b[_0x536f('0x49b')]=_0x54e812[_0x536f('0x49b')];})[_0x536f('0x70f')](function(){_0x54e812();})[_0x536f('0x329')]();});}},{'key':_0x536f('0xa02'),'value':function(_0x26cf7e){var _0x54e812=_0x26cf7e['configs'];if(_0x26cf7e[_0x536f('0x6c1')],_0x26cf7e[_0x536f('0xa7e')],_0x54e812[_0x536f('0x959')]&&this[_0x536f('0x9d3')](_0x54e812[_0x536f('0x959')]),_0x54e812[_0x536f('0x958')]){var _0x42f46b=!0x0,_0x26cf7e=!0x1,_0x3e28d6=void 0x0;try{for(var _0x487467,_0x59b2e8=(0x0,_0xecb371[_0x536f('0x6')])(this[_0x536f('0x9d4')]);!(_0x42f46b=(_0x487467=_0x59b2e8['next']())['done']);_0x42f46b=!0x0){var _0x3972e0=_0x487467[_0x536f('0x10')];this[_0x536f('0x9d5')](_0x3972e0,_0x54e812['directLight']);}}catch(_0x2febc8){_0x26cf7e=!0x0,_0x3e28d6=_0x2febc8;}finally{try{!_0x42f46b&&_0x59b2e8[_0x536f('0x265')]&&_0x59b2e8[_0x536f('0x265')]();}finally{if(_0x26cf7e)throw _0x3e28d6;}}}if(_0x54e812['pointLight']){var _0x5c14e0=!0x0,_0x26cf7e=!0x1,_0x3e28d6=void 0x0;try{for(var _0x49dccb,_0x2441c6=(0x0,_0xecb371[_0x536f('0x6')])(this[_0x536f('0xa6f')]);!(_0x5c14e0=(_0x49dccb=_0x2441c6['next']())[_0x536f('0x7a')]);_0x5c14e0=!0x0){var _0x45f8e5=_0x49dccb['value'];this[_0x536f('0xa7f')](_0x45f8e5,_0x54e812[_0x536f('0x957')]);}}catch(_0x2258d4){_0x26cf7e=!0x0,_0x3e28d6=_0x2258d4;}finally{try{!_0x5c14e0&&_0x2441c6['return']&&_0x2441c6[_0x536f('0x265')]();}finally{if(_0x26cf7e)throw _0x3e28d6;}}}}},{'key':_0x536f('0xa15'),'value':function(_0x54e812){_0x54e812&&_0x54e812[_0x536f('0xa80')]&&0x0<_0x54e812[_0x536f('0xa80')][_0x536f('0xd')]&&!this[_0x536f('0x9b7')]&&(_0x54e812['type']&&_0x536f('0xa81')===_0x54e812[_0x536f('0x76')]?this[_0x536f('0xa82')](_0x54e812):this[_0x536f('0x9b7')]=this[_0x536f('0xa83')](_0x54e812));}},{'key':_0x536f('0xa83'),'value':function(_0x26cf7e,_0x54e812){for(var _0x42f46b=this,_0x3e28d6=0x0,_0x487467=_0x26cf7e[_0x536f('0xa80')]['length'];_0x3e28d6<_0x487467;_0x3e28d6++)_0x54e812||(_0x26cf7e[_0x536f('0xa80')][_0x3e28d6]=(0x0,_0x1777b1[_0x536f('0x27')])(_0x26cf7e[_0x536f('0xa80')][_0x3e28d6]));return new THREE[(_0x536f('0x26a'))]()[_0x536f('0x263')](_0x26cf7e[_0x536f('0xa80')],function(_0x54e812){_0x54e812['name']=_0x26cf7e[_0x536f('0x92')]||'',_0x26cf7e[_0x536f('0x888')]&&(_0x54e812['encoding']=THREE[_0x536f('0x736')]),!_0x26cf7e[_0x536f('0x45d')]&&void 0x0!==_0x26cf7e['enabled']||_0x42f46b['createLightProbe'](_0x26cf7e),_0x42f46b[_0x536f('0xa71')][_0x536f('0x82')](_0x54e812);});}},{'key':_0x536f('0xa84'),'value':function(_0x54e812){this[_0x536f('0xa85')]=new THREE[(_0x536f('0xa86'))](),this[_0x536f('0xcf')][_0x536f('0x48e')]['scene']['add'](this['lightProbe']),this[_0x536f('0xa85')][_0x536f('0x1bc')](_0x3972e0['LightProbeGenerator']['fromCubeTexture'](this[_0x536f('0x9b7')])),this['lightProbe'][_0x536f('0x92')]=_0x54e812[_0x536f('0x92')],_0x54e812[_0x536f('0x49b')]&&(this[_0x536f('0xa85')]['intensity']=_0x54e812[_0x536f('0x49b')]),this['map']['fire'](_0x536f('0xa87'));}},{'key':_0x536f('0xa03'),'value':function(_0x26cf7e,_0x54e812){var _0x42f46b=this;if(this[_0x536f('0xa85')]&&_0x26cf7e[_0x536f('0x92')]){var _0x3e28d6=this[_0x536f('0xa88')](_0x26cf7e[_0x536f('0x92')]);if(_0x3e28d6)this['lightProbe'][_0x536f('0x1bc')](_0x3972e0['LightProbeGenerator'][_0x536f('0xa89')](_0x3e28d6)),this['lightProbe'][_0x536f('0x49b')]=_0x26cf7e[_0x536f('0x49b')],this[_0x536f('0x519')]&&this[_0x536f('0x519')][_0x536f('0xa8a')](_0x3e28d6),this[_0x536f('0x9b7')]=_0x3e28d6;else{for(var _0x487467=0x0,_0x59b2e8=_0x26cf7e[_0x536f('0xa80')]['length'];_0x487467<_0x59b2e8;_0x487467++)_0x54e812||(_0x26cf7e['imgPaths'][_0x487467]=(0x0,_0x1777b1['getConfigAssetsPath'])(_0x26cf7e[_0x536f('0xa80')][_0x487467]));_0x5c14e0[_0x536f('0x6')]['loadSixPicCubeTexture'](_0x26cf7e[_0x536f('0xa80')])['then'](function(_0x54e812){_0x54e812['name']=_0x26cf7e[_0x536f('0x92')],_0x42f46b[_0x536f('0xa85')]['copy'](_0x3972e0['LightProbeGenerator'][_0x536f('0xa89')](_0x54e812)),_0x42f46b[_0x536f('0xa85')][_0x536f('0x49b')]=_0x26cf7e['intensity'],_0x42f46b[_0x536f('0x519')]&&_0x42f46b[_0x536f('0x519')][_0x536f('0xa8a')](_0x54e812),_0x42f46b[_0x536f('0x9b7')]=_0x54e812,_0x42f46b['envTextureCubes'][_0x536f('0x82')](_0x54e812);});}this[_0x536f('0xa85')][_0x536f('0x49b')]=_0x26cf7e[_0x536f('0x49b')];}}},{'key':'updateLightProbeAnimate','value':function(_0x54e812,_0x26cf7e){var _0x42f46b=this;_0x54e812!=_0x26cf7e&&new TWEEN[(_0x536f('0x323'))]({'x':_0x54e812})['to']({'x':_0x26cf7e},0x3e8)[_0x536f('0x324')](TWEEN[_0x536f('0x325')]['Linear']['None'])[_0x536f('0x32a')](function(_0x54e812){_0x42f46b['lightProbe'][_0x536f('0x49b')]=_0x54e812['x'];})[_0x536f('0x329')]();}},{'key':'getTextureCubeByName','value':function(_0x54e812){var _0x26cf7e=!0x0,_0x42f46b=!0x1,_0x3e28d6=void 0x0;try{for(var _0x487467,_0x59b2e8=(0x0,_0xecb371['default'])(this[_0x536f('0xa71')]);!(_0x26cf7e=(_0x487467=_0x59b2e8[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x26cf7e=!0x0){var _0x3972e0=_0x487467[_0x536f('0x10')];if(_0x3972e0[_0x536f('0x92')]===_0x54e812)return _0x3972e0;}}catch(_0x5c36e5){_0x42f46b=!0x0,_0x3e28d6=_0x5c36e5;}finally{try{!_0x26cf7e&&_0x59b2e8[_0x536f('0x265')]&&_0x59b2e8[_0x536f('0x265')]();}finally{if(_0x42f46b)throw _0x3e28d6;}}return null;}},{'key':_0x536f('0xa82'),'value':function(_0x54e812){var _0x26cf7e,_0x42f46b=this;0x1===_0x54e812['imgPaths'][_0x536f('0xd')]&&(_0x54e812=(0x0,_0x1777b1[_0x536f('0x27')])(_0x54e812['imgPaths'][0x0]),_0x26cf7e=new ESWorldMapTools[(_0x536f('0xa3'))](this['map']),this[_0x536f('0x9b7')]=new THREE['Texture'](),_0x26cf7e[_0x536f('0xa8b')]({'texPath':_0x54e812,'resolutionSize':0x200})[_0x536f('0x398')](function(_0x54e812){_0x42f46b[_0x536f('0x9b7')]=_0x54e812;}));}},{'key':_0x536f('0xcd'),'value':function(){for(var _0x54e812=0x0,_0x26cf7e=this[_0x536f('0xa6f')][_0x536f('0xd')];_0x54e812<_0x26cf7e;_0x54e812++)this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0xd1')](this[_0x536f('0xa6f')][_0x54e812]);for(var _0x42f46b=this[_0x536f('0xa6f')][_0x536f('0xd')]=0x0,_0x3e28d6=this[_0x536f('0x9d4')]['length'];_0x42f46b<_0x3e28d6;_0x42f46b++)this[_0x536f('0xcf')]['mapView']['scene'][_0x536f('0xd1')](this[_0x536f('0x9d4')][_0x42f46b]);this[_0x536f('0x9d4')]['length']=0x0,this[_0x536f('0xa85')]&&(this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')]['remove'](this[_0x536f('0xa85')]),this[_0x536f('0xa85')]=null),this['envTextureCube']&&(this[_0x536f('0x9b7')]['dispose'](),this[_0x536f('0x9b7')]=null);for(var _0x487467=0x0,_0x59b2e8=this[_0x536f('0xa71')][_0x536f('0xd')];_0x487467<_0x59b2e8;_0x487467++)this[_0x536f('0xa71')][_0x487467][_0x536f('0xcd')]();this[_0x536f('0xa71')][_0x536f('0xd')]=0x0;}}]),_0x26cf7e[_0x536f('0x6')]=_0x2441c6;},function(_0x810729,_0x5e9eaf,_0x428eb6){'use strict';Object[_0x536f('0x1')](_0x5e9eaf,_0x536f('0x4'),{'value':!0x0}),_0x5e9eaf[_0x536f('0xa8c')]={'fromCubeTexture':function(_0x810729){for(var _0x5e9eaf,_0x428eb6=0x0,_0x5826cb=new THREE[(_0x536f('0x59'))](),_0x3245b9=new THREE[(_0x536f('0x59'))](),_0x1f8df0=new THREE[(_0x536f('0x1b8'))](),_0x5246e5=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],_0x4a6af0=new THREE[(_0x536f('0xa8d'))](),_0x5d7497=_0x4a6af0['coefficients'],_0x419d2b=0x0;_0x419d2b<0x6;_0x419d2b++)for(var _0x14e080=_0x810729[_0x536f('0x86b')][_0x419d2b],_0x40ec09=_0x14e080[_0x536f('0x366')],_0x8de776=_0x14e080[_0x536f('0x339')],_0x1b2c6d=document['createElement'](_0x536f('0x411')),_0x1b2c6d=(_0x1b2c6d[_0x536f('0x366')]=_0x40ec09,_0x1b2c6d[_0x536f('0x339')]=_0x8de776,_0x1b2c6d[_0x536f('0x412')]('2d')),_0x14e080=(_0x1b2c6d[_0x536f('0x497')](_0x14e080,0x0,0x0,_0x40ec09,_0x8de776),_0x1b2c6d[_0x536f('0x50c')](0x0,0x0,_0x40ec09,_0x8de776)),_0x1be42a=_0x14e080[_0x536f('0x2c9')],_0x36afcd=_0x14e080[_0x536f('0x366')],_0x5a9f9f=0x2/_0x36afcd,_0x2b48c0=0x0,_0x21125d=_0x1be42a[_0x536f('0xd')];_0x2b48c0<_0x21125d;_0x2b48c0+=0x4){_0x1f8df0[_0x536f('0x1c4')](_0x1be42a[_0x2b48c0]/0xff,_0x1be42a[_0x2b48c0+0x1]/0xff,_0x1be42a[_0x2b48c0+0x2]/0xff),_0x1f8df0[_0x536f('0xa8e')](_0x1f8df0);var _0x717406=_0x2b48c0/0x4,_0x4f1355=(_0x717406%_0x36afcd+0.5)*_0x5a9f9f-0x1,_0x4d80da=0x1-(Math[_0x536f('0x7c')](_0x717406/_0x36afcd)+0.5)*_0x5a9f9f;switch(_0x419d2b){case 0x0:_0x5826cb[_0x536f('0x1b')](-0x1,_0x4d80da,-_0x4f1355);break;case 0x1:_0x5826cb[_0x536f('0x1b')](0x1,_0x4d80da,_0x4f1355);break;case 0x2:_0x5826cb[_0x536f('0x1b')](-_0x4f1355,0x1,-_0x4d80da);break;case 0x3:_0x5826cb[_0x536f('0x1b')](-_0x4f1355,-0x1,_0x4d80da);break;case 0x4:_0x5826cb['set'](-_0x4f1355,_0x4d80da,0x1);break;case 0x5:_0x5826cb[_0x536f('0x1b')](_0x4f1355,_0x4d80da,-0x1);}_0x717406=_0x5826cb['lengthSq'](),_0x428eb6+=_0x5e9eaf=0x4/(Math[_0x536f('0x1be')](_0x717406)*_0x717406),_0x3245b9[_0x536f('0x1bc')](_0x5826cb)[_0x536f('0x1c1')](),THREE[_0x536f('0xa8d')][_0x536f('0xa8f')](_0x3245b9,_0x5246e5);for(var _0xf9f875=0x0;_0xf9f875<0x9;_0xf9f875++)_0x5d7497[_0xf9f875]['x']+=_0x5246e5[_0xf9f875]*_0x1f8df0['r']*_0x5e9eaf,_0x5d7497[_0xf9f875]['y']+=_0x5246e5[_0xf9f875]*_0x1f8df0['g']*_0x5e9eaf,_0x5d7497[_0xf9f875]['z']+=_0x5246e5[_0xf9f875]*_0x1f8df0['b']*_0x5e9eaf;}for(var _0x3f99f3=0x4*Math['PI']/_0x428eb6,_0xf9f875=0x0;_0xf9f875<0x9;_0xf9f875++)_0x5d7497[_0xf9f875]['x']*=_0x3f99f3,_0x5d7497[_0xf9f875]['y']*=_0x3f99f3,_0x5d7497[_0xf9f875]['z']*=_0x3f99f3;return new THREE[(_0x536f('0xa86'))](_0x4a6af0);}};},function(_0x37c8ac,_0x30d1f3,_0x2ea9f3){'use strict';Object['defineProperty'](_0x30d1f3,_0x536f('0x4'),{'value':!0x0});var _0x234087=_0x5cf60d(_0x2ea9f3(0x29)),_0xbf246f=_0x5cf60d(_0x2ea9f3(0x10)),_0xb009f2=_0x5cf60d(_0x2ea9f3(0x4)),_0x450c86=_0x5cf60d(_0x2ea9f3(0x0)),_0x46961c=_0x5cf60d(_0x2ea9f3(0x1)),_0x3d7d10=_0x2ea9f3(0x11),_0x24f810=function(_0x37c8ac){if(_0x37c8ac&&_0x37c8ac[_0x536f('0x4')])return _0x37c8ac;var _0x30d1f3={};if(null!=_0x37c8ac)for(var _0x2ea9f3 in _0x37c8ac)Object['prototype'][_0x536f('0x9')]['call'](_0x37c8ac,_0x2ea9f3)&&(_0x30d1f3[_0x2ea9f3]=_0x37c8ac[_0x2ea9f3]);return _0x30d1f3[_0x536f('0x6')]=_0x37c8ac,_0x30d1f3;}(_0x2ea9f3(0x32)),_0x256fba=_0x5cf60d(_0x2ea9f3(0x10f));function _0x5cf60d(_0x37c8ac){return _0x37c8ac&&_0x37c8ac[_0x536f('0x4')]?_0x37c8ac:{'default':_0x37c8ac};}function _0x1346b6(){(0x0,_0x450c86[_0x536f('0x6')])(this,_0x1346b6),this[_0x536f('0xcf')]=(0x0,_0x3d7d10[_0x536f('0x2d')])(),this[_0x536f('0xa90')]=null,this[_0x536f('0xa91')]=new THREE[(_0x536f('0x1c5'))](),this[_0x536f('0xa92')]=[],this[_0x536f('0xa93')]=!0x1,this[_0x536f('0xa94')]=null,this[_0x536f('0xa95')]={},this[_0x536f('0xa96')]=!0x1,this[_0x536f('0xa97')]=!0x1,this[_0x536f('0xa98')]=null,this[_0x536f('0xa99')]=new THREE['Color']();}_0x2ea9f3(0x110),(0x0,_0x46961c[_0x536f('0x6')])(_0x1346b6,[{'key':_0x536f('0xa9a'),'value':function(){var _0x37c8ac=((0x0,_0x3d7d10[_0x536f('0x30')])()||(0x0,_0x3d7d10[_0x536f('0x2f')])()?this['map'][_0x536f('0x598')](0x0):this[_0x536f('0xcf')])[_0x536f('0x521')](0x1);this['routesLineGroup'][_0x536f('0x3b')]['y']=_0x37c8ac,this[_0x536f('0xcf')]['mapView'][_0x536f('0x489')][_0x536f('0x1c3')](this[_0x536f('0xa91')]);}},{'key':_0x536f('0xa9b'),'value':function(_0x37c8ac,_0x30d1f3){_0x37c8ac[_0x536f('0xa9c')]?_0x37c8ac[_0x536f('0x1c7')]=new THREE['TextureLoader']()[_0x536f('0x263')](getConfigAssetsPath(_0x37c8ac[_0x536f('0xa9c')])):_0x37c8ac['texture']=new THREE[(_0x536f('0x26c'))]()['load'](getConfigAssetsPath('images/line/light_old.png'));var _0x2ea9f3=new _0x24f810['MulripleMeshLine']({'camera':_0x30d1f3[_0x536f('0x342')],'texture':_0x37c8ac[_0x536f('0x1c7')],'colorStr':_0x37c8ac['color'],'lineWidth':_0x37c8ac['lineWidth'],'speed':_0x37c8ac[_0x536f('0x36b')]}),_0x450c86=(_0x2ea9f3[_0x536f('0x365')](this[_0x536f('0xcf')]),!0x0),_0x30d1f3=!0x1,_0x46961c=void 0x0;try{for(var _0x5cf60d,_0x1346b6=(0x0,_0xb009f2[_0x536f('0x6')])(_0x37c8ac[_0x536f('0x449')]);!(_0x450c86=(_0x5cf60d=_0x1346b6['next']())[_0x536f('0x7a')]);_0x450c86=!0x0){var _0x45a445=_0x5cf60d[_0x536f('0x10')],_0x4961c3=[],_0x238465=_0x45a445['points'][0x0],_0x5efb9a=!0x0,_0x21aa77=!0x1,_0x231cd7=void 0x0;try{for(var _0x45b13c,_0x500c44=(0x0,_0xb009f2[_0x536f('0x6')])(_0x45a445[_0x536f('0x27d')]);!(_0x5efb9a=(_0x45b13c=_0x500c44[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5efb9a=!0x0){var _0x533176,_0x5334c7,_0x5f1b52=_0x45b13c[_0x536f('0x10')];_0x37c8ac[_0x536f('0xa9d')]&&(_0x533176=_0x256fba[_0x536f('0x6')][_0x536f('0x393')](_0x5f1b52['x'],_0x5f1b52['y']),_0x5334c7=_0x256fba[_0x536f('0x6')][_0x536f('0x38f')](_0x533176[0x0],_0x533176[0x1]),_0x5f1b52['x']=_0x5334c7[0x0],_0x5f1b52['y']=_0x5334c7[0x1]),_0x4961c3['push'](new THREE[(_0x536f('0x59'))](-_0x5f1b52['x'],_0x5f1b52[_0x536f('0xf8')],_0x5f1b52['y']));}}catch(_0xae0ffa){_0x21aa77=!0x0,_0x231cd7=_0xae0ffa;}finally{try{!_0x5efb9a&&_0x500c44[_0x536f('0x265')]&&_0x500c44[_0x536f('0x265')]();}finally{if(_0x21aa77)throw _0x231cd7;}}var _0x56454f=_0x2ea9f3[_0x536f('0x351')](_0x4961c3);(0x0,_0x3d7d10['setPositionFromMc'])(_0x56454f,_0x238465,_0x37c8ac[_0x536f('0x339')]),_0x37c8ac[_0x536f('0xa9e')]&&_0x56454f['layers'][_0x536f('0x211')](0x1);}}catch(_0x4231e8){_0x30d1f3=!0x0,_0x46961c=_0x4231e8;}finally{try{!_0x450c86&&_0x1346b6['return']&&_0x1346b6[_0x536f('0x265')]();}finally{if(_0x30d1f3)throw _0x46961c;}}return _0x2ea9f3;}},{'key':_0x536f('0xa16'),'value':function(_0x37c8ac,_0x30d1f3){if(this[_0x536f('0xa9a')](),(0x0,_0x3d7d10['checkIsParkEngine'])())_0x30d1f3['mapId']&&this[_0x536f('0xcf')]['mapService'][_0x536f('0x9a3')]&&this[_0x536f('0xcf')][_0x536f('0x5bf')][_0x536f('0x9a3')][_0x30d1f3[_0x536f('0xa9f')]]&&this[_0x536f('0xaa0')](this[_0x536f('0xcf')][_0x536f('0x5bf')][_0x536f('0x9a3')][_0x30d1f3[_0x536f('0xa9f')]][_0x536f('0xaa1')][0x0],_0x30d1f3);else{var _0x2ea9f3=!0x0,_0x450c86=!0x1,_0x46961c=void 0x0;try{for(var _0x5cf60d,_0x1346b6=(0x0,_0xb009f2[_0x536f('0x6')])(this[_0x536f('0xcf')][_0x536f('0xaa2')]);!(_0x2ea9f3=(_0x5cf60d=_0x1346b6[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x2ea9f3=!0x0){var _0x2501f4=_0x5cf60d[_0x536f('0x10')];if(_0x2501f4['floornum']===_0x37c8ac){this['computeNavDataToRoutesData'](_0x2501f4,_0x30d1f3);break;}}}catch(_0x41ff3d){_0x450c86=!0x0,_0x46961c=_0x41ff3d;}finally{try{!_0x2ea9f3&&_0x1346b6[_0x536f('0x265')]&&_0x1346b6['return']();}finally{if(_0x450c86)throw _0x46961c;}}}}},{'key':'computeNavDataToRoutesData','value':function(_0x37c8ac,_0x30d1f3){var _0x2ea9f3,_0x450c86=(0x0,_0xbf246f[_0x536f('0x6')])({'height':0x47,'lineWidth':0x4,'color':_0x536f('0xaa3'),'routeList':[],'isHightLight':!0x1},_0x30d1f3);for(_0x2ea9f3 in _0x37c8ac[_0x536f('0x9a7')]){var _0x46961c,_0x5cf60d,_0x1346b6=_0x37c8ac[_0x536f('0x9a7')][_0x2ea9f3];_0x1346b6['bstair']&&(0x4==_0x1346b6[_0x536f('0xaa4')]||0x5==_0x1346b6[_0x536f('0xaa4')])&&_0x1346b6[_0x536f('0xaa5')]>=_0x30d1f3['rank'][0x0]&&_0x1346b6[_0x536f('0xaa5')]<_0x30d1f3['rank'][0x1]&&(_0x5cf60d=_0x37c8ac[_0x536f('0xaa6')][_0x1346b6[_0x536f('0xaa7')]],_0x1346b6=_0x37c8ac[_0x536f('0xaa6')][_0x1346b6[_0x536f('0xaa8')]],(_0x46961c={'points':[]})[_0x536f('0x27d')][_0x536f('0x82')]({'x':_0x5cf60d['X'],'y':_0x5cf60d['Y']},{'x':_0x1346b6['X'],'y':_0x1346b6['Y']}),_0x450c86[_0x536f('0x563')]['push'](_0x46961c));}var _0x30e7a4=this[_0x536f('0xa9b')]({'color':_0x450c86[_0x536f('0x21f')],'list':_0x450c86[_0x536f('0x563')],'height':_0x450c86[_0x536f('0x339')],'lineWidth':_0x450c86[_0x536f('0x341')],'lineTexture':_0x450c86[_0x536f('0xaa9')],'isHightLight':_0x450c86['isHightLight'],'speed':_0x450c86[_0x536f('0x36b')]},this[_0x536f('0xcf')][_0x536f('0x48e')]);this[_0x536f('0xa91')][_0x536f('0x1c3')](_0x30e7a4[_0x536f('0x356')]),this[_0x536f('0xa92')][_0x536f('0x82')](_0x30e7a4);}},{'key':_0x536f('0xa17'),'value':function(_0x30d1f3,_0x2ea9f3){this[_0x536f('0xa9a')]();var _0x37c8ac=(0x0,_0xbf246f[_0x536f('0x6')])({'height':0x47,'lineWidth':0x4,'color':_0x536f('0xaa3'),'routeList':[],'isHightLight':!0x1},_0x30d1f3),_0x450c86=[],_0x46961c=!0x0,_0x30d1f3=!0x1,_0x5cf60d=void 0x0;try{for(var _0x1346b6,_0x4635a5=(0x0,_0xb009f2['default'])(_0x37c8ac[_0x536f('0xaaa')]);!(_0x46961c=(_0x1346b6=_0x4635a5['next']())[_0x536f('0x7a')]);_0x46961c=!0x0){var _0x223753=_0x1346b6[_0x536f('0x10')];_0x450c86[_0x536f('0x82')]({'color':_0x223753[_0x536f('0x21f')],'rank':_0x223753['datatype'],'lineTexture':_0x223753[_0x536f('0xaa9')],'routeList':[]});}}catch(_0xe04d11){_0x30d1f3=!0x0,_0x5cf60d=_0xe04d11;}finally{try{!_0x46961c&&_0x4635a5[_0x536f('0x265')]&&_0x4635a5[_0x536f('0x265')]();}finally{if(_0x30d1f3)throw _0x5cf60d;}}var _0x529b2c=!0x0,_0x30d1f3=!0x1,_0x5cf60d=void 0x0;try{for(var _0x483100,_0x3f5c5a=(0x0,_0xb009f2[_0x536f('0x6')])(_0x2ea9f3);!(_0x529b2c=(_0x483100=_0x3f5c5a[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x529b2c=!0x0){var _0x265010=_0x483100[_0x536f('0x10')],_0x54b825={'points':[]},_0x519ff5=(_0x54b825[_0x536f('0x27d')]=JSON[_0x536f('0x2fb')](_0x265010[_0x536f('0xaab')]),!0x0),_0x178cff=!0x1,_0x53033d=void 0x0;try{for(var _0x5aaee1,_0x58f899=(0x0,_0xb009f2['default'])(_0x450c86);!(_0x519ff5=(_0x5aaee1=_0x58f899[_0x536f('0x79')]())['done']);_0x519ff5=!0x0){var _0x3d7d10=_0x5aaee1['value'];_0x536f('0x1c')===(0x0,_0x234087[_0x536f('0x6')])(_0x3d7d10[_0x536f('0xaa5')])&&+_0x265010[_0x536f('0xaac')]>=_0x3d7d10[_0x536f('0xaa5')][0x0]&&+_0x265010[_0x536f('0xaac')]<_0x3d7d10[_0x536f('0xaa5')][0x1]&&_0x3d7d10['routeList'][_0x536f('0x82')](_0x54b825),_0x536f('0x8a')==typeof _0x3d7d10['rank']&&_0x265010[_0x536f('0xaac')]==_0x3d7d10[_0x536f('0xaa5')]&&_0x3d7d10[_0x536f('0x563')][_0x536f('0x82')](_0x54b825);}}catch(_0x3a7d6c){_0x178cff=!0x0,_0x53033d=_0x3a7d6c;}finally{try{!_0x519ff5&&_0x58f899[_0x536f('0x265')]&&_0x58f899['return']();}finally{if(_0x178cff)throw _0x53033d;}}}}catch(_0xc78909){_0x30d1f3=!0x0,_0x5cf60d=_0xc78909;}finally{try{!_0x529b2c&&_0x3f5c5a[_0x536f('0x265')]&&_0x3f5c5a[_0x536f('0x265')]();}finally{if(_0x30d1f3)throw _0x5cf60d;}}var _0x24f810=!0x0,_0x2ea9f3=!0x1,_0x30d1f3=void 0x0;try{for(var _0x256fba,_0x1d60c2=(0x0,_0xb009f2[_0x536f('0x6')])(_0x450c86);!(_0x24f810=(_0x256fba=_0x1d60c2[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x24f810=!0x0){var _0x493388=_0x256fba['value'],_0x268302=this[_0x536f('0xa9b')]({'color':_0x493388[_0x536f('0x21f')],'list':_0x493388[_0x536f('0x563')],'height':_0x37c8ac[_0x536f('0x339')],'lineWidth':_0x37c8ac[_0x536f('0x341')],'coordTrans':_0x37c8ac[_0x536f('0xa9d')],'lineTexture':_0x37c8ac[_0x536f('0xaa9')],'isHightLight':_0x37c8ac[_0x536f('0xa9e')],'speed':_0x37c8ac[_0x536f('0x36b')]},map[_0x536f('0x48e')]);this['routesLineGroup'][_0x536f('0x1c3')](_0x268302[_0x536f('0x356')]),this[_0x536f('0xa92')][_0x536f('0x82')](_0x268302);}}catch(_0x40acb4){_0x2ea9f3=!0x0,_0x30d1f3=_0x40acb4;}finally{try{!_0x24f810&&_0x1d60c2[_0x536f('0x265')]&&_0x1d60c2[_0x536f('0x265')]();}finally{if(_0x2ea9f3)throw _0x30d1f3;}}}},{'key':'loadTileRoutesData','value':function(_0x37c8ac,_0x30d1f3,_0x2ea9f3,_0x450c86){_0x450c86&&(this[_0x536f('0xa96')]=_0x450c86),this[_0x536f('0xaad')]();var _0x46961c,_0x5cf60d=this[_0x536f('0xcf')][_0x536f('0xaae')](_0x30d1f3);if(_0x5cf60d){for(var _0x1346b6 in _0x37c8ac){_0x1346b6=_0x37c8ac[_0x1346b6];if(_0x1346b6[_0x536f('0x27d')]=this[_0x536f('0xaaf')](_0x1346b6),_0x1346b6['points']=this[_0x536f('0xcf')][_0x536f('0xab0')]({'from':this[_0x536f('0xcf')]['DEFAULT_COORDSYSTEM'],'to':this[_0x536f('0xcf')][_0x536f('0xab1')],'coords':_0x1346b6[_0x536f('0x27d')],'flipX':!0x1}),this['tileRoutesMarkers'][_0x1346b6[_0x536f('0x6a')]]){var _0x19d3c9=this[_0x536f('0xa95')][_0x1346b6[_0x536f('0x6a')]][_0x536f('0x59c')](_0x1346b6['points'],new THREE[(_0x536f('0x59'))](this['map'][_0x536f('0x33')][_0x536f('0xab2')],0x0,this[_0x536f('0xcf')][_0x536f('0x33')][_0x536f('0x34')]));if(_0x450c86){var _0x247a3f=[],_0x43e72d=_0x19d3c9[_0x536f('0x169')]['position'][_0x536f('0xf9')];this[_0x536f('0xa99')]['setStyle']('#FFFFFF');for(var _0x508071=0x0;_0x508071<_0x43e72d;_0x508071++)_0x247a3f[_0x536f('0x82')](this[_0x536f('0xa99')]['r'],this[_0x536f('0xa99')]['g'],this[_0x536f('0xa99')]['b']);_0x19d3c9[_0x536f('0x1f5')]('changeColor',new THREE[(_0x536f('0x102'))](new Float32Array(_0x247a3f),0x3)),this[_0x536f('0xa95')][_0x1346b6['style']][_0x536f('0xab3')][_0x1346b6['_id']]={'count':_0x43e72d,'colorStr':_0x536f('0x36e')};}_0x19d3c9[_0x536f('0xab4')]=_0x1346b6[_0x536f('0xab5')],this[_0x536f('0xa95')][_0x1346b6[_0x536f('0x6a')]][_0x536f('0xab6')][_0x536f('0x82')](_0x19d3c9);}}for(var _0x59de73 in this[_0x536f('0xa95')])0x0<this[_0x536f('0xa95')][_0x59de73]['geometries'][_0x536f('0xd')]&&(_0x46961c=this[_0x536f('0xab7')](this[_0x536f('0xa95')][_0x59de73]['geometries']),_0x46961c=new THREE[(_0x536f('0x354'))](_0x46961c,this[_0x536f('0xa95')][_0x59de73][_0x536f('0x59b')]),_0x2ea9f3&&_0x46961c[_0x536f('0x56f')][_0x536f('0x211')](0x1),_0x46961c[_0x536f('0x355')]=esmap[_0x536f('0xab8')][_0x536f('0xab9')]||0x4c,_0x46961c['tileCode']=_0x30d1f3,_0x46961c['name']=_0x536f('0xaba'),_0x46961c[_0x536f('0xabb')]=this['tileRoutesMarkers'][_0x59de73][_0x536f('0xab3')],_0x5cf60d[_0x536f('0x525')][_0x536f('0x1c3')](_0x46961c),this[_0x536f('0xa95')][_0x59de73][_0x536f('0xab6')][_0x536f('0xd')]=0x0,this[_0x536f('0xa95')][_0x59de73][_0x536f('0xab3')]={});}}},{'key':_0x536f('0xab7'),'value':function(_0x37c8ac){var _0x30d1f3=[],_0x2ea9f3=[],_0x450c86=!0x0,_0x46961c=!0x1,_0x5cf60d=void 0x0;try{for(var _0x1346b6,_0x2aedc7=(0x0,_0xb009f2['default'])(_0x37c8ac);!(_0x450c86=(_0x1346b6=_0x2aedc7[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x450c86=!0x0){var _0x2c4c13=_0x1346b6[_0x536f('0x10')];_0x30d1f3[_0x536f('0x82')](_0x2c4c13),_0x2ea9f3[_0x536f('0x82')](_0x2c4c13[_0x536f('0xab4')]);}}catch(_0x52baca){_0x46961c=!0x0,_0x5cf60d=_0x52baca;}finally{try{!_0x450c86&&_0x2aedc7[_0x536f('0x265')]&&_0x2aedc7[_0x536f('0x265')]();}finally{if(_0x46961c)throw _0x5cf60d;}}_0x37c8ac=THREE[_0x536f('0xabc')][_0x536f('0xabd')](_0x30d1f3,!0x1);return _0x37c8ac[_0x536f('0xabe')](0x0,_0x37c8ac[_0x536f('0x169')][_0x536f('0x3b')][_0x536f('0xf9')],0x0),_0x37c8ac['routeIds']=_0x2ea9f3,_0x37c8ac;}},{'key':_0x536f('0xabf'),'value':function(_0x37c8ac){for(var _0x30d1f3 in this[_0x536f('0xa95')])this[_0x536f('0xa95')][_0x30d1f3]['isChangeLineColor'](!0x0);for(var _0x2ea9f3=0x0,_0x450c86=this['map'][_0x536f('0xac0')][_0x536f('0xd')];_0x2ea9f3<_0x450c86;_0x2ea9f3++)for(var _0x46961c=0x0,_0x5cf60d=this[_0x536f('0xcf')][_0x536f('0xac0')][_0x2ea9f3][_0x536f('0x525')][_0x536f('0x35c')]['length'];_0x46961c<_0x5cf60d;_0x46961c++)if('tile_route_line'===this[_0x536f('0xcf')]['tileList'][_0x2ea9f3][_0x536f('0x525')][_0x536f('0x35c')][_0x46961c][_0x536f('0x92')]){var _0x1346b6,_0x434ccd=this[_0x536f('0xcf')]['tileList'][_0x2ea9f3][_0x536f('0x525')][_0x536f('0x35c')][_0x46961c],_0x39b393=_0x434ccd['geometry'][_0x536f('0x169')]['changeColor'],_0x5ae51e=0x0;for(_0x1346b6 in _0x434ccd['lineColorMapping']){_0x434ccd[_0x536f('0xabb')][_0x1346b6]['colorStr']=_0x37c8ac[Math[_0x536f('0x7c')](0x3*Math[_0x536f('0x1ba')]())],this[_0x536f('0xa99')][_0x536f('0x33d')](_0x434ccd['lineColorMapping'][_0x1346b6][_0x536f('0x36d')]);for(var _0x99249d=0x3*_0x5ae51e,_0x5f5b05=0x3*(_0x5ae51e+_0x434ccd[_0x536f('0xabb')][_0x1346b6][_0x536f('0xf9')]);_0x99249d<_0x5f5b05;_0x99249d+=0x3)_0x39b393['array'][_0x99249d]=this[_0x536f('0xa99')]['r'],_0x39b393[_0x536f('0xd8')][_0x99249d+0x1]=this[_0x536f('0xa99')]['g'],_0x39b393[_0x536f('0xd8')][_0x99249d+0x2]=this['tempColor']['b'];_0x5ae51e+=_0x434ccd[_0x536f('0xabb')][_0x1346b6][_0x536f('0xf9')];}_0x39b393['needsUpdate']=!0x0;}this[_0x536f('0xa97')]=!0x0;}},{'key':_0x536f('0x9d6'),'value':function(_0x37c8ac){var _0x30d1f3=void 0x0,_0x2ea9f3=void 0x0;if(_0x37c8ac?(_0x30d1f3=_0x37c8ac[_0x536f('0x670')],_0x2ea9f3=_0x37c8ac[_0x536f('0xac1')],this['changedTileRoutesStyleConfig']=_0x37c8ac):(_0x30d1f3=this[_0x536f('0xa98')][_0x536f('0x670')],_0x2ea9f3=this['changedTileRoutesStyleConfig'][_0x536f('0xac1')]),_0x30d1f3&&this[_0x536f('0xabf')](_0x30d1f3),_0x2ea9f3)for(var _0x450c86 in this[_0x536f('0xa95')])this['tileRoutesMarkers'][_0x450c86][_0x536f('0x59f')](_0x2ea9f3);}},{'key':_0x536f('0x9d7'),'value':function(){if(this['changedTileRoutesStyleConfig']){for(var _0x37c8ac in this[_0x536f('0xa95')])this[_0x536f('0xa95')][_0x37c8ac][_0x536f('0x59e')](!0x1),this[_0x536f('0xa95')][_0x37c8ac]['scaleLineWidth'](0x1);this[_0x536f('0xa97')]=!0x1,this[_0x536f('0xa98')]=null;}}},{'key':'toggleTileRoutesVisible','value':function(){var _0x37c8ac,_0x30d1f3=0x0<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x0]&&arguments[0x0];for(_0x37c8ac in this['tileRoutesMarkers'])this[_0x536f('0xa95')][_0x37c8ac][_0x536f('0x59b')][_0x536f('0x36c')]=_0x30d1f3;}},{'key':_0x536f('0xaad'),'value':function(){if(!this[_0x536f('0xa93')]){for(var _0x37c8ac in this[_0x536f('0xac2')]=new esmap['ESEffectTool'][(_0x536f('0x929'))](_0x536f('0xac3'),esmap[_0x536f('0x511')][_0x536f('0x512')]),esmap[_0x536f('0x4e')]['addLayerToMap'](this['routeEffectLayer']),this[_0x536f('0xcf')][_0x536f('0x3c')]['roadStyles']){var _0x30d1f3=this[_0x536f('0xcf')][_0x536f('0x3c')]['roadStyles'][_0x37c8ac],_0x2ea9f3=(_0x30d1f3[_0x536f('0x21f')]=esmap[_0x536f('0x36')]['colorRGB2Hex'](_0x30d1f3[_0x536f('0x21f')]),null),_0x2ea9f3=(0x1==_0x30d1f3[_0x536f('0x606')]&&(_0x2ea9f3=_0x30d1f3['color']),new esmap['ESEffectTool'][(_0x536f('0xac4'))](esmap[_0x536f('0x2a4')][_0x536f('0x594')],{'color':_0x2ea9f3,'height':0x0,'lineWidth':1.5*_0x30d1f3['linewidth'],'imgUrl':0x2==_0x30d1f3['filltype']?_0x30d1f3[_0x536f('0xac5')]:null,'speed':_0x30d1f3['animationspeed']/0xc8,'isCanChangeStyle':this[_0x536f('0xa96')],'opacity':_0x30d1f3[_0x536f('0x201')]}));this[_0x536f('0xac2')][_0x536f('0x52d')](_0x2ea9f3),this[_0x536f('0xa95')][_0x37c8ac]=_0x2ea9f3,this[_0x536f('0xa95')][_0x37c8ac][_0x536f('0xab6')]=[],this[_0x536f('0xa95')][_0x37c8ac]['idColorMapping']={};}this['isLoadedTileRouteStyle']=!0x0;}}},{'key':_0x536f('0xaaf'),'value':function(_0x37c8ac){var _0x30d1f3=_0x37c8ac[_0x536f('0xac6')][_0x536f('0xac7')](0x2,_0x37c8ac['outline'][_0x536f('0xd')]-0x2)[_0x536f('0x62')](/,/),_0x2ea9f3={'x':0x0,'y':0x0};if(0x0!=_0x30d1f3[_0x536f('0xd')]){for(var _0x450c86=[],_0x46961c=0x0;_0x46961c<_0x30d1f3[_0x536f('0xd')];_0x46961c++){var _0x5cf60d=_0x30d1f3[_0x46961c]['split']('\x20'),_0x1346b6=+_0x5cf60d[0x2]||0x0;_0x450c86[_0x536f('0x82')]({'x':+_0x5cf60d[0x0]+_0x2ea9f3['x'],'y':+_0x5cf60d[0x1]+_0x2ea9f3['y'],'offset':_0x1346b6}),0x0==_0x46961c&&(_0x2ea9f3['x']=+_0x5cf60d[0x0],_0x2ea9f3['y']=+_0x5cf60d[0x1]);}return _0x450c86;}}},{'key':_0x536f('0x367'),'value':function(){for(var _0x37c8ac,_0x30d1f3=0x0,_0x2ea9f3=this['routesMarkers'][_0x536f('0xd')];_0x30d1f3<_0x2ea9f3;_0x30d1f3++)this[_0x536f('0xa92')][_0x30d1f3]['dispose'](),this['routesMarkers'][_0x30d1f3]=null;for(_0x37c8ac in this[_0x536f('0xa92')][_0x536f('0xd')]=0x0,this['routesEffectLayer']&&(this[_0x536f('0xa94')][_0x536f('0xcd')](),this[_0x536f('0xa94')]=null),this[_0x536f('0xa95')])delete this['tileRoutesMarkers'][_0x37c8ac];}},{'key':_0x536f('0x36a'),'value':function(){if(0x0<this['routesMarkers']['length']){var _0x37c8ac=!0x0,_0x30d1f3=!0x1,_0x2ea9f3=void 0x0;try{for(var _0x450c86,_0x46961c=(0x0,_0xb009f2['default'])(this[_0x536f('0xa92')]);!(_0x37c8ac=(_0x450c86=_0x46961c[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x37c8ac=!0x0)_0x450c86[_0x536f('0x10')][_0x536f('0x36a')]();}catch(_0x2d7dee){_0x30d1f3=!0x0,_0x2ea9f3=_0x2d7dee;}finally{try{!_0x37c8ac&&_0x46961c['return']&&_0x46961c['return']();}finally{if(_0x30d1f3)throw _0x2ea9f3;}}}}}]),_0x30d1f3[_0x536f('0x6')]=_0x1346b6;},function(_0x5e5027,_0x246a02,_0x1b031a){'use strict';Object[_0x536f('0x1')](_0x246a02,_0x536f('0x4'),{'value':!0x0});var _0x2e4b9a=_0x7b8c68(_0x1b031a(0x0));function _0x7b8c68(_0x5e5027){return _0x5e5027&&_0x5e5027['__esModule']?_0x5e5027:{'default':_0x5e5027};}function _0xb94454(){(0x0,_0x2e4b9a[_0x536f('0x6')])(this,_0xb94454);}(0x0,_0x7b8c68(_0x1b031a(0x1))[_0x536f('0x6')])(_0xb94454,null,[{'key':_0x536f('0x38f'),'value':function(_0x5e5027,_0x246a02){var _0x1b031a=[],_0x5e5027=20037508.342789*_0x5e5027/0xb4,_0x246a02=Math[_0x536f('0x4da')](Math[_0x536f('0x6a1')]((0x5a+_0x246a02)*Math['PI']/0x168))/(Math['PI']/0xb4)*20037508.34789/0xb4;return _0x1b031a[_0x536f('0x82')](_0x5e5027),_0x1b031a[_0x536f('0x82')](_0x246a02),_0x1b031a;}},{'key':_0x536f('0x393'),'value':function(_0x5e5027,_0x246a02){var _0x1b031a=[],_0x5e5027=_0x5e5027/20037508.342789*0xb4,_0x246a02=_0x246a02/20037508.342789*0xb4,_0x246a02=0xb4/Math['PI']*(0x2*Math[_0x536f('0xac8')](Math[_0x536f('0xac9')](_0x246a02*Math['PI']/0xb4))-Math['PI']/0x2);return _0x1b031a['push'](_0x5e5027),_0x1b031a['push'](_0x246a02),_0x1b031a;}}]),_0x246a02['default']=_0xb94454;},function(_0x317199,_0x4de425,_0x5a0dde){'use strict';var _0x324949=_0x1948d4(_0x5a0dde(0xb9)),_0x11ad14=_0x1948d4(_0x5a0dde(0x111)),_0xfef0dd=_0x1948d4(_0x5a0dde(0x3c)),_0x2cb7c5=_0x1948d4(_0x5a0dde(0x7a));function _0x1948d4(_0x317199){return _0x317199&&_0x317199[_0x536f('0x4')]?_0x317199:{'default':_0x317199};}THREE['BufferGeometryUtils2']={'computeTangents':function(_0x317199){var _0x1fe406=_0x317199[_0x536f('0x336')],_0x4de425=_0x317199[_0x536f('0x169')];if(null!==_0x1fe406&&void 0x0!==_0x4de425[_0x536f('0x3b')]&&void 0x0!==_0x4de425['normal']&&void 0x0!==_0x4de425['uv']){for(var _0x5a0dde=_0x1fe406[_0x536f('0xd8')],_0x1948d4=_0x4de425[_0x536f('0x3b')][_0x536f('0xd8')],_0x36196c=_0x4de425[_0x536f('0x4ec')][_0x536f('0xd8')],_0x4b8224=_0x4de425['uv'][_0x536f('0xd8')],_0x14ad8c=_0x1948d4[_0x536f('0xd')]/0x3,_0x190cde=(void 0x0===_0x4de425['tangent']&&_0x317199[_0x536f('0x1f5')]('tangent',new THREE[(_0x536f('0x102'))](new Float32Array(0x4*_0x14ad8c),0x4)),_0x4de425[_0x536f('0xaca')][_0x536f('0xd8')]),_0x5d8350=[],_0x6357b3=[],_0x4f1b6f=0x0;_0x4f1b6f<_0x14ad8c;_0x4f1b6f++)_0x5d8350[_0x4f1b6f]=new THREE['Vector3'](),_0x6357b3[_0x4f1b6f]=new THREE[(_0x536f('0x59'))]();for(var _0x1ec0df,_0x173c85,_0x38330b,_0x19bba8,_0x3ef310,_0x87a48,_0x4ca8e2,_0x41d4eb,_0x25a318,_0x455490,_0xc44f97,_0x103290,_0x2cb7c5,_0x182843,_0xd9e77d=new THREE[(_0x536f('0x59'))](),_0x52da86=new THREE[(_0x536f('0x59'))](),_0x9d3939=new THREE[(_0x536f('0x59'))](),_0x139c67=new THREE[(_0x536f('0x1b5'))](),_0x546ff8=new THREE[(_0x536f('0x1b5'))](),_0x5e477c=new THREE[(_0x536f('0x1b5'))](),_0x4cf9d3=new THREE[(_0x536f('0x59'))](),_0x4ccd4c=new THREE[(_0x536f('0x59'))](),_0x1a0438=_0x317199[_0x536f('0xacb')],_0x4f1b6f=0x0,_0x50d644=(_0x1a0438=0x0===_0x1a0438['length']?[{'start':0x0,'count':_0x5a0dde[_0x536f('0xd')]}]:_0x1a0438)['length'];_0x4f1b6f<_0x50d644;++_0x4f1b6f)for(var _0x2ded97=_0x5349c3=(_0xfef0dd=_0x1a0438[_0x4f1b6f])[_0x536f('0x329')],_0x1472b7=_0x5349c3+_0xfef0dd['count'];_0x2ded97<_0x1472b7;_0x2ded97+=0x3)_0x1ec0df=_0x5a0dde[_0x2ded97+0x0],_0x173c85=_0x5a0dde[_0x2ded97+0x1],_0x38330b=_0x5a0dde[_0x2ded97+0x2],0x0,_0xd9e77d['fromArray'](_0x1948d4,0x3*_0x1ec0df),_0x52da86['fromArray'](_0x1948d4,0x3*_0x173c85),_0x9d3939['fromArray'](_0x1948d4,0x3*_0x38330b),_0x139c67[_0x536f('0x3c9')](_0x4b8224,0x2*_0x1ec0df),_0x546ff8[_0x536f('0x3c9')](_0x4b8224,0x2*_0x173c85),_0x5e477c['fromArray'](_0x4b8224,0x2*_0x38330b),_0x19bba8=_0x52da86['x']-_0xd9e77d['x'],_0x3ef310=_0x9d3939['x']-_0xd9e77d['x'],_0x87a48=_0x52da86['y']-_0xd9e77d['y'],_0x4ca8e2=_0x9d3939['y']-_0xd9e77d['y'],_0x41d4eb=_0x52da86['z']-_0xd9e77d['z'],_0x25a318=_0x9d3939['z']-_0xd9e77d['z'],_0x455490=_0x546ff8['x']-_0x139c67['x'],_0xc44f97=_0x5e477c['x']-_0x139c67['x'],_0x103290=_0x546ff8['y']-_0x139c67['y'],_0x2cb7c5=_0x5e477c['y']-_0x139c67['y'],_0x4cf9d3[_0x536f('0x1b')]((_0x2cb7c5*_0x19bba8-_0x103290*_0x3ef310)*(_0x182843=0x1/(_0x455490*_0x2cb7c5-_0xc44f97*_0x103290)),(_0x2cb7c5*_0x87a48-_0x103290*_0x4ca8e2)*_0x182843,(_0x2cb7c5*_0x41d4eb-_0x103290*_0x25a318)*_0x182843),_0x4ccd4c[_0x536f('0x1b')]((_0x455490*_0x3ef310-_0xc44f97*_0x19bba8)*_0x182843,(_0x455490*_0x4ca8e2-_0xc44f97*_0x87a48)*_0x182843,(_0x455490*_0x25a318-_0xc44f97*_0x41d4eb)*_0x182843),_0x5d8350[_0x1ec0df][_0x536f('0x1c3')](_0x4cf9d3),_0x5d8350[_0x173c85][_0x536f('0x1c3')](_0x4cf9d3),_0x5d8350[_0x38330b]['add'](_0x4cf9d3),_0x6357b3[_0x1ec0df]['add'](_0x4ccd4c),_0x6357b3[_0x173c85]['add'](_0x4ccd4c),_0x6357b3[_0x38330b][_0x536f('0x1c3')](_0x4ccd4c);for(var _0x490dc4,_0x324949=new THREE[(_0x536f('0x59'))](),_0x5ae048=new THREE[(_0x536f('0x59'))](),_0x11ad14=new THREE[(_0x536f('0x59'))](),_0x4396a0=new THREE[(_0x536f('0x59'))](),_0x4f1b6f=0x0,_0x50d644=_0x1a0438[_0x536f('0xd')];_0x4f1b6f<_0x50d644;++_0x4f1b6f)for(var _0xfef0dd,_0x5349c3,_0x2ded97=_0x5349c3=(_0xfef0dd=_0x1a0438[_0x4f1b6f])[_0x536f('0x329')],_0x1472b7=_0x5349c3+_0xfef0dd[_0x536f('0xf9')];_0x2ded97<_0x1472b7;_0x2ded97+=0x3)_0x498ef2(_0x5a0dde[_0x2ded97+0x0]),_0x498ef2(_0x5a0dde[_0x2ded97+0x1]),_0x498ef2(_0x5a0dde[_0x2ded97+0x2]);}function _0x498ef2(_0x317199){_0x11ad14[_0x536f('0x3c9')](_0x36196c,0x3*_0x317199),_0x4396a0['copy'](_0x11ad14),_0x490dc4=_0x5d8350[_0x317199],_0x324949['copy'](_0x490dc4),_0x324949[_0x536f('0x699')](_0x11ad14[_0x536f('0x1c2')](_0x11ad14[_0x536f('0x7a6')](_0x490dc4)))['normalize'](),_0x5ae048[_0x536f('0xacc')](_0x4396a0,_0x490dc4),_0x490dc4=_0x5ae048[_0x536f('0x7a6')](_0x6357b3[_0x317199]),_0x490dc4=_0x490dc4<0x0?-0x1:0x1,_0x190cde[0x4*_0x317199]=_0x324949['x'],_0x190cde[0x4*_0x317199+0x1]=_0x324949['y'],_0x190cde[0x4*_0x317199+0x2]=_0x324949['z'],_0x190cde[0x4*_0x317199+0x3]=_0x490dc4;}},'splitBufferGeometryByLimit':function(_0x317199,_0x4de425,_0x5a0dde){_0x5a0dde=(null===_0x5a0dde?0x1/0x0:_0x5a0dde)||0xc350;for(var _0x1948d4=0x0,_0x2e7047=0x0,_0x59eedd=[[]],_0x3da7f6=0x0;_0x3da7f6<_0x317199[_0x536f('0xd')];_0x3da7f6++){var _0x3ea9d4=_0x317199[_0x3da7f6];_0x3ea9d4[_0x536f('0x169')]['position']&&((_0x1948d4+=_0x3ea9d4[_0x536f('0x169')][_0x536f('0x3b')]['count'])<_0x5a0dde?(_0x59eedd[_0x2e7047]instanceof Array||(_0x59eedd[_0x2e7047]=[]),_0x59eedd[_0x2e7047][_0x536f('0x82')](_0x3ea9d4)):(_0x1948d4=0x0,_0x59eedd[_0x2e7047]instanceof Array||(_0x59eedd[_0x2e7047]=[]),_0x59eedd[_0x2e7047][_0x536f('0x82')](_0x3ea9d4),_0x2e7047++));}for(var _0x1ebdbd=[],_0x47f69d=0x0;_0x47f69d<_0x59eedd[_0x536f('0xd')];_0x47f69d++){var _0x130605=this['mergeBufferGeometries'](_0x59eedd[_0x47f69d],_0x4de425);_0x1ebdbd[_0x536f('0x82')](_0x130605);}return _0x1ebdbd;},'mergeBufferGeometries':function(_0x317199,_0x4de425){for(var _0x5a0dde=null!==_0x317199[0x0][_0x536f('0x336')],_0x1948d4=new _0x2cb7c5[(_0x536f('0x6'))]((0x0,_0xfef0dd['default'])(_0x317199[0x0][_0x536f('0x169')])),_0x226ea2=new _0x2cb7c5[(_0x536f('0x6'))]((0x0,_0xfef0dd[_0x536f('0x6')])(_0x317199[0x0][_0x536f('0x7cf')])),_0x3b3d00={},_0x4e313a={},_0x3ac9dd=new THREE[(_0x536f('0x1e7'))](),_0x1ba2f9=0x0,_0x1f5037=0x0;_0x1f5037<_0x317199[_0x536f('0xd')];++_0x1f5037){var _0x2d05a9,_0x220d71,_0x4a3dec=_0x317199[_0x1f5037];if(_0x5a0dde!=(null!==_0x4a3dec[_0x536f('0x336')]))return null;for(_0x2d05a9 in _0x4a3dec[_0x536f('0x169')]){if(!_0x1948d4[_0x536f('0xacd')](_0x2d05a9))return null;void 0x0===_0x3b3d00[_0x2d05a9]&&(_0x3b3d00[_0x2d05a9]=[]),_0x3b3d00[_0x2d05a9][_0x536f('0x82')](_0x4a3dec[_0x536f('0x169')][_0x2d05a9]);}for(_0x2d05a9 in _0x4a3dec[_0x536f('0x7cf')]){if(!_0x226ea2['has'](_0x2d05a9))return null;void 0x0===_0x4e313a[_0x2d05a9]&&(_0x4e313a[_0x2d05a9]=[]),_0x4e313a[_0x2d05a9]['push'](_0x4a3dec[_0x536f('0x7cf')][_0x2d05a9]);}if(_0x3ac9dd[_0x536f('0x576')]['mergedUserData']=_0x3ac9dd[_0x536f('0x576')]['mergedUserData']||[],_0x3ac9dd[_0x536f('0x576')]['mergedUserData'][_0x536f('0x82')](_0x4a3dec['userData']),_0x4de425){if(_0x5a0dde)_0x220d71=_0x4a3dec[_0x536f('0x336')][_0x536f('0xf9')];else{if(void 0x0===_0x4a3dec[_0x536f('0x169')]['position'])return null;_0x220d71=_0x4a3dec['attributes'][_0x536f('0x3b')][_0x536f('0xf9')];}_0x3ac9dd[_0x536f('0xabe')](_0x1ba2f9,_0x220d71,_0x1f5037),_0x1ba2f9+=_0x220d71;}}if(_0x5a0dde){for(var _0x323dc5=0x0,_0x184118=[],_0x1f5037=0x0;_0x1f5037<_0x317199[_0x536f('0xd')];++_0x1f5037){for(var _0x19ef4f=_0x317199[_0x1f5037][_0x536f('0x336')],_0x38bd10=0x0;_0x38bd10<_0x19ef4f[_0x536f('0xf9')];++_0x38bd10)_0x184118[_0x536f('0x82')](_0x19ef4f['getX'](_0x38bd10)+_0x323dc5);_0x323dc5+=_0x317199[_0x1f5037][_0x536f('0x169')][_0x536f('0x3b')][_0x536f('0xf9')];}_0x3ac9dd[_0x536f('0x7ce')](_0x184118);}for(_0x2d05a9 in _0x3b3d00){var _0x4a9074=this[_0x536f('0xace')](_0x3b3d00[_0x2d05a9]);if(!_0x4a9074)return null;_0x3ac9dd[_0x536f('0x1f5')](_0x2d05a9,_0x4a9074);}for(_0x2d05a9 in _0x4e313a){var _0x731baf=_0x4e313a[_0x2d05a9][0x0][_0x536f('0xd')];if(0x0===_0x731baf)break;for(_0x3ac9dd[_0x536f('0x7cf')]=_0x3ac9dd[_0x536f('0x7cf')]||{},_0x3ac9dd[_0x536f('0x7cf')][_0x2d05a9]=[],_0x1f5037=0x0;_0x1f5037<_0x731baf;++_0x1f5037){for(var _0x2ec856=[],_0x38bd10=0x0;_0x38bd10<_0x4e313a[_0x2d05a9][_0x536f('0xd')];++_0x38bd10)_0x2ec856['push'](_0x4e313a[_0x2d05a9][_0x38bd10][_0x1f5037]);var _0x9ada65=this[_0x536f('0xace')](_0x2ec856);if(!_0x9ada65)return null;_0x3ac9dd[_0x536f('0x7cf')][_0x2d05a9][_0x536f('0x82')](_0x9ada65);}}return _0x3ac9dd;},'mergeBufferAttributes':function(_0x317199){for(var _0x4de425,_0x5a0dde,_0x1948d4,_0x4b6cd7=0x0,_0x29941f=0x0;_0x29941f<_0x317199[_0x536f('0xd')];++_0x29941f){var _0x31d3ed=_0x317199[_0x29941f];if(_0x31d3ed[_0x536f('0xacf')])return null;if((_0x4de425=void 0x0===_0x4de425?_0x31d3ed[_0x536f('0xd8')][_0x536f('0x7d')]:_0x4de425)!==_0x31d3ed['array'][_0x536f('0x7d')])return null;if((_0x5a0dde=void 0x0===_0x5a0dde?_0x31d3ed[_0x536f('0x101')]:_0x5a0dde)!==_0x31d3ed['itemSize'])return null;if((_0x1948d4=void 0x0===_0x1948d4?_0x31d3ed[_0x536f('0xad0')]:_0x1948d4)!==_0x31d3ed[_0x536f('0xad0')])return null;_0x4b6cd7+=_0x31d3ed['array']['length'];}for(var _0x15324b=new _0x4de425(_0x4b6cd7),_0x4eddea=0x0,_0x29941f=0x0;_0x29941f<_0x317199[_0x536f('0xd')];++_0x29941f)_0x15324b[_0x536f('0x1b')](_0x317199[_0x29941f][_0x536f('0xd8')],_0x4eddea),_0x4eddea+=_0x317199[_0x29941f]['array'][_0x536f('0xd')];return new THREE['BufferAttribute'](_0x15324b,_0x5a0dde,_0x1948d4);},'interleaveAttributes':function(_0x317199){for(var _0x4de425,_0x5a0dde=0x0,_0x1948d4=0x0,_0x19a190=0x0,_0x2361cf=_0x317199[_0x536f('0xd')];_0x19a190<_0x2361cf;++_0x19a190){var _0x3c4ebf=_0x317199[_0x19a190];if((_0x4de425=void 0x0===_0x4de425?_0x3c4ebf[_0x536f('0xd8')][_0x536f('0x7d')]:_0x4de425)!==_0x3c4ebf[_0x536f('0xd8')][_0x536f('0x7d')])return null;_0x5a0dde+=_0x3c4ebf[_0x536f('0xd8')][_0x536f('0xd')],_0x1948d4+=_0x3c4ebf[_0x536f('0x101')];}for(var _0x3654fc=new THREE[(_0x536f('0x66c'))](new _0x4de425(_0x5a0dde),_0x1948d4),_0x2de1f2=0x0,_0x4c0932=[],_0x418324=[_0x536f('0xad1'),_0x536f('0x85c'),_0x536f('0x85d'),_0x536f('0xad2')],_0x43fcd5=[_0x536f('0xad3'),'setY',_0x536f('0xad4'),_0x536f('0xad5')],_0x3409e5=0x0,_0x2361cf=_0x317199[_0x536f('0xd')];_0x3409e5<_0x2361cf;_0x3409e5++){var _0x1110ef=(_0x3c4ebf=_0x317199[_0x3409e5])[_0x536f('0x101')],_0x317834=_0x3c4ebf['count'],_0x5eb67d=new THREE[(_0x536f('0x476'))](_0x3654fc,_0x1110ef,_0x2de1f2,_0x3c4ebf[_0x536f('0xad0')]);_0x4c0932[_0x536f('0x82')](_0x5eb67d),_0x2de1f2+=_0x1110ef;for(var _0x3084fe=0x0;_0x3084fe<_0x317834;_0x3084fe++)for(var _0x4aeadc=0x0;_0x4aeadc<_0x1110ef;_0x4aeadc++)_0x5eb67d[_0x43fcd5[_0x4aeadc]](_0x3084fe,_0x3c4ebf[_0x418324[_0x4aeadc]](_0x3084fe));}return _0x4c0932;},'estimateBytesUsed':function(_0x317199){var _0x4de425,_0x5a0dde=0x0;for(_0x4de425 in _0x317199[_0x536f('0x169')]){var _0x1948d4=_0x317199[_0x536f('0x776')](_0x4de425);_0x5a0dde+=_0x1948d4['count']*_0x1948d4[_0x536f('0x101')]*_0x1948d4[_0x536f('0xd8')][_0x536f('0xad6')];}var _0x487fb4=_0x317199['getIndex']();return _0x5a0dde+(_0x487fb4?_0x487fb4[_0x536f('0xf9')]*_0x487fb4[_0x536f('0x101')]*_0x487fb4[_0x536f('0xd8')]['BYTES_PER_ELEMENT']:0x0);},'mergeVertices':function(_0x317199){for(var _0x4de425=0x1<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x1]?arguments[0x1]:0.0001,_0x4de425=Math[_0x536f('0x1af')](_0x4de425,_0x11ad14['default']),_0x5a0dde={},_0x1948d4=_0x317199[_0x536f('0xad7')](),_0x260964=_0x317199[_0x536f('0x776')](_0x536f('0x3b')),_0x9aa55=(_0x1948d4||_0x260964)['count'],_0x35b807=0x0,_0x247593=(0x0,_0xfef0dd[_0x536f('0x6')])(_0x317199[_0x536f('0x169')]),_0x23d381={},_0x102fe1={},_0x2743f1=[],_0x90a201=[_0x536f('0xad1'),_0x536f('0x85c'),'getZ','getW'],_0x3da5a2=0x0,_0x1efde0=_0x247593[_0x536f('0xd')];_0x3da5a2<_0x1efde0;_0x3da5a2++)_0x23d381[_0x583fce=_0x247593[_0x3da5a2]]=[],(_0x276c98=_0x317199['morphAttributes'][_0x583fce])&&(_0x102fe1[_0x583fce]=new Array(_0x276c98[_0x536f('0xd')])['fill']()[_0x536f('0xcf')](function(){return[];}));for(var _0x260964=(0x0,_0x324949[_0x536f('0x6')])(0x1/_0x4de425),_0x26df1c=Math[_0x536f('0x350')](0xa,_0x260964),_0x3da5a2=0x0;_0x3da5a2<_0x9aa55;_0x3da5a2++){for(var _0x3ec914=_0x1948d4?_0x1948d4['getX'](_0x3da5a2):_0x3da5a2,_0x4571b6='',_0x403940=0x0,_0x1efde0=_0x247593[_0x536f('0xd')];_0x403940<_0x1efde0;_0x403940++)for(var _0x583fce=_0x247593[_0x403940],_0x4b41fc=(_0x2cb7c5=_0x317199[_0x536f('0x776')](_0x583fce))['itemSize'],_0x22d67b=0x0;_0x22d67b<_0x4b41fc;_0x22d67b++)_0x4571b6+=~~(_0x2cb7c5[_0x90a201[_0x22d67b]](_0x3ec914)*_0x26df1c)+',';if(_0x4571b6 in _0x5a0dde)_0x2743f1[_0x536f('0x82')](_0x5a0dde[_0x4571b6]);else{for(_0x403940=0x0,_0x1efde0=_0x247593[_0x536f('0xd')];_0x403940<_0x1efde0;_0x403940++)for(var _0x583fce=_0x247593[_0x403940],_0x2cb7c5=_0x317199[_0x536f('0x776')](_0x583fce),_0x276c98=_0x317199[_0x536f('0x7cf')][_0x583fce],_0x4b41fc=_0x2cb7c5[_0x536f('0x101')],_0xfb9cb7=_0x23d381[_0x583fce],_0xfee1c4=_0x102fe1[_0x583fce],_0x22d67b=0x0;_0x22d67b<_0x4b41fc;_0x22d67b++){var _0x5caf47=_0x90a201[_0x22d67b];if(_0xfb9cb7[_0x536f('0x82')](_0x2cb7c5[_0x5caf47](_0x3ec914)),_0x276c98)for(var _0x52a9ff=0x0,_0x5b0d8f=_0x276c98[_0x536f('0xd')];_0x52a9ff<_0x5b0d8f;_0x52a9ff++)_0xfee1c4[_0x52a9ff]['push'](_0x276c98[_0x52a9ff][_0x5caf47](_0x3ec914));}_0x5a0dde[_0x4571b6]=_0x35b807,_0x2743f1[_0x536f('0x82')](_0x35b807),_0x35b807++;}}for(var _0x8a544c=_0x317199[_0x536f('0x1b1')](),_0x3da5a2=0x0,_0x1efde0=_0x247593[_0x536f('0xd')];_0x3da5a2<_0x1efde0;_0x3da5a2++){var _0x583fce=_0x247593[_0x3da5a2],_0x4852b=_0x317199[_0x536f('0x776')](_0x583fce),_0x2a50ac=new _0x4852b[(_0x536f('0xd8'))][(_0x536f('0x7d'))](_0x23d381[_0x583fce]);if(_0x4852b[_0x536f('0xacf')]?_0x2cb7c5=new THREE[(_0x536f('0x102'))](_0x2a50ac,_0x4852b['itemSize'],_0x4852b[_0x536f('0x101')]):(_0x2cb7c5=_0x317199[_0x536f('0x776')](_0x583fce)[_0x536f('0x1b1')]())[_0x536f('0xad8')](_0x2a50ac),_0x8a544c['addAttribute'](_0x583fce,_0x2cb7c5),_0x583fce in _0x102fe1)for(_0x403940=0x0;_0x403940<_0x102fe1[_0x583fce]['length'];_0x403940++){var _0x3f4d97=_0x317199['morphAttributes'][_0x583fce][_0x403940]['clone']();_0x3f4d97[_0x536f('0xad8')](new _0x3f4d97[(_0x536f('0xd8'))][(_0x536f('0x7d'))](_0x102fe1[_0x583fce][_0x403940])),_0x8a544c['morphAttributes'][_0x583fce][_0x403940]=_0x3f4d97;}}_0x4de425=Uint8Array,_0x2743f1[_0x536f('0xd')]>=Math['pow'](0x2,0x8)&&(_0x4de425=Uint16Array),_0x260964=new(_0x4de425=_0x2743f1[(_0x536f('0xd'))]>=(Math['pow'](0x2,0x10))?Uint32Array:_0x4de425)(_0x2743f1),_0x2743f1=null;return null===_0x1948d4?_0x2743f1=new THREE['BufferAttribute'](_0x260964,0x1):(_0x2743f1=_0x317199[_0x536f('0xad7')]()['clone']())['setArray'](_0x260964),_0x8a544c[_0x536f('0x7ce')](_0x2743f1),_0x8a544c;}};},function(_0x4d5ef3,_0x33ad22,_0x1f1434){_0x4d5ef3[_0x536f('0x0')]={'default':_0x1f1434(0x112),'__esModule':!0x0};},function(_0x28498b,_0x3ab550,_0xa1d609){_0xa1d609(0x113),_0x28498b['exports']=Math[_0x536f('0x350')](0x2,-0x34);},function(_0x2ea8f9,_0x3aa0a0,_0x4d2259){_0x4d2259=_0x4d2259(0x3);_0x4d2259(_0x4d2259['S'],_0x536f('0xad9'),{'EPSILON':Math['pow'](0x2,-0x34)});},function(_0x2e396e,_0x375863,_0x37dddb){'use strict';Object['defineProperty'](_0x375863,'__esModule',{'value':!0x0});var _0x424295=_0x1464ad(_0x37dddb(0x4)),_0x40744c=_0x1464ad(_0x37dddb(0x0)),_0x607e38=_0x1464ad(_0x37dddb(0x1)),_0x2f8368=_0x37dddb(0x11),_0x48d7f1=function(_0x2e396e){if(_0x2e396e&&_0x2e396e[_0x536f('0x4')])return _0x2e396e;var _0x375863={};if(null!=_0x2e396e)for(var _0x37dddb in _0x2e396e)Object['prototype'][_0x536f('0x9')]['call'](_0x2e396e,_0x37dddb)&&(_0x375863[_0x37dddb]=_0x2e396e[_0x37dddb]);return _0x375863[_0x536f('0x6')]=_0x2e396e,_0x375863;}(_0x37dddb(0x32)),_0x52e5ae=_0x1464ad(_0x37dddb(0x40));function _0x1464ad(_0x2e396e){return _0x2e396e&&_0x2e396e[_0x536f('0x4')]?_0x2e396e:{'default':_0x2e396e};}function _0x1473d3(){(0x0,_0x40744c[_0x536f('0x6')])(this,_0x1473d3),this[_0x536f('0xcf')]=(0x0,_0x2f8368[_0x536f('0x2d')])(),this[_0x536f('0x491')]=null,this[_0x536f('0x356')]=null,this[_0x536f('0x48f')]=null,this[_0x536f('0xada')]=[],this[_0x536f('0xadb')]=!0x0,this[_0x536f('0x9d9')]=null,this[_0x536f('0xadc')]=null,this[_0x536f('0xadd')]=!0x1;}(0x0,_0x607e38[_0x536f('0x6')])(_0x1473d3,[{'key':_0x536f('0xade'),'value':function(_0x2e396e){this[_0x536f('0x9d9')][_0x536f('0x51b')]=_0x2e396e;}},{'key':_0x536f('0xa04'),'value':function(_0x375863,_0x37dddb){var _0x40744c=this;if(this[_0x536f('0x9d9')]&&_0x375863['name']){var _0x2e396e=this[_0x536f('0xa88')](_0x375863[_0x536f('0x92')]);if(_0x2e396e)this['isFirstTexCube']?this[_0x536f('0xadf')](this[_0x536f('0x9d9')]['skyBox']['material'][_0x536f('0x168')][_0x536f('0x49d')][_0x536f('0x10')],_0x2e396e,_0x37dddb):this[_0x536f('0xadf')](this[_0x536f('0x9d9')][_0x536f('0x491')]['material']['uniforms'][_0x536f('0x487')][_0x536f('0x10')],_0x2e396e,_0x37dddb),this[_0x536f('0xadb')]=!this[_0x536f('0xadb')];else{for(var _0x607e38=0x0,_0x1464ad=_0x375863[_0x536f('0xa80')][_0x536f('0xd')];_0x607e38<_0x1464ad;_0x607e38++){var _0x1473d3=(0x0,_0x2f8368[_0x536f('0x27')])(_0x375863[_0x536f('0xa80')][_0x607e38]);_0x375863[_0x536f('0x43')]&&(_0x1473d3=_0x1473d3['replace'](this[_0x536f('0xcf')][_0x536f('0x43')],_0x375863['effectId'])),_0x375863[_0x536f('0xa80')][_0x607e38]=_0x1473d3;}_0x52e5ae[_0x536f('0x6')][_0x536f('0x269')](_0x375863[_0x536f('0xa80')])['then'](function(_0x2e396e){_0x2e396e[_0x536f('0x92')]=_0x375863[_0x536f('0x92')],_0x40744c[_0x536f('0xadf')](null,_0x2e396e,_0x37dddb),_0x40744c[_0x536f('0xada')][_0x536f('0x82')](_0x2e396e);});}}}},{'key':_0x536f('0xadf'),'value':function(_0x2e396e,_0x375863){var _0x37dddb,_0x40744c,_0x607e38=this,_0x1464ad=0x2<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x2]?arguments[0x2]:0x2;_0x2e396e?(_0x40744c=_0x37dddb=0x0,this[_0x536f('0xadb')]?(_0x40744c=0x0,this['skyboxTool'][_0x536f('0x491')]['material'][_0x536f('0x168')]['transFactor']['value']=_0x37dddb=0x1,this[_0x536f('0x9d9')][_0x536f('0x491')][_0x536f('0xce')]['uniforms'][_0x536f('0x487')]['value']=_0x375863,this['skyboxTool'][_0x536f('0x491')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x49d')][_0x536f('0x10')]=_0x2e396e):(_0x40744c=0x1,this[_0x536f('0x9d9')]['skyBox'][_0x536f('0xce')]['uniforms']['transFactor'][_0x536f('0x10')]=_0x37dddb=0x0,this[_0x536f('0x9d9')][_0x536f('0x491')]['material'][_0x536f('0x168')][_0x536f('0x487')][_0x536f('0x10')]=_0x2e396e,this[_0x536f('0x9d9')][_0x536f('0x491')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x49d')][_0x536f('0x10')]=_0x375863),new TWEEN['Tween']({'x':_0x37dddb})['to']({'x':_0x40744c},0x3e8*_0x1464ad)[_0x536f('0x324')](TWEEN[_0x536f('0x325')][_0x536f('0x441')][_0x536f('0x442')])[_0x536f('0x32a')](function(_0x2e396e){_0x607e38[_0x536f('0x9d9')][_0x536f('0x491')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x49e')][_0x536f('0x10')]=_0x2e396e['x'];})[_0x536f('0x329')]()):(this[_0x536f('0x9d9')]['skyBox'][_0x536f('0xce')][_0x536f('0x168')]['transFactor'][_0x536f('0x10')]=0x0,this[_0x536f('0x9d9')][_0x536f('0x491')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x49d')][_0x536f('0x10')]=_0x375863,new TWEEN[(_0x536f('0x323'))]({'x':0x0})['to']({'x':0x1},0x3e8*_0x1464ad)[_0x536f('0x324')](TWEEN[_0x536f('0x325')][_0x536f('0x441')][_0x536f('0x442')])[_0x536f('0x32a')](function(_0x2e396e){_0x607e38['skyboxTool'][_0x536f('0x491')][_0x536f('0xce')][_0x536f('0x168')][_0x536f('0x49e')][_0x536f('0x10')]=_0x2e396e['x'];})['start']());}},{'key':_0x536f('0xa88'),'value':function(_0x2e396e){var _0x375863=!0x0,_0x37dddb=!0x1,_0x40744c=void 0x0;try{for(var _0x607e38,_0x1464ad=(0x0,_0x424295[_0x536f('0x6')])(this[_0x536f('0xada')]);!(_0x375863=(_0x607e38=_0x1464ad[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x375863=!0x0){var _0x1473d3=_0x607e38[_0x536f('0x10')];if(_0x1473d3[_0x536f('0x92')]===_0x2e396e)return _0x1473d3;}}catch(_0xa28dd8){_0x37dddb=!0x0,_0x40744c=_0xa28dd8;}finally{try{!_0x375863&&_0x1464ad[_0x536f('0x265')]&&_0x1464ad['return']();}finally{if(_0x37dddb)throw _0x40744c;}}return null;}},{'key':_0x536f('0xae0'),'value':function(_0x375863){var _0x2e396e,_0x37dddb=this;if(_0x375863&&('box'===_0x375863[_0x536f('0x76')]||'background'===_0x375863[_0x536f('0x76')])&&(0x1===_0x375863[_0x536f('0xa80')][_0x536f('0xd')]&&(_0x2e396e=(0x0,_0x2f8368[_0x536f('0x27')])(_0x375863[_0x536f('0xa80')][0x0]),this[_0x536f('0x9d9')]=new _0x48d7f1['Skybox']({'mapView':this[_0x536f('0xcf')][_0x536f('0x48e')]}),this['skyboxTool'][_0x536f('0x76')]=_0x375863[_0x536f('0x76')],_0x375863[_0x536f('0xae1')]?_0x52e5ae[_0x536f('0x6')][_0x536f('0x26b')](_0x2e396e)['then'](function(_0x2e396e){_0x37dddb[_0x536f('0x9d9')][_0x536f('0x48f')]=_0x2e396e,_0x37dddb[_0x536f('0x9d9')][_0x536f('0x4c6')]();}):this[_0x536f('0x9d9')][_0x536f('0x494')](_0x2e396e,_0x375863[_0x536f('0x370')],function(){_0x536f('0xae2')===_0x375863[_0x536f('0x76')]&&_0x37dddb[_0x536f('0x9d9')][_0x536f('0x499')]({'size':_0x375863[_0x536f('0xd7')],'offsetY':_0x375863['offsetY']}),_0x536f('0x4c7')===_0x375863['type']&&_0x37dddb[_0x536f('0x9d9')][_0x536f('0x4c6')]();}),this[_0x536f('0x9d9')][_0x536f('0x37e')]('canUpdate',function(){_0x37dddb['textureCube']=_0x37dddb[_0x536f('0x9d9')][_0x536f('0x48f')];})),0x6===_0x375863['imgPaths'][_0x536f('0xd')])){for(var _0x40744c=0x0,_0x607e38=_0x375863[_0x536f('0xa80')][_0x536f('0xd')];_0x40744c<_0x607e38;_0x40744c++)_0x375863['imgPaths'][_0x40744c]=(0x0,_0x2f8368['getConfigAssetsPath'])(_0x375863['imgPaths'][_0x40744c]);this['skyboxTool']=new _0x48d7f1[(_0x536f('0xbd'))]({'mapView':this[_0x536f('0xcf')][_0x536f('0x48e')]}),this[_0x536f('0x9d9')][_0x536f('0x76')]=_0x375863[_0x536f('0x76')],this[_0x536f('0x9d9')][_0x536f('0x492')](_0x375863['imgPaths'],function(){var _0x2e396e;'box'===_0x375863['type']&&((0x0,_0x2f8368[_0x536f('0x30')])()&&esmap[_0x536f('0xae3')]?((_0x2e396e=!0x1,_0x2f8368['getOS'])()&&(_0x2e396e=!0x0),_0x37dddb[_0x536f('0x9d9')][_0x536f('0x499')]({'size':_0x375863[_0x536f('0xd7')],'offsetY':_0x375863['offsetY'],'isCullGround':_0x2e396e,'intensity':_0x375863[_0x536f('0x49b')]}),_0x37dddb['skyboxTool'][_0x536f('0x491')]['visible']=!0x1):_0x37dddb[_0x536f('0x9d9')][_0x536f('0x499')]({'size':_0x375863[_0x536f('0xd7')],'offsetY':_0x375863[_0x536f('0x388')],'intensity':_0x375863[_0x536f('0x49b')]})),_0x536f('0x4c7')===_0x375863[_0x536f('0x76')]&&_0x37dddb['skyboxTool'][_0x536f('0x4c6')]();}),this[_0x536f('0x9d9')][_0x536f('0x37e')]('canUpdate',function(){_0x37dddb[_0x536f('0x48f')]=_0x37dddb[_0x536f('0x9d9')][_0x536f('0x48f')],_0x37dddb[_0x536f('0x48f')][_0x536f('0x92')]=_0x375863['name']||'',_0x37dddb[_0x536f('0xada')][_0x536f('0x82')](_0x37dddb['textureCube']);});}if(_0x375863&&_0x536f('0xae4')===_0x375863[_0x536f('0x76')]&&(this[_0x536f('0x9d9')]=new _0x48d7f1[(_0x536f('0xbd'))]({'mapView':this[_0x536f('0xcf')][_0x536f('0x48e')]}),_0x2e396e=new THREE[(_0x536f('0x26c'))]()['load']((0x0,_0x2f8368[_0x536f('0x27')])(_0x375863['imgPaths'][0x0])),this[_0x536f('0x9d9')]['createGradientSky']({'radius':_0x375863[_0x536f('0xd7')],'topColorStr':_0x375863[_0x536f('0x4b1')],'bottomColorStr':_0x375863[_0x536f('0x4b9')],'offset':_0x375863[_0x536f('0x388')],'exponent':_0x375863['exponent'],'texture':_0x2e396e})),_0x375863&&_0x536f('0xae5')===_0x375863[_0x536f('0x76')]&&(0x1===_0x375863[_0x536f('0xa80')][_0x536f('0xd')]&&(_0x2e396e=(0x0,_0x2f8368[_0x536f('0x27')])(_0x375863['imgPaths'][0x0]),this['skyboxTool']=new _0x48d7f1[(_0x536f('0xbd'))]({'mapView':this[_0x536f('0xcf')][_0x536f('0x48e')]}),this['skyboxTool'][_0x536f('0x76')]=_0x375863[_0x536f('0x76')],this[_0x536f('0x9d9')][_0x536f('0x494')](_0x2e396e,_0x375863[_0x536f('0x370')],function(){_0x37dddb['skyboxTool'][_0x536f('0x4b8')]({'size':_0x375863[_0x536f('0xd7')],'offsetY':_0x375863['offsetY'],'topColorStr':_0x375863[_0x536f('0x4b1')],'bottomColorStr':_0x375863[_0x536f('0x4b9')]});}),this[_0x536f('0x9d9')][_0x536f('0x37e')](_0x536f('0x493'),function(){_0x37dddb[_0x536f('0x48f')]=_0x37dddb[_0x536f('0x9d9')][_0x536f('0x48f')];})),0x6===_0x375863[_0x536f('0xa80')][_0x536f('0xd')])){for(var _0x1464ad=0x0,_0x1473d3=_0x375863[_0x536f('0xa80')][_0x536f('0xd')];_0x1464ad<_0x1473d3;_0x1464ad++)_0x375863[_0x536f('0xa80')][_0x1464ad]=(0x0,_0x2f8368[_0x536f('0x27')])(_0x375863[_0x536f('0xa80')][_0x1464ad]);this[_0x536f('0x9d9')]=new _0x48d7f1[(_0x536f('0xbd'))]({'mapView':this['map'][_0x536f('0x48e')]}),this[_0x536f('0x9d9')][_0x536f('0x76')]=_0x375863[_0x536f('0x76')],this['skyboxTool']['createSixPicCubeTexture'](_0x375863[_0x536f('0xa80')],function(){_0x37dddb[_0x536f('0x9d9')][_0x536f('0x4b8')]({'size':_0x375863[_0x536f('0xd7')],'offsetY':_0x375863[_0x536f('0x388')],'topColorStr':_0x375863[_0x536f('0x4b1')],'bottomColorStr':_0x375863['bottomColor']});}),this[_0x536f('0x9d9')][_0x536f('0x37e')](_0x536f('0x493'),function(){_0x37dddb[_0x536f('0x48f')]=_0x37dddb[_0x536f('0x9d9')][_0x536f('0x48f')];});}if(_0x375863&&_0x536f('0xae6')===_0x375863['type']&&(0x1===_0x375863['imgPaths'][_0x536f('0xd')]&&(_0x2e396e=(0x0,_0x2f8368['getConfigAssetsPath'])(_0x375863['imgPaths'][0x0]),this[_0x536f('0x9d9')]=new _0x48d7f1[(_0x536f('0xbd'))]({'mapView':this['map'][_0x536f('0x48e')]}),this[_0x536f('0x9d9')][_0x536f('0x76')]=_0x375863[_0x536f('0x76')],this['skyboxTool'][_0x536f('0x494')](_0x2e396e,_0x375863[_0x536f('0x370')],function(){_0x37dddb[_0x536f('0x9d9')][_0x536f('0x4c1')]({'size':_0x375863[_0x536f('0xd7')]});}),this[_0x536f('0x9d9')]['addEventListener']('canUpdate',function(){_0x37dddb[_0x536f('0x48f')]=_0x37dddb['skyboxTool']['textureCube'];})),0x6===_0x375863[_0x536f('0xa80')][_0x536f('0xd')])){for(var _0x424295=0x0,_0x3cd74e=_0x375863[_0x536f('0xa80')][_0x536f('0xd')];_0x424295<_0x3cd74e;_0x424295++)_0x375863[_0x536f('0xa80')][_0x424295]=(0x0,_0x2f8368[_0x536f('0x27')])(_0x375863[_0x536f('0xa80')][_0x424295]);this[_0x536f('0x9d9')]=new _0x48d7f1['Skybox']({'mapView':this[_0x536f('0xcf')][_0x536f('0x48e')]}),this['skyboxTool'][_0x536f('0x76')]=_0x375863[_0x536f('0x76')],this[_0x536f('0x9d9')][_0x536f('0x492')](_0x375863[_0x536f('0xa80')],function(){_0x37dddb[_0x536f('0x9d9')][_0x536f('0x4c1')]({'size':_0x375863[_0x536f('0xd7')]});}),this['skyboxTool']['addEventListener']('canUpdate',function(){_0x37dddb['textureCube']=_0x37dddb[_0x536f('0x9d9')][_0x536f('0x48f')];});}_0x375863&&_0x536f('0xae7')===_0x375863['type']&&(this[_0x536f('0xadc')]=new _0x48d7f1[(_0x536f('0xbb'))]({'camera':this[_0x536f('0xcf')]['mapView'][_0x536f('0x342')]}),(_0x2e396e=!0x1,_0x2f8368['checkIsCityEngine'])()&&(0x0,_0x2f8368[_0x536f('0x24')])()&&(_0x2e396e=!0x0),this[_0x536f('0x356')]=this['shaderSky'][_0x536f('0x5')]({'isCullGround':_0x2e396e}),this[_0x536f('0x356')]['visible']=!esmap[_0x536f('0x932')]['inited'],'day'===_0x375863[_0x536f('0xa60')]&&this['shaderSky'][_0x536f('0x4cc')](this[_0x536f('0xadc')]['skyConfigs']),_0x536f('0xae8')===_0x375863['effectType']&&this[_0x536f('0xadc')][_0x536f('0x4cc')](this[_0x536f('0xadc')]['nightSkyConfigs']),_0x375863['bindLight']&&_0x375863[_0x536f('0xae9')][_0x536f('0x92')]&&this[_0x536f('0xcf')][_0x536f('0x48e')][_0x375863[_0x536f('0xae9')][_0x536f('0x92')]]&&(_0x375863[_0x536f('0xae9')][_0x536f('0xaea')]&&(this[_0x536f('0xadc')]['theta']=_0x375863[_0x536f('0xae9')]['azimuthAngle']),_0x375863[_0x536f('0xae9')]['verticalAngle']&&(this[_0x536f('0xadc')][_0x536f('0x4c9')]=_0x375863[_0x536f('0xae9')][_0x536f('0xaeb')]),this[_0x536f('0xadc')][_0x536f('0x2f3')]()),this['map'][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](this[_0x536f('0x356')]),(0x0,_0x2f8368[_0x536f('0x30')])()&&this['bindTileMapLevelChange']()),_0x375863&&_0x536f('0xaec')===_0x375863[_0x536f('0x76')]&&0x1===_0x375863[_0x536f('0xa80')][_0x536f('0xd')]&&(_0x2e396e=(0x0,_0x2f8368[_0x536f('0x27')])(_0x375863['imgPaths'][0x0]),this['skyboxTool']=new _0x48d7f1[(_0x536f('0xbd'))]({'mapView':this[_0x536f('0xcf')][_0x536f('0x48e')]}),this[_0x536f('0x9d9')]['type']=_0x375863[_0x536f('0x76')],this[_0x536f('0x9d9')]['createCylinderWallSky']({'texturePath':_0x2e396e,'wallHeight':_0x375863[_0x536f('0xd7')],'offsetY':_0x375863[_0x536f('0x388')],'rotateAngle':_0x375863[_0x536f('0x1ed')]}));}},{'key':_0x536f('0xaed'),'value':function(){var _0x375863=this,_0x37dddb=(0x0,_0x2f8368[_0x536f('0x24')])();this[_0x536f('0xcf')]['on'](_0x536f('0xaee'),function(_0x2e396e){_0x2e396e<(_0x37dddb?0x10:0xd)?_0x375863['object3d']&&(_0x375863[_0x536f('0x356')][_0x536f('0x36c')]=!0x1):_0x375863[_0x536f('0x356')]&&(_0x375863[_0x536f('0x356')][_0x536f('0x36c')]=!0x0);});}},{'key':'dispose','value':function(){this[_0x536f('0x48f')]=null,this[_0x536f('0x9d9')]&&this[_0x536f('0x9d9')][_0x536f('0xcd')](),this[_0x536f('0xadc')]&&this['shaderSky'][_0x536f('0xcd')]();}}]),_0x375863[_0x536f('0x6')]=_0x1473d3;},function(_0x59f4f2,_0x194011,_0x3a315f){'use strict';Object['defineProperty'](_0x194011,_0x536f('0x4'),{'value':!0x0});var _0x4813cc=_0x1bbc5b(_0x3a315f(0x4)),_0x7ebcf8=_0x1bbc5b(_0x3a315f(0x0)),_0x540ed7=_0x1bbc5b(_0x3a315f(0x1)),_0x3c37af=_0x3a315f(0x11),_0x32d78a=function(_0x59f4f2){if(_0x59f4f2&&_0x59f4f2[_0x536f('0x4')])return _0x59f4f2;var _0x194011={};if(null!=_0x59f4f2)for(var _0x3a315f in _0x59f4f2)Object[_0x536f('0x8')][_0x536f('0x9')][_0x536f('0xa')](_0x59f4f2,_0x3a315f)&&(_0x194011[_0x3a315f]=_0x59f4f2[_0x3a315f]);return _0x194011[_0x536f('0x6')]=_0x59f4f2,_0x194011;}(_0x3a315f(0x32)),_0x1346b4=_0x3a315f(0x79);function _0x1bbc5b(_0x59f4f2){return _0x59f4f2&&_0x59f4f2[_0x536f('0x4')]?_0x59f4f2:{'default':_0x59f4f2};}function _0x4c4b44(_0x59f4f2){(0x0,_0x7ebcf8[_0x536f('0x6')])(this,_0x4c4b44),this['map']=(0x0,_0x3c37af[_0x536f('0x2d')])(),this[_0x536f('0xaef')]=[],this['skybox']=_0x59f4f2,this[_0x536f('0xaf0')]=null,this[_0x536f('0xaf1')]=null,this['tilePlaneWaters']=[],this['isSetTilePlaneWater']=!0x1;}(0x0,_0x540ed7[_0x536f('0x6')])(_0x4c4b44,[{'key':_0x536f('0xaf2'),'value':function(_0x59f4f2){var _0x194011;_0x59f4f2[_0x536f('0x76')]&&_0x536f('0x9b0')===_0x59f4f2[_0x536f('0x76')]?((_0x194011=this[_0x536f('0x787')](_0x59f4f2))['name']=_0x59f4f2['name'],this[_0x536f('0xaef')][_0x536f('0x82')](_0x194011)):this[_0x536f('0xaf3')](_0x59f4f2);}},{'key':'addTilePlaneWater','value':function(_0x59f4f2){if(!this[_0x536f('0xaf4')]&&_0x59f4f2[_0x536f('0x772')]&&_0x59f4f2[_0x536f('0xaf5')]){var _0x194011=!0x0,_0x3a315f=!0x1,_0x7ebcf8=void 0x0;try{for(var _0x540ed7,_0x32d78a=(0x0,_0x4813cc['default'])(_0x59f4f2[_0x536f('0xaf5')]);!(_0x194011=(_0x540ed7=_0x32d78a[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x194011=!0x0){var _0x1bbc5b=_0x540ed7['value'];if(_0x536f('0x772')===_0x1bbc5b['styleType']){var _0x4c4b44=!0x0,_0xa46ca3=!0x1,_0x33c117=void 0x0;try{for(var _0x2da881,_0x5393a4=(0x0,_0x4813cc['default'])(_0x59f4f2[_0x536f('0x772')]);!(_0x4c4b44=(_0x2da881=_0x5393a4[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x4c4b44=!0x0){var _0x36baae=_0x2da881[_0x536f('0x10')];if(_0x36baae[_0x536f('0x92')]===_0x1bbc5b[_0x536f('0xaf6')]){var _0x2d274d=this[_0x536f('0x787')](_0x36baae),_0x5bf20f=(this[_0x536f('0xaef')]['push'](_0x2d274d),_0x2d274d[_0x536f('0x33a')]());(0x0,_0x1346b4['setStandardMaterialParams'])(_0x5bf20f,_0x36baae),_0x5bf20f[_0x536f('0x3ad')]=THREE[_0x536f('0x4a9')],this[_0x536f('0xcf')][_0x536f('0x3c')]['tileMaterial']['water'][0x0]=_0x5bf20f,this['isSetTilePlaneWater']=!0x0;break;}}}catch(_0x3198c9){_0xa46ca3=!0x0,_0x33c117=_0x3198c9;}finally{try{!_0x4c4b44&&_0x5393a4['return']&&_0x5393a4[_0x536f('0x265')]();}finally{if(_0xa46ca3)throw _0x33c117;}}}}}catch(_0x3b9c0b){_0x3a315f=!0x0,_0x7ebcf8=_0x3b9c0b;}finally{try{!_0x194011&&_0x32d78a[_0x536f('0x265')]&&_0x32d78a[_0x536f('0x265')]();}finally{if(_0x3a315f)throw _0x7ebcf8;}}}}},{'key':_0x536f('0x787'),'value':function(_0x59f4f2){var _0x194011=void 0x0,_0x3a315f=_0x59f4f2[_0x536f('0xaf7')]?new THREE[(_0x536f('0x26c'))]()['load']((0x0,_0x3c37af[_0x536f('0x27')])(_0x59f4f2['groundImg'])):new THREE[(_0x536f('0x1cb'))]();return _0x59f4f2[_0x536f('0x5fb')]&&(_0x194011=new THREE[(_0x536f('0x26c'))]()['load']((0x0,_0x3c37af['getConfigAssetsPath'])(_0x59f4f2['skyImg']))),new _0x32d78a[(_0x536f('0xa2'))]({'colorStr':_0x59f4f2[_0x536f('0x21f')],'lightColorStr':_0x59f4f2[_0x536f('0x771')],'scale':_0x59f4f2[_0x536f('0x1dc')],'speed':_0x59f4f2[_0x536f('0x36b')],'fluctuate':_0x59f4f2[_0x536f('0xaf8')],'texture':_0x3a315f,'skyTexture':_0x194011,'texUvScale':_0x59f4f2[_0x536f('0xaf9')],'flowAngle':_0x59f4f2[_0x536f('0x770')],'opacity':_0x59f4f2[_0x536f('0x201')]});}},{'key':_0x536f('0xafa'),'value':function(_0x59f4f2){var _0x194011=!0x0,_0x3a315f=!0x1,_0x7ebcf8=void 0x0;try{for(var _0x540ed7,_0x32d78a=(0x0,_0x4813cc[_0x536f('0x6')])(this['waterList']);!(_0x194011=(_0x540ed7=_0x32d78a[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x194011=!0x0){var _0x1bbc5b=_0x540ed7[_0x536f('0x10')];if(_0x1bbc5b[_0x536f('0x92')]===_0x59f4f2)return _0x1bbc5b;}}catch(_0x152868){_0x3a315f=!0x0,_0x7ebcf8=_0x152868;}finally{try{!_0x194011&&_0x32d78a['return']&&_0x32d78a['return']();}finally{if(_0x3a315f)throw _0x7ebcf8;}}return!0x1;}},{'key':_0x536f('0xaf3'),'value':function(_0x59f4f2){var _0x194011=(0x0,_0x3c37af['getBuiding'])(0x0)['getFloor'](_0x59f4f2[_0x536f('0x95f')]||0x1)[_0x536f('0x9bb')]([esmap['ESLayerType'][_0x536f('0xa35')],esmap['ESLayerType']['MODEL_BASE']]),_0x3a315f=this[_0x536f('0x787')](_0x59f4f2),_0x7ebcf8=(_0x3a315f['createMaterial'](),!0x0),_0x540ed7=!0x1,_0x32d78a=void 0x0;try{for(var _0x1bbc5b,_0x4c4b44=(0x0,_0x4813cc[_0x536f('0x6')])(_0x194011);!(_0x7ebcf8=(_0x1bbc5b=_0x4c4b44[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x7ebcf8=!0x0){var _0x1d407e=_0x1bbc5b[_0x536f('0x10')],_0x5c4380=!0x0,_0x30dd6c=!0x1,_0x1598c7=void 0x0;try{for(var _0x466240,_0x387473=(0x0,_0x4813cc[_0x536f('0x6')])(_0x1d407e[_0x536f('0x525')]['children']);!(_0x5c4380=(_0x466240=_0x387473[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5c4380=!0x0){var _0x37e7ac=_0x466240[_0x536f('0x10')],_0x3ed246=(0x0,_0x3c37af[_0x536f('0x2a')])(_0x37e7ac,_0x59f4f2[_0x536f('0x3e')]);if(_0x3ed246){_0x37e7ac[_0x536f('0xce')][_0x3ed246[_0x536f('0x576')][_0x536f('0x336')]]=_0x3a315f[_0x536f('0x77a')](),(0x0,_0x1346b4['setStandardMaterialParams'])(_0x37e7ac['material'][_0x3ed246[_0x536f('0x576')][_0x536f('0x336')]],_0x59f4f2),_0x3a315f[_0x536f('0x3e')]=_0x59f4f2[_0x536f('0x3e')],_0x3a315f[_0x536f('0xafb')]=_0x59f4f2,this[_0x536f('0xaef')][_0x536f('0x82')](_0x3a315f);break;}}}catch(_0x30fa31){_0x30dd6c=!0x0,_0x1598c7=_0x30fa31;}finally{try{!_0x5c4380&&_0x387473['return']&&_0x387473[_0x536f('0x265')]();}finally{if(_0x30dd6c)throw _0x1598c7;}}}}catch(_0x23f4f1){_0x540ed7=!0x0,_0x32d78a=_0x23f4f1;}finally{try{!_0x7ebcf8&&_0x4c4b44['return']&&_0x4c4b44[_0x536f('0x265')]();}finally{if(_0x540ed7)throw _0x32d78a;}}}},{'key':_0x536f('0x33d'),'value':function(_0x59f4f2,_0x194011){for(var _0x3a315f=0x0;_0x3a315f<this[_0x536f('0xaef')][_0x536f('0xd')];_0x3a315f++)if(_0x59f4f2==this[_0x536f('0xaef')][_0x3a315f][_0x536f('0x92')]){void 0x0!==_0x194011[_0x536f('0x78e')]&&(this[_0x536f('0xaef')][_0x3a315f][_0x536f('0xce')][_0x536f('0x1d7')]=!0x0,this[_0x536f('0xaef')][_0x3a315f][_0x536f('0xce')][_0x536f('0x201')]=_0x194011[_0x536f('0x78e')]);break;}}},{'key':'createWaveMarker','value':function(_0x59f4f2){this[_0x536f('0xaf1')]||(this[_0x536f('0xaf1')]=new esmap['ESEffectTool'][(_0x536f('0x929'))](_0x536f('0xafc'),esmap[_0x536f('0x511')][_0x536f('0x512')]),esmap[_0x536f('0x4e')][_0x536f('0x92b')](this['waveEffectLayer'])),this[_0x536f('0xaf0')]=new esmap['ESEffectTool'][(_0x536f('0xac4'))](esmap[_0x536f('0x2a4')][_0x536f('0x594')],{'color':_0x59f4f2['color'],'speed':_0x59f4f2[_0x536f('0x36b')],'lineWidth':_0x59f4f2[_0x536f('0x341')],'isShine':_0x59f4f2[_0x536f('0x533')],'imgUrl':_0x59f4f2[_0x536f('0x52f')],'seeThrough':!0x1}),_0x59f4f2['height']&&(this[_0x536f('0xaf0')]['o3d_'][_0x536f('0x3b')]['y']=_0x59f4f2[_0x536f('0x339')]),this[_0x536f('0xaf1')][_0x536f('0x52d')](this['waveLineMarker']);}},{'key':_0x536f('0xafd'),'value':function(_0x59f4f2,_0x194011){for(var _0x3a315f,_0x7ebcf8=[],_0x540ed7=new THREE[(_0x536f('0x372'))](),_0x32d78a=0x0,_0x1bbc5b=_0x59f4f2[_0x536f('0xd')];_0x32d78a<_0x1bbc5b;_0x32d78a++){var _0x4c4b44=new THREE[(_0x536f('0x1b5'))](_0x59f4f2[_0x32d78a]['u'],_0x59f4f2[_0x32d78a]['v'])['normalize']()['multiplyScalar'](_0x194011),_0x4c4b44=[{'x':_0x59f4f2[_0x32d78a]['x']-_0x4c4b44['x']/0x2,'y':_0x59f4f2[_0x32d78a]['y']-_0x4c4b44['y']/0x2,'offset':0x2},{'x':_0x59f4f2[_0x32d78a]['x']+_0x4c4b44['x'],'y':_0x59f4f2[_0x32d78a]['y']+_0x4c4b44['y'],'offset':0x2}],_0x4c4b44=this[_0x536f('0xaf0')][_0x536f('0x59c')](_0x4c4b44,new THREE[(_0x536f('0x59'))](this['map'][_0x536f('0x33')][_0x536f('0xab2')],0x0,this['map'][_0x536f('0x33')][_0x536f('0x34')])),_0x26fd95=_0x4c4b44['getAttribute']('uv'),_0x2ffa08=Math[_0x536f('0x1ba')]();_0x26fd95[_0x536f('0x1b')](new Float32Array([_0x2ffa08,_0x2ffa08,_0x2ffa08,_0x2ffa08+0x1,_0x2ffa08+0x1,_0x2ffa08,_0x2ffa08+0x1,_0x2ffa08+0x1])),_0x7ebcf8[_0x536f('0x82')](_0x4c4b44);}0x0<_0x7ebcf8[_0x536f('0xd')]&&(_0x3a315f=this[_0x536f('0xab7')](_0x7ebcf8),(_0x3a315f=new THREE[(_0x536f('0x354'))](_0x3a315f,this['waveLineMarker'][_0x536f('0x59b')]))[_0x536f('0x355')]=0x64,_0x540ed7[_0x536f('0x1c3')](_0x3a315f));for(var _0x4c32ea=0x0,_0x2334a8=_0x7ebcf8[_0x536f('0xd')];_0x4c32ea<_0x2334a8;_0x4c32ea++)_0x7ebcf8[_0x4c32ea][_0x536f('0xcd')]();this[_0x536f('0xaf0')][_0x536f('0x525')][_0x536f('0x1c3')](_0x540ed7);}},{'key':'removeWaveLines','value':function(){this['waveLineMarker']=null,this[_0x536f('0xaf1')]&&this[_0x536f('0xaf1')][_0x536f('0x52e')]();}},{'key':'mergeGeometrys','value':function(_0x59f4f2){var _0x194011=[],_0x3a315f=!0x0,_0x7ebcf8=!0x1,_0x540ed7=void 0x0;try{for(var _0x32d78a,_0x1bbc5b=(0x0,_0x4813cc[_0x536f('0x6')])(_0x59f4f2);!(_0x3a315f=(_0x32d78a=_0x1bbc5b[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3a315f=!0x0){var _0x4c4b44=_0x32d78a[_0x536f('0x10')];_0x194011[_0x536f('0x82')](_0x4c4b44);}}catch(_0x22ea1e){_0x7ebcf8=!0x0,_0x540ed7=_0x22ea1e;}finally{try{!_0x3a315f&&_0x1bbc5b[_0x536f('0x265')]&&_0x1bbc5b['return']();}finally{if(_0x7ebcf8)throw _0x540ed7;}}_0x59f4f2=THREE[_0x536f('0xabc')]['mergeBufferGeometries'](_0x194011,!0x1);return _0x59f4f2[_0x536f('0xabe')](0x0,_0x59f4f2[_0x536f('0x169')][_0x536f('0x3b')][_0x536f('0xf9')],0x0),_0x59f4f2;}},{'key':'disposeAll','value':function(){for(var _0x59f4f2=0x0,_0x194011=this[_0x536f('0xaef')][_0x536f('0xd')];_0x59f4f2<_0x194011;_0x59f4f2++)this[_0x536f('0xaef')][_0x59f4f2][_0x536f('0xcd')](),this[_0x536f('0xaef')][_0x59f4f2]=null;this[_0x536f('0xaef')][_0x536f('0xd')]=0x0,this[_0x536f('0xaf1')]&&(this[_0x536f('0xaf1')][_0x536f('0x52e')](),this[_0x536f('0xaf0')]=null,this['waveEffectLayer']=null);}},{'key':_0x536f('0x36a'),'value':function(_0x59f4f2){if(0x0<this[_0x536f('0xaef')][_0x536f('0xd')]){var _0x194011=!0x0,_0x3a315f=!0x1,_0x7ebcf8=void 0x0;try{for(var _0x540ed7,_0x32d78a=(0x0,_0x4813cc[_0x536f('0x6')])(this[_0x536f('0xaef')]);!(_0x194011=(_0x540ed7=_0x32d78a['next']())[_0x536f('0x7a')]);_0x194011=!0x0)_0x540ed7['value'][_0x536f('0x36a')](_0x59f4f2);}catch(_0x1d5492){_0x3a315f=!0x0,_0x7ebcf8=_0x1d5492;}finally{try{!_0x194011&&_0x32d78a['return']&&_0x32d78a[_0x536f('0x265')]();}finally{if(_0x3a315f)throw _0x7ebcf8;}}}}}]),_0x194011[_0x536f('0x6')]=_0x4c4b44;},function(_0xe632d9,_0x58b8ca,_0x3de084){'use strict';Object[_0x536f('0x1')](_0x58b8ca,_0x536f('0x4'),{'value':!0x0});var _0x336af7=_0x497501(_0x3de084(0x3c)),_0x3df6fb=_0x497501(_0x3de084(0x4)),_0x2cd1b7=_0x497501(_0x3de084(0x0)),_0x35e24d=_0x497501(_0x3de084(0x1)),_0x308ffc=_0x3de084(0x11),_0x355a36=function(_0xe632d9){if(_0xe632d9&&_0xe632d9['__esModule'])return _0xe632d9;var _0x58b8ca={};if(null!=_0xe632d9)for(var _0x3de084 in _0xe632d9)Object[_0x536f('0x8')]['hasOwnProperty']['call'](_0xe632d9,_0x3de084)&&(_0x58b8ca[_0x3de084]=_0xe632d9[_0x3de084]);return _0x58b8ca[_0x536f('0x6')]=_0xe632d9,_0x58b8ca;}(_0x3de084(0x32));function _0x497501(_0xe632d9){return _0xe632d9&&_0xe632d9[_0x536f('0x4')]?_0xe632d9:{'default':_0xe632d9};}function _0x57b24c(_0xe632d9){var _0x58b8ca=_0xe632d9[_0x536f('0x772')],_0xe632d9=_0xe632d9[_0x536f('0x518')];(0x0,_0x2cd1b7['default'])(this,_0x57b24c),this[_0x536f('0xcf')]=(0x0,_0x308ffc[_0x536f('0x2d')])(),this[_0x536f('0x772')]=_0x58b8ca,this[_0x536f('0xafe')]=[],this[_0x536f('0x9e2')]={},this[_0x536f('0xaff')]=[],this[_0x536f('0xb00')]=[],this[_0x536f('0x9e1')]=[],this['isSetModelsConfigs']=!0x1,this[_0x536f('0x961')]=null,this['defaultCubeTexture']=null,this[_0x536f('0x518')]=_0xe632d9,this[_0x536f('0x518')]&&(this[_0x536f('0x518')][_0x536f('0x519')]=this),this[_0x536f('0xb01')]=[],this[_0x536f('0xb02')]=new _0x355a36[(_0x536f('0xbf'))]({'map':this['map']}),this[_0x536f('0x9e3')]=new _0x355a36['ModelLightBlend'](),this[_0x536f('0x9f1')]={},this[_0x536f('0x9ee')]={},this[_0x536f('0x9f2')]={},this[_0x536f('0x9e0')]={},this['lightPointsMeshs']={},this['lightPointsLayer']=null,this[_0x536f('0xb03')]=[],this[_0x536f('0xb04')]={},this[_0x536f('0xb05')]={},this[_0x536f('0xb06')]=null,this[_0x536f('0xb07')]=[];}(0x0,_0x35e24d[_0x536f('0x6')])(_0x57b24c,[{'key':_0x536f('0xb08'),'value':function(_0xe632d9){var _0x58b8ca=!0x0,_0x3de084=!0x1,_0x2cd1b7=void 0x0;try{for(var _0x35e24d,_0x497501=(0x0,_0x3df6fb['default'])(this[_0x536f('0x961')]);!(_0x58b8ca=(_0x35e24d=_0x497501[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x58b8ca=!0x0){var _0x57b24c=_0x35e24d[_0x536f('0x10')];if(_0x57b24c[_0x536f('0x92')]==_0xe632d9||_0x57b24c['id']==_0xe632d9)return _0x57b24c;}}catch(_0x51c05a){_0x3de084=!0x0,_0x2cd1b7=_0x51c05a;}finally{try{!_0x58b8ca&&_0x497501[_0x536f('0x265')]&&_0x497501['return']();}finally{if(_0x3de084)throw _0x2cd1b7;}}return null;}},{'key':_0x536f('0xb09'),'value':function(_0xe632d9,_0x58b8ca){var _0x3de084=!0x0,_0x2cd1b7=!0x1,_0x35e24d=void 0x0;try{for(var _0x497501,_0x57b24c=(0x0,_0x3df6fb['default'])(_0x58b8ca);!(_0x3de084=(_0x497501=_0x57b24c[_0x536f('0x79')]())['done']);_0x3de084=!0x0){var _0xd6ab8f=_0x497501[_0x536f('0x10')];if(_0xd6ab8f['name']==_0xe632d9)return _0xd6ab8f[_0x536f('0xb0a')];}}catch(_0x355761){_0x2cd1b7=!0x0,_0x35e24d=_0x355761;}finally{try{!_0x3de084&&_0x57b24c[_0x536f('0x265')]&&_0x57b24c[_0x536f('0x265')]();}finally{if(_0x2cd1b7)throw _0x35e24d;}}}},{'key':_0x536f('0x96c'),'value':function(_0xe632d9){this[_0x536f('0xb0b')]||(this['modelsConfigs']=_0xe632d9,this[_0x536f('0xb0b')]=!0x0);}},{'key':_0x536f('0x9b4'),'value':function(_0xe632d9,_0x513166,_0x3bdaed){var _0x1c6669=this,_0x2d328b=_0xe632d9[_0x536f('0x3f')];_0xe632d9[_0x536f('0x41c')](function(_0xe632d9){var _0x58b8ca=null,_0x3de084=null;if(_0x513166&&Array['isArray'](_0xe632d9['material'])?(_0x58b8ca=_0xe632d9['material'][0x0],_0x3de084=_0xe632d9):_0xe632d9[_0x536f('0xce')]&&(_0x58b8ca=_0xe632d9[_0x536f('0xce')],_0x3de084=_0xe632d9),_0x58b8ca&&_0x58b8ca[_0x536f('0x92')]&&0x0<=_0x58b8ca[_0x536f('0x92')][_0x536f('0x4c')]('_ef_')){var _0x2cd1b7=_0x1c6669[_0x536f('0xb0c')](_0x58b8ca[_0x536f('0x92')]),_0x35e24d=!0x0,_0x497501=!0x1,_0x57b24c=void 0x0;try{for(var _0x1fe947,_0x34902d=(0x0,_0x3df6fb['default'])(_0x2cd1b7);!(_0x35e24d=(_0x1fe947=_0x34902d[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x35e24d=!0x0){var _0x19b4ec=_0x1fe947['value'];_0x58b8ca[_0x536f('0x9f0')]=_0x3de084,_0x1c6669[_0x536f('0xb0d')](_0x3bdaed,_0x19b4ec,_0x58b8ca,_0x2d328b);}}catch(_0x1d2d11){_0x497501=!0x0,_0x57b24c=_0x1d2d11;}finally{try{!_0x35e24d&&_0x34902d[_0x536f('0x265')]&&_0x34902d['return']();}finally{if(_0x497501)throw _0x57b24c;}}}if(0x0<=_0xe632d9[_0x536f('0x92')]['indexOf']('_ef_')){var _0x5ea4e2=_0x1c6669[_0x536f('0xb0c')](_0xe632d9['name']);if(_0x536f('0x372')===_0xe632d9['type']||'Group'===_0xe632d9[_0x536f('0x76')]){var _0xdd4eab=!0x0,_0x2cd1b7=!0x1,_0x497501=void 0x0;try{for(var _0x410b55,_0x473c3d=(0x0,_0x3df6fb[_0x536f('0x6')])(_0x5ea4e2);!(_0xdd4eab=(_0x410b55=_0x473c3d[_0x536f('0x79')]())[_0x536f('0x7a')]);_0xdd4eab=!0x0){var _0x377a3e=_0x410b55[_0x536f('0x10')];_0x1c6669[_0x536f('0xb0d')](_0x3bdaed,_0x377a3e,_0xe632d9,_0x2d328b);}}catch(_0x5e4268){_0x2cd1b7=!0x0,_0x497501=_0x5e4268;}finally{try{!_0xdd4eab&&_0x473c3d[_0x536f('0x265')]&&_0x473c3d[_0x536f('0x265')]();}finally{if(_0x2cd1b7)throw _0x497501;}}}_0xe632d9['traverse'](function(_0xe632d9){if(_0x536f('0x354')===_0xe632d9['type']){var _0x58b8ca=!0x0,_0x3de084=!0x1,_0x2cd1b7=void 0x0;try{for(var _0x35e24d,_0x497501=(0x0,_0x3df6fb[_0x536f('0x6')])(_0x5ea4e2);!(_0x58b8ca=(_0x35e24d=_0x497501[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x58b8ca=!0x0){var _0x57b24c=_0x35e24d[_0x536f('0x10')];_0x1c6669[_0x536f('0xb0d')](_0x3bdaed,_0x57b24c,_0xe632d9,_0x2d328b);}}catch(_0x2cdb4b){_0x3de084=!0x0,_0x2cd1b7=_0x2cdb4b;}finally{try{!_0x58b8ca&&_0x497501['return']&&_0x497501[_0x536f('0x265')]();}finally{if(_0x3de084)throw _0x2cd1b7;}}}});}if('Mesh'===_0xe632d9[_0x536f('0x76')]&&0x0<=_0xe632d9['name'][_0x536f('0x4c')](_0x536f('0x9ea'))){var _0x57b24c=_0x1c6669[_0x536f('0xb0c')](_0xe632d9[_0x536f('0x92')]),_0x4fb285=!0x0,_0x2cd1b7=!0x1,_0x497501=void 0x0;try{for(var _0x5142c7,_0x2755f2=(0x0,_0x3df6fb[_0x536f('0x6')])(_0x57b24c);!(_0x4fb285=(_0x5142c7=_0x2755f2[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x4fb285=!0x0){var _0x37cfc6=_0x5142c7[_0x536f('0x10')];_0x1c6669[_0x536f('0xb0d')](_0x3bdaed,_0x37cfc6,_0xe632d9,_0x2d328b);}}catch(_0x4d6fe0){_0x2cd1b7=!0x0,_0x497501=_0x4d6fe0;}finally{try{!_0x4fb285&&_0x2755f2['return']&&_0x2755f2['return']();}finally{if(_0x2cd1b7)throw _0x497501;}}}});}},{'key':_0x536f('0x9b6'),'value':function(_0xe632d9,_0x497501,_0x57b24c){var _0x105064=this,_0x1b8ebb=_0xe632d9[_0x536f('0x3f')];_0xe632d9['traverse'](function(_0xe632d9){var _0x58b8ca=null,_0x3de084=null;if(_0x497501&&Array[_0x536f('0x1ab')](_0xe632d9[_0x536f('0xce')])?(_0x58b8ca=_0xe632d9[_0x536f('0xce')][0x0],_0x3de084=_0xe632d9):_0xe632d9[_0x536f('0xce')]&&(_0x58b8ca=_0xe632d9[_0x536f('0xce')],_0x3de084=_0xe632d9),_0x58b8ca&&_0x58b8ca[_0x536f('0x92')])for(var _0x2cd1b7 in _0x58b8ca[_0x536f('0x9f0')]=_0x3de084,_0x57b24c['material'])_0x2cd1b7===_0x58b8ca[_0x536f('0x92')]&&_0x105064['settingModelEffects']('',_0x58b8ca,_0x1b8ebb,_0x57b24c['material'][_0x2cd1b7]);if(_0x536f('0x354')===_0xe632d9[_0x536f('0x76')])for(var _0x35e24d in _0x57b24c[_0x536f('0x1e8')])_0x35e24d===_0xe632d9[_0x536f('0x92')]&&_0x105064[_0x536f('0xb0e')]('',_0xe632d9,_0x1b8ebb,_0x57b24c['mesh'][_0x35e24d]);});}},{'key':_0x536f('0xb0d'),'value':function(_0xe632d9,_0x58b8ca,_0x3de084,_0x2cd1b7){if(_0xe632d9['modelEffects']&&0x0<_0xe632d9[_0x536f('0x9b3')]['length']){var _0x35e24d=!0x0,_0x497501=!0x1,_0x57b24c=void 0x0;try{for(var _0x5afd26,_0xe539a2=(0x0,_0x3df6fb['default'])(_0xe632d9[_0x536f('0x9b3')]);!(_0x35e24d=(_0x5afd26=_0xe539a2[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x35e24d=!0x0){var _0x162c90=_0x5afd26[_0x536f('0x10')];if(_0x162c90[_0x536f('0x92')]===_0x58b8ca)if(!this[_0x536f('0xb0e')](_0x58b8ca,_0x3de084,_0x2cd1b7,_0x162c90))break;}}catch(_0x4b66f2){_0x497501=!0x0,_0x57b24c=_0x4b66f2;}finally{try{!_0x35e24d&&_0xe539a2[_0x536f('0x265')]&&_0xe539a2['return']();}finally{if(_0x497501)throw _0x57b24c;}}}}},{'key':_0x536f('0xb0e'),'value':function(_0xe632d9,_0x58b8ca,_0x3de084,_0x2cd1b7){if(!_0x2cd1b7[_0x536f('0xb0f')]||'Object3D'!==_0x58b8ca[_0x536f('0x76')]&&_0x536f('0x1c5')!==_0x58b8ca['type']||(this['modelsControlGroups'][_0x3de084[_0x536f('0x92')]]||(this[_0x536f('0xb05')][_0x3de084[_0x536f('0x92')]]={}),void 0x0!==_0x2cd1b7[_0x536f('0xb0f')][_0x536f('0x36c')]&&(_0x58b8ca[_0x536f('0x36c')]=_0x2cd1b7[_0x536f('0xb0f')][_0x536f('0x36c')]),this['modelsControlGroups'][_0x3de084[_0x536f('0x92')]][_0xe632d9]=_0x58b8ca),_0x2cd1b7['codeControlObj']&&(this[_0x536f('0xb05')][_0x3de084[_0x536f('0x92')]||_0x3de084[_0x536f('0x9b0')]]||(this[_0x536f('0xb05')][_0x3de084[_0x536f('0x92')]||_0x3de084[_0x536f('0x9b0')]]={}),(_0x35e24d=_0x2cd1b7['codeControlObj']['name'])&&(this[_0x536f('0xb05')][_0x3de084[_0x536f('0x92')]||_0x3de084[_0x536f('0x9b0')]][_0x35e24d]?(Array[_0x536f('0x1ab')](this['modelsControlGroups'][_0x3de084[_0x536f('0x92')]||_0x3de084['model']][_0x35e24d])||(_0x57b24c=this[_0x536f('0xb05')][_0x3de084[_0x536f('0x92')]||_0x3de084[_0x536f('0x9b0')]][_0x35e24d],this[_0x536f('0xb05')][_0x3de084[_0x536f('0x92')]||_0x3de084[_0x536f('0x9b0')]][_0x35e24d]=[_0x57b24c]),this[_0x536f('0xb05')][_0x3de084['name']||_0x3de084[_0x536f('0x9b0')]][_0x35e24d][_0x536f('0x82')](_0x58b8ca)):this['modelsControlGroups'][_0x3de084[_0x536f('0x92')]||_0x3de084[_0x536f('0x9b0')]][_0x35e24d]=_0x58b8ca)),_0x2cd1b7[_0x536f('0x543')]&&_0x58b8ca[_0x536f('0xcf')]&&(_0x57b24c=this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x535')][_0x536f('0x536')](),_0x2cd1b7[_0x536f('0x543')]&&!_0x2cd1b7[_0x536f('0x543')]['enabled']?_0x2cd1b7[_0x536f('0x543')]=_0x536f('0x1af')==_0x2cd1b7['anisotropy']?_0x57b24c:_0x2cd1b7['anisotropy']:_0x2cd1b7[_0x536f('0x543')]=0x10==_0x2cd1b7[_0x536f('0x543')]?_0x57b24c:_0x2cd1b7[_0x536f('0x543')][_0x536f('0x10')],_0x58b8ca['map'][_0x536f('0x543')]=_0x2cd1b7[_0x536f('0x543')]),_0x2cd1b7[_0x536f('0x1d6')]&&('additive'==_0x2cd1b7[_0x536f('0x1d6')]||_0x2cd1b7[_0x536f('0x1d6')][_0x536f('0x45d')]&&_0x2cd1b7['blending'][_0x536f('0xb10')])&&(_0x58b8ca[_0x536f('0x1d6')]=THREE[_0x536f('0x44b')],_0x58b8ca['depthWrite']=!0x1),void 0x0!==_0x2cd1b7['transparent']&&(_0x2cd1b7[_0x536f('0x1d7')][_0x536f('0x45d')]?(_0x58b8ca[_0x536f('0x1d7')]=_0x2cd1b7[_0x536f('0x1d7')]['enabled'],_0x2cd1b7[_0x536f('0x1d7')][_0x536f('0x201')]&&_0x2cd1b7['transparent'][_0x536f('0x201')]<0x1&&(_0x58b8ca[_0x536f('0x201')]=_0x2cd1b7[_0x536f('0x1d7')][_0x536f('0x201')]),_0x2cd1b7[_0x536f('0x1d7')][_0x536f('0xb11')]&&(_0x58b8ca[_0x536f('0x1d7')]=!0x1,_0x58b8ca['_mesh']&&Array[_0x536f('0x1ab')](_0x58b8ca[_0x536f('0x9f0')][_0x536f('0xce')])&&(_0x58b8ca[_0x536f('0x9f0')][_0x536f('0xce')][0x1]['transparent']=!0x1)),_0x58b8ca[_0x536f('0xfa')]=!0x0):_0x58b8ca[_0x536f('0x1d7')]=_0x2cd1b7[_0x536f('0x1d7')],_0x58b8ca[_0x536f('0xfa')]=!0x0),_0x2cd1b7[_0x536f('0xa3d')]&&(_0x58b8ca[_0x536f('0x355')]&&!_0x2cd1b7['renderSort'][_0x536f('0x45d')]?_0x58b8ca['renderOrder']=_0x2cd1b7[_0x536f('0xa3d')]:_0x58b8ca[_0x536f('0x355')]=_0x2cd1b7[_0x536f('0xa3d')]['value']),_0x2cd1b7['side']&&_0x2cd1b7['side'][_0x536f('0x45d')]&&(_0x58b8ca[_0x536f('0x3ad')]=_0x2cd1b7[_0x536f('0x3ad')][_0x536f('0x10')]),_0x2cd1b7[_0x536f('0x687')]&&_0x2cd1b7['aoMapIntensity']['enabled']&&(_0x58b8ca[_0x536f('0x687')]=_0x2cd1b7[_0x536f('0x687')][_0x536f('0x10')]),_0x2cd1b7['alphaTest']&&void 0x0!==_0x58b8ca['alphaTest']&&(_0x2cd1b7[_0x536f('0x1d8')]['enabled']?_0x58b8ca[_0x536f('0x1d8')]=_0x2cd1b7[_0x536f('0x1d8')][_0x536f('0x10')]:_0x58b8ca[_0x536f('0x1d8')]=_0x2cd1b7['alphaTest']),void 0x0!==_0x2cd1b7[_0x536f('0x1d9')]&&(_0x2cd1b7[_0x536f('0x1d9')][_0x536f('0x45d')]?_0x58b8ca[_0x536f('0x1d9')]=_0x2cd1b7[_0x536f('0x1d9')][_0x536f('0x10')]:_0x58b8ca[_0x536f('0x1d9')]=_0x2cd1b7[_0x536f('0x1d9')]),_0x2cd1b7['fresnel']&&(void 0x0!==_0x2cd1b7[_0x536f('0xb12')][_0x536f('0x45d')]&&_0x2cd1b7[_0x536f('0xb12')]['enabled'],this[_0x536f('0xb13')](_0x58b8ca,_0x2cd1b7['fresnel'],_0x3de084)),_0x2cd1b7[_0x536f('0x946')]&&this[_0x536f('0xa83')](_0x58b8ca,_0x2cd1b7[_0x536f('0x946')]),_0x2cd1b7[_0x536f('0x935')]&&(_0x58b8ca[_0x536f('0xa43')]=_0x2cd1b7[_0x536f('0x935')][_0x536f('0xa43')]||!0x1,_0x58b8ca[_0x536f('0x7a5')]=_0x2cd1b7[_0x536f('0x935')][_0x536f('0x7a5')]||!0x1),_0x2cd1b7['unrealBloom']&&esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x464')]&&(_0x2cd1b7[_0x536f('0x602')][_0x536f('0x45d')],esmap[_0x536f('0x4e')][_0x536f('0x973')][_0x536f('0x9ec')](_0x58b8ca,_0x2cd1b7['unrealBloom'][_0x536f('0x49b')])),_0x2cd1b7[_0x536f('0xac6')]&&esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x464')]&&esmap[_0x536f('0x4e')]['screenEffect'][_0x536f('0x9fb')](_0x58b8ca),_0x2cd1b7['lineFrame']&&(void 0x0===_0x2cd1b7[_0x536f('0xb14')][_0x536f('0x45d')]||!0x1!==_0x2cd1b7['lineFrame'][_0x536f('0x45d')])){var _0x35e24d=null;if(_0x2cd1b7['lineFrame']['color']&&(_0x57b24c=_0x2cd1b7[_0x536f('0xb14')][_0x536f('0xb15')]||0x1,_0x35e24d=this[_0x536f('0xb16')](_0x58b8ca,_0x2cd1b7[_0x536f('0xb14')][_0x536f('0x21f')],_0x57b24c)),_0x2cd1b7[_0x536f('0xb14')]['faces'])if(Array[_0x536f('0x1ab')](_0x58b8ca[_0x536f('0xce')])){var _0x497501=!0x0,_0x57b24c=!0x1,_0x593b23=void 0x0;try{for(var _0x21f828,_0x205e12=(0x0,_0x3df6fb[_0x536f('0x6')])(_0x58b8ca[_0x536f('0xce')]);!(_0x497501=(_0x21f828=_0x205e12[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x497501=!0x0){var _0x3d3da5=_0x21f828[_0x536f('0x10')];void 0x0!==_0x2cd1b7[_0x536f('0xb14')][_0x536f('0xb17')][_0x536f('0x36c')]&&(_0x3d3da5[_0x536f('0x36c')]=_0x2cd1b7[_0x536f('0xb14')][_0x536f('0xb17')][_0x536f('0x36c')]),_0x3d3da5[_0x536f('0x1d9')]=!0x1;}}catch(_0x5c99a3){_0x57b24c=!0x0,_0x593b23=_0x5c99a3;}finally{try{!_0x497501&&_0x205e12[_0x536f('0x265')]&&_0x205e12[_0x536f('0x265')]();}finally{if(_0x57b24c)throw _0x593b23;}}}else void 0x0!==_0x2cd1b7[_0x536f('0xb14')][_0x536f('0xb17')]['visible']&&(_0x58b8ca[_0x536f('0xce')][_0x536f('0x36c')]=_0x2cd1b7[_0x536f('0xb14')][_0x536f('0xb17')]['visible']),_0x58b8ca['material'][_0x536f('0x1d9')]=!0x1;_0x2cd1b7[_0x536f('0xb14')][_0x536f('0x201')]&&(_0x58b8ca['material'][_0x536f('0x1d7')]=!0x0,_0x58b8ca[_0x536f('0xce')]['opacity']=_0x2cd1b7[_0x536f('0xb14')][_0x536f('0x201')]),_0x536f('0xb10')==_0x2cd1b7[_0x536f('0xb14')][_0x536f('0x1d6')]&&(_0x58b8ca[_0x536f('0xce')][_0x536f('0x1d6')]=THREE[_0x536f('0x44b')],_0x58b8ca[_0x536f('0xce')]['depthWrite']=!0x1),_0x35e24d&&_0x2cd1b7[_0x536f('0xb14')][_0x536f('0x602')]&&esmap[_0x536f('0x4e')]['screenEffect'][_0x536f('0x9ec')](_0x35e24d,_0x2cd1b7['lineFrame'][_0x536f('0x602')][_0x536f('0x49b')]);}_0x2cd1b7[_0x536f('0xb18')]&&(_0x58b8ca[_0x536f('0xb19')]=!0x0),_0x2cd1b7[_0x536f('0xb1a')]&&this[_0x536f('0xb1b')](_0x58b8ca,_0x2cd1b7['uvAnimation'],_0x3de084),_0x2cd1b7[_0x536f('0xb1c')]&&_0x58b8ca['map']&&_0x3de084&&_0x3de084['ID']&&(_0x57b24c=_0x58b8ca[_0x536f('0xcf')][_0x536f('0x1b1')](),_0x58b8ca['map']=_0x57b24c,_0x58b8ca[_0x536f('0xcf')][_0x536f('0xb1d')]=_0x3de084['ID'],this[_0x536f('0xaff')][_0x536f('0x82')](_0x58b8ca[_0x536f('0xcf')]),_0x58b8ca[_0x536f('0xcf')][_0x536f('0xfa')]=!0x0,_0x58b8ca[_0x536f('0xfa')]=!0x0,this[_0x536f('0xcf')][_0x536f('0x282')]('modelEffectInitComplete',{'type':_0x536f('0xb1c'),'id':_0x58b8ca[_0x536f('0xcf')][_0x536f('0xb1d')]})),_0x2cd1b7['opacity']&&(_0x58b8ca[_0x536f('0x1d7')]=!0x0,_0x58b8ca[_0x536f('0x201')]=_0x2cd1b7[_0x536f('0x201')]),_0x2cd1b7[_0x536f('0xb1e')]&&_0x58b8ca['map']&&this[_0x536f('0xb1f')](_0x58b8ca,_0x2cd1b7[_0x536f('0xb1e')],_0x3de084),_0x2cd1b7[_0x536f('0xb20')]&&_0x58b8ca['map']&&(void 0x0===_0x2cd1b7[_0x536f('0xb20')][_0x536f('0x45d')]||!0x1!==_0x2cd1b7[_0x536f('0xb20')][_0x536f('0x45d')])&&this['createrBlendEffect'](_0x58b8ca,_0x2cd1b7[_0x536f('0xb20')],_0x3de084),_0x2cd1b7[_0x536f('0x772')]&&(void 0x0!==_0x2cd1b7['water']['color']?this[_0x536f('0x787')](_0x58b8ca,_0x2cd1b7[_0x536f('0x772')],_0x3de084):this['_createWater'](_0x58b8ca,_0x2cd1b7['water'],_0x3de084)),_0x2cd1b7[_0x536f('0xb21')]&&this[_0x536f('0x9df')](_0x58b8ca,_0x2cd1b7[_0x536f('0xb21')],_0x3de084),_0x2cd1b7[_0x536f('0x9e3')]&&_0x58b8ca[_0x536f('0xcf')]&&this[_0x536f('0xb22')](_0x58b8ca,_0x2cd1b7[_0x536f('0x9e3')]),_0x2cd1b7[_0x536f('0xb23')]&&(_0x2cd1b7[_0x536f('0xb23')][_0x536f('0x76')]?(_0x58b8ca[_0x536f('0xb24')]=_0xe632d9,_0x58b8ca['_lightPointsConfig']=_0x2cd1b7[_0x536f('0xb23')],_0x58b8ca[_0x536f('0xb25')]=_0x2cd1b7[_0x536f('0xb23')][_0x536f('0xb26')]):(_0x58b8ca[_0x536f('0xce')]['depthWrite']=!0x1,_0x58b8ca[_0x536f('0xce')][_0x536f('0x201')]=0x0),this[_0x536f('0xb27')][_0x58b8ca[_0x536f('0x1c8')]]=_0x58b8ca),_0x2cd1b7[_0x536f('0xb28')]&&this[_0x536f('0xb29')](_0x58b8ca,_0x2cd1b7['terrain'],_0x3de084),_0x2cd1b7[_0x536f('0xb2a')]&&this[_0x536f('0xb2b')](_0x58b8ca,_0x2cd1b7[_0x536f('0xb2a')],_0x3de084),_0x2cd1b7['gradient']&&this[_0x536f('0xb2c')](_0x58b8ca,_0x2cd1b7['gradient'],_0x3de084);}},{'key':'setTransparent','value':function(){}},{'key':_0x536f('0xb13'),'value':function(_0xe632d9,_0x58b8ca,_0x3de084){var _0x2cd1b7=new _0x355a36[(_0x536f('0xc9'))]({'glowColorStr':_0x58b8ca[_0x536f('0x70a')]});_0x2cd1b7[_0x536f('0x33a')](_0xe632d9),_0xe632d9['envMap']=this[_0x536f('0x518')][_0x536f('0x9b7')],_0xe632d9['envMapIntensity']=_0x58b8ca[_0x536f('0x49b')]||0x14,_0xe632d9['_noCopy']=!0x0,esmap['ESEffectTool'][_0x536f('0x52')]&&(_0xe632d9[_0x536f('0xb2d')]=_0x2cd1b7);}},{'key':'createMirroWater2','value':function(_0xe632d9,_0x58b8ca,_0x3de084){var _0x2cd1b7=this[_0x536f('0xcf')]['mapView'][_0x536f('0xb2e')],_0x2cd1b7=new _0x355a36[(_0x536f('0xa1'))]({'light':_0x2cd1b7,'speed':_0x58b8ca[_0x536f('0x36b')],'waterColor':_0x58b8ca[_0x536f('0x786')]}),_0x35e24d=(_0xe632d9[_0x536f('0x36c')]=!0x1,null);if(!_0x58b8ca[_0x536f('0xb2f')]){_0xe632d9[_0x536f('0xce')]['visible']=!0x1;var _0x497501=Array[_0x536f('0x1ab')](_0xe632d9['material'])?_0xe632d9[_0x536f('0xce')][0x0]:_0xe632d9[_0x536f('0xce')],_0x57b24c=null;if(!_0x497501[_0x536f('0xcf')])return;var _0x497501=(_0x57b24c=_0x497501['map'][_0x536f('0x86b')]['getAttribute'](_0x536f('0xb30'))||_0x497501['map'][_0x536f('0x86b')][_0x536f('0x38e')])[_0x536f('0xb31')]('/'),_0x3bf82c=_0x57b24c[_0x536f('0xac7')](0x0,_0x497501+0x1),_0x497501=_0x57b24c[_0x536f('0xac7')](_0x497501+0x1,_0x57b24c[_0x536f('0xd')]),_0x57b24c=_0x497501['split']('.')[0x0],_0x35e24d=(_0x497501[_0x536f('0x62')]('.')[0x1],_0x3bf82c+_0x57b24c+_0x536f('0xb32'));}_0x497501=new THREE[(_0x536f('0x706'))](),_0x3bf82c=_0x2cd1b7['createWater'](_0xe632d9[_0x536f('0xd0')]['clone'](),_0x497501,(0x0,_0x308ffc[_0x536f('0x27')])(_0x536f('0xb33')),_0x35e24d,_0x58b8ca[_0x536f('0x795')],_0x58b8ca[_0x536f('0xb34')],_0x58b8ca[_0x536f('0x796')]);return _0x3bf82c[_0x536f('0x1e8')][_0x536f('0x3b')]['copy'](_0xe632d9[_0x536f('0x3b')]),_0x3bf82c[_0x536f('0x1e8')][_0x536f('0x1f0')]['copy'](_0xe632d9[_0x536f('0x1f0')]),_0x3bf82c['mesh'][_0x536f('0x1dc')]['copy'](_0xe632d9[_0x536f('0x1dc')]),_0x3bf82c[_0x536f('0x1e8')][_0x536f('0x92')]=_0xe632d9[_0x536f('0x92')],_0x3bf82c[_0x536f('0x1e8')]['renderOrder']=_0xe632d9[_0x536f('0x355')],esmap['ESEffectTool']['EFFECT_EDITOR']&&(_0x3bf82c[_0x536f('0x1e8')]['_effect']=_0x2cd1b7),_0xe632d9['parent'][_0x536f('0x1c3')](_0x3bf82c['mesh']),this[_0x536f('0x9e0')][_0x58b8ca[_0x536f('0x92')]]=_0x2cd1b7,_0x3bf82c[_0x536f('0x1e8')];}},{'key':'createHeatMap','value':function(_0xe632d9,_0x58b8ca,_0x3de084){var _0x2cd1b7=new _0x355a36[(_0x536f('0x95'))]();_0x536f('0xb35')===_0x58b8ca[_0x536f('0x76')]?(_0x2cd1b7[_0x536f('0x33a')](_0xe632d9,_0x3de084['o3d_'][_0x536f('0x576')]['modelinfo'][_0x536f('0x930')]),this['projectionHeatMaps'][_0x58b8ca[_0x536f('0x92')]]=_0x2cd1b7):_0x536f('0x1c7')===_0x58b8ca[_0x536f('0x76')]&&(_0x2cd1b7[_0x536f('0xce')]=_0xe632d9,this[_0x536f('0x9ee')][_0x58b8ca[_0x536f('0x92')]]=_0x2cd1b7);}},{'key':_0x536f('0xb2c'),'value':function(_0xe632d9,_0x58b8ca,_0x3de084){var _0x2cd1b7=new _0x355a36[(_0x536f('0xca'))]();_0x2cd1b7[_0x536f('0x33a')](_0xe632d9),this[_0x536f('0x9f2')][_0x58b8ca['name']]=_0x2cd1b7;}},{'key':_0x536f('0xb1b'),'value':function(_0xe632d9,_0x58b8ca,_0x3de084){var _0x2cd1b7,_0x35e24d,_0x497501,_0x57b24c;_0xe632d9[_0x536f('0xcf')]&&!_0x58b8ca[_0x536f('0x45d')]?_0xe632d9[_0x536f('0xcf')][_0x536f('0xb36')]||(_0x58b8ca[_0x536f('0x71c')]&&(_0xe632d9[_0x536f('0xcf')][_0x536f('0x691')]=_0x58b8ca[_0x536f('0x71c')]),_0x58b8ca[_0x536f('0x1f0')]&&(_0xe632d9[_0x536f('0xcf')][_0x536f('0xb37')]=_0x58b8ca[_0x536f('0x1f0')]),_0x58b8ca[_0x536f('0x797')]&&(_0x497501=null,_0x2cd1b7=(_0x497501=_0xe632d9[_0x536f('0xcf')][_0x536f('0x86b')][_0x536f('0x776')](_0x536f('0xb30'))||_0xe632d9[_0x536f('0xcf')]['image'][_0x536f('0x38e')])['lastIndexOf']('/'),_0x35e24d=_0x497501['substring'](0x0,_0x2cd1b7+0x1),_0x497501=(_0x2cd1b7=_0x497501[_0x536f('0xac7')](_0x2cd1b7+0x1,_0x497501[_0x536f('0xd')]))[_0x536f('0x62')]('.')[0x0],_0x2cd1b7=_0x2cd1b7[_0x536f('0x62')]('.')[0x1],_0x58b8ca[_0x536f('0x797')][_0x536f('0xb38')]?this[_0x536f('0xb02')][_0x536f('0x67f')](_0xe632d9,_0x35e24d+_0x497501+_0x536f('0xb39')+_0x2cd1b7):this[_0x536f('0xb02')][_0x536f('0x686')](_0xe632d9,_0x35e24d+_0x497501+'_ef_uv-animate.'+_0x2cd1b7,_0x58b8ca[_0x536f('0x797')][_0x536f('0x71c')])),_0x58b8ca['spriteAnimate']&&this['modelUvAnimation'][_0x536f('0x68c')](_0xe632d9[_0x536f('0xcf')],_0x58b8ca[_0x536f('0xb3a')]),this['modelUvAnimation'][_0x536f('0x67b')][_0x536f('0x82')](_0xe632d9['map']),this[_0x536f('0xb02')][_0x536f('0xb3b')](),_0xe632d9[_0x536f('0xcf')]['isUseAnimate']=!0x0):_0xe632d9[_0x536f('0xcf')]&&_0x58b8ca[_0x536f('0x45d')]&&(_0xe632d9[_0x536f('0xcf')][_0x536f('0xb36')]||(_0x58b8ca[_0x536f('0xb3c')]?this[_0x536f('0xb02')][_0x536f('0x68c')](_0xe632d9[_0x536f('0xcf')],{'imgWidth':_0x58b8ca[_0x536f('0x68d')],'imgHeight':_0x58b8ca[_0x536f('0x68d')],'row':_0x58b8ca[_0x536f('0x55c')],'column':_0x58b8ca[_0x536f('0x68f')],'fps':_0x58b8ca[_0x536f('0x2f5')]}):((_0x58b8ca[_0x536f('0xb3d')]||_0x58b8ca[_0x536f('0xb3e')])&&(_0xe632d9[_0x536f('0xcf')][_0x536f('0x691')]={'x':_0x58b8ca[_0x536f('0xb3d')],'y':_0x58b8ca['translateY']}),_0x58b8ca[_0x536f('0x1f0')]&&(_0xe632d9[_0x536f('0xcf')][_0x536f('0xb37')]=_0x58b8ca['rotation']),_0x58b8ca['useUv2']&&(_0x35e24d=null,_0x497501=(_0x35e24d=_0xe632d9['map'][_0x536f('0x86b')]['getAttribute'](_0x536f('0xb30'))||_0xe632d9[_0x536f('0xcf')]['image'][_0x536f('0x38e')])['lastIndexOf']('/'),_0x2cd1b7=_0x35e24d[_0x536f('0xac7')](0x0,_0x497501+0x1),_0x35e24d=(_0x497501=_0x35e24d['substring'](_0x497501+0x1,_0x35e24d[_0x536f('0xd')]))['split']('.')[0x0],_0x497501=_0x497501[_0x536f('0x62')]('.')[0x1],_0x58b8ca[_0x536f('0xb3f')]?this[_0x536f('0xb02')][_0x536f('0x67f')](_0xe632d9,_0x2cd1b7+_0x35e24d+'_ef_mask.'+_0x497501):(_0x57b24c=null,(_0x58b8ca[_0x536f('0xb40')]||_0x58b8ca[_0x536f('0xb41')])&&(_0x57b24c={'x':_0x58b8ca[_0x536f('0xb40')],'y':_0x58b8ca[_0x536f('0xb41')]}),this[_0x536f('0xb02')][_0x536f('0x686')](_0xe632d9,_0x2cd1b7+_0x35e24d+'_ef_uv-animate.'+_0x497501,_0x57b24c)))),this[_0x536f('0xb02')][_0x536f('0x67b')]['push'](_0xe632d9[_0x536f('0xcf')]),this[_0x536f('0xb02')]['initLoop'](),_0xe632d9[_0x536f('0xcf')][_0x536f('0xb36')]=!0x0,esmap[_0x536f('0x4e')][_0x536f('0x52')]&&(_0xe632d9[_0x536f('0xb2d')]=!0x0)));}},{'key':_0x536f('0xa83'),'value':function(_0xe632d9,_0x58b8ca){_0xe632d9['envMap']=this[_0x536f('0x518')]['envTextureCube'],_0x58b8ca['roughness']&&(_0xe632d9[_0x536f('0x2fe')]=_0x58b8ca['roughness']),_0x58b8ca[_0x536f('0x2ff')]&&(_0xe632d9['metalness']=_0x58b8ca[_0x536f('0x2ff')]),!esmap['ESMapUtil']['getPlatform']()['isPC']&&_0x58b8ca['fixMobileIntensity']?_0xe632d9[_0x536f('0x300')]=_0x58b8ca['fixMobileIntensity']:_0xe632d9['envMapIntensity']=_0x58b8ca['intensity']||0x1,_0xe632d9[_0x536f('0xfa')]=!0x0,this['setEnvTextureMaterials'][_0x536f('0x82')](_0xe632d9);}},{'key':_0x536f('0xb22'),'value':function(_0xe632d9,_0x58b8ca){_0x58b8ca[_0x536f('0x49b')]&&(_0xe632d9[_0x536f('0x8d2')]=_0x58b8ca['intensity']),_0x58b8ca[_0x536f('0xb42')]&&(_0xe632d9['emissiveIntensity']=0x0),this[_0x536f('0x9e3')][_0x536f('0x33a')](_0xe632d9),esmap[_0x536f('0x4e')]['EFFECT_EDITOR']&&(_0xe632d9['_effect']=!0x0);}},{'key':'createTextureBlend','value':function(_0xe632d9,_0x58b8ca,_0x3de084){var _0x2cd1b7,_0x35e24d=null,_0x497501=(_0x35e24d=_0xe632d9['map'][_0x536f('0x86b')][_0x536f('0x776')]('originalSrc')||_0xe632d9[_0x536f('0xcf')][_0x536f('0x86b')][_0x536f('0x38e')])[_0x536f('0xb31')]('/'),_0x57b24c=_0x35e24d['substring'](0x0,_0x497501+0x1),_0x497501=_0x35e24d[_0x536f('0xac7')](_0x497501+0x1,_0x35e24d['length']),_0x35e24d=_0x497501[_0x536f('0x62')]('.')[0x0],_0x497501=_0x497501[_0x536f('0x62')]('.')[0x1],_0x355eeb=('string'==typeof _0x58b8ca[_0x536f('0x655')]&&(_0x58b8ca[_0x536f('0x655')]=_0x58b8ca[_0x536f('0x655')][_0x536f('0x62')](',')['map'](Number)),_0x536f('0x8a')==typeof _0x58b8ca[_0x536f('0x8ac')]&&(_0x58b8ca[_0x536f('0x8ac')]=_0x58b8ca[_0x536f('0x8ac')][_0x536f('0x62')](',')[_0x536f('0xcf')](Number)),_0x58b8ca[_0x536f('0x655')]),_0x30706d=_0x58b8ca[_0x536f('0x8ac')],_0x599d20=_0x58b8ca['isUseAlphaMask'],_0x10a4a4=_0x58b8ca[_0x536f('0xb43')],_0x51cff8=_0x58b8ca[_0x536f('0xb44')],_0x549e8f=_0x58b8ca[_0x536f('0x8a7')],_0x51b276=null,_0x496c96=(_0x58b8ca[_0x536f('0x543')]&&(_0x2cd1b7=this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')]['capabilities']['getMaxAnisotropy'](),_0x51b276=_0x536f('0x1af')==_0x58b8ca[_0x536f('0x543')]?_0x2cd1b7:_0x58b8ca['anisotropy']),new _0x355a36[(_0x536f('0xc8'))]({'repeatFactor':_0x355eeb?{'texture1':_0x355eeb[0x0],'texture2':_0x355eeb[0x1],'texture3':_0x355eeb[0x2],'texture4':_0x355eeb[0x3]}:null,'isNoTileFactor':_0x30706d?{'texture1':_0x30706d[0x0],'texture2':_0x30706d[0x1],'texture3':_0x30706d[0x2],'texture4':_0x30706d[0x3]}:void 0x0,'texture2Path':_0x57b24c+_0x35e24d+_0x536f('0xb45')+_0x497501,'textureMaskPath':_0x57b24c+_0x35e24d+_0x536f('0xb32'),'texture3Path':0x3<=_0x51cff8?_0x57b24c+_0x35e24d+_0x536f('0xb46')+_0x497501:null,'texture4Path':0x4<=_0x51cff8?_0x57b24c+_0x35e24d+'_ef_blend-3.'+_0x497501:null,'noisePath':(0x0,_0x308ffc[_0x536f('0x27')])(_0x536f('0xb47')),'normalUvIndex':_0x10a4a4?_0x58b8ca[_0x536f('0xb48')]||0x1:null,'normalFlipSide':_0x549e8f,'anisotropy':_0x51b276}));_0xe632d9['visible']=!0x1,_0x599d20&&(_0xe632d9['transparent']=!0x0),_0x496c96[_0x536f('0x37e')](_0x536f('0x493'),function(){_0x496c96['createMaterial'](_0xe632d9),esmap[_0x536f('0x4e')][_0x536f('0x52')]&&(_0x496c96[_0x536f('0xb44')]=_0x51cff8,_0xe632d9['_effect']=_0x496c96),_0xe632d9[_0x536f('0x36c')]=!0x0;});}},{'key':_0x536f('0xb49'),'value':function(_0xe632d9,_0x58b8ca,_0x3de084){var _0x2cd1b7=null,_0x35e24d=(_0x2cd1b7=_0xe632d9[_0x536f('0xcf')][_0x536f('0x86b')][_0x536f('0x776')](_0x536f('0xb30'))||_0xe632d9[_0x536f('0xcf')]['image']['currentSrc'])[_0x536f('0xb31')]('/'),_0x497501=_0x2cd1b7[_0x536f('0xac7')](0x0,_0x35e24d+0x1),_0x35e24d=_0x2cd1b7[_0x536f('0xac7')](_0x35e24d+0x1,_0x2cd1b7['length']),_0x2cd1b7=_0x35e24d[_0x536f('0x62')]('.')[0x0],_0x35e24d=_0x35e24d['split']('.')[0x1],_0x57b24c=_0x58b8ca['isUseAlphaMask'],_0x52f5fc=_0x58b8ca[_0x536f('0xb43')],_0xf9c0d7=new _0x355a36[(_0x536f('0x99'))]({'textureMaskPath':_0x57b24c?_0x497501+_0x2cd1b7+_0x536f('0xb32'):null,'textureNormalPath':_0x52f5fc?_0x497501+_0x2cd1b7+_0x536f('0xb4a')+_0x35e24d:null,'isIgnoreAlpha':_0x58b8ca['isIgnoreAlpha'],'isUseScanEffect':_0x58b8ca[_0x536f('0x8c3')],'isUseUv2Light':_0x58b8ca['isUseUv2Light'],'scanOffset':_0x58b8ca[_0x536f('0x8c1')]});_0xe632d9[_0x536f('0x36c')]=!0x1,_0x57b24c&&(_0xe632d9[_0x536f('0x1d7')]=!0x0),_0xf9c0d7[_0x536f('0x37e')](_0x536f('0x493'),function(){_0xf9c0d7[_0x536f('0x33a')](_0xe632d9),esmap[_0x536f('0x4e')][_0x536f('0x52')]&&(_0xe632d9['_effect']=_0xf9c0d7),_0xe632d9[_0x536f('0x36c')]=!0x0;}),this[_0x536f('0xb00')][_0x536f('0x82')](_0xf9c0d7);}},{'key':'_createWater','value':function(_0xe632d9,_0x58b8ca,_0x3de084){if(!(_0xe632d9 instanceof THREE['Material']))return!0x0;var _0x2cd1b7=null,_0x35e24d=_0x58b8ca[_0x536f('0x92')],_0x497501=_0x58b8ca[_0x536f('0xb4b')],_0x57b24c=!0x0,_0x19e08b=!0x1,_0x41c1c6=void 0x0;try{for(var _0x34c37a,_0x294909=(0x0,_0x3df6fb[_0x536f('0x6')])(this[_0x536f('0x772')][_0x536f('0xaef')]);!(_0x57b24c=(_0x34c37a=_0x294909[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x57b24c=!0x0){var _0x1a5318=_0x34c37a['value'];if(_0x1a5318[_0x536f('0x92')]&&_0x1a5318[_0x536f('0x92')]===_0x35e24d){_0x2cd1b7=_0x1a5318;break;}}}catch(_0x1ef35c){_0x19e08b=!0x0,_0x41c1c6=_0x1ef35c;}finally{try{!_0x57b24c&&_0x294909[_0x536f('0x265')]&&_0x294909['return']();}finally{if(_0x19e08b)throw _0x41c1c6;}}if(!_0x2cd1b7)return!0x0;_0x58b8ca['roughness']&&(_0xe632d9['roughness']=_0x58b8ca['roughness']),_0x58b8ca['metalness']&&(_0xe632d9[_0x536f('0x2ff')]=_0x58b8ca[_0x536f('0x2ff')]),_0x58b8ca[_0x536f('0xb38')]&&(_0x19e08b=null,_0x41c1c6=(_0x19e08b=_0xe632d9['map']['image'][_0x536f('0x776')](_0x536f('0xb30'))||_0xe632d9[_0x536f('0xcf')][_0x536f('0x86b')][_0x536f('0x38e')])[_0x536f('0xb31')]('/'),_0x58b8ca=_0x19e08b[_0x536f('0xac7')](0x0,_0x41c1c6+0x1),_0x19e08b=(_0x41c1c6=_0x19e08b['substring'](_0x41c1c6+0x1,_0x19e08b[_0x536f('0xd')]))['split']('.')[0x0],_0x41c1c6=_0x41c1c6['split']('.')[0x1],_0x2cd1b7['alphaMaskPath']=_0x58b8ca+_0x19e08b+_0x536f('0xb39')+_0x41c1c6,_0x2cd1b7['originTexName']=_0x19e08b),_0x2cd1b7[_0x536f('0x33a')](_0xe632d9,_0x497501),esmap[_0x536f('0x4e')]['EFFECT_EDITOR']&&(_0xe632d9['_effect']=_0x2cd1b7);}},{'key':_0x536f('0x787'),'value':function(_0xe632d9,_0x58b8ca,_0x3de084){if(!(_0xe632d9 instanceof THREE[_0x536f('0xb4c')]))return!0x0;var _0x2cd1b7=_0x58b8ca[_0x536f('0x92')],_0x35e24d=_0x58b8ca['noOriginTexture'],_0x497501=void 0x0,_0x57b24c=_0x58b8ca[_0x536f('0xb4d')]&&_0x58b8ca[_0x536f('0xaf7')]?new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')]((0x0,_0x308ffc['getConfigAssetsPath'])(_0x58b8ca['groundImg'])):new THREE[(_0x536f('0x1cb'))](),_0x57b24c=(_0x58b8ca[_0x536f('0x5fb')]&&(_0x497501=new THREE[(_0x536f('0x26c'))]()['load']((0x0,_0x308ffc[_0x536f('0x27')])(_0x58b8ca['skyImg']))),new _0x355a36[(_0x536f('0xa2'))]({'colorStr':_0x58b8ca[_0x536f('0x21f')],'lightColorStr':_0x58b8ca['lightColor'],'scale':_0x58b8ca[_0x536f('0x1dc')],'speed':_0x58b8ca[_0x536f('0x36b')],'fluctuate':_0x58b8ca['waveFactor'],'texture':_0x57b24c,'skyTexture':_0x497501,'texUvScale':_0x58b8ca['groundScaleFactor'],'flowAngle':_0x58b8ca[_0x536f('0x770')],'opacity':_0x58b8ca[_0x536f('0x201')]}));_0x57b24c[_0x536f('0x92')]=_0x2cd1b7,_0x58b8ca[_0x536f('0xb38')]&&_0xe632d9[_0x536f('0xcf')],_0x58b8ca[_0x536f('0xb38')]&&_0xe632d9[_0x536f('0xcf')]&&(_0x497501=null,_0x2cd1b7=(_0x497501=_0xe632d9[_0x536f('0xcf')]['image'][_0x536f('0x776')](_0x536f('0xb30'))||_0xe632d9['map'][_0x536f('0x86b')][_0x536f('0x38e')])[_0x536f('0xb31')]('/'),_0x58b8ca=_0x497501[_0x536f('0xac7')](0x0,_0x2cd1b7+0x1),_0x497501=(_0x2cd1b7=_0x497501[_0x536f('0xac7')](_0x2cd1b7+0x1,_0x497501[_0x536f('0xd')]))[_0x536f('0x62')]('.')[0x0],_0x2cd1b7=_0x2cd1b7[_0x536f('0x62')]('.')[0x1],_0x57b24c[_0x536f('0x77d')]=_0x58b8ca+_0x497501+_0x536f('0xb39')+_0x2cd1b7,_0x57b24c[_0x536f('0x77b')]=_0x497501),_0x57b24c[_0x536f('0x33a')](_0xe632d9,_0x35e24d),this[_0x536f('0x772')][_0x536f('0xaef')][_0x536f('0x82')](_0x57b24c),esmap['ESEffectTool'][_0x536f('0x52')]&&(_0xe632d9[_0x536f('0xb2d')]=_0x57b24c);}},{'key':_0x536f('0xb29'),'value':function(_0xe632d9,_0x58b8ca,_0x3de084){var _0x3de084=[_0x3de084['o3d_']['userData']['modelinfo'][_0x536f('0x930')][_0x536f('0x7f')]['y'],_0x3de084[_0x536f('0x525')][_0x536f('0x576')][_0x536f('0x92f')][_0x536f('0x930')][_0x536f('0x1af')]['y']],_0x3de084=_0x58b8ca['heightExtent']||_0x3de084,_0x2cd1b7=(_0x536f('0x8a')==typeof _0x58b8ca[_0x536f('0x8ec')]&&(_0x3de084=_0x58b8ca['heightExtent'][_0x536f('0x62')](',')[_0x536f('0xcf')](Number)),(_0x2cd1b7=_0x58b8ca[_0x536f('0xaf7')])&&(0x0,_0x308ffc[_0x536f('0x27')])(_0x2cd1b7)),_0x3de084=new _0x355a36[(_0x536f('0x96'))]({'heightExtent':_0x3de084,'gradientType':_0x58b8ca['gradientType'],'isTransparentLight':_0x58b8ca[_0x536f('0x544')],'texPath':_0x2cd1b7,'isShowSeaGroundEffect':_0x58b8ca[_0x536f('0xb4e')],'seaGroundConfigs':{'scale':_0x58b8ca['waterScale'],'fogNear':_0x58b8ca[_0x536f('0xb4f')],'fogFar':_0x58b8ca[_0x536f('0xb50')]}}),_0x2cd1b7=_0xe632d9;_0x58b8ca[_0x536f('0x544')]&&(_0xe632d9[_0x536f('0x9f0')]['material']=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0,'opacity':0.6,'side':THREE[_0x536f('0x345')],'depthWrite':!0x1,'blending':THREE[_0x536f('0x44b')]}),_0x2cd1b7=_0xe632d9[_0x536f('0x9f0')][_0x536f('0xce')]),_0x3de084['createMaterial'](_0x2cd1b7),_0x58b8ca[_0x536f('0x92')]&&(this['gradientTerrainList'][_0x58b8ca[_0x536f('0x92')]]=_0x3de084),_0x58b8ca['intensity']&&_0x2cd1b7['color']['setScalar'](_0x58b8ca[_0x536f('0x49b')]),this[_0x536f('0x9e1')][_0x536f('0x82')](_0x3de084),esmap['ESEffectTool'][_0x536f('0x52')]&&(_0xe632d9[_0x536f('0xb2d')]=_0x3de084);}},{'key':_0x536f('0xb51'),'value':function(){if(0x0<(0x0,_0x336af7[_0x536f('0x6')])(this[_0x536f('0xb27')])['length'])for(var _0xe632d9 in this[_0x536f('0xb27')])this[_0x536f('0xb27')][_0xe632d9]['isLookAt']&&this[_0x536f('0xb27')][_0xe632d9]['lookAt'](this['map'][_0x536f('0x48e')][_0x536f('0x342')][_0x536f('0x3b')]);}},{'key':_0x536f('0xb52'),'value':function(_0xe632d9){var _0x3de084=this,_0x58b8ca=_0xe632d9[_0x536f('0x8eb')],_0x58b8ca=void 0x0!==_0x58b8ca&&_0x58b8ca,_0xe632d9=_0xe632d9[_0x536f('0x555')],_0xe632d9=void 0x0===_0xe632d9?1.5:_0xe632d9;0x0<(0x0,_0x336af7[_0x536f('0x6')])(this[_0x536f('0xb27')])['length']&&new TWEEN[(_0x536f('0x323'))]({'x':_0x58b8ca?0x0:0x1})['to']({'x':_0x58b8ca?0x1:0x0},0x3e8*_0xe632d9)['easing'](TWEEN['Easing']['Linear'][_0x536f('0x442')])[_0x536f('0x32a')](function(_0xe632d9){for(var _0x58b8ca in _0x3de084[_0x536f('0xb27')])_0x3de084[_0x536f('0xb27')][_0x58b8ca][_0x536f('0xce')]['opacity']=_0xe632d9['x'];})[_0x536f('0x329')]();}},{'key':_0x536f('0xb53'),'value':function(_0xe632d9){return new esmap['ESEffectTool'][(_0x536f('0xac4'))](esmap[_0x536f('0x2a4')]['POINTS'],{'pointSize':_0xe632d9[_0x536f('0x471')],'color':_0xe632d9[_0x536f('0x21f')],'points':_0xe632d9[_0x536f('0x27d')],'height':_0xe632d9['height'],'animateType':_0xe632d9[_0x536f('0x53a')],'isShine':!0x0,'showLevel':_0xe632d9['showLevel'],'seeThrough':_0xe632d9['seeThrough']});}},{'key':_0x536f('0x9e4'),'value':function(){if(0x0<(0x0,_0x336af7[_0x536f('0x6')])(this[_0x536f('0xb27')])[_0x536f('0xd')]){var _0xe632d9,_0x58b8ca=[];for(_0xe632d9 in this[_0x536f('0xb27')]){var _0x3de084=new THREE['Vector3'](),_0x2cd1b7=(this[_0x536f('0xb27')][_0xe632d9]['getWorldPosition'](_0x3de084),this[_0x536f('0xcf')][_0x536f('0xb54')]({'x':_0x3de084['x'],'y':_0x3de084['y'],'z':_0x3de084['z']}));_0x58b8ca[_0x536f('0x82')]({'styleId':this[_0x536f('0xb27')][_0xe632d9][_0x536f('0xb24')],'styleConfig':this[_0x536f('0xb27')][_0xe632d9][_0x536f('0xb55')],'x':_0x2cd1b7['x'],'y':_0x2cd1b7['y'],'height':_0x3de084['y']}),this[_0x536f('0xb27')][_0xe632d9]['parent']?this[_0x536f('0xb27')][_0xe632d9][_0x536f('0xd2')][_0x536f('0xd1')](this['lightPointsMeshs'][_0xe632d9]):this[_0x536f('0xb27')][_0xe632d9]['visible']=!0x1;}this['lightPointsLayer']=new esmap[(_0x536f('0x4e'))][(_0x536f('0x929'))](_0x536f('0xb23'),esmap[_0x536f('0x511')]['EFFECT_MARKER']),esmap['ESEffectTool']['addLayerToMap'](this['lightPointsLayer']);for(var _0x35e24d,_0x497501={},_0x57b24c=0x0,_0x29e782=_0x58b8ca[_0x536f('0xd')];_0x57b24c<_0x29e782;_0x57b24c++)_0x58b8ca[_0x57b24c][_0x536f('0xb56')]&&(_0x58b8ca[_0x57b24c][_0x536f('0xb56')]['color']&&!_0x497501[_0x58b8ca[_0x57b24c][_0x536f('0x632')]]?_0x497501[_0x58b8ca[_0x57b24c]['styleId']]=[]:_0x58b8ca[_0x57b24c][_0x536f('0x632')]&&_0x497501[_0x58b8ca[_0x57b24c][_0x536f('0x632')]]&&_0x497501[_0x58b8ca[_0x57b24c][_0x536f('0x632')]][_0x536f('0x82')](_0x58b8ca[_0x57b24c]));for(_0x35e24d in _0x497501){var _0x266973=[],_0x2489ed=_0x497501[_0x35e24d][0x0][_0x536f('0xb56')],_0x54ba91=!0x0,_0x31f17b=!0x1,_0x4b19d8=void 0x0;try{for(var _0x3835df,_0x4e068f=(0x0,_0x3df6fb['default'])(_0x497501[_0x35e24d]);!(_0x54ba91=(_0x3835df=_0x4e068f['next']())[_0x536f('0x7a')]);_0x54ba91=!0x0){var _0x21c3c0=_0x3835df[_0x536f('0x10')];_0x266973['push']({'x':_0x21c3c0['x'],'y':_0x21c3c0['y'],'height':_0x21c3c0[_0x536f('0x339')]});}}catch(_0x1b84b2){_0x31f17b=!0x0,_0x4b19d8=_0x1b84b2;}finally{try{!_0x54ba91&&_0x4e068f['return']&&_0x4e068f['return']();}finally{if(_0x31f17b)throw _0x4b19d8;}}_0x31f17b=this['addEffectPointsMarker']({'height':_0x2489ed[_0x536f('0x444')]||0x0,'pointSize':_0x2489ed[_0x536f('0x471')]||0xf,'color':_0x2489ed[_0x536f('0x21f')],'animateType':'breath','points':_0x266973});this[_0x536f('0xb57')][_0x536f('0x52d')](_0x31f17b);}}}},{'key':_0x536f('0xb0c'),'value':function(_0xe632d9){return _0xe632d9[_0x536f('0x62')](_0x536f('0x9ea'))[0x1][_0x536f('0x62')]('_');}},{'key':_0x536f('0xb58'),'value':function(_0xe632d9,_0x58b8ca){_0xe632d9&&_0x58b8ca&&(_0xe632d9[_0x536f('0x355')]=_0x58b8ca);}},{'key':_0x536f('0xb59'),'value':function(_0xe632d9,_0x58b8ca){_0xe632d9&&void 0x0!==_0x58b8ca&&(_0xe632d9[_0x536f('0x1d7')]=_0x58b8ca);}},{'key':_0x536f('0xa8a'),'value':function(_0xe632d9){for(var _0x58b8ca=0x0,_0x3de084=this['setEnvTextureMaterials']['length'];_0x58b8ca<_0x3de084;_0x58b8ca++)_0xe632d9&&(this[_0x536f('0xb01')][_0x58b8ca][_0x536f('0x4aa')]=_0xe632d9),this[_0x536f('0xb01')][_0x536f('0xfa')]=!0x0;}},{'key':'createEdgeLineFrame','value':function(_0xe632d9,_0x58b8ca,_0x3de084){return new _0x355a36[(_0x536f('0xc2'))]({'colorStr':_0x58b8ca,'opacity':_0x3de084})['createLineFrame'](_0xe632d9,_0xe632d9['geometry']);}},{'key':_0x536f('0xb5a'),'value':function(_0xe632d9,_0x58b8ca){var _0x3de084=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')]((0x0,_0x308ffc['getConfigAssetsPath'])(_0x58b8ca[_0x536f('0xaa9')]));new _0x355a36[(_0x536f('0xc7'))]({'camera':this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x342')],'texture':_0x3de084,'colorStr':_0x58b8ca[_0x536f('0x21f')],'lineWidth':_0x58b8ca[_0x536f('0x341')]})[_0x536f('0xb5b')](_0xe632d9);}},{'key':_0x536f('0x9a1'),'value':function(_0xe632d9,_0x58b8ca,_0x3de084){var _0x2cd1b7,_0x22a7a9=this,_0x35e24d=_0xe632d9[_0x536f('0xb5c')],_0x56b198=void 0x0,_0x3742b5=void 0x0,_0x3ba6cb=_0x35e24d[_0x536f('0xb5d')][_0x536f('0x938')]['ms']||{},_0x4cb646=_0x35e24d[_0x536f('0x489')][_0x536f('0x3b')],_0xdd09f8=new THREE[(_0x536f('0x59'))](),_0x4a010d=new THREE[(_0x536f('0x59'))]();for(_0x2cd1b7 in new THREE[(_0x536f('0xb5e'))]()[_0x536f('0xb5f')](_0x35e24d['scene'])[_0x536f('0x6cd')](_0x35e24d[_0x536f('0x489')]['position']),_0x35e24d[_0x536f('0x489')][_0x536f('0x3b')]['multiplyScalar'](-0x1),_0x35e24d[_0x536f('0x489')][_0x536f('0x41c')](function(_0xe632d9){if(_0xe632d9 instanceof THREE[_0x536f('0x354')]){if(_0xdd09f8[_0x536f('0x1b')](_0x4cb646['x']+_0xe632d9[_0x536f('0x3b')]['x'],_0x4cb646['y']+_0xe632d9[_0x536f('0x3b')]['y'],_0x4cb646['z']+_0xe632d9[_0x536f('0x3b')]['z']),_0x4a010d['set'](THREE[_0x536f('0x19')][_0x536f('0xb60')](_0xe632d9[_0x536f('0x1f0')]['x']),THREE['Math'][_0x536f('0xb60')](_0xe632d9[_0x536f('0x1f0')]['y']),THREE[_0x536f('0x19')][_0x536f('0xb60')](_0xe632d9[_0x536f('0x1f0')]['z'])),_0x4a010d=_0x4a010d['round'](),_0x56b198=_0xe632d9[_0x536f('0xd0')][_0x536f('0x1b1')](),0x0<=(_0x3742b5=_0xe632d9[_0x536f('0xce')][_0x536f('0x1b1')]())[_0x536f('0x92')]['indexOf'](_0x536f('0x9ea'))){var _0xe632d9=_0x22a7a9[_0x536f('0xb0c')](_0x3742b5[_0x536f('0x92')]),_0x58b8ca=!0x0,_0x3de084=!0x1,_0x2cd1b7=void 0x0;try{for(var _0x35e24d,_0x497501=(0x0,_0x3df6fb['default'])(_0xe632d9);!(_0x58b8ca=(_0x35e24d=_0x497501['next']())[_0x536f('0x7a')]);_0x58b8ca=!0x0){var _0x57b24c=_0x35e24d[_0x536f('0x10')];_0x22a7a9[_0x536f('0xb0d')](_0x22a7a9[_0x536f('0x961')],_0x57b24c,_0x3742b5);}}catch(_0x5373dd){_0x3de084=!0x0,_0x2cd1b7=_0x5373dd;}finally{try{!_0x58b8ca&&_0x497501[_0x536f('0x265')]&&_0x497501[_0x536f('0x265')]();}finally{if(_0x3de084)throw _0x2cd1b7;}}}_0x3ba6cb[_0x536f('0xce')]&&0x0<(0x0,_0x336af7['default'])(_0x3ba6cb[_0x536f('0xce')])[_0x536f('0xd')]&&_0x3ba6cb[_0x536f('0xce')][_0x3742b5['name']]&&_0x22a7a9['settingModelEffects']('',_0x3742b5,null,_0x3ba6cb['material'][_0x3742b5[_0x536f('0x92')]]);}}),_0x58b8ca){var _0x497501=null,_0x57b24c=(_0x497501=(0x0,_0x308ffc['checkIsCityEngine'])()?this[_0x536f('0xcf')][_0x536f('0xaae')](_0x2cd1b7):((0x0,_0x308ffc[_0x536f('0x2f')])()?_0xe632d9[_0x536f('0xb61')]:(0x0,_0x308ffc['getBuiding'])())[_0x536f('0x522')](_0x2cd1b7)[_0x536f('0xb62')](_0x536f('0xb63'))[0x0],_0x58b8ca[_0x2cd1b7]),_0x491822=[],_0x1541a2=[],_0x1995a4=[],_0x78fe1c=!0x0,_0x49fc6c=!0x1,_0xfed65e=void 0x0;try{for(var _0x2083ea,_0x4dc9fd=(0x0,_0x3df6fb[_0x536f('0x6')])(_0x57b24c);!(_0x78fe1c=(_0x2083ea=_0x4dc9fd[_0x536f('0x79')]())['done']);_0x78fe1c=!0x0){var _0x1855c2,_0xa8779e=_0x2083ea[_0x536f('0x10')];_0x491822[_0x536f('0x82')](_0xa8779e['position']['x']+_0xdd09f8['x'],_0xa8779e[_0x536f('0x3b')]['y']+_0xdd09f8['y'],_0xa8779e[_0x536f('0x3b')]['z']+_0xdd09f8['z']),_0xa8779e['rotate']?(_0x1855c2=_0xa8779e['rotate'][_0x536f('0x62')](','),_0x1995a4[_0x536f('0x82')](+_0x1855c2[0x0]+_0x4a010d['x'],+_0x1855c2[0x1]+_0x4a010d['y'],+_0x1855c2[0x2]+_0x4a010d['z'])):_0x1995a4['push'](0x0,0x0,0x0),_0x1541a2[_0x536f('0x82')](_0xa8779e[_0x536f('0x1dc')]['x'],_0xa8779e[_0x536f('0x1dc')]['y'],_0xa8779e[_0x536f('0x1dc')]['z']);}}catch(_0x32fb47){_0x49fc6c=!0x0,_0xfed65e=_0x32fb47;}finally{try{!_0x78fe1c&&_0x4dc9fd['return']&&_0x4dc9fd[_0x536f('0x265')]();}finally{if(_0x49fc6c)throw _0xfed65e;}}_0x49fc6c=new _0x355a36[(_0x536f('0x9b'))]({'material':_0x3742b5,'geometry':_0x56b198,'num':_0x57b24c[_0x536f('0xd')],'camera':this['map']['mapView'][_0x536f('0x342')],'shadowCamera':_0x3de084[_0x536f('0x7c6')],'pos':_0x491822,'rot':_0x1995a4,'scale':_0x1541a2});_0x49fc6c[_0x536f('0x356')]['name']=_0xe632d9[_0x536f('0x92')],_0x3ba6cb['mesh']&&(0x0,_0x336af7['default'])(_0x3ba6cb['mesh'])[_0x536f('0xd')],_0x497501['o3d_'][_0x536f('0x1c3')](_0x49fc6c['object3d']),this['instanceMeshs'][_0x536f('0x82')](_0x49fc6c);}}},{'key':_0x536f('0x99f'),'value':function(_0xe632d9,_0x58b8ca,_0x3de084){var _0x2cd1b7,_0x1efb91,_0x23a995,_0xf0718a,_0x1be8c5,_0x1e6087,_0x35e24d,_0x53be3a=this,_0x41a6e3={},_0x26f7a0=null;for(_0x35e24d in this[_0x536f('0xb04')][_0xe632d9[_0x536f('0x92')]]||(_0x2cd1b7=_0xe632d9[_0x536f('0xb5c')],_0x23a995=_0x1efb91=void 0x0,_0x41a6e3=_0x2cd1b7[_0x536f('0xb5d')][_0x536f('0x938')]['ms']||{},_0xf0718a=_0x2cd1b7[_0x536f('0x489')][_0x536f('0x3b')],_0x1be8c5=new THREE[(_0x536f('0x59'))](),_0x1e6087=new THREE[(_0x536f('0x59'))](),new THREE[(_0x536f('0xb5e'))]()[_0x536f('0xb5f')](_0x2cd1b7[_0x536f('0x489')])[_0x536f('0x6cd')](_0x2cd1b7[_0x536f('0x489')][_0x536f('0x3b')]),_0x2cd1b7['scene']['position'][_0x536f('0x1c2')](-0x1),_0x2cd1b7[_0x536f('0x489')][_0x536f('0x41c')](function(_0xe632d9){if(_0xe632d9 instanceof THREE[_0x536f('0x354')]){if(_0x1be8c5['set'](_0xf0718a['x']+_0xe632d9[_0x536f('0x3b')]['x'],_0xf0718a['y']+_0xe632d9['position']['y'],_0xf0718a['z']+_0xe632d9[_0x536f('0x3b')]['z']),_0x1e6087[_0x536f('0x1b')](THREE[_0x536f('0x19')][_0x536f('0xb60')](_0xe632d9[_0x536f('0x1f0')]['x']),THREE[_0x536f('0x19')][_0x536f('0xb60')](_0xe632d9[_0x536f('0x1f0')]['y']),THREE[_0x536f('0x19')][_0x536f('0xb60')](_0xe632d9[_0x536f('0x1f0')]['z'])),_0x1e6087=_0x1e6087['round'](),_0x1efb91=_0xe632d9[_0x536f('0xd0')][_0x536f('0x1b1')](),_0x23a995=_0xe632d9[_0x536f('0xce')][_0x536f('0x1b1')](),_0x26f7a0=_0xe632d9[_0x536f('0x92')],0x0<=_0x23a995[_0x536f('0x92')]['indexOf']('_ef_')){var _0xe632d9=_0x53be3a['splitEffectsTemplates'](_0x23a995[_0x536f('0x92')]),_0x58b8ca=!0x0,_0x3de084=!0x1,_0x2cd1b7=void 0x0;try{for(var _0x35e24d,_0x497501=(0x0,_0x3df6fb[_0x536f('0x6')])(_0xe632d9);!(_0x58b8ca=(_0x35e24d=_0x497501[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x58b8ca=!0x0){var _0x57b24c=_0x35e24d[_0x536f('0x10')];_0x53be3a[_0x536f('0xb0d')](_0x53be3a[_0x536f('0x961')],_0x57b24c,_0x23a995);}}catch(_0x4e1ed3){_0x3de084=!0x0,_0x2cd1b7=_0x4e1ed3;}finally{try{!_0x58b8ca&&_0x497501[_0x536f('0x265')]&&_0x497501[_0x536f('0x265')]();}finally{if(_0x3de084)throw _0x2cd1b7;}}}_0x41a6e3[_0x536f('0xce')]&&0x0<(0x0,_0x336af7[_0x536f('0x6')])(_0x41a6e3['material'])['length']&&_0x41a6e3[_0x536f('0xce')][_0x23a995[_0x536f('0x92')]]&&_0x53be3a[_0x536f('0xb0e')]('',_0x23a995,null,_0x41a6e3[_0x536f('0xce')][_0x23a995['name']]);}}),this[_0x536f('0xb04')][_0xe632d9[_0x536f('0x92')]]={'material':_0x23a995,'geometry':_0x1efb91,'offsetPos':_0x1be8c5,'rotation':_0x1e6087}),_0x58b8ca){var _0x497501=this[_0x536f('0xcf')][_0x536f('0xaae')](_0x35e24d);if(_0x497501){var _0x57b24c=_0x58b8ca[_0x35e24d],_0x57257a=[],_0x584a02=[],_0xf5d39e=[],_0x5483d3=!0x0,_0xe888ae=!0x1,_0x5a8df3=void 0x0;try{for(var _0x29c007,_0x6818af=(0x0,_0x3df6fb[_0x536f('0x6')])(_0x57b24c);!(_0x5483d3=(_0x29c007=_0x6818af[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5483d3=!0x0){var _0x9d31ff,_0x308ffc=_0x29c007['value'];_0x57257a[_0x536f('0x82')](_0x308ffc[_0x536f('0x3b')]['x']+this[_0x536f('0xb04')][_0xe632d9[_0x536f('0x92')]][_0x536f('0xb64')]['x'],_0x308ffc['position']['y']+this[_0x536f('0xb04')][_0xe632d9['name']]['offsetPos']['y']*_0x308ffc[_0x536f('0x1dc')]['y'],_0x308ffc[_0x536f('0x3b')]['z']+this[_0x536f('0xb04')][_0xe632d9['name']][_0x536f('0xb64')]['z']),_0x308ffc[_0x536f('0xb65')]?(_0x9d31ff=_0x308ffc[_0x536f('0xb65')][_0x536f('0x62')](','),_0xf5d39e[_0x536f('0x82')](+_0x9d31ff[0x0]+this[_0x536f('0xb04')][_0xe632d9['name']][_0x536f('0x1f0')]['x'],+_0x9d31ff[0x1]+this[_0x536f('0xb04')][_0xe632d9[_0x536f('0x92')]][_0x536f('0x1f0')]['y'],+_0x9d31ff[0x2]+this[_0x536f('0xb04')][_0xe632d9[_0x536f('0x92')]][_0x536f('0x1f0')]['z'])):_0xf5d39e[_0x536f('0x82')](0x0,0x0,0x0),_0x584a02[_0x536f('0x82')](_0x308ffc[_0x536f('0x1dc')]['x'],_0x308ffc[_0x536f('0x1dc')]['y'],_0x308ffc[_0x536f('0x1dc')]['z']);}}catch(_0x145fbe){_0xe888ae=!0x0,_0x5a8df3=_0x145fbe;}finally{try{!_0x5483d3&&_0x6818af[_0x536f('0x265')]&&_0x6818af['return']();}finally{if(_0xe888ae)throw _0x5a8df3;}}_0xe888ae=new _0x355a36['ESInstanceMesh']({'material':this[_0x536f('0xb04')][_0xe632d9['name']][_0x536f('0xce')],'geometry':this[_0x536f('0xb04')][_0xe632d9[_0x536f('0x92')]]['geometry'],'num':_0x57b24c['length'],'camera':this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x342')],'shadowCamera':_0x3de084[_0x536f('0x7c6')],'pos':_0x57257a,'rot':_0xf5d39e,'scale':_0x584a02});_0xe888ae[_0x536f('0x356')][_0x536f('0x92')]=_0xe632d9['name'],_0x497501['o3d_'][_0x536f('0x1c3')](_0xe888ae['object3d']),_0x41a6e3[_0x536f('0x1e8')]&&0x0<(0x0,_0x336af7['default'])(_0x41a6e3['mesh'])['length']&&_0x26f7a0&&_0x41a6e3[_0x536f('0x1e8')][_0x26f7a0]&&_0x53be3a['settingModelEffects']('',_0xe888ae[_0x536f('0x356')]['children'][0x0],null,_0x41a6e3[_0x536f('0x1e8')][_0x26f7a0]),this[_0x536f('0xb03')][_0x536f('0x82')](_0xe888ae),delete _0x58b8ca[_0x35e24d];}}}},{'key':_0x536f('0xb66'),'value':function(_0xe632d9,_0x58b8ca){_0xe632d9=new _0x355a36[(_0x536f('0x94'))]({'targetObj':_0xe632d9,'offsetHeight':_0x58b8ca[_0x536f('0x444')]});this[_0x536f('0xb07')][_0x536f('0x82')](_0xe632d9);}},{'key':_0x536f('0x367'),'value':function(){this[_0x536f('0x9e2')]={},this[_0x536f('0x9e1')][_0x536f('0xd')]=0x0,this[_0x536f('0xaff')][_0x536f('0xd')]=0x0,this[_0x536f('0xb02')][_0x536f('0xcd')]();var _0xe632d9=!0x0,_0x58b8ca=!0x1,_0x3de084=void 0x0;try{for(var _0x2cd1b7,_0x35e24d=(0x0,_0x3df6fb[_0x536f('0x6')])(this[_0x536f('0xb00')]);!(_0xe632d9=(_0x2cd1b7=_0x35e24d[_0x536f('0x79')]())[_0x536f('0x7a')]);_0xe632d9=!0x0)_0x2cd1b7[_0x536f('0x10')][_0x536f('0xcd')]();}catch(_0x1a6b1a){_0x58b8ca=!0x0,_0x3de084=_0x1a6b1a;}finally{try{!_0xe632d9&&_0x35e24d[_0x536f('0x265')]&&_0x35e24d[_0x536f('0x265')]();}finally{if(_0x58b8ca)throw _0x3de084;}}this[_0x536f('0xb01')][_0x536f('0xd')]=0x0,this['lightBlend'][_0x536f('0xcd')](),this[_0x536f('0xb27')]={},this[_0x536f('0xb57')]&&this[_0x536f('0xb57')][_0x536f('0x52e')]();var _0x497501=!0x0,_0x58b8ca=!(this['tileInstanceModels']={}),_0x3de084=void 0x0;try{for(var _0x57b24c,_0x56d2ba=(0x0,_0x3df6fb['default'])(this[_0x536f('0xb03')]);!(_0x497501=(_0x57b24c=_0x56d2ba['next']())[_0x536f('0x7a')]);_0x497501=!0x0)_0x57b24c[_0x536f('0x10')][_0x536f('0xcd')]();}catch(_0x245c4b){_0x58b8ca=!0x0,_0x3de084=_0x245c4b;}finally{try{!_0x497501&&_0x56d2ba['return']&&_0x56d2ba[_0x536f('0x265')]();}finally{if(_0x58b8ca)throw _0x3de084;}}this[_0x536f('0xb03')][_0x536f('0xd')]=0x0,this[_0x536f('0xb05')]={};}},{'key':_0x536f('0x36a'),'value':function(_0xe632d9){if(this['modelUvAnimation'][_0x536f('0x2f3')](_0xe632d9),0x0<this[_0x536f('0xafe')][_0x536f('0xd')])for(var _0x58b8ca=0x0,_0x3de084=this['boatFoams']['length'];_0x58b8ca<_0x3de084;_0x58b8ca++)this['boatFoams'][_0x58b8ca][_0x536f('0x36a')](_0xe632d9);if(0x0<this[_0x536f('0xb00')][_0x536f('0xd')])for(var _0x2cd1b7=0x0,_0x35e24d=this[_0x536f('0xb00')][_0x536f('0xd')];_0x2cd1b7<_0x35e24d;_0x2cd1b7++)this[_0x536f('0xb00')][_0x2cd1b7][_0x536f('0x36a')](_0xe632d9);if(0x0<this['modelTerrainList'][_0x536f('0xd')])for(var _0x497501=0x0,_0x57b24c=this['modelTerrainList'][_0x536f('0xd')];_0x497501<_0x57b24c;_0x497501++)this[_0x536f('0x9e1')][_0x497501]['render'](_0xe632d9);if(0x0<(0x0,_0x336af7[_0x536f('0x6')])(this[_0x536f('0x9e0')])[_0x536f('0xd')])for(var _0x39f805 in this[_0x536f('0x9e0')])this['mirroWaters'][_0x39f805][_0x536f('0x36a')](_0xe632d9);if(this[_0x536f('0xb06')]&&this['oceanTerrainMat'][_0x536f('0x420')]&&(this[_0x536f('0xb06')][_0x536f('0xf9')]+=_0xe632d9*this['oceanTerrainMat'][_0x536f('0x36b')],this[_0x536f('0xb06')][_0x536f('0x420')][_0x536f('0x168')][_0x536f('0x429')][_0x536f('0x10')]=this['oceanTerrainMat'][_0x536f('0xf9')]),0x0<this[_0x536f('0xb07')][_0x536f('0xd')])for(var _0x42960c=0x0,_0x5e4de4=this['floatShakeModels'][_0x536f('0xd')];_0x42960c<_0x5e4de4;_0x42960c++)this[_0x536f('0xb07')][_0x42960c][_0x536f('0x2f3')](_0xe632d9);}}]),_0x58b8ca[_0x536f('0x6')]=_0x57b24c;},function(_0x3750c8,_0xcb8b1d,_0x4232c9){'use strict';Object[_0x536f('0x1')](_0xcb8b1d,_0x536f('0x4'),{'value':!0x0});var _0x5d6a11=_0x10d627(_0x4232c9(0x20)),_0x83c54=_0x10d627(_0x4232c9(0x0)),_0xef7424=_0x10d627(_0x4232c9(0x1)),_0xa73d9a=_0x4232c9(0x11),_0x2ecf2f=function(_0x3750c8){if(_0x3750c8&&_0x3750c8[_0x536f('0x4')])return _0x3750c8;var _0xcb8b1d={};if(null!=_0x3750c8)for(var _0x4232c9 in _0x3750c8)Object[_0x536f('0x8')]['hasOwnProperty'][_0x536f('0xa')](_0x3750c8,_0x4232c9)&&(_0xcb8b1d[_0x4232c9]=_0x3750c8[_0x4232c9]);return _0xcb8b1d[_0x536f('0x6')]=_0x3750c8,_0xcb8b1d;}(_0x4232c9(0x32)),_0x35684a=_0x10d627(_0x4232c9(0x118));function _0x10d627(_0x3750c8){return _0x3750c8&&_0x3750c8['__esModule']?_0x3750c8:{'default':_0x3750c8};}function _0x22b06c(){(0x0,_0x83c54[_0x536f('0x6')])(this,_0x22b06c),this[_0x536f('0xcf')]=(0x0,_0xa73d9a[_0x536f('0x2d')])(),this[_0x536f('0x45d')]=!0x1,this['screenEffect']=null,this['outlineSelectList']=[],this[_0x536f('0xb67')]=!0x1,this['isLockCreateScreenPlane']=!0x1,this[_0x536f('0xb68')]=null,this[_0x536f('0xb69')]=null,this[_0x536f('0xb6a')]=null,this['isShowRainScreenEffect']=!0x1,this[_0x536f('0xb6b')]=!0x1;}(0x0,_0xef7424[_0x536f('0x6')])(_0x22b06c,[{'key':_0x536f('0x37d'),'value':function(_0x3750c8){var _0xcb8b1d=this;this[_0x536f('0x45d')]=!0x0,this[_0x536f('0x973')]=new _0x35684a[(_0x536f('0x6'))]({'map':this[_0x536f('0xcf')]}),this[_0x536f('0x973')]['init'](_0x3750c8),this[_0x536f('0xcf')]['on'](_0x536f('0x876'),function(_0x3750c8){_0xcb8b1d[_0x536f('0x973')][_0x536f('0x45d')]&&_0xcb8b1d['screenEffect'][_0x536f('0x876')](_0x3750c8[_0x536f('0x366')],_0x3750c8[_0x536f('0x339')]);});}},{'key':_0x536f('0xb6c'),'value':function(){var _0xcb8b1d;this[_0x536f('0x973')][_0x536f('0xb6d')]&&(_0xcb8b1d=this)[_0x536f('0xcf')]['on']('mapClickNode',function(_0x3750c8){_0x3750c8['nodeType']==esmap[_0x536f('0xb6e')][_0x536f('0xb6f')]&&(_0xcb8b1d[_0x536f('0xb70')]['length']=0x0,_0xcb8b1d[_0x536f('0xb70')][_0x536f('0x82')](_0x3750c8[_0x536f('0x525')]),_0xcb8b1d[_0x536f('0x973')][_0x536f('0xb6d')][_0x536f('0xb71')]=_0xcb8b1d[_0x536f('0xb70')]);});}},{'key':_0x536f('0x9fa'),'value':function(_0x3750c8){_0x3750c8[_0x536f('0x21f')]&&this['screenEffect'][_0x536f('0xb6d')][_0x536f('0xb72')]['setStyle'](_0x3750c8[_0x536f('0x21f')]),_0x3750c8[_0x536f('0xb73')]&&this['screenEffect'][_0x536f('0xb6d')][_0x536f('0xb73')][_0x536f('0x33d')](_0x3750c8[_0x536f('0xb73')]),_0x3750c8[_0x536f('0xb74')]&&(this[_0x536f('0x973')][_0x536f('0xb6d')][_0x536f('0xb75')]=_0x3750c8[_0x536f('0xb74')]),_0x3750c8[_0x536f('0xb76')]&&(this['screenEffect']['outlinePass'][_0x536f('0xb77')]=_0x3750c8[_0x536f('0xb76')]),_0x3750c8[_0x536f('0xb78')]&&(this[_0x536f('0x973')][_0x536f('0xb6d')][_0x536f('0xb78')]=_0x3750c8[_0x536f('0xb78')]),_0x3750c8['maskTexture']&&(this['screenEffect']['outlinePass']['patternTexture']=_0x3750c8['maskTexture'],this[_0x536f('0x973')][_0x536f('0xb6d')]['usePatternTexture']=!0x0),_0x3750c8[_0x536f('0xb79')]=_0x3750c8['blinkPeriod']||2.5,this[_0x536f('0x973')]['outlinePass'][_0x536f('0xb7a')]=_0x3750c8['blink']?_0x3750c8[_0x536f('0xb79')]:0x0;}},{'key':_0x536f('0x9fb'),'value':function(_0x3750c8,_0xcb8b1d){this[_0x536f('0x973')]&&(this[_0x536f('0x973')][_0x536f('0xb6d')][_0x536f('0xb71')]['push'](_0x3750c8),_0xcb8b1d?this[_0x536f('0x9fa')](_0xcb8b1d):this['updateOutlineStyle'](this[_0x536f('0x973')][_0x536f('0xb7b')]));}},{'key':'removeObjectOutline','value':function(_0x3750c8){if(this[_0x536f('0x973')]&&0x0<this[_0x536f('0x973')]['outlinePass'][_0x536f('0xb71')][_0x536f('0xd')])for(var _0xcb8b1d=0x0,_0x4232c9=this[_0x536f('0x973')][_0x536f('0xb6d')][_0x536f('0xb71')][_0x536f('0xd')];_0xcb8b1d<_0x4232c9;_0xcb8b1d++)if(this[_0x536f('0x973')][_0x536f('0xb6d')]['selectedObjects'][_0xcb8b1d][_0x536f('0x1c8')]===_0x3750c8[_0x536f('0x1c8')]){this[_0x536f('0x973')][_0x536f('0xb6d')][_0x536f('0xb71')][_0x536f('0x75')](_0xcb8b1d,0x1);break;}}},{'key':_0x536f('0x9fd'),'value':function(){this[_0x536f('0x973')]&&(this['screenEffect'][_0x536f('0xb6d')][_0x536f('0xb71')][_0x536f('0xd')]=0x0);}},{'key':_0x536f('0xb7c'),'value':function(_0x3750c8){var _0x4232c9=this,_0x3750c8=_0x3750c8[_0x536f('0x8eb')],_0x83c54=void 0x0===_0x3750c8||_0x3750c8;return new _0x5d6a11[(_0x536f('0x6'))](function(_0x3750c8){var _0xcb8b1d;_0x4232c9[_0x536f('0xb7d')]||(_0x83c54?(_0x4232c9[_0x536f('0xb68')]||(_0x4232c9[_0x536f('0xb68')]=new esmap[(_0x536f('0xb7e'))](_0x4232c9[_0x536f('0xcf')])),_0x4232c9[_0x536f('0xb69')]?(_0x4232c9[_0x536f('0xb68')][_0x536f('0xb7f')]['material']=_0x4232c9[_0x536f('0xb69')]['material'],_0x4232c9[_0x536f('0xb68')][_0x536f('0xb7f')]['material']['visible']=_0x83c54,_0x3750c8()):(_0x4232c9['rainScreenEffect']=new _0x2ecf2f[(_0x536f('0xab'))]({}),_0xcb8b1d=_0x4232c9[_0x536f('0xb69')]['createMaterial'](),_0x4232c9['isLockCreateScreenPlane']=!0x0,setTimeout(function(){_0x4232c9['screenPlane'][_0x536f('0xb7f')][_0x536f('0xce')]=_0xcb8b1d,_0x4232c9['isShowRainScreenEffect']=!0x0,_0x4232c9['isLockCreateScreenPlane']=!0x1,_0x3750c8();},0x12c))):_0x4232c9[_0x536f('0xb68')]&&(_0x4232c9[_0x536f('0xb68')]['plane'][_0x536f('0xce')]['visible']=_0x83c54,_0x3750c8()));});}},{'key':_0x536f('0xa01'),'value':function(_0x3750c8){var _0x4232c9=this,_0x3750c8=_0x3750c8[_0x536f('0x8eb')],_0x83c54=void 0x0===_0x3750c8||_0x3750c8;return new _0x5d6a11['default'](function(_0x3750c8){var _0xcb8b1d;_0x4232c9[_0x536f('0xb7d')]||(_0x83c54?(_0x4232c9['screenPlane']||(_0x4232c9[_0x536f('0xb68')]=new esmap[(_0x536f('0xb7e'))](_0x4232c9[_0x536f('0xcf')])),_0x4232c9[_0x536f('0xb6a')]?(_0x4232c9[_0x536f('0xb68')][_0x536f('0xb7f')][_0x536f('0xce')]=_0x4232c9[_0x536f('0xb6a')][_0x536f('0xce')],_0x4232c9['screenPlane'][_0x536f('0xb7f')]['material']['visible']=_0x83c54,_0x3750c8()):(_0x4232c9[_0x536f('0xb6a')]=new _0x2ecf2f['PlaneSnowEffect']({}),_0xcb8b1d=_0x4232c9['snowScreenEffect']['createMaterial'](),_0x4232c9[_0x536f('0xb7d')]=!0x0,setTimeout(function(){_0x4232c9[_0x536f('0xb68')][_0x536f('0xb7f')][_0x536f('0xce')]=_0xcb8b1d,_0x4232c9[_0x536f('0xb6b')]=!0x0,_0x4232c9[_0x536f('0xb7d')]=!0x1,_0x3750c8();},0x12c))):_0x4232c9[_0x536f('0xb68')]&&(_0x4232c9[_0x536f('0xb68')][_0x536f('0xb7f')][_0x536f('0xce')][_0x536f('0x36c')]=_0x83c54,_0x3750c8()));});}},{'key':'removePlaneScreenEffect','value':function(){}},{'key':_0x536f('0xcd'),'value':function(){this[_0x536f('0x973')]&&(this[_0x536f('0x973')][_0x536f('0xcd')](),this[_0x536f('0x9fd')](),this[_0x536f('0xb70')][_0x536f('0xd')]=0x0);}},{'key':_0x536f('0x36a'),'value':function(_0x3750c8){this[_0x536f('0x973')]&&this[_0x536f('0xcf')]['options'][_0x536f('0x969')]&&this[_0x536f('0x973')]['render'](),this[_0x536f('0xb69')]&&this[_0x536f('0xb69')]['shader']&&this['rainScreenEffect'][_0x536f('0x36a')](_0x3750c8),this['snowScreenEffect']&&this[_0x536f('0xb6a')]['shader']&&this['snowScreenEffect'][_0x536f('0x36a')](_0x3750c8);}}]),_0xcb8b1d[_0x536f('0x6')]=_0x22b06c;},function(_0x1887bf,_0x26c5bf,_0x4ef19c){'use strict';Object['defineProperty'](_0x26c5bf,'__esModule',{'value':!0x0});var _0x2da17e=_0x1577dd(_0x4ef19c(0x10)),_0x4fd50a=_0x1577dd(_0x4ef19c(0x0)),_0x53237a=_0x1577dd(_0x4ef19c(0x1));function _0x1577dd(_0x1887bf){return _0x1887bf&&_0x1887bf[_0x536f('0x4')]?_0x1887bf:{'default':_0x1887bf};}function _0x59b51f(_0x1887bf){_0x1887bf=_0x1887bf['map'];(0x0,_0x4fd50a['default'])(this,_0x59b51f),this[_0x536f('0xcf')]=_0x1887bf,this[_0x536f('0x45d')]=!0x0,this[_0x536f('0xb80')]=null,this['isWebGL2']=!0x1,this[_0x536f('0xb81')]=null,this['fxaaPass']=null,this[_0x536f('0xb82')]=null,this[_0x536f('0xb83')]=null,this[_0x536f('0xb6d')]=null,this['scale']=0x1,this[_0x536f('0xb84')]={'width':this[_0x536f('0xcf')][_0x536f('0x48e')]['w_'],'height':this[_0x536f('0xcf')][_0x536f('0x48e')]['h_']},this[_0x536f('0xb85')]={'width':this[_0x536f('0xcf')][_0x536f('0x48e')]['w_']*this[_0x536f('0x1dc')],'height':this['map']['mapView']['h_']*this[_0x536f('0x1dc')]},this[_0x536f('0xb86')]=new THREE['Layers'](),this[_0x536f('0xb86')][_0x536f('0x1b')](0x1),this[_0x536f('0xa00')]={},this[_0x536f('0xb87')]=new THREE[(_0x536f('0x421'))]({'color':_0x536f('0x6e9')}),this[_0x536f('0xb88')]=new THREE[(_0x536f('0x1b8'))](0x0),this[_0x536f('0xb89')]=null,this['relaceBgMaterial']=null,this[_0x536f('0xb7b')]=null;}_0x4ef19c(0x11),_0x4ef19c(0x119),_0x4ef19c(0x11a),_0x4ef19c(0x11b),_0x4ef19c(0x11c),_0x4ef19c(0x11d),_0x4ef19c(0x11e),_0x4ef19c(0x11f),_0x4ef19c(0x120),(0x0,_0x53237a[_0x536f('0x6')])(_0x59b51f,[{'key':_0x536f('0x37d'),'value':function(_0x1887bf){var _0x26c5bf,_0x4ef19c=this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')],_0x4fd50a=this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')],_0x53237a=this[_0x536f('0xcf')][_0x536f('0x48e')]['camera'],_0x1577dd=(_0x4ef19c[_0x536f('0xb8a')](),this[_0x536f('0x1dc')]=1.5,this[_0x536f('0xcf')][_0x536f('0x45')][_0x536f('0xb8b')]||this[_0x536f('0xcf')][_0x536f('0x45')]['perspective']),_0x59b51f=(_0x4ef19c[_0x536f('0x535')][_0x536f('0xb8c')]?(_0x59b51f={'format':_0x1577dd?THREE['RGBAFormat']:THREE[_0x536f('0x48b')],'stencilBuffer':!0x1},_0x3fdacf=_0x4ef19c['getDrawingBufferSize'](new THREE['Vector2']()),_0x3fdacf=new THREE[(_0x536f('0xb8d'))](_0x3fdacf[_0x536f('0x366')],_0x3fdacf['height'],_0x59b51f),this[_0x536f('0xb80')]=new THREE[(_0x536f('0xb8e'))](_0x4ef19c,_0x3fdacf),this[_0x536f('0xb8c')]=!0x0):this[_0x536f('0xb80')]=new THREE[(_0x536f('0xb8e'))](_0x4ef19c),new THREE[(_0x536f('0xb8f'))](_0x4fd50a,_0x53237a)),_0x3fdacf=(this[_0x536f('0xb90')]=new THREE[(_0x536f('0xb91'))](THREE[_0x536f('0xb92')]),null);this['isWebGL2']||((_0x3fdacf=new THREE[(_0x536f('0xb91'))](THREE[_0x536f('0xb93')]))[_0x536f('0xb94')]=!0x1),_0x1887bf[_0x536f('0xac6')]&&(this['defaultOutlineConfig']=(0x0,_0x2da17e[_0x536f('0x6')])({'color':_0x536f('0x36e'),'edgeWidth':0x3,'edgeSpread':0x0,'edgeThickness':0x1,'blink':!0x1,'blinkPeriod':2.5},_0x1887bf[_0x536f('0xac6')]),_0x26c5bf=esmap[_0x536f('0x36')]['getPlatform'](),this[_0x536f('0xb6d')]=new THREE[(_0x536f('0xb95'))](new THREE[(_0x536f('0x1b5'))](this[_0x536f('0xb84')][_0x536f('0x366')],this[_0x536f('0xb84')][_0x536f('0x339')]),_0x4fd50a,_0x53237a),this['outlinePass'][_0x536f('0xb72')]['setStyle'](this['defaultOutlineConfig'][_0x536f('0x21f')]),this[_0x536f('0xb7b')]['hiddenEdgeColor']&&this[_0x536f('0xb6d')][_0x536f('0xb73')]['setStyle'](this[_0x536f('0xb7b')][_0x536f('0xb73')]),this['outlinePass'][_0x536f('0xb75')]=this['defaultOutlineConfig']['edgeWidth'],this[_0x536f('0xb6d')][_0x536f('0xb78')]=this[_0x536f('0xb7b')]['edgeThickness'],_0x26c5bf['platform']&&0x0<=[_0x536f('0x966'),_0x536f('0xb96'),_0x536f('0xb97')]['indexOf'](_0x26c5bf[_0x536f('0x967')])&&(this['outlinePass'][_0x536f('0xb75')]*=0x4,this['outlinePass']['edgeThickness']*=0x4),this[_0x536f('0xb6d')][_0x536f('0xb77')]=this[_0x536f('0xb7b')]['edgeSpread'],this[_0x536f('0xb6d')]['pulsePeriod']=this['defaultOutlineConfig'][_0x536f('0x679')]?this[_0x536f('0xb7b')][_0x536f('0xb79')]:0x0),_0x1887bf['unrealBloom']&&(_0x4fd50a=(0x0,_0x2da17e[_0x536f('0x6')])({'bloomStrength':0x1,'bloomThreshold':0x0,'bloomRadius':0x0,'sceneBackground':new THREE[(_0x536f('0x1b8'))](0x0)},_0x1887bf[_0x536f('0x602')]),this[_0x536f('0xb82')]=new THREE[(_0x536f('0xb98'))](new THREE[(_0x536f('0x1b5'))](this[_0x536f('0xb84')][_0x536f('0x366')],this[_0x536f('0xb84')][_0x536f('0x339')]),1.5,0.4,0.85),this[_0x536f('0xb82')]['renderToScreen']=!0x1,this[_0x536f('0xb82')][_0x536f('0xb99')]=_0x4fd50a[_0x536f('0xb9a')],this['bloomPass']['strength']=_0x4fd50a[_0x536f('0xb9b')],this[_0x536f('0xb82')][_0x536f('0x21d')]=_0x4fd50a[_0x536f('0xb9c')],this[_0x536f('0xb81')]=new THREE[(_0x536f('0xb8e'))](_0x4ef19c),this['bloomComposer']['renderToScreen']=!0x1,this[_0x536f('0xb81')]['addPass'](_0x59b51f),this[_0x536f('0xb8c')]||this['bloomComposer'][_0x536f('0xb9d')](this['fxaaPass']),this[_0x536f('0xb8c')]||this[_0x536f('0xb81')][_0x536f('0xb9d')](_0x3fdacf),this[_0x536f('0xb81')]['addPass'](this[_0x536f('0xb82')]),this['bloomFinalPass']=new THREE[(_0x536f('0xb91'))](new THREE[(_0x536f('0x3b3'))]({'uniforms':{'baseTexture':{'value':null},'bloomTexture':{'value':this[_0x536f('0xb81')][_0x536f('0xb9e')][_0x536f('0x1c7')]}},'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentShader':_0x536f('0xb9f'),'defines':{}}),'baseTexture'),this[_0x536f('0xb83')]['needsSwap']=!0x0,this['map'][_0x536f('0x48e')]['scene'][_0x536f('0x4c7')]?this[_0x536f('0xcf')]['mapView'][_0x536f('0x489')][_0x536f('0x4c7')]instanceof THREE['Texture']&&(this[_0x536f('0xb89')]=this[_0x536f('0xcf')][_0x536f('0x48e')]['scene']['background']):_0x1577dd||(this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x4c7')]=_0x4fd50a[_0x536f('0xba0')],esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x95c')]||(_0x53237a=new THREE[(_0x536f('0x1b8'))](this['map']['mapTheme'][_0x536f('0xba1')]),this['relaceBgMaterial']=new THREE[(_0x536f('0x421'))]({'color':_0x53237a,'side':THREE[_0x536f('0x4a9')]}),this[_0x536f('0x9fe')]['onBeforeCompile']=function(_0x1887bf){_0x1887bf[_0x536f('0x57')]=_0x1887bf[_0x536f('0x57')][_0x536f('0x56')](_0x536f('0x451'),_0x536f('0xba2'));},(_0x26c5bf=new THREE[(_0x536f('0x354'))](new THREE['BoxBufferGeometry'](0x1,0x1,0x1),this[_0x536f('0x9fe')]))['scale'][_0x536f('0x1b')](0x989680,0x989680,0x989680),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')]['add'](_0x26c5bf)))),this[_0x536f('0xb80')]['addPass'](_0x59b51f),_0x1887bf[_0x536f('0x602')]&&this[_0x536f('0xb80')][_0x536f('0xb9d')](this['bloomFinalPass']),_0x1887bf[_0x536f('0xac6')]&&this[_0x536f('0xb80')]['addPass'](this[_0x536f('0xb6d')]),this[_0x536f('0xb8c')]||this[_0x536f('0xb80')]['addPass'](this[_0x536f('0xb90')]),this[_0x536f('0x837')](this[_0x536f('0x1dc')]);}},{'key':'setScale','value':function(_0x1887bf){this[_0x536f('0x1dc')]=_0x1887bf,this[_0x536f('0xd7')]={'width':this[_0x536f('0xb84')][_0x536f('0x366')]*this[_0x536f('0x1dc')],'height':this['originSize']['height']*this[_0x536f('0x1dc')]};}},{'key':_0x536f('0x876'),'value':function(_0x1887bf,_0x26c5bf){this[_0x536f('0xb84')][_0x536f('0x366')]=_0x1887bf,this['originSize'][_0x536f('0x339')]=_0x26c5bf,this[_0x536f('0x837')](this['scale']);}},{'key':'dispose','value':function(){this['relaceBgMaterial']&&(this[_0x536f('0x9fe')][_0x536f('0xcd')](),this[_0x536f('0x9fe')]=null),this[_0x536f('0xb89')]&&(this[_0x536f('0xb89')]=null);}},{'key':'render','value':function(){this[_0x536f('0xb80')]&&(this[_0x536f('0xb81')]&&this[_0x536f('0xba3')](),this[_0x536f('0xb80')][_0x536f('0x36a')](),'3D'==this['map'][_0x536f('0xba4')]?this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0xba5')][_0x536f('0x36a')](this[_0x536f('0xcf')]['mapView'][_0x536f('0x489')],this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x342')]):(this[_0x536f('0xcf')]['mapView'][_0x536f('0x534')][_0x536f('0x36a')](this[_0x536f('0xcf')]['mapView']['scene'],this[_0x536f('0xcf')][_0x536f('0x48e')]['cameraTop']),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0xba5')][_0x536f('0x36a')](this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')],this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0xba6')])),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0xba7')](),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')]['render'](this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0xba8')],this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0xba9')]));}},{'key':_0x536f('0xba3'),'value':function(){this[_0x536f('0xb89')]&&(this['map'][_0x536f('0x48e')][_0x536f('0x489')]['background']=this[_0x536f('0xb88')]),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')]['fog']&&(this['map']['mapView']['scene'][_0x536f('0x1db')][_0x536f('0xbaa')]||(this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')]['fog'][_0x536f('0xbaa')]=new THREE[(_0x536f('0x1b8'))]()['copy'](this[_0x536f('0xcf')]['mapView'][_0x536f('0x489')]['fog']['color'])),this['map'][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1db')][_0x536f('0x21f')][_0x536f('0x1bc')](this['darkColor'])),this['map'][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x41c')](this[_0x536f('0xbab')][_0x536f('0x7')](this)),this[_0x536f('0xb81')][_0x536f('0x36a')](),this[_0x536f('0xb89')]&&(this[_0x536f('0xcf')]['mapView'][_0x536f('0x489')][_0x536f('0x4c7')]=this[_0x536f('0xb89')]),this[_0x536f('0xcf')][_0x536f('0x48e')]['scene'][_0x536f('0x1db')]&&this['map']['mapView'][_0x536f('0x489')][_0x536f('0x1db')][_0x536f('0x21f')][_0x536f('0x1bc')](this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1db')][_0x536f('0xbaa')]),this['map']['mapView']['scene'][_0x536f('0x41c')](this[_0x536f('0xbac')][_0x536f('0x7')](this));}},{'key':'darkenNonBloomed','value':function(_0x1887bf){_0x1887bf[_0x536f('0xce')]&&!0x1===this[_0x536f('0xb86')][_0x536f('0xbad')](_0x1887bf['layers'])&&(this[_0x536f('0xa00')][_0x1887bf[_0x536f('0x1c8')]]=_0x1887bf[_0x536f('0xce')],!0x1!==_0x1887bf[_0x536f('0xce')][_0x536f('0x36c')]&&(_0x536f('0xbae')==_0x1887bf[_0x536f('0x76')]?_0x1887bf[_0x536f('0xce')][_0x536f('0x36c')]=!0x1:_0x1887bf[_0x536f('0xce')]=this[_0x536f('0xb87')]));}},{'key':_0x536f('0xbac'),'value':function(_0x1887bf){this[_0x536f('0xa00')][_0x1887bf[_0x536f('0x1c8')]]&&(_0x1887bf[_0x536f('0xce')]=this[_0x536f('0xa00')][_0x1887bf[_0x536f('0x1c8')]],delete this[_0x536f('0xa00')][_0x1887bf[_0x536f('0x1c8')]]),_0x536f('0xbae')==_0x1887bf[_0x536f('0x76')]&&(_0x1887bf['material'][_0x536f('0x36c')]=!0x0);}},{'key':_0x536f('0xd7'),'set':function(_0x1887bf){this[_0x536f('0xb81')]&&this['bloomComposer'][_0x536f('0xda')](_0x1887bf[_0x536f('0x366')],_0x1887bf['height']),this['isWebGL2']||this[_0x536f('0xb90')][_0x536f('0x168')][_0x536f('0x370')][_0x536f('0x10')][_0x536f('0x1b')](0x1/_0x1887bf[_0x536f('0x366')],0x1/_0x1887bf['height']),this[_0x536f('0xb80')]&&this[_0x536f('0xb80')][_0x536f('0xda')](_0x1887bf[_0x536f('0x366')],_0x1887bf[_0x536f('0x339')]);}}]),_0x26c5bf[_0x536f('0x6')]=_0x59b51f;},function(_0x229574,_0x540660,_0x200ec8){'use strict';var _0x12b315,_0xce78c9,_0x200ec8=_0x200ec8(0x10),_0x200ec8=_0x200ec8&&_0x200ec8['__esModule']?_0x200ec8:{'default':_0x200ec8};function _0x35b99c(_0x229574){this[_0x536f('0x9f0')]=new THREE[(_0x536f('0x354'))](_0xce78c9,_0x229574);}THREE[_0x536f('0xb8e')]=function(_0x229574,_0x540660){var _0x200ec8,_0x12b315;this[_0x536f('0x534')]=_0x229574,void 0x0===_0x540660?(_0x200ec8={'minFilter':THREE[_0x536f('0x432')],'magFilter':THREE[_0x536f('0x432')],'format':THREE['RGBAFormat'],'stencilBuffer':!0x1},_0x12b315=_0x229574['getSize'](new THREE[(_0x536f('0x1b5'))]()),this['_pixelRatio']=_0x229574['getPixelRatio'](),this[_0x536f('0xbaf')]=_0x12b315[_0x536f('0x366')],this[_0x536f('0xbb0')]=_0x12b315[_0x536f('0x339')],(_0x540660=new THREE[(_0x536f('0x73b'))](this[_0x536f('0xbaf')]*this[_0x536f('0xbb1')],this[_0x536f('0xbb0')]*this[_0x536f('0xbb1')],_0x200ec8))[_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0xbb2')):(this['_pixelRatio']=0x1,this['_width']=_0x540660[_0x536f('0x366')],this[_0x536f('0xbb0')]=_0x540660['height']),this['renderTarget1']=_0x540660,this[_0x536f('0xb9e')]=_0x540660[_0x536f('0x1b1')](),this['renderTarget2'][_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0xbb3'),this[_0x536f('0xbb4')]=this['renderTarget1'],this[_0x536f('0xbb5')]=this[_0x536f('0xb9e')],this['renderToScreen']=!0x0,this[_0x536f('0xbb6')]=[],void 0x0===THREE['CopyShader']&&console[_0x536f('0x1f9')](_0x536f('0xbb7')),void 0x0===THREE['ShaderPass']&&console[_0x536f('0x1f9')](_0x536f('0xbb8')),this['copyPass']=new THREE['ShaderPass'](THREE['CopyShader']),this[_0x536f('0xbb9')]=new THREE[(_0x536f('0xbba'))]();},(0x0,_0x200ec8['default'])(THREE[_0x536f('0xb8e')]['prototype'],{'swapBuffers':function(){var _0x229574=this[_0x536f('0xbb5')];this[_0x536f('0xbb5')]=this[_0x536f('0xbb4')],this[_0x536f('0xbb4')]=_0x229574;},'addPass':function(_0x229574){this['passes']['push'](_0x229574);var _0x540660=this[_0x536f('0x534')][_0x536f('0xbbb')](new THREE[(_0x536f('0x1b5'))]());_0x229574['setSize'](_0x540660['width'],_0x540660[_0x536f('0x339')]);},'insertPass':function(_0x229574,_0x540660){this['passes'][_0x536f('0x75')](_0x540660,0x0,_0x229574);},'isLastEnabledPass':function(_0x229574){for(var _0x540660=_0x229574+0x1;_0x540660<this[_0x536f('0xbb6')]['length'];_0x540660++)if(this[_0x536f('0xbb6')][_0x540660][_0x536f('0x45d')])return!0x1;return!0x0;},'render':function(_0x229574){void 0x0===_0x229574&&(_0x229574=this[_0x536f('0xbb9')][_0x536f('0xbbc')]());for(var _0x540660,_0x200ec8,_0x12b315=this['renderer']['getRenderTarget'](),_0xce78c9=!0x1,_0x35b99c=this['passes']['length'],_0x5af821=0x0;_0x5af821<_0x35b99c;_0x5af821++)!0x1!==(_0x200ec8=this[_0x536f('0xbb6')][_0x5af821])['enabled']&&(_0x200ec8[_0x536f('0xb94')]=this[_0x536f('0xb94')]&&this[_0x536f('0xbbd')](_0x5af821),_0x200ec8['render'](this['renderer'],this[_0x536f('0xbb4')],this[_0x536f('0xbb5')],_0x229574,_0xce78c9),_0x200ec8[_0x536f('0xbbe')]&&(_0xce78c9&&((_0x540660=this['renderer'][_0x536f('0xbbf')])[_0x536f('0xbc0')](_0x540660[_0x536f('0xbc1')],0x1,0xffffffff),this[_0x536f('0xbc2')][_0x536f('0x36a')](this[_0x536f('0x534')],this[_0x536f('0xbb4')],this[_0x536f('0xbb5')],_0x229574),_0x540660[_0x536f('0xbc0')](_0x540660['EQUAL'],0x1,0xffffffff)),this[_0x536f('0xbc3')]()),void 0x0!==THREE[_0x536f('0xbc4')]&&(_0x200ec8 instanceof THREE['MaskPass']?_0xce78c9=!0x0:_0x200ec8 instanceof THREE['ClearMaskPass']&&(_0xce78c9=!0x1)));this['renderer'][_0x536f('0x732')](_0x12b315);},'reset':function(_0x229574){var _0x540660;void 0x0===_0x229574&&(_0x540660=this[_0x536f('0x534')][_0x536f('0xbc5')](new THREE[(_0x536f('0x1b5'))]()),this[_0x536f('0xbb1')]=this[_0x536f('0x534')]['getPixelRatio'](),this[_0x536f('0xbaf')]=_0x540660[_0x536f('0x366')],this[_0x536f('0xbb0')]=_0x540660['height'],(_0x229574=this[_0x536f('0xbc6')]['clone']())[_0x536f('0xda')](this[_0x536f('0xbaf')]*this['_pixelRatio'],this[_0x536f('0xbb0')]*this[_0x536f('0xbb1')])),this[_0x536f('0xbc6')]['dispose'](),this['renderTarget2']['dispose'](),this[_0x536f('0xbc6')]=_0x229574,this[_0x536f('0xb9e')]=_0x229574['clone'](),this['writeBuffer']=this[_0x536f('0xbc6')],this['readBuffer']=this['renderTarget2'];},'setSize':function(_0x229574,_0x540660){this[_0x536f('0xbaf')]=_0x229574,this[_0x536f('0xbb0')]=_0x540660;var _0x200ec8=this[_0x536f('0xbaf')]*this[_0x536f('0xbb1')],_0x12b315=this[_0x536f('0xbb0')]*this['_pixelRatio'];this[_0x536f('0xbc6')][_0x536f('0xda')](_0x200ec8,_0x12b315),this[_0x536f('0xb9e')][_0x536f('0xda')](_0x200ec8,_0x12b315);for(var _0xce78c9=0x0;_0xce78c9<this[_0x536f('0xbb6')]['length'];_0xce78c9++)this[_0x536f('0xbb6')][_0xce78c9][_0x536f('0xda')](_0x200ec8,_0x12b315);},'setPixelRatio':function(_0x229574){this[_0x536f('0xbb1')]=_0x229574,this[_0x536f('0xda')](this[_0x536f('0xbaf')],this[_0x536f('0xbb0')]);}}),THREE['Pass']=function(){this[_0x536f('0x45d')]=!0x0,this['needsSwap']=!0x0,this['clear']=!0x1,this[_0x536f('0xb94')]=!0x1;},(0x0,_0x200ec8['default'])(THREE[_0x536f('0xbc7')][_0x536f('0x8')],{'setSize':function(){},'render':function(){console[_0x536f('0x1f9')](_0x536f('0xbc8'));}}),THREE[_0x536f('0xbc7')][_0x536f('0xbc9')]=(_0x12b315=new THREE['OrthographicCamera'](-0x1,0x1,0x1,-0x1,0x0,0x1),_0xce78c9=new THREE[(_0x536f('0x428'))](0x2,0x2),Object[_0x536f('0x1')](_0x35b99c['prototype'],_0x536f('0xce'),{'get':function(){return this[_0x536f('0x9f0')][_0x536f('0xce')];},'set':function(_0x229574){this[_0x536f('0x9f0')][_0x536f('0xce')]=_0x229574;}}),(0x0,_0x200ec8[_0x536f('0x6')])(_0x35b99c['prototype'],{'render':function(_0x229574){_0x229574[_0x536f('0x36a')](this[_0x536f('0x9f0')],_0x12b315);}}),_0x35b99c);},function(_0x878a5,_0xa52223,_0x27f9a4){'use strict';var _0xbde26c=_0x115efc(_0x27f9a4(0x1f)),_0x27f9a4=_0x115efc(_0x27f9a4(0x10));function _0x115efc(_0x878a5){return _0x878a5&&_0x878a5[_0x536f('0x4')]?_0x878a5:{'default':_0x878a5};}THREE['RenderPass']=function(_0x878a5,_0xa52223,_0x27f9a4,_0xbde26c,_0x115efc){THREE['Pass']['call'](this),this[_0x536f('0x489')]=_0x878a5,this[_0x536f('0x342')]=_0xa52223,this[_0x536f('0xbca')]=_0x27f9a4,this[_0x536f('0xbcb')]=_0xbde26c,this[_0x536f('0xbcc')]=void 0x0!==_0x115efc?_0x115efc:0x0,this['clear']=!0x0,this[_0x536f('0xba7')]=!0x1,this[_0x536f('0xbbe')]=!0x1;},THREE[_0x536f('0xb8f')]['prototype']=(0x0,_0x27f9a4[_0x536f('0x6')])((0x0,_0xbde26c[_0x536f('0x6')])(THREE[_0x536f('0xbc7')]['prototype']),{'constructor':THREE[_0x536f('0xb8f')],'render':function(_0x878a5,_0xa52223,_0x27f9a4){var _0xbde26c,_0x115efc,_0x1d5bf5=_0x878a5[_0x536f('0xbcd')];_0x878a5[_0x536f('0xbcd')]=!0x1,this[_0x536f('0x489')]['overrideMaterial']=this[_0x536f('0xbca')],this[_0x536f('0xbcb')]&&(_0xbde26c=_0x878a5[_0x536f('0xbce')]()[_0x536f('0x1bd')](),_0x115efc=_0x878a5[_0x536f('0xbcf')](),_0x878a5[_0x536f('0xbd0')](this['clearColor'],this[_0x536f('0xbcc')])),this[_0x536f('0xba7')]&&_0x878a5[_0x536f('0xba7')](),_0x878a5[_0x536f('0x732')](this['renderToScreen']?null:_0x27f9a4),this[_0x536f('0x2dc')]&&_0x878a5[_0x536f('0x2dc')](_0x878a5[_0x536f('0xbd1')],_0x878a5['autoClearDepth'],_0x878a5[_0x536f('0xbd2')]),_0x878a5[_0x536f('0x36a')](this[_0x536f('0x489')],this[_0x536f('0x342')]),this[_0x536f('0xbcb')]&&_0x878a5['setClearColor'](_0xbde26c,_0x115efc),this[_0x536f('0x489')][_0x536f('0xbca')]=null,_0x878a5[_0x536f('0xbcd')]=_0x1d5bf5;}});},function(_0x36f872,_0x105e7b,_0x92f71a){'use strict';var _0x5acf76=_0x5df7a8(_0x92f71a(0x1f)),_0x3b947d=_0x5df7a8(_0x92f71a(0x10));function _0x5df7a8(_0x36f872){return _0x36f872&&_0x36f872[_0x536f('0x4')]?_0x36f872:{'default':_0x36f872};}THREE['ShaderPass']=function(_0x36f872,_0x105e7b){THREE[_0x536f('0xbc7')][_0x536f('0xa')](this),this[_0x536f('0xbd3')]=void 0x0!==_0x105e7b?_0x105e7b:_0x536f('0xbd4'),_0x36f872 instanceof THREE[_0x536f('0x3b3')]?(this[_0x536f('0x168')]=_0x36f872[_0x536f('0x168')],this['material']=_0x36f872):_0x36f872&&(this[_0x536f('0x168')]=THREE['UniformsUtils'][_0x536f('0x1b1')](_0x36f872[_0x536f('0x168')]),this[_0x536f('0xce')]=new THREE[(_0x536f('0x3b3'))]({'defines':(0x0,_0x3b947d[_0x536f('0x6')])({},_0x36f872[_0x536f('0x167')]),'uniforms':this['uniforms'],'vertexShader':_0x36f872['vertexShader'],'fragmentShader':_0x36f872[_0x536f('0x58')]})),this[_0x536f('0xbd5')]=new THREE['Pass']['FullScreenQuad'](this[_0x536f('0xce')]);},THREE[_0x536f('0xb91')][_0x536f('0x8')]=(0x0,_0x3b947d[_0x536f('0x6')])((0x0,_0x5acf76[_0x536f('0x6')])(THREE[_0x536f('0xbc7')]['prototype']),{'constructor':THREE[_0x536f('0xb91')],'render':function(_0x36f872,_0x105e7b,_0x92f71a){this[_0x536f('0x168')][this[_0x536f('0xbd3')]]&&(this[_0x536f('0x168')][this['textureID']][_0x536f('0x10')]=_0x92f71a['texture']),this[_0x536f('0xbd5')]['material']=this[_0x536f('0xce')],this[_0x536f('0xb94')]?_0x36f872[_0x536f('0x732')](null):(_0x36f872[_0x536f('0x732')](_0x105e7b),this[_0x536f('0x2dc')]&&_0x36f872[_0x536f('0x2dc')](_0x36f872[_0x536f('0xbd1')],_0x36f872[_0x536f('0xbd6')],_0x36f872[_0x536f('0xbd2')])),this[_0x536f('0xbd5')]['render'](_0x36f872);}});},function(_0x3e630d,_0xb110bb,_0x13470a){'use strict';var _0x4a02ee=_0xed2f4a(_0x13470a(0x1f)),_0x13470a=_0xed2f4a(_0x13470a(0x10));function _0xed2f4a(_0x3e630d){return _0x3e630d&&_0x3e630d[_0x536f('0x4')]?_0x3e630d:{'default':_0x3e630d};}THREE[_0x536f('0xb98')]=function(_0x3e630d,_0xb110bb,_0x13470a,_0x4a02ee){THREE['Pass'][_0x536f('0xa')](this),this['strength']=void 0x0!==_0xb110bb?_0xb110bb:0x1,this[_0x536f('0x21d')]=_0x13470a,this[_0x536f('0xb99')]=_0x4a02ee,this['resolution']=void 0x0!==_0x3e630d?new THREE['Vector2'](_0x3e630d['x'],_0x3e630d['y']):new THREE[(_0x536f('0x1b5'))](0x100,0x100),this[_0x536f('0xbcb')]=new THREE[(_0x536f('0x1b8'))](0x0,0x0,0x0);var _0xed2f4a={'minFilter':THREE[_0x536f('0x432')],'magFilter':THREE[_0x536f('0x432')],'format':THREE['RGBAFormat']},_0x121c2f=(this[_0x536f('0xbd7')]=[],this[_0x536f('0xbd8')]=[],this['nMips']=0x5,Math[_0x536f('0x1c0')](this['resolution']['x']/0x2)),_0x214734=Math[_0x536f('0x1c0')](this[_0x536f('0x370')]['y']/0x2);this[_0x536f('0xbd9')]=new THREE[(_0x536f('0x73b'))](_0x121c2f,_0x214734,_0xed2f4a),this[_0x536f('0xbd9')][_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0xbda'),this[_0x536f('0xbd9')][_0x536f('0x1c7')][_0x536f('0x737')]=!0x1;for(var _0x4b4ec2=0x0;_0x4b4ec2<this[_0x536f('0xbdb')];_0x4b4ec2++){var _0x41e6de=new THREE['WebGLRenderTarget'](_0x121c2f,_0x214734,_0xed2f4a),_0x41e6de=(_0x41e6de[_0x536f('0x1c7')]['name']='UnrealBloomPass.h'+_0x4b4ec2,_0x41e6de[_0x536f('0x1c7')][_0x536f('0x737')]=!0x1,this[_0x536f('0xbd7')][_0x536f('0x82')](_0x41e6de),new THREE[(_0x536f('0x73b'))](_0x121c2f,_0x214734,_0xed2f4a));_0x41e6de[_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0xbdc')+_0x4b4ec2,_0x41e6de[_0x536f('0x1c7')][_0x536f('0x737')]=!0x1,this[_0x536f('0xbd8')][_0x536f('0x82')](_0x41e6de),_0x121c2f=Math['round'](_0x121c2f/0x2),_0x214734=Math[_0x536f('0x1c0')](_0x214734/0x2);}void 0x0===THREE[_0x536f('0xbdd')]&&console[_0x536f('0x1f9')]('THREE.UnrealBloomPass\x20relies\x20on\x20THREE.LuminosityHighPassShader');for(var _0x13470a=THREE[_0x536f('0xbdd')],_0x36bc01=(this[_0x536f('0xbde')]=THREE[_0x536f('0x4ce')][_0x536f('0x1b1')](_0x13470a[_0x536f('0x168')]),this[_0x536f('0xbde')][_0x536f('0xbdf')][_0x536f('0x10')]=_0x4a02ee,this[_0x536f('0xbde')][_0x536f('0xbe0')][_0x536f('0x10')]=0.01,this[_0x536f('0xbe1')]=new THREE[(_0x536f('0x3b3'))]({'uniforms':this[_0x536f('0xbde')],'vertexShader':_0x13470a['vertexShader'],'fragmentShader':_0x13470a[_0x536f('0x58')],'defines':{}}),this[_0x536f('0xbe2')]=[],[0x3,0x5,0x7,0x9,0xb]),_0x121c2f=Math['round'](this[_0x536f('0x370')]['x']/0x2),_0x214734=Math['round'](this['resolution']['y']/0x2),_0x4b4ec2=0x0;_0x4b4ec2<this[_0x536f('0xbdb')];_0x4b4ec2++)this['separableBlurMaterials'][_0x536f('0x82')](this[_0x536f('0xbe3')](_0x36bc01[_0x4b4ec2])),this[_0x536f('0xbe2')][_0x4b4ec2][_0x536f('0x168')][_0x536f('0xbe4')][_0x536f('0x10')]=new THREE[(_0x536f('0x1b5'))](_0x121c2f,_0x214734),_0x121c2f=Math[_0x536f('0x1c0')](_0x121c2f/0x2),_0x214734=Math[_0x536f('0x1c0')](_0x214734/0x2);this[_0x536f('0xbe5')]=this[_0x536f('0xbe6')](this['nMips']),this[_0x536f('0xbe5')][_0x536f('0x168')]['blurTexture1']['value']=this[_0x536f('0xbd8')][0x0][_0x536f('0x1c7')],this[_0x536f('0xbe5')][_0x536f('0x168')][_0x536f('0xbe7')][_0x536f('0x10')]=this[_0x536f('0xbd8')][0x1]['texture'],this['compositeMaterial']['uniforms']['blurTexture3']['value']=this[_0x536f('0xbd8')][0x2][_0x536f('0x1c7')],this['compositeMaterial'][_0x536f('0x168')]['blurTexture4'][_0x536f('0x10')]=this['renderTargetsVertical'][0x3][_0x536f('0x1c7')],this[_0x536f('0xbe5')][_0x536f('0x168')]['blurTexture5'][_0x536f('0x10')]=this[_0x536f('0xbd8')][0x4][_0x536f('0x1c7')],this[_0x536f('0xbe5')][_0x536f('0x168')][_0x536f('0xb9b')][_0x536f('0x10')]=_0xb110bb,this[_0x536f('0xbe5')]['uniforms'][_0x536f('0xb9c')][_0x536f('0x10')]=0.1,this[_0x536f('0xbe5')]['needsUpdate']=!0x0,this[_0x536f('0xbe5')][_0x536f('0x168')][_0x536f('0xbe8')]['value']=[0x1,0.8,0.6,0.4,0.2],this['bloomTintColors']=[new THREE[(_0x536f('0x59'))](0x1,0x1,0x1),new THREE[(_0x536f('0x59'))](0x1,0x1,0x1),new THREE[(_0x536f('0x59'))](0x1,0x1,0x1),new THREE[(_0x536f('0x59'))](0x1,0x1,0x1),new THREE['Vector3'](0x1,0x1,0x1)],this[_0x536f('0xbe5')]['uniforms'][_0x536f('0xbe9')][_0x536f('0x10')]=this[_0x536f('0xbe9')],void 0x0===THREE[_0x536f('0xb93')]&&console[_0x536f('0x1f9')](_0x536f('0xbea'));_0x3e630d=THREE[_0x536f('0xb93')];this[_0x536f('0xbeb')]=THREE[_0x536f('0x4ce')][_0x536f('0x1b1')](_0x3e630d['uniforms']),this['copyUniforms'][_0x536f('0x201')][_0x536f('0x10')]=0x1,this[_0x536f('0xbec')]=new THREE[(_0x536f('0x3b3'))]({'uniforms':this['copyUniforms'],'vertexShader':_0x3e630d[_0x536f('0x57')],'fragmentShader':_0x3e630d[_0x536f('0x58')],'blending':THREE[_0x536f('0x44b')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this[_0x536f('0x45d')]=!0x0,this['needsSwap']=!0x1,this['oldClearColor']=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0xbed')]=0x1,this['basic']=new THREE['MeshBasicMaterial'](),this[_0x536f('0xbd5')]=new THREE[(_0x536f('0xbc7'))]['FullScreenQuad'](null);},THREE[_0x536f('0xb98')][_0x536f('0x8')]=(0x0,_0x13470a[_0x536f('0x6')])((0x0,_0x4a02ee[_0x536f('0x6')])(THREE[_0x536f('0xbc7')]['prototype']),{'constructor':THREE[_0x536f('0xb98')],'dispose':function(){for(var _0x3e630d=0x0;_0x3e630d<this[_0x536f('0xbd7')][_0x536f('0xd')];_0x3e630d++)this[_0x536f('0xbd7')][_0x3e630d]['dispose']();for(_0x3e630d=0x0;_0x3e630d<this[_0x536f('0xbd8')][_0x536f('0xd')];_0x3e630d++)this['renderTargetsVertical'][_0x3e630d][_0x536f('0xcd')]();this[_0x536f('0xbd9')][_0x536f('0xcd')]();},'setSize':function(_0x3e630d,_0xb110bb){var _0x13470a=Math['round'](_0x3e630d/0x2),_0x4a02ee=Math['round'](_0xb110bb/0x2);this[_0x536f('0xbd9')][_0x536f('0xda')](_0x13470a,_0x4a02ee);for(var _0xed2f4a=0x0;_0xed2f4a<this[_0x536f('0xbdb')];_0xed2f4a++)this[_0x536f('0xbd7')][_0xed2f4a][_0x536f('0xda')](_0x13470a,_0x4a02ee),this['renderTargetsVertical'][_0xed2f4a]['setSize'](_0x13470a,_0x4a02ee),this[_0x536f('0xbe2')][_0xed2f4a][_0x536f('0x168')][_0x536f('0xbe4')][_0x536f('0x10')]=new THREE[(_0x536f('0x1b5'))](_0x13470a,_0x4a02ee),_0x13470a=Math[_0x536f('0x1c0')](_0x13470a/0x2),_0x4a02ee=Math[_0x536f('0x1c0')](_0x4a02ee/0x2);},'render':function(_0x3e630d,_0xb110bb,_0x13470a,_0x4a02ee,_0xed2f4a){this[_0x536f('0xbee')]['copy'](_0x3e630d[_0x536f('0xbce')]()),this[_0x536f('0xbed')]=_0x3e630d[_0x536f('0xbcf')]();for(var _0x3cae74=_0x3e630d[_0x536f('0xbcd')],_0x46c12d=(_0x3e630d['autoClear']=!0x1,_0x3e630d['setClearColor'](this['clearColor'],0x0),_0xed2f4a&&_0x3e630d[_0x536f('0xbbf')][_0x536f('0x212')](_0x3e630d['context'][_0x536f('0xbef')]),this[_0x536f('0xb94')]&&(this[_0x536f('0xbd5')][_0x536f('0xce')]=this[_0x536f('0x7b2')],this[_0x536f('0x7b2')]['map']=_0x13470a[_0x536f('0x1c7')],_0x3e630d[_0x536f('0x732')](null),_0x3e630d[_0x536f('0x2dc')](),this[_0x536f('0xbd5')][_0x536f('0x36a')](_0x3e630d)),this[_0x536f('0xbde')][_0x536f('0xbd4')][_0x536f('0x10')]=_0x13470a[_0x536f('0x1c7')],this['highPassUniforms']['luminosityThreshold']['value']=this[_0x536f('0xb99')],this[_0x536f('0xbd5')][_0x536f('0xce')]=this['materialHighPassFilter'],_0x3e630d[_0x536f('0x732')](this[_0x536f('0xbd9')]),_0x3e630d['clear'](),this[_0x536f('0xbd5')][_0x536f('0x36a')](_0x3e630d),this[_0x536f('0xbd9')]),_0x58be39=0x0;_0x58be39<this[_0x536f('0xbdb')];_0x58be39++)this[_0x536f('0xbd5')][_0x536f('0xce')]=this[_0x536f('0xbe2')][_0x58be39],this[_0x536f('0xbe2')][_0x58be39][_0x536f('0x168')][_0x536f('0xbf0')][_0x536f('0x10')]=_0x46c12d[_0x536f('0x1c7')],this[_0x536f('0xbe2')][_0x58be39]['uniforms']['direction'][_0x536f('0x10')]=THREE[_0x536f('0xb98')]['BlurDirectionX'],_0x3e630d[_0x536f('0x732')](this[_0x536f('0xbd7')][_0x58be39]),_0x3e630d['clear'](),this[_0x536f('0xbd5')]['render'](_0x3e630d),this[_0x536f('0xbe2')][_0x58be39][_0x536f('0x168')][_0x536f('0xbf0')][_0x536f('0x10')]=this[_0x536f('0xbd7')][_0x58be39][_0x536f('0x1c7')],this[_0x536f('0xbe2')][_0x58be39][_0x536f('0x168')]['direction'][_0x536f('0x10')]=THREE[_0x536f('0xb98')][_0x536f('0xbf1')],_0x3e630d[_0x536f('0x732')](this[_0x536f('0xbd8')][_0x58be39]),_0x3e630d[_0x536f('0x2dc')](),this[_0x536f('0xbd5')][_0x536f('0x36a')](_0x3e630d),_0x46c12d=this['renderTargetsVertical'][_0x58be39];this[_0x536f('0xbd5')][_0x536f('0xce')]=this[_0x536f('0xbe5')],this['compositeMaterial'][_0x536f('0x168')][_0x536f('0xb9b')]['value']=this[_0x536f('0xbf2')],this['compositeMaterial']['uniforms'][_0x536f('0xb9c')]['value']=this[_0x536f('0x21d')],this['compositeMaterial'][_0x536f('0x168')]['bloomTintColors'][_0x536f('0x10')]=this[_0x536f('0xbe9')],_0x3e630d[_0x536f('0x732')](this[_0x536f('0xbd7')][0x0]),_0x3e630d[_0x536f('0x2dc')](),this[_0x536f('0xbd5')][_0x536f('0x36a')](_0x3e630d),this[_0x536f('0xbd5')][_0x536f('0xce')]=this[_0x536f('0xbec')],this[_0x536f('0xbeb')]['tDiffuse'][_0x536f('0x10')]=this[_0x536f('0xbd7')][0x0][_0x536f('0x1c7')],_0xed2f4a&&_0x3e630d['context'][_0x536f('0x211')](_0x3e630d[_0x536f('0xbbf')][_0x536f('0xbef')]),this[_0x536f('0xb94')]?_0x3e630d[_0x536f('0x732')](null):_0x3e630d[_0x536f('0x732')](_0x13470a),this[_0x536f('0xbd5')][_0x536f('0x36a')](_0x3e630d),_0x3e630d[_0x536f('0xbd0')](this[_0x536f('0xbee')],this['oldClearAlpha']),_0x3e630d[_0x536f('0xbcd')]=_0x3cae74;},'getSeperableBlurMaterial':function(_0x3e630d){return new THREE[(_0x536f('0x3b3'))]({'defines':{'KERNEL_RADIUS':_0x3e630d,'SIGMA':_0x3e630d},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE[(_0x536f('0x1b5'))](0.5,0.5)},'direction':{'value':new THREE[(_0x536f('0x1b5'))](0.5,0.5)}},'vertexShader':_0x536f('0x724'),'fragmentShader':'#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x0a\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20fSigma\x20=\x20float(SIGMA);\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20fSigma);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<\x20KERNEL_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20x\x20=\x20float(i);\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(x,\x20fSigma);\x09\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20direction\x20*\x20invSize\x20*\x20x;\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20(sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w;\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x202.0\x20*\x20w;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x0a\x09\x09\x09\x09}'});},'getCompositeMaterial':function(_0x3e630d){return new THREE[(_0x536f('0x3b3'))]({'defines':{'NUM_MIPS':_0x3e630d},'uniforms':{'blurTexture1':{'value':null},'blurTexture2':{'value':null},'blurTexture3':{'value':null},'blurTexture4':{'value':null},'blurTexture5':{'value':null},'dirtTexture':{'value':null},'bloomStrength':{'value':0x1},'bloomFactors':{'value':null},'bloomTintColors':{'value':null},'bloomRadius':{'value':0x0}},'vertexShader':_0x536f('0x724'),'fragmentShader':_0x536f('0xbf3')});}}),THREE[_0x536f('0xb98')]['BlurDirectionX']=new THREE['Vector2'](0x1,0x0),THREE[_0x536f('0xb98')][_0x536f('0xbf1')]=new THREE[(_0x536f('0x1b5'))](0x0,0x1);},function(_0x4bed05,_0x18875b,_0x3bd502){'use strict';THREE[_0x536f('0xb93')]={'uniforms':{'tDiffuse':{'value':null},'opacity':{'value':0x1}},'vertexShader':[_0x536f('0xbf4'),_0x536f('0x1a0'),_0x536f('0xbf5'),_0x536f('0xbf6'),'}']['join']('\x0a'),'fragmentShader':['uniform\x20float\x20opacity;',_0x536f('0xbf7'),_0x536f('0xbf4'),'void\x20main()\x20{',_0x536f('0xbf8'),'gl_FragColor\x20=\x20opacity\x20*\x20texel;','}'][_0x536f('0x107')]('\x0a')};},function(_0x46491d,_0x40a8c3,_0x13c641){'use strict';THREE[_0x536f('0xbdd')]={'shaderID':'luminosityHighPass','uniforms':{'tDiffuse':{'value':null},'luminosityThreshold':{'value':0x1},'smoothWidth':{'value':0x1},'defaultColor':{'value':new THREE['Color'](0x0)},'defaultOpacity':{'value':0x0}},'vertexShader':[_0x536f('0xbf4'),_0x536f('0x1a0'),_0x536f('0xbf5'),_0x536f('0xbf6'),'}']['join']('\x0a'),'fragmentShader':[_0x536f('0xbf7'),_0x536f('0xbf9'),_0x536f('0xbfa'),'uniform\x20float\x20luminosityThreshold;',_0x536f('0xbfb'),_0x536f('0xbf4'),_0x536f('0x1a0'),'vec4\x20texel\x20=\x20texture2D(\x20tDiffuse,\x20vUv\x20);','vec3\x20luma\x20=\x20vec3(\x200.299,\x200.587,\x200.114\x20);','float\x20v\x20=\x20dot(\x20texel.xyz,\x20luma\x20);',_0x536f('0xbfc'),_0x536f('0xbfd'),_0x536f('0xbfe'),'}'][_0x536f('0x107')]('\x0a')};},function(_0x16a142,_0x3ad050,_0x403c57){'use strict';THREE[_0x536f('0xb92')]={'uniforms':{'tDiffuse':{'value':null},'resolution':{'value':new THREE[(_0x536f('0x1b5'))](0x1/0x400,0x1/0x200)}},'vertexShader':[_0x536f('0xbf4'),_0x536f('0x1a0'),_0x536f('0xbf5'),'gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}']['join']('\x0a'),'fragmentShader':['precision\x20highp\x20float;','',_0x536f('0xbf7'),'',_0x536f('0x3d4'),'',_0x536f('0xbf4'),'',_0x536f('0xbff'),'',_0x536f('0xc00'),'//\x20File:\x20\x20\x20\x20\x20\x20\x20\x20es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag',_0x536f('0xc01'),'//\x20Email:\x20\x20\x20\x20\x20\x20\x20gameworks@nvidia.com',_0x536f('0xc02'),'//','//\x20Copyright\x20(c)\x202014-2015,\x20NVIDIA\x20CORPORATION.\x20All\x20rights\x20reserved.','//',_0x536f('0xc03'),_0x536f('0xc04'),'//\x20are\x20met:','//\x20\x20*\x20Redistributions\x20of\x20source\x20code\x20must\x20retain\x20the\x20above\x20copyright',_0x536f('0xc05'),'//\x20\x20*\x20Redistributions\x20in\x20binary\x20form\x20must\x20reproduce\x20the\x20above\x20copyright',_0x536f('0xc06'),_0x536f('0xc07'),'//\x20\x20*\x20Neither\x20the\x20name\x20of\x20NVIDIA\x20CORPORATION\x20nor\x20the\x20names\x20of\x20its',_0x536f('0xc08'),_0x536f('0xc09'),'//',_0x536f('0xc0a'),_0x536f('0xc0b'),'//\x20IMPLIED\x20WARRANTIES\x20OF\x20MERCHANTABILITY\x20AND\x20FITNESS\x20FOR\x20A\x20PARTICULAR',_0x536f('0xc0c'),_0x536f('0xc0d'),_0x536f('0xc0e'),_0x536f('0xc0f'),'//\x20PROFITS;\x20OR\x20BUSINESS\x20INTERRUPTION)\x20HOWEVER\x20CAUSED\x20AND\x20ON\x20ANY\x20THEORY',_0x536f('0xc10'),_0x536f('0xc11'),'//\x20OF\x20THIS\x20SOFTWARE,\x20EVEN\x20IF\x20ADVISED\x20OF\x20THE\x20POSSIBILITY\x20OF\x20SUCH\x20DAMAGE.','//',_0x536f('0xc00'),'','#define\x20FXAA_PC\x201','#define\x20FXAA_GLSL_100\x201','#define\x20FXAA_QUALITY_PRESET\x2012','',_0x536f('0xc12'),'','/*--------------------------------------------------------------------------*/',_0x536f('0xc13'),'\x20\x20\x20\x20//',_0x536f('0xc14'),_0x536f('0xc15'),'\x20\x20\x20\x20//\x20Likely\x20better\x20to\x20just\x20run\x20FXAA_PC,\x20and\x20use\x20a\x20really\x20low\x20preset.','\x20\x20\x20\x20//','\x20\x20\x20\x20#define\x20FXAA_PC_CONSOLE\x200',_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xc17'),_0x536f('0xc18'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xc19'),_0x536f('0xc1a'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xc1b'),_0x536f('0xc1c'),'#endif','/*--------------------------------------------------------------------------*/','#ifndef\x20FXAA_HLSL_4',_0x536f('0xc1d'),'#endif',_0x536f('0xc16'),_0x536f('0xc1e'),'\x20\x20\x20\x20#define\x20FXAA_HLSL_5\x200','#endif',_0x536f('0xc1f'),_0x536f('0xc20'),'\x20\x20\x20\x20//',_0x536f('0xc21'),_0x536f('0xc22'),'\x20\x20\x20\x20//\x20this\x20enables\x20FXAA\x20to\x20run\x20using\x20green\x20as\x20a\x20proxy\x20for\x20luma.',_0x536f('0xc23'),'\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20This\x20will\x20turn\x20off\x20AA\x20on\x20anything\x20which\x20lacks\x20some\x20amount\x20of\x20green.',_0x536f('0xc24'),_0x536f('0xc25'),_0x536f('0xc26'),_0x536f('0xc27'),_0x536f('0xc28'),_0x536f('0xc29'),_0x536f('0xc2a'),_0x536f('0xc25'),'\x20\x20\x20\x20//\x201\x20=\x20On.','\x20\x20\x20\x20//\x200\x20=\x20Off.',_0x536f('0xc25'),_0x536f('0xc2b'),_0x536f('0x115'),_0x536f('0xc16'),'#ifndef\x20FXAA_EARLY_EXIT','\x20\x20\x20\x20//',_0x536f('0xc2c'),_0x536f('0xc2d'),_0x536f('0xc2e'),_0x536f('0xc2f'),_0x536f('0xc30'),_0x536f('0xc25'),'\x20\x20\x20\x20//\x201\x20=\x20On.',_0x536f('0xc31'),_0x536f('0xc25'),_0x536f('0xc32'),_0x536f('0x115'),_0x536f('0xc16'),'#ifndef\x20FXAA_DISCARD',_0x536f('0xc25'),_0x536f('0xc33'),_0x536f('0xc34'),_0x536f('0xc25'),_0x536f('0xc35'),'\x20\x20\x20\x20//\x20\x20\x20\x20\x20For\x20APIs\x20which\x20enable\x20concurrent\x20TEX+ROP\x20from\x20same\x20surface.',_0x536f('0xc36'),'\x20\x20\x20\x20//',_0x536f('0xc37'),_0x536f('0x115'),_0x536f('0xc16'),'#ifndef\x20FXAA_FAST_PIXEL_OFFSET',_0x536f('0xc25'),_0x536f('0xc38'),_0x536f('0xc25'),_0x536f('0xc39'),_0x536f('0xc3a'),_0x536f('0xc25'),_0x536f('0xc3b'),_0x536f('0xc3c'),_0x536f('0x161'),'\x20\x20\x20\x20#ifdef\x20GL_NV_gpu_shader5',_0x536f('0xc3c'),'\x20\x20\x20\x20#endif',_0x536f('0xc3d'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x201',_0x536f('0x161'),_0x536f('0xc3e'),_0x536f('0xc3f'),_0x536f('0x161'),_0x536f('0x115'),_0x536f('0xc16'),'#ifndef\x20FXAA_GATHER4_ALPHA',_0x536f('0xc25'),_0x536f('0xc40'),_0x536f('0xc41'),_0x536f('0xc25'),_0x536f('0xc42'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201',_0x536f('0x161'),_0x536f('0xc3d'),_0x536f('0xc43'),_0x536f('0x161'),_0x536f('0xc44'),_0x536f('0xc43'),'\x20\x20\x20\x20#endif',_0x536f('0xc45'),_0x536f('0xc46'),_0x536f('0x161'),_0x536f('0x115'),'','',_0x536f('0xc47'),_0x536f('0xc48'),_0x536f('0xc49'),_0x536f('0xc4a'),_0x536f('0xc4b'),'#ifndef\x20FXAA_QUALITY_PRESET','\x20\x20\x20\x20//',_0x536f('0xc4c'),_0x536f('0xc4d'),'\x20\x20\x20\x20//\x20Best\x20option\x20to\x20include\x20multiple\x20presets\x20is\x20to','\x20\x20\x20\x20//\x20in\x20each\x20shader\x20define\x20the\x20preset,\x20then\x20include\x20this\x20file.',_0x536f('0xc25'),_0x536f('0xc4e'),'\x20\x20\x20\x20//\x20-----------------------------------------------------------------------',_0x536f('0xc4f'),_0x536f('0xc50'),'\x20\x20\x20\x20//\x2039\x20\x20\x20\x20\x20\x20\x20-\x20no\x20dither,\x20very\x20expensive',_0x536f('0xc25'),_0x536f('0xc51'),_0x536f('0xc52'),_0x536f('0xc53'),_0x536f('0xc54'),_0x536f('0xc55'),_0x536f('0xc56'),'\x20\x20\x20\x20//\x20_\x20\x20=\x20the\x20highest\x20digit\x20is\x20directly\x20related\x20to\x20style',_0x536f('0xc25'),_0x536f('0xc57'),_0x536f('0x115'),'','','/*============================================================================','',_0x536f('0xc58'),'',_0x536f('0xc4b'),'','/*============================================================================',_0x536f('0xc59'),_0x536f('0xc4b'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2010)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x203',_0x536f('0xc5a'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x203.0',_0x536f('0xc5b'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xc5c'),_0x536f('0xc5d'),_0x536f('0xc5e'),_0x536f('0xc5f'),_0x536f('0xc60'),_0x536f('0xc61'),_0x536f('0x115'),_0x536f('0xc16'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2012)',_0x536f('0xc62'),_0x536f('0xc5e'),_0x536f('0xc5f'),_0x536f('0xc63'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x204.0',_0x536f('0xc64'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xc65'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x206',_0x536f('0xc5e'),_0x536f('0xc5f'),_0x536f('0xc63'),_0x536f('0xc66'),_0x536f('0xc67'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x2012.0',_0x536f('0x115'),'/*--------------------------------------------------------------------------*/',_0x536f('0xc68'),_0x536f('0xc69'),_0x536f('0xc5e'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x536f('0xc63'),_0x536f('0xc66'),_0x536f('0xc6a'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x204.0',_0x536f('0xc6b'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xc6c'),_0x536f('0xc6d'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x536f('0xc63'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x536f('0xc6a'),_0x536f('0xc6e'),_0x536f('0xc6f'),_0x536f('0xc70'),'#endif','',_0x536f('0xc47'),_0x536f('0xc71'),_0x536f('0xc4b'),_0x536f('0xc72'),_0x536f('0xc73'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.5',_0x536f('0xc74'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x208.0',_0x536f('0x115'),_0x536f('0xc16'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2021)',_0x536f('0xc5d'),_0x536f('0xc5e'),_0x536f('0xc5f'),_0x536f('0xc63'),_0x536f('0xc75'),'#endif',_0x536f('0xc16'),_0x536f('0xc76'),_0x536f('0xc62'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x536f('0xc5f'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x536f('0xc77'),_0x536f('0x115'),'/*--------------------------------------------------------------------------*/',_0x536f('0xc78'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x206',_0x536f('0xc5e'),_0x536f('0xc5f'),_0x536f('0xc63'),_0x536f('0xc66'),_0x536f('0xc6a'),_0x536f('0xc79'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xc7a'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x207',_0x536f('0xc5e'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x536f('0xc63'),_0x536f('0xc66'),_0x536f('0xc6a'),_0x536f('0xc7b'),_0x536f('0xc7c'),_0x536f('0x115'),'/*--------------------------------------------------------------------------*/','#if\x20(FXAA_QUALITY_PRESET\x20==\x2025)',_0x536f('0xc6d'),_0x536f('0xc5e'),_0x536f('0xc5f'),_0x536f('0xc63'),_0x536f('0xc66'),_0x536f('0xc6a'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0',_0x536f('0xc6f'),_0x536f('0xc7d'),_0x536f('0x115'),'/*--------------------------------------------------------------------------*/',_0x536f('0xc7e'),_0x536f('0xc7f'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x536f('0xc5f'),_0x536f('0xc63'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x536f('0xc6a'),_0x536f('0xc6e'),_0x536f('0xc80'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x204.0',_0x536f('0xc81'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xc82'),_0x536f('0xc83'),_0x536f('0xc5e'),_0x536f('0xc5f'),_0x536f('0xc63'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x536f('0xc6a'),_0x536f('0xc6e'),_0x536f('0xc80'),_0x536f('0xc84'),_0x536f('0xc85'),_0x536f('0xc86'),_0x536f('0x115'),'/*--------------------------------------------------------------------------*/',_0x536f('0xc87'),_0x536f('0xc88'),_0x536f('0xc5e'),_0x536f('0xc5f'),_0x536f('0xc63'),_0x536f('0xc66'),_0x536f('0xc6a'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0',_0x536f('0xc80'),_0x536f('0xc84'),_0x536f('0xc89'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x204.0',_0x536f('0xc8a'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xc8b'),_0x536f('0xc8c'),_0x536f('0xc5e'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x536f('0xc63'),_0x536f('0xc66'),_0x536f('0xc6a'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0',_0x536f('0xc80'),_0x536f('0xc84'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x202.0',_0x536f('0xc8d'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0',_0x536f('0x115'),'','/*============================================================================','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20EXTREME\x20QUALITY','============================================================================*/','#if\x20(FXAA_QUALITY_PRESET\x20==\x2039)',_0x536f('0xc8c'),_0x536f('0xc5e'),_0x536f('0xc8e'),_0x536f('0xc8f'),_0x536f('0xc90'),_0x536f('0xc91'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x201.5',_0x536f('0xc80'),_0x536f('0xc84'),_0x536f('0xc89'),_0x536f('0xc92'),_0x536f('0xc8d'),_0x536f('0xc93'),_0x536f('0x115'),'','','',_0x536f('0xc47'),'','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20API\x20PORTING','',_0x536f('0xc4b'),_0x536f('0xc94'),_0x536f('0xc95'),_0x536f('0xc96'),'\x20\x20\x20\x20#define\x20FxaaFloat\x20float',_0x536f('0xc97'),_0x536f('0xc98'),_0x536f('0xc99'),_0x536f('0xc9a'),'\x20\x20\x20\x20#define\x20FxaaHalf2\x20vec2',_0x536f('0xc9b'),_0x536f('0xc9c'),_0x536f('0xc9d'),_0x536f('0xc9e'),_0x536f('0xc9f'),_0x536f('0xca0'),_0x536f('0xc95'),'\x20\x20\x20\x20#define\x20FxaaDiscard\x20clip(-1)',_0x536f('0xca1'),_0x536f('0xca2'),_0x536f('0xca3'),'\x20\x20\x20\x20#define\x20FxaaFloat4\x20float4',_0x536f('0xca4'),_0x536f('0xca5'),_0x536f('0xca6'),_0x536f('0xca7'),_0x536f('0xca8'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xca9'),_0x536f('0xcaa'),_0x536f('0xcab'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xcac'),_0x536f('0xcad'),_0x536f('0xcae'),_0x536f('0xcaf'),_0x536f('0xcb0'),'\x20\x20\x20\x20//\x20\x20(or\x20set\x20FXAA_FAST_PIXEL_OFFSET\x201\x20to\x20work\x20like\x20DX9)',_0x536f('0xcb1'),_0x536f('0xcb2'),_0x536f('0xcb3'),_0x536f('0x187'),_0x536f('0xcb4'),_0x536f('0x161'),_0x536f('0xcb5'),'\x20\x20\x20\x20\x20\x20\x20\x20//\x20use\x20#extension\x20GL_ARB_gpu_shader5\x20:\x20enable','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20textureGather(t,\x20p,\x203)',_0x536f('0xcb6'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20textureGather(t,\x20p,\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x201)',_0x536f('0x161'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xcb7'),'\x20\x20\x20\x20//\x20Requires\x20\x22#version\x20130\x22\x20or\x20better','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20textureLod(t,\x20p,\x200.0)',_0x536f('0xcb8'),_0x536f('0xcb5'),_0x536f('0xcb9'),_0x536f('0xcba'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x203)',_0x536f('0xcbb'),_0x536f('0xcbc'),_0x536f('0x161'),_0x536f('0x115'),_0x536f('0xc16'),_0x536f('0xcbd'),_0x536f('0xcbe'),'\x20\x20\x20\x20#define\x20FxaaTex\x20sampler2D','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20tex2Dlod(t,\x20float4(p,\x200.0,\x200.0))',_0x536f('0xcbf'),_0x536f('0x115'),'/*--------------------------------------------------------------------------*/',_0x536f('0xcc0'),'\x20\x20\x20\x20#define\x20FxaaInt2\x20int2',_0x536f('0xcc1'),_0x536f('0xcc2'),_0x536f('0xcc3'),_0x536f('0x115'),'/*--------------------------------------------------------------------------*/',_0x536f('0xcc4'),_0x536f('0xcc5'),'\x20\x20\x20\x20struct\x20FxaaTex\x20{\x20SamplerState\x20smpl;\x20Texture2D\x20tex;\x20};',_0x536f('0xcc2'),_0x536f('0xcc3'),_0x536f('0xcc6'),'\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20t.tex.GatherAlpha(t.smpl,\x20p,\x20o)','\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20t.tex.GatherGreen(t.smpl,\x20p)',_0x536f('0xcc7'),'#endif','','',_0x536f('0xc47'),_0x536f('0xcc8'),_0x536f('0xc4b'),_0x536f('0xcc9'),_0x536f('0xcca'),'#else',_0x536f('0xccb'),_0x536f('0x115'),'','','','',_0x536f('0xc47'),'',_0x536f('0xccc'),'',_0x536f('0xc4b'),_0x536f('0xccd'),_0x536f('0xc16'),_0x536f('0xcce'),'\x20\x20\x20\x20//',_0x536f('0xccf'),'\x20\x20\x20\x20//\x20{xy}\x20=\x20center\x20of\x20pixel','\x20\x20\x20\x20FxaaFloat2\x20pos,','\x20\x20\x20\x20//',_0x536f('0xcd0'),'\x20\x20\x20\x20//\x20Use\x20noperspective\x20interpolation\x20here\x20(turn\x20off\x20perspective\x20interpolation).',_0x536f('0xcd1'),'\x20\x20\x20\x20//\x20{_zw}\x20=\x20lower\x20right\x20of\x20pixel',_0x536f('0xcd2'),_0x536f('0xc25'),'\x20\x20\x20\x20//\x20Input\x20color\x20texture.','\x20\x20\x20\x20//\x20{rgb_}\x20=\x20color\x20in\x20linear\x20or\x20perceptual\x20color\x20space',_0x536f('0xcd3'),_0x536f('0xcd4'),_0x536f('0xcd5'),'\x20\x20\x20\x20//',_0x536f('0xcd6'),_0x536f('0xcd7'),'\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x202nd\x20sampler.',_0x536f('0xcd8'),_0x536f('0xcd9'),_0x536f('0xc25'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20the\x20optimized\x20360\x20version\x20of\x20FXAA\x20Console.',_0x536f('0xcd7'),_0x536f('0xcda'),_0x536f('0xcdb'),_0x536f('0xcdc'),_0x536f('0xc25'),_0x536f('0xcdd'),_0x536f('0xcde'),_0x536f('0xcdf'),_0x536f('0xce0'),'\x20\x20\x20\x20FxaaFloat2\x20fxaaQualityRcpFrame,','\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.',_0x536f('0xcde'),_0x536f('0xce1'),_0x536f('0xce2'),_0x536f('0xce3'),'\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.33\x20(sharper)',_0x536f('0xce4'),_0x536f('0xce5'),_0x536f('0xce6'),'\x20\x20\x20\x20//\x20{__w}\x20=\x20\x20N/screenHeightInPixels',_0x536f('0xce7'),'\x20\x20\x20\x20//',_0x536f('0xce8'),_0x536f('0xce9'),_0x536f('0xcde'),'\x20\x20\x20\x20//\x20{x__}\x20=\x20-2.0/screenWidthInPixels',_0x536f('0xcea'),_0x536f('0xceb'),'\x20\x20\x20\x20//\x20{__w}\x20=\x20\x202.0/screenHeightInPixels',_0x536f('0xcec'),_0x536f('0xc25'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.',_0x536f('0xced'),_0x536f('0xcde'),_0x536f('0xcee'),_0x536f('0xcef'),'\x20\x20\x20\x20//\x20{_z_}\x20=\x20-4.0/screenWidthInPixels',_0x536f('0xcf0'),'\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360RcpFrameOpt2,','\x20\x20\x20\x20//',_0x536f('0xcdd'),_0x536f('0xcf1'),_0x536f('0xcf2'),_0x536f('0xcf3'),_0x536f('0xcf4'),_0x536f('0xcf5'),_0x536f('0xcf6'),_0x536f('0xcf7'),_0x536f('0xcf8'),'\x20\x20\x20\x20//\x20\x20\x200.00\x20-\x20completely\x20off',_0x536f('0xcf9'),'\x20\x20\x20\x20//',_0x536f('0xcdd'),_0x536f('0xcfa'),_0x536f('0xcf2'),'\x20\x20\x20\x20//\x20The\x20minimum\x20amount\x20of\x20local\x20contrast\x20required\x20to\x20apply\x20algorithm.',_0x536f('0xcfb'),_0x536f('0xcfc'),_0x536f('0xcfd'),_0x536f('0xcfe'),_0x536f('0xcff'),_0x536f('0xd00'),_0x536f('0xc25'),_0x536f('0xcdd'),'\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD_MIN\x20define.','\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.',_0x536f('0xd01'),'\x20\x20\x20\x20//\x20\x20\x200.0833\x20-\x20upper\x20limit\x20(default,\x20the\x20start\x20of\x20visible\x20unfiltered\x20edges)',_0x536f('0xd02'),_0x536f('0xd03'),_0x536f('0xd04'),_0x536f('0xd05'),_0x536f('0xd06'),_0x536f('0xd07'),_0x536f('0xd08'),'\x20\x20\x20\x20//\x20\x20\x20then\x20start\x20at\x20zero\x20and\x20increase\x20until\x20aliasing\x20is\x20a\x20problem.','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThresholdMin,',_0x536f('0xc25'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.',_0x536f('0xd09'),_0x536f('0xcf2'),_0x536f('0xd0a'),_0x536f('0xd0b'),_0x536f('0xd0c'),'\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20three\x20safe\x20values\x20here:\x202\x20and\x204\x20and\x208.',_0x536f('0xd0d'),'\x20\x20\x20\x20//\x20For\x20all\x20other\x20platforms\x20can\x20be\x20a\x20non-power\x20of\x20two.','\x20\x20\x20\x20//\x20\x20\x208.0\x20is\x20sharper\x20(default!!!)',_0x536f('0xd0e'),_0x536f('0xd0f'),'\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeSharpness,',_0x536f('0xc25'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.',_0x536f('0xd10'),_0x536f('0xcf2'),'\x20\x20\x20\x20//\x20This\x20does\x20not\x20effect\x20PS3,\x20as\x20this\x20needs\x20to\x20be\x20compiled\x20in.',_0x536f('0xd11'),_0x536f('0xd0c'),_0x536f('0xd12'),_0x536f('0xd0d'),_0x536f('0xd13'),_0x536f('0xd14'),_0x536f('0xd15'),_0x536f('0xd16'),'\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThreshold,','\x20\x20\x20\x20//',_0x536f('0xce8'),_0x536f('0xd17'),_0x536f('0xcf2'),_0x536f('0xd01'),_0x536f('0xd13'),_0x536f('0xd18'),'\x20\x20\x20\x20//\x20This\x20does\x20not\x20apply\x20to\x20PS3,',_0x536f('0xd19'),'\x20\x20\x20\x20//\x20\x20\x200.06\x20-\x20faster\x20but\x20more\x20aliasing\x20in\x20darks',_0x536f('0xd1a'),'\x20\x20\x20\x20//\x20\x20\x200.04\x20-\x20slower\x20and\x20less\x20aliasing\x20in\x20darks',_0x536f('0xd04'),_0x536f('0xd05'),_0x536f('0xd06'),_0x536f('0xd07'),_0x536f('0xd08'),_0x536f('0xd1b'),_0x536f('0xd1c'),_0x536f('0xc25'),_0x536f('0xd1d'),_0x536f('0xd1e'),'\x20\x20\x20\x20//\x20These\x20must\x20be\x20in\x20physical\x20constant\x20registers\x20and\x20NOT\x20immediates.','\x20\x20\x20\x20//\x20Immediates\x20will\x20result\x20in\x20compiler\x20un-optimizing.',_0x536f('0xd1f'),_0x536f('0xd20'),')\x20{','/*--------------------------------------------------------------------------*/',_0x536f('0xd21'),_0x536f('0xd22'),'\x20\x20\x20\x20posM.y\x20=\x20pos.y;','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x201)',_0x536f('0xd23'),_0x536f('0xd24'),_0x536f('0xd25'),_0x536f('0xd26'),_0x536f('0xd27'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y',_0x536f('0xd28'),_0x536f('0xd29'),_0x536f('0xd2a'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexAlpha4(tex,\x20posM);',_0x536f('0xd2b'),'\x20\x20\x20\x20\x20\x20\x20\x20#else',_0x536f('0xd2c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffGreen4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));',_0x536f('0xd29'),_0x536f('0xd2d'),_0x536f('0xd2e'),_0x536f('0xd29'),_0x536f('0xd2f'),_0x536f('0xd30'),_0x536f('0xd31'),_0x536f('0xd32'),_0x536f('0xd33'),_0x536f('0xd34'),_0x536f('0x187'),_0x536f('0xd35'),'\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)',_0x536f('0xd36'),_0x536f('0xd37'),_0x536f('0xd38'),_0x536f('0xd29'),_0x536f('0xd39'),_0x536f('0xd3a'),_0x536f('0xd3b'),_0x536f('0xd3c'),_0x536f('0xd3d'),'\x20\x20\x20\x20\x20\x20\x20\x20#else',_0x536f('0xd3e'),_0x536f('0xd3f'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,-1),\x20fxaaQualityRcpFrame.xy));',_0x536f('0xd40'),_0x536f('0xd29'),'\x20\x20\x20\x20#endif',_0x536f('0xc16'),_0x536f('0xd41'),_0x536f('0xd42'),_0x536f('0xd43'),'\x20\x20\x20\x20FxaaFloat\x20minESM\x20=\x20min(lumaE,\x20minSM);',_0x536f('0xd44'),_0x536f('0xd45'),_0x536f('0xd46'),_0x536f('0xd47'),_0x536f('0xd48'),'\x20\x20\x20\x20FxaaFloat\x20range\x20=\x20rangeMax\x20-\x20rangeMin;',_0x536f('0xd49'),'\x20\x20\x20\x20FxaaBool\x20earlyExit\x20=\x20range\x20<\x20rangeMaxClamped;',_0x536f('0xc16'),_0x536f('0xd4a'),_0x536f('0xd2d'),_0x536f('0xd4b'),_0x536f('0xd37'),_0x536f('0xd4c'),_0x536f('0xd29'),_0x536f('0xc16'),'\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x200)',_0x536f('0xd39'),_0x536f('0xd4d'),_0x536f('0xd4e'),_0x536f('0xd4f'),_0x536f('0xd50'),_0x536f('0xd37'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,-1),\x20fxaaQualityRcpFrame.xy));',_0x536f('0xd51'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,-1),\x20fxaaQualityRcpFrame.xy));',_0x536f('0xd52'),_0x536f('0xd29'),'\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(1,\x20-1),\x20fxaaQualityRcpFrame.xy));',_0x536f('0xd53'),_0x536f('0x161'),_0x536f('0xc16'),_0x536f('0xd54'),_0x536f('0xd55'),_0x536f('0xd56'),_0x536f('0xd57'),_0x536f('0xd58'),'\x20\x20\x20\x20FxaaFloat\x20edgeVert1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaWE;',_0x536f('0xc16'),'\x20\x20\x20\x20FxaaFloat\x20lumaNESE\x20=\x20lumaNE\x20+\x20lumaSE;',_0x536f('0xd59'),_0x536f('0xd5a'),_0x536f('0xd5b'),_0x536f('0xc16'),'\x20\x20\x20\x20FxaaFloat\x20lumaNWSW\x20=\x20lumaNW\x20+\x20lumaSW;','\x20\x20\x20\x20FxaaFloat\x20lumaSWSE\x20=\x20lumaSW\x20+\x20lumaSE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz4\x20=\x20(abs(edgeHorz1)\x20*\x202.0)\x20+\x20abs(edgeHorz2);',_0x536f('0xd5c'),_0x536f('0xd5d'),_0x536f('0xd5e'),_0x536f('0xd5f'),_0x536f('0xd60'),'/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20FxaaFloat\x20subpixNWSWNESE\x20=\x20lumaNWSW\x20+\x20lumaNESE;','\x20\x20\x20\x20FxaaFloat\x20lengthSign\x20=\x20fxaaQualityRcpFrame.x;','\x20\x20\x20\x20FxaaBool\x20horzSpan\x20=\x20edgeHorz\x20>=\x20edgeVert;','\x20\x20\x20\x20FxaaFloat\x20subpixA\x20=\x20subpixNSWE\x20*\x202.0\x20+\x20subpixNWSWNESE;',_0x536f('0xc16'),_0x536f('0xd61'),'\x20\x20\x20\x20if(!horzSpan)\x20lumaS\x20=\x20lumaE;',_0x536f('0xd62'),_0x536f('0xd63'),'/*--------------------------------------------------------------------------*/',_0x536f('0xd64'),_0x536f('0xd65'),_0x536f('0xd66'),_0x536f('0xd67'),_0x536f('0xd68'),_0x536f('0xd69'),_0x536f('0xd6a'),_0x536f('0xd6b'),_0x536f('0xc16'),_0x536f('0xd6c'),'\x20\x20\x20\x20posB.x\x20=\x20posM.x;','\x20\x20\x20\x20posB.y\x20=\x20posM.y;',_0x536f('0xd6d'),_0x536f('0xd6e'),_0x536f('0xd6f'),_0x536f('0xd70'),'\x20\x20\x20\x20if(\x20horzSpan)\x20posB.y\x20+=\x20lengthSign\x20*\x200.5;',_0x536f('0xc16'),_0x536f('0xd71'),_0x536f('0xd72'),_0x536f('0xd73'),_0x536f('0xd74'),'\x20\x20\x20\x20posP.x\x20=\x20posB.x\x20+\x20offNP.x\x20*\x20FXAA_QUALITY_P0;',_0x536f('0xd75'),'\x20\x20\x20\x20FxaaFloat\x20subpixD\x20=\x20((-2.0)*subpixC)\x20+\x203.0;',_0x536f('0xd76'),_0x536f('0xd77'),_0x536f('0xd78'),_0x536f('0xc16'),_0x536f('0xd79'),'\x20\x20\x20\x20FxaaFloat\x20gradientScaled\x20=\x20gradient\x20*\x201.0/4.0;',_0x536f('0xd7a'),_0x536f('0xd7b'),'\x20\x20\x20\x20FxaaBool\x20lumaMLTZero\x20=\x20lumaMM\x20<\x200.0;',_0x536f('0xc16'),'\x20\x20\x20\x20lumaEndN\x20-=\x20lumaNN\x20*\x200.5;',_0x536f('0xd7c'),_0x536f('0xd7d'),_0x536f('0xd7e'),_0x536f('0xd7f'),'\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;',_0x536f('0xd80'),_0x536f('0xd81'),_0x536f('0xd82'),_0x536f('0xc16'),_0x536f('0xd83'),_0x536f('0xd84'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x536f('0xd85'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x536f('0xd86'),_0x536f('0xd87'),_0x536f('0xd88'),_0x536f('0xd89'),_0x536f('0xd8a'),_0x536f('0xd8b'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','/*--------------------------------------------------------------------------*/',_0x536f('0xd8c'),_0x536f('0xd8d'),_0x536f('0xd8e'),_0x536f('0xd8f'),_0x536f('0xd90'),_0x536f('0xd91'),_0x536f('0xd92'),_0x536f('0xd93'),_0x536f('0xd94'),_0x536f('0xd95'),_0x536f('0xd96'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;',_0x536f('0xd97'),_0x536f('0xc16'),_0x536f('0xd98'),_0x536f('0xd99'),_0x536f('0xd9a'),_0x536f('0xd9b'),_0x536f('0xd9c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x536f('0xd9d'),_0x536f('0xd9e'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;',_0x536f('0xd9f'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;',_0x536f('0xc16'),_0x536f('0xda0'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x536f('0xda1'),_0x536f('0xda2'),_0x536f('0xda3'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x536f('0xda4'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;',_0x536f('0xda5'),_0x536f('0xda6'),_0x536f('0xda7'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;',_0x536f('0xc16'),_0x536f('0xda8'),_0x536f('0xda9'),_0x536f('0xdaa'),_0x536f('0xdab'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;',_0x536f('0xdac'),_0x536f('0xdad'),_0x536f('0xdae'),_0x536f('0xdaf'),_0x536f('0xdb0'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x536f('0xdb1'),_0x536f('0xdb2'),_0x536f('0xc16'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x207)',_0x536f('0xdb3'),_0x536f('0xdb4'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x536f('0xdb5'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x536f('0xdb6'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x536f('0xdb7'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;',_0x536f('0xdb8'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;',_0x536f('0xdb9'),_0x536f('0xc16'),'\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x208)',_0x536f('0xd83'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x536f('0xdba'),_0x536f('0xd85'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x536f('0xd86'),_0x536f('0xd87'),_0x536f('0xdbb'),_0x536f('0xdbc'),_0x536f('0xd8a'),_0x536f('0xdbd'),_0x536f('0xdbe'),'/*--------------------------------------------------------------------------*/',_0x536f('0xdbf'),_0x536f('0xd8d'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x536f('0xd8f'),_0x536f('0xd90'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x536f('0xdc0'),_0x536f('0xdc1'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x536f('0xdc2'),_0x536f('0xdc3'),_0x536f('0xc16'),_0x536f('0xdc4'),_0x536f('0xd99'),_0x536f('0xd9a'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x536f('0xd9c'),_0x536f('0xdc5'),_0x536f('0xd9d'),_0x536f('0xd9e'),_0x536f('0xdc6'),_0x536f('0xdc7'),_0x536f('0xd9f'),_0x536f('0xdc8'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','/*--------------------------------------------------------------------------*/',_0x536f('0xdc9'),_0x536f('0xdca'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x536f('0xda1'),_0x536f('0xda2'),_0x536f('0xda3'),_0x536f('0xdcb'),_0x536f('0xda4'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;',_0x536f('0xdcc'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x536f('0xdcd'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;','/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2012)',_0x536f('0xda9'),_0x536f('0xdaa'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;',_0x536f('0xdac'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x536f('0xdae'),_0x536f('0xdce'),_0x536f('0xdcf'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x536f('0xdd0'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;',_0x536f('0xc16'),_0x536f('0xdd1'),_0x536f('0xdd2'),_0x536f('0xc16'),_0x536f('0xdd3'),_0x536f('0xdd4'),'/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}',_0x536f('0xd28'),'/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20\x20\x20\x20\x20}',_0x536f('0xd29'),'/*--------------------------------------------------------------------------*/',_0x536f('0x134'),_0x536f('0x161'),_0x536f('0xc16'),_0x536f('0xdd5'),_0x536f('0xdd6'),_0x536f('0xc16'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}',_0x536f('0xdd2'),_0x536f('0xc16'),_0x536f('0xdd3'),_0x536f('0xdd4'),_0x536f('0xc16'),_0x536f('0xdd7'),_0x536f('0xd28'),_0x536f('0xc16'),_0x536f('0xdd8'),_0x536f('0xd29'),'/*--------------------------------------------------------------------------*/',_0x536f('0x134'),_0x536f('0xc16'),_0x536f('0xdd9'),_0x536f('0xdda'),_0x536f('0xddb'),_0x536f('0xddc'),_0x536f('0xc16'),_0x536f('0xddd'),'\x20\x20\x20\x20FxaaFloat\x20spanLength\x20=\x20(dstP\x20+\x20dstN);',_0x536f('0xdde'),_0x536f('0xddf'),_0x536f('0xc16'),_0x536f('0xde0'),_0x536f('0xde1'),'\x20\x20\x20\x20FxaaBool\x20goodSpan\x20=\x20directionN\x20?\x20goodSpanN\x20:\x20goodSpanP;',_0x536f('0xde2'),'\x20\x20\x20\x20FxaaFloat\x20pixelOffset\x20=\x20(dst\x20*\x20(-spanLengthRcp))\x20+\x200.5;',_0x536f('0xde3'),'/*--------------------------------------------------------------------------*/',_0x536f('0xde4'),_0x536f('0xde5'),_0x536f('0xde6'),'\x20\x20\x20\x20if(\x20horzSpan)\x20posM.y\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;',_0x536f('0xde7'),_0x536f('0xde8'),_0x536f('0x187'),_0x536f('0xde9'),_0x536f('0x161'),'}',_0x536f('0xc1f'),_0x536f('0x115'),'','void\x20main()\x20{',_0x536f('0xdea'),'\x20\x20\x20\x20vUv,',_0x536f('0xdeb'),_0x536f('0xdec'),_0x536f('0xdec'),'\x20\x20\x20\x20tDiffuse,',_0x536f('0xded'),_0x536f('0xdeb'),_0x536f('0xdeb'),_0x536f('0xdeb'),'\x20\x20\x20\x200.75,',_0x536f('0xdee'),_0x536f('0xdef'),_0x536f('0xdf0'),_0x536f('0xdf0'),'\x20\x20\x20\x200.0,','\x20\x20\x20\x20vec4(0.0)','\x20\x20);','','\x20\x20//\x20TODO\x20avoid\x20querying\x20texture\x20twice\x20for\x20same\x20texel',_0x536f('0xdf1'),'}']['join']('\x0a')};},function(_0x6b1260,_0x420a86,_0x5a86cd){'use strict';var _0x2f235f=_0x45ff63(_0x5a86cd(0x1f)),_0x5a86cd=_0x45ff63(_0x5a86cd(0x10));function _0x45ff63(_0x6b1260){return _0x6b1260&&_0x6b1260[_0x536f('0x4')]?_0x6b1260:{'default':_0x6b1260};}THREE[_0x536f('0xb95')]=function(_0x6b1260,_0x420a86,_0x5a86cd,_0x2f235f){this['renderScene']=_0x420a86,this[_0x536f('0xdf2')]=_0x5a86cd,this['selectedObjects']=void 0x0!==_0x2f235f?_0x2f235f:[],this[_0x536f('0xb72')]=new THREE[(_0x536f('0x1b8'))](0x1,0x1,0x1),this['hiddenEdgeColor']=new THREE[(_0x536f('0x1b8'))](0.1,0.04,0.02),this['edgeGlow']=0x0,this['usePatternTexture']=!0x1,this[_0x536f('0xb78')]=0x1,this[_0x536f('0xb75')]=0x3,this[_0x536f('0xdf3')]=0x2,this[_0x536f('0xb7a')]=0x0,THREE[_0x536f('0xbc7')][_0x536f('0xa')](this),this[_0x536f('0x370')]=void 0x0!==_0x6b1260?new THREE['Vector2'](_0x6b1260['x'],_0x6b1260['y']):new THREE['Vector2'](0x100,0x100);var _0x45ff63,_0x420a86={'minFilter':THREE[_0x536f('0x432')],'magFilter':THREE[_0x536f('0x432')],'format':THREE[_0x536f('0xdf4')]},_0x5a86cd=Math[_0x536f('0x1c0')](this[_0x536f('0x370')]['x']/this['downSampleRatio']),_0x2f235f=Math[_0x536f('0x1c0')](this[_0x536f('0x370')]['y']/this[_0x536f('0xdf3')]),_0x6b1260=(this['maskBufferMaterial']=new THREE[(_0x536f('0x421'))]({'color':0xffffff}),this[_0x536f('0xdf5')][_0x536f('0x3ad')]=THREE[_0x536f('0x345')],this['renderTargetMaskBuffer']=new THREE['WebGLRenderTarget'](this['resolution']['x'],this['resolution']['y'],_0x420a86),this[_0x536f('0xdf6')][_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0xdf7'),this[_0x536f('0xdf6')]['texture'][_0x536f('0x737')]=!0x1,this[_0x536f('0x831')]=new THREE['MeshDepthMaterial'](),this[_0x536f('0x831')][_0x536f('0x3ad')]=THREE[_0x536f('0x345')],this['depthMaterial']['depthPacking']=THREE[_0x536f('0xdf8')],this[_0x536f('0x831')][_0x536f('0x1d6')]=THREE['NoBlending'],this[_0x536f('0xdf9')]=this[_0x536f('0xdfa')](),this[_0x536f('0xdf9')][_0x536f('0x3ad')]=THREE[_0x536f('0x345')],this[_0x536f('0xdf9')][_0x536f('0x58')]=(_0x6b1260=this['prepareMaskMaterial'][_0x536f('0x58')],_0x45ff63=this[_0x536f('0xdf2')][_0x536f('0xdfb')]?_0x536f('0xdfc'):'orthographic',_0x6b1260['replace'](/DEPTH_TO_VIEW_Z/g,_0x45ff63+_0x536f('0xdfd'))),this[_0x536f('0xdfe')]=new THREE[(_0x536f('0x73b'))](this[_0x536f('0x370')]['x'],this[_0x536f('0x370')]['y'],_0x420a86),this[_0x536f('0xdfe')]['texture'][_0x536f('0x92')]=_0x536f('0xdff'),this['renderTargetDepthBuffer']['texture'][_0x536f('0x737')]=!0x1,this[_0x536f('0xe00')]=new THREE['WebGLRenderTarget'](_0x5a86cd,_0x2f235f,_0x420a86),this['renderTargetMaskDownSampleBuffer'][_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0xe01'),this[_0x536f('0xe00')][_0x536f('0x1c7')][_0x536f('0x737')]=!0x1,this['renderTargetBlurBuffer1']=new THREE[(_0x536f('0x73b'))](_0x5a86cd,_0x2f235f,_0x420a86),this[_0x536f('0xe02')][_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0xe03'),this[_0x536f('0xe02')][_0x536f('0x1c7')][_0x536f('0x737')]=!0x1,this[_0x536f('0xe04')]=new THREE[(_0x536f('0x73b'))](Math[_0x536f('0x1c0')](_0x5a86cd/0x2),Math[_0x536f('0x1c0')](_0x2f235f/0x2),_0x420a86),this[_0x536f('0xe04')][_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0xe05'),this['renderTargetBlurBuffer2'][_0x536f('0x1c7')]['generateMipmaps']=!0x1,this[_0x536f('0xe06')]=this[_0x536f('0xe07')](),this[_0x536f('0xe08')]=new THREE[(_0x536f('0x73b'))](_0x5a86cd,_0x2f235f,_0x420a86),this[_0x536f('0xe08')][_0x536f('0x1c7')]['name']='OutlinePass.edge1',this['renderTargetEdgeBuffer1']['texture'][_0x536f('0x737')]=!0x1,this[_0x536f('0xe09')]=new THREE[(_0x536f('0x73b'))](Math[_0x536f('0x1c0')](_0x5a86cd/0x2),Math['round'](_0x2f235f/0x2),_0x420a86),this['renderTargetEdgeBuffer2'][_0x536f('0x1c7')][_0x536f('0x92')]=_0x536f('0xe0a'),this[_0x536f('0xe09')][_0x536f('0x1c7')][_0x536f('0x737')]=!0x1,this[_0x536f('0xe0b')]=this[_0x536f('0xbe3')](0x4),this['separableBlurMaterial1'][_0x536f('0x168')]['texSize'][_0x536f('0x10')]=new THREE[(_0x536f('0x1b5'))](_0x5a86cd,_0x2f235f),this['separableBlurMaterial1'][_0x536f('0x168')][_0x536f('0xe0c')][_0x536f('0x10')]=0x1,this[_0x536f('0xe0d')]=this[_0x536f('0xbe3')](0x4),this[_0x536f('0xe0d')][_0x536f('0x168')][_0x536f('0xbe4')][_0x536f('0x10')]=new THREE[(_0x536f('0x1b5'))](Math['round'](_0x5a86cd/0x2),Math[_0x536f('0x1c0')](_0x2f235f/0x2)),this[_0x536f('0xe0d')][_0x536f('0x168')]['kernelRadius'][_0x536f('0x10')]=0x4,this['overlayMaterial']=this[_0x536f('0xe0e')](),void 0x0===THREE[_0x536f('0xb93')]&&console[_0x536f('0x1f9')](_0x536f('0xe0f')),THREE[_0x536f('0xb93')]);this[_0x536f('0xbeb')]=THREE[_0x536f('0x4ce')]['clone'](_0x6b1260[_0x536f('0x168')]),this['copyUniforms'][_0x536f('0x201')][_0x536f('0x10')]=0x1,this['materialCopy']=new THREE[(_0x536f('0x3b3'))]({'uniforms':this[_0x536f('0xbeb')],'vertexShader':_0x6b1260['vertexShader'],'fragmentShader':_0x6b1260[_0x536f('0x58')],'blending':THREE[_0x536f('0x726')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this[_0x536f('0x45d')]=!0x0,this['needsSwap']=!0x1,this[_0x536f('0xbee')]=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0xbed')]=0x1,this[_0x536f('0xbd5')]=new THREE[(_0x536f('0xbc7'))][(_0x536f('0xbc9'))](null),this[_0x536f('0xe10')]=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0xe11')]=new THREE[(_0x536f('0x1b8'))](),this[_0x536f('0x79e')]=new THREE['Matrix4']();},THREE[_0x536f('0xb95')][_0x536f('0x8')]=(0x0,_0x5a86cd[_0x536f('0x6')])((0x0,_0x2f235f[_0x536f('0x6')])(THREE[_0x536f('0xbc7')][_0x536f('0x8')]),{'constructor':THREE[_0x536f('0xb95')],'dispose':function(){this[_0x536f('0xdf6')][_0x536f('0xcd')](),this[_0x536f('0xdfe')]['dispose'](),this[_0x536f('0xe00')][_0x536f('0xcd')](),this[_0x536f('0xe02')][_0x536f('0xcd')](),this[_0x536f('0xe04')]['dispose'](),this[_0x536f('0xe08')]['dispose'](),this[_0x536f('0xe09')][_0x536f('0xcd')]();},'setSize':function(_0x6b1260,_0x420a86){this[_0x536f('0xdf6')]['setSize'](_0x6b1260,_0x420a86);_0x6b1260=Math[_0x536f('0x1c0')](_0x6b1260/this[_0x536f('0xdf3')]),_0x420a86=Math[_0x536f('0x1c0')](_0x420a86/this[_0x536f('0xdf3')]);this['renderTargetMaskDownSampleBuffer'][_0x536f('0xda')](_0x6b1260,_0x420a86),this[_0x536f('0xe02')][_0x536f('0xda')](_0x6b1260,_0x420a86),this['renderTargetEdgeBuffer1'][_0x536f('0xda')](_0x6b1260,_0x420a86),this[_0x536f('0xe0b')]['uniforms']['texSize'][_0x536f('0x10')]=new THREE[(_0x536f('0x1b5'))](_0x6b1260,_0x420a86),_0x6b1260=Math[_0x536f('0x1c0')](_0x6b1260/0x2),_0x420a86=Math[_0x536f('0x1c0')](_0x420a86/0x2),this['renderTargetBlurBuffer2']['setSize'](_0x6b1260,_0x420a86),this[_0x536f('0xe09')]['setSize'](_0x6b1260,_0x420a86),this[_0x536f('0xe0d')][_0x536f('0x168')][_0x536f('0xbe4')]['value']=new THREE[(_0x536f('0x1b5'))](_0x6b1260,_0x420a86);},'changeVisibilityOfSelectedObjects':function(_0x420a86){function _0x6b1260(_0x6b1260){_0x6b1260[_0x536f('0xe12')]&&(_0x420a86?(_0x6b1260[_0x536f('0x36c')]=_0x6b1260[_0x536f('0x576')][_0x536f('0xe13')],delete _0x6b1260['userData'][_0x536f('0xe13')]):(_0x6b1260[_0x536f('0x576')]['oldVisible']=_0x6b1260['visible'],_0x6b1260[_0x536f('0x36c')]=_0x420a86));}for(var _0x5a86cd=0x0;_0x5a86cd<this[_0x536f('0xb71')][_0x536f('0xd')];_0x5a86cd++)this[_0x536f('0xb71')][_0x5a86cd][_0x536f('0x41c')](_0x6b1260);},'changeVisibilityOfNonSelectedObjects':function(_0x45ff63){var _0x616fa7=[];function _0x6b1260(_0x6b1260){_0x6b1260[_0x536f('0xe12')]&&_0x616fa7['push'](_0x6b1260);}for(var _0x420a86=0x0;_0x420a86<this[_0x536f('0xb71')][_0x536f('0xd')];_0x420a86++)this['selectedObjects'][_0x420a86][_0x536f('0x41c')](_0x6b1260);this[_0x536f('0xe14')][_0x536f('0x41c')](function(_0x6b1260){if(_0x6b1260[_0x536f('0xe12')]||_0x6b1260['isLine']||_0x6b1260[_0x536f('0xe15')]){for(var _0x420a86,_0x5a86cd=!0x1,_0x2f235f=0x0;_0x2f235f<_0x616fa7['length'];_0x2f235f++)if(_0x616fa7[_0x2f235f]['id']===_0x6b1260['id']){_0x5a86cd=!0x0;break;}_0x5a86cd||(_0x420a86=_0x6b1260[_0x536f('0x36c')],_0x45ff63&&!_0x6b1260['bVisible']||(_0x6b1260[_0x536f('0x36c')]=_0x45ff63),_0x6b1260[_0x536f('0xe16')]=_0x420a86);}});},'updateTextureMatrix':function(){this[_0x536f('0x79e')][_0x536f('0x1b')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),this[_0x536f('0x79e')]['multiply'](this['renderCamera'][_0x536f('0x7aa')]),this[_0x536f('0x79e')][_0x536f('0x712')](this[_0x536f('0xdf2')]['matrixWorldInverse']);},'render':function(_0x6b1260,_0x420a86,_0x5a86cd,_0x2f235f,_0x45ff63){var _0x17dd27,_0x78761a;0x0<this[_0x536f('0xb71')][_0x536f('0xd')]&&(this['oldClearColor'][_0x536f('0x1bc')](_0x6b1260[_0x536f('0xbce')]()),this[_0x536f('0xbed')]=_0x6b1260[_0x536f('0xbcf')](),_0x17dd27=_0x6b1260[_0x536f('0xbcd')],_0x6b1260[_0x536f('0xbcd')]=!0x1,_0x45ff63&&_0x6b1260[_0x536f('0xbbf')][_0x536f('0x212')](_0x6b1260[_0x536f('0xbbf')]['STENCIL_TEST']),_0x6b1260[_0x536f('0xbd0')](0xffffff,0x1),this['changeVisibilityOfSelectedObjects'](!0x1),_0x78761a=this[_0x536f('0xe14')][_0x536f('0x4c7')],this[_0x536f('0xe14')][_0x536f('0x4c7')]=null,this['renderScene']['overrideMaterial']=this[_0x536f('0x831')],_0x6b1260[_0x536f('0x732')](this[_0x536f('0xdfe')]),_0x6b1260[_0x536f('0x2dc')](),_0x6b1260['render'](this[_0x536f('0xe14')],this[_0x536f('0xdf2')]),this[_0x536f('0xe17')](!0x0),this[_0x536f('0xe18')](),this[_0x536f('0xe19')](!0x1),this[_0x536f('0xe14')][_0x536f('0xbca')]=this[_0x536f('0xdf9')],this[_0x536f('0xdf9')][_0x536f('0x168')]['cameraNearFar'][_0x536f('0x10')]=new THREE[(_0x536f('0x1b5'))](this['renderCamera'][_0x536f('0x343')],this[_0x536f('0xdf2')][_0x536f('0x344')]),this[_0x536f('0xdf9')][_0x536f('0x168')]['depthTexture'][_0x536f('0x10')]=this[_0x536f('0xdfe')][_0x536f('0x1c7')],this[_0x536f('0xdf9')][_0x536f('0x168')][_0x536f('0x79e')]['value']=this['textureMatrix'],_0x6b1260[_0x536f('0x732')](this['renderTargetMaskBuffer']),_0x6b1260['clear'](),_0x6b1260[_0x536f('0x36a')](this[_0x536f('0xe14')],this[_0x536f('0xdf2')]),this[_0x536f('0xe14')][_0x536f('0xbca')]=null,this[_0x536f('0xe19')](!0x0),this[_0x536f('0xe14')]['background']=_0x78761a,this['fsQuad'][_0x536f('0xce')]=this['materialCopy'],this[_0x536f('0xbeb')]['tDiffuse']['value']=this[_0x536f('0xdf6')]['texture'],_0x6b1260['setRenderTarget'](this['renderTargetMaskDownSampleBuffer']),_0x6b1260[_0x536f('0x2dc')](),this['fsQuad'][_0x536f('0x36a')](_0x6b1260),this[_0x536f('0xe10')][_0x536f('0x1bc')](this['visibleEdgeColor']),this[_0x536f('0xe11')][_0x536f('0x1bc')](this[_0x536f('0xb73')]),0x0<this[_0x536f('0xb7a')]&&(_0x78761a=0.625+0.75*Math[_0x536f('0x5b')](0.01*performance[_0x536f('0x2cf')]()/this['pulsePeriod'])/0x2,this['tempPulseColor1'][_0x536f('0x1c2')](_0x78761a),this[_0x536f('0xe11')]['multiplyScalar'](_0x78761a)),this[_0x536f('0xbd5')][_0x536f('0xce')]=this[_0x536f('0xe06')],this[_0x536f('0xe06')][_0x536f('0x168')][_0x536f('0x79f')]['value']=this['renderTargetMaskDownSampleBuffer'][_0x536f('0x1c7')],this[_0x536f('0xe06')][_0x536f('0x168')][_0x536f('0xbe4')][_0x536f('0x10')]=new THREE[(_0x536f('0x1b5'))](this[_0x536f('0xe00')][_0x536f('0x366')],this['renderTargetMaskDownSampleBuffer'][_0x536f('0x339')]),this[_0x536f('0xe06')][_0x536f('0x168')][_0x536f('0xb72')][_0x536f('0x10')]=this[_0x536f('0xe10')],this[_0x536f('0xe06')][_0x536f('0x168')][_0x536f('0xb73')][_0x536f('0x10')]=this[_0x536f('0xe11')],_0x6b1260['setRenderTarget'](this['renderTargetEdgeBuffer1']),_0x6b1260['clear'](),this[_0x536f('0xbd5')][_0x536f('0x36a')](_0x6b1260),this['fsQuad'][_0x536f('0xce')]=this['separableBlurMaterial1'],this['separableBlurMaterial1']['uniforms']['colorTexture'][_0x536f('0x10')]=this[_0x536f('0xe08')][_0x536f('0x1c7')],this[_0x536f('0xe0b')][_0x536f('0x168')][_0x536f('0x22c')][_0x536f('0x10')]=THREE['OutlinePass'][_0x536f('0xe1a')],this[_0x536f('0xe0b')][_0x536f('0x168')][_0x536f('0xe0c')][_0x536f('0x10')]=this[_0x536f('0xb78')],_0x6b1260[_0x536f('0x732')](this[_0x536f('0xe02')]),_0x6b1260['clear'](),this['fsQuad']['render'](_0x6b1260),this[_0x536f('0xe0b')][_0x536f('0x168')][_0x536f('0xbf0')][_0x536f('0x10')]=this[_0x536f('0xe02')][_0x536f('0x1c7')],this[_0x536f('0xe0b')][_0x536f('0x168')][_0x536f('0x22c')][_0x536f('0x10')]=THREE[_0x536f('0xb95')]['BlurDirectionY'],_0x6b1260[_0x536f('0x732')](this['renderTargetEdgeBuffer1']),_0x6b1260[_0x536f('0x2dc')](),this[_0x536f('0xbd5')]['render'](_0x6b1260),this['fsQuad'][_0x536f('0xce')]=this[_0x536f('0xe0d')],this[_0x536f('0xe0d')][_0x536f('0x168')]['colorTexture'][_0x536f('0x10')]=this['renderTargetEdgeBuffer1'][_0x536f('0x1c7')],this[_0x536f('0xe0d')]['uniforms']['direction'][_0x536f('0x10')]=THREE[_0x536f('0xb95')][_0x536f('0xe1a')],_0x6b1260['setRenderTarget'](this[_0x536f('0xe04')]),_0x6b1260[_0x536f('0x2dc')](),this[_0x536f('0xbd5')][_0x536f('0x36a')](_0x6b1260),this[_0x536f('0xe0d')][_0x536f('0x168')][_0x536f('0xbf0')]['value']=this[_0x536f('0xe04')][_0x536f('0x1c7')],this[_0x536f('0xe0d')][_0x536f('0x168')]['direction']['value']=THREE['OutlinePass'][_0x536f('0xbf1')],_0x6b1260['setRenderTarget'](this['renderTargetEdgeBuffer2']),_0x6b1260[_0x536f('0x2dc')](),this[_0x536f('0xbd5')][_0x536f('0x36a')](_0x6b1260),this[_0x536f('0xbd5')]['material']=this[_0x536f('0xe1b')],this[_0x536f('0xe1b')][_0x536f('0x168')][_0x536f('0x79f')]['value']=this['renderTargetMaskBuffer'][_0x536f('0x1c7')],this[_0x536f('0xe1b')][_0x536f('0x168')][_0x536f('0xe1c')]['value']=this[_0x536f('0xe08')][_0x536f('0x1c7')],this['overlayMaterial'][_0x536f('0x168')][_0x536f('0xe1d')]['value']=this[_0x536f('0xe09')]['texture'],this[_0x536f('0xe1b')]['uniforms'][_0x536f('0xe1e')][_0x536f('0x10')]=this['patternTexture'],this[_0x536f('0xe1b')][_0x536f('0x168')]['edgeStrength'][_0x536f('0x10')]=this[_0x536f('0xb75')],this[_0x536f('0xe1b')]['uniforms'][_0x536f('0xb77')][_0x536f('0x10')]=this['edgeGlow'],this[_0x536f('0xe1b')][_0x536f('0x168')][_0x536f('0xe1f')][_0x536f('0x10')]=this[_0x536f('0xe1f')],_0x45ff63&&_0x6b1260['context'][_0x536f('0x211')](_0x6b1260['context'][_0x536f('0xbef')]),_0x6b1260[_0x536f('0x732')](_0x5a86cd),this[_0x536f('0xbd5')][_0x536f('0x36a')](_0x6b1260),_0x6b1260['setClearColor'](this[_0x536f('0xbee')],this[_0x536f('0xbed')]),_0x6b1260['autoClear']=_0x17dd27),this[_0x536f('0xb94')]&&(this[_0x536f('0xbd5')][_0x536f('0xce')]=this['materialCopy'],this[_0x536f('0xbeb')][_0x536f('0xbd4')]['value']=_0x5a86cd[_0x536f('0x1c7')],_0x6b1260[_0x536f('0x732')](null),this[_0x536f('0xbd5')][_0x536f('0x36a')](_0x6b1260));},'getPrepareMaskMaterial':function(){return new THREE[(_0x536f('0x3b3'))]({'uniforms':{'depthTexture':{'value':null},'cameraNearFar':{'value':new THREE[(_0x536f('0x1b5'))](0.5,0.5)},'textureMatrix':{'value':new THREE[(_0x536f('0x35e'))]()}},'vertexShader':[_0x536f('0xe20'),_0x536f('0xe21'),_0x536f('0xe22'),'void\x20main()\x20{',_0x536f('0xe23'),'\x09vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);',_0x536f('0xe24'),_0x536f('0xe25'),'}'][_0x536f('0x107')]('\x0a'),'fragmentShader':[_0x536f('0xe26'),_0x536f('0xe21'),_0x536f('0xe20'),'uniform\x20sampler2D\x20depthTexture;',_0x536f('0xe27'),_0x536f('0x1a0'),_0x536f('0xe28'),_0x536f('0xe29'),_0x536f('0xe2a'),'\x09gl_FragColor\x20=\x20vec4(0.0,\x20depthTest,\x201.0,\x201.0);','}'][_0x536f('0x107')]('\x0a')});},'getEdgeDetectionMaterial':function(){return new THREE[(_0x536f('0x3b3'))]({'uniforms':{'maskTexture':{'value':null},'texSize':{'value':new THREE[(_0x536f('0x1b5'))](0.5,0.5)},'visibleEdgeColor':{'value':new THREE[(_0x536f('0x59'))](0x1,0x1,0x1)},'hiddenEdgeColor':{'value':new THREE[(_0x536f('0x59'))](0x1,0x1,0x1)}},'vertexShader':_0x536f('0x724'),'fragmentShader':_0x536f('0xe2b')});},'getSeperableBlurMaterial':function(_0x6b1260){return new THREE[(_0x536f('0x3b3'))]({'defines':{'MAX_RADIUS':_0x6b1260},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE[(_0x536f('0x1b5'))](0.5,0.5)},'direction':{'value':new THREE[(_0x536f('0x1b5'))](0.5,0.5)},'kernelRadius':{'value':0x1}},'vertexShader':'varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','fragmentShader':'#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09uniform\x20float\x20kernelRadius;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20kernelRadius);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09vec2\x20delta\x20=\x20direction\x20*\x20invSize\x20*\x20kernelRadius/float(MAX_RADIUS);\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20delta;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<=\x20MAX_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(uvOffset.x,\x20kernelRadius);\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20((sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w);\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x20(2.0\x20*\x20w);\x09\x09\x09\x09\x09\x09uvOffset\x20+=\x20delta;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x09\x09\x09\x09}'});},'getOverlayMaterial':function(){return new THREE[(_0x536f('0x3b3'))]({'uniforms':{'maskTexture':{'value':null},'edgeTexture1':{'value':null},'edgeTexture2':{'value':null},'patternTexture':{'value':null},'edgeStrength':{'value':0x1},'edgeGlow':{'value':0x1},'usePatternTexture':{'value':0x0}},'vertexShader':_0x536f('0x724'),'fragmentShader':_0x536f('0xe2c'),'blending':THREE[_0x536f('0x44b')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0});}}),THREE[_0x536f('0xb95')]['BlurDirectionX']=new THREE[(_0x536f('0x1b5'))](0x1,0x0),THREE[_0x536f('0xb95')]['BlurDirectionY']=new THREE[(_0x536f('0x1b5'))](0x0,0x1);},function(_0x25f2cc,_0x442937,_0x3724bf){'use strict';Object['defineProperty'](_0x442937,_0x536f('0x4'),{'value':!0x0});var _0x2a2daa=_0x3ddaec(_0x3724bf(0x4)),_0x52e98d=_0x3ddaec(_0x3724bf(0x0)),_0x169f66=_0x3ddaec(_0x3724bf(0x1)),_0x1ebe6b=_0x3724bf(0x11);function _0x3ddaec(_0x25f2cc){return _0x25f2cc&&_0x25f2cc['__esModule']?_0x25f2cc:{'default':_0x25f2cc};}function _0x484135(){(0x0,_0x52e98d[_0x536f('0x6')])(this,_0x484135),this[_0x536f('0xcf')]=(0x0,_0x1ebe6b['getMapInstance'])(),this[_0x536f('0x45d')]=!0x1,this[_0x536f('0xe2d')]=!0x1,this['isRealTimeUpdate']=!0x1,this['shadowLight']=null,this[_0x536f('0xe2e')]={'bias':-0.0001,'normalBias':0x0,'radius':0x1,'mapWidth':0x800,'mapHeight':0x800},this[_0x536f('0xe2f')]=null,this[_0x536f('0x7c6')]=null,this[_0x536f('0xe30')]=null,this[_0x536f('0x97b')]=!0x1,this[_0x536f('0x9e5')]=null,this[_0x536f('0xe31')]=new THREE[(_0x536f('0xe32'))](),this[_0x536f('0xe33')]=new THREE['Vector3']();}(0x0,_0x169f66[_0x536f('0x6')])(_0x484135,[{'key':_0x536f('0xe34'),'value':function(_0x25f2cc){var _0x442937;_0x25f2cc['shadowConfigs']&&(_0x442937=_0x25f2cc[_0x536f('0xe2e')][_0x536f('0xa73')]||_0x25f2cc[_0x536f('0xe2e')][_0x536f('0x344')]||0x7d0,this[_0x536f('0x7c6')]=new THREE[(_0x536f('0x74d'))](0x2d,0x1,_0x25f2cc[_0x536f('0xe2e')]['nearFactor']*_0x442937,_0x25f2cc[_0x536f('0xe2e')]['farFactor']*_0x442937));}},{'key':_0x536f('0x37d'),'value':function(_0x25f2cc){this['enabled']=!0x0,this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0x45d')]=!0x0,this[_0x536f('0xcf')][_0x536f('0x48e')]['renderer'][_0x536f('0x972')][_0x536f('0xe35')]=!!_0x25f2cc[_0x536f('0x5ab')],this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')]['shadowMap'][_0x536f('0x76')]=THREE[_0x536f('0xe36')];var _0x442937,_0x3724bf=this[_0x536f('0xcf')][_0x536f('0x48e')][_0x25f2cc[_0x536f('0x936')]];_0x25f2cc['resolution']&&(this[_0x536f('0xe2e')][_0x536f('0xe37')]=_0x25f2cc['resolution'],this[_0x536f('0xe2e')]['mapHeight']=_0x25f2cc[_0x536f('0x370')]),_0x3724bf&&(_0x25f2cc['shadowConfigs']?(_0x3724bf[_0x536f('0x3b')][_0x536f('0x1b')](_0x25f2cc[_0x536f('0xe2e')]['position']['x'],_0x25f2cc[_0x536f('0xe2e')][_0x536f('0x3b')]['y'],_0x25f2cc['shadowConfigs'][_0x536f('0x3b')]['z']),(_0x442937=new THREE[(_0x536f('0x372'))]())[_0x536f('0x3b')][_0x536f('0x1b')](_0x25f2cc['shadowConfigs'][_0x536f('0x77')]['x'],_0x25f2cc['shadowConfigs'][_0x536f('0x77')]['y'],_0x25f2cc['shadowConfigs'][_0x536f('0x77')]['z']),this[_0x536f('0xcf')]['mapView'][_0x536f('0x489')]['add'](_0x442937),_0x3724bf[_0x536f('0x77')]=_0x442937,_0x3724bf[_0x536f('0xa43')]=!0x0):(_0x3724bf[_0x536f('0x3b')][_0x536f('0x1b')](0x1f4,0x2bc,-0x1f4),_0x3724bf['target']['position'][_0x536f('0x1b')](0x0,0x0,0x0),_0x3724bf['castShadow']=!0x0,this[_0x536f('0x7c6')]=new THREE[(_0x536f('0x74d'))](0x2d,0x1,0x2bc,0x4e2)),_0x3724bf[_0x536f('0x935')]=new THREE['LightShadow'](this[_0x536f('0x7c6')]),_0x3724bf[_0x536f('0x935')][_0x536f('0xe38')]=0x2,_0x3724bf['shadow'][_0x536f('0xe39')]=_0x25f2cc[_0x536f('0xe39')]||this[_0x536f('0xe2e')][_0x536f('0xe39')],_0x3724bf[_0x536f('0x935')][_0x536f('0xe38')]=_0x25f2cc[_0x536f('0xe38')]||this[_0x536f('0xe2e')][_0x536f('0xe38')],_0x3724bf[_0x536f('0x935')]['radius']=this[_0x536f('0xe2e')]['radius'],_0x3724bf[_0x536f('0x935')][_0x536f('0x740')][_0x536f('0x366')]=this[_0x536f('0xe2e')][_0x536f('0xe37')],_0x3724bf[_0x536f('0x935')][_0x536f('0x740')][_0x536f('0x339')]=this[_0x536f('0xe2e')][_0x536f('0xe3a')],_0x25f2cc['debug']&&(_0x442937=new THREE[(_0x536f('0xe3b'))](_0x3724bf['shadow'][_0x536f('0x342')]),this[_0x536f('0xcf')][_0x536f('0x48e')]['scene'][_0x536f('0x1c3')](_0x442937),this['shadowCameraHelper']=_0x442937),this[_0x536f('0xe3c')]=_0x3724bf,this[_0x536f('0xe3d')](_0x25f2cc));}},{'key':'init2','value':function(_0x25f2cc){this['dataConfigs']=_0x25f2cc,this['enabled']=!0x0,this[_0x536f('0xcf')]['mapView'][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0x45d')]=!0x0,this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xe35')]=!!_0x25f2cc['debug'],this['map']['mapView']['renderer'][_0x536f('0x972')]['type']=THREE['PCFSoftShadowMap'];var _0x442937=this[_0x536f('0xcf')][_0x536f('0x48e')][_0x25f2cc[_0x536f('0x936')]||'mainLight'],_0x3724bf=(_0x25f2cc['resolution']&&(this[_0x536f('0xe2e')][_0x536f('0xe37')]=_0x25f2cc[_0x536f('0x370')],this[_0x536f('0xe2e')]['mapHeight']=_0x25f2cc[_0x536f('0x370')]),this[_0x536f('0x7c6')]||(this[_0x536f('0x7c6')]=new THREE[(_0x536f('0x74d'))](0x2d,0x1,0xa,0x3e8)),new THREE[(_0x536f('0x372'))]());this[_0x536f('0xcf')][_0x536f('0x48e')]['scene'][_0x536f('0x1c3')](_0x3724bf),_0x442937[_0x536f('0x77')]=_0x3724bf,_0x442937[_0x536f('0xa43')]=!0x0,_0x442937['shadow']=new THREE[(_0x536f('0xe3e'))](this[_0x536f('0x7c6')]),_0x442937['shadow'][_0x536f('0x21d')]=0.1,_0x442937[_0x536f('0x935')][_0x536f('0xe39')]=_0x25f2cc[_0x536f('0xe39')]||this[_0x536f('0xe2e')][_0x536f('0xe39')],_0x442937[_0x536f('0x935')][_0x536f('0xe38')]=_0x25f2cc[_0x536f('0xe38')]||this[_0x536f('0xe2e')][_0x536f('0xe38')],_0x442937[_0x536f('0x935')][_0x536f('0x21d')]=this['shadowConfigs'][_0x536f('0x21d')],_0x442937[_0x536f('0x935')][_0x536f('0x740')][_0x536f('0x366')]=this[_0x536f('0xe2e')][_0x536f('0xe37')],_0x442937[_0x536f('0x935')][_0x536f('0x740')][_0x536f('0x339')]=this[_0x536f('0xe2e')][_0x536f('0xe3a')],_0x25f2cc[_0x536f('0x5ab')]&&(_0x3724bf=new THREE[(_0x536f('0xe3b'))](_0x442937[_0x536f('0x935')][_0x536f('0x342')]),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](_0x3724bf),this[_0x536f('0xe30')]=_0x3724bf),this[_0x536f('0xe3c')]=_0x442937;}},{'key':_0x536f('0xe3f'),'value':function(_0x25f2cc,_0x442937){this['enabled']=!0x0,this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0x45d')]=!0x0,this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xe35')]=!!_0x442937[_0x536f('0x5ab')],this['map'][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')]['type']=THREE[_0x536f('0xe36')],_0x442937[_0x536f('0x370')]&&(this[_0x536f('0xe2e')][_0x536f('0xe37')]=_0x442937['resolution'],this[_0x536f('0xe2e')][_0x536f('0xe3a')]=_0x442937[_0x536f('0x370')]),this[_0x536f('0x7c6')]=new THREE[(_0x536f('0x74d'))](0x2d,0x1,0xa,0x3e8);var _0x3724bf=new THREE[(_0x536f('0x372'))]();this['map'][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](_0x3724bf),_0x25f2cc[_0x536f('0x77')]=_0x3724bf,_0x25f2cc[_0x536f('0xa43')]=!0x0,_0x25f2cc[_0x536f('0x935')]=new THREE[(_0x536f('0xe3e'))](this['shadowCamera']),_0x25f2cc[_0x536f('0x935')][_0x536f('0x21d')]=0.1,_0x25f2cc[_0x536f('0x935')][_0x536f('0xe39')]=_0x442937[_0x536f('0xe39')]||this[_0x536f('0xe2e')][_0x536f('0xe39')],_0x25f2cc[_0x536f('0x935')][_0x536f('0xe38')]=_0x442937['normalBias']||this[_0x536f('0xe2e')]['normalBias'],_0x25f2cc['shadow'][_0x536f('0x21d')]=this[_0x536f('0xe2e')][_0x536f('0x21d')],_0x25f2cc[_0x536f('0x935')][_0x536f('0x740')][_0x536f('0x366')]=this[_0x536f('0xe2e')]['mapWidth'],_0x25f2cc[_0x536f('0x935')][_0x536f('0x740')][_0x536f('0x339')]=this['shadowConfigs']['mapHeight'],_0x442937[_0x536f('0x5ab')]&&(_0x3724bf=new THREE[(_0x536f('0xe3b'))](_0x25f2cc[_0x536f('0x935')][_0x536f('0x342')]),this['map'][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](_0x3724bf),this[_0x536f('0xe30')]=_0x3724bf),this[_0x536f('0xe3c')]=_0x25f2cc,this[_0x536f('0xe3c')];}},{'key':'updateShadow2','value':function(_0x25f2cc,_0x442937,_0x3724bf){var _0x52e98d;_0x25f2cc&&this[_0x536f('0x7c6')]&&(_0x52e98d=Math['max'](this['map']['controls'][_0x536f('0xe40')](),0xbb8),esmap[_0x536f('0x4e')][_0x536f('0x9c2')]&&this['isUpdated']&&!this[_0x536f('0xe41')]&&this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x77')]['distanceTo'](_0x25f2cc[_0x536f('0x77')]['position'])<Math[_0x536f('0x1af')](0.25*_0x52e98d,0x64)||this[_0x536f('0xe42')](_0x25f2cc,_0x442937));}},{'key':_0x536f('0xe42'),'value':function(_0x25f2cc,_0x442937){var _0x3724bf=(0x0,_0x1ebe6b[_0x536f('0x25')])(_0x25f2cc['pitchAngle'],_0x25f2cc[_0x536f('0x31f')]),_0x3724bf=(_0x25f2cc[_0x536f('0x3b')]['copy'](_0x3724bf),_0x442937[_0x536f('0xe2e')]['distance']||_0x442937[_0x536f('0xe2e')][_0x536f('0x344')]||0x7d0);_0x25f2cc[_0x536f('0x3b')]['normalize']()[_0x536f('0x1c2')](_0x3724bf)[_0x536f('0x1c3')](new THREE[(_0x536f('0x59'))](this['map'][_0x536f('0x307')][_0x536f('0x77')]['x'],0x0,this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x77')]['z'])),_0x25f2cc[_0x536f('0x77')][_0x536f('0x3b')][_0x536f('0x1bc')](new THREE['Vector3'](this['map'][_0x536f('0x307')]['target']['x'],0x0,this[_0x536f('0xcf')][_0x536f('0x307')]['target']['z'])),_0x25f2cc[_0x536f('0x77')][_0x536f('0x99c')](!0x0),_0x442937[_0x536f('0xe2e')]&&_0x442937[_0x536f('0xe2e')][_0x536f('0xe43')]&&_0x442937[_0x536f('0xe2e')][_0x536f('0xe44')]?(this[_0x536f('0x7c6')]['near']=_0x3724bf*_0x442937['shadowConfigs'][_0x536f('0xe43')],this['shadowCamera'][_0x536f('0x344')]=_0x3724bf*_0x442937[_0x536f('0xe2e')][_0x536f('0xe44')]):(this[_0x536f('0x7c6')][_0x536f('0x343')]=0.4*_0x3724bf,this['shadowCamera'][_0x536f('0x344')]=0.4*_0x3724bf*0x3),this['shadowCamera'][_0x536f('0x856')](),_0x442937[_0x536f('0x5ab')]&&_0x25f2cc[_0x536f('0x83c')]&&(_0x25f2cc[_0x536f('0x83c')][_0x536f('0x2f3')](),this[_0x536f('0xe30')]&&this[_0x536f('0xe30')]['update']()),this['map'][_0x536f('0x48e')]['renderer'][_0x536f('0x972')][_0x536f('0xfa')]=!0x0,this[_0x536f('0xe2d')]=!0x0;}},{'key':_0x536f('0xa06'),'value':function(_0x25f2cc){for(var _0x442937=this,_0x3724bf=_0x25f2cc[_0x536f('0xa0e')],_0x52e98d=_0x25f2cc[_0x536f('0x6c1')],_0x52e98d=void 0x0===_0x52e98d||_0x52e98d,_0x25f2cc=_0x25f2cc[_0x536f('0xa7e')],_0x25f2cc=void 0x0===_0x25f2cc?1.5:_0x25f2cc,_0x169f66=null,_0x3ddaec=0x0;_0x3ddaec<_0x3724bf[_0x536f('0x958')][_0x536f('0xd')];_0x3ddaec++)_0x3724bf[_0x536f('0x958')][_0x3ddaec][_0x536f('0x92')]===this[_0x536f('0xe3c')][_0x536f('0x92')]&&(_0x169f66=_0x3724bf[_0x536f('0x958')][_0x3ddaec]);this[_0x536f('0xe3c')]&&_0x169f66&&_0x169f66[_0x536f('0x31f')]&&_0x169f66[_0x536f('0x30d')]&&(_0x52e98d?new TWEEN[(_0x536f('0x323'))]({'directionAngle':this[_0x536f('0xe3c')][_0x536f('0x31f')],'pitchAngle':this[_0x536f('0xe3c')]['pitchAngle'],'targetX':this['shadowLight'][_0x536f('0x77')][_0x536f('0x3b')]['x'],'targetY':this[_0x536f('0xe3c')][_0x536f('0x77')][_0x536f('0x3b')]['y'],'targetZ':this[_0x536f('0xe3c')][_0x536f('0x77')]['position']['z']})['to']({'directionAngle':_0x169f66['directionAngle'],'pitchAngle':_0x169f66[_0x536f('0x30d')],'targetX':_0x3724bf[_0x536f('0x935')][_0x536f('0xe2e')][_0x536f('0x77')]['x'],'targetY':_0x3724bf[_0x536f('0x935')][_0x536f('0xe2e')][_0x536f('0x77')]['y'],'targetZ':_0x3724bf[_0x536f('0x935')][_0x536f('0xe2e')][_0x536f('0x77')]['z']},0x3e8*_0x25f2cc)['easing'](TWEEN['Easing'][_0x536f('0x441')]['None'])[_0x536f('0x328')](function(){_0x442937[_0x536f('0xcf')][_0x536f('0x48e')]['renderer'][_0x536f('0x972')][_0x536f('0xe35')]=!0x0;})[_0x536f('0x32a')](function(_0x25f2cc){_0x442937[_0x536f('0xe3c')][_0x536f('0x77')]['position']['set'](_0x25f2cc[_0x536f('0xe45')],_0x25f2cc[_0x536f('0xe46')],_0x25f2cc[_0x536f('0xe47')]),_0x442937[_0x536f('0xe3c')]['directionAngle']=_0x25f2cc[_0x536f('0x31f')],_0x442937[_0x536f('0xe3c')]['pitchAngle']=_0x25f2cc[_0x536f('0x30d')],_0x442937[_0x536f('0xe42')](_0x442937[_0x536f('0xe3c')],_0x3724bf[_0x536f('0x935')]);})[_0x536f('0x70f')](function(){_0x442937['map']['mapView'][_0x536f('0x534')][_0x536f('0x972')]['autoUpdate']=!0x1,_0x442937[_0x536f('0xcf')]['mapView'][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0x45d')]=!0x0,_0x442937[_0x536f('0xcf')]['mapView'][_0x536f('0x534')]['shadowMap'][_0x536f('0xfa')]=!0x0;})[_0x536f('0x329')]():(this[_0x536f('0xe3c')][_0x536f('0x77')][_0x536f('0x3b')]['set'](+_0x3724bf['shadow']['shadowConfigs']['target']['x'],+_0x3724bf[_0x536f('0x935')][_0x536f('0xe2e')][_0x536f('0x77')]['y'],+_0x3724bf[_0x536f('0x935')]['shadowConfigs'][_0x536f('0x77')]['x']),this[_0x536f('0xe3c')][_0x536f('0x31f')]=_0x169f66[_0x536f('0x31f')],this[_0x536f('0xe3c')]['pitchAngle']=_0x169f66[_0x536f('0x30d')],this[_0x536f('0xe42')](this[_0x536f('0xe3c')],_0x3724bf[_0x536f('0x935')])));}},{'key':_0x536f('0xe48'),'value':function(_0x25f2cc){var _0x442937=this,_0x3724bf=_0x25f2cc['config'],_0x52e98d=_0x25f2cc['isAnimate'],_0x25f2cc=_0x25f2cc[_0x536f('0xa7e')],_0x25f2cc=void 0x0===_0x25f2cc?1.5:_0x25f2cc;void 0x0===_0x52e98d||_0x52e98d?new TWEEN[(_0x536f('0x323'))]({'posX':this['shadowLight'][_0x536f('0x3b')]['x'],'posY':this[_0x536f('0xe3c')][_0x536f('0x3b')]['y'],'posZ':this[_0x536f('0xe3c')][_0x536f('0x3b')]['z'],'targetX':this[_0x536f('0xe3c')]['target'][_0x536f('0x3b')]['x'],'targetY':this[_0x536f('0xe3c')][_0x536f('0x77')][_0x536f('0x3b')]['y'],'targetZ':this[_0x536f('0xe3c')][_0x536f('0x77')][_0x536f('0x3b')]['z']})['to']({'posX':_0x3724bf[_0x536f('0xe2e')][_0x536f('0x3b')]['x'],'posY':_0x3724bf[_0x536f('0xe2e')][_0x536f('0x3b')]['y'],'posZ':_0x3724bf[_0x536f('0xe2e')][_0x536f('0x3b')]['z'],'targetX':_0x3724bf[_0x536f('0xe2e')][_0x536f('0x77')]['x'],'targetY':_0x3724bf[_0x536f('0xe2e')]['target']['y'],'targetZ':_0x3724bf[_0x536f('0xe2e')][_0x536f('0x77')]['z']},0x3e8*_0x25f2cc)['easing'](TWEEN[_0x536f('0x325')][_0x536f('0x441')][_0x536f('0x442')])[_0x536f('0x328')](function(){_0x442937[_0x536f('0xcf')][_0x536f('0x48e')]['renderer'][_0x536f('0x972')][_0x536f('0xe35')]=!0x0;})[_0x536f('0x32a')](function(_0x25f2cc){_0x442937[_0x536f('0xe3c')][_0x536f('0x3b')][_0x536f('0x1b')](_0x25f2cc[_0x536f('0xe49')],_0x25f2cc[_0x536f('0xe4a')],_0x25f2cc[_0x536f('0xe4b')]),_0x442937[_0x536f('0xe3c')]['target'][_0x536f('0x3b')][_0x536f('0x1b')](_0x25f2cc[_0x536f('0xe45')],_0x25f2cc[_0x536f('0xe46')],_0x25f2cc[_0x536f('0xe47')]);})[_0x536f('0x70f')](function(){_0x442937[_0x536f('0xcf')]['mapView'][_0x536f('0x534')]['shadowMap'][_0x536f('0xe35')]=!0x1,_0x442937[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0x45d')]=!0x0,_0x442937[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0x972')][_0x536f('0xfa')]=!0x0;})[_0x536f('0x329')]():(this[_0x536f('0xe3c')][_0x536f('0x3b')][_0x536f('0x1b')](_0x3724bf[_0x536f('0xe2e')]['position']['x'],_0x3724bf[_0x536f('0xe2e')][_0x536f('0x3b')]['y'],_0x3724bf[_0x536f('0xe2e')][_0x536f('0x3b')]['z']),this[_0x536f('0xe3c')]['target'][_0x536f('0x3b')][_0x536f('0x1b')](_0x3724bf[_0x536f('0xe2e')][_0x536f('0x77')]['x'],_0x3724bf[_0x536f('0xe2e')]['target']['y'],_0x3724bf[_0x536f('0xe2e')][_0x536f('0x77')]['z']),this[_0x536f('0x7c6')]=new THREE[(_0x536f('0x74d'))](0x2d,0x1,_0x3724bf[_0x536f('0xe2e')][_0x536f('0xe43')],_0x3724bf[_0x536f('0xe2e')]['farFactor']));}},{'key':_0x536f('0xe4c'),'value':function(_0x442937,_0x3724bf){var _0x52e98d=this,_0x25f2cc=esmap[_0x536f('0x4e')][_0x536f('0x518')][_0x536f('0xe4d')]()[_0x536f('0xa70')]||this[_0x536f('0xcf')]['mapView'][_0x536f('0xb2e')],_0x25f2cc=(this[_0x536f('0xe3f')](_0x25f2cc,_0x442937[_0x536f('0x935')]),new THREE[(_0x536f('0x47e'))]({'color':'#ffffff','transparent':!0x0,'depthWrite':!0x1}));_0x25f2cc[_0x536f('0x422')]=function(_0x25f2cc){_0x25f2cc['fragmentShader']=_0x25f2cc['fragmentShader'][_0x536f('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(1.0,\x200.0,\x20resultColor.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');},this[_0x536f('0x9e5')]=new THREE[(_0x536f('0x354'))](new THREE[(_0x536f('0x428'))](0x1,0x1),_0x25f2cc),this[_0x536f('0x9e5')][_0x536f('0x1f0')]['x']=0.5*-Math['PI'],this[_0x536f('0x9e5')][_0x536f('0x7a5')]=!0x0,this[_0x536f('0x9e5')][_0x536f('0x36c')]=!0x1,this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1c3')](this[_0x536f('0x9e5')]),this[_0x536f('0xe4e')](_0x442937['shadow']),this['map']['on'](_0x536f('0xe4f'),function(_0x25f2cc){setTimeout(function(){_0x52e98d['updateTileShadow'](_0x442937['shadow']);},0xfa0);}),this[_0x536f('0xcf')]['controls']['addEventListener'](_0x536f('0x45c'),function(_0x25f2cc){_0x442937[_0x536f('0x935')][_0x536f('0x227')]||_0x52e98d[_0x536f('0xe4e')](_0x442937[_0x536f('0x935')],_0x3724bf);});}},{'key':_0x536f('0xe4e'),'value':function(_0x25f2cc,_0x442937){var _0x3724bf,_0x52e98d,_0x169f66=esmap[_0x536f('0x4e')][_0x536f('0x518')][_0x536f('0xe4d')]();_0x169f66&&_0x169f66['tileBuildingLight']&&(_0x3724bf=Math[_0x536f('0x1af')](this[_0x536f('0xcf')][_0x536f('0x307')]['getDistance'](),0xfa0),esmap[_0x536f('0x4e')][_0x536f('0x9c2')]&&this['isUpdated']&&this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x77')][_0x536f('0x310')](_0x169f66[_0x536f('0xa70')][_0x536f('0x77')][_0x536f('0x3b')])<Math[_0x536f('0x1af')](0.25*_0x3724bf,0x64)||(this[_0x536f('0x9e5')]['position']['set'](this[_0x536f('0xcf')]['controls'][_0x536f('0x77')]['x'],0x0,this['map']['controls']['target']['z']),this[_0x536f('0x9e5')][_0x536f('0x1dc')]['set'](0xa*_0x3724bf,0xa*_0x3724bf,0x1),_0x52e98d=(0x0,_0x1ebe6b[_0x536f('0x25')])(_0x169f66[_0x536f('0xa70')][_0x536f('0x30d')],_0x169f66[_0x536f('0xa70')][_0x536f('0x31f')]),_0x169f66[_0x536f('0xa70')][_0x536f('0x3b')][_0x536f('0x1bc')](_0x52e98d),_0x169f66['tileBuildingLight'][_0x536f('0x3b')][_0x536f('0x1c1')]()[_0x536f('0x1c2')](_0x3724bf)[_0x536f('0x1c3')](new THREE['Vector3'](this['map']['controls'][_0x536f('0x77')]['x'],0x0,this[_0x536f('0xcf')][_0x536f('0x307')]['target']['z'])),_0x169f66[_0x536f('0xa70')][_0x536f('0x77')]['position'][_0x536f('0x1bc')](new THREE[(_0x536f('0x59'))](this[_0x536f('0xcf')]['controls'][_0x536f('0x77')]['x'],0x0,this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x77')]['z'])),_0x169f66[_0x536f('0xa70')][_0x536f('0x77')][_0x536f('0x99c')](!0x0),this['shadowCamera']['near']=0.7*_0x3724bf,this['shadowCamera'][_0x536f('0x344')]=1.4*_0x3724bf,this[_0x536f('0x7c6')][_0x536f('0x856')](),_0x25f2cc[_0x536f('0x5ab')]&&(_0x169f66[_0x536f('0xa70')][_0x536f('0x83c')][_0x536f('0x2f3')](),this['shadowCameraHelper']['update']()),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')]['shadowMap']['needsUpdate']=!0x0,this[_0x536f('0xe2d')]=!0x0));}},{'key':_0x536f('0xe3d'),'value':function(_0x25f2cc){var _0x442937=(0x0,_0x1ebe6b[_0x536f('0x2c')])(0x0)[_0x536f('0x522')](0x1)[_0x536f('0x9bb')]([esmap[_0x536f('0x9bc')][_0x536f('0xa35')],esmap['ESLayerType'][_0x536f('0xa38')],esmap[_0x536f('0x9bc')][_0x536f('0xa5f')]]),_0x3724bf=!0x0,_0x52e98d=!0x1,_0x169f66=void 0x0;try{for(var _0x3ddaec,_0x484135=(0x0,_0x2a2daa[_0x536f('0x6')])(_0x442937);!(_0x3724bf=(_0x3ddaec=_0x484135[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x3724bf=!0x0){var _0x45e192=_0x3ddaec[_0x536f('0x10')],_0x27ba46=!0x0,_0x48b2d0=!0x1,_0x58e249=void 0x0;try{for(var _0x472227,_0x5c5855=(0x0,_0x2a2daa[_0x536f('0x6')])(_0x45e192[_0x536f('0x525')][_0x536f('0x35c')]);!(_0x27ba46=(_0x472227=_0x5c5855['next']())[_0x536f('0x7a')]);_0x27ba46=!0x0){var _0x3706cd=_0x472227[_0x536f('0x10')];if(_0x3706cd[_0x536f('0x3f')][_0x536f('0x605')]){var _0x244ef2=!0x0,_0x18c76a=!0x1,_0x564463=void 0x0;try{for(var _0xaa48d,_0x161057=(0x0,_0x2a2daa[_0x536f('0x6')])(_0x3706cd[_0x536f('0x3f')][_0x536f('0x605')]);!(_0x244ef2=(_0xaa48d=_0x161057[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x244ef2=!0x0){var _0x5e75b2=_0xaa48d[_0x536f('0x10')],_0x13ff1a=+_0x25f2cc[_0x536f('0xe50')]||0x5;if(_0x5e75b2[_0x536f('0xe51')]>_0x13ff1a){_0x3706cd[_0x536f('0xa43')]=!0x0;break;}_0x3706cd[_0x536f('0x7a5')]=!0x0;break;}}catch(_0x2c69e3){_0x18c76a=!0x0,_0x564463=_0x2c69e3;}finally{try{!_0x244ef2&&_0x161057['return']&&_0x161057[_0x536f('0x265')]();}finally{if(_0x18c76a)throw _0x564463;}}}else _0x3706cd[_0x536f('0x7a5')]=!0x0;_0x3706cd[_0x536f('0x3f')][_0x536f('0x9ac')];}}catch(_0x2291a4){_0x48b2d0=!0x0,_0x58e249=_0x2291a4;}finally{try{!_0x27ba46&&_0x5c5855['return']&&_0x5c5855[_0x536f('0x265')]();}finally{if(_0x48b2d0)throw _0x58e249;}}}}catch(_0x45b9ac){_0x52e98d=!0x0,_0x169f66=_0x45b9ac;}finally{try{!_0x3724bf&&_0x484135[_0x536f('0x265')]&&_0x484135['return']();}finally{if(_0x52e98d)throw _0x169f66;}}}},{'key':_0x536f('0x9ad'),'value':function(_0x25f2cc,_0x442937){_0x25f2cc[_0x536f('0x525')][_0x536f('0x41c')](function(_0x25f2cc){'Mesh'===_0x25f2cc[_0x536f('0x76')]&&(_0x25f2cc[_0x536f('0xa43')]=_0x442937,_0x25f2cc[_0x536f('0x7a5')]=_0x442937,_0x25f2cc[_0x536f('0xce')]['needsUpdate']=!0x0);});}},{'key':_0x536f('0xe52'),'value':function(_0x52e98d,_0x169f66){var _0x3ddaec=this;_0x52e98d[_0x536f('0x525')][_0x536f('0x41c')](function(_0x25f2cc){var _0x442937=!0x0,_0x3724bf=!0x0;_0x536f('0x372')===_0x25f2cc['type']||_0x536f('0x1c5')===_0x25f2cc[_0x536f('0x76')]?(_0x25f2cc['name']&&-0x1<_0x25f2cc[_0x536f('0x92')][_0x536f('0x4c')]('__no_receive_shadow')?_0x3724bf=!(_0x442937=!0x1):_0x25f2cc[_0x536f('0x92')]&&-0x1<_0x25f2cc[_0x536f('0x92')]['indexOf']('__no_cast_shadow')?_0x3724bf=!(_0x442937=!0x0):_0x25f2cc[_0x536f('0x92')]&&-0x1<_0x25f2cc['name'][_0x536f('0x4c')]('__no_shadow')&&(_0x3724bf=_0x442937=!0x1),_0x3ddaec[_0x536f('0xe53')](_0x25f2cc,_0x3724bf,_0x442937)):_0x536f('0x354')===_0x25f2cc['type']&&(_0x52e98d[_0x536f('0xe54')]&&(_0x3724bf=!(_0x442937=!0x0)),-0x1!=_0x169f66['model'][_0x536f('0x4c')](_0x536f('0xe55'))&&(_0x3724bf=!(_0x442937=!0x0)),-0x1!=_0x169f66[_0x536f('0x9b0')][_0x536f('0x4c')](_0x536f('0xe56'))&&(_0x3724bf=!(_0x442937=!0x1)),-0x1!=_0x169f66[_0x536f('0x9b0')]['indexOf'](_0x536f('0xe57'))&&(_0x3724bf=_0x442937=!0x1),_0x25f2cc[_0x536f('0x92')]&&-0x1<_0x25f2cc[_0x536f('0x92')][_0x536f('0x4c')](_0x536f('0xe58'))?_0x3724bf=!(_0x442937=!0x1):_0x25f2cc['name']&&-0x1<_0x25f2cc[_0x536f('0x92')][_0x536f('0x4c')](_0x536f('0xe59'))?_0x3724bf=!(_0x442937=!0x0):_0x25f2cc[_0x536f('0x92')]&&-0x1<_0x25f2cc['name'][_0x536f('0x4c')]('__no_shadow')&&(_0x3724bf=_0x442937=!0x1),_0x25f2cc[_0x536f('0xa43')]=_0x3724bf,_0x25f2cc[_0x536f('0x7a5')]=_0x442937);});}},{'key':_0x536f('0x9ae'),'value':function(_0x25f2cc,_0x442937){if(_0x25f2cc['brothers']){var _0x3724bf=!0x0,_0x52e98d=!0x1,_0x169f66=void 0x0;try{for(var _0x3ddaec,_0x484135=(0x0,_0x2a2daa[_0x536f('0x6')])(_0x25f2cc[_0x536f('0x605')]);!(_0x3724bf=(_0x3ddaec=_0x484135[_0x536f('0x79')]())['done']);_0x3724bf=!0x0){var _0x2b98cd=_0x3ddaec[_0x536f('0x10')];this['setMarkerShadowConfig'](_0x25f2cc,_0x2b98cd);}}catch(_0x4b3ac6){_0x52e98d=!0x0,_0x169f66=_0x4b3ac6;}finally{try{!_0x3724bf&&_0x484135[_0x536f('0x265')]&&_0x484135[_0x536f('0x265')]();}finally{if(_0x52e98d)throw _0x169f66;}}}else _0x25f2cc[_0x536f('0x9b2')]&&this['setMarkerShadowConfig'](_0x25f2cc,_0x25f2cc);}},{'key':_0x536f('0xe53'),'value':function(_0x25f2cc,_0x442937,_0x3724bf){_0x536f('0x372')!==_0x25f2cc['type']&&_0x536f('0x1c5')!==_0x25f2cc[_0x536f('0x76')]||_0x25f2cc[_0x536f('0x41c')](function(_0x25f2cc){_0x536f('0x354')===_0x25f2cc['type']&&(_0x25f2cc['castShadow']=_0x442937,_0x25f2cc['receiveShadow']=_0x3724bf);}),_0x536f('0x354')===_0x25f2cc[_0x536f('0x76')]&&(_0x25f2cc['castShadow']=_0x442937,_0x25f2cc[_0x536f('0x7a5')]=_0x3724bf);}},{'key':'setMergeMeshShadow','value':function(_0x25f2cc){var _0x442937=new THREE[(_0x536f('0x832'))]({'depthPacking':THREE[_0x536f('0xdf8')]}),_0x3724bf=this;_0x442937[_0x536f('0x422')]=function(_0x25f2cc){_0x25f2cc[_0x536f('0x168')][_0x536f('0x833')]={'value':_0x3724bf[_0x536f('0x7c6')][_0x536f('0x7ab')]},_0x25f2cc[_0x536f('0x57')]=_0x25f2cc[_0x536f('0x57')][_0x536f('0x56')]('#include\x20<common>\x0a',_0x536f('0x82d')+_0x3724bf['vertexPars_V1'])[_0x536f('0x56')](_0x536f('0x424'),_0x536f('0x82e')+_0x3724bf[_0x536f('0x816')])['replace'](_0x536f('0x63a'),_0x3724bf[_0x536f('0x819')]);},_0x25f2cc[_0x536f('0x7ca')]=_0x442937;}},{'key':_0x536f('0xe5a'),'value':function(){var _0x25f2cc=new THREE['Quaternion']()[_0x536f('0xe5b')](new THREE[(_0x536f('0x59'))](0x0,0x1,0x0),this[_0x536f('0xe3c')][_0x536f('0x3b')]),_0x25f2cc=new THREE[(_0x536f('0x59'))](0x1,0x0,0x0)[_0x536f('0xe5c')](_0x25f2cc);this[_0x536f('0xe3c')][_0x536f('0x3b')]['applyAxisAngle'](_0x25f2cc,0x14);}}]),_0x442937[_0x536f('0x6')]=_0x484135;},function(_0x842501,_0x296274,_0x1a3cb2){'use strict';Object[_0x536f('0x1')](_0x296274,_0x536f('0x4'),{'value':!0x0});var _0x41ef18=_0x392295(_0x1a3cb2(0x0)),_0x194077=_0x392295(_0x1a3cb2(0x1)),_0x31f18a=_0x1a3cb2(0x11);function _0x392295(_0x842501){return _0x842501&&_0x842501['__esModule']?_0x842501:{'default':_0x842501};}function _0x376506(){(0x0,_0x41ef18[_0x536f('0x6')])(this,_0x376506),this['map']=(0x0,_0x31f18a[_0x536f('0x2d')])(),this[_0x536f('0x1db')]=null;}(0x0,_0x194077[_0x536f('0x6')])(_0x376506,[{'key':_0x536f('0x37d'),'value':function(_0x842501){'linear'===_0x842501[_0x536f('0x76')]&&(this[_0x536f('0x1db')]=new THREE[(_0x536f('0xa0b'))](0xffffff,0x0,0x3e8),_0x842501[_0x536f('0x21f')]&&this[_0x536f('0x1db')][_0x536f('0x21f')][_0x536f('0x33d')](_0x842501[_0x536f('0x21f')]),_0x842501[_0x536f('0x343')]&&(this[_0x536f('0x1db')][_0x536f('0x343')]=_0x842501['near']),_0x842501[_0x536f('0x344')]&&(this[_0x536f('0x1db')][_0x536f('0x344')]=_0x842501[_0x536f('0x344')]),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1db')]=this[_0x536f('0x1db')]),_0x536f('0xe5d')===_0x842501[_0x536f('0x76')]&&(this[_0x536f('0x1db')]=new THREE[(_0x536f('0xe5e'))](0xcccccc,0.002),_0x842501[_0x536f('0x21f')]&&this[_0x536f('0x1db')][_0x536f('0x21f')][_0x536f('0x33d')](_0x842501[_0x536f('0x21f')]),_0x842501[_0x536f('0x6f8')]&&(this[_0x536f('0x1db')][_0x536f('0x6f8')]=_0x842501[_0x536f('0x6f8')]),this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x489')][_0x536f('0x1db')]=this['fog']);}},{'key':_0x536f('0x2f3'),'value':function(_0x842501){'linear'===_0x842501[_0x536f('0x76')]&&(_0x842501[_0x536f('0x21f')]&&(this['fog'][_0x536f('0x21f')][_0x536f('0x33d')](_0x842501[_0x536f('0x21f')]),this[_0x536f('0x1db')][_0x536f('0xbaa')]&&this['fog']['_originColor'][_0x536f('0x33d')](_0x842501['color'])),_0x842501[_0x536f('0x343')]&&(this[_0x536f('0x1db')][_0x536f('0x343')]=_0x842501[_0x536f('0x343')]),_0x842501[_0x536f('0x344')]&&(this[_0x536f('0x1db')][_0x536f('0x344')]=_0x842501[_0x536f('0x344')])),'exp2'===_0x842501[_0x536f('0x76')]&&(_0x842501[_0x536f('0x21f')]&&(this[_0x536f('0x1db')]['color'][_0x536f('0x33d')](_0x842501[_0x536f('0x21f')]),this[_0x536f('0x1db')][_0x536f('0xbaa')]&&this[_0x536f('0x1db')][_0x536f('0xbaa')]['setStyle'](_0x842501[_0x536f('0x21f')])),_0x842501[_0x536f('0x6f8')]&&(this[_0x536f('0x1db')]['density']=_0x842501[_0x536f('0x6f8')]));}}]),_0x296274[_0x536f('0x6')]=_0x376506;},function(_0x43ff64,_0x39fbca,_0xf593ba){'use strict';Object[_0x536f('0x1')](_0x39fbca,'__esModule',{'value':!0x0});var _0x1fb5dc=_0x3f0288(_0xf593ba(0x0)),_0x1c7d22=_0x3f0288(_0xf593ba(0x1)),_0x32e957=_0xf593ba(0x11),_0x2f5f7d=function(_0x43ff64){if(_0x43ff64&&_0x43ff64[_0x536f('0x4')])return _0x43ff64;var _0x39fbca={};if(null!=_0x43ff64)for(var _0xf593ba in _0x43ff64)Object[_0x536f('0x8')][_0x536f('0x9')]['call'](_0x43ff64,_0xf593ba)&&(_0x39fbca[_0xf593ba]=_0x43ff64[_0xf593ba]);return _0x39fbca['default']=_0x43ff64,_0x39fbca;}(_0xf593ba(0x32));function _0x3f0288(_0x43ff64){return _0x43ff64&&_0x43ff64[_0x536f('0x4')]?_0x43ff64:{'default':_0x43ff64};}function _0x4ef38a(){(0x0,_0x1fb5dc[_0x536f('0x6')])(this,_0x4ef38a),this[_0x536f('0xcf')]=null,this[_0x536f('0x7be')]=null;}(0x0,_0x1c7d22[_0x536f('0x6')])(_0x4ef38a,[{'key':_0x536f('0x9f5'),'value':function(_0x43ff64){this['map']=(0x0,_0x32e957[_0x536f('0x2d')])();var _0x39fbca=(0x0,_0x32e957[_0x536f('0x31')])(_0x43ff64[_0x536f('0x3b')]['x'],_0x43ff64[_0x536f('0x3b')]['y']),_0x39fbca=new THREE['Vector3'](_0x39fbca['x'],_0x43ff64['position'][_0x536f('0x339')],_0x39fbca['y']),_0xf593ba=(0x0,_0x32e957[_0x536f('0x31')])(_0x43ff64[_0x536f('0x77')]['x'],_0x43ff64[_0x536f('0x77')]['y']),_0xf593ba=new THREE[(_0x536f('0x59'))](_0xf593ba['x'],_0x43ff64[_0x536f('0x77')][_0x536f('0x339')],_0xf593ba['y']);return this[_0x536f('0x7be')]=new _0x2f5f7d['ProjectionVideo']({'map':this['map'],'position':_0x39fbca,'target':_0xf593ba,'receiveLayer':_0x43ff64[_0x536f('0x838')],'far':_0x43ff64[_0x536f('0x344')],'fov':_0x43ff64[_0x536f('0xe5f')],'videoAspect':_0x43ff64[_0x536f('0x839')],'isShowHelper':_0x43ff64[_0x536f('0xe60')],'isShowFarPlane':_0x43ff64[_0x536f('0xe61')]}),this[_0x536f('0x7be')];}},{'key':'showVisualField','value':function(_0x43ff64,_0x39fbca){this['video']&&this[_0x536f('0x7be')][_0x536f('0x84b')](_0x43ff64?_0x536f('0xe62'):'#FFFFFF');}},{'key':_0x536f('0x9f6'),'value':function(_0x43ff64){this[_0x536f('0x7be')]&&(_0x43ff64=new THREE[(_0x536f('0x59'))](_0x43ff64['x'],_0x43ff64['y'],_0x43ff64['z']),this[_0x536f('0x7be')][_0x536f('0x864')](_0x43ff64));}},{'key':'isLockCameraControls','value':function(_0x43ff64){this[_0x536f('0x7be')]&&this['video'][_0x536f('0x84a')](_0x43ff64);}},{'key':_0x536f('0x2dc'),'value':function(){this['video']&&(this[_0x536f('0x7be')][_0x536f('0xcd')](),this[_0x536f('0x7be')]=null);}}]),_0x39fbca['default']=_0x4ef38a;},function(_0x4c29d0,_0x3c123d,_0x1163a3){'use strict';Object[_0x536f('0x1')](_0x3c123d,_0x536f('0x4'),{'value':!0x0});var _0x18d6d3=_0x553a74(_0x1163a3(0x0)),_0x411a88=_0x553a74(_0x1163a3(0x1)),_0x32790a=function(_0x4c29d0){if(_0x4c29d0&&_0x4c29d0[_0x536f('0x4')])return _0x4c29d0;var _0x3c123d={};if(null!=_0x4c29d0)for(var _0x1163a3 in _0x4c29d0)Object['prototype'][_0x536f('0x9')][_0x536f('0xa')](_0x4c29d0,_0x1163a3)&&(_0x3c123d[_0x1163a3]=_0x4c29d0[_0x1163a3]);return _0x3c123d[_0x536f('0x6')]=_0x4c29d0,_0x3c123d;}(_0x1163a3(0x32)),_0x2fe4da=_0x1163a3(0x11);function _0x553a74(_0x4c29d0){return _0x4c29d0&&_0x4c29d0[_0x536f('0x4')]?_0x4c29d0:{'default':_0x4c29d0};}function _0x6143cb(){(0x0,_0x18d6d3[_0x536f('0x6')])(this,_0x6143cb),this['map']=(0x0,_0x2fe4da[_0x536f('0x2d')])(),this[_0x536f('0xe63')]=[];}(0x0,_0x411a88[_0x536f('0x6')])(_0x6143cb,[{'key':_0x536f('0x9dd'),'value':function(_0x4c29d0){var _0x3c123d=new _0x32790a['HeatMapEffect']({'isShowWaterRipple':!0x0}),_0x1163a3=_0x3c123d[_0x536f('0x33a')]({'curTexture':_0x4c29d0[_0x536f('0xb2a')][_0x536f('0xe64')]['curTexture'],'nextTexture':_0x4c29d0[_0x536f('0xb2a')][_0x536f('0xe64')][_0x536f('0x654')],'repeatFactor':{'x':_0x4c29d0[_0x536f('0xb2a')][_0x536f('0x84f')]-_0x4c29d0['heatmap'][_0x536f('0x84d')],'y':_0x4c29d0[_0x536f('0xb2a')]['maxY']-_0x4c29d0[_0x536f('0xb2a')]['minY']}});_0x4c29d0[_0x536f('0x525')]['material']=_0x1163a3,this[_0x536f('0xe63')]['push'](_0x3c123d);}},{'key':_0x536f('0x9de'),'value':function(_0x4c29d0,_0x3c123d){var _0x3c123d=new _0x32790a[(_0x536f('0xbe'))]({'isShowTextureRepeat':!0x0,'repeatTexPath':_0x3c123d['imgUrl'],'noiseTexPath':(0x0,_0x2fe4da[_0x536f('0x27')])(_0x536f('0xb47'))}),_0x1163a3=_0x3c123d[_0x536f('0x33a')]({'curTexture':_0x4c29d0[_0x536f('0xb2a')][_0x536f('0xe64')][_0x536f('0x653')],'nextTexture':_0x4c29d0[_0x536f('0xb2a')]['heatMapTool'][_0x536f('0x654')],'repeatFactor':{'x':_0x4c29d0[_0x536f('0xb2a')]['maxX']-_0x4c29d0[_0x536f('0xb2a')][_0x536f('0x84d')],'y':_0x4c29d0[_0x536f('0xb2a')][_0x536f('0x850')]-_0x4c29d0[_0x536f('0xb2a')][_0x536f('0x84e')]}});_0x4c29d0['o3d_'][_0x536f('0xce')]=_0x1163a3,this[_0x536f('0xe63')][_0x536f('0x82')](_0x3c123d);}},{'key':_0x536f('0x36a'),'value':function(_0x4c29d0){if(0x0<this[_0x536f('0xe63')]['length'])for(var _0x3c123d=0x0;_0x3c123d<this[_0x536f('0xe63')][_0x536f('0xd')];_0x3c123d++)this[_0x536f('0xe63')][_0x3c123d][_0x536f('0x36a')](_0x4c29d0);}}]),_0x3c123d[_0x536f('0x6')]=_0x6143cb;},function(_0x2cb56a,_0x18bc4b,_0x31db62){'use strict';Object[_0x536f('0x1')](_0x18bc4b,'__esModule',{'value':!0x0});var _0x38e985=_0x46f9a5(_0x31db62(0x0));function _0x46f9a5(_0x2cb56a){return _0x2cb56a&&_0x2cb56a[_0x536f('0x4')]?_0x2cb56a:{'default':_0x2cb56a};}function _0x423de3(){(0x0,_0x38e985[_0x536f('0x6')])(this,_0x423de3),this[_0x536f('0x97c')]=!0x1,this['allMarkerList']=[];}(0x0,_0x46f9a5(_0x31db62(0x1))[_0x536f('0x6')])(_0x423de3,[{'key':'add','value':function(_0x2cb56a){this['allMarkerList'][_0x536f('0x82')](_0x2cb56a);}},{'key':_0x536f('0xd1'),'value':function(_0x2cb56a){_0x2cb56a=this[_0x536f('0xe65')][_0x536f('0x4c')](_0x2cb56a);-0x1<_0x2cb56a&&this[_0x536f('0xe65')]['splice'](_0x2cb56a,0x1);}},{'key':_0x536f('0x36a'),'value':function(_0x2cb56a){if(this[_0x536f('0x97c')])for(var _0x18bc4b=0x0,_0x31db62=this[_0x536f('0xe65')][_0x536f('0xd')];_0x18bc4b<_0x31db62;_0x18bc4b++)this[_0x536f('0xe65')][_0x18bc4b][_0x536f('0x5bc')](_0x2cb56a);}},{'key':'clear','value':function(){this['allMarkerList'][_0x536f('0xd')]=0x0;}},{'key':_0x536f('0xcd'),'value':function(){for(var _0x2cb56a=0x0,_0x18bc4b=this[_0x536f('0xe65')][_0x536f('0xd')];_0x2cb56a<_0x18bc4b;_0x2cb56a++)this[_0x536f('0xe65')][_0x2cb56a]['dispose']();this[_0x536f('0xe65')][_0x536f('0xd')]=0x0;}}]),_0x18bc4b[_0x536f('0x6')]=_0x423de3;},function(_0x4ec76f,_0x57345c,_0x31c571){'use strict';Object[_0x536f('0x1')](_0x57345c,_0x536f('0x4'),{'value':!0x0});var _0x2c0359=_0x122b68(_0x31c571(0x0)),_0x35d1cc=_0x122b68(_0x31c571(0x1)),_0x38e0f6=_0x122b68(_0x31c571(0x127)),_0x480d9c=_0x122b68(_0x31c571(0x37)),_0x471e37=_0x122b68(_0x31c571(0x7b));function _0x122b68(_0x4ec76f){return _0x4ec76f&&_0x4ec76f[_0x536f('0x4')]?_0x4ec76f:{'default':_0x4ec76f};}function _0x4dd8bc(){_0x4328b7[_0x536f('0x2f3')]();}var _0x4328b7=null,_0x31c571=((0x0,_0x35d1cc[_0x536f('0x6')])(_0x14929a,[{'key':_0x536f('0xe66'),'value':function(){_0x4328b7=new _0x38e0f6[(_0x536f('0x6'))](this[_0x536f('0xcf')]['mapView'][_0x536f('0x342')],this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0xe67')]),this[_0x536f('0xe68')]=new _0x471e37[(_0x536f('0x6'))](this[_0x536f('0xcf')],_0x4328b7),_0x4328b7[_0x536f('0x45d')]=!0x0,_0x4328b7[_0x536f('0x32e')]=!0x1,_0x4328b7[_0x536f('0x330')]=!0x1,_0x4328b7[_0x536f('0x858')]=0.00001;var _0x4ec76f=this[_0x536f('0xcf')][_0x536f('0x307')]['target']['clone']()[_0x536f('0x699')](this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x1c')][_0x536f('0x3b')][_0x536f('0x1b1')]())['normalize'](),_0x4ec76f=this['map'][_0x536f('0x307')]['object'][_0x536f('0x3b')][_0x536f('0x1b1')]()['add'](_0x4ec76f[_0x536f('0x1c2')](0.00001));_0x4328b7[_0x536f('0x1c')][_0x536f('0x3b')][_0x536f('0x1bc')](this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x1c')][_0x536f('0x3b')]),_0x4328b7[_0x536f('0x77')][_0x536f('0x1bc')](_0x4ec76f),_0x4328b7['object'][_0x536f('0x43d')](_0x4ec76f),this[_0x536f('0xcf')]['controls'][_0x536f('0x45d')]=!0x1,this[_0x536f('0xcf')][_0x536f('0x48e')]['renderer'][_0x536f('0xe69')]=!0x1,_0x4328b7[_0x536f('0xe6a')]=!0x1,_0x4328b7['autoRotateSpeed']=0.4,_0x4328b7[_0x536f('0x66a')]=0.5,this[_0x536f('0xcf')]['on'](_0x536f('0x2f3'),_0x4dd8bc);}},{'key':'removeControls','value':function(){_0x4328b7[_0x536f('0xcd')](),_0x4328b7=null,this['map'][_0x536f('0x307')][_0x536f('0x45d')]=!0x0,this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0xe69')]=!0x0,this[_0x536f('0xcf')][_0x536f('0xe6b')](_0x536f('0x2f3'),_0x4dd8bc);}},{'key':_0x536f('0xe6c'),'value':function(){_0x4328b7['dispose'](),_0x4328b7=null,this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x45d')]=!0x0,this[_0x536f('0xcf')][_0x536f('0x48e')][_0x536f('0x534')][_0x536f('0xe69')]=!0x0,this[_0x536f('0xcf')][_0x536f('0xe6b')]('update',_0x4dd8bc);var _0x4ec76f=this[_0x536f('0xcf')][_0x536f('0x93d')](0x0);_0x4ec76f&&(this[_0x536f('0xcf')]['controls'][_0x536f('0x77')][_0x536f('0x1bc')](_0x4ec76f),this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x1c')][_0x536f('0x43d')](_0x4ec76f),this['map']['controls'][_0x536f('0x2f3')]());}},{'key':'resetGroundPickView','value':function(_0x4ec76f,_0x57345c,_0x31c571){new TWEEN[(_0x536f('0x323'))]({'angle':_0x4ec76f})['to']({'angle':_0x57345c},0x3e8)[_0x536f('0x324')](TWEEN[_0x536f('0x325')][_0x536f('0x326')][_0x536f('0x327')])[_0x536f('0x32a')](function(_0x4ec76f,_0x57345c){_0x4328b7[_0x536f('0x2f3')]({'forcePhi':THREE['Math'][_0x536f('0x322')](_0x4ec76f[_0x536f('0x1ed')])});})[_0x536f('0x70f')](function(){_0x31c571&&_0x31c571();})['start']();}},{'key':_0x536f('0xe6d'),'value':function(_0x4ec76f){_0x4ec76f[_0x536f('0xe6e')];var _0x4ec76f=_0x4ec76f['radius'],_0x57345c=this,_0x31c571=new THREE[(_0x536f('0x26c'))]()[_0x536f('0x263')](esmap[_0x536f('0x4e')]['configPath']+_0x536f('0x91c')),_0x4ec76f=new THREE[(_0x536f('0x428'))](_0x4ec76f,_0x4ec76f),_0x31c571=new THREE[(_0x536f('0x421'))]({'map':_0x31c571,'transparent':!0x0});this['pickAnimateObj']=new THREE[(_0x536f('0x354'))](_0x4ec76f,_0x31c571),this[_0x536f('0xe6f')][_0x536f('0x355')]=0x46,this[_0x536f('0xcf')][_0x536f('0x48e')]['scene'][_0x536f('0x1c3')](this[_0x536f('0xe6f')]),this[_0x536f('0xcf')]['on'](_0x536f('0x378'),function(_0x4ec76f){_0x57345c[_0x536f('0xe6f')]&&_0x4ec76f['face']&&_0x4ec76f[_0x536f('0x1c')]&&'Mesh'===_0x4ec76f[_0x536f('0x1c')][_0x536f('0x76')]&&_0x536f('0x7c')===_0x4ec76f[_0x536f('0x1c')][_0x536f('0x86a')]&&!_0x57345c[_0x536f('0xe70')]&&_0x57345c[_0x536f('0xe71')](_0x4ec76f);});}},{'key':_0x536f('0xe71'),'value':function(_0x4ec76f){this[_0x536f('0xe70')]=!0x0;var _0x57345c,_0x31c571=_0x4ec76f[_0x536f('0x362')][_0x536f('0x1b1')](),_0x2c0359=this[_0x536f('0xcf')]['coordThreeToMap'](_0x31c571);this[_0x536f('0xe72')](_0x2c0359)?((_0x2c0359=_0x4ec76f[_0x536f('0xe73')][_0x536f('0x4ec')][_0x536f('0x1b1')]())[_0x536f('0xe74')](_0x4ec76f[_0x536f('0x1c')][_0x536f('0x3bf')]),_0x2c0359['multiplyScalar'](0.1),_0x2c0359[_0x536f('0x1c3')](_0x31c571),(_0x57345c=_0x4ec76f[_0x536f('0xe73')][_0x536f('0x4ec')][_0x536f('0x1b1')]())[_0x536f('0xe74')](_0x4ec76f[_0x536f('0x1c')][_0x536f('0x3bf')]),_0x57345c['multiplyScalar'](0.05),_0x57345c[_0x536f('0x1c3')](_0x31c571),this['pickAnimateObj']['position']['copy'](_0x57345c),this['pickAnimateObj'][_0x536f('0x43d')](_0x2c0359),this[_0x536f('0xe75')](new THREE[(_0x536f('0x59'))](_0x57345c['x'],this['map'][_0x536f('0x48e')][_0x536f('0x342')][_0x536f('0x3b')]['y'],_0x57345c['z']))):this[_0x536f('0xe70')]=!0x1;}},{'key':_0x536f('0xe72'),'value':function(_0x4ec76f){_0x4ec76f=this[_0x536f('0xcf')][_0x536f('0x854')]({'startCoord':{'x':_0x4ec76f['x'],'y':_0x4ec76f['y'],'z':0x3},'endCoord':{'x':_0x4ec76f['x'],'y':_0x4ec76f['y'],'z':0x0},'debug':!0x1,'mode':_0x536f('0x1e8')});if(_0x4ec76f&&0x3*0.99<0x3-_0x4ec76f[_0x536f('0x362')]['y'])return!0x0;return!0x1;}},{'key':'flytoGroundPickPos3','value':function(_0x4ec76f){this[_0x536f('0xe70')]=!0x1;var _0x31c571,_0x57345c=_0x4ec76f[_0x536f('0x1b1')]()[_0x536f('0x310')](this['map'][_0x536f('0x307')][_0x536f('0x1c')][_0x536f('0x3b')]),_0x57345c=(_0x4328b7[_0x536f('0xe76')]=_0x31c571=0.1*_0x57345c,_0x4328b7[_0x536f('0x77')][_0x536f('0x1b1')]()['sub'](this[_0x536f('0xcf')][_0x536f('0x307')][_0x536f('0x1c')][_0x536f('0x3b')][_0x536f('0x1b1')]())['normalize']()),_0x57345c=this[_0x536f('0xcf')]['controls'][_0x536f('0x1c')][_0x536f('0x3b')][_0x536f('0x1b1')]()[_0x536f('0x1c3')](_0x57345c['multiplyScalar'](_0x31c571));_0x4328b7[_0x536f('0x77')]=_0x57345c,new TWEEN[(_0x536f('0x323'))](_0x4328b7[_0x536f('0x77')])['to'](_0x4ec76f,0x7d0)[_0x536f('0x324')](TWEEN['Easing']['Quadratic'][_0x536f('0xe77')])[_0x536f('0x32a')](function(_0x4ec76f,_0x57345c){_0x4328b7[_0x536f('0xe76')]=(_0x31c571-0.00001)*(0x1-_0x57345c)+0.00001;})[_0x536f('0x70f')](function(){})[_0x536f('0x329')]();}},{'key':'flytoGroundPickPos2','value':function(_0x4ec76f){var _0x57345c=this,_0x31c571=_0x4ec76f[_0x536f('0x1b1')]()['sub'](this[_0x536f('0xcf')]['controls'][_0x536f('0x1c')][_0x536f('0x3b')][_0x536f('0x1b1')]())[_0x536f('0x1c1')](),_0x31c571=_0x4ec76f[_0x536f('0x1b1')]()['add'](_0x31c571[_0x536f('0x1c2')](0.00001));THREE[_0x536f('0x19')][_0x536f('0xb60')](_0x4328b7[_0x536f('0xe78')]()),THREE['Math']['radToDeg'](_0x4328b7[_0x536f('0xe79')]()),_0x57345c[_0x536f('0xe68')][_0x536f('0x31c')](_0x4ec76f[_0x536f('0x1b1')](),_0x31c571,0x7d0,function(){_0x57345c[_0x536f('0xe70')]=!0x1;});}},{'key':'flytoGroundPickPos','value':function(_0x4ec76f,_0x57345c){_0x4328b7['target'][_0x536f('0x1bc')](_0x57345c),new TWEEN[(_0x536f('0x323'))](_0x4ec76f)['to'](_0x57345c,0x7d0)['easing'](TWEEN['Easing']['Quadratic']['Out'])[_0x536f('0x32a')](function(_0x4ec76f,_0x57345c){_0x57345c<0.99&&_0x4328b7[_0x536f('0x1c')][_0x536f('0x3b')][_0x536f('0x1bc')](_0x4ec76f);})[_0x536f('0x329')]();}},{'key':_0x536f('0xe7a'),'value':function(_0x4ec76f,_0x57345c){_0x57345c=new THREE['Mesh'](new THREE['SphereBufferGeometry'](0x2),new THREE[(_0x536f('0x421'))]({'color':_0x57345c}));_0x57345c[_0x536f('0x3b')][_0x536f('0x1bc')](_0x4ec76f),this[_0x536f('0xcf')][_0x536f('0x48e')]['scene'][_0x536f('0x1c3')](_0x57345c);}},{'key':'removeGroundPick','value':function(){_0x480d9c['default'][_0x536f('0xe7b')](this[_0x536f('0xe6f')]),this[_0x536f('0xe6f')]=null;}}]),_0x14929a);function _0x14929a(_0x4ec76f){(0x0,_0x2c0359[_0x536f('0x6')])(this,_0x14929a),this[_0x536f('0xcf')]=_0x4ec76f,this[_0x536f('0xe6f')]=null,this[_0x536f('0x93b')]=new _0x471e37[(_0x536f('0x6'))](this[_0x536f('0xcf')],this[_0x536f('0xcf')][_0x536f('0x307')]),this[_0x536f('0xe68')]=null,this[_0x536f('0xe70')]=!0x1;}_0x57345c['default']=_0x31c571;},function(_0x53f75a,_0x50ddaa,_0x1faeb8){'use strict';Object[_0x536f('0x1')](_0x50ddaa,_0x536f('0x4'),{'value':!0x0});var _0x33c8ad=_0x425f57(_0x1faeb8(0x50)),_0x1faeb8=_0x425f57(_0x1faeb8(0x1f));function _0x425f57(_0x53f75a){return _0x53f75a&&_0x53f75a[_0x536f('0x4')]?_0x53f75a:{'default':_0x53f75a};}function _0xf8b1a4(_0x53f75a,_0x50ddaa){this[_0x536f('0x1c')]=_0x53f75a,this['domElement']=void 0x0!==_0x50ddaa?_0x50ddaa:document,this['enabled']=!0x0,this['target']=new THREE[(_0x536f('0x59'))](),this['minDistance']=0x0,this[_0x536f('0xe76')]=0x1/0x0,this[_0x536f('0xe7c')]=0x0,this[_0x536f('0xe7d')]=0x1/0x0,this['minPolarAngle']=0x0,this['maxPolarAngle']=Math['PI'],this[_0x536f('0xe7e')]=-0x1/0x0,this[_0x536f('0xe7f')]=0x1/0x0,this[_0x536f('0xe80')]=!0x1,this[_0x536f('0xe81')]=0.25,this[_0x536f('0x330')]=!0x0,this['zoomSpeed']=0x1,this[_0x536f('0x32f')]=!0x0,this[_0x536f('0x66a')]=0x1,this[_0x536f('0x32e')]=!0x0,this[_0x536f('0xe82')]=0x1,this[_0x536f('0xe83')]=!0x1,this[_0x536f('0xe84')]=0x7,this[_0x536f('0xe6a')]=!0x1,this[_0x536f('0xe85')]=0x2,this[_0x536f('0xe86')]=!0x0,this['keys']={'LEFT':0x25,'UP':0x26,'RIGHT':0x27,'BOTTOM':0x28},this[_0x536f('0xe87')]={'LEFT':THREE[_0x536f('0xe88')][_0x536f('0xe89')],'MIDDLE':THREE[_0x536f('0xe88')]['MIDDLE'],'RIGHT':THREE['MOUSE'][_0x536f('0xe8a')]},this['target0']=this[_0x536f('0x77')][_0x536f('0x1b1')](),this['position0']=this[_0x536f('0x1c')][_0x536f('0x3b')][_0x536f('0x1b1')](),this['zoom0']=this[_0x536f('0x1c')][_0x536f('0xe8b')],this[_0x536f('0xe78')]=function(){return _0x32a8ad[_0x536f('0x4c9')];},this[_0x536f('0xe79')]=function(){return _0x32a8ad['theta'];},this[_0x536f('0xe8c')]=function(){_0x1d231f[_0x536f('0xe8d')][_0x536f('0x1bc')](_0x1d231f[_0x536f('0x77')]),_0x1d231f[_0x536f('0xe8e')][_0x536f('0x1bc')](_0x1d231f[_0x536f('0x1c')][_0x536f('0x3b')]),_0x1d231f[_0x536f('0xe8f')]=_0x1d231f['object'][_0x536f('0xe8b')];},this[_0x536f('0x20d')]=function(){_0x1d231f[_0x536f('0x77')][_0x536f('0x1bc')](_0x1d231f['target0']),_0x1d231f['object'][_0x536f('0x3b')][_0x536f('0x1bc')](_0x1d231f[_0x536f('0xe8e')]),_0x1d231f[_0x536f('0x1c')][_0x536f('0xe8b')]=_0x1d231f[_0x536f('0xe8f')],_0x1d231f['object'][_0x536f('0x856')](),_0x1d231f[_0x536f('0x32d')](_0x29e1bc),_0x1d231f[_0x536f('0x2f3')](),_0x2b66ee=_0x4337b2[_0x536f('0xe90')];},this['update']=(_0x1faeb8=new THREE[(_0x536f('0x59'))](),_0x33c8ad=new THREE['Quaternion']()[_0x536f('0xe5b')](_0x53f75a['up'],new THREE['Vector3'](0x0,0x1,0x0)),_0x425f57=_0x33c8ad['clone']()['inverse'](),_0xf8b1a4=new THREE[(_0x536f('0x59'))](),_0x2314d9=new THREE[(_0x536f('0x710'))](),function(_0x53f75a){var _0x50ddaa=_0x1d231f[_0x536f('0x1c')]['position'];return _0x1faeb8[_0x536f('0x1bc')](_0x50ddaa)[_0x536f('0x699')](_0x1d231f[_0x536f('0x77')]),_0x1faeb8[_0x536f('0xe5c')](_0x33c8ad),_0x32a8ad[_0x536f('0xe91')](_0x1faeb8),_0x1d231f[_0x536f('0xe6a')]&&_0x2b66ee===_0x4337b2[_0x536f('0xe90')]&&_0x258216(0x2*Math['PI']/0x3c/0x3c*_0x1d231f[_0x536f('0xe85')]),_0x32a8ad[_0x536f('0x4d6')]+=_0x56b3b4[_0x536f('0x4d6')],_0x32a8ad[_0x536f('0x4c9')]+=_0x56b3b4['phi'],_0x53f75a&&(_0x53f75a[_0x536f('0x9')]('forceTheta')&&(_0x32a8ad['theta']=_0x53f75a['forceTheta'],_0x56b3b4[_0x536f('0x4d6')]=0x0),_0x53f75a[_0x536f('0x9')](_0x536f('0xe92'))&&(_0x32a8ad[_0x536f('0x4c9')]=_0x53f75a[_0x536f('0xe92')],_0x56b3b4[_0x536f('0x4c9')]=0x0),_0x53f75a[_0x536f('0x9')]('radioFactor')&&(_0x32a8ad[_0x536f('0x21d')]=_0x53f75a[_0x536f('0xe93')],_0x1f50c2=0x1)),_0x32a8ad[_0x536f('0x4d6')]=Math[_0x536f('0x1af')](_0x1d231f[_0x536f('0xe7e')],Math[_0x536f('0x7f')](_0x1d231f[_0x536f('0xe7f')],_0x32a8ad[_0x536f('0x4d6')])),_0x32a8ad['phi']=Math[_0x536f('0x1af')](_0x1d231f['minPolarAngle'],Math[_0x536f('0x7f')](_0x1d231f[_0x536f('0xe94')],_0x32a8ad[_0x536f('0x4c9')])),_0x32a8ad[_0x536f('0xe95')](),_0x32a8ad[_0x536f('0x21d')]*=_0x1f50c2,_0x32a8ad['radius']=Math['max'](_0x1d231f[_0x536f('0x858')],Math[_0x536f('0x7f')](_0x1d231f['maxDistance'],_0x32a8ad['radius'])),_0x1d231f[_0x536f('0x77')][_0x536f('0x1c3')](_0x5b9d90),_0x1faeb8[_0x536f('0xe96')](_0x32a8ad),_0x1faeb8[_0x536f('0xe5c')](_0x425f57),_0x50ddaa[_0x536f('0x1bc')](_0x1d231f['target'])[_0x536f('0x1c3')](_0x1faeb8),_0x1d231f[_0x536f('0x1c')][_0x536f('0x43d')](_0x1d231f[_0x536f('0x77')]),!0x0===_0x1d231f[_0x536f('0xe80')]?(_0x56b3b4[_0x536f('0x4d6')]*=0x1-_0x1d231f['dampingFactor'],_0x56b3b4[_0x536f('0x4c9')]*=0x1-_0x1d231f['dampingFactor'],_0x5b9d90[_0x536f('0x1c2')](0x1-_0x1d231f[_0x536f('0xe81')])):(_0x56b3b4['set'](0x0,0x0,0x0),_0x5b9d90[_0x536f('0x1b')](0x0,0x0,0x0)),_0x1f50c2=0x1,!(!(_0x35848a||_0xf8b1a4[_0x536f('0xe97')](_0x1d231f['object'][_0x536f('0x3b')])>_0x4c3eea||0x8*(0x1-_0x2314d9['dot'](_0x1d231f[_0x536f('0x1c')]['quaternion']))>_0x4c3eea)||(_0x1d231f[_0x536f('0x32d')](_0x29e1bc),_0xf8b1a4['copy'](_0x1d231f['object'][_0x536f('0x3b')]),_0x2314d9[_0x536f('0x1bc')](_0x1d231f[_0x536f('0x1c')][_0x536f('0x713')]),_0x35848a=!0x1));}),this[_0x536f('0xcd')]=function(){_0x1d231f['domElement'][_0x536f('0x380')](_0x536f('0xe98'),_0x2fbcf5,!0x1),_0x1d231f[_0x536f('0xe99')][_0x536f('0x380')](_0x536f('0xe9a'),_0x5eddb3,!0x1),_0x1d231f['domElement']['removeEventListener']('wheel',_0x312735,!0x1),_0x1d231f['domElement']['removeEventListener'](_0x536f('0xe9b'),_0x152429,!0x1),_0x1d231f['domElement'][_0x536f('0x380')]('touchend',_0x40518e,!0x1),_0x1d231f['domElement'][_0x536f('0x380')](_0x536f('0xe9c'),_0x1cf0b1,!0x1),document[_0x536f('0x380')](_0x536f('0xe9d'),_0xad6e09,!0x1),document[_0x536f('0x380')](_0x536f('0xe9e'),_0x3b42fd,!0x1),window['removeEventListener'](_0x536f('0xe9f'),_0x52da7c,!0x1);};var _0x1faeb8,_0x33c8ad,_0x425f57,_0xf8b1a4,_0x2314d9,_0x1d231f=this,_0x29e1bc={'type':'change'},_0x3d6c28={'type':_0x536f('0x329')},_0x164591={'type':_0x536f('0x45c')},_0x4337b2={'NONE':-0x1,'ROTATE':0x0,'DOLLY':0x1,'PAN':0x2,'TOUCH_ROTATE':0x3,'TOUCH_DOLLY_PAN':0x4},_0x2b66ee=_0x4337b2[_0x536f('0xe90')],_0x4c3eea=0.000001,_0x32a8ad=new THREE[(_0x536f('0xe32'))](),_0x56b3b4=new THREE[(_0x536f('0xe32'))](),_0x1f50c2=0x1,_0x5b9d90=new THREE['Vector3'](),_0x35848a=!0x1,_0x189f29=new THREE['Vector2'](),_0x40625c=new THREE[(_0x536f('0x1b5'))](),_0x467b37=new THREE[(_0x536f('0x1b5'))](),_0x577411=new THREE[(_0x536f('0x1b5'))](),_0x11b825=new THREE['Vector2'](),_0x92ee3f=new THREE[(_0x536f('0x1b5'))](),_0x4af3e0=new THREE['Vector2'](),_0x3d86cb=new THREE[(_0x536f('0x1b5'))](),_0x2e8262=new THREE['Vector2']();function _0x1081ed(){return Math[_0x536f('0x350')](0.95,_0x1d231f[_0x536f('0x30b')]);}function _0x258216(_0x53f75a){_0x56b3b4['theta']-=_0x53f75a;}function _0x332e5f(_0x53f75a){_0x56b3b4[_0x536f('0x4c9')]-=_0x53f75a;}function _0x233769(_0x53f75a,_0x50ddaa){_0x59dbf1[_0x536f('0xea0')](_0x50ddaa,0x0),_0x59dbf1[_0x536f('0x1c2')](-_0x53f75a),_0x5b9d90[_0x536f('0x1c3')](_0x59dbf1);}function _0x1353db(_0x53f75a,_0x50ddaa){!0x0===_0x1d231f['screenSpacePanning']?_0x40ffe2['setFromMatrixColumn'](_0x50ddaa,0x1):(_0x40ffe2[_0x536f('0xea0')](_0x50ddaa,0x0),_0x40ffe2['crossVectors'](_0x1d231f['object']['up'],_0x40ffe2)),_0x40ffe2[_0x536f('0x1c2')](_0x53f75a),_0x5b9d90['add'](_0x40ffe2);}var _0x59dbf1,_0x40ffe2,_0xf44645,_0x59dbf1=new THREE[(_0x536f('0x59'))](),_0x3a20e9=(_0x40ffe2=new THREE[(_0x536f('0x59'))](),_0xf44645=new THREE['Vector3'](),function(_0x53f75a,_0x50ddaa){var _0x1faeb8,_0x33c8ad=_0x1d231f[_0x536f('0xe99')]===document?_0x1d231f['domElement'][_0x536f('0xea1')]:_0x1d231f[_0x536f('0xe99')];_0x1d231f[_0x536f('0x1c')][_0x536f('0xdfb')]?(_0x1faeb8=_0x1d231f[_0x536f('0x1c')][_0x536f('0x3b')],_0xf44645[_0x536f('0x1bc')](_0x1faeb8)[_0x536f('0x699')](_0x1d231f[_0x536f('0x77')]),_0x1faeb8=_0xf44645[_0x536f('0xd')](),_0x1faeb8*=Math[_0x536f('0x6a1')](_0x1d231f[_0x536f('0x1c')]['fov']/0x2*Math['PI']/0xb4),_0x233769(0x2*_0x53f75a*_0x1faeb8/_0x33c8ad[_0x536f('0xea2')],_0x1d231f[_0x536f('0x1c')][_0x536f('0x89f')]),_0x1353db(0x2*_0x50ddaa*_0x1faeb8/_0x33c8ad['clientHeight'],_0x1d231f[_0x536f('0x1c')][_0x536f('0x89f')])):_0x1d231f[_0x536f('0x1c')][_0x536f('0xea3')]?(_0x233769(_0x53f75a*(_0x1d231f[_0x536f('0x1c')][_0x536f('0x744')]-_0x1d231f[_0x536f('0x1c')][_0x536f('0x38a')])/_0x1d231f[_0x536f('0x1c')][_0x536f('0xe8b')]/_0x33c8ad[_0x536f('0xea4')],_0x1d231f[_0x536f('0x1c')]['matrix']),_0x1353db(_0x50ddaa*(_0x1d231f['object'][_0x536f('0x5f6')]-_0x1d231f[_0x536f('0x1c')][_0x536f('0x745')])/_0x1d231f['object'][_0x536f('0xe8b')]/_0x33c8ad[_0x536f('0xea2')],_0x1d231f[_0x536f('0x1c')]['matrix'])):_0x1d231f[_0x536f('0x32e')]=!0x1;});function _0x267005(_0x53f75a){_0x1d231f[_0x536f('0x1c')][_0x536f('0xdfb')]?_0x1f50c2/=_0x53f75a:_0x1d231f[_0x536f('0x1c')][_0x536f('0xea3')]?(_0x1d231f[_0x536f('0x1c')][_0x536f('0xe8b')]=Math[_0x536f('0x1af')](_0x1d231f[_0x536f('0xe7c')],Math['min'](_0x1d231f[_0x536f('0xe7d')],_0x1d231f['object'][_0x536f('0xe8b')]*_0x53f75a)),_0x1d231f[_0x536f('0x1c')][_0x536f('0x856')](),_0x35848a=!0x0):_0x1d231f[_0x536f('0x330')]=!0x1;}function _0x2e03cc(_0x53f75a){_0x1d231f[_0x536f('0x1c')][_0x536f('0xdfb')]?_0x1f50c2*=_0x53f75a:_0x1d231f[_0x536f('0x1c')][_0x536f('0xea3')]?(_0x1d231f[_0x536f('0x1c')][_0x536f('0xe8b')]=Math[_0x536f('0x1af')](_0x1d231f[_0x536f('0xe7c')],Math[_0x536f('0x7f')](_0x1d231f[_0x536f('0xe7d')],_0x1d231f[_0x536f('0x1c')][_0x536f('0xe8b')]/_0x53f75a)),_0x1d231f[_0x536f('0x1c')]['updateProjectionMatrix'](),_0x35848a=!0x0):_0x1d231f[_0x536f('0x330')]=!0x1;}function _0x511cf7(_0x53f75a){_0x577411[_0x536f('0x1b')](_0x53f75a[_0x536f('0x386')],_0x53f75a[_0x536f('0x389')]);}function _0x5eddb3(_0x53f75a){if(!0x1!==_0x1d231f[_0x536f('0x45d')]){switch(_0x53f75a[_0x536f('0xea5')](),(_0x1d231f[_0x536f('0xe99')][_0x536f('0xea6')]?_0x1d231f[_0x536f('0xe99')]:window)[_0x536f('0xea6')](),_0x53f75a[_0x536f('0xea7')]){case _0x1d231f[_0x536f('0xe87')][_0x536f('0xe89')]:if(_0x53f75a[_0x536f('0xea8')]||_0x53f75a['metaKey']||_0x53f75a[_0x536f('0xea9')]){if(!0x1===_0x1d231f['enablePan'])return;_0x511cf7(_0x53f75a),_0x2b66ee=_0x4337b2[_0x536f('0xeaa')];}else{if(!0x1===_0x1d231f['enableRotate'])return;_0x189f29['set'](_0x53f75a['clientX'],_0x53f75a[_0x536f('0x389')]),_0x2b66ee=_0x4337b2[_0x536f('0xeab')];}break;case _0x1d231f[_0x536f('0xe87')][_0x536f('0xeac')]:if(!0x1===_0x1d231f['enableZoom'])return;_0x4af3e0[_0x536f('0x1b')](_0x53f75a[_0x536f('0x386')],_0x53f75a['clientY']),_0x2b66ee=_0x4337b2[_0x536f('0xead')];break;case _0x1d231f['mouseButtons'][_0x536f('0xe8a')]:if(!0x1===_0x1d231f[_0x536f('0x32e')])return;_0x511cf7(_0x53f75a),_0x2b66ee=_0x4337b2['PAN'];}_0x2b66ee!==_0x4337b2['NONE']&&(document[_0x536f('0x37e')](_0x536f('0xe9d'),_0xad6e09,!0x1),document[_0x536f('0x37e')]('mouseup',_0x3b42fd,!0x1),_0x1d231f[_0x536f('0x32d')](_0x3d6c28));}}function _0xad6e09(_0x53f75a){var _0x50ddaa;if(!0x1!==_0x1d231f[_0x536f('0x45d')])switch(_0x53f75a['preventDefault'](),_0x2b66ee){case _0x4337b2['ROTATE']:if(!0x1===_0x1d231f[_0x536f('0x32f')])return;_0x40625c[_0x536f('0x1b')](_0x53f75a['clientX'],_0x53f75a['clientY']),_0x467b37[_0x536f('0x358')](_0x40625c,_0x189f29)[_0x536f('0x1c2')](_0x1d231f[_0x536f('0x66a')]),_0x50ddaa=_0x1d231f[_0x536f('0xe99')]===document?_0x1d231f[_0x536f('0xe99')][_0x536f('0xea1')]:_0x1d231f[_0x536f('0xe99')],_0x258216(0x2*Math['PI']*_0x467b37['x']/_0x50ddaa[_0x536f('0xea2')]),_0x332e5f(0x2*Math['PI']*_0x467b37['y']/_0x50ddaa['clientHeight']),_0x189f29[_0x536f('0x1bc')](_0x40625c),_0x1d231f[_0x536f('0x2f3')]();break;case _0x4337b2[_0x536f('0xead')]:if(!0x1===_0x1d231f[_0x536f('0x330')])return;_0x3d86cb[_0x536f('0x1b')](_0x53f75a[_0x536f('0x386')],_0x53f75a[_0x536f('0x389')]),_0x2e8262[_0x536f('0x358')](_0x3d86cb,_0x4af3e0),0x0<_0x2e8262['y']?_0x267005(_0x1081ed()):_0x2e8262['y']<0x0&&_0x2e03cc(_0x1081ed()),_0x4af3e0[_0x536f('0x1bc')](_0x3d86cb),_0x1d231f[_0x536f('0x2f3')]();break;case _0x4337b2[_0x536f('0xeaa')]:if(!0x1===_0x1d231f['enablePan'])return;_0x11b825['set'](_0x53f75a[_0x536f('0x386')],_0x53f75a[_0x536f('0x389')]),_0x92ee3f[_0x536f('0x358')](_0x11b825,_0x577411)[_0x536f('0x1c2')](_0x1d231f[_0x536f('0xe82')]),_0x3a20e9(_0x92ee3f['x'],_0x92ee3f['y']),_0x577411['copy'](_0x11b825),_0x1d231f[_0x536f('0x2f3')]();}}function _0x3b42fd(_0x53f75a){!0x1!==_0x1d231f[_0x536f('0x45d')]&&(document[_0x536f('0x380')](_0x536f('0xe9d'),_0xad6e09,!0x1),document[_0x536f('0x380')](_0x536f('0xe9e'),_0x3b42fd,!0x1),_0x1d231f['dispatchEvent'](_0x164591),_0x2b66ee=_0x4337b2[_0x536f('0xe90')]);}function _0x312735(_0x53f75a){!0x1===_0x1d231f[_0x536f('0x45d')]||!0x1===_0x1d231f[_0x536f('0x330')]||_0x2b66ee!==_0x4337b2[_0x536f('0xe90')]&&_0x2b66ee!==_0x4337b2['ROTATE']||(_0x53f75a[_0x536f('0xea5')](),_0x53f75a[_0x536f('0xeae')](),_0x1d231f[_0x536f('0x32d')](_0x3d6c28),(_0x53f75a=_0x53f75a)[_0x536f('0xeaf')]<0x0?_0x2e03cc(_0x1081ed()):0x0<_0x53f75a[_0x536f('0xeaf')]&&_0x267005(_0x1081ed()),_0x1d231f[_0x536f('0x2f3')](),_0x1d231f[_0x536f('0x32d')](_0x164591));}function _0x52da7c(_0x53f75a){if(!0x1!==_0x1d231f['enabled']&&!0x1!==_0x1d231f[_0x536f('0xe86')]&&!0x1!==_0x1d231f['enablePan']){var _0x50ddaa=!0x1;switch(_0x53f75a['keyCode']){case _0x1d231f[_0x536f('0x5e')]['UP']:_0x3a20e9(0x0,_0x1d231f['keyPanSpeed']),_0x50ddaa=!0x0;break;case _0x1d231f[_0x536f('0x5e')][_0x536f('0xeb0')]:_0x3a20e9(0x0,-_0x1d231f['keyPanSpeed']),_0x50ddaa=!0x0;break;case _0x1d231f['keys']['LEFT']:_0x3a20e9(_0x1d231f[_0x536f('0xe84')],0x0),_0x50ddaa=!0x0;break;case _0x1d231f[_0x536f('0x5e')][_0x536f('0xe8a')]:_0x3a20e9(-_0x1d231f['keyPanSpeed'],0x0),_0x50ddaa=!0x0;}_0x50ddaa&&(_0x53f75a[_0x536f('0xea5')](),_0x1d231f['update']());}}function _0x152429(_0x53f75a){if(!0x1!==_0x1d231f[_0x536f('0x45d')]){switch(_0x53f75a[_0x536f('0xea5')](),_0x53f75a[_0x536f('0xeb1')][_0x536f('0xd')]){case 0x1:if(!0x1===_0x1d231f[_0x536f('0x32f')])return;_0x189f29['set'](_0x53f75a['touches'][0x0]['pageX'],_0x53f75a[_0x536f('0xeb1')][0x0][_0x536f('0xeb2')]),_0x2b66ee=_0x4337b2[_0x536f('0xeb3')];break;case 0x2:if(!0x1===_0x1d231f[_0x536f('0x330')]&&!0x1===_0x1d231f[_0x536f('0x32e')])return;_0x50ddaa=_0x53f75a,_0x1d231f[_0x536f('0x330')]&&(_0x33c8ad=_0x50ddaa['touches'][0x0][_0x536f('0xeb4')]-_0x50ddaa[_0x536f('0xeb1')][0x1][_0x536f('0xeb4')],_0x1faeb8=_0x50ddaa[_0x536f('0xeb1')][0x0]['pageY']-_0x50ddaa['touches'][0x1]['pageY'],_0x33c8ad=Math[_0x536f('0x1be')](_0x33c8ad*_0x33c8ad+_0x1faeb8*_0x1faeb8),_0x4af3e0[_0x536f('0x1b')](0x0,_0x33c8ad)),_0x1d231f[_0x536f('0x32e')]&&(_0x1faeb8=0.5*(_0x50ddaa['touches'][0x0][_0x536f('0xeb4')]+_0x50ddaa[_0x536f('0xeb1')][0x1][_0x536f('0xeb4')]),_0x33c8ad=0.5*(_0x50ddaa[_0x536f('0xeb1')][0x0][_0x536f('0xeb2')]+_0x50ddaa[_0x536f('0xeb1')][0x1][_0x536f('0xeb2')]),_0x577411['set'](_0x1faeb8,_0x33c8ad)),_0x2b66ee=_0x4337b2['TOUCH_DOLLY_PAN'];break;default:_0x2b66ee=_0x4337b2[_0x536f('0xe90')];}var _0x50ddaa,_0x1faeb8,_0x33c8ad;_0x2b66ee!==_0x4337b2[_0x536f('0xe90')]&&_0x1d231f['dispatchEvent'](_0x3d6c28);}}function _0x1cf0b1(_0x53f75a){var _0x50ddaa,_0x1faeb8,_0x33c8ad;if(!0x1!==_0x1d231f[_0x536f('0x45d')])switch(_0x53f75a[_0x536f('0xea5')](),_0x53f75a['stopPropagation'](),_0x53f75a['touches'][_0x536f('0xd')]){case 0x1:if(!0x1===_0x1d231f[_0x536f('0x32f')])return;if(_0x2b66ee!==_0x4337b2[_0x536f('0xeb3')])return;_0x40625c['set'](_0x53f75a[_0x536f('0xeb1')][0x0]['pageX'],_0x53f75a['touches'][0x0][_0x536f('0xeb2')]),_0x467b37[_0x536f('0x358')](_0x189f29,_0x40625c)['multiplyScalar'](_0x1d231f['rotateSpeed']),_0x33c8ad=_0x1d231f[_0x536f('0xe99')]===document?_0x1d231f['domElement'][_0x536f('0xea1')]:_0x1d231f[_0x536f('0xe99')],_0x258216(0x2*Math['PI']*_0x467b37['x']/_0x33c8ad[_0x536f('0xea2')]),_0x332e5f(0x2*Math['PI']*_0x467b37['y']/_0x33c8ad[_0x536f('0xea2')]),_0x189f29['copy'](_0x40625c),_0x1d231f['update']();break;case 0x2:if(!0x1===_0x1d231f[_0x536f('0x330')]&&!0x1===_0x1d231f[_0x536f('0x32e')])return;if(_0x2b66ee!==_0x4337b2[_0x536f('0xeb5')])return;_0x33c8ad=_0x53f75a,_0x1d231f['enableZoom']&&(_0x1faeb8=_0x33c8ad[_0x536f('0xeb1')][0x0][_0x536f('0xeb4')]-_0x33c8ad['touches'][0x1]['pageX'],_0x50ddaa=_0x33c8ad[_0x536f('0xeb1')][0x0][_0x536f('0xeb2')]-_0x33c8ad[_0x536f('0xeb1')][0x1][_0x536f('0xeb2')],_0x1faeb8=Math[_0x536f('0x1be')](_0x1faeb8*_0x1faeb8+_0x50ddaa*_0x50ddaa),_0x3d86cb['set'](0x0,_0x1faeb8),_0x2e8262[_0x536f('0x1b')](0x0,Math[_0x536f('0x350')](_0x3d86cb['y']/_0x4af3e0['y'],_0x1d231f['zoomSpeed'])),_0x267005(_0x2e8262['y']),_0x4af3e0[_0x536f('0x1bc')](_0x3d86cb)),_0x1d231f[_0x536f('0x32e')]&&(_0x50ddaa=0.5*(_0x33c8ad[_0x536f('0xeb1')][0x0][_0x536f('0xeb4')]+_0x33c8ad[_0x536f('0xeb1')][0x1][_0x536f('0xeb4')]),_0x1faeb8=0.5*(_0x33c8ad[_0x536f('0xeb1')][0x0][_0x536f('0xeb2')]+_0x33c8ad[_0x536f('0xeb1')][0x1][_0x536f('0xeb2')]),_0x11b825[_0x536f('0x1b')](_0x50ddaa,_0x1faeb8),_0x92ee3f['subVectors'](_0x11b825,_0x577411)[_0x536f('0x1c2')](_0x1d231f[_0x536f('0xe82')]),_0x3a20e9(_0x92ee3f['x'],_0x92ee3f['y']),_0x577411[_0x536f('0x1bc')](_0x11b825)),_0x1d231f[_0x536f('0x2f3')]();break;default:_0x2b66ee=_0x4337b2[_0x536f('0xe90')];}}function _0x40518e(_0x53f75a){!0x1!==_0x1d231f['enabled']&&(_0x1d231f['dispatchEvent'](_0x164591),_0x2b66ee=_0x4337b2[_0x536f('0xe90')]);}function _0x2fbcf5(_0x53f75a){!0x1!==_0x1d231f[_0x536f('0x45d')]&&_0x53f75a[_0x536f('0xea5')]();}_0x1d231f['domElement'][_0x536f('0x37e')](_0x536f('0xe98'),_0x2fbcf5,!0x1),_0x1d231f[_0x536f('0xe99')][_0x536f('0x37e')](_0x536f('0xe9a'),_0x5eddb3,!0x1),_0x1d231f[_0x536f('0xe99')][_0x536f('0x37e')](_0x536f('0xeb6'),_0x312735,!0x1),_0x1d231f[_0x536f('0xe99')][_0x536f('0x37e')]('touchstart',_0x152429,!0x1),_0x1d231f[_0x536f('0xe99')][_0x536f('0x37e')](_0x536f('0xeb7'),_0x40518e,!0x1),_0x1d231f[_0x536f('0xe99')][_0x536f('0x37e')](_0x536f('0xe9c'),_0x1cf0b1,!0x1),window[_0x536f('0x37e')](_0x536f('0xe9f'),_0x52da7c,!0x1),this['update']();}_0xf8b1a4[_0x536f('0x8')]=(0x0,_0x1faeb8[_0x536f('0x6')])(THREE['EventDispatcher'][_0x536f('0x8')]),(0x0,_0x33c8ad[_0x536f('0x6')])((_0xf8b1a4[_0x536f('0x8')]['constructor']=_0xf8b1a4)['prototype'],{'center':{'get':function(){return this[_0x536f('0x77')];}},'noZoom':{'get':function(){return!this[_0x536f('0x330')];},'set':function(_0x53f75a){this[_0x536f('0x330')]=!_0x53f75a;}},'noRotate':{'get':function(){return!this['enableRotate'];},'set':function(_0x53f75a){this[_0x536f('0x32f')]=!_0x53f75a;}},'noPan':{'get':function(){return!this['enablePan'];},'set':function(_0x53f75a){this[_0x536f('0x32e')]=!_0x53f75a;}},'noKeys':{'get':function(){return!this[_0x536f('0xe86')];},'set':function(_0x53f75a){this[_0x536f('0xe86')]=!_0x53f75a;}},'staticMoving':{'get':function(){return!this[_0x536f('0xe80')];},'set':function(_0x53f75a){this['enableDamping']=!_0x53f75a;}},'dynamicDampingFactor':{'get':function(){return this[_0x536f('0xe81')];},'set':function(_0x53f75a){this['dampingFactor']=_0x53f75a;}}}),_0x50ddaa[_0x536f('0x6')]=_0xf8b1a4;},function(_0x336b60,_0x5a0493,_0x325f97){'use strict';Object['defineProperty'](_0x5a0493,'__esModule',{'value':!0x0});var _0x4b162c=_0x251f7e(_0x325f97(0x20)),_0x4a4258=_0x251f7e(_0x325f97(0x0)),_0x325f97=_0x251f7e(_0x325f97(0x1));function _0x251f7e(_0x336b60){return _0x336b60&&_0x336b60[_0x536f('0x4')]?_0x336b60:{'default':_0x336b60};}var _0x5addef=null,_0x325f97=((0x0,_0x325f97['default'])(_0x76e91e,[{'key':_0x536f('0x5'),'value':function(_0x336b60){var _0x5a0493=_0x336b60['floorNum'],_0x325f97=void 0x0===_0x5a0493?0x1:_0x5a0493,_0x5a0493=_0x336b60[_0x536f('0x377')],_0x4a4258=_0x336b60['miniMapImgPath'],_0x251f7e=_0x336b60['miniMapImgHeight'],_0x500ca3=_0x336b60['cameraViewImgPath'],_0x138e8e=_0x336b60[_0x536f('0xeb8')],_0x336b60=_0x336b60[_0x536f('0xeb9')],_0x21ab38=void 0x0===_0x336b60?0x3:_0x336b60,_0x2ed396=this,_0x336b60=(this[_0x536f('0x377')]=_0x5a0493,[]),_0x1641c8=document[_0x536f('0x93')](_0x536f('0xeba')),_0x2c2604=(_0x1641c8[_0x536f('0x6e')]=_0x4a4258,_0x1641c8[_0x536f('0x6a')]['height']=_0x251f7e+'px',_0x336b60[_0x536f('0x82')](new _0x4b162c[(_0x536f('0x6'))](function(_0x336b60){_0x1641c8[_0x536f('0xebb')]=function(){_0x336b60();};})),this[_0x536f('0x377')][_0x536f('0x6d')](_0x1641c8),document['createElement'](_0x536f('0xebc'))),_0x409d09=(_0x2c2604[_0x536f('0x6a')][_0x536f('0x3b')]=_0x536f('0xebd'),document[_0x536f('0x93')]('img'));_0x409d09[_0x536f('0x6e')]=_0x500ca3,_0x409d09[_0x536f('0x6a')][_0x536f('0x3b')]=_0x536f('0xebe'),_0x409d09[_0x536f('0x6a')][_0x536f('0x339')]=_0x138e8e+'px',_0x2c2604[_0x536f('0x6d')](_0x409d09),_0x336b60[_0x536f('0x82')](new _0x4b162c[(_0x536f('0x6'))](function(_0x336b60){_0x409d09['onload']=function(){_0x336b60();};})),this[_0x536f('0x377')][_0x536f('0x6d')](_0x2c2604),_0x4b162c[_0x536f('0x6')][_0x536f('0x3a5')](_0x336b60)['then'](function(_0x336b60){var _0x4a4258=_0x1641c8[_0x536f('0x366')],_0x251f7e=_0x1641c8['height'],_0x500ca3=_0x409d09['height'],_0x138e8e=(_0x2c2604['style']['width']=_0x4a4258,_0x2c2604[_0x536f('0x6a')][_0x536f('0x339')]=_0x251f7e,_0x2c2604[_0x536f('0x6a')]['top']=-_0x251f7e+'px',_0x409d09['style'][_0x536f('0xebf')]=_0x21ab38+_0x536f('0xec0')+(_0x500ca3/0x2+_0x21ab38)+'px',_0x2ed396['map']['mapView']['camera']),_0x5a0493=_0x2ed396[_0x536f('0xcf')][_0x536f('0xec1')][_0x325f97],_0x4b162c=_0x5a0493['maxx']-_0x5a0493[_0x536f('0xec2')],_0x2cf792=_0x5a0493['maxy']-_0x5a0493[_0x536f('0xec3')],_0x43444f=_0x5a0493['minx'],_0x4b08c9=_0x5a0493[_0x536f('0xec4')];_0x5addef=function(_0x336b60){var _0x5a0493=_0x2ed396[_0x536f('0xcf')][_0x536f('0xb54')](_0x138e8e[_0x536f('0x3b')]),_0x325f97=_0x5a0493['x']-_0x43444f,_0x5a0493=_0x5a0493['y']-_0x4b08c9,_0x5a0493=_0x251f7e*(_0x5a0493/_0x2cf792);_0x409d09[_0x536f('0x6a')][_0x536f('0x38a')]=_0x4a4258*(_0x325f97/_0x4b162c)+'px',_0x409d09[_0x536f('0x6a')]['top']=-(_0x5a0493+(_0x500ca3/0x2+_0x21ab38))+'px',_0x409d09[_0x536f('0x6a')][_0x536f('0xec5')]=_0x536f('0xec6')+(_0x2ed396[_0x536f('0xcf')]['rotateAngle']-0x5a)+_0x536f('0xec7');},_0x2ed396['map']['on'](_0x536f('0x9bf'),_0x5addef);});}},{'key':'remove','value':function(){this[_0x536f('0x377')]['innerHTML']='',this[_0x536f('0xcf')][_0x536f('0xe6b')](_0x536f('0x9bf'),_0x5addef);}}]),_0x76e91e);function _0x76e91e(_0x336b60){(0x0,_0x4a4258[_0x536f('0x6')])(this,_0x76e91e),this['map']=_0x336b60,this[_0x536f('0x377')]=null;}_0x5a0493[_0x536f('0x6')]=_0x325f97;},function(_0x462dc8,_0x147c73,_0x201ffd){'use strict';Object['defineProperty'](_0x147c73,_0x536f('0x4'),{'value':!0x0});var _0x1de837,_0x2a9cc7=_0x24a3f8(_0x201ffd(0x20)),_0x5e950a=_0x24a3f8(_0x201ffd(0xa2)),_0x27d89c=_0x24a3f8(_0x201ffd(0xa3)),_0x3ac844=_0x24a3f8(_0x201ffd(0x4)),_0x5befba=_0x24a3f8(_0x201ffd(0x17)),_0x540248=_0x24a3f8(_0x201ffd(0x0)),_0x5f1f3f=_0x24a3f8(_0x201ffd(0x1)),_0x52bf62=_0x24a3f8(_0x201ffd(0x1d)),_0x3c8d16=_0x24a3f8(_0x201ffd(0x1e));function _0x24a3f8(_0x462dc8){return _0x462dc8&&_0x462dc8[_0x536f('0x4')]?_0x462dc8:{'default':_0x462dc8};}function _0x4ec76a(){(0x0,_0x540248['default'])(this,_0x4ec76a);var _0x462dc8=(0x0,_0x52bf62[_0x536f('0x6')])(this,(_0x4ec76a['__proto__']||(0x0,_0x5befba['default'])(_0x4ec76a))[_0x536f('0xa')](this));return _0x462dc8[_0x536f('0xec8')]=(performance||Date)[_0x536f('0x2cf')](),_0x462dc8[_0x536f('0xec9')]=_0x462dc8[_0x536f('0xec8')],_0x462dc8[_0x536f('0x1cd')]=0x0,_0x462dc8[_0x536f('0x2f5')]=0x0,_0x462dc8[_0x536f('0xeca')]=!0x1,_0x462dc8[_0x536f('0xecb')]=[],_0x462dc8[_0x536f('0xecc')]=[],_0x462dc8;}_0x201ffd=_0x201ffd(0x24)[_0x536f('0x73')],(0x0,_0x3c8d16['default'])(_0x4ec76a,_0x201ffd),(0x0,_0x5f1f3f[_0x536f('0x6')])(_0x4ec76a,[{'key':_0x536f('0xecd'),'value':function(){this['beginTime']=(performance||Date)[_0x536f('0x2cf')]();}},{'key':_0x536f('0x45c'),'value':function(){this[_0x536f('0x1cd')]++;var _0x462dc8=(performance||Date)[_0x536f('0x2cf')]();return _0x462dc8>=this['prevTime']+0x3e8&&(this[_0x536f('0x2f5')]=0x3e8*this[_0x536f('0x1cd')]/(_0x462dc8-this[_0x536f('0xec9')]),0xa<this[_0x536f('0xecb')][_0x536f('0xd')]?this[_0x536f('0xecb')][_0x536f('0xd')]=0x0:this['_tempFrameRateList']['push'](this[_0x536f('0x2f5')]),this[_0x536f('0xec9')]=_0x462dc8,this[_0x536f('0x1cd')]=0x0),_0x462dc8;}},{'key':_0x536f('0x2f3'),'value':function(){this[_0x536f('0xec8')]=this[_0x536f('0x45c')]();}},{'key':_0x536f('0xece'),'value':function(_0x462dc8,_0x147c73){var _0x201ffd=_0x462dc8[_0x536f('0xd')],_0x147c73=Math['floor'](_0x201ffd*_0x147c73/0x2),_0x462dc8=_0x462dc8[_0x536f('0xecf')](function(_0x462dc8,_0x147c73){return _0x462dc8-_0x147c73;})['slice'](_0x147c73,_0x201ffd-_0x147c73);return _0x462dc8[_0x536f('0xed0')](function(_0x462dc8,_0x147c73){return _0x462dc8+_0x147c73;},0x0)/_0x462dc8[_0x536f('0xd')];}},{'key':_0x536f('0xed1'),'value':function(){var _0x462dc8=0x0,_0x147c73=!0x0,_0x201ffd=!0x1,_0x1de837=void 0x0;try{for(var _0x2a9cc7,_0x5e950a=(0x0,_0x3ac844[_0x536f('0x6')])(this[_0x536f('0xecb')]);!(_0x147c73=(_0x2a9cc7=_0x5e950a[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x147c73=!0x0)_0x462dc8+=_0x2a9cc7[_0x536f('0x10')];}catch(_0x4878f1){_0x201ffd=!0x0,_0x1de837=_0x4878f1;}finally{try{!_0x147c73&&_0x5e950a['return']&&_0x5e950a[_0x536f('0x265')]();}finally{if(_0x201ffd)throw _0x1de837;}}return _0x462dc8/this['_tempFrameRateList'][_0x536f('0xd')];}},{'key':_0x536f('0x978'),'value':(_0x1de837=(0x0,_0x27d89c[_0x536f('0x6')])(_0x5e950a[_0x536f('0x6')]['mark'](function _0x462dc8(_0x147c73,_0x201ffd){var _0x1de837,_0x2a9cc7;return _0x5e950a[_0x536f('0x6')][_0x536f('0x4f2')](function(_0x462dc8){for(;;)switch(_0x462dc8[_0x536f('0x4fd')]=_0x462dc8[_0x536f('0x79')]){case 0x0:_0x1de837=0x0;case 0x1:if(_0x1de837<_0x147c73)return _0x462dc8['next']=0x4,this[_0x536f('0xed2')](0x3e8);_0x462dc8['next']=0x9;break;case 0x4:0x0<this['_tempFrameRateList']['length']&&this[_0x536f('0xecc')]['push'](this[_0x536f('0xed1')]()),this['_tempFrameRateList'][_0x536f('0xd')]=0x0;case 0x6:_0x1de837++,_0x462dc8[_0x536f('0x79')]=0x1;break;case 0x9:_0x2a9cc7=this['trimmedMean'](this[_0x536f('0xecc')],0.2),this['dispatchEvent']({'type':_0x536f('0x97a'),'fps':+_0x2a9cc7[_0x536f('0xed3')](0x1)}),_0x201ffd&&this[_0x536f('0x978')](_0x147c73,!0x0);case 0xc:case _0x536f('0x45c'):return _0x462dc8['stop']();}},_0x462dc8,this);})),function(_0x462dc8,_0x147c73){return _0x1de837[_0x536f('0x16')](this,arguments);})},{'key':'sleep','value':function(_0x147c73){return new _0x2a9cc7[(_0x536f('0x6'))](function(_0x462dc8){setTimeout(_0x462dc8,_0x147c73);});}}]),_0x147c73['default']=_0x4ec76a;},function(_0x96b8c6,_0x42d847,_0x93cd19){'use strict';Object[_0x536f('0x1')](_0x42d847,_0x536f('0x4'),{'value':!0x0});var _0x93cd19=_0x93cd19(0x4),_0x1bbf20=_0x93cd19&&_0x93cd19['__esModule']?_0x93cd19:{'default':_0x93cd19};_0x42d847[_0x536f('0x6')]=function(){esmap[_0x536f('0x36')][_0x536f('0xed4')]=function(_0x96b8c6,_0x42d847,_0x93cd19,_0x436e64){if(!_0x93cd19&&_0x93cd19[_0x536f('0x5bd')])_0x436e64([]);else{var _0x2bc04c=[],_0x96b8c6=_0x96b8c6[_0x536f('0x522')](_0x42d847),_0x1d03a9=!0x0,_0x42d847=!0x1,_0xae7d6e=void 0x0;try{for(var _0x2c1026,_0x5be05d=(0x0,_0x1bbf20[_0x536f('0x6')])(_0x96b8c6[_0x536f('0x523')]);!(_0x1d03a9=(_0x2c1026=_0x5be05d[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x1d03a9=!0x0){var _0x17af20=_0x2c1026['value'],_0x5142cc=!0x0,_0x3ec29e=!0x1,_0x5d609c=void 0x0;try{for(var _0x14c6bd,_0xd9bd97=(0x0,_0x1bbf20[_0x536f('0x6')])(_0x17af20[_0x536f('0x35c')]);!(_0x5142cc=(_0x14c6bd=_0xd9bd97[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5142cc=!0x0){var _0x5f0cf0=_0x14c6bd[_0x536f('0x10')];_0x5f0cf0[_0x536f('0x5bd')]===_0x93cd19[_0x536f('0x5bd')]&&(_0x93cd19['names']?Array[_0x536f('0x1ab')](_0x93cd19['names'])&&0x0<_0x93cd19[_0x536f('0xed5')][_0x536f('0xd')]?0x0<=_0x93cd19['names'][_0x536f('0x4c')](_0x5f0cf0[_0x536f('0x92')])&&_0x2bc04c['push'](_0x5f0cf0):_0x93cd19[_0x536f('0xed5')]===_0x5f0cf0[_0x536f('0x92')]&&_0x2bc04c[_0x536f('0x82')](_0x5f0cf0):_0x2bc04c[_0x536f('0x82')](_0x5f0cf0));}}catch(_0x34fd1c){_0x3ec29e=!0x0,_0x5d609c=_0x34fd1c;}finally{try{!_0x5142cc&&_0xd9bd97['return']&&_0xd9bd97[_0x536f('0x265')]();}finally{if(_0x3ec29e)throw _0x5d609c;}}}}catch(_0x5e2720){_0x42d847=!0x0,_0xae7d6e=_0x5e2720;}finally{try{!_0x1d03a9&&_0x5be05d['return']&&_0x5be05d[_0x536f('0x265')]();}finally{if(_0x42d847)throw _0xae7d6e;}}_0x436e64(_0x2bc04c);}},esmap[_0x536f('0xed6')][_0x536f('0xed7')]['prototype']['setOutline']=function(){var _0x96b8c6=0x0<arguments[_0x536f('0xd')]&&void 0x0!==arguments[0x0]?arguments[0x0]:{};_0x96b8c6[_0x536f('0xed8')]&&esmap['ESEffectTool']['screenEffect'][_0x536f('0x9fd')](),esmap[_0x536f('0x4e')][_0x536f('0x973')][_0x536f('0x9fb')](this[_0x536f('0x525')],_0x96b8c6);},esmap[_0x536f('0xed6')][_0x536f('0xed7')][_0x536f('0x8')][_0x536f('0xed9')]=function(){esmap[_0x536f('0x4e')][_0x536f('0x973')][_0x536f('0x9fc')](this[_0x536f('0x525')]);},esmap['ES3DMarker']['ESModel3D'][_0x536f('0x8')][_0x536f('0xeda')]=function(_0x2dda4a){this[_0x536f('0x525')]['traverse'](function(_0x96b8c6){if(_0x536f('0x354')===_0x96b8c6[_0x536f('0x76')])if(0x0<_0x96b8c6['material'][_0x536f('0xd')]){var _0x42d847=!0x0,_0x93cd19=!0x1,_0x372d33=void 0x0;try{for(var _0xfbc108,_0x2603c5=(0x0,_0x1bbf20[_0x536f('0x6')])(mesh[_0x536f('0xce')]);!(_0x42d847=(_0xfbc108=_0x2603c5['next']())[_0x536f('0x7a')]);_0x42d847=!0x0){var _0x1c13c3=_0xfbc108['value'];_0x1c13c3 instanceof THREE['Material']&&(_0x1c13c3[_0x536f('0xb19')]=!0x0,_0x1c13c3[_0x536f('0x21f')][_0x536f('0x33d')](_0x2dda4a));}}catch(_0x1740cb){_0x93cd19=!0x0,_0x372d33=_0x1740cb;}finally{try{!_0x42d847&&_0x2603c5[_0x536f('0x265')]&&_0x2603c5[_0x536f('0x265')]();}finally{if(_0x93cd19)throw _0x372d33;}}}else _0x96b8c6[_0x536f('0xce')]['wireframe']=!0x0,_0x96b8c6['material'][_0x536f('0x21f')]['setStyle'](_0x2dda4a);});},esmap[_0x536f('0xed6')][_0x536f('0xed7')][_0x536f('0x8')][_0x536f('0xedb')]=function(_0x96b8c6){_0x96b8c6['id']=this['ID'],esmap[_0x536f('0x4e')]['models'][_0x536f('0xedb')](_0x96b8c6);},esmap[_0x536f('0xed6')][_0x536f('0xed7')]['prototype'][_0x536f('0xedc')]=function(_0x96b8c6){_0x96b8c6['id']=this['ID'],esmap[_0x536f('0x4e')][_0x536f('0x519')]['setUvTransform'](_0x96b8c6);},esmap[_0x536f('0xedd')][_0x536f('0x8')][_0x536f('0xede')]=function(){esmap[_0x536f('0x4e')][_0x536f('0x973')][_0x536f('0x9fb')](this[_0x536f('0x525')]);},esmap[_0x536f('0xedd')]['prototype'][_0x536f('0xed9')]=function(){esmap[_0x536f('0x4e')][_0x536f('0x973')][_0x536f('0x9fc')](this[_0x536f('0x525')]);},esmap[_0x536f('0xedd')][_0x536f('0x8')]['setBloomLight']=function(_0x96b8c6){this[_0x536f('0x525')]['children']&&0x0<this[_0x536f('0x525')][_0x536f('0x35c')][_0x536f('0xd')]&&esmap[_0x536f('0x4e')]['screenEffect']['setObjectBloomLight'](this['o3d_'][_0x536f('0x35c')][0x0]),this['image']&&esmap[_0x536f('0x4e')]['screenEffect'][_0x536f('0x9ec')](this['o3d_'],_0x96b8c6);},esmap[_0x536f('0xedd')][_0x536f('0x8')][_0x536f('0x9dd')]=function(_0x96b8c6){this[_0x536f('0x525')]&&this[_0x536f('0x525')]['material']&&esmap[_0x536f('0x4e')][_0x536f('0x9dc')][_0x536f('0x9dd')](this);},esmap[_0x536f('0xedd')]['prototype'][_0x536f('0x9de')]=function(_0x96b8c6){this[_0x536f('0x525')]&&this[_0x536f('0x525')]['material']&&esmap[_0x536f('0x4e')][_0x536f('0x9dc')]['setHeatPointImg'](this,_0x96b8c6);},esmap[_0x536f('0xedf')][_0x536f('0x8')]['setBloomLight']=function(_0x96b8c6){var _0x42d847=!0x0,_0x93cd19=!0x1,_0x34f67c=void 0x0;try{for(var _0x33cd21,_0xad6ae4=(0x0,_0x1bbf20[_0x536f('0x6')])(this[_0x536f('0x525')]['children']);!(_0x42d847=(_0x33cd21=_0xad6ae4['next']())['done']);_0x42d847=!0x0){var _0x59240e=_0x33cd21[_0x536f('0x10')];esmap[_0x536f('0x4e')][_0x536f('0x973')][_0x536f('0x9ec')](_0x59240e,_0x96b8c6);}}catch(_0x4ea24f){_0x93cd19=!0x0,_0x34f67c=_0x4ea24f;}finally{try{!_0x42d847&&_0xad6ae4['return']&&_0xad6ae4[_0x536f('0x265')]();}finally{if(_0x93cd19)throw _0x34f67c;}}};};},function(_0x436779,_0x22ceec,_0x3f4a71){'use strict';Object[_0x536f('0x1')](_0x22ceec,_0x536f('0x4'),{'value':!0x0});var _0x3f4a71=_0x3f4a71(0x4),_0x39bfbe=_0x3f4a71&&_0x3f4a71[_0x536f('0x4')]?_0x3f4a71:{'default':_0x3f4a71};_0x22ceec[_0x536f('0x6')]=function(){esmap[_0x536f('0xee0')][_0x536f('0x8')][_0x536f('0xee1')]=function(_0x436779){if(!_0x436779)return[];if(!this[_0x536f('0x523')])return[];var _0x22ceec=[],_0x3f4a71=this[_0x536f('0x523')];if(Array[_0x536f('0x1ab')](_0x436779)&&0x0<_0x436779[_0x536f('0xd')]){var _0x4d658c=!0x0,_0x465ad4=!0x1,_0x3e5532=void 0x0;try{for(var _0x247666,_0x5500bc=(0x0,_0x39bfbe[_0x536f('0x6')])(_0x3f4a71);!(_0x4d658c=(_0x247666=_0x5500bc[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x4d658c=!0x0){var _0x4ed9c2=_0x247666[_0x536f('0x10')];0x0<=_0x436779[_0x536f('0x4c')](_0x4ed9c2['name'])&&_0x22ceec[_0x536f('0x82')](_0x4ed9c2);}}catch(_0x144295){_0x465ad4=!0x0,_0x3e5532=_0x144295;}finally{try{!_0x4d658c&&_0x5500bc[_0x536f('0x265')]&&_0x5500bc[_0x536f('0x265')]();}finally{if(_0x465ad4)throw _0x3e5532;}}}else{var _0x1c1a1d=!0x0,_0x465ad4=!0x1,_0x3e5532=void 0x0;try{for(var _0x2605af,_0x1f167f=(0x0,_0x39bfbe[_0x536f('0x6')])(_0x3f4a71);!(_0x1c1a1d=(_0x2605af=_0x1f167f[_0x536f('0x79')]())['done']);_0x1c1a1d=!0x0){var _0x467644=_0x2605af[_0x536f('0x10')];_0x467644['name']===_0x436779&&_0x22ceec[_0x536f('0x82')](_0x467644);}}catch(_0x597e93){_0x465ad4=!0x0,_0x3e5532=_0x597e93;}finally{try{!_0x1c1a1d&&_0x1f167f[_0x536f('0x265')]&&_0x1f167f[_0x536f('0x265')]();}finally{if(_0x465ad4)throw _0x3e5532;}}}return _0x22ceec;};};},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(_0x3bf827,_0x5a995b,_0xba2824){'use strict';var _0x12c646=_0xba2824(0x19d);window[_0x536f('0xee2')]=_0x12c646,_0xba2824(0x19f);},function(_0x55276e,_0x1e3cb7,_0x59ffa2){'use strict';!function(_0x30603e){_0x43c55b(_0x59ffa2(0x29));var _0x19e95d,_0x2444c5=_0x43c55b(_0x59ffa2(0x1f)),_0x19dbbf=_0x43c55b(_0x59ffa2(0x3c));function _0x43c55b(_0x19e95d){return _0x19e95d&&_0x19e95d[_0x536f('0x4')]?_0x19e95d:{'default':_0x19e95d};}function _0x29cf0a(){this['_tweens']={},this[_0x536f('0xee3')]={};}_0x29cf0a[_0x536f('0x8')]={'getAll':function(){return(0x0,_0x19dbbf[_0x536f('0x6')])(this[_0x536f('0xee4')])[_0x536f('0xcf')](function(_0x19e95d){return this[_0x536f('0xee4')][_0x19e95d];}[_0x536f('0x7')](this));},'removeAll':function(){this['_tweens']={};},'add':function(_0x19e95d){this[_0x536f('0xee4')][_0x19e95d[_0x536f('0xee5')]()]=_0x19e95d,this[_0x536f('0xee3')][_0x19e95d[_0x536f('0xee5')]()]=_0x19e95d;},'remove':function(_0x19e95d){delete this['_tweens'][_0x19e95d[_0x536f('0xee5')]()],delete this['_tweensAddedDuringUpdate'][_0x19e95d[_0x536f('0xee5')]()];},'update':function(_0x19e95d,_0x30603e){var _0x2444c5=(0x0,_0x19dbbf[_0x536f('0x6')])(this[_0x536f('0xee4')]);if(0x0===_0x2444c5['length'])return!0x1;for(_0x19e95d=void 0x0!==_0x19e95d?_0x19e95d:_0x58d5e5[_0x536f('0x2cf')]();0x0<_0x2444c5[_0x536f('0xd')];){this[_0x536f('0xee3')]={};for(var _0x43c55b=0x0;_0x43c55b<_0x2444c5[_0x536f('0xd')];_0x43c55b++){var _0x29cf0a=this[_0x536f('0xee4')][_0x2444c5[_0x43c55b]];_0x29cf0a&&!0x1===_0x29cf0a[_0x536f('0x2f3')](_0x19e95d)&&(_0x29cf0a[_0x536f('0xee6')]=!0x1,_0x30603e||delete this[_0x536f('0xee4')][_0x2444c5[_0x43c55b]]);}_0x2444c5=(0x0,_0x19dbbf[_0x536f('0x6')])(this[_0x536f('0xee3')]);}return!0x0;}};var _0x520c55,_0x58d5e5=new _0x29cf0a();_0x58d5e5[_0x536f('0x1c5')]=_0x29cf0a,_0x58d5e5[_0x536f('0xee7')]=0x0,_0x58d5e5[_0x536f('0xee8')]=function(){return _0x58d5e5['_nextId']++;},_0x536f('0x18')==typeof self&&void 0x0!==_0x30603e&&_0x30603e['hrtime']?_0x58d5e5[_0x536f('0x2cf')]=function(){var _0x19e95d=_0x30603e[_0x536f('0xee9')]();return 0x3e8*_0x19e95d[0x0]+_0x19e95d[0x1]/0xf4240;}:_0x536f('0x18')!=typeof self&&void 0x0!==self[_0x536f('0xeea')]&&void 0x0!==self[_0x536f('0xeea')][_0x536f('0x2cf')]?_0x58d5e5[_0x536f('0x2cf')]=self['performance'][_0x536f('0x2cf')][_0x536f('0x7')](self['performance']):void 0x0!==Date[_0x536f('0x2cf')]?_0x58d5e5[_0x536f('0x2cf')]=Date[_0x536f('0x2cf')]:_0x58d5e5[_0x536f('0x2cf')]=function(){return new Date()[_0x536f('0xeeb')]();},_0x58d5e5['Tween']=function(_0x19e95d,_0x30603e){this[_0x536f('0xeec')]=_0x19e95d,this[_0x536f('0xeed')]={},this[_0x536f('0xeee')]={},this[_0x536f('0xeef')]={},this[_0x536f('0xef0')]=0x3e8,this[_0x536f('0xef1')]=0x0,this[_0x536f('0xef2')]=void 0x0,this[_0x536f('0xef3')]=!0x1,this[_0x536f('0xee6')]=!0x1,this[_0x536f('0xef4')]=!0x1,this[_0x536f('0xef5')]=0x0,this[_0x536f('0xef6')]=null,this[_0x536f('0xef7')]=_0x58d5e5[_0x536f('0x325')]['Linear'][_0x536f('0x442')],this[_0x536f('0xef8')]=_0x58d5e5[_0x536f('0xef9')][_0x536f('0x441')],this['_chainedTweens']=[],this[_0x536f('0xefa')]=null,this[_0x536f('0xefb')]=!0x1,this['_onUpdateCallback']=null,this[_0x536f('0xefc')]=null,this[_0x536f('0xefd')]=null,this[_0x536f('0xefe')]=null,this[_0x536f('0xeff')]=_0x30603e||_0x58d5e5,this[_0x536f('0xab5')]=_0x58d5e5[_0x536f('0xee8')]();},_0x58d5e5[_0x536f('0x323')][_0x536f('0x8')]={'getId':function(){return this['_id'];},'isPlaying':function(){return this[_0x536f('0xee6')];},'to':function(_0x19e95d,_0x30603e){return this[_0x536f('0xeee')]=(0x0,_0x2444c5[_0x536f('0x6')])(_0x19e95d),void 0x0!==_0x30603e&&(this[_0x536f('0xef0')]=_0x30603e),this;},'duration':function(_0x19e95d){return this[_0x536f('0xef0')]=_0x19e95d,this;},'start':function(_0x19e95d){for(var _0x30603e in this[_0x536f('0xeff')][_0x536f('0x1c3')](this),this[_0x536f('0xee6')]=!0x0,this[_0x536f('0xefb')]=!0x1,this[_0x536f('0xef6')]=void 0x0!==_0x19e95d?'string'==typeof _0x19e95d?_0x58d5e5['now']()+parseFloat(_0x19e95d):_0x19e95d:_0x58d5e5['now'](),this[_0x536f('0xef6')]+=this['_delayTime'],this['_valuesEnd']){if(this[_0x536f('0xeee')][_0x30603e]instanceof Array){if(0x0===this[_0x536f('0xeee')][_0x30603e][_0x536f('0xd')])continue;this[_0x536f('0xeee')][_0x30603e]=[this[_0x536f('0xeec')][_0x30603e]][_0x536f('0xf00')](this[_0x536f('0xeee')][_0x30603e]);}void 0x0!==this['_object'][_0x30603e]&&(this['_valuesStart'][_0x30603e]=this['_object'][_0x30603e],this[_0x536f('0xeed')][_0x30603e]instanceof Array==0x0&&(this[_0x536f('0xeed')][_0x30603e]*=0x1),this[_0x536f('0xeef')][_0x30603e]=this[_0x536f('0xeed')][_0x30603e]||0x0);}return this;},'stop':function(){return this['_isPlaying']&&(this[_0x536f('0xeff')][_0x536f('0xd1')](this),this[_0x536f('0xee6')]=!0x1,null!==this['_onStopCallback']&&this[_0x536f('0xefe')](this[_0x536f('0xeec')]),this['stopChainedTweens']()),this;},'end':function(){return this[_0x536f('0x2f3')](0x1/0x0),this;},'stopChainedTweens':function(){for(var _0x19e95d=0x0,_0x30603e=this[_0x536f('0xf01')][_0x536f('0xd')];_0x19e95d<_0x30603e;_0x19e95d++)this[_0x536f('0xf01')][_0x19e95d][_0x536f('0xf02')]();},'group':function(_0x19e95d){return this[_0x536f('0xeff')]=_0x19e95d,this;},'delay':function(_0x19e95d){return this[_0x536f('0xef5')]=_0x19e95d,this;},'repeat':function(_0x19e95d){return this[_0x536f('0xef1')]=_0x19e95d,this;},'repeatDelay':function(_0x19e95d){return this[_0x536f('0xef2')]=_0x19e95d,this;},'yoyo':function(_0x19e95d){return this[_0x536f('0xef3')]=_0x19e95d,this;},'easing':function(_0x19e95d){return this[_0x536f('0xef7')]=_0x19e95d,this;},'interpolation':function(_0x19e95d){return this['_interpolationFunction']=_0x19e95d,this;},'chain':function(){return this['_chainedTweens']=arguments,this;},'onStart':function(_0x19e95d){return this['_onStartCallback']=_0x19e95d,this;},'onUpdate':function(_0x19e95d){return this[_0x536f('0xf03')]=_0x19e95d,this;},'onRepeat':function(_0x19e95d){return this[_0x536f('0xefc')]=_0x19e95d,this;},'onComplete':function(_0x19e95d){return this[_0x536f('0xefd')]=_0x19e95d,this;},'onStop':function(_0x19e95d){return this['_onStopCallback']=_0x19e95d,this;},'update':function(_0x19e95d){var _0x30603e,_0x2444c5,_0x43c55b,_0x29cf0a,_0x19dbbf,_0x520c55;if(_0x19e95d<this[_0x536f('0xef6')])return!0x0;for(_0x30603e in!0x1===this[_0x536f('0xefb')]&&(null!==this[_0x536f('0xefa')]&&this[_0x536f('0xefa')](this[_0x536f('0xeec')]),this['_onStartCallbackFired']=!0x0),_0x2444c5=(_0x19e95d-this[_0x536f('0xef6')])/this[_0x536f('0xef0')],_0x2444c5=0x0===this[_0x536f('0xef0')]||0x1<_0x2444c5?0x1:_0x2444c5,_0x43c55b=this[_0x536f('0xef7')](_0x2444c5),this[_0x536f('0xeee')])void 0x0!==this[_0x536f('0xeed')][_0x30603e]&&(_0x29cf0a=this[_0x536f('0xeed')][_0x30603e]||0x0,(_0x19dbbf=this[_0x536f('0xeee')][_0x30603e])instanceof Array?this[_0x536f('0xeec')][_0x30603e]=this[_0x536f('0xef8')](_0x19dbbf,_0x43c55b):_0x536f('0x14')==typeof(_0x19dbbf=_0x536f('0x8a')==typeof _0x19dbbf?'+'===_0x19dbbf[_0x536f('0x4fe')](0x0)||'-'===_0x19dbbf[_0x536f('0x4fe')](0x0)?_0x29cf0a+parseFloat(_0x19dbbf):parseFloat(_0x19dbbf):_0x19dbbf)&&(this[_0x536f('0xeec')][_0x30603e]=_0x29cf0a+(_0x19dbbf-_0x29cf0a)*_0x43c55b));if(null!==this[_0x536f('0xf03')]&&this[_0x536f('0xf03')](this['_object'],_0x2444c5),0x1!==_0x2444c5)return!0x0;if(0x0<this[_0x536f('0xef1')]){for(_0x30603e in isFinite(this[_0x536f('0xef1')])&&this[_0x536f('0xef1')]--,this['_valuesStartRepeat'])'string'==typeof this[_0x536f('0xeee')][_0x30603e]&&(this[_0x536f('0xeef')][_0x30603e]=this[_0x536f('0xeef')][_0x30603e]+parseFloat(this[_0x536f('0xeee')][_0x30603e])),this['_yoyo']&&(_0x520c55=this[_0x536f('0xeef')][_0x30603e],this[_0x536f('0xeef')][_0x30603e]=this['_valuesEnd'][_0x30603e],this['_valuesEnd'][_0x30603e]=_0x520c55),this['_valuesStart'][_0x30603e]=this[_0x536f('0xeef')][_0x30603e];return this[_0x536f('0xef3')]&&(this[_0x536f('0xef4')]=!this[_0x536f('0xef4')]),void 0x0!==this[_0x536f('0xef2')]?this[_0x536f('0xef6')]=_0x19e95d+this[_0x536f('0xef2')]:this[_0x536f('0xef6')]=_0x19e95d+this['_delayTime'],null!==this['_onRepeatCallback']&&this[_0x536f('0xefc')](this['_object']),!0x0;}null!==this[_0x536f('0xefd')]&&this[_0x536f('0xefd')](this[_0x536f('0xeec')]);for(var _0x58d5e5=0x0,_0x55276e=this[_0x536f('0xf01')][_0x536f('0xd')];_0x58d5e5<_0x55276e;_0x58d5e5++)this[_0x536f('0xf01')][_0x58d5e5][_0x536f('0x329')](this[_0x536f('0xef6')]+this[_0x536f('0xef0')]);return!0x1;}},_0x58d5e5[_0x536f('0x325')]={'Linear':{'None':function(_0x19e95d){return _0x19e95d;}},'Quadratic':{'In':function(_0x19e95d){return _0x19e95d*_0x19e95d;},'Out':function(_0x19e95d){return _0x19e95d*(0x2-_0x19e95d);},'InOut':function(_0x19e95d){return(_0x19e95d*=0x2)<0x1?0.5*_0x19e95d*_0x19e95d:-0.5*(--_0x19e95d*(_0x19e95d-0x2)-0x1);}},'Cubic':{'In':function(_0x19e95d){return _0x19e95d*_0x19e95d*_0x19e95d;},'Out':function(_0x19e95d){return--_0x19e95d*_0x19e95d*_0x19e95d+0x1;},'InOut':function(_0x19e95d){return(_0x19e95d*=0x2)<0x1?0.5*_0x19e95d*_0x19e95d*_0x19e95d:0.5*((_0x19e95d-=0x2)*_0x19e95d*_0x19e95d+0x2);}},'Quartic':{'In':function(_0x19e95d){return _0x19e95d*_0x19e95d*_0x19e95d*_0x19e95d;},'Out':function(_0x19e95d){return 0x1- --_0x19e95d*_0x19e95d*_0x19e95d*_0x19e95d;},'InOut':function(_0x19e95d){return(_0x19e95d*=0x2)<0x1?0.5*_0x19e95d*_0x19e95d*_0x19e95d*_0x19e95d:-0.5*((_0x19e95d-=0x2)*_0x19e95d*_0x19e95d*_0x19e95d-0x2);}},'Quintic':{'In':function(_0x19e95d){return _0x19e95d*_0x19e95d*_0x19e95d*_0x19e95d*_0x19e95d;},'Out':function(_0x19e95d){return--_0x19e95d*_0x19e95d*_0x19e95d*_0x19e95d*_0x19e95d+0x1;},'InOut':function(_0x19e95d){return(_0x19e95d*=0x2)<0x1?0.5*_0x19e95d*_0x19e95d*_0x19e95d*_0x19e95d*_0x19e95d:0.5*((_0x19e95d-=0x2)*_0x19e95d*_0x19e95d*_0x19e95d*_0x19e95d+0x2);}},'Sinusoidal':{'In':function(_0x19e95d){return 0x1-Math[_0x536f('0x5b')](_0x19e95d*Math['PI']/0x2);},'Out':function(_0x19e95d){return Math['sin'](_0x19e95d*Math['PI']/0x2);},'InOut':function(_0x19e95d){return 0.5*(0x1-Math[_0x536f('0x5b')](Math['PI']*_0x19e95d));}},'Exponential':{'In':function(_0x19e95d){return 0x0===_0x19e95d?0x0:Math[_0x536f('0x350')](0x400,_0x19e95d-0x1);},'Out':function(_0x19e95d){return 0x1===_0x19e95d?0x1:0x1-Math[_0x536f('0x350')](0x2,-0xa*_0x19e95d);},'InOut':function(_0x19e95d){return 0x0===_0x19e95d?0x0:0x1===_0x19e95d?0x1:(_0x19e95d*=0x2)<0x1?0.5*Math[_0x536f('0x350')](0x400,_0x19e95d-0x1):0.5*(0x2-Math[_0x536f('0x350')](0x2,-0xa*(_0x19e95d-0x1)));}},'Circular':{'In':function(_0x19e95d){return 0x1-Math[_0x536f('0x1be')](0x1-_0x19e95d*_0x19e95d);},'Out':function(_0x19e95d){return Math['sqrt'](0x1- --_0x19e95d*_0x19e95d);},'InOut':function(_0x19e95d){return(_0x19e95d*=0x2)<0x1?-0.5*(Math[_0x536f('0x1be')](0x1-_0x19e95d*_0x19e95d)-0x1):0.5*(Math['sqrt'](0x1-(_0x19e95d-=0x2)*_0x19e95d)+0x1);}},'Elastic':{'In':function(_0x19e95d){return 0x0===_0x19e95d?0x0:0x1===_0x19e95d?0x1:-Math[_0x536f('0x350')](0x2,0xa*(_0x19e95d-0x1))*Math[_0x536f('0x5a')](0x5*(_0x19e95d-1.1)*Math['PI']);},'Out':function(_0x19e95d){return 0x0===_0x19e95d?0x0:0x1===_0x19e95d?0x1:Math['pow'](0x2,-0xa*_0x19e95d)*Math[_0x536f('0x5a')](0x5*(_0x19e95d-0.1)*Math['PI'])+0x1;},'InOut':function(_0x19e95d){return 0x0===_0x19e95d?0x0:0x1===_0x19e95d?0x1:(_0x19e95d*=0x2)<0x1?-0.5*Math[_0x536f('0x350')](0x2,0xa*(_0x19e95d-0x1))*Math[_0x536f('0x5a')](0x5*(_0x19e95d-1.1)*Math['PI']):0.5*Math[_0x536f('0x350')](0x2,-0xa*(_0x19e95d-0x1))*Math[_0x536f('0x5a')](0x5*(_0x19e95d-1.1)*Math['PI'])+0x1;}},'Back':{'In':function(_0x19e95d){return _0x19e95d*_0x19e95d*(2.70158*_0x19e95d-1.70158);},'Out':function(_0x19e95d){return--_0x19e95d*_0x19e95d*(2.70158*_0x19e95d+1.70158)+0x1;},'InOut':function(_0x19e95d){var _0x30603e=2.5949095;return(_0x19e95d*=0x2)<0x1?_0x19e95d*_0x19e95d*((0x1+_0x30603e)*_0x19e95d-_0x30603e)*0.5:0.5*((_0x19e95d-=0x2)*_0x19e95d*((0x1+_0x30603e)*_0x19e95d+_0x30603e)+0x2);}},'Bounce':{'In':function(_0x19e95d){return 0x1-_0x58d5e5[_0x536f('0x325')][_0x536f('0xf04')][_0x536f('0x327')](0x1-_0x19e95d);},'Out':function(_0x19e95d){return _0x19e95d<0x1/2.75?7.5625*_0x19e95d*_0x19e95d:_0x19e95d<0x2/2.75?7.5625*(_0x19e95d-=1.5/2.75)*_0x19e95d+0.75:_0x19e95d<2.5/2.75?7.5625*(_0x19e95d-=2.25/2.75)*_0x19e95d+0.9375:7.5625*(_0x19e95d-=2.625/2.75)*_0x19e95d+0.984375;},'InOut':function(_0x19e95d){return _0x19e95d<0.5?0.5*_0x58d5e5[_0x536f('0x325')][_0x536f('0xf04')]['In'](0x2*_0x19e95d):0.5*_0x58d5e5[_0x536f('0x325')]['Bounce']['Out'](0x2*_0x19e95d-0x1)+0.5;}}},_0x58d5e5[_0x536f('0xef9')]={'Linear':function(_0x19e95d,_0x30603e){var _0x2444c5=_0x19e95d[_0x536f('0xd')]-0x1,_0x43c55b=_0x2444c5*_0x30603e,_0x29cf0a=Math[_0x536f('0x7c')](_0x43c55b),_0x19dbbf=_0x58d5e5[_0x536f('0xef9')][_0x536f('0xf05')][_0x536f('0x441')];return _0x30603e<0x0?_0x19dbbf(_0x19e95d[0x0],_0x19e95d[0x1],_0x43c55b):0x1<_0x30603e?_0x19dbbf(_0x19e95d[_0x2444c5],_0x19e95d[_0x2444c5-0x1],_0x2444c5-_0x43c55b):_0x19dbbf(_0x19e95d[_0x29cf0a],_0x19e95d[_0x2444c5<_0x29cf0a+0x1?_0x2444c5:_0x29cf0a+0x1],_0x43c55b-_0x29cf0a);},'Bezier':function(_0x19e95d,_0x30603e){for(var _0x2444c5=0x0,_0x43c55b=_0x19e95d['length']-0x1,_0x29cf0a=Math[_0x536f('0x350')],_0x19dbbf=_0x58d5e5[_0x536f('0xef9')][_0x536f('0xf05')]['Bernstein'],_0x520c55=0x0;_0x520c55<=_0x43c55b;_0x520c55++)_0x2444c5+=_0x29cf0a(0x1-_0x30603e,_0x43c55b-_0x520c55)*_0x29cf0a(_0x30603e,_0x520c55)*_0x19e95d[_0x520c55]*_0x19dbbf(_0x43c55b,_0x520c55);return _0x2444c5;},'CatmullRom':function(_0x19e95d,_0x30603e){var _0x2444c5=_0x19e95d[_0x536f('0xd')]-0x1,_0x43c55b=_0x2444c5*_0x30603e,_0x29cf0a=Math['floor'](_0x43c55b),_0x19dbbf=_0x58d5e5[_0x536f('0xef9')][_0x536f('0xf05')][_0x536f('0xf06')];return _0x19e95d[0x0]===_0x19e95d[_0x2444c5]?_0x19dbbf(_0x19e95d[((_0x29cf0a=_0x30603e<0x0?Math['floor'](_0x43c55b=_0x2444c5*(0x1+_0x30603e)):_0x29cf0a)-0x1+_0x2444c5)%_0x2444c5],_0x19e95d[_0x29cf0a],_0x19e95d[(_0x29cf0a+0x1)%_0x2444c5],_0x19e95d[(_0x29cf0a+0x2)%_0x2444c5],_0x43c55b-_0x29cf0a):_0x30603e<0x0?_0x19e95d[0x0]-(_0x19dbbf(_0x19e95d[0x0],_0x19e95d[0x0],_0x19e95d[0x1],_0x19e95d[0x1],-_0x43c55b)-_0x19e95d[0x0]):0x1<_0x30603e?_0x19e95d[_0x2444c5]-(_0x19dbbf(_0x19e95d[_0x2444c5],_0x19e95d[_0x2444c5],_0x19e95d[_0x2444c5-0x1],_0x19e95d[_0x2444c5-0x1],_0x43c55b-_0x2444c5)-_0x19e95d[_0x2444c5]):_0x19dbbf(_0x19e95d[_0x29cf0a?_0x29cf0a-0x1:0x0],_0x19e95d[_0x29cf0a],_0x19e95d[_0x2444c5<_0x29cf0a+0x1?_0x2444c5:_0x29cf0a+0x1],_0x19e95d[_0x2444c5<_0x29cf0a+0x2?_0x2444c5:_0x29cf0a+0x2],_0x43c55b-_0x29cf0a);},'Utils':{'Linear':function(_0x19e95d,_0x30603e,_0x2444c5){return(_0x30603e-_0x19e95d)*_0x2444c5+_0x19e95d;},'Bernstein':function(_0x19e95d,_0x30603e){var _0x2444c5=_0x58d5e5[_0x536f('0xef9')]['Utils'][_0x536f('0xf07')];return _0x2444c5(_0x19e95d)/_0x2444c5(_0x30603e)/_0x2444c5(_0x19e95d-_0x30603e);},'Factorial':(_0x520c55=[0x1],function(_0x19e95d){var _0x30603e=0x1;if(_0x520c55[_0x19e95d])return _0x520c55[_0x19e95d];for(var _0x2444c5=_0x19e95d;0x1<_0x2444c5;_0x2444c5--)_0x30603e*=_0x2444c5;return _0x520c55[_0x19e95d]=_0x30603e;}),'CatmullRom':function(_0x19e95d,_0x30603e,_0x2444c5,_0x43c55b,_0x29cf0a){var _0x19e95d=0.5*(_0x2444c5-_0x19e95d),_0x43c55b=0.5*(_0x43c55b-_0x30603e),_0x19dbbf=_0x29cf0a*_0x29cf0a;return _0x29cf0a*_0x19dbbf*(0x2*_0x30603e-0x2*_0x2444c5+_0x19e95d+_0x43c55b)+(-0x3*_0x30603e+0x3*_0x2444c5-0x2*_0x19e95d-_0x43c55b)*_0x19dbbf+_0x19e95d*_0x29cf0a+_0x30603e;}}},void 0x0!==(_0x19e95d=function(){return _0x58d5e5;}[_0x536f('0x16')](_0x1e3cb7,[]))&&(_0x55276e[_0x536f('0x0')]=_0x19e95d);}[_0x536f('0xa')](this,_0x59ffa2(0x19e));},function(_0x189c3c,_0xcd2772){var _0x2669b8,_0x2451bb,_0x189c3c=_0x189c3c[_0x536f('0x0')]={};function _0xb834f6(){throw new Error(_0x536f('0xf08'));}function _0x30d21e(){throw new Error('clearTimeout\x20has\x20not\x20been\x20defined');}try{_0x2669b8=_0x536f('0x15')==typeof setTimeout?setTimeout:_0xb834f6;}catch(_0x5ea170){_0x2669b8=_0xb834f6;}try{_0x2451bb=_0x536f('0x15')==typeof clearTimeout?clearTimeout:_0x30d21e;}catch(_0x14a964){_0x2451bb=_0x30d21e;}function _0x5c10f4(_0xcd2772){if(_0x2669b8===setTimeout)return setTimeout(_0xcd2772,0x0);if((_0x2669b8===_0xb834f6||!_0x2669b8)&&setTimeout)return(_0x2669b8=setTimeout)(_0xcd2772,0x0);try{return _0x2669b8(_0xcd2772,0x0);}catch(_0x586d66){try{return _0x2669b8[_0x536f('0xa')](null,_0xcd2772,0x0);}catch(_0x45dc80){return _0x2669b8[_0x536f('0xa')](this,_0xcd2772,0x0);}}}var _0x35956e,_0x44db9a=[],_0x341fee=!0x1,_0x4c2381=-0x1;function _0x35f698(){_0x341fee&&_0x35956e&&(_0x341fee=!0x1,_0x35956e[_0x536f('0xd')]?_0x44db9a=_0x35956e[_0x536f('0xf00')](_0x44db9a):_0x4c2381=-0x1,_0x44db9a[_0x536f('0xd')]&&_0x190411());}function _0x190411(){if(!_0x341fee){for(var _0x189c3c=_0x5c10f4(_0x35f698),_0xcd2772=(_0x341fee=!0x0,_0x44db9a[_0x536f('0xd')]);_0xcd2772;){for(_0x35956e=_0x44db9a,_0x44db9a=[];++_0x4c2381<_0xcd2772;)_0x35956e&&_0x35956e[_0x4c2381][_0x536f('0xf09')]();_0x4c2381=-0x1,_0xcd2772=_0x44db9a['length'];}_0x35956e=null,_0x341fee=!0x1,function(_0xcd2772){if(_0x2451bb===clearTimeout)return clearTimeout(_0xcd2772);if((_0x2451bb===_0x30d21e||!_0x2451bb)&&clearTimeout)return(_0x2451bb=clearTimeout)(_0xcd2772);try{_0x2451bb(_0xcd2772);}catch(_0x4b67c0){try{return _0x2451bb['call'](null,_0xcd2772);}catch(_0x51a27e){return _0x2451bb[_0x536f('0xa')](this,_0xcd2772);}}}(_0x189c3c);}}function _0x530087(_0x189c3c,_0xcd2772){this[_0x536f('0xf0a')]=_0x189c3c,this[_0x536f('0xd8')]=_0xcd2772;}function _0x50cb0e(){}_0x189c3c[_0x536f('0x2ce')]=function(_0x189c3c){var _0xcd2772=new Array(arguments['length']-0x1);if(0x1<arguments[_0x536f('0xd')])for(var _0x2669b8=0x1;_0x2669b8<arguments[_0x536f('0xd')];_0x2669b8++)_0xcd2772[_0x2669b8-0x1]=arguments[_0x2669b8];_0x44db9a['push'](new _0x530087(_0x189c3c,_0xcd2772)),0x1!==_0x44db9a[_0x536f('0xd')]||_0x341fee||_0x5c10f4(_0x190411);},_0x530087[_0x536f('0x8')][_0x536f('0xf09')]=function(){this['fun'][_0x536f('0x16')](null,this['array']);},_0x189c3c[_0x536f('0xf0b')]=_0x536f('0xf0c'),_0x189c3c['browser']=!0x0,_0x189c3c['env']={},_0x189c3c[_0x536f('0xf0d')]=[],_0x189c3c[_0x536f('0xf0e')]='',_0x189c3c[_0x536f('0x81')]={},_0x189c3c['on']=_0x50cb0e,_0x189c3c[_0x536f('0xf0f')]=_0x50cb0e,_0x189c3c[_0x536f('0x96f')]=_0x50cb0e,_0x189c3c['off']=_0x50cb0e,_0x189c3c[_0x536f('0xf10')]=_0x50cb0e,_0x189c3c['removeAllListeners']=_0x50cb0e,_0x189c3c[_0x536f('0x39c')]=_0x50cb0e,_0x189c3c[_0x536f('0xf11')]=_0x50cb0e,_0x189c3c['prependOnceListener']=_0x50cb0e,_0x189c3c[_0x536f('0xf12')]=function(_0x189c3c){return[];},_0x189c3c[_0x536f('0xf13')]=function(_0x189c3c){throw new Error(_0x536f('0xf14'));},_0x189c3c['cwd']=function(){return'/';},_0x189c3c['chdir']=function(_0x189c3c){throw new Error('process.chdir\x20is\x20not\x20supported');},_0x189c3c['umask']=function(){return 0x0;};},function(_0x422b45,_0x367511,_0x92f2f3){'use strict';if(_0x92f2f3(0xcb),_0x92f2f3(0x1a0),!esmap)throw new Error('ESMapTools\x20requires\x20esmap.js');},function(_0x5dc7f0,_0x28b5cd,_0xba8729){'use strict';var _0x14ded6=_0xcc98c3(_0xba8729(0x29)),_0x3f314e=_0xcc98c3(_0xba8729(0x4)),_0x5051a6=_0xcc98c3(_0xba8729(0x10)),_0x16ce76=_0xcc98c3(_0xba8729(0x20)),_0x4488c9=function(_0x5dc7f0){if(_0x5dc7f0&&_0x5dc7f0['__esModule'])return _0x5dc7f0;var _0xba8729={};if(null!=_0x5dc7f0)for(var _0x5051a6 in _0x5dc7f0)Object[_0x536f('0x8')][_0x536f('0x9')][_0x536f('0xa')](_0x5dc7f0,_0x5051a6)&&(_0xba8729[_0x5051a6]=_0x5dc7f0[_0x5051a6]);return _0xba8729[_0x536f('0x6')]=_0x5dc7f0,_0xba8729;}(_0xba8729(0x32)),_0xc8da4=_0xcc98c3(_0xba8729(0x1a1)),_0x28e1af=_0xba8729(0x1a2),_0xd4e9c8=_0xba8729(0x11);function _0xcc98c3(_0x5dc7f0){return _0x5dc7f0&&_0x5dc7f0[_0x536f('0x4')]?_0x5dc7f0:{'default':_0x5dc7f0};}var _0x3ed95b,_0x44a2bc,_0x267c4f,_0x12f2a6,_0x20396d,_0x120b5a,_0xe46251,_0x4b2d08,_0x234b56,_0x39274e,_0x336b6d,_0x248ab7,_0x47d525,_0x497de8,_0x4ebbab,_0x570949,_0x299bd7={};function _0xb3cdde(_0x5dc7f0,_0xba8729){_0x5dc7f0[_0x536f('0x41c')](function(_0x5dc7f0){_0x5dc7f0['material']&&_0xba8729(_0x5dc7f0[_0x536f('0xce')]);});}function _0x420096(){esmap['ESTileMap']['_tempRaf']&&cancelAnimationFrame(esmap[_0x536f('0x932')][_0x536f('0xf15')]),esmap[_0x536f('0xf16')]=!0x0,_0x4b2d08=!0x1,_0x336b6d=_0x234b56=_0x20396d=_0x12f2a6=_0x267c4f=_0x3ed95b=null,_0x44a2bc['removeLayer']('estile_map'),_0x44a2bc=null;}function _0x365694(_0xc8da4){_0x267c4f=_0x3ed95b[_0x536f('0x45')][_0x536f('0xf17')]||_0x536f('0xf18'),!_0xc8da4[_0x536f('0xf19')]&&_0x3ed95b[_0x536f('0x92d')][_0x536f('0xf1a')]&&(_0xc8da4['tileUrl']=_0x3ed95b[_0x536f('0x92d')]['tileurl'][0x0]),_0xc8da4[_0x536f('0xf19')]&&-0x1<_0xc8da4[_0x536f('0xf19')][_0x536f('0x4c')]('|')&&((_0x5dc7f0=function(){for(var _0x5dc7f0={},_0xba8729=_0xc8da4['tileUrl'][_0x536f('0x62')]('|'),_0x5051a6=0x1;_0x5051a6<_0xba8729[_0x536f('0xd')];_0x5051a6++){var _0x14ded6=_0xba8729[_0x5051a6]['split']('=');_0x5dc7f0[_0x14ded6[0x0]]=_0x14ded6[0x1];}return _0x5dc7f0;}())[_0x536f('0xf1b')]&&!_0xc8da4[_0x536f('0xf1c')]&&(_0xc8da4[_0x536f('0xf1c')]=+_0x5dc7f0[_0x536f('0xf1b')]),_0x5dc7f0[_0x536f('0xf1d')]&&!_0xc8da4[_0x536f('0xf1e')]&&(_0xc8da4[_0x536f('0xf1e')]=+_0x5dc7f0[_0x536f('0xf1d')]),_0x5dc7f0[_0x536f('0xf1f')]&&!_0xc8da4[_0x536f('0xf20')]&&(_0x5dc7f0[_0x536f('0xf1f')]=JSON[_0x536f('0x2fb')](_0x5dc7f0[_0x536f('0xf1f')]),_0xc8da4['tileSourceLevelExtent']={'min':_0x5dc7f0[_0x536f('0xf1f')][0x0],'max':_0x5dc7f0[_0x536f('0xf1f')][0x1]}),_0xc8da4[_0x536f('0xf19')]=_0xc8da4[_0x536f('0xf19')]['split']('|')[0x0]),_0xc8da4[_0x536f('0xf19')],_0xc8da4['tileSourceLevelOffset']&&(esmap['ESTileMap'][_0x536f('0xf1c')]=_0xc8da4[_0x536f('0xf1c')]);var _0x5dc7f0=esmap['ESMapUtil'][_0x536f('0xf21')](),_0xba8729={'tileUrl':_0xc8da4[_0x536f('0xf19')],'tileTheme':_0xc8da4['tileTheme'],'isShowWater':_0xc8da4[_0x536f('0x41a')],'isShowTileSourceLicense':_0xc8da4[_0x536f('0xf22')],'isOpenControllerInertia':_0xc8da4[_0x536f('0xf23')],'tileSourceMinLevel':_0xc8da4[_0x536f('0xf24')],'tileSourceMaxLevel':_0xc8da4['tileSourceMaxLevel'],'tileSourceZoom':_0xc8da4[_0x536f('0xf20')],'tileSourceLevelOffset':_0xc8da4[_0x536f('0xf1c')],'isInitShow':_0xc8da4['isInitShow'],'isUseMultiView':_0xc8da4['isUseMultiView'],'isShowMaskExtent':_0xc8da4[_0x536f('0xf25')]},_0x5051a6=_0xba8729[_0x536f('0xf19')],_0x14ded6=_0xba8729['isShowWater'],_0xcc98c3=_0xba8729[_0x536f('0xf22')],_0x4b2d08=_0xba8729[_0x536f('0xf23')],_0x39274e=_0xba8729[_0x536f('0xf24')],_0xb3cdde=_0xba8729[_0x536f('0xf1e')],_0x3f314e=_0xba8729['tileSourceZoom'],_0x420096=_0xba8729[_0x536f('0xf26')],_0x365694=_0xba8729[_0x536f('0xf27')],_0xba8729=_0xba8729['isShowMaskExtent'],_0x28b5cd=new ESTileMap[(_0x536f('0xf28'))]('EPSG:3857',-20037508.342789244,20037508.342789244,-20037508.342789244,20037508.342789244),_0x3c4bb7=_0x3ed95b[_0x536f('0x45')][_0x536f('0x377')],_0x5c94ff=_0x28e1af['DEFAULT_THEME'],_0xba8729=(_0x14ded6&&(_0x12f2a6=new _0x4488c9[(_0x536f('0xba'))]({'isShowWater':!0x0,'originColor':_0x5c94ff[_0x536f('0xf29')],'replaceColor':_0x5c94ff['waterReplaceColor']}),_0x5c94ff[_0x536f('0xf2a')]=new THREE[(_0x536f('0x26c'))]()['load'](_0x28e1af['DEFAULT_THEME'][_0x536f('0xf2b')])),_0x497de8=new THREE['Vector4'](0x0,0x0,0x0,_0xba8729?0x1:0x0),_0x4ebbab=new THREE['Vector4'](),document['createElement'](_0x536f('0x411')));if(_0xba8729['width']=0x2,_0xba8729[_0x536f('0x339')]=0x2,_0x570949=new THREE[(_0x536f('0x6ed'))](_0xba8729),_0x5c94ff[_0x536f('0xf2c')]=_0x497de8,_0x5c94ff[_0x536f('0xf2d')]=_0x4ebbab,_0x5c94ff[_0x536f('0x79f')]=_0x570949,(_0x44a2bc=new ESTileMap[(_0x536f('0xf2e'))](_0x3c4bb7,_0x28b5cd,{'scene3D':_0x3ed95b['mapView']['scene'],'camera':_0x3ed95b[_0x536f('0x48e')]['camera'],'renderer':_0x3ed95b[_0x536f('0x48e')]['renderer'],'disableSkirt':!0x0,'minSubdivisionLevel':_0x39274e||0x0,'maxSubdivisionLevel':_0xb3cdde||0x13,'mapType':_0x267c4f,'tileOptions':_0x5c94ff,'isCloseInsideRender':!0x0,'initCameraLola':[113.935092,22.517181]}))['isSetTileBlending']=!0x1,esmap['EffectManager']&&(_0x44a2bc['tileThemeConfigs']=_0x28e1af['DEFAULT_THEME'],esmap['EffectManager'][_0x536f('0xf2f')]=_0x44a2bc),_0x14ded6&&_0x12f2a6['updateView'](_0x44a2bc),_0x299bd7[_0x536f('0xf2f')]=_0x44a2bc,_0x3ed95b['fire']('beforeInitTileMapControl'),_0x365694||(_0xba8729=new ESTileMap[(_0x536f('0xf30'))](_0x44a2bc,_0x3ed95b[_0x536f('0x48e')][_0x536f('0x377')],_0x3ed95b),_0x44a2bc[_0x536f('0x342')]['camera3D'][_0x536f('0x307')]=_0xba8729,_0x3ed95b[_0x536f('0xf31')](_0xba8729)),_0x3ed95b['controls'][_0x536f('0x37e')](_0x536f('0xf32'),function(_0x5dc7f0){_0x3ed95b[_0x536f('0x282')](_0x536f('0xaee'),_0x5dc7f0['level']),esmap[_0x536f('0x4e')]['skybox']['getSkybox']()&&_0x2e8e0f(_0x5dc7f0['level']);}),_0x3ed95b['controls'][_0x536f('0x37e')](_0x536f('0x329'),function(_0x5dc7f0){_0x47d525[_0x536f('0x1bc')](_0x3ed95b[_0x536f('0x307')][_0x536f('0x77')]),esmap[_0x536f('0x4e')][_0x536f('0x9c2')]=!0x0;}),_0x3ed95b[_0x536f('0x307')][_0x536f('0x37e')](_0x536f('0x998'),function(){esmap[_0x536f('0x932')][_0x536f('0xba4')]===esmap[_0x536f('0x99a')][_0x536f('0xf33')]&&_0x536f('0x977')==_0x3ed95b[_0x536f('0x45')][_0x536f('0x99b')]&&(_0x3ed95b[_0x536f('0x48e')]['camera']['rotation']['copy'](_0x3ed95b[_0x536f('0x307')][_0x536f('0x1c')][_0x536f('0x1f0')]),_0x3ed95b[_0x536f('0x48e')][_0x536f('0x342')][_0x536f('0x3b')][_0x536f('0x1bc')](_0x3ed95b[_0x536f('0x307')]['object'][_0x536f('0x3b')]),_0x3ed95b['mapView'][_0x536f('0x342')]['updateMatrixWorld']());}),_0x3ed95b[_0x536f('0x307')][_0x536f('0x37e')]('end',function(_0x5dc7f0){_0x3ed95b[_0x536f('0xf34')]();}),esmap[_0x536f('0x4e')][_0x536f('0x45')][_0x536f('0x934')]&&_0x234b56[_0x536f('0x935')]&&(_0x3c4bb7=_0x234b56,_0x39274e=!0x1,(_0xb3cdde=esmap[_0x536f('0x36')][_0x536f('0x963')]())['isPC']&&(_0x39274e=!0x0),!_0xb3cdde['isPc']&&_0xb3cdde[_0x536f('0x967')]&&0x0<=[_0x536f('0x966'),_0x536f('0xb96'),_0x536f('0xb97')][_0x536f('0x4c')](_0xb3cdde[_0x536f('0x967')])&&(_0x39274e=!0x1),_0xb3cdde[_0x536f('0x965')]||'Android'!=_0xb3cdde[_0x536f('0x967')]||(_0x39274e=!0x1),_0x3c4bb7['shadow']&&_0x39274e&&esmap['ESEffectTool'][_0x536f('0x519')][_0x536f('0xf35')]()[_0x536f('0xe4c')](_0x3c4bb7,_0x47d525)),_0x4b2d08?(_0x3ed95b['controls'][_0x536f('0xe80')]=!0x0,_0x3ed95b[_0x536f('0x307')][_0x536f('0xe81')]=0.1,_0x3ed95b[_0x536f('0x307')][_0x536f('0x66a')]=0.08,_0x3ed95b[_0x536f('0x307')][_0x536f('0xe82')]=0.25):(_0x3ed95b[_0x536f('0x307')][_0x536f('0xe80')]=!0x1,_0x3ed95b['controls']['rotateSpeed']=0.7,_0x3ed95b[_0x536f('0x307')][_0x536f('0xe82')]=1.6),_0x3ed95b[_0x536f('0x307')][_0x536f('0xf36')]=!0x1,_0x3ed95b[_0x536f('0x307')][_0x536f('0xe85')]=0.1,_0xcc98c3){for(var _0x5c94ff=_0x3ed95b[_0x536f('0x45')][_0x536f('0x377')],_0x5d2a0d=_0x5051a6,_0x14ded6=document[_0x536f('0x93')]('div'),_0x365694=(_0x14ded6['style'][_0x536f('0x3b')]='absolute',_0x14ded6[_0x536f('0x6a')][_0x536f('0x745')]=0x0,_0x14ded6[_0x536f('0x6a')][_0x536f('0x744')]=0x0,_0x14ded6[_0x536f('0x6a')][_0x536f('0x339')]='16px',_0x14ded6[_0x536f('0x6a')][_0x536f('0xf37')]=_0x536f('0xf38'),_0x14ded6[_0x536f('0x6a')][_0x536f('0xf39')]=_0x536f('0xf3a'),_0x14ded6[_0x536f('0x6a')][_0x536f('0x4c7')]=_0x536f('0xf3b'),_0x14ded6[_0x536f('0x6a')][_0x536f('0xf3c')]=_0x536f('0xf3d'),document[_0x536f('0x93')]('a')),_0x255d50=(_0x365694[_0x536f('0x7bf')](_0x536f('0xf3e'),'https://www.esmap.cn/'),_0x365694[_0x536f('0x7bf')](_0x536f('0x77'),_0x536f('0xf3f')),_0x365694[_0x536f('0x6a')][_0x536f('0x21f')]=_0x536f('0xf40'),_0x365694['style']['textDecoration']=_0x536f('0x6c'),_0x365694['innerText']='ESMap',_0x14ded6[_0x536f('0x6d')](_0x365694),document[_0x536f('0x93')]('a')),_0x39142d=[{'url':_0x536f('0xf41'),'text':_0x536f('0xf42'),'link':_0x536f('0xf43')},{'url':_0x536f('0xf44'),'text':'\x20|\x20©\x20高德地图\x20','link':_0x536f('0xf45')},{'url':_0x536f('0xf46'),'text':'\x20|\x20©\x20天地图\x20','link':_0x536f('0xf47')},{'url':_0x536f('0xf48'),'text':_0x536f('0xf49'),'link':'http://www.geoq.cn/index.html'}],_0xfe7593=0x0;_0xfe7593<_0x39142d[_0x536f('0xd')];_0xfe7593++)if(-0x1<_0x5d2a0d[_0x536f('0x4c')](_0x39142d[_0xfe7593][_0x536f('0xac5')])){_0x255d50[_0x536f('0xf4a')]=_0x39142d[_0xfe7593]['text'],_0x255d50[_0x536f('0x7bf')](_0x536f('0xf3e'),_0x39142d[_0xfe7593][_0x536f('0xf4b')]),_0x255d50[_0x536f('0x7bf')](_0x536f('0x77'),'_blank');break;}_0x255d50[_0x536f('0x6a')][_0x536f('0x21f')]=_0x536f('0x717'),_0x255d50['style'][_0x536f('0xf4c')]=_0x536f('0x6c'),_0x255d50[_0x536f('0x6a')][_0x536f('0xf4d')]=_0x536f('0xf3d'),_0x14ded6[_0x536f('0x6d')](_0x255d50),_0x5c94ff['appendChild'](_0x14ded6);}var _0x1889bb,_0xba8729=_0x3ed95b[_0x536f('0x45')][_0x536f('0x377')],_0xb3cdde=document[_0x536f('0x93')](_0x536f('0xebc')),_0x39274e=(_0xb3cdde[_0x536f('0x6a')][_0x536f('0x3b')]='absolute',_0xb3cdde[_0x536f('0x6a')]['top']=0x0,_0xb3cdde[_0x536f('0x6a')][_0x536f('0x38a')]=0x0,_0xb3cdde[_0x536f('0x6a')]['width']=_0x536f('0xf4e'),_0xb3cdde[_0x536f('0x6a')][_0x536f('0x339')]=_0x536f('0xf4e'),_0xb3cdde[_0x536f('0x6a')][_0x536f('0xf4f')]=_0x536f('0xf50'),_0xba8729[_0x536f('0x6d')](_0xb3cdde),_0x336b6d=_0xb3cdde,esmap[_0x536f('0xf51')]=function(_0x5dc7f0){_0x336b6d&&(_0x336b6d[_0x536f('0x6a')][_0x536f('0x6b')]=_0x5dc7f0?_0x536f('0xf52'):_0x536f('0x6c'));},new ESTileMap[(_0x536f('0xf53'))]({'extent':_0x28b5cd,'format':_0x536f('0xf54'),'url':_0x5051a6||_0x536f('0xf55'),'attribution':{'name':_0x536f('0xf56')},'tileMatrixSet':'PM','zoom':_0x3f314e,'projection':_0x536f('0xf57'),'isInverted':_0x536f('0xf58')==_0x3ed95b[_0x536f('0xab1')]})),_0x3c4bb7=new ESTileMap['ColorLayer'](_0x536f('0xf59'),{'source':_0x39274e,'sourceType':_0x536f('0x392')}),_0x7a2743=(_0x44a2bc['addLayer'](_0x3c4bb7),_0x3ed95b[_0x536f('0x307')][_0x536f('0x56f')]['push'](_0x3c4bb7),_0x299bd7[_0x536f('0xf5a')]=_0x3c4bb7,!(_0x44a2bc[_0x536f('0xf5b')][_0x536f('0x356')][_0x536f('0x3b')]['y']=-0x1)===_0x420096&&(_0x44a2bc['tileLayer'][_0x536f('0x356')][_0x536f('0x36c')]=!0x1,_0x44a2bc['tileLayer'][_0x536f('0xf5c')]=!0x0),_0x3ed95b['on'](_0x536f('0x9c4'),function(_0x5dc7f0){TWEEN[_0x536f('0x2f3')](),esmap[_0x536f('0xf16')]||(_0x44a2bc['notifyChange'](_0x44a2bc[_0x536f('0x342')][_0x536f('0xf5d')]),_0x12f2a6&&_0x12f2a6[_0x536f('0x2f3')]());}),(_0x20396d=new _0x4488c9[(_0x536f('0xb7'))](_0x44a2bc,_0x3ed95b[_0x536f('0x307')]))[_0x536f('0x37e')](_0x536f('0xf5e'),function(){var _0x5dc7f0;_0x3ed95b[_0x536f('0x282')](_0x536f('0x5b9'),_0x3ed95b['zoomLevel']),_0x3ed95b[_0x536f('0x282')](_0x536f('0x9c3')),esmap[_0x536f('0x4e')][_0x536f('0x45')]['isShowShadow']&&_0x234b56[_0x536f('0x935')]&&(_0x5dc7f0=esmap[_0x536f('0x4e')][_0x536f('0x519')]['getShadow'](),setTimeout(function(){_0x5dc7f0[_0x536f('0xe4e')](_0x234b56[_0x536f('0x935')]);},0xfa0));}),_0x299bd7[_0x536f('0x309')]=function(_0x5dc7f0){_0x20396d[_0x536f('0x309')]({'direction':_0x5dc7f0[_0x536f('0x22c')]||esmap[_0x536f('0x30f')][_0x536f('0x311')],'position':new THREE[(_0x536f('0x59'))](-_0x5dc7f0['x'],0x0,_0x5dc7f0['y']),'radiusFactor':_0x5dc7f0[_0x536f('0x30c')]||0x7d0,'pitchAngle':_0x5dc7f0[_0x536f('0xf5f')]||0x2d,'complete':_0x5dc7f0[_0x536f('0x37c')]});},_0x3ed95b[_0x536f('0x93b')]=function(_0xcc98c3){return new _0x16ce76[(_0x536f('0x6'))](function(_0x5dc7f0){if(_0xcc98c3[_0x536f('0x21d')]){var _0xba8729=null,_0x5051a6=0x0;if(_0xcc98c3[_0x536f('0x597')]&&_0xcc98c3['fnum']){if(!_0x3ed95b[_0x536f('0x598')](_0xcc98c3[_0x536f('0x597')]))return void console[_0x536f('0x1f9')]('Before\x20executing\x20the\x20cameraFlyTo,\x20'+_0xcc98c3[_0x536f('0x597')]+_0x536f('0xf60'));var _0x14ded6=_0x3ed95b[_0x536f('0x598')](_0xcc98c3[_0x536f('0x597')]);_0x14ded6[_0x536f('0xf61')](_0xcc98c3[_0x536f('0x304')]),_0x5051a6=_0x14ded6[_0x536f('0x521')](_0xcc98c3[_0x536f('0x304')]);}(0x0===_0xcc98c3['pitchAngle']||_0xcc98c3[_0x536f('0x30d')]<0.1)&&(_0xcc98c3[_0x536f('0x30d')]=0.1);_0xba8729=_0x3ed95b[_0x536f('0x1d')]({'x':_0xcc98c3['x'],'y':_0xcc98c3['y'],'z':(_0xcc98c3['z']||0x0)+_0x5051a6}),_0x14ded6=_0x3ed95b[_0x536f('0x307')][_0x536f('0xf62')](_0xcc98c3[_0x536f('0x21d')]);0xf<_0x3ed95b['controls']['_earthZoom']&&_0x14ded6<=0xf&&_0xcc98c3[_0x536f('0x30d')]<THREE[_0x536f('0x19')][_0x536f('0xb60')](_0x3ed95b[_0x536f('0x307')][_0x536f('0xf63')])?_0xcc98c3[_0x536f('0xf64')]?setTimeout(function(){_0x3ed95b['controls'][_0x536f('0xf65')](_0x3ed95b['controls'][_0x536f('0xf63')],0x1f4,function(){_0xc8da4();});},0x3e8*_0xcc98c3[_0x536f('0xf64')]):_0x3ed95b[_0x536f('0x307')][_0x536f('0xf65')](_0x3ed95b[_0x536f('0x307')]['_tempMaxPolarAngle'],0x1f4,function(){_0xc8da4();}):_0xcc98c3['delay']?setTimeout(function(){_0xc8da4();},0x3e8*_0xcc98c3[_0x536f('0xf64')]):_0xc8da4();}else console[_0x536f('0x1f9')]('Cannot\x20read\x20property\x20\x27radius\x27\x20of\x20undefined');function _0xc8da4(){esmap['ESEffectTool'][_0x536f('0x9c2')]=!0x1,_0x20396d[_0x536f('0x31d')]({'targetPos':_0xba8729,'radius':_0xcc98c3[_0x536f('0x21d')],'pitchAngle':_0xcc98c3[_0x536f('0x30d')],'directionAngle':_0xcc98c3[_0x536f('0x31f')],'time':_0xcc98c3['time'],'callback':_0xcc98c3[_0x536f('0x37c')],'tileUpdateCallbacks':{'start':_0x3ed95b[_0x536f('0x307')]['cameraAnimateStart'],'update':_0x3ed95b[_0x536f('0x307')][_0x536f('0xf66')],'complete':_0x3ed95b[_0x536f('0x307')][_0x536f('0xf67')]}}),setTimeout(function(){_0x2e8e0f(Math[_0x536f('0x1b2')](_0x3ed95b[_0x536f('0x5bb')])),_0x5dc7f0();},0x3e8*(_0xcc98c3[_0x536f('0x555')]||0x3));}});},_0x3ed95b[_0x536f('0x93c')]=function(_0x5dc7f0,_0xba8729){var _0x5051a6=null,_0x14ded6=_0x5dc7f0&&_0xba8729?(_0x5051a6=_0x3ed95b[_0x536f('0x93d')]({'bid':_0x5dc7f0,'fnum':_0xba8729}),_0x3ed95b[_0x536f('0x1d')](_0x5051a6)):(_0x5051a6=_0x3ed95b[_0x536f('0xb54')]({'x':_0x3ed95b[_0x536f('0x307')][_0x536f('0x77')]['x'],'y':_0x3ed95b[_0x536f('0x307')]['target']['y'],'z':_0x3ed95b[_0x536f('0x307')][_0x536f('0x77')]['z']}),_0x3ed95b[_0x536f('0x307')][_0x536f('0x77')]),_0x14ded6=_0x3ed95b[_0x536f('0x307')]['object'][_0x536f('0x3b')][_0x536f('0x310')](_0x14ded6);return _0x5dc7f0&&_0xba8729?{'directionAngle':+_0x3ed95b[_0x536f('0x4c5')]['toFixed'](0x2),'pitchAngle':+_0x3ed95b['tiltAngle'][_0x536f('0xed3')](0x2),'radius':+_0x14ded6['toFixed'](0x2),'x':+_0x5051a6['x'][_0x536f('0xed3')](0x2),'y':+_0x5051a6['y']['toFixed'](0x2),'z':0x0,'bid':_0x5dc7f0,'fnum':_0xba8729,'time':0x3}:{'directionAngle':+_0x3ed95b[_0x536f('0x4c5')][_0x536f('0xed3')](0x2),'pitchAngle':+_0x3ed95b[_0x536f('0xf5f')][_0x536f('0xed3')](0x2),'radius':+_0x14ded6[_0x536f('0xed3')](0x2),'x':+_0x5051a6['x'][_0x536f('0xed3')](0x2),'y':+_0x5051a6['y'][_0x536f('0xed3')](0x2),'z':+_0x5051a6['z'][_0x536f('0xed3')](0x1),'time':0x3};},_0x3ed95b[_0x536f('0xf68')]=_0x23ec10,_0xc8da4[_0x536f('0xf69')]||0x8),_0x5db727=(_0x3ed95b[_0x536f('0x92d')][_0x536f('0xf6a')]?esmap[_0x536f('0x36')][_0x536f('0xf6b')](_0x5dc7f0):(_0x4b2d08={'startZoom':_0x7a2743,'scaleLevelAnimate':_0xc8da4['scaleLevelAnimate']},_0xcc98c3=(0x0,_0xd4e9c8['coordTransToThree'])(_0x3ed95b[_0x536f('0x45')][_0x536f('0xa32')]['x'],_0x3ed95b['options']['center']['y']),_0x365694=new THREE['Vector3'](_0xcc98c3['x'],_0x3ed95b[_0x536f('0x307')][_0x536f('0xf6c')](_0x4b2d08[_0x536f('0xf6d')]),_0xcc98c3['y']),_0x5c94ff=new THREE['Vector3'](_0xcc98c3['x'],0x0,_0xcc98c3['y']),_0x44a2bc['tileLayer'][_0x536f('0x356')]['position'][_0x536f('0x1b')](-_0x3ed95b[_0x536f('0x33')][_0x536f('0xab2')],0x0,-_0x3ed95b[_0x536f('0x33')][_0x536f('0x34')]),_0x3ed95b[_0x536f('0x92d')]['defaultView']&&!_0x4b2d08[_0x536f('0xf6e')]?_0x3ed95b[_0x536f('0x93b')](_0x3ed95b[_0x536f('0x92d')][_0x536f('0xf6f')]):(_0x3ed95b['controls'][_0x536f('0xf70')](_0x365694,_0x5c94ff,_0x4b2d08[_0x536f('0xf6d')]),_0x3ed95b[_0x536f('0x307')][_0x536f('0x2f3')]({'forceTheta':Math['PI']+THREE[_0x536f('0x19')]['degToRad'](_0x3ed95b[_0x536f('0x45')]['defaultAngle'])}))),void 0x0===_0x299bd7['viewMode_']&&Object[_0x536f('0x1')](_0x299bd7,'viewMode_',{'get':function(){return _0xe46251;},'set':function(_0x5dc7f0){_0x248ab7||_0x5dc7f0===_0xe46251||(_0x5dc7f0===esmap[_0x536f('0x99a')][_0x536f('0xf33')]?(_0x248ab7=!0x0,_0x3ed95b[_0x536f('0x999')]={'mode':esmap[_0x536f('0x99a')]['MODE_2D'],'force2D':!0x0,'time':0x0,'callback':function(){_0x3ed95b[_0x536f('0x307')]['initDistance_']=_0x3ed95b['controls']['target'][_0x536f('0x310')](_0x3ed95b[_0x536f('0x307')][_0x536f('0x1c')][_0x536f('0x3b')]),_0x3ed95b[_0x536f('0x307')][_0x536f('0xf71')]=_0x3ed95b[_0x536f('0x48e')][_0x536f('0xba6')][_0x536f('0x5f6')],_0x3ed95b[_0x536f('0x307')][_0x536f('0xe94')]=0x0,_0x3ed95b[_0x536f('0x307')]['maxNearGroundPolarAngle']=0x0,_0x44a2bc[_0x536f('0x342')][_0x536f('0xf5d')]=_0x3ed95b[_0x536f('0x307')]['object'],_0xe46251=_0x5dc7f0,_0x248ab7=!0x1;}},esmap[_0x536f('0x4e')][_0x536f('0x51a')][_0x536f('0x9d8')](!0x1)):_0x5dc7f0===esmap['ESViewMode']['MODE_3D']&&(_0x248ab7=!0x0,_0x3ed95b['viewMode']={'mode':esmap[_0x536f('0x99a')][_0x536f('0xf72')],'force2D':!0x0,'time':0x0,'callback':function(){_0xe46251=_0x5dc7f0,_0x3ed95b[_0x536f('0x307')][_0x536f('0xf73')]=_0x3ed95b[_0x536f('0x307')]['_tempMaxNearGroundPolarAngle'],_0x3ed95b[_0x536f('0x307')][_0x536f('0xf74')](),_0x248ab7=!0x1,_0x44a2bc[_0x536f('0x342')]['camera3D']=_0x3ed95b['controls'][_0x536f('0x1c')];}},esmap['ESEffectTool'][_0x536f('0x51a')][_0x536f('0x9d8')](!0x0)));}}),void 0x0===_0x299bd7['viewMode']&&Object[_0x536f('0x1')](_0x299bd7,_0x536f('0x999'),{'get':function(){return _0x120b5a;},'set':function(_0x5dc7f0){_0x120b5a!==_0x5dc7f0&&(_0x5dc7f0===esmap[_0x536f('0x99a')][_0x536f('0xf33')]?(_0x120b5a=_0x5dc7f0,_0x3ed95b['controls'][_0x536f('0xf63')]=0x0,_0x3ed95b['controls'][_0x536f('0xf75')]=_0x3ed95b['controls'][_0x536f('0xf73')],_0x3ed95b['controls'][_0x536f('0xe94')]=0x0,_0x3ed95b[_0x536f('0x307')][_0x536f('0xf73')]=0x0):_0x5dc7f0===esmap[_0x536f('0x99a')]['MODE_3D']&&(_0x120b5a=_0x5dc7f0,_0x3ed95b['controls']['_tempMaxPolarAngle']=0.3*Math['PI'],_0x3ed95b['controls']['maxPolarAngle']=0.3*Math['PI'],_0x3ed95b[_0x536f('0x307')][_0x536f('0xf73')]=_0x3ed95b[_0x536f('0x307')]['_tempMaxNearGroundPolarAngle'],_0x3ed95b[_0x536f('0xf5f')]=0x28));}}),void 0x0===_0x299bd7['autoRotate']&&Object[_0x536f('0x1')](_0x299bd7,_0x536f('0xe6a'),{'get':function(){return _0x3ed95b[_0x536f('0x307')]['autoRotate'];},'set':function(_0x5dc7f0){_0x3ed95b[_0x536f('0x307')]['autoRotate']=_0x5dc7f0;}}),void 0x0===_0x299bd7[_0x536f('0xf1e')]&&Object[_0x536f('0x1')](_0x299bd7,'tileSourceMaxLevel',{'get':function(){return _0x44a2bc['tileLayer'][_0x536f('0xf76')];},'set':function(_0x5dc7f0){_0x44a2bc[_0x536f('0xf5b')][_0x536f('0xf76')]=_0x5dc7f0;}}),_0x3ed95b['mapScene'][_0x536f('0xf77')]['visible']=!0x0,_0xc8da4[_0x536f('0xf69')]),_0x14ded6=0x0;_0xc8da4['scaleLevelAnimate']&&(_0x5db727=_0xc8da4[_0x536f('0xf6e')][_0x536f('0xf78')],_0x14ded6=_0xc8da4[_0x536f('0xf6e')][_0x536f('0x213')]),_0x3ed95b[_0x536f('0x45')][_0x536f('0x999')]==esmap[_0x536f('0x99a')][_0x536f('0xf33')]&&(_0xc8da4[_0x536f('0xf79')]=0.1),_0x5db727<_0x3ed95b[_0x536f('0x45')][_0x536f('0xf7a')]&&console[_0x536f('0xdc')](_0x536f('0xf7b')+(_0xc8da4[_0x536f('0xf6e')]?'scaleLevelAnimate.targetLevel':_0x536f('0xf69'))+_0x536f('0xf7c'),_0x536f('0xf7d')),_0x3ed95b[_0x536f('0x92d')][_0x536f('0xf6a')]?_0x190c17({'targetLevel':_0x5db727,'startZoom':_0x7a2743,'scaleLevel':_0xc8da4[_0x536f('0xf69')],'scaleLevelAnimate':_0xc8da4[_0x536f('0xf6e')]}):(_0x3ed95b['mapView'][_0x536f('0x377')][_0x536f('0x6a')]['cursor']=_0x536f('0xf7e'),_0x1889bb={'isNeedAnimate':_0xc8da4['scaleLevelAnimate'],'targetLevel':_0x5db727,'duration':_0x14ded6,'initPitchAngle':_0xc8da4[_0x536f('0xf79')]},new _0x16ce76[(_0x536f('0x6'))](function(_0x5dc7f0,_0xba8729){!_0x1889bb['isNeedAnimate']&&_0x3ed95b[_0x536f('0x92d')][_0x536f('0xf6f')]?_0x5dc7f0():_0x3ed95b[_0x536f('0x307')][_0x536f('0xf7f')](_0x1889bb[_0x536f('0xf78')],0x3e8*_0x1889bb['duration'],function(){_0x3ed95b[_0x536f('0x307')]['pitchAnimate'](THREE[_0x536f('0x19')][_0x536f('0x322')](_0x1889bb['initPitchAngle']),0x3e8,function(){_0x5dc7f0();}),_0x1889bb['openTileClick']&&_0x5da442();});})[_0x536f('0x398')](function(){_0x190c17({'targetLevel':_0x5db727,'startZoom':_0x7a2743,'scaleLevel':_0xc8da4[_0x536f('0xf69')],'scaleLevelAnimate':_0xc8da4[_0x536f('0xf6e')]}),_0xc8da4[_0x536f('0xf80')]&&new _0x4488c9['SelectPoint'](_0x3ed95b[_0x536f('0x48e')][_0x536f('0x377')],_0x44a2bc,_0x299bd7[_0x536f('0xf5a')],_0x536f('0xf81'),function(_0x5dc7f0){})[_0x536f('0x37d')]();}));}function _0x190c17(_0x5dc7f0){_0x2e8e0f(_0x5dc7f0[_0x536f('0xf78')]),_0x3ed95b[_0x536f('0xf82')]=!0x0,_0x3ed95b[_0x536f('0xf34')](),_0x3ed95b[_0x536f('0x45')][_0x536f('0x999')]==esmap[_0x536f('0x99a')]['MODE_2D']&&(esmap['ESTileMap'][_0x536f('0x999')]=esmap[_0x536f('0x99a')][_0x536f('0xf33')]),setTimeout(function(){esmap[_0x536f('0xf51')](!0x1),_0x3ed95b[_0x536f('0x282')](_0x536f('0xf83'),{'level':_0x5dc7f0[_0x536f('0xf6e')]?_0x5dc7f0[_0x536f('0xf6d')]:_0x5dc7f0[_0x536f('0xf69')]});},0x3e8);}function _0x23ec10(_0x5dc7f0){var _0xba8729=null,_0x5051a6=0x1;if(_0x536f('0x14')==typeof _0x5dc7f0)_0xba8729=_0x5dc7f0;else if(_0x536f('0x1c')===(void 0x0===_0x5dc7f0?_0x536f('0x18'):(0x0,_0x14ded6[_0x536f('0x6')])(_0x5dc7f0))){if(!_0x5dc7f0['value'])return;_0xba8729=_0x5dc7f0[_0x536f('0x10')],_0x5dc7f0['time']&&(_0x5051a6=_0x5dc7f0[_0x536f('0x555')]);}0xf<_0x3ed95b[_0x536f('0x307')]['_earthZoom']&&_0xba8729<=0xf&&_0x3ed95b[_0x536f('0xf5f')]>_0x3ed95b['controls'][_0x536f('0xf63')]?_0x3ed95b[_0x536f('0x307')][_0x536f('0xf65')](_0x3ed95b[_0x536f('0x307')][_0x536f('0xf63')],0x1f4,function(){_0x3ed95b['controls'][_0x536f('0xf7f')](_0xba8729,0x3e8*(_0x5051a6-0.5),function(){_0x5dc7f0[_0x536f('0x70f')]&&_0x5dc7f0[_0x536f('0x70f')](),_0x3ed95b['updateTileView']();});}):_0x3ed95b['controls'][_0x536f('0xf7f')](_0xba8729,0x3e8*_0x5051a6,function(){_0x5dc7f0['onComplete']&&_0x5dc7f0[_0x536f('0x70f')](),_0x3ed95b['updateTileView']();});}function _0x2e8e0f(_0x5dc7f0){var _0xba8729=esmap[_0x536f('0x4e')][_0x536f('0x51b')][_0x536f('0xf84')]();_0xba8729&&_0xba8729[_0x536f('0x9d9')]&&_0xba8729[_0x536f('0x9d9')][_0x536f('0x491')]&&(_0xba8729[_0x536f('0xadd')]||(_0x536f('0xae2')==_0xba8729[_0x536f('0x9d9')][_0x536f('0x76')]&&_0x5dc7f0<(_0x39274e?0x10:0xe)&&_0x44a2bc[_0x536f('0xf5b')][_0x536f('0x356')][_0x536f('0x36c')]?_0xba8729['skyboxTool'][_0x536f('0x491')][_0x536f('0x36c')]=!0x1:_0xba8729[_0x536f('0x9d9')][_0x536f('0x491')]['visible']=!0x0));}function _0x5da442(){new _0xc8da4[(_0x536f('0x6'))]({'container':_0x3ed95b[_0x536f('0x48e')]['container'],'tileView':_0x44a2bc,'tileLayer':_0x299bd7[_0x536f('0xf5a')],'callback':function(_0x5dc7f0){_0x3ed95b[_0x536f('0x282')](_0x536f('0xf85'),{'x':-_0x5dc7f0['x'],'y':_0x5dc7f0['z']});}})['init']();}esmap['ESTileMap']=_0x299bd7,_0x20396d=_0x12f2a6=_0x267c4f=_0x44a2bc=_0x3ed95b=null,_0x120b5a=esmap[_0x536f('0x99a')][_0x536f('0xf72')],_0xe46251=esmap[_0x536f('0x99a')][_0x536f('0xf72')],_0x4b2d08=!0x1,_0x39274e=(_0x234b56=null,_0xd4e9c8['getOS'])(),_0x336b6d=null,_0x248ab7=!0x1,_0x47d525=new THREE[(_0x536f('0x59'))](),_0x570949=_0x4ebbab=_0x497de8=null,_0x299bd7['init']=function(_0xb3cdde){_0xb3cdde=(0x0,_0x5051a6['default'])({'effectThemeSrc':null,'effectThemeId':null,'tileUrl':null,'scaleLevelAnimate':!0x1,'scaleLevel':0xe,'openTileClick':!0x1,'isShowWater':!0x1,'initPitchAngle':0x2d,'isShowTileSourceLicense':!0x0,'tileSourceMinLevel':null,'tileSourceMaxLevel':null,'isOpenControllerInertia':!0x1,'tileClickDebug':!0x1,'tileSourceLevelOffset':null,'tileSourceLevelExtent':null,'isInitShow':!0x0,'isUseMultiView':!0x1,'isShowMaskExtent':!0x1},_0xb3cdde),_0x3ed95b=esmap['ESMap'][_0x536f('0x22')],esmap[_0x536f('0x932')][_0x536f('0x45')]={'scaleLevelAnimate':_0xb3cdde[_0x536f('0xf6e')],'scaleLevel':_0xb3cdde[_0x536f('0xf6e')],'isShowWater':_0xb3cdde[_0x536f('0x41a')],'initPitchAngle':_0xb3cdde[_0x536f('0xf79')],'isShowTileSourceLicense':_0xb3cdde[_0x536f('0xf22')],'tileSourceMinLevel':_0xb3cdde[_0x536f('0xf24')],'tileSourceMaxLevel':_0xb3cdde['tileSourceMaxLevel'],'tileSourceLevelOffset':_0xb3cdde[_0x536f('0xf1c')],'tileSourceLevelExtent':_0xb3cdde[_0x536f('0xf20')],'isShowMaskExtent':_0xb3cdde['isShowMaskExtent']},_0x3ed95b[_0x536f('0xf86')]=_0x5da442,_0xb3cdde[_0x536f('0xf87')]&&(selectEffect=!0x0,_0x3ed95b[_0x536f('0x45')][_0x536f('0xf88')]=!0x0),_0xb3cdde[_0x536f('0xf89')]&&(_0x3ed95b[_0x536f('0x45')][_0x536f('0xf89')]=_0xb3cdde[_0x536f('0xf89')]),esmap['tileMapInited']=!0x0,void 0x0!==esmap[_0x536f('0xf16')]&&(esmap[_0x536f('0xf16')]=!0x1),_0x3ed95b['on']('beforeLoad',function(){}),_0x3ed95b['on'](_0x536f('0xf8a'),function(_0x5dc7f0){if(!_0x4b2d08){var _0xba8729,_0x14ded6;if(_0x4b2d08=!0x0,_0x3ed95b[_0x536f('0x45')]['center']['x'],_0x3ed95b[_0x536f('0x45')][_0x536f('0xa32')]['y'],_0xb3cdde[_0x536f('0xf19')]){for(var _0x5051a6=_0x3ed95b['__trl'][_0x536f('0x62')](','),_0xc8da4=!0x1,_0xcc98c3=0x0;_0xcc98c3<_0x5051a6['length'];_0xcc98c3++)if(-0x1<_0xb3cdde[_0x536f('0xf19')][_0x536f('0x4c')](_0x5051a6[_0xcc98c3])){_0xc8da4=!0x0;break;}if(_0x536f('0xf8b')!==esmap['ESMapUtil']['encode64'](document[_0x536f('0x39b')])&&'TjEySDU2TS4xSDUyTw=='!==esmap['ESMapUtil'][_0x536f('0xf8c')](document[_0x536f('0x39b')])&&_0x536f('0xf8d')!==esmap[_0x536f('0x36')][_0x536f('0xf8c')](document[_0x536f('0x39b')])&&_0x536f('0xf8e')!==esmap[_0x536f('0x36')][_0x536f('0xf8c')](document[_0x536f('0x39b')])||(_0xc8da4=!0x0),!(_0xc8da4=!!window[_0x536f('0xf8f')]||_0xc8da4))return void console[_0x536f('0xdc')]('tile\x20url\x20domain\x20is\x20not\x20permission');}if(''===_0xb3cdde[_0x536f('0xf19')]||!_0xb3cdde[_0x536f('0xf19')]&&!_0x3ed95b[_0x536f('0x92d')][_0x536f('0xf1a')][0x0])return _0x3ed95b[_0x536f('0xf82')]=!0x0,void _0x3ed95b[_0x536f('0xf34')]();esmap[_0x536f('0x4e')]&&esmap[_0x536f('0x4e')][_0x536f('0x50')]&&esmap['ESEffectTool']['configPath'],_0x3ed95b[_0x536f('0x33')][_0x536f('0xf77')]['visible']=!0x1,esmap['ESTileMap']['inited']=!0x0,esmap[_0x536f('0x4e')][_0x536f('0x987')]?(_0xba8729=(0x0,_0xd4e9c8[_0x536f('0x29')])(_0x3ed95b,esmap[_0x536f('0x4e')][_0x536f('0x45')]),_0x14ded6=_0xba8729,new _0x16ce76[(_0x536f('0x6'))](function(_0xba8729,_0x5051a6){new THREE[(_0x536f('0x2fa'))]()[_0x536f('0x263')](_0x14ded6+_0x536f('0x2fc'),function(_0x5dc7f0){try{_0xba8729(JSON[_0x536f('0x2fb')](_0x5dc7f0));}catch(_0x4f7f83){console[_0x536f('0xdc')](_0x536f('0x997'),_0x536f('0xf7d')),console[_0x536f('0xdc')](_0x4f7f83);}},null,function(_0x5dc7f0){console[_0x536f('0x1f9')]('ESTileMap\x20Theme\x20need\x20'+_0x14ded6+'effects.json'),_0x5051a6(_0x5dc7f0);});})[_0x536f('0x398')](function(_0x5dc7f0){if((_0x234b56=_0x5dc7f0)['tileTheme']){_0x28e1af[_0x536f('0xf90')][_0x536f('0xf91')]=!0x0;var _0xba8729=_0x5dc7f0[_0x536f('0xf92')],_0x5051a6=(_0xba8729[_0x536f('0x468')]&&_0x28e1af[_0x536f('0xf90')][_0x536f('0x468')]['setStyle'](_0xba8729['fogColor']),_0xba8729[_0x536f('0x6c9')]&&_0x28e1af[_0x536f('0xf90')]['groundColor'][_0x536f('0x33d')](_0xba8729[_0x536f('0x6c9')]),_0xba8729[_0x536f('0xf93')]&&_0x28e1af[_0x536f('0xf90')][_0x536f('0xf93')][_0x536f('0x33d')](_0xba8729[_0x536f('0xf93')]),_0xba8729[_0x536f('0xf94')]&&(_0x28e1af[_0x536f('0xf90')][_0x536f('0xf95')]=!0x0,_0x28e1af['DEFAULT_THEME']['colorMapping']=(0x0,_0x28e1af[_0x536f('0xf96')])(_0xba8729[_0x536f('0xf94')]['steps'],_0xba8729[_0x536f('0xf94')]['colors'])),_0xba8729[_0x536f('0xf97')]&&(_0x28e1af['DEFAULT_THEME'][_0x536f('0xf98')]=!0x0,_0x14ded6=(0x0,_0xd4e9c8[_0x536f('0x27')])(_0xba8729['lutImg']),(_0x14ded6=new THREE['TextureLoader']()['load'](_0x14ded6))[_0x536f('0x436')]=_0x14ded6[_0x536f('0x433')]=THREE[_0x536f('0x432')],_0x14ded6['flipY']=!0x1,_0x28e1af['DEFAULT_THEME'][_0x536f('0xf94')]=_0x14ded6),!0x0),_0x14ded6=!0x1,_0xc8da4=void 0x0;try{for(var _0xcc98c3,_0x4b2d08=(0x0,_0x3f314e[_0x536f('0x6')])(['isSetDeepenColor',_0x536f('0xf99'),_0x536f('0xf9a'),_0x536f('0xf9b'),_0x536f('0xf9c'),_0x536f('0x762')]);!(_0x5051a6=(_0xcc98c3=_0x4b2d08[_0x536f('0x79')]())[_0x536f('0x7a')]);_0x5051a6=!0x0){var _0x39274e=_0xcc98c3['value'];_0xba8729[_0x536f('0x9')](_0x39274e)&&(_0x28e1af[_0x536f('0xf90')][_0x39274e]=_0xba8729[_0x39274e]);}}catch(_0x236cd6){_0x14ded6=!0x0,_0xc8da4=_0x236cd6;}finally{try{!_0x5051a6&&_0x4b2d08['return']&&_0x4b2d08[_0x536f('0x265')]();}finally{if(_0x14ded6)throw _0xc8da4;}}}_0x5dc7f0[_0x536f('0xf9d')]&&(_0x14ded6=_0x5dc7f0[_0x536f('0xf9d')],_0x28e1af[_0x536f('0xf90')]['isShowWater']=_0xb3cdde[_0x536f('0x41a')],_0x28e1af[_0x536f('0xf90')][_0x536f('0xf2b')]=(0x0,_0xd4e9c8[_0x536f('0x27')])(_0x14ded6[_0x536f('0x5fb')]),_0x14ded6[_0x536f('0x417')]&&(_0x28e1af['DEFAULT_THEME'][_0x536f('0xf29')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x14ded6['originColor'])),_0x14ded6['replaceColor']&&(_0x28e1af[_0x536f('0xf90')][_0x536f('0xf9e')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x14ded6[_0x536f('0x418')])),_0x14ded6[_0x536f('0xf9f')]&&(_0x28e1af['DEFAULT_THEME'][_0x536f('0xfa0')]=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x14ded6[_0x536f('0xf9f')]))),_0x365694(_0xb3cdde);})):_0x365694(_0xb3cdde);}}),_0x3ed95b['on'](_0x536f('0xfa1'),function(_0x5dc7f0){_0x3ed95b['controls'][_0x536f('0xf73')]=THREE[_0x536f('0x19')][_0x536f('0x322')](_0x5dc7f0);}),_0x3ed95b['on'](_0x536f('0x595'),function(_0x5dc7f0){_0x3ed95b[_0x536f('0x307')][_0x536f('0x32f')]='2D'!==_0x5dc7f0;}),_0x3ed95b[_0x536f('0x96f')](_0x536f('0xcd'),function(){_0x420096();});},_0x299bd7[_0x536f('0xfa2')]=_0x23ec10,_0x299bd7['clearAll']=_0x420096,_0x299bd7[_0x536f('0xfa3')]={'getTargetLoLaFromPos':function(_0x5dc7f0){return ESTileMap[_0x536f('0x390')][_0x536f('0x394')]({'mapType':_0x536f('0x392'),'x':_0x5dc7f0[0x0],'z':_0x5dc7f0[0x1]});},'getTargetPosFromLoLa':function(_0x5dc7f0){_0x5dc7f0=ESTileMap[_0x536f('0x390')]['getWorldPosFromLoLa']({'mapType':_0x536f('0x392'),'longitude':_0x5dc7f0[0x0],'latitude':_0x5dc7f0[0x1]});return new THREE[(_0x536f('0x59'))](_0x5dc7f0['x'],0x0,_0x5dc7f0['z']);},'setControlsConfigs':function(_0x5dc7f0){_0x3ed95b[_0x536f('0x307')]['isLockEarthZoom']=!0x0,_0x5dc7f0[_0x536f('0xfa4')]&&_0x5dc7f0[_0x536f('0xfa4')]>=_0x3ed95b[_0x536f('0x307')][_0x536f('0xfa5')]&&(_0x3ed95b[_0x536f('0x307')][_0x536f('0xfa5')]=_0x5dc7f0[_0x536f('0xfa4')]),_0x5dc7f0[_0x536f('0xfa6')]&&_0x5dc7f0[_0x536f('0xfa6')]<=_0x3ed95b[_0x536f('0x307')][_0x536f('0xfa7')]&&(_0x3ed95b[_0x536f('0x307')][_0x536f('0xfa7')]=_0x5dc7f0['maxLevel']),void 0x0!==_0x5dc7f0['maxPolarAngle']&&(_0x3ed95b[_0x536f('0x307')]['_tempMaxPolarAngle']=_0x3ed95b[_0x536f('0x307')][_0x536f('0xe94')],_0x3ed95b[_0x536f('0x307')]['_tempMaxNearGroundPolarAngle']=_0x3ed95b[_0x536f('0x307')]['maxNearGroundPolarAngle'],_0x3ed95b['controls'][_0x536f('0xe94')]=_0x5dc7f0[_0x536f('0xe94')],_0x3ed95b[_0x536f('0x307')][_0x536f('0xf73')]=_0x5dc7f0['maxPolarAngle']);},'resetControlsConfigs':function(){_0x3ed95b[_0x536f('0x307')][_0x536f('0xfa8')]=!0x1,_0x3ed95b[_0x536f('0x307')][_0x536f('0xfa5')]=_0x3ed95b[_0x536f('0x307')]['_minEarthZoom'],_0x3ed95b[_0x536f('0x307')]['maxEarthZoom']=_0x3ed95b['controls'][_0x536f('0xfa9')],_0x3ed95b[_0x536f('0x307')][_0x536f('0xe94')]=_0x3ed95b[_0x536f('0x307')][_0x536f('0xf63')],_0x3ed95b[_0x536f('0x307')][_0x536f('0xf73')]=_0x3ed95b[_0x536f('0x307')]['_tempMaxNearGroundPolarAngle'];},'toggleTileLayer':function(_0x5dc7f0){_0x44a2bc&&(_0x44a2bc[_0x536f('0xf5b')][_0x536f('0x356')][_0x536f('0x36c')]=!!_0x5dc7f0,esmap[_0x536f('0x4e')][_0x536f('0x51a')][_0x536f('0x9d8')](_0x5dc7f0));},'setAlpha':function(_0x5dc7f0,_0xba8729){_0x536f('0x14')!=typeof _0x5dc7f0&&_0x536f('0x14')!=typeof _0xba8729||_0x44a2bc&&(_0x5dc7f0<0x1?(_0x44a2bc[_0x536f('0xfaa')]=!0x0,_0x44a2bc[_0x536f('0xfab')]=!0x0,_0x44a2bc['_alpha']=_0x5dc7f0,_0x44a2bc[_0x536f('0xfac')]=_0xba8729):_0x44a2bc[_0x536f('0xfab')]=!0x1);},'pitchAnimate':function(_0xba8729){return new _0x16ce76[(_0x536f('0x6'))](function(_0x5dc7f0){_0x3ed95b[_0x536f('0x307')]['pitchAnimate'](THREE[_0x536f('0x19')][_0x536f('0x322')](_0xba8729[_0x536f('0x1ed')]),_0xba8729['time'],_0x5dc7f0());});},'updateTileColorCorrection':function(_0xba8729){_0x44a2bc&&_0x44a2bc[_0x536f('0xf5b')]&&_0xb3cdde(_0x44a2bc['tileLayer'][_0x536f('0x356')],function(_0x5dc7f0){null!=_0xba8729[_0x536f('0xf99')]&&(_0x5dc7f0[_0x536f('0x168')]['colorBCHS']['value']['x']=+_0xba8729['brightness']),null!=_0xba8729[_0x536f('0xf9a')]&&(_0x5dc7f0[_0x536f('0x168')]['colorBCHS'][_0x536f('0x10')]['y']=+_0xba8729[_0x536f('0xf9a')]),null!=_0xba8729[_0x536f('0xf9b')]&&(_0x5dc7f0[_0x536f('0x168')]['colorBCHS']['value']['z']=+_0xba8729[_0x536f('0xf9b')]),null!=_0xba8729[_0x536f('0xf9c')]&&(_0x5dc7f0[_0x536f('0x168')][_0x536f('0xfad')][_0x536f('0x10')]['w']=+_0xba8729['saturation']);});},'updateTileColorGrayFilter':function(_0x5dc7f0){var _0xba8729;_0x44a2bc&&_0x44a2bc[_0x536f('0xf5b')]&&_0x5dc7f0[_0x536f('0xfae')]&&_0x5dc7f0[_0x536f('0xaaa')]&&(_0xba8729=(0x0,_0x28e1af[_0x536f('0xf96')])(_0x5dc7f0[_0x536f('0xfae')],_0x5dc7f0['colors']),_0xb3cdde(_0x44a2bc[_0x536f('0xf5b')]['object3d'],function(_0x5dc7f0){_0x5dc7f0['uniforms']['colorMapping']['value']=_0xba8729;}));},'updateMaskExtent':function(_0x5dc7f0){var _0xba8729,_0x5051a6,_0x14ded6;0x0<_0x5dc7f0['points'][_0x536f('0xd')]&&(_0xba8729=esmap['ESMapUtil'][_0x536f('0xfaf')](_0x5dc7f0[_0x536f('0x27d')]),_0x14ded6=_0x3ed95b[_0x536f('0x1d')]({'x':_0xba8729[_0x536f('0x84d')],'y':_0xba8729[_0x536f('0x850')]}),_0x5051a6=_0x3ed95b[_0x536f('0x1d')]({'x':_0xba8729[_0x536f('0x84f')],'y':_0xba8729[_0x536f('0x84e')]}),_0x4ebbab[_0x536f('0x1b')](_0x5051a6['x'],_0x14ded6['x'],_0x5051a6['z'],_0x14ded6['z']),_0x5051a6=(0x0,_0x28e1af['createPolygonMask'])(_0xba8729,_0x5dc7f0[_0x536f('0x27d')]),_0x570949[_0x536f('0x86b')]=_0x5051a6,_0x570949[_0x536f('0xfa')]=!0x0),_0x5dc7f0[_0x536f('0x21f')]&&(_0x14ded6=new THREE[(_0x536f('0x1b8'))]()[_0x536f('0x33d')](_0x5dc7f0[_0x536f('0x21f')]),_0x497de8[_0x536f('0x1b')](_0x14ded6['r'],_0x14ded6['g'],_0x14ded6['b'],0x1));}};},function(_0x623f2a,_0x1e0e96,_0x457a98){'use strict';Object[_0x536f('0x1')](_0x1e0e96,_0x536f('0x4'),{'value':!0x0});var _0x305ace=_0x1a9f01(_0x457a98(0x0));function _0x1a9f01(_0x623f2a){return _0x623f2a&&_0x623f2a[_0x536f('0x4')]?_0x623f2a:{'default':_0x623f2a};}function _0x582bbb(_0x623f2a){var _0x1e0e96=_0x623f2a[_0x536f('0x377')],_0x457a98=_0x623f2a[_0x536f('0xfb0')],_0x1a9f01=_0x623f2a[_0x536f('0xf5b')],_0x623f2a=_0x623f2a['callback'];(0x0,_0x305ace[_0x536f('0x6')])(this,_0x582bbb),this['container']=_0x1e0e96,this[_0x536f('0x306')]=_0x457a98,this[_0x536f('0x379')]=_0x1a9f01,this[_0x536f('0xfb1')]=this[_0x536f('0xfb2')][_0x536f('0x7')](this),this[_0x536f('0xfb3')]=this[_0x536f('0xfb4')][_0x536f('0x7')](this),this['_mousemove']=this[_0x536f('0xfb5')][_0x536f('0x7')](this),this['_touchstart']=this['mouseDown'][_0x536f('0x7')](this),this[_0x536f('0xfb6')]=this[_0x536f('0xfb5')](this),this['_touchend']=this[_0x536f('0xfb4')][_0x536f('0x7')](this),this['isMouseMove']=!0x1,this[_0x536f('0xfb7')]=0x0,this[_0x536f('0x37c')]=_0x623f2a;}(0x0,_0x1a9f01(_0x457a98(0x1))[_0x536f('0x6')])(_0x582bbb,[{'key':'init','value':function(){this[_0x536f('0x377')][_0x536f('0x37e')](_0x536f('0xe9a'),this[_0x536f('0xfb1')],!0x1),this[_0x536f('0x377')][_0x536f('0x37e')](_0x536f('0xe9e'),this['_mouseup'],!0x1),this['container'][_0x536f('0x37e')]('mousemove',this['_mousemove'],!0x1),this[_0x536f('0x377')][_0x536f('0x37e')](_0x536f('0xe9b'),this['_touchstart'],!0x1),this[_0x536f('0x377')][_0x536f('0x37e')]('touchend',this[_0x536f('0xfb8')],!0x1),this['container'][_0x536f('0x37e')](_0x536f('0xe9c'),this[_0x536f('0xfb6')],!0x1);}},{'key':_0x536f('0xcd'),'value':function(){this[_0x536f('0x377')][_0x536f('0x380')](_0x536f('0xe9a'),this[_0x536f('0xfb1')],!0x1),this[_0x536f('0x377')][_0x536f('0x380')](_0x536f('0xe9e'),this[_0x536f('0xfb3')],!0x1),this[_0x536f('0x377')][_0x536f('0x380')](_0x536f('0xe9d'),this[_0x536f('0xfb9')],!0x1),this[_0x536f('0x377')][_0x536f('0x380')](_0x536f('0xe9b'),this[_0x536f('0xfba')],!0x1),this[_0x536f('0x377')][_0x536f('0x380')](_0x536f('0xeb7'),this[_0x536f('0xfb8')],!0x1),this['container'][_0x536f('0x380')]('touchmove',this[_0x536f('0xfb6')],!0x1);}},{'key':'getOffsetX','value':function(_0x623f2a){var _0x623f2a=_0x623f2a||window[_0x536f('0x382')],_0x1e0e96=_0x623f2a[_0x536f('0x77')]||_0x623f2a[_0x536f('0x383')];return _0x623f2a[_0x536f('0x384')]||(_0x1e0e96=_0x1e0e96[_0x536f('0x385')](),_0x623f2a[_0x536f('0x386')]-_0x1e0e96[_0x536f('0x38a')]);}},{'key':_0x536f('0x387'),'value':function(_0x623f2a){var _0x623f2a=_0x623f2a||window[_0x536f('0x382')],_0x1e0e96=_0x623f2a[_0x536f('0x77')]||_0x623f2a[_0x536f('0x383')];return _0x623f2a[_0x536f('0x388')]||(_0x1e0e96=_0x1e0e96[_0x536f('0x385')](),_0x623f2a[_0x536f('0x389')]-_0x1e0e96[_0x536f('0x38a')]);}},{'key':_0x536f('0xfb2'),'value':function(){this['isMouseMove']=!0x1,this['moveCount']=0x0;}},{'key':_0x536f('0xfb5'),'value':function(){this[_0x536f('0xfbb')]=!0x0,this[_0x536f('0xfb7')]++;}},{'key':_0x536f('0xfb4'),'value':function(_0x623f2a){var _0x1e0e96;this[_0x536f('0xfbb')]&&0x1<this['moveCount']||(_0x1e0e96=this[_0x536f('0x381')](_0x623f2a),_0x623f2a=this[_0x536f('0x387')](_0x623f2a),0x0<(_0x1e0e96=this[_0x536f('0x306')][_0x536f('0x38b')]({'x':_0x1e0e96,'y':_0x623f2a},this[_0x536f('0x379')]))[_0x536f('0xd')]&&this[_0x536f('0x37c')]&&(_0x1e0e96[0x0][_0x536f('0x362')]['y']=0x0,this[_0x536f('0x37c')](_0x1e0e96[0x0][_0x536f('0x362')])));}}]),_0x1e0e96[_0x536f('0x6')]=_0x582bbb;},function(_0x10548a,_0x53ebbb,_0x41e80a){'use strict';Object[_0x536f('0x1')](_0x53ebbb,'__esModule',{'value':!0x0});var _0x277962={'fogColor':new THREE[(_0x536f('0x1b8'))](0xc8d4e4),'skyColor':new THREE[(_0x536f('0x1b8'))](0xc5dafb),'groundColor':new THREE['Color'](0xc8d4e4),'isChangeDefaultTheme':!0x1};_0x53ebbb[_0x536f('0xf90')]=_0x277962,_0x53ebbb[_0x536f('0xf96')]=function(_0x10548a,_0x53ebbb){for(var _0x41e80a=document[_0x536f('0x93')](_0x536f('0x411')),_0x41e80a=(_0x41e80a[_0x536f('0x366')]=0x100,_0x41e80a[_0x536f('0x339')]=0x100,_0x41e80a['getContext']('2d')),_0x277962=_0x41e80a[_0x536f('0x716')](0x0,0x0,0x100,0x0),_0x382ff0=0x0,_0x35e712=_0x10548a[_0x536f('0xd')];_0x382ff0<_0x35e712;_0x382ff0++)_0x277962[_0x536f('0x413')](_0x10548a[_0x382ff0],_0x53ebbb[_0x382ff0]);_0x41e80a['fillStyle']=_0x277962,_0x41e80a[_0x536f('0x718')](0x0,0x0,0x100,0x1);_0x41e80a=new Uint8Array(_0x41e80a[_0x536f('0x50c')](0x0,0x0,0x100,0x1)[_0x536f('0x2c9')][_0x536f('0x3b2')]),_0x41e80a=new THREE['DataTexture'](_0x41e80a,0x100,0x1);return _0x41e80a['magFilter']=_0x41e80a['minFilter']=THREE[_0x536f('0x432')],_0x41e80a[_0x536f('0xfa')]=!0x0,_0x41e80a;},_0x53ebbb[_0x536f('0xfbc')]=function(_0x10548a,_0x53ebbb){var _0x41e80a,_0x277962,_0x425f10=Math[_0x536f('0x7c')](_0x10548a[_0x536f('0x84f')]-_0x10548a[_0x536f('0x84d')]),_0x45aeff=Math[_0x536f('0x7c')](_0x10548a[_0x536f('0x850')]-_0x10548a['minY']),_0x2b116e=(_0x277962=_0x45aeff,(0x400<(_0x41e80a=_0x425f10)||0x400<_0x45aeff)&&(0x1<(_0x2b116e=_0x425f10/_0x45aeff)?_0x277962=(_0x41e80a=0x400)/_0x2b116e:_0x41e80a=(_0x277962=0x400)*_0x2b116e),{'width':Math[_0x536f('0x1c0')](_0x41e80a),'height':Math['round'](_0x277962)}),_0x29c4cb=document['createElement'](_0x536f('0x411')),_0x1351a6=(_0x29c4cb[_0x536f('0x366')]=_0x2b116e[_0x536f('0x366')],_0x29c4cb[_0x536f('0x339')]=_0x2b116e['height'],_0x29c4cb[_0x536f('0x412')]('2d')),_0x4bf6cc=_0x10548a[_0x536f('0x84d')],_0x2e8f3e=_0x10548a[_0x536f('0x850')];_0x1351a6['save'](),_0x1351a6[_0x536f('0x71c')](_0x29c4cb['width'],0x0),_0x1351a6[_0x536f('0x1dc')](-0x1,0x1),_0x1351a6[_0x536f('0x6ea')](),_0x1351a6[_0x536f('0x579')]((_0x53ebbb[0x0]['x']-_0x4bf6cc)/_0x425f10*_0x29c4cb['width'],(_0x2e8f3e-_0x53ebbb[0x0]['y'])/_0x45aeff*_0x29c4cb['height']);for(var _0x45a5f1=0x1;_0x45a5f1<_0x53ebbb[_0x536f('0xd')];_0x45a5f1++)_0x1351a6[_0x536f('0x6ce')]((_0x53ebbb[_0x45a5f1]['x']-_0x4bf6cc)/_0x425f10*_0x29c4cb[_0x536f('0x366')],(_0x2e8f3e-_0x53ebbb[_0x45a5f1]['y'])/_0x45aeff*_0x29c4cb[_0x536f('0x339')]);return _0x1351a6[_0x536f('0xfbd')](),_0x1351a6[_0x536f('0x415')]=_0x536f('0xfbe'),_0x1351a6['fill'](),_0x1351a6[_0x536f('0xfbf')](),_0x29c4cb;};}]);

